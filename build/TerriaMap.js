!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n=window.webpackJsonp;window.webpackJsonp=function(t,r,o){for(var a,s,u=0,l=[];u<t.length;u++)s=t[u],i[s]&&l.push(i[s][0]),i[s]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);for(n&&n(t,r,o);l.length;)l.shift()()};var r={},i={3:0};t.e=function(e){function n(){s.onerror=s.onload=null,clearTimeout(u);var t=i[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),i[e]=void 0)}var r=i[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var o=new Promise(function(t,n){r=i[e]=[t,n]});r[2]=o;var a=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,t.nc&&s.setAttribute("nonce",t.nc),s.src=t.p+""+e+".TerriaMap.js";var u=setTimeout(n,12e4);return s.onerror=s.onload=n,a.appendChild(s),o},t.m=e,t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="build/",t.oe=function(e){throw console.error(e),e},t(t.s=809)}([function(e,t,n){var r;void 0!==(r=function(){"use strict";function e(e){return void 0!==e&&null!==e}return e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";function t(e,t){return void 0!==e&&null!==e?e:t}return t.EMPTY_OBJECT=e({}),t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";var t=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(e){return!1}}(),n=Object.defineProperties;return t&&e(n)||(n=function(e){return e}),n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";function t(e){this.name="DeveloperError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}return e(Object.create)&&(t.prototype=Object.create(Error.prototype),t.prototype.constructor=t),t.prototype.toString=function(){var t=this.name+": "+this.message;return e(this.stack)&&(t+="\n"+this.stack.toString()),t},t.throwInstantiationError=function(){throw new t("This function defines an interface and should not be called directly.")},t}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";e.exports=n(1342)},function(e,t,n){e.exports=n(1343)()},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";var t=Object.freeze;return e(t)||(t=function(e){return e}),t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;/**
  @license
  when.js - https-colon-slashslash github.com/cujojs/when

  MIT License (c) copyright B Cavalier & J Hann

 * A lightweight CommonJS Promises/A and when() implementation
 * when is part of the cujo.js family of libraries (http-colon-slashslash cujojs.com/)
 *
 * Licensed under the MIT License at:
 * http-colon-slashslash www.opensource.org/licenses/mit-license.php
 *
 * @version 1.7.1
 */
!function(i){"use strict";void 0!==(r=function(){function e(e,n,r,i){return t(e).then(n,r,i)}function t(e){var t,n;return e instanceof r?t=e:s(e)?(n=a(),e.then(function(e){n.resolve(e)},function(e){n.reject(e)},function(e){n.progress(e)}),t=n.promise):t=i(e),t}function n(t){return e(t,o)}function r(e){this.then=e}function i(e){return new r(function(n){try{return t(n?n(e):e)}catch(e){return o(e)}})}function o(e){return new r(function(n,r){try{return r?t(r(e)):o(e)}catch(e){return o(e)}})}function a(){function e(e,t,n){return d(e,t,n)}function n(e){return p(e)}function i(e){return p(o(e))}function s(e){return f(e)}var u,l,c,h,d,f,p;return l=new r(e),u={then:e,resolve:n,reject:i,progress:s,promise:l,resolver:{resolve:n,reject:i,progress:s}},c=[],h=[],d=function(e,t,n){var r,i;return r=a(),i="function"==typeof n?function(e){try{r.progress(n(e))}catch(e){r.progress(e)}}:function(e){r.progress(e)},c.push(function(n){n.then(e,t).then(r.resolve,r.reject,i)}),h.push(i),r.promise},f=function(e){return m(h,e),e},p=function(e){return e=t(e),d=e.then,p=t,f=_,m(c,e),h=c=b,e},u}function s(e){return e&&"function"==typeof e.then}function u(t,n,r,i,o){return g(2,arguments),e(t,function(t){function s(e){m(e)}function u(e){p(e)}var l,c,h,d,f,p,m,g,v,A;if(v=t.length>>>0,l=Math.max(0,Math.min(n,v)),h=[],c=v-l+1,d=[],f=a(),l)for(g=f.progress,m=function(e){d.push(e),--c||(p=m=_,f.reject(d))},p=function(e){h.push(e),--l||(p=m=_,f.resolve(h))},A=0;A<v;++A)A in t&&e(t[A],u,s,g);else f.resolve(h);return f.then(r,i,o)})}function l(e,t,n,r){function i(e){return t?t(e[0]):e[0]}return u(e,1,i,n,r)}function c(e,t,n,r){return g(1,arguments),d(e,v).then(t,n,r)}function h(){return d(arguments,v)}function d(t,n){return e(t,function(t){var r,i,o,s,u,l;if(o=i=t.length>>>0,r=[],l=a(),o)for(s=function(t,i){e(t,n).then(function(e){r[i]=e,--o||l.resolve(r)},l.reject)},u=0;u<i;u++)u in t?s(t[u],u):--o;else l.resolve(r);return l.promise})}function f(t,n){var r=y.call(arguments,1);return e(t,function(t){var i;return i=t.length,r[0]=function(t,r,o){return e(t,function(t){return e(r,function(e){return n(t,e,o,i)})})},A.apply(t,r)})}function p(t,n,r){var i=arguments.length>2;return e(t,function(e){return e=i?r:e,n.resolve(e),e},function(e){return n.reject(e),o(e)},n.progress)}function m(e,t){for(var n,r=0;n=e[r++];)n(t)}function g(e,t){for(var n,r=t.length;r>e;)if(null!=(n=t[--r])&&"function"!=typeof n)throw new Error("arg "+r+" must be a function")}function _(){}function v(e){return e}var A,y,b;return e.defer=a,e.resolve=t,e.reject=n,e.join=h,e.all=c,e.map=d,e.reduce=f,e.any=l,e.some=u,e.chain=p,e.isPromise=s,r.prototype={always:function(e,t){return this.then(e,e,t)},otherwise:function(e){return this.then(b,e)},yield:function(e){return this.then(function(){return e})},spread:function(e){return this.then(function(t){return c(t,function(t){return e.apply(b,t)})})}},y=[].slice,A=[].reduce||function(e){var t,n,r,i,o;if(o=0,t=Object(this),i=t.length>>>0,n=arguments,n.length<=1)for(;;){if(o in t){r=t[o++];break}if(++o>=i)throw new TypeError}else r=n[1];for(;o<i;++o)o in t&&(r=e(r,t[o],o,t));return r},e}.call(t,n,t,e))&&(e.exports=r)}(n(462))},function(e,t,n){"use strict";var r=n(4),i=n(1345);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},function(e,t,n){var r,i;r=[n(855),n(12),n(1),n(0),n(3)],void 0!==(i=function(e,t,n,r,i){"use strict";var o={};o.EPSILON1=.1,o.EPSILON2=.01,o.EPSILON3=.001,o.EPSILON4=1e-4,o.EPSILON5=1e-5,o.EPSILON6=1e-6,o.EPSILON7=1e-7,o.EPSILON8=1e-8,o.EPSILON9=1e-9,o.EPSILON10=1e-10,o.EPSILON11=1e-11,o.EPSILON12=1e-12,o.EPSILON13=1e-13,o.EPSILON14=1e-14,o.EPSILON15=1e-15,o.EPSILON16=1e-16,o.EPSILON17=1e-17,o.EPSILON18=1e-18,o.EPSILON19=1e-19,o.EPSILON20=1e-20,o.EPSILON21=1e-21,o.GRAVITATIONALPARAMETER=3986004418e5,o.SOLAR_RADIUS=6955e5,o.LUNAR_RADIUS=1737400,o.SIXTY_FOUR_KILOBYTES=65536,o.sign=n(Math.sign,function(e){return e=+e,0===e||e!==e?e:e>0?1:-1}),o.signNotZero=function(e){return e<0?-1:1},o.toSNorm=function(e,t){return t=n(t,255),Math.round((.5*o.clamp(e,-1,1)+.5)*t)},o.fromSNorm=function(e,t){return t=n(t,255),o.clamp(e,0,t)/t*2-1},o.sinh=n(Math.sinh,function(e){return(Math.exp(e)-Math.exp(-e))/2}),o.cosh=n(Math.cosh,function(e){return(Math.exp(e)+Math.exp(-e))/2}),o.lerp=function(e,t,n){return(1-n)*e+n*t},o.PI=Math.PI,o.ONE_OVER_PI=1/Math.PI,o.PI_OVER_TWO=Math.PI/2,o.PI_OVER_THREE=Math.PI/3,o.PI_OVER_FOUR=Math.PI/4,o.PI_OVER_SIX=Math.PI/6,o.THREE_PI_OVER_TWO=3*Math.PI/2,o.TWO_PI=2*Math.PI,o.ONE_OVER_TWO_PI=1/(2*Math.PI),o.RADIANS_PER_DEGREE=Math.PI/180,o.DEGREES_PER_RADIAN=180/Math.PI,o.RADIANS_PER_ARCSECOND=o.RADIANS_PER_DEGREE/3600,o.toRadians=function(e){return e*o.RADIANS_PER_DEGREE},o.toDegrees=function(e){return e*o.DEGREES_PER_RADIAN},o.convertLongitudeRange=function(e){var t=o.TWO_PI,n=e-Math.floor(e/t)*t;return n<-Math.PI?n+t:n>=Math.PI?n-t:n},o.clampToLatitudeRange=function(e){return o.clamp(e,-1*o.PI_OVER_TWO,o.PI_OVER_TWO)},o.negativePiToPi=function(e){return o.zeroToTwoPi(e+o.PI)-o.PI},o.zeroToTwoPi=function(e){var t=o.mod(e,o.TWO_PI);return Math.abs(t)<o.EPSILON14&&Math.abs(e)>o.EPSILON14?o.TWO_PI:t},o.mod=function(e,t){return(e%t+t)%t},o.equalsEpsilon=function(e,t,r,i){i=n(i,r);var o=Math.abs(e-t);return o<=i||o<=r*Math.max(Math.abs(e),Math.abs(t))};var a=[1];o.factorial=function(e){var t=a.length;if(e>=t)for(var n=a[t-1],r=t;r<=e;r++)a.push(n*r);return a[e]},o.incrementWrap=function(e,t,r){return r=n(r,0),++e,e>t&&(e=r),e},o.isPowerOfTwo=function(e){return 0!==e&&0==(e&e-1)},o.nextPowerOfTwo=function(e){return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},o.clamp=function(e,t,n){return e<t?t:e>n?n:e};var s=new e;return o.setRandomNumberSeed=function(t){s=new e(t)},o.nextRandomNumber=function(){return s.random()},o.randomBetween=function(e,t){return o.nextRandomNumber()*(t-e)+e},o.acosClamped=function(e){return Math.acos(o.clamp(e,-1,1))},o.asinClamped=function(e){return Math.asin(o.clamp(e,-1,1))},o.chordLength=function(e,t){return 2*t*Math.sin(.5*e)},o.logBase=function(e,t){return Math.log(e)/Math.log(t)},o.cbrt=n(Math.cbrt,function(e){var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t}),o.log2=n(Math.log2,function(e){return Math.log(e)*Math.LOG2E}),o.fog=function(e,t){var n=e*t;return 1-Math.exp(-n*n)},o.fastApproximateAtan=function(e){return e*(-.1784*Math.abs(e)-.0663*e*e+1.0301)},o.fastApproximateAtan2=function(e,t){var n,r,i=Math.abs(e);n=Math.abs(t),r=Math.max(i,n),n=Math.min(i,n);var a=n/r;return i=o.fastApproximateAtan(a),i=Math.abs(t)>Math.abs(e)?o.PI_OVER_TWO-i:i,i=e<0?o.PI-i:i,i=t<0?-i:i},o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(3),n(6),n(9)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e,n,r){this.x=t(e,0),this.y=t(n,0),this.z=t(r,0)}a.fromSpherical=function(e,r){n(r)||(r=new a);var i=e.clock,o=e.cone,s=t(e.magnitude,1),u=s*Math.sin(o);return r.x=u*Math.cos(i),r.y=u*Math.sin(i),r.z=s*Math.cos(o),r},a.fromElements=function(e,t,r,i){return n(i)?(i.x=e,i.y=t,i.z=r,i):new a(e,t,r)},a.clone=function(e,t){if(n(e))return n(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new a(e.x,e.y,e.z)},a.fromCartesian4=a.clone,a.packedLength=3,a.pack=function(e,n,r){return r=t(r,0),n[r++]=e.x,n[r++]=e.y,n[r]=e.z,n},a.unpack=function(e,r,i){return r=t(r,0),n(i)||(i=new a),i.x=e[r++],i.y=e[r++],i.z=e[r],i},a.packArray=function(e,t){var r=e.length;n(t)?t.length=3*r:t=new Array(3*r);for(var i=0;i<r;++i)a.pack(e[i],t,3*i);return t},a.unpackArray=function(e,t){var r=e.length;n(t)?t.length=r/3:t=new Array(r/3);for(var i=0;i<r;i+=3){var o=i/3;t[o]=a.unpack(e,i,t[o])}return t},a.fromArray=a.unpack,a.maximumComponent=function(e){return Math.max(e.x,e.y,e.z)},a.minimumComponent=function(e){return Math.min(e.x,e.y,e.z)},a.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n},a.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n},a.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var s=new a;a.distance=function(e,t){return a.subtract(e,t,s),a.magnitude(s)},a.distanceSquared=function(e,t){return a.subtract(e,t,s),a.magnitudeSquared(s)},a.normalize=function(e,t){var n=a.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t},a.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},a.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n},a.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n},a.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n},a.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n},a.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n},a.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n},a.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t},a.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};var u=new a;a.lerp=function(e,t,n,r){return a.multiplyByScalar(t,n,u),r=a.multiplyByScalar(e,1-n,r),a.add(u,r,r)};var l=new a,c=new a;a.angleBetween=function(e,t){a.normalize(e,l),a.normalize(t,c);var n=a.dot(l,c),r=a.magnitude(a.cross(l,c,l));return Math.atan2(r,n)};var h=new a;a.mostOrthogonalAxis=function(e,t){var n=a.normalize(e,h);return a.abs(n,n),t=n.x<=n.y?n.x<=n.z?a.clone(a.UNIT_X,t):a.clone(a.UNIT_Z,t):n.y<=n.z?a.clone(a.UNIT_Y,t):a.clone(a.UNIT_Z,t)},a.projectVector=function(e,t,n){var r=a.dot(e,t)/a.dot(t,t);return a.multiplyByScalar(t,r,n)},a.equals=function(e,t){return e===t||n(e)&&n(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},a.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]},a.equalsEpsilon=function(e,t,r,i){return e===t||n(e)&&n(t)&&o.equalsEpsilon(e.x,t.x,r,i)&&o.equalsEpsilon(e.y,t.y,r,i)&&o.equalsEpsilon(e.z,t.z,r,i)},a.cross=function(e,t,n){var r=e.x,i=e.y,o=e.z,a=t.x,s=t.y,u=t.z,l=i*u-o*s,c=o*a-r*u,h=r*s-i*a;return n.x=l,n.y=c,n.z=h,n},a.midpoint=function(e,t,n){return n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y),n.z=.5*(e.z+t.z),n},a.fromDegrees=function(e,t,n,r,i){return e=o.toRadians(e),t=o.toRadians(t),a.fromRadians(e,t,n,r,i)};var d=new a,f=new a,p=new a(40680631590769,40680631590769,40408299984661.445);return a.fromRadians=function(e,r,i,o,s){i=t(i,0);var u=n(o)?o.radiiSquared:p,l=Math.cos(r);d.x=l*Math.cos(e),d.y=l*Math.sin(e),d.z=Math.sin(r),d=a.normalize(d,d),a.multiplyComponents(u,d,f);var c=Math.sqrt(a.dot(d,f));return f=a.divideByScalar(f,c,f),d=a.multiplyByScalar(d,i,d),n(s)||(s=new a),a.add(f,d,s)},a.fromDegreesArray=function(e,t,r){var i=e.length;n(r)?r.length=i/2:r=new Array(i/2);for(var o=0;o<i;o+=2){var s=e[o],u=e[o+1],l=o/2;r[l]=a.fromDegrees(s,u,0,t,r[l])}return r},a.fromRadiansArray=function(e,t,r){var i=e.length;n(r)?r.length=i/2:r=new Array(i/2);for(var o=0;o<i;o+=2){var s=e[o],u=e[o+1],l=o/2;r[l]=a.fromRadians(s,u,0,t,r[l])}return r},a.fromDegreesArrayHeights=function(e,t,r){var i=e.length;n(r)?r.length=i/3:r=new Array(i/3);for(var o=0;o<i;o+=3){var s=e[o],u=e[o+1],l=e[o+2],c=o/3;r[c]=a.fromDegrees(s,u,l,t,r[c])}return r},a.fromRadiansArrayHeights=function(e,t,r){var i=e.length;n(r)?r.length=i/3:r=new Array(i/3);for(var o=0;o<i;o+=3){var s=e[o],u=e[o+1],l=e[o+2],c=o/3;r[c]=a.fromRadians(s,u,l,t,r[c])}return r},a.ZERO=i(new a(0,0,0)),a.UNIT_X=i(new a(1,0,0)),a.UNIT_Y=i(new a(0,1,0)),a.UNIT_Z=i(new a(0,0,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t,n){return a.equalsEpsilon(this,e,t,n)},a.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if((0,a.default)(e.__observeModelChangeSubscriptions)){for(var t=0;t<e.__observeModelChangeSubscriptions.length;++t)e.__observeModelChangeSubscriptions[t].dispose();e.__observeModelChangeSubscriptions=void 0}}var o=n(0),a=r(o),s=n(13),u=r(s),l=n(1618),c=r(l),h={componentWillMount:function(){this.__observeModelChangeSubscriptions=void 0;var e=this.render;this.render=function(){var t=this,n=!0;return i(t),u.default.ignoreDependencies(function(){function r(){i(t),s||(s=!0,t.forceUpdate())}var o=u.default.computed(function(){if(n)return n=!1,e.call(t)}).extend({notify:"always"});t.__observeModelChangeSubscriptions=[];var s=!1;for(var l in t.props)t.props.hasOwnProperty(l)&&(0,a.default)(t.props[l])&&(0,a.default)(t.props[l].__knockoutSubscribable)&&t.__observeModelChangeSubscriptions.push(t.props[l].__knockoutSubscribable.subscribe(r));return t.__observeModelChangeSubscriptions.push(o.subscribe(r)),o()})}},componentWillUnmount:function(){i(this)},shouldComponentUpdate:c.default.shouldComponentUpdate};e.exports=h},function(e,t,n){var r,i;r=[n(0),n(3)],void 0!==(i=function(e,t){"use strict";function n(e){return e+" is required, actual value was undefined"}function r(e,t,n){return"Expected "+n+" to be typeof "+t+", actual typeof was "+e}var i={};return i.typeOf={},i.defined=function(r,i){if(!e(i))throw new t(n(r))},i.typeOf.func=function(e,n){if("function"!=typeof n)throw new t(r(typeof n,"function",e))},i.typeOf.string=function(e,n){if("string"!=typeof n)throw new t(r(typeof n,"string",e))},i.typeOf.number=function(e,n){if("number"!=typeof n)throw new t(r(typeof n,"number",e))},i.typeOf.number.lessThan=function(e,n,r){if(i.typeOf.number(e,n),n>=r)throw new t("Expected "+e+" to be less than "+r+", actual value was "+n)},i.typeOf.number.lessThanOrEquals=function(e,n,r){if(i.typeOf.number(e,n),n>r)throw new t("Expected "+e+" to be less than or equal to "+r+", actual value was "+n)},i.typeOf.number.greaterThan=function(e,n,r){if(i.typeOf.number(e,n),n<=r)throw new t("Expected "+e+" to be greater than "+r+", actual value was "+n)},i.typeOf.number.greaterThanOrEquals=function(e,n,r){if(i.typeOf.number(e,n),n<r)throw new t("Expected "+e+" to be greater than or equal to"+r+", actual value was "+n)},i.typeOf.object=function(e,n){if("object"!=typeof n)throw new t(r(typeof n,"object",e))},i.typeOf.bool=function(e,n){if("boolean"!=typeof n)throw new t(r(typeof n,"boolean",e))},i.typeOf.number.equals=function(e,n,r,o){if(i.typeOf.number(e,r),i.typeOf.number(n,o),r!==o)throw new t(e+" must be equal to "+n+", the actual values are "+r+" and "+o)},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(852),n(853),n(854)],void 0!==(i=function(e,t,n){"use strict";return t.attachToKo(e),n.register(e),e}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=function(e,t){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};e.exports=r},function(e,t,n){var r,i;r=[n(12),n(0),n(2)],void 0!==(i=function(e,t,n){"use strict";function r(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}function i(e,t){return t-e}return n(r.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),r.prototype.addEventListener=function(e,t){this._listeners.push(e),this._scopes.push(t);var n=this;return function(){n.removeEventListener(e,t)}},r.prototype.removeEventListener=function(e,t){for(var n=this._listeners,r=this._scopes,i=-1,o=0;o<n.length;o++)if(n[o]===e&&r[o]===t){i=o;break}return-1!==i&&(this._insideRaiseEvent?(this._toRemove.push(i),n[i]=void 0,r[i]=void 0):(n.splice(i,1),r.splice(i,1)),!0)},r.prototype.raiseEvent=function(){this._insideRaiseEvent=!0;var e,n=this._listeners,r=this._scopes,o=n.length;for(e=0;e<o;e++){var a=n[e];t(a)&&n[e].apply(r[e],arguments)}var s=this._toRemove;if((o=s.length)>0){for(s.sort(i),e=0;e<o;e++){var u=s[e];n.splice(u,1),r.splice(u,1)}s.length=0}this._insideRaiseEvent=!1},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(24),n(12),n(1),n(0),n(2),n(23),n(6),n(9)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e,t,r,i){this.west=n(e,0),this.south=n(t,0),this.east=n(r,0),this.north=n(i,0)}i(u.prototype,{width:{get:function(){return u.computeWidth(this)}},height:{get:function(){return u.computeHeight(this)}}}),u.packedLength=4,u.pack=function(e,t,r){return r=n(r,0),t[r++]=e.west,t[r++]=e.south,t[r++]=e.east,t[r]=e.north,t},u.unpack=function(e,t,i){return t=n(t,0),r(i)||(i=new u),i.west=e[t++],i.south=e[t++],i.east=e[t++],i.north=e[t],i},u.computeWidth=function(e){var t=e.east,n=e.west;return t<n&&(t+=s.TWO_PI),t-n},u.computeHeight=function(e){return e.north-e.south},u.fromDegrees=function(e,t,i,o,a){return e=s.toRadians(n(e,0)),t=s.toRadians(n(t,0)),i=s.toRadians(n(i,0)),o=s.toRadians(n(o,0)),r(a)?(a.west=e,a.south=t,a.east=i,a.north=o,a):new u(e,t,i,o)},u.fromRadians=function(e,t,i,o,a){return r(a)?(a.west=n(e,0),a.south=n(t,0),a.east=n(i,0),a.north=n(o,0),a):new u(e,t,i,o)},u.fromCartographicArray=function(e,t){for(var n=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=Number.MAX_VALUE,a=-Number.MAX_VALUE,l=Number.MAX_VALUE,c=-Number.MAX_VALUE,h=0,d=e.length;h<d;h++){var f=e[h];n=Math.min(n,f.longitude),i=Math.max(i,f.longitude),l=Math.min(l,f.latitude),c=Math.max(c,f.latitude);var p=f.longitude>=0?f.longitude:f.longitude+s.TWO_PI;o=Math.min(o,p),a=Math.max(a,p)}return i-n>a-o&&(n=o,i=a,i>s.PI&&(i-=s.TWO_PI),n>s.PI&&(n-=s.TWO_PI)),r(t)?(t.west=n,t.south=l,t.east=i,t.north=c,t):new u(n,l,i,c)},u.fromCartesianArray=function(e,t,i){t=n(t,o.WGS84);for(var a=Number.MAX_VALUE,l=-Number.MAX_VALUE,c=Number.MAX_VALUE,h=-Number.MAX_VALUE,d=Number.MAX_VALUE,f=-Number.MAX_VALUE,p=0,m=e.length;p<m;p++){var g=t.cartesianToCartographic(e[p]);a=Math.min(a,g.longitude),l=Math.max(l,g.longitude),d=Math.min(d,g.latitude),f=Math.max(f,g.latitude);var _=g.longitude>=0?g.longitude:g.longitude+s.TWO_PI;c=Math.min(c,_),h=Math.max(h,_)}return l-a>h-c&&(a=c,l=h,l>s.PI&&(l-=s.TWO_PI),a>s.PI&&(a-=s.TWO_PI)),r(i)?(i.west=a,i.south=d,i.east=l,i.north=f,i):new u(a,d,l,f)},u.clone=function(e,t){if(r(e))return r(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t):new u(e.west,e.south,e.east,e.north)},u.equalsEpsilon=function(e,t,n){return e===t||r(e)&&r(t)&&Math.abs(e.west-t.west)<=n&&Math.abs(e.south-t.south)<=n&&Math.abs(e.east-t.east)<=n&&Math.abs(e.north-t.north)<=n},u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.equals=function(e,t){return e===t||r(e)&&r(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},u.prototype.equalsEpsilon=function(e,t){return u.equalsEpsilon(this,e,t)},u.validate=function(e){},u.southwest=function(t,n){return r(n)?(n.longitude=t.west,n.latitude=t.south,n.height=0,n):new e(t.west,t.south)},u.northwest=function(t,n){return r(n)?(n.longitude=t.west,n.latitude=t.north,n.height=0,n):new e(t.west,t.north)},u.northeast=function(t,n){return r(n)?(n.longitude=t.east,n.latitude=t.north,n.height=0,n):new e(t.east,t.north)},u.southeast=function(t,n){return r(n)?(n.longitude=t.east,n.latitude=t.south,n.height=0,n):new e(t.east,t.south)},u.center=function(t,n){var i=t.east,o=t.west;i<o&&(i+=s.TWO_PI);var a=s.negativePiToPi(.5*(o+i)),u=.5*(t.south+t.north);return r(n)?(n.longitude=a,n.latitude=u,n.height=0,n):new e(a,u)},u.intersection=function(e,t,n){var i=e.east,o=e.west,a=t.east,l=t.west;i<o&&a>0?i+=s.TWO_PI:a<l&&i>0&&(a+=s.TWO_PI),i<o&&l<0?l+=s.TWO_PI:a<l&&o<0&&(o+=s.TWO_PI);var c=s.negativePiToPi(Math.max(o,l)),h=s.negativePiToPi(Math.min(i,a));if(!((e.west<e.east||t.west<t.east)&&h<=c)){var d=Math.max(e.south,t.south),f=Math.min(e.north,t.north);if(!(d>=f))return r(n)?(n.west=c,n.south=d,n.east=h,n.north=f,n):new u(c,d,h,f)}},u.simpleIntersection=function(e,t,n){var i=Math.max(e.west,t.west),o=Math.max(e.south,t.south),a=Math.min(e.east,t.east),s=Math.min(e.north,t.north);if(!(o>=s||i>=a))return r(n)?(n.west=i,n.south=o,n.east=a,n.north=s,n):new u(i,o,a,s)},u.union=function(e,t,n){r(n)||(n=new u);var i=e.east,o=e.west,a=t.east,l=t.west;i<o&&a>0?i+=s.TWO_PI:a<l&&i>0&&(a+=s.TWO_PI),i<o&&l<0?l+=s.TWO_PI:a<l&&o<0&&(o+=s.TWO_PI);var c=s.convertLongitudeRange(Math.min(o,l)),h=s.convertLongitudeRange(Math.max(i,a));return n.west=c,n.south=Math.min(e.south,t.south),n.east=h,n.north=Math.max(e.north,t.north),n},u.expand=function(e,t,n){return r(n)||(n=new u),n.west=Math.min(e.west,t.longitude),n.south=Math.min(e.south,t.latitude),n.east=Math.max(e.east,t.longitude),n.north=Math.max(e.north,t.latitude),n},u.contains=function(e,t){var n=t.longitude,r=t.latitude,i=e.west,o=e.east;return o<i&&(o+=s.TWO_PI,n<0&&(n+=s.TWO_PI)),(n>i||s.equalsEpsilon(n,i,s.EPSILON14))&&(n<o||s.equalsEpsilon(n,o,s.EPSILON14))&&r>=e.south&&r<=e.north};var l=new e;return u.subsample=function(e,t,i,a){t=n(t,o.WGS84),i=n(i,0),r(a)||(a=[]);var c=0,h=e.north,d=e.south,f=e.east,p=e.west,m=l;m.height=i,m.longitude=p,m.latitude=h,a[c]=t.cartographicToCartesian(m,a[c]),c++,m.longitude=f,a[c]=t.cartographicToCartesian(m,a[c]),c++,m.latitude=d,a[c]=t.cartographicToCartesian(m,a[c]),c++,m.longitude=p,a[c]=t.cartographicToCartesian(m,a[c]),c++,m.latitude=h<0?h:d>0?d:0;for(var g=1;g<8;++g)m.longitude=-Math.PI+g*s.PI_OVER_TWO,u.contains(e,m)&&(a[c]=t.cartographicToCartesian(m,a[c]),c++);return 0===m.latitude&&(m.longitude=p,a[c]=t.cartographicToCartesian(m,a[c]),c++,m.longitude=f,a[c]=t.cartographicToCartesian(m,a[c]),c++),a.length=c,a},u.MAX_VALUE=a(new u(-Math.PI,-s.PI_OVER_TWO,Math.PI,s.PI_OVER_TWO)),u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(3),n(6),n(9)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e,n){this.x=t(e,0),this.y=t(n,0)}a.fromElements=function(e,t,r){return n(r)?(r.x=e,r.y=t,r):new a(e,t)},a.clone=function(e,t){if(n(e))return n(t)?(t.x=e.x,t.y=e.y,t):new a(e.x,e.y)},a.fromCartesian3=a.clone,a.fromCartesian4=a.clone,a.packedLength=2,a.pack=function(e,n,r){return r=t(r,0),n[r++]=e.x,n[r]=e.y,n},a.unpack=function(e,r,i){return r=t(r,0),n(i)||(i=new a),i.x=e[r++],i.y=e[r],i},a.packArray=function(e,t){var r=e.length;n(t)?t.length=2*r:t=new Array(2*r);for(var i=0;i<r;++i)a.pack(e[i],t,2*i);return t},a.unpackArray=function(e,t){var r=e.length;n(t)?t.length=r/2:t=new Array(r/2);for(var i=0;i<r;i+=2){var o=i/2;t[o]=a.unpack(e,i,t[o])}return t},a.fromArray=a.unpack,a.maximumComponent=function(e){return Math.max(e.x,e.y)},a.minimumComponent=function(e){return Math.min(e.x,e.y)},a.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n},a.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n},a.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var s=new a;a.distance=function(e,t){return a.subtract(e,t,s),a.magnitude(s)},a.distanceSquared=function(e,t){return a.subtract(e,t,s),a.magnitudeSquared(s)},a.normalize=function(e,t){var n=a.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t},a.dot=function(e,t){return e.x*t.x+e.y*t.y},a.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n},a.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n},a.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n},a.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n},a.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n},a.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n},a.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t},a.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};var u=new a;a.lerp=function(e,t,n,r){return a.multiplyByScalar(t,n,u),r=a.multiplyByScalar(e,1-n,r),a.add(u,r,r)};var l=new a,c=new a;a.angleBetween=function(e,t){return a.normalize(e,l),a.normalize(t,c),o.acosClamped(a.dot(l,c))};var h=new a;return a.mostOrthogonalAxis=function(e,t){var n=a.normalize(e,h);return a.abs(n,n),t=n.x<=n.y?a.clone(a.UNIT_X,t):a.clone(a.UNIT_Y,t)},a.equals=function(e,t){return e===t||n(e)&&n(t)&&e.x===t.x&&e.y===t.y},a.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]},a.equalsEpsilon=function(e,t,r,i){return e===t||n(e)&&n(t)&&o.equalsEpsilon(e.x,t.x,r,i)&&o.equalsEpsilon(e.y,t.y,r,i)},a.ZERO=i(new a(0,0)),a.UNIT_X=i(new a(1,0)),a.UNIT_Y=i(new a(0,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t,n){return a.equalsEpsilon(this,e,t,n)},a.prototype.toString=function(){return"("+this.x+", "+this.y+")"},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}var n=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};n.prototype.stringify=function(){return this.content},n.prototype.toString=function(){return this.stringify()},n.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var r=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},i=("undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,e(function(e,t){!function(t,n){e.exports=n()}(0,function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?o(t(n),n,r):n}function r(t,r,i){var a=t.slice();return r.forEach(function(r,s){void 0===a[s]?a[s]=n(r,i):e(r)?a[s]=o(t[s],r,i):-1===t.indexOf(r)&&a.push(n(r,i))}),a}function i(t,r,i){var a={};return e(t)&&Object.keys(t).forEach(function(e){a[e]=n(t[e],i)}),Object.keys(r).forEach(function(s){e(r[s])&&t[s]?a[s]=o(t[s],r[s],i):a[s]=n(r[s],i)}),a}function o(e,t,o){var a=Array.isArray(t),s=o||{arrayMerge:r},u=s.arrayMerge||r;return a?Array.isArray(e)?u(e,t,o):n(t,o):i(e,t,o)}return o.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return o(e,n,t)})},o})})),o=e(function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default}),a=function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")},s=o.svg,u=o.xlink,l={};l[s.name]=s.uri,l[u.name]=u.uri;var c=function(e,t){void 0===e&&(e="");var n=i(l,t||{});return"<svg "+a(n)+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return r(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(n)})}).call(t,n(48))},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function n(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map(function(e){e(n)}),(e["*"]||[]).map(function(e){e(t,n)})}}}function r(e,t){return x(e).reduce(function(e,n){if(!n.attributes)return e;var r=x(n.attributes),i=t?r.filter(t):r;return e.concat(i)},[])}function i(e){return e.replace(B,function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()})}function o(e,t,n){return x(e).forEach(function(e){var r=e.getAttribute(D);if(r&&0===r.indexOf(t)){var i=r.replace(t,n);e.setAttributeNS(P,D,i)}}),e}var a=("undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,e(function(e,t){!function(t,n){e.exports=n()}(0,function(){function e(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(e){return Array.isArray(e)?[]:{}}function n(n,r){return r&&!0===r.clone&&e(n)?o(t(n),n,r):n}function r(t,r,i){var a=t.slice();return r.forEach(function(r,s){void 0===a[s]?a[s]=n(r,i):e(r)?a[s]=o(t[s],r,i):-1===t.indexOf(r)&&a.push(n(r,i))}),a}function i(t,r,i){var a={};return e(t)&&Object.keys(t).forEach(function(e){a[e]=n(t[e],i)}),Object.keys(r).forEach(function(s){e(r[s])&&t[s]?a[s]=o(t[s],r[s],i):a[s]=n(r[s],i)}),a}function o(e,t,o){var a=Array.isArray(t),s=o||{arrayMerge:r},u=s.arrayMerge||r;return a?Array.isArray(e)?u(e,t,o):n(t,o):i(e,t,o)}return o.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return o(e,n,t)})},o})})),s=e(function(e,t){var n={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}};t.default=n,e.exports=t.default}),u=function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")},l=s.svg,c=s.xlink,h={};h[l.name]=l.uri,h[c.name]=c.uri;var d,f=function(e,t){void 0===e&&(e="");var n=a(h,t||{});return"<svg "+u(n)+">"+e+"</svg>"},p=s.svg,m=s.xlink,g={attrs:(d={style:["position: absolute","width: 0","height: 0"].join("; ")},d[p.name]=p.uri,d[m.name]=m.uri,d)},_=function(e){this.config=a(g,e||{}),this.symbols=[]};_.prototype.add=function(e){var t=this,n=t.symbols,r=this.find(e.id);return r?(n[n.indexOf(r)]=e,!1):(n.push(e),!0)},_.prototype.remove=function(e){var t=this,n=t.symbols,r=this.find(e);return!!r&&(n.splice(n.indexOf(r),1),r.destroy(),!0)},_.prototype.find=function(e){return this.symbols.filter(function(t){return t.id===e})[0]||null},_.prototype.has=function(e){return null!==this.find(e)},_.prototype.stringify=function(){var e=this.config,t=e.attrs,n=this.symbols.map(function(e){return e.stringify()}).join("");return f(n,t)},_.prototype.toString=function(){return this.stringify()},_.prototype.destroy=function(){this.symbols.forEach(function(e){return e.destroy()})};var v=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};v.prototype.stringify=function(){return this.content},v.prototype.toString=function(){return this.stringify()},v.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var A,y=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},b=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return y(f(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(v),w={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},x=function(e){return Array.prototype.slice.call(e,0)},E=navigator.userAgent,C={isChrome:/chrome/i.test(E),isFirefox:/firefox/i.test(E),isIE:/msie/i.test(E)||/trident/i.test(E),isEdge:/edge/i.test(E)},S=function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)},T=function(e){var t=[];return x(e.querySelectorAll("style")).forEach(function(e){e.textContent+="",t.push(e)}),t},I=function(e){return(e||window.location.href).split("#")[0]},M=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",function(t,n,r){S(e,{oldUrl:r,newUrl:n})})}])},O=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),x(e.querySelectorAll("symbol")).forEach(function(e){x(e.querySelectorAll(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}),e},P=s.xlink.uri,D="xlink:href",B=/[{}|\\\^\[\]`"<>]/g,L=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],N=L.map(function(e){return"["+e+"]"}).join(","),R=function(e,t,n,a){var s=i(n),u=i(a);r(e.querySelectorAll(N),function(e){var t=e.localName,n=e.value;return-1!==L.indexOf(t)&&-1!==n.indexOf("url("+s)}).forEach(function(e){return e.value=e.value.replace(s,u)}),o(t,s,u)},k={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},F=function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,a(w,t));var i=n();this._emitter=i,this.node=null;var o=this,s=o.config;if(s.autoConfigure&&this._autoConfigure(t),s.syncUrlsWithBaseTag){var u=document.getElementsByTagName("base")[0].getAttribute("href");i.on(k.MOUNT,function(){return r.updateUrls("#",u)})}var l=this._handleLocationChange.bind(this);this._handleLocationChange=l,s.listenLocationChangeEvent&&window.addEventListener(s.locationChangeEvent,l),s.locationChangeAngularEmitter&&M(s.locationChangeEvent),i.on(k.MOUNT,function(e){s.moveGradientsOutsideSymbol&&O(e)}),i.on(k.SYMBOL_MOUNT,function(e){s.moveGradientsOutsideSymbol&&O(e.parentNode),(C.isIE||C.isEdge)&&T(e)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this,n=t.config;void 0===e.syncUrlsWithBaseTag&&(n.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(n.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(n.moveGradientsOutsideSymbol=C.isFirefox)},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=this,r=e.prototype.add.call(this,t);return this.isMounted&&r&&(t.mount(n.node),this._emitter.emit(k.SYMBOL_MOUNT,t.node)),r},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach(function(e){e.mount(n.node),t._emitter.emit(k.SYMBOL_MOUNT,e.node)}),x(r.querySelectorAll("symbol")).forEach(function(e){var t=b.createFromExistingNode(e);t.node=e,n.add(t)}),this._emitter.emit(k.MOUNT,r),r},t.prototype.destroy=function(){var e=this,t=e.config,n=e.symbols,r=e._emitter;n.forEach(function(e){return e.destroy()}),r.off("*"),window.removeEventListener(t.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);var n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e,i=n.render();return this.node=i,t&&r.childNodes[0]?r.insertBefore(i,r.childNodes[0]):r.appendChild(i),this._emitter.emit(k.MOUNT,i),i},t.prototype.render=function(){return y(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return R(this.node,n,I(e)+"#",I(t)+"#"),!0},Object.defineProperties(t.prototype,r),t}(_),U=e(function(e){/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
!function(t,n){e.exports=function(){var e,t=[],n=document,r=n.documentElement.doScroll,i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}}()}()}),z=!!window.__SVG_SPRITE__;z?A=window.__SVG_SPRITE__:(A=new F({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=A);var j=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?A.attach(e):A.mount(document.body,!0)};return document.body?j():U(j),A})}).call(t,n(48))},function(e,t,n){var r,i;r=[n(10),n(41),n(12),n(1),n(0),n(2),n(6),n(9),n(40),n(26)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l){"use strict";function c(e,t,n,i,o,a,s,u,l,c,h,d,f,p,m,g){this[0]=r(e,0),this[1]=r(o,0),this[2]=r(l,0),this[3]=r(f,0),this[4]=r(t,0),this[5]=r(a,0),this[6]=r(c,0),this[7]=r(p,0),this[8]=r(n,0),this[9]=r(s,0),this[10]=r(h,0),this[11]=r(m,0),this[12]=r(i,0),this[13]=r(u,0),this[14]=r(d,0),this[15]=r(g,0)}c.packedLength=16,c.pack=function(e,t,n){return n=r(n,0),t[n++]=e[0],t[n++]=e[1],t[n++]=e[2],t[n++]=e[3],t[n++]=e[4],t[n++]=e[5],t[n++]=e[6],t[n++]=e[7],t[n++]=e[8],t[n++]=e[9],t[n++]=e[10],t[n++]=e[11],t[n++]=e[12],t[n++]=e[13],t[n++]=e[14],t[n]=e[15],t},c.unpack=function(e,t,n){return t=r(t,0),i(n)||(n=new c),n[0]=e[t++],n[1]=e[t++],n[2]=e[t++],n[3]=e[t++],n[4]=e[t++],n[5]=e[t++],n[6]=e[t++],n[7]=e[t++],n[8]=e[t++],n[9]=e[t++],n[10]=e[t++],n[11]=e[t++],n[12]=e[t++],n[13]=e[t++],n[14]=e[t++],n[15]=e[t],n},c.clone=function(e,t){if(i(e))return i(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new c(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},c.fromArray=c.unpack,c.fromColumnMajorArray=function(e,t){return c.clone(e,t)},c.fromRowMajorArray=function(e,t){return i(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new c(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},c.fromRotationTranslation=function(t,n,o){return n=r(n,e.ZERO),i(o)?(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=0,o[4]=t[3],o[5]=t[4],o[6]=t[5],o[7]=0,o[8]=t[6],o[9]=t[7],o[10]=t[8],o[11]=0,o[12]=n.x,o[13]=n.y,o[14]=n.z,o[15]=1,o):new c(t[0],t[3],t[6],n.x,t[1],t[4],t[7],n.y,t[2],t[5],t[8],n.z,0,0,0,1)},c.fromTranslationQuaternionRotationScale=function(e,t,n,r){i(r)||(r=new c);var o=n.x,a=n.y,s=n.z,u=t.x*t.x,l=t.x*t.y,h=t.x*t.z,d=t.x*t.w,f=t.y*t.y,p=t.y*t.z,m=t.y*t.w,g=t.z*t.z,_=t.z*t.w,v=t.w*t.w,A=u-f-g+v,y=2*(l-_),b=2*(h+m),w=2*(l+_),x=-u+f-g+v,E=2*(p-d),C=2*(h-m),S=2*(p+d),T=-u-f+g+v;return r[0]=A*o,r[1]=w*o,r[2]=C*o,r[3]=0,r[4]=y*a,r[5]=x*a,r[6]=S*a,r[7]=0,r[8]=b*s,r[9]=E*s,r[10]=T*s,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,r},c.fromTranslationRotationScale=function(e,t){return c.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},c.fromTranslation=function(e,t){return c.fromRotationTranslation(u.IDENTITY,e,t)},c.fromScale=function(e,t){return i(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new c(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},c.fromUniformScale=function(e,t){return i(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new c(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)};var h=new e,d=new e,f=new e;c.fromCamera=function(t,n){var r=t.position,o=t.direction,a=t.up;e.normalize(o,h),e.normalize(e.cross(h,a,d),d),e.normalize(e.cross(d,h,f),f);var s=d.x,u=d.y,l=d.z,p=h.x,m=h.y,g=h.z,_=f.x,v=f.y,A=f.z,y=r.x,b=r.y,w=r.z,x=s*-y+u*-b+l*-w,E=_*-y+v*-b+A*-w,C=p*y+m*b+g*w;return i(n)?(n[0]=s,n[1]=_,n[2]=-p,n[3]=0,n[4]=u,n[5]=v,n[6]=-m,n[7]=0,n[8]=l,n[9]=A,n[10]=-g,n[11]=0,n[12]=x,n[13]=E,n[14]=C,n[15]=1,n):new c(s,u,l,x,_,v,A,E,-p,-m,-g,C,0,0,0,1)},c.computePerspectiveFieldOfView=function(e,t,n,r,i){var o=Math.tan(.5*e),a=1/o,s=a/t,u=(r+n)/(n-r),l=2*r*n/(n-r);return i[0]=s,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=a,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=u,i[11]=-1,i[12]=0,i[13]=0,i[14]=l,i[15]=0,i},c.computeOrthographicOffCenter=function(e,t,n,r,i,o,a){var s=1/(t-e),u=1/(r-n),l=1/(o-i),c=-(t+e)*s,h=-(r+n)*u,d=-(o+i)*l;return s*=2,u*=2,l*=-2,a[0]=s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=l,a[11]=0,a[12]=c,a[13]=h,a[14]=d,a[15]=1,a},c.computePerspectiveOffCenter=function(e,t,n,r,i,o,a){var s=2*i/(t-e),u=2*i/(r-n),l=(t+e)/(t-e),c=(r+n)/(r-n),h=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=l,a[9]=c,a[10]=h,a[11]=-1,a[12]=0,a[13]=0,a[14]=d,a[15]=0,a},c.computeInfinitePerspectiveOffCenter=function(e,t,n,r,i,o){var a=2*i/(t-e),s=2*i/(r-n),u=(t+e)/(t-e),l=(r+n)/(r-n),c=-2*i;return o[0]=a,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=s,o[6]=0,o[7]=0,o[8]=u,o[9]=l,o[10]=-1,o[11]=-1,o[12]=0,o[13]=0,o[14]=c,o[15]=0,o},c.computeViewportTransformation=function(e,t,n,i){e=r(e,r.EMPTY_OBJECT);var o=r(e.x,0),a=r(e.y,0),s=r(e.width,0),u=r(e.height,0);t=r(t,0),n=r(n,1);var l=.5*s,c=.5*u,h=.5*(n-t),d=l,f=c,p=h,m=o+l,g=a+c,_=t+h;return i[0]=d,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=f,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=p,i[11]=0,i[12]=m,i[13]=g,i[14]=_,i[15]=1,i},c.computeView=function(t,n,r,i,o){return o[0]=i.x,o[1]=r.x,o[2]=-n.x,o[3]=0,o[4]=i.y,o[5]=r.y,o[6]=-n.y,o[7]=0,o[8]=i.z,o[9]=r.z,o[10]=-n.z,o[11]=0,o[12]=-e.dot(i,t),o[13]=-e.dot(r,t),o[14]=e.dot(n,t),o[15]=1,o},c.toArray=function(e,t){return i(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},c.getElementIndex=function(e,t){return 4*e+t},c.getColumn=function(e,t,n){var r=4*t,i=e[r],o=e[r+1],a=e[r+2],s=e[r+3];return n.x=i,n.y=o,n.z=a,n.w=s,n},c.setColumn=function(e,t,n,r){r=c.clone(e,r);var i=4*t;return r[i]=n.x,r[i+1]=n.y,r[i+2]=n.z,r[i+3]=n.w,r},c.setTranslation=function(e,t,n){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=e[15],n};var p=new e;c.setScale=function(t,n,r){var i=c.getScale(t,p),o=e.divideComponents(n,i,p);return c.multiplyByScale(t,o,r)},c.getRow=function(e,t,n){var r=e[t],i=e[t+4],o=e[t+8],a=e[t+12];return n.x=r,n.y=i,n.z=o,n.w=a,n},c.setRow=function(e,t,n,r){return r=c.clone(e,r),r[t]=n.x,r[t+4]=n.y,r[t+8]=n.z,r[t+12]=n.w,r};var m=new e;c.getScale=function(t,n){return n.x=e.magnitude(e.fromElements(t[0],t[1],t[2],m)),n.y=e.magnitude(e.fromElements(t[4],t[5],t[6],m)),n.z=e.magnitude(e.fromElements(t[8],t[9],t[10],m)),n};var g=new e;c.getMaximumScale=function(t){return c.getScale(t,g),e.maximumComponent(g)},c.multiply=function(e,t,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],m=e[12],g=e[13],_=e[14],v=e[15],A=t[0],y=t[1],b=t[2],w=t[3],x=t[4],E=t[5],C=t[6],S=t[7],T=t[8],I=t[9],M=t[10],O=t[11],P=t[12],D=t[13],B=t[14],L=t[15],N=r*A+s*y+h*b+m*w,R=i*A+u*y+d*b+g*w,k=o*A+l*y+f*b+_*w,F=a*A+c*y+p*b+v*w,U=r*x+s*E+h*C+m*S,z=i*x+u*E+d*C+g*S,j=o*x+l*E+f*C+_*S,H=a*x+c*E+p*C+v*S,V=r*T+s*I+h*M+m*O,Q=i*T+u*I+d*M+g*O,G=o*T+l*I+f*M+_*O,W=a*T+c*I+p*M+v*O,q=r*P+s*D+h*B+m*L,Y=i*P+u*D+d*B+g*L,K=o*P+l*D+f*B+_*L,X=a*P+c*D+p*B+v*L;return n[0]=N,n[1]=R,n[2]=k,n[3]=F,n[4]=U,n[5]=z,n[6]=j,n[7]=H,n[8]=V,n[9]=Q,n[10]=G,n[11]=W,n[12]=q,n[13]=Y,n[14]=K,n[15]=X,n},c.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n},c.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n},c.multiplyTransformation=function(e,t,n){var r=e[0],i=e[1],o=e[2],a=e[4],s=e[5],u=e[6],l=e[8],c=e[9],h=e[10],d=e[12],f=e[13],p=e[14],m=t[0],g=t[1],_=t[2],v=t[4],A=t[5],y=t[6],b=t[8],w=t[9],x=t[10],E=t[12],C=t[13],S=t[14],T=r*m+a*g+l*_,I=i*m+s*g+c*_,M=o*m+u*g+h*_,O=r*v+a*A+l*y,P=i*v+s*A+c*y,D=o*v+u*A+h*y,B=r*b+a*w+l*x,L=i*b+s*w+c*x,N=o*b+u*w+h*x,R=r*E+a*C+l*S+d,k=i*E+s*C+c*S+f,F=o*E+u*C+h*S+p;return n[0]=T,n[1]=I,n[2]=M,n[3]=0,n[4]=O,n[5]=P,n[6]=D,n[7]=0,n[8]=B,n[9]=L,n[10]=N,n[11]=0,n[12]=R,n[13]=k,n[14]=F,n[15]=1,n},c.multiplyByMatrix3=function(e,t,n){var r=e[0],i=e[1],o=e[2],a=e[4],s=e[5],u=e[6],l=e[8],c=e[9],h=e[10],d=t[0],f=t[1],p=t[2],m=t[3],g=t[4],_=t[5],v=t[6],A=t[7],y=t[8],b=r*d+a*f+l*p,w=i*d+s*f+c*p,x=o*d+u*f+h*p,E=r*m+a*g+l*_,C=i*m+s*g+c*_,S=o*m+u*g+h*_,T=r*v+a*A+l*y,I=i*v+s*A+c*y,M=o*v+u*A+h*y;return n[0]=b,n[1]=w,n[2]=x,n[3]=0,n[4]=E,n[5]=C,n[6]=S,n[7]=0,n[8]=T,n[9]=I,n[10]=M,n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},c.multiplyByTranslation=function(e,t,n){var r=t.x,i=t.y,o=t.z,a=r*e[0]+i*e[4]+o*e[8]+e[12],s=r*e[1]+i*e[5]+o*e[9]+e[13],u=r*e[2]+i*e[6]+o*e[10]+e[14];return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=a,n[13]=s,n[14]=u,n[15]=e[15],n};var _=new e;c.multiplyByUniformScale=function(e,t,n){return _.x=t,_.y=t,_.z=t,c.multiplyByScale(e,_,n)},c.multiplyByScale=function(e,t,n){var r=t.x,i=t.y,o=t.z;return 1===r&&1===i&&1===o?c.clone(e,n):(n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=0,n[4]=i*e[4],n[5]=i*e[5],n[6]=i*e[6],n[7]=0,n[8]=o*e[8],n[9]=o*e[9],n[10]=o*e[10],n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=1,n)},c.multiplyByVector=function(e,t,n){var r=t.x,i=t.y,o=t.z,a=t.w,s=e[0]*r+e[4]*i+e[8]*o+e[12]*a,u=e[1]*r+e[5]*i+e[9]*o+e[13]*a,l=e[2]*r+e[6]*i+e[10]*o+e[14]*a,c=e[3]*r+e[7]*i+e[11]*o+e[15]*a;return n.x=s,n.y=u,n.z=l,n.w=c,n},c.multiplyByPointAsVector=function(e,t,n){var r=t.x,i=t.y,o=t.z,a=e[0]*r+e[4]*i+e[8]*o,s=e[1]*r+e[5]*i+e[9]*o,u=e[2]*r+e[6]*i+e[10]*o;return n.x=a,n.y=s,n.z=u,n},c.multiplyByPoint=function(e,t,n){var r=t.x,i=t.y,o=t.z,a=e[0]*r+e[4]*i+e[8]*o+e[12],s=e[1]*r+e[5]*i+e[9]*o+e[13],u=e[2]*r+e[6]*i+e[10]*o+e[14];return n.x=a,n.y=s,n.z=u,n},c.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n},c.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},c.transpose=function(e,t){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[10]=e[10],t[11]=e[14],t[12]=i,t[13]=a,t[14]=s,t[15]=e[15],t},c.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},c.equals=function(e,t){return e===t||i(e)&&i(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},c.equalsEpsilon=function(e,t,n){return e===t||i(e)&&i(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n&&Math.abs(e[9]-t[9])<=n&&Math.abs(e[10]-t[10])<=n&&Math.abs(e[11]-t[11])<=n&&Math.abs(e[12]-t[12])<=n&&Math.abs(e[13]-t[13])<=n&&Math.abs(e[14]-t[14])<=n&&Math.abs(e[15]-t[15])<=n},c.getTranslation=function(e,t){return t.x=e[12],t.y=e[13],t.z=e[14],t},c.getRotation=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};var v=new u,A=new u,y=new t,b=new t(0,0,0,1);return c.inverse=function(e,n){var r=e[0],i=e[4],o=e[8],a=e[12],h=e[1],d=e[5],f=e[9],p=e[13],m=e[2],g=e[6],_=e[10],w=e[14],x=e[3],E=e[7],C=e[11],S=e[15],T=_*S,I=w*C,M=g*S,O=w*E,P=g*C,D=_*E,B=m*S,L=w*x,N=m*C,R=_*x,k=m*E,F=g*x,U=T*d+O*f+P*p-(I*d+M*f+D*p),z=I*h+B*f+R*p-(T*h+L*f+N*p),j=M*h+L*d+k*p-(O*h+B*d+F*p),H=D*h+N*d+F*f-(P*h+R*d+k*f),V=I*i+M*o+D*a-(T*i+O*o+P*a),Q=T*r+L*o+N*a-(I*r+B*o+R*a),G=O*r+B*i+F*a-(M*r+L*i+k*a),W=P*r+R*i+k*o-(D*r+N*i+F*o);T=o*p,I=a*f,M=i*p,O=a*d,P=i*f,D=o*d,B=r*p,L=a*h,N=r*f,R=o*h,k=r*d,F=i*h;var q=T*E+O*C+P*S-(I*E+M*C+D*S),Y=I*x+B*C+R*S-(T*x+L*C+N*S),K=M*x+L*E+k*S-(O*x+B*E+F*S),X=D*x+N*E+F*C-(P*x+R*E+k*C),Z=M*_+D*w+I*g-(P*w+T*g+O*_),J=N*w+T*m+L*_-(B*_+R*w+I*m),$=B*g+F*w+O*m-(k*w+M*m+L*g),ee=k*_+P*m+R*g-(N*g+F*_+D*m),te=r*U+i*z+o*j+a*H;if(Math.abs(te)<s.EPSILON21){if(u.equalsEpsilon(c.getRotation(e,v),A,s.EPSILON7)&&t.equals(c.getRow(e,3,y),b))return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0,n[12]=-e[12],n[13]=-e[13],n[14]=-e[14],n[15]=1,n;throw new l("matrix is not invertible because its determinate is zero.")}return te=1/te,n[0]=U*te,n[1]=z*te,n[2]=j*te,n[3]=H*te,n[4]=V*te,n[5]=Q*te,n[6]=G*te,n[7]=W*te,n[8]=q*te,n[9]=Y*te,n[10]=K*te,n[11]=X*te,n[12]=Z*te,n[13]=J*te,n[14]=$*te,n[15]=ee*te,n},c.inverseTransformation=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],l=e[9],c=e[10],h=e[12],d=e[13],f=e[14],p=-n*h-r*d-i*f,m=-o*h-a*d-s*f,g=-u*h-l*d-c*f;return t[0]=n,t[1]=o,t[2]=u,t[3]=0,t[4]=r,t[5]=a,t[6]=l,t[7]=0,t[8]=i,t[9]=s,t[10]=c,t[11]=0,t[12]=p,t[13]=m,t[14]=g,t[15]=1,t},c.IDENTITY=a(new c(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),c.ZERO=a(new c(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),c.COLUMN0ROW0=0,c.COLUMN0ROW1=1,c.COLUMN0ROW2=2,c.COLUMN0ROW3=3,c.COLUMN1ROW0=4,c.COLUMN1ROW1=5,c.COLUMN1ROW2=6,c.COLUMN1ROW3=7,c.COLUMN2ROW0=8,c.COLUMN2ROW1=9,c.COLUMN2ROW2=10,c.COLUMN2ROW3=11,c.COLUMN3ROW0=12,c.COLUMN3ROW1=13,c.COLUMN3ROW2=14,c.COLUMN3ROW3=15,o(c.prototype,{length:{get:function(){return c.packedLength}}}),c.prototype.clone=function(e){return c.clone(this,e)},c.prototype.equals=function(e){return c.equals(this,e)},c.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]&&e[9]===t[n+9]&&e[10]===t[n+10]&&e[11]===t[n+11]&&e[12]===t[n+12]&&e[13]===t[n+13]&&e[14]===t[n+14]&&e[15]===t[n+15]},c.prototype.equalsEpsilon=function(e,t){return c.equalsEpsilon(this,e,t)},c.prototype.toString=function(){return"("+this[0]+", "+this[4]+", "+this[8]+", "+this[12]+")\n("+this[1]+", "+this[5]+", "+this[9]+", "+this[13]+")\n("+this[2]+", "+this[6]+", "+this[10]+", "+this[14]+")\n("+this[3]+", "+this[7]+", "+this[11]+", "+this[15]+")"},c}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(3)],void 0!==(i=function(e,t){"use strict";function n(){return!0}function r(t,r){function i(){}r=e(r,"This object was destroyed, i.e., destroy() was called.");for(var o in t)"function"==typeof t[o]&&(t[o]=i);t.isDestroyed=n}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(1),i=function(e){e=r(e,r.EMPTY_OBJECT),this.sender=e.sender,this.title=r(e.title,"An error occurred"),this.message=e.message,this.raisedToUser=!1};e.exports=i},function(e,t,n){var r,i;r=[n(10),n(24),n(12),n(1),n(0),n(2),n(3),n(6),n(9),n(480)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l){"use strict";function c(t,n,i,o){n=r(n,0),i=r(i,0),o=r(o,0),t._radii=new e(n,i,o),t._radiiSquared=new e(n*n,i*i,o*o),t._radiiToTheFourth=new e(n*n*n*n,i*i*i*i,o*o*o*o),t._oneOverRadii=new e(0===n?0:1/n,0===i?0:1/i,0===o?0:1/o),t._oneOverRadiiSquared=new e(0===n?0:1/(n*n),0===i?0:1/(i*i),0===o?0:1/(o*o)),t._minimumRadius=Math.min(n,i,o),t._maximumRadius=Math.max(n,i,o),t._centerToleranceSquared=u.EPSILON1,0!==t._radiiSquared.z&&(t._squaredXOverSquaredZ=t._radiiSquared.x/t._radiiSquared.z)}function h(e,t,n){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,c(this,e,t,n)}o(h.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),h.clone=function(t,n){if(i(t)){var r=t._radii;return i(n)?(e.clone(r,n._radii),e.clone(t._radiiSquared,n._radiiSquared),e.clone(t._radiiToTheFourth,n._radiiToTheFourth),e.clone(t._oneOverRadii,n._oneOverRadii),e.clone(t._oneOverRadiiSquared,n._oneOverRadiiSquared),n._minimumRadius=t._minimumRadius,n._maximumRadius=t._maximumRadius,n._centerToleranceSquared=t._centerToleranceSquared,n):new h(r.x,r.y,r.z)}},h.fromCartesian3=function(e,t){return i(t)||(t=new h),i(e)?(c(t,e.x,e.y,e.z),t):t},h.WGS84=s(new h(6378137,6378137,6356752.314245179)),h.UNIT_SPHERE=s(new h(1,1,1)),h.MOON=s(new h(u.LUNAR_RADIUS,u.LUNAR_RADIUS,u.LUNAR_RADIUS)),h.prototype.clone=function(e){return h.clone(this,e)},h.packedLength=e.packedLength,h.pack=function(t,n,i){return i=r(i,0),e.pack(t._radii,n,i),n},h.unpack=function(t,n,i){n=r(n,0);var o=e.unpack(t,n);return h.fromCartesian3(o,i)},h.prototype.geocentricSurfaceNormal=e.normalize,h.prototype.geodeticSurfaceNormalCartographic=function(t,n){var r=t.longitude,o=t.latitude,a=Math.cos(o),s=a*Math.cos(r),u=a*Math.sin(r),l=Math.sin(o);return i(n)||(n=new e),n.x=s,n.y=u,n.z=l,e.normalize(n,n)},h.prototype.geodeticSurfaceNormal=function(t,n){return i(n)||(n=new e),n=e.multiplyComponents(t,this._oneOverRadiiSquared,n),e.normalize(n,n)};var d=new e,f=new e;h.prototype.cartographicToCartesian=function(t,n){var r=d,o=f;this.geodeticSurfaceNormalCartographic(t,r),e.multiplyComponents(this._radiiSquared,r,o);var a=Math.sqrt(e.dot(r,o));return e.divideByScalar(o,a,o),e.multiplyByScalar(r,t.height,r),i(n)||(n=new e),e.add(o,r,n)},h.prototype.cartographicArrayToCartesianArray=function(e,t){var n=e.length;i(t)?t.length=n:t=new Array(n);for(var r=0;r<n;r++)t[r]=this.cartographicToCartesian(e[r],t[r]);return t};var p=new e,m=new e,g=new e;return h.prototype.cartesianToCartographic=function(n,r){var o=this.scaleToGeodeticSurface(n,m);if(i(o)){var a=this.geodeticSurfaceNormal(o,p),s=e.subtract(n,o,g),l=Math.atan2(a.y,a.x),c=Math.asin(a.z),h=u.sign(e.dot(s,n))*e.magnitude(s);return i(r)?(r.longitude=l,r.latitude=c,r.height=h,r):new t(l,c,h)}},h.prototype.cartesianArrayToCartographicArray=function(e,t){var n=e.length;i(t)?t.length=n:t=new Array(n);for(var r=0;r<n;++r)t[r]=this.cartesianToCartographic(e[r],t[r]);return t},h.prototype.scaleToGeodeticSurface=function(e,t){return l(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},h.prototype.scaleToGeocentricSurface=function(t,n){i(n)||(n=new e);var r=t.x,o=t.y,a=t.z,s=this._oneOverRadiiSquared,u=1/Math.sqrt(r*r*s.x+o*o*s.y+a*a*s.z);return e.multiplyByScalar(t,u,n)},h.prototype.transformPositionToScaledSpace=function(t,n){return i(n)||(n=new e),e.multiplyComponents(t,this._oneOverRadii,n)},h.prototype.transformPositionFromScaledSpace=function(t,n){return i(n)||(n=new e),e.multiplyComponents(t,this._radii,n)},h.prototype.equals=function(t){return this===t||i(t)&&e.equals(this._radii,t._radii)},h.prototype.toString=function(){return this._radii.toString()},h.prototype.getSurfaceNormalIntersectionWithZAxis=function(t,n,o){n=r(n,0);var a=this._squaredXOverSquaredZ;if(i(o)||(o=new e),o.x=0,o.y=0,o.z=t.z*(1-a),!(Math.abs(o.z)>=this._radii.z-n))return o},h}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(12),n(1),n(0),n(6),n(9),n(480)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e,t,r){this.longitude=n(e,0),this.latitude=n(t,0),this.height=n(r,0)}s.fromRadians=function(e,t,i,o){return i=n(i,0),r(o)?(o.longitude=e,o.latitude=t,o.height=i,o):new s(e,t,i)},s.fromDegrees=function(e,t,n,r){return e=o.toRadians(e),t=o.toRadians(t),s.fromRadians(e,t,n,r)};var u=new e,l=new e,c=new e,h=new e(1/6378137,1/6378137,1/6356752.314245179),d=new e(1/40680631590769,1/40680631590769,1/40408299984661.445),f=o.EPSILON1;return s.fromCartesian=function(t,n,i){var p=r(n)?n.oneOverRadii:h,m=r(n)?n.oneOverRadiiSquared:d,g=r(n)?n._centerToleranceSquared:f,_=a(t,p,m,g,l);if(r(_)){var v=e.multiplyComponents(_,m,u);v=e.normalize(v,v);var A=e.subtract(t,_,c),y=Math.atan2(v.y,v.x),b=Math.asin(v.z),w=o.sign(e.dot(A,t))*e.magnitude(A);return r(i)?(i.longitude=y,i.latitude=b,i.height=w,i):new s(y,b,w)}},s.toCartesian=function(t,n,r){return e.fromRadians(t.longitude,t.latitude,t.height,n,r)},s.clone=function(e,t){if(r(e))return r(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new s(e.longitude,e.latitude,e.height)},s.equals=function(e,t){return e===t||r(e)&&r(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},s.equalsEpsilon=function(e,t,n){return e===t||r(e)&&r(t)&&Math.abs(e.longitude-t.longitude)<=n&&Math.abs(e.latitude-t.latitude)<=n&&Math.abs(e.height-t.height)<=n},s.ZERO=i(new s(0,0,0)),s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e){return s.equals(this,e)},s.prototype.equalsEpsilon=function(e,t){return s.equalsEpsilon(this,e,t)},s.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(39),n(6),n(9)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?e+6*(t-e)*n:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function s(e,n,r,i){this.red=t(e,1),this.green=t(n,1),this.blue=t(r,1),this.alpha=t(i,1)}s.fromCartesian4=function(e,t){return n(t)?(t.red=e.x,t.green=e.y,t.blue=e.z,t.alpha=e.w,t):new s(e.x,e.y,e.z,e.w)},s.fromBytes=function(e,r,i,o,a){return e=s.byteToFloat(t(e,255)),r=s.byteToFloat(t(r,255)),i=s.byteToFloat(t(i,255)),o=s.byteToFloat(t(o,255)),n(a)?(a.red=e,a.green=r,a.blue=i,a.alpha=o,a):new s(e,r,i,o)},s.fromAlpha=function(e,t,r){return n(r)?(r.red=e.red,r.green=e.green,r.blue=e.blue,r.alpha=t,r):new s(e.red,e.green,e.blue,t)};var u,l,c;r.supportsTypedArrays()&&(u=new ArrayBuffer(4),l=new Uint32Array(u),c=new Uint8Array(u)),s.fromRgba=function(e,t){return l[0]=e,s.fromBytes(c[0],c[1],c[2],c[3],t)},s.fromHsl=function(e,r,i,o,u){e=t(e,0)%1,r=t(r,0),i=t(i,0),o=t(o,1);var l=i,c=i,h=i;if(0!==r){var d;d=i<.5?i*(1+r):i+r-i*r;var f=2*i-d;l=a(f,d,e+1/3),c=a(f,d,e),h=a(f,d,e-1/3)}return n(u)?(u.red=l,u.green=c,u.blue=h,u.alpha=o,u):new s(l,c,h,o)},s.fromRandom=function(e,r){e=t(e,t.EMPTY_OBJECT);var i=e.red;if(!n(i)){var a=t(e.minimumRed,0),u=t(e.maximumRed,1);i=a+o.nextRandomNumber()*(u-a)}var l=e.green;if(!n(l)){var c=t(e.minimumGreen,0),h=t(e.maximumGreen,1);l=c+o.nextRandomNumber()*(h-c)}var d=e.blue;if(!n(d)){var f=t(e.minimumBlue,0),p=t(e.maximumBlue,1);d=f+o.nextRandomNumber()*(p-f)}var m=e.alpha;if(!n(m)){var g=t(e.minimumAlpha,0),_=t(e.maximumAlpha,1);m=g+o.nextRandomNumber()*(_-g)}return n(r)?(r.red=i,r.green=l,r.blue=d,r.alpha=m,r):new s(i,l,d,m)};var h=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,d=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,f=/^rgba?\(\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)(?:\s*,\s*([0-9.]+))?\s*\)$/i,p=/^hsla?\(\s*([0-9.]+)\s*,\s*([0-9.]+%)\s*,\s*([0-9.]+%)(?:\s*,\s*([0-9.]+))?\s*\)$/i;return s.fromCssColorString=function(e,r){n(r)||(r=new s);var i=s[e.toUpperCase()];if(n(i))return s.clone(i,r),r;var o=h.exec(e);return null!==o?(r.red=parseInt(o[1],16)/15,r.green=parseInt(o[2],16)/15,r.blue=parseInt(o[3],16)/15,r.alpha=1,r):null!==(o=d.exec(e))?(r.red=parseInt(o[1],16)/255,r.green=parseInt(o[2],16)/255,r.blue=parseInt(o[3],16)/255,r.alpha=1,r):null!==(o=f.exec(e))?(r.red=parseFloat(o[1])/("%"===o[1].substr(-1)?100:255),r.green=parseFloat(o[2])/("%"===o[2].substr(-1)?100:255),r.blue=parseFloat(o[3])/("%"===o[3].substr(-1)?100:255),r.alpha=parseFloat(t(o[4],"1.0")),r):null!==(o=p.exec(e))?s.fromHsl(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,parseFloat(t(o[4],"1.0")),r):r=void 0},s.packedLength=4,s.pack=function(e,n,r){return r=t(r,0),n[r++]=e.red,n[r++]=e.green,n[r++]=e.blue,n[r]=e.alpha,n},s.unpack=function(e,r,i){return r=t(r,0),n(i)||(i=new s),i.red=e[r++],i.green=e[r++],i.blue=e[r++],i.alpha=e[r],i},s.byteToFloat=function(e){return e/255},s.floatToByte=function(e){return 1===e?255:256*e|0},s.clone=function(e,t){if(n(e))return n(t)?(t.red=e.red,t.green=e.green,t.blue=e.blue,t.alpha=e.alpha,t):new s(e.red,e.green,e.blue,e.alpha)},s.equals=function(e,t){return e===t||n(e)&&n(t)&&e.red===t.red&&e.green===t.green&&e.blue===t.blue&&e.alpha===t.alpha},s.equalsArray=function(e,t,n){return e.red===t[n]&&e.green===t[n+1]&&e.blue===t[n+2]&&e.alpha===t[n+3]},s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e){return s.equals(this,e)},s.prototype.equalsEpsilon=function(e,t){return this===e||n(e)&&Math.abs(this.red-e.red)<=t&&Math.abs(this.green-e.green)<=t&&Math.abs(this.blue-e.blue)<=t&&Math.abs(this.alpha-e.alpha)<=t},s.prototype.toString=function(){return"("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},s.prototype.toCssColorString=function(){var e=s.floatToByte(this.red),t=s.floatToByte(this.green),n=s.floatToByte(this.blue);return 1===this.alpha?"rgb("+e+","+t+","+n+")":"rgba("+e+","+t+","+n+","+this.alpha+")"},s.prototype.toBytes=function(e){var t=s.floatToByte(this.red),r=s.floatToByte(this.green),i=s.floatToByte(this.blue),o=s.floatToByte(this.alpha);return n(e)?(e[0]=t,e[1]=r,e[2]=i,e[3]=o,e):[t,r,i,o]},s.prototype.toRgba=function(){return c[0]=s.floatToByte(this.red),c[1]=s.floatToByte(this.green),c[2]=s.floatToByte(this.blue),c[3]=s.floatToByte(this.alpha),l[0]},s.prototype.brighten=function(e,t){return e=1-e,t.red=1-(1-this.red)*e,t.green=1-(1-this.green)*e,t.blue=1-(1-this.blue)*e,t.alpha=this.alpha,t},s.prototype.darken=function(e,t){return e=1-e,t.red=this.red*e,t.green=this.green*e,t.blue=this.blue*e,t.alpha=this.alpha,t},s.prototype.withAlpha=function(e,t){return s.fromAlpha(this,e,t)},s.add=function(e,t,n){return n.red=e.red+t.red,n.green=e.green+t.green,n.blue=e.blue+t.blue,n.alpha=e.alpha+t.alpha,n},s.subtract=function(e,t,n){return n.red=e.red-t.red,n.green=e.green-t.green,n.blue=e.blue-t.blue,n.alpha=e.alpha-t.alpha,n},s.multiply=function(e,t,n){return n.red=e.red*t.red,n.green=e.green*t.green,n.blue=e.blue*t.blue,n.alpha=e.alpha*t.alpha,n},s.divide=function(e,t,n){return n.red=e.red/t.red,n.green=e.green/t.green,n.blue=e.blue/t.blue,n.alpha=e.alpha/t.alpha,n},s.mod=function(e,t,n){return n.red=e.red%t.red,n.green=e.green%t.green,n.blue=e.blue%t.blue,n.alpha=e.alpha%t.alpha,n},s.multiplyByScalar=function(e,t,n){return n.red=e.red*t,n.green=e.green*t,n.blue=e.blue*t,n.alpha=e.alpha*t,n},s.divideByScalar=function(e,t,n){return n.red=e.red/t,n.green=e.green/t,n.blue=e.blue/t,n.alpha=e.alpha/t,n},s.ALICEBLUE=i(s.fromCssColorString("#F0F8FF")),s.ANTIQUEWHITE=i(s.fromCssColorString("#FAEBD7")),s.AQUA=i(s.fromCssColorString("#00FFFF")),s.AQUAMARINE=i(s.fromCssColorString("#7FFFD4")),s.AZURE=i(s.fromCssColorString("#F0FFFF")),s.BEIGE=i(s.fromCssColorString("#F5F5DC")),s.BISQUE=i(s.fromCssColorString("#FFE4C4")),s.BLACK=i(s.fromCssColorString("#000000")),s.BLANCHEDALMOND=i(s.fromCssColorString("#FFEBCD")),s.BLUE=i(s.fromCssColorString("#0000FF")),s.BLUEVIOLET=i(s.fromCssColorString("#8A2BE2")),s.BROWN=i(s.fromCssColorString("#A52A2A")),s.BURLYWOOD=i(s.fromCssColorString("#DEB887")),s.CADETBLUE=i(s.fromCssColorString("#5F9EA0")),s.CHARTREUSE=i(s.fromCssColorString("#7FFF00")),s.CHOCOLATE=i(s.fromCssColorString("#D2691E")),s.CORAL=i(s.fromCssColorString("#FF7F50")),s.CORNFLOWERBLUE=i(s.fromCssColorString("#6495ED")),s.CORNSILK=i(s.fromCssColorString("#FFF8DC")),s.CRIMSON=i(s.fromCssColorString("#DC143C")),s.CYAN=i(s.fromCssColorString("#00FFFF")),s.DARKBLUE=i(s.fromCssColorString("#00008B")),s.DARKCYAN=i(s.fromCssColorString("#008B8B")),s.DARKGOLDENROD=i(s.fromCssColorString("#B8860B")),s.DARKGRAY=i(s.fromCssColorString("#A9A9A9")),s.DARKGREEN=i(s.fromCssColorString("#006400")),s.DARKGREY=s.DARKGRAY,s.DARKKHAKI=i(s.fromCssColorString("#BDB76B")),s.DARKMAGENTA=i(s.fromCssColorString("#8B008B")),s.DARKOLIVEGREEN=i(s.fromCssColorString("#556B2F")),s.DARKORANGE=i(s.fromCssColorString("#FF8C00")),s.DARKORCHID=i(s.fromCssColorString("#9932CC")),s.DARKRED=i(s.fromCssColorString("#8B0000")),s.DARKSALMON=i(s.fromCssColorString("#E9967A")),s.DARKSEAGREEN=i(s.fromCssColorString("#8FBC8F")),s.DARKSLATEBLUE=i(s.fromCssColorString("#483D8B")),s.DARKSLATEGRAY=i(s.fromCssColorString("#2F4F4F")),s.DARKSLATEGREY=s.DARKSLATEGRAY,s.DARKTURQUOISE=i(s.fromCssColorString("#00CED1")),s.DARKVIOLET=i(s.fromCssColorString("#9400D3")),s.DEEPPINK=i(s.fromCssColorString("#FF1493")),s.DEEPSKYBLUE=i(s.fromCssColorString("#00BFFF")),s.DIMGRAY=i(s.fromCssColorString("#696969")),s.DIMGREY=s.DIMGRAY,s.DODGERBLUE=i(s.fromCssColorString("#1E90FF")),s.FIREBRICK=i(s.fromCssColorString("#B22222")),s.FLORALWHITE=i(s.fromCssColorString("#FFFAF0")),s.FORESTGREEN=i(s.fromCssColorString("#228B22")),s.FUCHSIA=i(s.fromCssColorString("#FF00FF")),s.GAINSBORO=i(s.fromCssColorString("#DCDCDC")),s.GHOSTWHITE=i(s.fromCssColorString("#F8F8FF")),s.GOLD=i(s.fromCssColorString("#FFD700")),s.GOLDENROD=i(s.fromCssColorString("#DAA520")),s.GRAY=i(s.fromCssColorString("#808080")),s.GREEN=i(s.fromCssColorString("#008000")),s.GREENYELLOW=i(s.fromCssColorString("#ADFF2F")),s.GREY=s.GRAY,s.HONEYDEW=i(s.fromCssColorString("#F0FFF0")),s.HOTPINK=i(s.fromCssColorString("#FF69B4")),s.INDIANRED=i(s.fromCssColorString("#CD5C5C")),s.INDIGO=i(s.fromCssColorString("#4B0082")),s.IVORY=i(s.fromCssColorString("#FFFFF0")),s.KHAKI=i(s.fromCssColorString("#F0E68C")),s.LAVENDER=i(s.fromCssColorString("#E6E6FA")),s.LAVENDAR_BLUSH=i(s.fromCssColorString("#FFF0F5")),s.LAWNGREEN=i(s.fromCssColorString("#7CFC00")),s.LEMONCHIFFON=i(s.fromCssColorString("#FFFACD")),s.LIGHTBLUE=i(s.fromCssColorString("#ADD8E6")),s.LIGHTCORAL=i(s.fromCssColorString("#F08080")),s.LIGHTCYAN=i(s.fromCssColorString("#E0FFFF")),s.LIGHTGOLDENRODYELLOW=i(s.fromCssColorString("#FAFAD2")),s.LIGHTGRAY=i(s.fromCssColorString("#D3D3D3")),s.LIGHTGREEN=i(s.fromCssColorString("#90EE90")),s.LIGHTGREY=s.LIGHTGRAY,s.LIGHTPINK=i(s.fromCssColorString("#FFB6C1")),s.LIGHTSEAGREEN=i(s.fromCssColorString("#20B2AA")),s.LIGHTSKYBLUE=i(s.fromCssColorString("#87CEFA")),s.LIGHTSLATEGRAY=i(s.fromCssColorString("#778899")),s.LIGHTSLATEGREY=s.LIGHTSLATEGRAY,s.LIGHTSTEELBLUE=i(s.fromCssColorString("#B0C4DE")),s.LIGHTYELLOW=i(s.fromCssColorString("#FFFFE0")),s.LIME=i(s.fromCssColorString("#00FF00")),s.LIMEGREEN=i(s.fromCssColorString("#32CD32")),s.LINEN=i(s.fromCssColorString("#FAF0E6")),s.MAGENTA=i(s.fromCssColorString("#FF00FF")),s.MAROON=i(s.fromCssColorString("#800000")),s.MEDIUMAQUAMARINE=i(s.fromCssColorString("#66CDAA")),s.MEDIUMBLUE=i(s.fromCssColorString("#0000CD")),s.MEDIUMORCHID=i(s.fromCssColorString("#BA55D3")),s.MEDIUMPURPLE=i(s.fromCssColorString("#9370DB")),s.MEDIUMSEAGREEN=i(s.fromCssColorString("#3CB371")),s.MEDIUMSLATEBLUE=i(s.fromCssColorString("#7B68EE")),s.MEDIUMSPRINGGREEN=i(s.fromCssColorString("#00FA9A")),s.MEDIUMTURQUOISE=i(s.fromCssColorString("#48D1CC")),s.MEDIUMVIOLETRED=i(s.fromCssColorString("#C71585")),s.MIDNIGHTBLUE=i(s.fromCssColorString("#191970")),s.MINTCREAM=i(s.fromCssColorString("#F5FFFA")),s.MISTYROSE=i(s.fromCssColorString("#FFE4E1")),s.MOCCASIN=i(s.fromCssColorString("#FFE4B5")),s.NAVAJOWHITE=i(s.fromCssColorString("#FFDEAD")),s.NAVY=i(s.fromCssColorString("#000080")),s.OLDLACE=i(s.fromCssColorString("#FDF5E6")),s.OLIVE=i(s.fromCssColorString("#808000")),s.OLIVEDRAB=i(s.fromCssColorString("#6B8E23")),s.ORANGE=i(s.fromCssColorString("#FFA500")),s.ORANGERED=i(s.fromCssColorString("#FF4500")),s.ORCHID=i(s.fromCssColorString("#DA70D6")),s.PALEGOLDENROD=i(s.fromCssColorString("#EEE8AA")),s.PALEGREEN=i(s.fromCssColorString("#98FB98")),s.PALETURQUOISE=i(s.fromCssColorString("#AFEEEE")),s.PALEVIOLETRED=i(s.fromCssColorString("#DB7093")),s.PAPAYAWHIP=i(s.fromCssColorString("#FFEFD5")),s.PEACHPUFF=i(s.fromCssColorString("#FFDAB9")),s.PERU=i(s.fromCssColorString("#CD853F")),s.PINK=i(s.fromCssColorString("#FFC0CB")),s.PLUM=i(s.fromCssColorString("#DDA0DD")),s.POWDERBLUE=i(s.fromCssColorString("#B0E0E6")),s.PURPLE=i(s.fromCssColorString("#800080")),s.RED=i(s.fromCssColorString("#FF0000")),s.ROSYBROWN=i(s.fromCssColorString("#BC8F8F")),s.ROYALBLUE=i(s.fromCssColorString("#4169E1")),s.SADDLEBROWN=i(s.fromCssColorString("#8B4513")),s.SALMON=i(s.fromCssColorString("#FA8072")),s.SANDYBROWN=i(s.fromCssColorString("#F4A460")),s.SEAGREEN=i(s.fromCssColorString("#2E8B57")),s.SEASHELL=i(s.fromCssColorString("#FFF5EE")),s.SIENNA=i(s.fromCssColorString("#A0522D")),s.SILVER=i(s.fromCssColorString("#C0C0C0")),s.SKYBLUE=i(s.fromCssColorString("#87CEEB")),s.SLATEBLUE=i(s.fromCssColorString("#6A5ACD")),s.SLATEGRAY=i(s.fromCssColorString("#708090")),s.SLATEGREY=s.SLATEGRAY,s.SNOW=i(s.fromCssColorString("#FFFAFA")),s.SPRINGGREEN=i(s.fromCssColorString("#00FF7F")),s.STEELBLUE=i(s.fromCssColorString("#4682B4")),s.TAN=i(s.fromCssColorString("#D2B48C")),s.TEAL=i(s.fromCssColorString("#008080")),s.THISTLE=i(s.fromCssColorString("#D8BFD8")),s.TOMATO=i(s.fromCssColorString("#FF6347")),s.TURQUOISE=i(s.fromCssColorString("#40E0D0")),s.VIOLET=i(s.fromCssColorString("#EE82EE")),s.WHEAT=i(s.fromCssColorString("#F5DEB3")),s.WHITE=i(s.fromCssColorString("#FFFFFF")),s.WHITESMOKE=i(s.fromCssColorString("#F5F5F5")),s.YELLOW=i(s.fromCssColorString("#FFFF00")),s.YELLOWGREEN=i(s.fromCssColorString("#9ACD32")),s.TRANSPARENT=i(new s(0,0,0,0)),s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";function t(e){this.name="RuntimeError",this.message=e;var t;try{throw new Error}catch(e){t=e.stack}this.stack=t}return e(Object.create)&&(t.prototype=Object.create(Error.prototype),t.prototype.constructor=t),t.prototype.toString=function(){var t=this.name+": "+this.message;return e(this.stack)&&(t+="\n"+this.stack.toString()),t},t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0!==(i=function(e){"use strict";function t(n,r){if(null===n||"object"!=typeof n)return n;r=e(r,!1);var i=new n.constructor;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];r&&(a=t(a,r)),i[o]=a}return i}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=n.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)o.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?(n.default=n,e.exports=n):(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t,n){(function(r){var i,o;i=[n(92),n(7),n(812),n(12),n(27),n(42),n(1),n(0),n(2),n(94),n(3),n(39),n(6),n(226),n(459),n(774),n(460),n(461),n(458),n(189),n(299),n(223),n(463),n(438),n(190),n(26),n(816)],void 0!==(o=function(e,t,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I){"use strict";function M(e,t,n,r){var i=e.query;if(!l(i)||0===i.length)return{};var o;if(-1===i.indexOf("=")){var a={};a[i]=void 0,o=a}else o=w(i);t._queryParameters=n?B(o,t._queryParameters,r):o,e.query=void 0}function O(e,t){var n=t._queryParameters,r=Object.keys(n);1!==r.length||l(n[r[0]])?e.query=b(n):e.query=r[0]}function P(e,t){return l(e)?l(e.clone)?e.clone():a(e):t}function D(e){if(e.state===S.ISSUED||e.state===S.ACTIVE)throw new T("The Resource is already being fetched.");e.state=S.UNISSUED,e.deferred=void 0}function B(e,t,n){if(!n)return s(e,t);var r=a(e,!0);for(var i in t)if(t.hasOwnProperty(i)){var o=r[i],u=t[i];l(o)?(Array.isArray(o)||(o=r[i]=[o]),r[i]=o.concat(u)):r[i]=Array.isArray(u)?u.slice():u}return r}function L(t){t=u(t,u.EMPTY_OBJECT),"string"==typeof t&&(t={url:t}),this._url=void 0,this._templateValues=P(t.templateValues,{}),this._queryParameters=P(t.queryParameters,{}),this.headers=P(t.headers,{}),this.request=u(t.request,new x),this.proxy=t.proxy,this.retryCallback=t.retryCallback,this.retryAttempts=u(t.retryAttempts,0),this._retryCount=0;var n=t.url.indexOf("%7B");this._containsPlaceholders=!(n>=0&&n<t.url.indexOf("%7D"));var r=new e(t.url);M(r,this,!0,!0),r.fragment=void 0,this._url=r.toString()}function N(e){var n=e.request;n.url=e.url,n.requestFunction=function(){var n=e.url,r=!1;e.isDataUri||e.isBlobUri||(r=e.isCrossOriginUrl);var i=t.defer();return L._Implementations.createImage(n,r,i),i.promise};var r=C.request(n);if(l(r))return r.otherwise(function(r){return n.state!==S.FAILED?t.reject(r):e.retryOnError(r).then(function(i){return i?(n.state=S.UNISSUED,n.deferred=void 0,N(e)):t.reject(r)})})}function R(e,n,r){var i={};i[n]=r,e.setQueryParameters(i);var o=e.request;o.url=e.url,o.requestFunction=function(){var n=t.defer();return window[r]=function(e){n.resolve(e);try{delete window[r]}catch(e){window[r]=void 0}},L._Implementations.loadAndExecuteScript(e.url,r,n),n.promise};var a=C.request(o);if(l(a))return a.otherwise(function(i){return o.state!==S.FAILED?t.reject(i):e.retryOnError(i).then(function(a){return a?(o.state=S.UNISSUED,o.deferred=void 0,R(e,n,r)):t.reject(i)})})}function k(e,t){var n=decodeURIComponent(t);return e?atob(n):n}function F(e,t){for(var n=k(e,t),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return r}function U(e,t){t=u(t,"");var n=e[1],r=!!e[2],i=e[3];switch(t){case"":case"text":return k(r,i);case"arraybuffer":return F(r,i);case"blob":var o=F(r,i);return new Blob([o],{type:n});case"document":return(new DOMParser).parseFromString(k(r,i),n);case"json":return JSON.parse(k(r,i))}}function z(e,t){switch(t){case"text":return e.toString("utf8");case"json":return JSON.parse(e.toString("utf8"));default:return new Uint8Array(e).buffer}}function j(e,t,i,o,a,s,u){var l=n(310).parse(e),c=n("https:"===l.protocol?821:465),h=n(834),d={protocol:l.protocol,hostname:l.hostname,port:l.port,path:l.path,query:l.query,method:i,headers:a};c.request(d).on("response",function(e){if(e.statusCode<200||e.statusCode>=300)return void s.reject(new E(e.statusCode,e,e.headers));var n=[];e.on("data",function(e){n.push(e)}),e.on("end",function(){var i=r.concat(n);"gzip"===e.headers["content-encoding"]?h.gunzip(i,function(e,n){e?s.reject(new T("Error decompressing response.")):s.resolve(z(n,t))}):s.resolve(z(i,t))})}).on("error",function(e){s.reject(new E)}).end()}var H=function(){try{var e=new XMLHttpRequest;return e.open("GET","#",!0),e.responseType="blob","blob"===e.responseType}catch(e){return!1}}();L.createIfNeeded=function(e){return e instanceof L?e.getDerivedResource({request:e.request}):"string"!=typeof e?e:new L({url:e})},c(L,{isBlobSupported:{get:function(){return H}}}),c(L.prototype,{queryParameters:{get:function(){return this._queryParameters}},templateValues:{get:function(){return this._templateValues}},url:{get:function(){return this.getUrlComponent(!0,!0)},set:function(t){var n=new e(t);M(n,this,!1),n.fragment=void 0,this._url=n.toString()}},extension:{get:function(){return _(this._url)}},isDataUri:{get:function(){return y(this._url)}},isBlobUri:{get:function(){return v(this._url)}},isCrossOriginUrl:{get:function(){return A(this._url)}},hasHeaders:{get:function(){return Object.keys(this.headers).length>0}}}),L.prototype.getUrlComponent=function(t,n){if(this.isDataUri)return this._url;var r=new e(this._url);t&&O(r,this);var i=r.toString();this._containsPlaceholders&&(i=i.replace(/%7B/g,"{").replace(/%7D/g,"}"));var o=this._templateValues,a=Object.keys(o);if(a.length>0)for(var s=0;s<a.length;s++){var u=a[s],c=o[u];i=i.replace(new RegExp("{"+u+"}","g"),encodeURIComponent(c))}return n&&l(this.proxy)&&(i=this.proxy.getURL(i)),i},L.prototype.setQueryParameters=function(e,t){this._queryParameters=t?B(this._queryParameters,e,!1):B(e,this._queryParameters,!1)},L.prototype.addQueryParameters=function(e,t){return h("Resource.addQueryParameters","addQueryParameters has been deprecated and will be removed 1.45. Use setQueryParameters or appendQueryParameters instead."),this.setQueryParameters(e,t)},L.prototype.appendQueryParameters=function(e){this._queryParameters=B(e,this._queryParameters,!0)},L.prototype.setTemplateValues=function(e,t){this._templateValues=t?s(this._templateValues,e):s(e,this._templateValues)},L.prototype.addTemplateValues=function(e,t){return h("Resource.addTemplateValues","addTemplateValues has been deprecated and will be removed 1.45. Use setTemplateValues."),this.setTemplateValues(e,t)},L.prototype.getDerivedResource=function(t){var n=this.clone();if(n._retryCount=0,l(t.url)){var r=new e(t.url);M(r,n,!0,u(t.preserveQueryParameters,!1)),r.fragment=void 0,n._url=r.resolve(new e(m(this._url))).toString()}return l(t.queryParameters)&&(n._queryParameters=s(t.queryParameters,n._queryParameters)),l(t.templateValues)&&(n._templateValues=s(t.templateValues,n.templateValues)),l(t.headers)&&(n.headers=s(t.headers,n.headers)),l(t.proxy)&&(n.proxy=t.proxy),l(t.request)&&(n.request=t.request),l(t.retryCallback)&&(n.retryCallback=t.retryCallback),l(t.retryAttempts)&&(n.retryAttempts=t.retryAttempts),n},L.prototype.retryOnError=function(e){var n=this.retryCallback;if("function"!=typeof n||this._retryCount>=this.retryAttempts)return t(!1);var r=this;return t(n(this,e)).then(function(e){return++r._retryCount,e})},L.prototype.clone=function(e){return l(e)||(e=new L({url:this._url})),e._url=this._url,e._queryParameters=a(this._queryParameters),e._templateValues=a(this._templateValues),e.headers=a(this.headers),e.proxy=this.proxy,e.retryCallback=this.retryCallback,e.retryAttempts=this.retryAttempts,e._retryCount=0,e.request=this.request.clone(),e._containsPlaceholders=this._containsPlaceholders,e},L.prototype.getBaseUri=function(e){return g(this.getUrlComponent(e),e)},L.prototype.appendForwardSlash=function(){this._url=i(this._url)},L.prototype.fetchArrayBuffer=function(){return this.fetch({responseType:"arraybuffer"})},L.fetchArrayBuffer=function(e){return new L(e).fetchArrayBuffer()},L.prototype.fetchBlob=function(){return this.fetch({responseType:"blob"})},L.fetchBlob=function(e){return new L(e).fetchBlob()},L.prototype.fetchImage=function(e){if(e=u(e,!1),D(this.request),!H||this.isDataUri||this.isBlobUri||!this.hasHeaders&&!e)return N(this,!0);var n=this.fetchBlob();if(l(n)){var r,i;return n.then(function(e){if(l(e)){i=e;var t=window.URL.createObjectURL(e);return r=new L({url:t}),N(r)}}).then(function(e){if(l(e))return window.URL.revokeObjectURL(r.url),e.blob=i,e}).otherwise(function(e){return l(r)&&window.URL.revokeObjectURL(r.url),t.reject(e)})}},L.fetchImage=function(e){return new L(e).fetchImage(e.preferBlob)},L.prototype.fetchText=function(){return this.fetch({responseType:"text"})},L.fetchText=function(e){return new L(e).fetchText()},L.prototype.fetchJson=function(){var e=this.fetch({responseType:"text",headers:{Accept:"application/json,*/*;q=0.01"}});if(l(e))return e.then(function(e){if(l(e))return JSON.parse(e)})},L.fetchJson=function(e){return new L(e).fetchJson()},L.prototype.fetchXML=function(){return this.fetch({responseType:"document",overrideMimeType:"text/xml"})},L.fetchXML=function(e){return new L(e).fetchXML()},L.prototype.fetchJsonp=function(e){e=u(e,"callback"),D(this.request);var t;do{t="loadJsonp"+Math.random().toString().substring(2,8)}while(l(window[t]));return R(this,e,t)},L.fetchJsonp=function(e){return new L(e).fetchJsonp(e.callbackParameterName)},L.prototype._makeRequest=function(e){var n=this;D(n.request);var r=n.request;r.url=n.url,r.requestFunction=function(){var i=e.responseType,o=s(e.headers,n.headers),a=e.overrideMimeType,u=e.method,c=e.timeout,h=e.data,d=t.defer(),f=L._Implementations.loadWithXhr(n.url,i,u,h,o,d,a,c);return l(f)&&l(f.abort)&&(r.cancelFunction=function(){f.abort()}),d.promise};var i=C.request(r);if(l(i))return i.then(function(e){return e}).otherwise(function(i){return r.state!==S.FAILED?t.reject(i):n.retryOnError(i).then(function(o){return o?(r.state=S.UNISSUED,r.deferred=void 0,n.fetch(e)):t.reject(i)})})};var V=/^data:(.*?)(;base64)?,(.*)$/;L.prototype.fetch=function(e){return e=P(e,{}),e.method="GET",this._makeRequest(e)},L.fetch=function(e){return new L(e).fetch({responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},L.prototype.delete=function(e){return e=P(e,{}),e.method="DELETE",this._makeRequest(e)},L.delete=function(e){return new L(e).delete({responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout,data:e.data})},L.prototype.head=function(e){return e=P(e,{}),e.method="HEAD",this._makeRequest(e)},L.head=function(e){return new L(e).head({responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},L.prototype.options=function(e){return e=P(e,{}),e.method="OPTIONS",this._makeRequest(e)},L.options=function(e){return new L(e).options({responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},L.prototype.post=function(e,t){return o.defined("data",e),t=P(t,{}),t.method="POST",t.data=e,this._makeRequest(t)},L.post=function(e){return new L(e).post(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},L.prototype.put=function(e,t){return o.defined("data",e),t=P(t,{}),t.method="PUT",t.data=e,this._makeRequest(t)},L.put=function(e){return new L(e).put(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},L.prototype.patch=function(e,t){return o.defined("data",e),t=P(t,{}),t.method="PATCH",t.data=e,this._makeRequest(t)},L.patch=function(e){return new L(e).patch(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},L._Implementations={},L._Implementations.createImage=function(e,t,n){var r=new Image;r.onload=function(){n.resolve(r)},r.onerror=function(e){n.reject(e)},t&&(I.contains(e)?r.crossOrigin="use-credentials":r.crossOrigin=""),r.src=e};var Q="undefined"==typeof XMLHttpRequest;return L._Implementations.loadWithXhr=function(e,t,n,r,i,o,a,s){var u=V.exec(e);if(null!==u)return void o.resolve(U(u,t));if(Q)return void j(e,t,n,r,i,o,a);var c=new XMLHttpRequest;if(I.contains(e)&&(c.withCredentials=!0),c.open(n,e,!0),l(a)&&l(c.overrideMimeType)&&c.overrideMimeType(a),l(i))for(var h in i)i.hasOwnProperty(h)&&c.setRequestHeader(h,i[h]);l(t)&&(c.responseType=t),l(s)&&(c.timeout=s);var d=!1;return"string"==typeof e&&(d=0===e.indexOf("file://")||"undefined"!=typeof window&&"file://"===window.location.origin),c.onload=function(){if((c.status<200||c.status>=300)&&(!d||0!==c.status))return void o.reject(new E(c.status,c.response,c.getAllResponseHeaders()));var e=void 0!==c.response?c.response:c.responseText,r=c.responseType;if("HEAD"===n||"OPTIONS"===n){var i=c.getAllResponseHeaders(),a=i.trim().split(/[\r\n]+/),s={};return a.forEach(function(e){var t=e.split(": "),n=t.shift();s[n]=t.join(": ")}),void o.resolve(s)}if(204===c.status)o.resolve();else if(!l(c.response)||l(t)&&r!==t)if("json"===t&&"string"==typeof e)try{o.resolve(JSON.parse(e))}catch(e){o.reject(e)}else if("document"===t&&"string"==typeof e)try{var u=new DOMParser;o.resolve(u.parseFromString(e,"text/xml"))}catch(e){o.reject(e)}else(""===r||"document"===r)&&l(c.responseXML)&&c.responseXML.hasChildNodes()?o.resolve(c.responseXML):""!==r&&"text"!==r||!l(c.responseText)?"string"==typeof e?o.resolve(e):o.reject(new T("Invalid XMLHttpRequest response type.")):o.resolve(c.responseText);else o.resolve(e)},c.onerror=function(e){o.reject(new E)},c.ontimeout=function(e){var t=new E;t.isTimeout=!0,o.reject(t)},c.send(r),c},L._Implementations.loadAndExecuteScript=function(e,t,n){var r=document.createElement("script");r.async=!0,r.src=e;var i=document.getElementsByTagName("head")[0];r.onload=function(){r.onload=void 0,i.removeChild(r)},r.onerror=function(e){n.reject(e)},i.appendChild(r)},L._DefaultImplementations={},L._DefaultImplementations.createImage=L._Implementations.createImage,L._DefaultImplementations.loadWithXhr=L._Implementations.loadWithXhr,L._DefaultImplementations.loadAndExecuteScript=L._Implementations.loadAndExecuteScript,L.DEFAULT=p(new L({url:"undefined"==typeof document?"":document.location.href.split("?")[0]})),L}.apply(t,i))&&(e.exports=o)}).call(t,n(80).Buffer)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(5),s=r(a),u=n(8),l=r(u),c=n(28),h=r(c),d=n(1518),f=r(d),p={calendar:n(1519),add:n(1520),arHover0:n(1521),arHover1:n(1522),arHover2:n(1523),arOff:n(1524),arOn:n(1525),arRealign:n(1526),arResetAlignment:n(1527),backToStart:n(1528),backward:n(1529),barChart:n(1530),bulb:n(1531),checkboxOff:n(1532),checkboxOn:n(1533),close:n(1534),closed:n(1535),decrease:n(1536),download:n(1537),expand:n(1538),eye:n(1539),feedback:n(1540),folder:n(1541),folderOpen:n(1542),forward:n(1543),geolocation:n(1544),increase:n(1545),left:n(1546),lineChart:n(1547),link:n(1548),loader:n(1549),location:n(1550),loop:n(1551),menu:n(1552),measure:n(1553),opened:n(1554),pause:n(1555),play:n(1556),radioOff:n(1557),radioOn:n(1558),refresh:n(1559),remove:n(1560),right:n(1561),search:n(1562),selected:n(1563),settings:n(1564),share:n(1565),showLess:n(1566),showMore:n(1567),sphere:n(1568),splitter:n(1569),splitterOn:n(1570),splitterOff:n(1571),previous:n(1572),next:n(1573),timeline:n(1574),data:n(1575)},m=(0,l.default)({displayName:"Icon",propTypes:{glyph:s.default.object,style:s.default.object,className:s.default.string},render:function(){var e=this.props.glyph;return o.default.createElement("svg",{viewBox:"0 0 100 100",className:(0,h.default)("icon",this.props.className,f.default.svg),style:this.props.style},o.default.createElement("use",{xlinkHref:"#"+e.id}))}});e.exports=m,e.exports.GLYPHS=p},function(e,t,n){var r,i;r=[n(1),n(0),n(3),n(39),n(6),n(34)],void 0!==(i=function(e,t,n,r,i,o){"use strict";if(!r.supportsTypedArrays())return{};var a={BYTE:o.BYTE,UNSIGNED_BYTE:o.UNSIGNED_BYTE,SHORT:o.SHORT,UNSIGNED_SHORT:o.UNSIGNED_SHORT,INT:o.INT,UNSIGNED_INT:o.UNSIGNED_INT,FLOAT:o.FLOAT,DOUBLE:o.DOUBLE};return a.getSizeInBytes=function(e){switch(e){case a.BYTE:return Int8Array.BYTES_PER_ELEMENT;case a.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case a.SHORT:return Int16Array.BYTES_PER_ELEMENT;case a.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case a.INT:return Int32Array.BYTES_PER_ELEMENT;case a.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case a.FLOAT:return Float32Array.BYTES_PER_ELEMENT;case a.DOUBLE:return Float64Array.BYTES_PER_ELEMENT}},a.fromTypedArray=function(e){return e instanceof Int8Array?a.BYTE:e instanceof Uint8Array?a.UNSIGNED_BYTE:e instanceof Int16Array?a.SHORT:e instanceof Uint16Array?a.UNSIGNED_SHORT:e instanceof Int32Array?a.INT:e instanceof Uint32Array?a.UNSIGNED_INT:e instanceof Float32Array?a.FLOAT:e instanceof Float64Array?a.DOUBLE:void 0},a.validate=function(e){return t(e)&&(e===a.BYTE||e===a.UNSIGNED_BYTE||e===a.SHORT||e===a.UNSIGNED_SHORT||e===a.INT||e===a.UNSIGNED_INT||e===a.FLOAT||e===a.DOUBLE)},a.createTypedArray=function(e,t){switch(e){case a.BYTE:return new Int8Array(t);case a.UNSIGNED_BYTE:return new Uint8Array(t);case a.SHORT:return new Int16Array(t);case a.UNSIGNED_SHORT:return new Uint16Array(t);case a.INT:return new Int32Array(t);case a.UNSIGNED_INT:return new Uint32Array(t);case a.FLOAT:return new Float32Array(t);case a.DOUBLE:return new Float64Array(t)}},a.createArrayBufferView=function(t,n,r,i){switch(r=e(r,0),i=e(i,(n.byteLength-r)/a.getSizeInBytes(t)),t){case a.BYTE:return new Int8Array(n,r,i);case a.UNSIGNED_BYTE:return new Uint8Array(n,r,i);case a.SHORT:return new Int16Array(n,r,i);case a.UNSIGNED_SHORT:return new Uint16Array(n,r,i);case a.INT:return new Int32Array(n,r,i);case a.UNSIGNED_INT:return new Uint32Array(n,r,i);case a.FLOAT:return new Float32Array(n,r,i);case a.DOUBLE:return new Float64Array(n,r,i)}},a.fromName=function(e){switch(e){case"BYTE":return a.BYTE;case"UNSIGNED_BYTE":return a.UNSIGNED_BYTE;case"SHORT":return a.SHORT;case"UNSIGNED_SHORT":return a.UNSIGNED_SHORT;case"INT":return a.INT;case"UNSIGNED_INT":return a.UNSIGNED_INT;case"FLOAT":return a.FLOAT;case"DOUBLE":return a.DOUBLE}},i(a)}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(1),i=n(0),o=function(e,t,n){if(!i(e))return t;var o=e.terria;if(!i(o))return t;var a=o.corsProxy;return i(a)&&(a.shouldUseProxy(t)||e.forceProxy)?a.getURL(t,r(e.cacheDuration,n)):t};e.exports=o},function(e,t,n){var r,i,o;/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.19.2
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(a,s){"use strict";"object"==typeof e&&e.exports?e.exports=s(n(499),n(500),n(501)):(i=[n(499),n(500),n(501)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o))}(0,function(e,t,n,r){"use strict";function i(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof i))return n?r?new i(e,t):new i(e):new i;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}function o(e){return/^[0-9]+$/.test(e)}function a(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function u(e){return"Array"===s(e)}function l(e,t){var n,r,i={};if("RegExp"===s(t))i=null;else if(u(t))for(n=0,r=t.length;n<r;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,r=e.length;n<r;n++){(i&&void 0!==i[e[n]]||!i&&t.test(e[n]))&&(e.splice(n,1),r--,n--)}return e}function c(e,t){var n,r;if(u(t)){for(n=0,r=t.length;n<r;n++)if(!c(e,t[n]))return!1;return!0}var i=s(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function h(e,t){if(!u(e)||!u(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function d(e){var t=/^\/+|\/+$/g;return e.replace(t,"")}function f(e){return escape(e)}function p(e){return encodeURIComponent(e).replace(/[!'()*]/g,f).replace(/\*/g,"%2A")}function m(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function g(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="",n.charAt(0)===t&&(n=n.substring(1))),this._parts[e]=n,this.build(!r),this)}}var _=r&&r.URI;i.version="1.19.2";var v=i.prototype,A=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:i.preventInvalidHostname,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.preventInvalidHostname=!1,i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\._-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.hostProtocols=["http","https"],i.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return i.domAttributes[t]}},i.encode=p,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=p,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},i.encodeQuery=function(e,t){var n=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var y,b={encode:"encode",decode:"decode"},w=function(e,t){return function(n){try{return i[t](n+"").replace(i.characters[e][t].expression,function(n){return i.characters[e][t].map[n]})}catch(e){return n}}};for(y in b)i[y+"PathSegment"]=w("pathname",b[y]),i[y+"UrnPathSegment"]=w("urnpath",b[y]);var x=function(e,t,n){return function(r){var o;o=n?function(e){return i[t](i[n](e))}:i[t];for(var a=(r+"").split(e),s=0,u=a.length;s<u;s++)a[s]=o(a[s]);return a.join(e)}};i.decodePath=x("/","decodePathSegment"),i.decodeUrnPath=x(":","decodeUrnPathSegment"),i.recodePath=x("/","encodePathSegment","decode"),i.recodeUrnPath=x(":","encodeUrnPathSegment","decode"),i.encodeReserved=w("reserved","encode"),i.parse=function(e,t){var n;return t||(t={preventInvalidHostname:i.preventInvalidHostname}),n=e.indexOf("#"),n>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),n=e.indexOf("?"),n>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=i.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){e||(e=""),e=e.replace(/\\/g,"/");var n,r,o=e.indexOf("/");if(-1===o&&(o=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,o)||null,"/"===t.port&&(t.port=null);else{var a=e.indexOf(":"),s=e.indexOf("/"),u=e.indexOf(":",a+1);-1!==u&&(-1===s||u<s)?(t.hostname=e.substring(0,o)||null,t.port=null):(r=e.substring(0,o).split(":"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&"/"!==e.substring(o).charAt(0)&&(o++,e="/"+e),t.preventInvalidHostname&&i.ensureValidHostname(t.hostname,t.protocol),t.port&&i.ensureValidPort(t.port),e.substring(o)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var n,r=e.indexOf("/"),o=e.lastIndexOf("@",r>-1?r:e.length-1);return o>-1&&(-1===r||o<r)?(n=e.substring(0,o).split(":"),t.username=n[0]?i.decode(n[0]):null,n.shift(),t.password=n[0]?i.decode(n.join(":")):null,e=e.substring(o+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,o,a={},s=e.split("&"),u=s.length,l=0;l<u;l++)n=s[l].split("="),r=i.decodeQuery(n.shift(),t),o=n.length?i.decodeQuery(n.join("="),t):null,A.call(a,r)?("string"!=typeof a[r]&&null!==a[r]||(a[r]=[a[r]]),a[r].push(o)):a[r]=o;return a},i.build=function(e){var t="",n=!1;return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//",n=!0),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&n&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(i.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username)),e.password&&(t+=":"+i.encode(e.password)),t&&(t+="@"),t},i.buildQuery=function(e,t,n){var r,o,a,s,l="";for(o in e)if(A.call(e,o))if(u(e[o]))for(r={},a=0,s=e[o].length;a<s;a++)void 0!==e[o][a]&&void 0===r[e[o][a]+""]&&(l+="&"+i.buildQueryParameter(o,e[o][a],n),!0!==t&&(r[e[o][a]+""]=!0));else void 0!==e[o]&&(l+="&"+i.buildQueryParameter(o,e[o],n));return l.substring(1)},i.buildQueryParameter=function(e,t,n){return i.encodeQuery(e,n)+(null!==t?"="+i.encodeQuery(t,n):"")},i.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)A.call(t,r)&&i.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),u(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},i.setQuery=function(e,t,n){if("object"==typeof t)for(var r in t)A.call(t,r)&&i.setQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},i.removeQuery=function(e,t,n){var r,o,a;if(u(t))for(r=0,o=t.length;r<o;r++)e[t[r]]=void 0;else if("RegExp"===s(t))for(a in e)t.test(a)&&(e[a]=void 0);else if("object"==typeof t)for(a in t)A.call(t,a)&&i.removeQuery(e,a,t[a]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===s(n)?!u(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=l(e[t],n):e[t]!==String(n)||u(n)&&1!==n.length?u(e[t])&&(e[t]=l(e[t],n)):e[t]=void 0:e[t]=void 0}},i.hasQuery=function(e,t,n,r){switch(s(t)){case"String":break;case"RegExp":for(var o in e)if(A.call(e,o)&&t.test(o)&&(void 0===n||i.hasQuery(e,o,n)))return!0;return!1;case"Object":for(var a in t)if(A.call(t,a)&&!i.hasQuery(e,a,t[a]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(s(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(u(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":if(!u(e[t]))return!1;return(r?c:h)(e[t],n);case"RegExp":return u(e[t])?!!r&&c(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return u(e[t])?!!r&&c(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.joinPaths=function(){for(var e=[],t=[],n=0,r=0;r<arguments.length;r++){var o=new i(arguments[r]);e.push(o);for(var a=o.segment(),s=0;s<a.length;s++)"string"==typeof a[s]&&t.push(a[s]),a[s]&&n++}if(!t.length||!n)return new i("");var u=new i("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||u.path("/"+u.path()),u.normalize()},i.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},i.withinString=function(e,t,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,a=n.trim||i.findUri.trim,s=n.parens||i.findUri.parens,u=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var l=r.exec(e);if(!l)break;var c=l.index;if(n.ignoreHtml){var h=e.slice(Math.max(c-3,0),c);if(h&&u.test(h))continue}for(var d=c+e.slice(c).search(o),f=e.slice(c,d),p=-1;;){var m=s.exec(f);if(!m)break;var g=m.index+m[0].length;p=Math.max(p,g)}if(f=p>-1?f.slice(0,p)+f.slice(p).replace(a,""):f.replace(a,""),!(f.length<=l[0].length||n.ignore&&n.ignore.test(f))){d=c+f.length;var _=t(f,c,d,e);void 0!==_?(_=String(_),e=e.slice(0,c)+_+e.slice(d),r.lastIndex=c+_.length):r.lastIndex=d}}return r.lastIndex=0,e},i.ensureValidHostname=function(t,n){var r=!!t,o=!!n,a=!1;if(o&&(a=c(i.hostProtocols,n)),a&&!r)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},i.ensureValidPort=function(e){if(e){var t=Number(e);if(!(o(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},i.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=_),this},v.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},v.clone=function(){return new i(this)},v.valueOf=v.toString=function(){return this.build(!1)._string},v.protocol=m("protocol"),v.username=m("username"),v.password=m("password"),v.hostname=m("hostname"),v.port=m("port"),v.query=g("query","?"),v.fragment=g("fragment","#"),v.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},v.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},v.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?i.decodeUrnPath:i.decodePath)(n):n}return this._parts.urn?this._parts.path=e?i.recodeUrnPath(e):"":this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},v.path=v.pathname,v.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var r=e instanceof i,o="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){e=e[i.getDomAttribute(e)]||"",o=!1}if(!r&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");var a=r?e._parts:e;for(n in a)"query"!==n&&A.call(this._parts,n)&&(this._parts[n]=a[n]);a.query&&this.query(a.query,!1)}return this.build(!t),this},v.is=function(e){var t=!1,r=!1,o=!1,a=!1,s=!1,u=!1,l=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),t=r||o,a=!t,s=a&&n&&n.has(this._parts.hostname),u=a&&i.idn_expression.test(this._parts.hostname),l=a&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var E=v.protocol,C=v.port,S=v.hostname;v.protocol=function(e,t){if(e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(i.protocol_expression)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return E.call(this,e,t)},v.scheme=v.protocol,v.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),i.ensureValidPort(e))),C.call(this,e,t))},v.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==i.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&i.ensureValidHostname(e,this._parts.protocol)}return S.call(this,e,t)},v.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var r=i(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},v.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildHost(this._parts):"";if("/"!==i.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},v.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?i.buildAuthority(this._parts):"";if("/"!==i.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},v.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=i.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},v.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=i.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},v.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,o=this._parts.hostname.substring(0,r),s=new RegExp("^"+a(o));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&i.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(s,e),this.build(!t),this},v.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(i.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var o=new RegExp(a(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},v.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[i.toLowerCase()]?n.get(this._parts.hostname)||i:i}var o;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');o=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");o=new RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(o,e)}return this.build(!t),this},v.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?i.decodePath(r):r}var o=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,o),u=new RegExp("^"+a(s));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(u,e),this.build(!t),this},v.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?i.decodePathSegment(r):r}var o=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(o=!0);var s=new RegExp(a(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(s,e),o?this.normalizePath(t):this.build(!t),this},v.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,o=this.filename(),s=o.lastIndexOf(".");return-1===s?"":(n=o.substring(s+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?i.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var u,l=this.suffix();if(l)u=e?new RegExp(a(l)+"$"):new RegExp(a("."+l)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return u&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(u,e)),this.build(!t),this},v.segment=function(e,t,n){var r=this._parts.urn?":":"/",i=this.path(),o="/"===i.substring(0,1),a=i.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(o&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(u(t)){a=[];for(var s=0,l=t.length;s<l;s++)(t[s].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(d(t[s])))}else(t||"string"==typeof t)&&(t=d(t),""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t?a[e]=d(t):a.splice(e,1);return o&&a.unshift(""),this.path(a.join(r),n)},v.segmentCoded=function(e,t,n){var r,o,a;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(r=this.segment(e,t,n),u(r))for(o=0,a=r.length;o<a;o++)r[o]=i.decode(r[o]);else r=void 0!==r?i.decode(r):void 0;return r}if(u(t))for(o=0,a=t.length;o<a;o++)t[o]=i.encode(t[o]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,n)};var T=v.query;return v.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):T.call(this,e,t)},v.setQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)A.call(e,o)&&(r[o]=e[o])}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.addQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,e,void 0===t?null:t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.removeQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,e,t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},v.hasQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,e,t,n)},v.setSearch=v.setQuery,v.addSearch=v.addQuery,v.removeSearch=v.removeQuery,v.hasSearch=v.hasQuery,v.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},v.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},v.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},v.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},v.normalizePath=function(e){var t=this._parts.path;if(!t)return this;if(this._parts.urn)return this._parts.path=i.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;t=i.recodePath(t);var n,r,o,a="";for("/"!==t.charAt(0)&&(n=!0,t="/"+t),"/.."!==t.slice(-3)&&"/."!==t.slice(-2)||(t+="/"),t=t.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),n&&(a=t.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);;){if(-1===(r=t.search(/\/\.\.(\/|$)/)))break;0!==r?(o=t.substring(0,r).lastIndexOf("/"),-1===o&&(o=r),t=t.substring(0,o)+t.substring(r+3)):t=t.substring(3)}return n&&this.is("relative")&&(t=a+t.substring(1)),this._parts.path=t,this.build(!e),this},v.normalizePathname=v.normalizePath,v.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},v.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},v.normalizeSearch=v.normalizeQuery,v.normalizeHash=v.normalizeFragment,v.iso8859=function(){var e=i.encode,t=i.decode;i.encode=escape,i.decode=decodeURIComponent;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},v.unicode=function(){var e=i.encode,t=i.decode;i.encode=p,i.decode=unescape;try{this.normalize()}finally{i.encode=e,i.decode=t}return this},v.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",o=0,a=t._parts.query.split("&"),s=a.length;o<s;o++){var u=(a[o]||"").split("=");r+="&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(r+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=i.decodeQuery(t.hash(),!0)},v.absoluteTo=function(e){var t,n,r,o=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),o._parts.protocol)return o;if(o._parts.protocol=e._parts.protocol,this._parts.hostname)return o;for(n=0;r=a[n];n++)o._parts[r]=e._parts[r];return o._parts.path?(".."===o._parts.path.substring(-2)&&(o._parts.path+="/"),"/"!==o.path().charAt(0)&&(t=e.directory(),t=t||(0===e.path().indexOf("/")?"/":""),o._parts.path=(t?t+"/":"")+o._parts.path,o.normalizePath())):(o._parts.path=e._parts.path,o._parts.query||(o._parts.query=e._parts.query)),o.build(),o},v.relativeTo=function(e){var t,n,r,o,a,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=s._parts,n=e._parts,o=s.path(),a=e.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,o===a)return t.path="",s.build();if(!(r=i.commonPath(o,a)))return s.build();var u=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=u+t.path.substring(r.length)||"./",s.build()},v.equals=function(e){var t,n,r,o=this.clone(),a=new i(e),s={},l={},c={};if(o.normalize(),a.normalize(),o.toString()===a.toString())return!0;if(t=o.query(),n=a.query(),o.query(""),a.query(""),o.toString()!==a.toString())return!1;if(t.length!==n.length)return!1;s=i.parseQuery(t,this._parts.escapeQuerySpace),l=i.parseQuery(n,this._parts.escapeQuerySpace);for(r in s)if(A.call(s,r)){if(u(s[r])){if(!h(s[r],l[r]))return!1}else if(s[r]!==l[r])return!1;c[r]=!0}for(r in l)if(A.call(l,r)&&!c[r])return!1;return!0},v.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},v.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},v.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i})},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,HALF_FLOAT_OES:36193,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047})}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"h",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"l",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"m",function(){return l}),n.d(t,"j",function(){return c}),n.d(t,"k",function(){return h}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"i",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"o",function(){return g}),n.d(t,"n",function(){return _});var r=1,i=2,o=4,a=5,s=484813681109536e-20,u=Math.PI/2,l=.16666666666666666,c=.04722222222222222,h=.022156084656084655,d=1e-10,f=.017453292519943295,p=57.29577951308232,m=Math.PI/4,g=2*Math.PI,_=3.14159265359},function(e,t,n){var r,i;r=[n(232),n(197),n(1),n(0),n(3),n(477),n(478),n(479),n(187),n(300)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l){"use strict";function c(e,t){return m.compare(e.julianDate,t.julianDate)}function h(e){v.julianDate=e;var n=m.leapSeconds,r=t(n,v,c);r<0&&(r=~r),r>=n.length&&(r=n.length-1);var i=n[r].offset;if(r>0){m.secondsDifference(n[r].julianDate,e)>i&&(r--,i=n[r].offset)}m.addSeconds(e,i,e)}function d(e,n){v.julianDate=e;var r=m.leapSeconds,i=t(r,v,c);if(i<0&&(i=~i),0===i)return m.addSeconds(e,-r[0].offset,n);if(i>=r.length)return m.addSeconds(e,-r[i-1].offset,n);var o=m.secondsDifference(r[i].julianDate,e);return 0===o?m.addSeconds(e,-r[i].offset,n):o<=1?void 0:m.addSeconds(e,-r[--i].offset,n)}function f(e,t,n){var r=t/u.SECONDS_PER_DAY|0;return e+=r,t-=u.SECONDS_PER_DAY*r,t<0&&(e--,t+=u.SECONDS_PER_DAY),n.dayNumber=e,n.secondsOfDay=t,n}function p(e,t,n,r,i,o,a){var s=(t-14)/12|0,l=e+4800+s,c=(1461*l/4|0)+(367*(t-2-12*s)/12|0)-(3*((l+100)/100|0)/4|0)+n-32075;(r-=12)<0&&(r+=24);var h=o+(r*u.SECONDS_PER_HOUR+i*u.SECONDS_PER_MINUTE+a*u.SECONDS_PER_MILLISECOND);return h>=43200&&(c-=1),[c,h]}function m(e,t,r){this.dayNumber=void 0,this.secondsOfDay=void 0,e=n(e,0),t=n(t,0),r=n(r,l.UTC);var i=0|e;t+=(e-i)*u.SECONDS_PER_DAY,f(i,t,this),r===l.UTC&&h(this)}var g=new o,_=[31,28,31,30,31,30,31,31,30,31,30,31],v=new s,A=/^(\d{4})$/,y=/^(\d{4})-(\d{2})$/,b=/^(\d{4})-?(\d{3})$/,w=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,x=/^(\d{4})-?(\d{2})-?(\d{2})$/,E=/([Z+\-])?(\d{2})?:?(\d{2})?$/,C=/^(\d{2})(\.\d+)?/.source+E.source,S=/^(\d{2}):?(\d{2})(\.\d+)?/.source+E.source,T=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+E.source;m.fromGregorianDate=function(e,t){var n=p(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond);return r(t)?(f(n[0],n[1],t),h(t),t):new m(n[0],n[1],l.UTC)},m.fromDate=function(e,t){var n=p(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return r(t)?(f(n[0],n[1],t),h(t),t):new m(n[0],n[1],l.UTC)},m.fromIso8601=function(e,t){e=e.replace(",",".");var n,i,o,s=e.split("T"),u=1,c=1,d=0,g=0,v=0,E=0,I=s[0],M=s[1];if(null!==(s=I.match(x)))n=+s[1],u=+s[2],c=+s[3];else if(null!==(s=I.match(y)))n=+s[1],u=+s[2];else if(null!==(s=I.match(A)))n=+s[1];else{var O;if(null!==(s=I.match(b)))n=+s[1],O=+s[2],o=a(n);else if(null!==(s=I.match(w))){n=+s[1];var P=+s[2],D=+s[3]||0,B=new Date(Date.UTC(n,0,4));O=7*P+D-B.getUTCDay()-3}i=new Date(Date.UTC(n,0,1)),i.setUTCDate(O),u=i.getUTCMonth()+1,c=i.getUTCDate()}o=a(n);var L;if(r(M)){s=M.match(T),null!==s?(d=+s[1],g=+s[2],v=+s[3],E=1e3*+(s[4]||0),L=5):(s=M.match(S),null!==s?(d=+s[1],g=+s[2],v=60*+(s[3]||0),L=4):null!==(s=M.match(C))&&(d=+s[1],g=60*+(s[2]||0),L=3));var N=s[L],R=+s[L+1],k=+(s[L+2]||0);switch(N){case"+":d-=R,g-=k;break;case"-":d+=R,g+=k;break;case"Z":break;default:g+=new Date(Date.UTC(n,u-1,c,d,g)).getTimezoneOffset()}}var F=60===v;for(F&&v--;g>=60;)g-=60,d++;for(;d>=24;)d-=24,c++;for(i=o&&2===u?29:_[u-1];c>i;)c-=i,u++,u>12&&(u-=12,n++),i=o&&2===u?29:_[u-1];for(;g<0;)g+=60,d--;for(;d<0;)d+=24,c--;for(;c<1;)u--,u<1&&(u+=12,n--),i=o&&2===u?29:_[u-1],c+=i;var U=p(n,u,c,d,g,v,E);return r(t)?(f(U[0],U[1],t),h(t)):t=new m(U[0],U[1],l.UTC),F&&m.addSeconds(t,1,t),t},m.now=function(e){return m.fromDate(new Date,e)};var I=new m(0,0,l.TAI);return m.toGregorianDate=function(e,t){var n=!1,i=d(e,I);r(i)||(m.addSeconds(e,-1,I),i=d(I,I),n=!0);var a=i.dayNumber,s=i.secondsOfDay;s>=43200&&(a+=1);var l=a+68569|0,c=4*l/146097|0;l=l-((146097*c+3)/4|0)|0;var h=4e3*(l+1)/1461001|0;l=l-(1461*h/4|0)+31|0;var f=80*l/2447|0,p=l-(2447*f/80|0)|0;l=f/11|0;var g=f+2-12*l|0,_=100*(c-49)+h+l|0,v=s/u.SECONDS_PER_HOUR|0,A=s-v*u.SECONDS_PER_HOUR,y=A/u.SECONDS_PER_MINUTE|0;A-=y*u.SECONDS_PER_MINUTE;var b=0|A,w=(A-b)/u.SECONDS_PER_MILLISECOND;return v+=12,v>23&&(v-=24),n&&(b+=1),r(t)?(t.year=_,t.month=g,t.day=p,t.hour=v,t.minute=y,t.second=b,t.millisecond=w,t.isLeapSecond=n,t):new o(_,g,p,v,y,b,w,n)},m.toDate=function(e){var t=m.toGregorianDate(e,g),n=t.second;return t.isLeapSecond&&(n-=1),new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,n,t.millisecond))},m.toIso8601=function(t,n){var i=m.toGregorianDate(t,g),o=i.year,a=i.month,s=i.day,u=i.hour,l=i.minute,c=i.second,h=i.millisecond;1e4===o&&1===a&&1===s&&0===u&&0===l&&0===c&&0===h&&(o=9999,a=12,s=31,u=24);var d;return r(n)||0===h?r(n)&&0!==n?(d=(.01*h).toFixed(n).replace(".","").slice(0,n),e("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",o,a,s,u,l,c,d)):e("%04d-%02d-%02dT%02d:%02d:%02dZ",o,a,s,u,l,c):(d=(.01*h).toString().replace(".",""),e("%04d-%02d-%02dT%02d:%02d:%02d.%sZ",o,a,s,u,l,c,d))},m.clone=function(e,t){if(r(e))return r(t)?(t.dayNumber=e.dayNumber,t.secondsOfDay=e.secondsOfDay,t):new m(e.dayNumber,e.secondsOfDay,l.TAI)},m.compare=function(e,t){var n=e.dayNumber-t.dayNumber;return 0!==n?n:e.secondsOfDay-t.secondsOfDay},m.equals=function(e,t){return e===t||r(e)&&r(t)&&e.dayNumber===t.dayNumber&&e.secondsOfDay===t.secondsOfDay},m.equalsEpsilon=function(e,t,n){return e===t||r(e)&&r(t)&&Math.abs(m.secondsDifference(e,t))<=n},m.totalDays=function(e){return e.dayNumber+e.secondsOfDay/u.SECONDS_PER_DAY},m.secondsDifference=function(e,t){return(e.dayNumber-t.dayNumber)*u.SECONDS_PER_DAY+(e.secondsOfDay-t.secondsOfDay)},m.daysDifference=function(e,t){return e.dayNumber-t.dayNumber+(e.secondsOfDay-t.secondsOfDay)/u.SECONDS_PER_DAY},m.computeTaiMinusUtc=function(e){v.julianDate=e;var n=m.leapSeconds,r=t(n,v,c);return r<0&&(r=~r,--r<0&&(r=0)),n[r].offset},m.addSeconds=function(e,t,n){return f(e.dayNumber,e.secondsOfDay+t,n)},m.addMinutes=function(e,t,n){var r=e.secondsOfDay+t*u.SECONDS_PER_MINUTE;return f(e.dayNumber,r,n)},m.addHours=function(e,t,n){var r=e.secondsOfDay+t*u.SECONDS_PER_HOUR;return f(e.dayNumber,r,n)},m.addDays=function(e,t,n){return f(e.dayNumber+t,e.secondsOfDay,n)},m.lessThan=function(e,t){return m.compare(e,t)<0},m.lessThanOrEquals=function(e,t){return m.compare(e,t)<=0},m.greaterThan=function(e,t){return m.compare(e,t)>0},m.greaterThanOrEquals=function(e,t){return m.compare(e,t)>=0},m.prototype.clone=function(e){return m.clone(this,e)},m.prototype.equals=function(e){return m.equals(this,e)},m.prototype.equalsEpsilon=function(e,t){return m.equalsEpsilon(this,e,t)},m.prototype.toString=function(){return m.toIso8601(this)},m.leapSeconds=[new s(new m(2441317,43210,l.TAI),10),new s(new m(2441499,43211,l.TAI),11),new s(new m(2441683,43212,l.TAI),12),new s(new m(2442048,43213,l.TAI),13),new s(new m(2442413,43214,l.TAI),14),new s(new m(2442778,43215,l.TAI),15),new s(new m(2443144,43216,l.TAI),16),new s(new m(2443509,43217,l.TAI),17),new s(new m(2443874,43218,l.TAI),18),new s(new m(2444239,43219,l.TAI),19),new s(new m(2444786,43220,l.TAI),20),new s(new m(2445151,43221,l.TAI),21),new s(new m(2445516,43222,l.TAI),22),new s(new m(2446247,43223,l.TAI),23),new s(new m(2447161,43224,l.TAI),24),new s(new m(2447892,43225,l.TAI),25),new s(new m(2448257,43226,l.TAI),26),new s(new m(2448804,43227,l.TAI),27),new s(new m(2449169,43228,l.TAI),28),new s(new m(2449534,43229,l.TAI),29),new s(new m(2450083,43230,l.TAI),30),new s(new m(2450630,43231,l.TAI),31),new s(new m(2451179,43232,l.TAI),32),new s(new m(2453736,43233,l.TAI),33),new s(new m(2454832,43234,l.TAI),34),new s(new m(2456109,43235,l.TAI),35),new s(new m(2457204,43236,l.TAI),36),new s(new m(2457754,43237,l.TAI),37)],m}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e)}function i(e){return"[object String]"===r(e)}function o(e,t){return b.call(e,t)}function a(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e}function s(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function u(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function l(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function c(e,t){var n=0;return o(S,t)?S[t]:35===t.charCodeAt(0)&&C.test(t)&&(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),u(n))?l(n):e}function h(e){return e.indexOf("\\")<0?e:e.replace(w,"$1")}function d(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(E,function(e,t,n){return t||c(e,n)})}function f(e){return M[e]}function p(e){return T.test(e)?e.replace(I,f):e}function m(e){return e.replace(O,"\\$&")}function g(e){switch(e){case 9:case 32:return!0}return!1}function _(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function v(e){return P.test(e)}function A(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function y(e){return e.trim().replace(/\s+/g," ").toUpperCase()}var b=Object.prototype.hasOwnProperty,w=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,x=/&([a-z#][a-z0-9]{1,31});/gi,E=new RegExp(w.source+"|"+x.source,"gi"),C=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,S=n(719),T=/[&<>"]/,I=/[&<>"]/g,M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},O=/[.?*+^$[\]\\(){}|-]/g,P=n(332);t.lib={},t.lib.mdurl=n(720),t.lib.ucmicro=n(1704),t.assign=a,t.isString=i,t.has=o,t.unescapeMd=h,t.unescapeAll=d,t.isValidEntityCode=u,t.fromCodePoint=l,t.escapeHtml=p,t.arrayReplaceAt=s,t.isSpace=g,t.isWhiteSpace=_,t.isMdAsciiPunct=A,t.isPunctChar=v,t.escapeRE=m,t.normalizeReference=y},function(e,t,n){var r,i;r=[n(10),n(24),n(12),n(1),n(0),n(23),n(72),n(71),n(301),n(9),n(40),n(20),n(16)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d){"use strict";function f(t,n){this.center=e.clone(r(t,e.ZERO)),this.radius=r(n,0)}var p=new e,m=new e,g=new e,_=new e,v=new e,A=new e,y=new e,b=new e,w=new e,x=new e,E=new e,C=new e,S=4/3*l.PI;f.fromPoints=function(t,n){if(i(n)||(n=new f),!i(t)||0===t.length)return n.center=e.clone(e.ZERO,n.center),n.radius=0,n;var r,o=e.clone(t[0],y),a=e.clone(o,p),s=e.clone(o,m),u=e.clone(o,g),l=e.clone(o,_),c=e.clone(o,v),h=e.clone(o,A),d=t.length;for(r=1;r<d;r++){e.clone(t[r],o);var S=o.x,T=o.y,I=o.z;S<a.x&&e.clone(o,a),S>l.x&&e.clone(o,l),T<s.y&&e.clone(o,s),T>c.y&&e.clone(o,c),I<u.z&&e.clone(o,u),I>h.z&&e.clone(o,h)}var M=e.magnitudeSquared(e.subtract(l,a,b)),O=e.magnitudeSquared(e.subtract(c,s,b)),P=e.magnitudeSquared(e.subtract(h,u,b)),D=a,B=l,L=M;O>L&&(L=O,D=s,B=c),P>L&&(L=P,D=u,B=h);var N=w;N.x=.5*(D.x+B.x),N.y=.5*(D.y+B.y),N.z=.5*(D.z+B.z);var R=e.magnitudeSquared(e.subtract(B,N,b)),k=Math.sqrt(R),F=x;F.x=a.x,F.y=s.y,F.z=u.z;var U=E;U.x=l.x,U.y=c.y,U.z=h.z;var z=e.midpoint(F,U,C),j=0;for(r=0;r<d;r++){e.clone(t[r],o);var H=e.magnitude(e.subtract(o,z,b));H>j&&(j=H);var V=e.magnitudeSquared(e.subtract(o,N,b));if(V>R){var Q=Math.sqrt(V);k=.5*(k+Q),R=k*k;var G=Q-k;N.x=(k*N.x+G*o.x)/Q,N.y=(k*N.y+G*o.y)/Q,N.z=(k*N.z+G*o.z)/Q}}return k<j?(e.clone(N,n.center),n.radius=k):(e.clone(z,n.center),n.radius=j),n};var T=new a,I=new e,M=new e,O=new t,P=new t;f.fromRectangle2D=function(e,t,n){return f.fromRectangleWithHeights2D(e,t,0,0,n)},f.fromRectangleWithHeights2D=function(t,n,o,a,s){if(i(s)||(s=new f),!i(t))return s.center=e.clone(e.ZERO,s.center),s.radius=0,s;n=r(n,T),d.southwest(t,O),O.height=o,d.northeast(t,P),P.height=a;var u=n.project(O,I),l=n.project(P,M),c=l.x-u.x,h=l.y-u.y,p=l.z-u.z;s.radius=.5*Math.sqrt(c*c+h*h+p*p);var m=s.center;return m.x=u.x+.5*c,m.y=u.y+.5*h,m.z=u.z+.5*p,s};var D=[];f.fromRectangle3D=function(t,n,a,s){if(n=r(n,o.WGS84),a=r(a,0),i(s)||(s=new f),!i(t))return s.center=e.clone(e.ZERO,s.center),s.radius=0,s;var u=d.subsample(t,n,a,D);return f.fromPoints(u,s)},f.fromVertices=function(t,n,o,a){if(i(a)||(a=new f),!i(t)||0===t.length)return a.center=e.clone(e.ZERO,a.center),a.radius=0,a;n=r(n,e.ZERO),o=r(o,3);var s=y;s.x=t[0]+n.x,s.y=t[1]+n.y,s.z=t[2]+n.z;var u,l=e.clone(s,p),c=e.clone(s,m),h=e.clone(s,g),d=e.clone(s,_),S=e.clone(s,v),T=e.clone(s,A),I=t.length;for(u=0;u<I;u+=o){var M=t[u]+n.x,O=t[u+1]+n.y,P=t[u+2]+n.z;s.x=M,s.y=O,s.z=P,M<l.x&&e.clone(s,l),M>d.x&&e.clone(s,d),O<c.y&&e.clone(s,c),O>S.y&&e.clone(s,S),P<h.z&&e.clone(s,h),P>T.z&&e.clone(s,T)}var D=e.magnitudeSquared(e.subtract(d,l,b)),B=e.magnitudeSquared(e.subtract(S,c,b)),L=e.magnitudeSquared(e.subtract(T,h,b)),N=l,R=d,k=D;B>k&&(k=B,N=c,R=S),L>k&&(k=L,N=h,R=T);var F=w;F.x=.5*(N.x+R.x),F.y=.5*(N.y+R.y),F.z=.5*(N.z+R.z);var U=e.magnitudeSquared(e.subtract(R,F,b)),z=Math.sqrt(U),j=x;j.x=l.x,j.y=c.y,j.z=h.z;var H=E;H.x=d.x,H.y=S.y,H.z=T.z;var V=e.midpoint(j,H,C),Q=0;for(u=0;u<I;u+=o){s.x=t[u]+n.x,s.y=t[u+1]+n.y,s.z=t[u+2]+n.z;var G=e.magnitude(e.subtract(s,V,b));G>Q&&(Q=G);var W=e.magnitudeSquared(e.subtract(s,F,b));if(W>U){var q=Math.sqrt(W);z=.5*(z+q),U=z*z;var Y=q-z;F.x=(z*F.x+Y*s.x)/q,F.y=(z*F.y+Y*s.y)/q,F.z=(z*F.z+Y*s.z)/q}}return z<Q?(e.clone(F,a.center),a.radius=z):(e.clone(V,a.center),a.radius=Q),a},f.fromEncodedCartesianVertices=function(t,n,r){if(i(r)||(r=new f),!i(t)||!i(n)||t.length!==n.length||0===t.length)return r.center=e.clone(e.ZERO,r.center),r.radius=0,r;var o=y;o.x=t[0]+n[0],o.y=t[1]+n[1],o.z=t[2]+n[2];var a,s=e.clone(o,p),u=e.clone(o,m),l=e.clone(o,g),c=e.clone(o,_),h=e.clone(o,v),d=e.clone(o,A),S=t.length;for(a=0;a<S;a+=3){var T=t[a]+n[a],I=t[a+1]+n[a+1],M=t[a+2]+n[a+2];o.x=T,o.y=I,o.z=M,T<s.x&&e.clone(o,s),T>c.x&&e.clone(o,c),I<u.y&&e.clone(o,u),I>h.y&&e.clone(o,h),M<l.z&&e.clone(o,l),M>d.z&&e.clone(o,d)}var O=e.magnitudeSquared(e.subtract(c,s,b)),P=e.magnitudeSquared(e.subtract(h,u,b)),D=e.magnitudeSquared(e.subtract(d,l,b)),B=s,L=c,N=O;P>N&&(N=P,B=u,L=h),D>N&&(N=D,B=l,L=d);var R=w;R.x=.5*(B.x+L.x),R.y=.5*(B.y+L.y),R.z=.5*(B.z+L.z);var k=e.magnitudeSquared(e.subtract(L,R,b)),F=Math.sqrt(k),U=x;U.x=s.x,U.y=u.y,U.z=l.z;var z=E;z.x=c.x,z.y=h.y,z.z=d.z;var j=e.midpoint(U,z,C),H=0;for(a=0;a<S;a+=3){o.x=t[a]+n[a],o.y=t[a+1]+n[a+1],o.z=t[a+2]+n[a+2];var V=e.magnitude(e.subtract(o,j,b));V>H&&(H=V);var Q=e.magnitudeSquared(e.subtract(o,R,b));if(Q>k){var G=Math.sqrt(Q);F=.5*(F+G),k=F*F;var W=G-F;R.x=(F*R.x+W*o.x)/G,R.y=(F*R.y+W*o.y)/G,R.z=(F*R.z+W*o.z)/G}}return F<H?(e.clone(R,r.center),r.radius=F):(e.clone(j,r.center),r.radius=H),r},f.fromCornerPoints=function(t,n,r){i(r)||(r=new f);var o=e.midpoint(t,n,r.center);return r.radius=e.distance(o,n),r},f.fromEllipsoid=function(t,n){return i(n)||(n=new f),e.clone(e.ZERO,n.center),n.radius=t.maximumRadius,n};var B=new e;f.fromBoundingSpheres=function(t,n){if(i(n)||(n=new f),!i(t)||0===t.length)return n.center=e.clone(e.ZERO,n.center),n.radius=0,n;var r=t.length;if(1===r)return f.clone(t[0],n);if(2===r)return f.union(t[0],t[1],n);var o,a=[];for(o=0;o<r;o++)a.push(t[o].center);n=f.fromPoints(a,n);var s=n.center,u=n.radius;for(o=0;o<r;o++){var l=t[o];u=Math.max(u,e.distance(s,l.center,B)+l.radius)}return n.radius=u,n};var L=new e,N=new e,R=new e;f.fromOrientedBoundingBox=function(t,n){i(n)||(n=new f);var r=t.halfAxes,o=c.getColumn(r,0,L),a=c.getColumn(r,1,N),s=c.getColumn(r,2,R);return e.add(o,a,o),e.add(o,s,o),n.center=e.clone(t.center,n.center),n.radius=e.magnitude(o),n},f.clone=function(t,n){if(i(t))return i(n)?(n.center=e.clone(t.center,n.center),n.radius=t.radius,n):new f(t.center,t.radius)},f.packedLength=4,f.pack=function(e,t,n){n=r(n,0);var i=e.center;return t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n]=e.radius,t},f.unpack=function(e,t,n){t=r(t,0),i(n)||(n=new f);var o=n.center;return o.x=e[t++],o.y=e[t++],o.z=e[t++],n.radius=e[t],n};var k=new e,F=new e;f.union=function(t,n,r){i(r)||(r=new f);var o=t.center,a=t.radius,s=n.center,u=n.radius,l=e.subtract(s,o,k),c=e.magnitude(l);if(a>=c+u)return t.clone(r),r;if(u>=c+a)return n.clone(r),r;var h=.5*(a+c+u),d=e.multiplyByScalar(l,(-a+h)/c,F);return e.add(d,o,d),e.clone(d,r.center),r.radius=h,r};var U=new e;f.expand=function(t,n,r){r=f.clone(t,r);var i=e.magnitude(e.subtract(n,r.center,U));return i>r.radius&&(r.radius=i),r},f.intersectPlane=function(t,n){var r=t.center,i=t.radius,o=n.normal,a=e.dot(o,r)+n.distance;return a<-i?s.OUTSIDE:a<i?s.INTERSECTING:s.INSIDE},f.transform=function(e,t,n){return i(n)||(n=new f),n.center=h.multiplyByPoint(t,e.center,n.center),n.radius=h.getMaximumScale(t)*e.radius,n};var z=new e;f.distanceSquaredTo=function(t,n){var r=e.subtract(t.center,n,z);return e.magnitudeSquared(r)-t.radius*t.radius},f.transformWithoutScale=function(e,t,n){return i(n)||(n=new f),n.center=h.multiplyByPoint(t,e.center,n.center),n.radius=e.radius,n};var j=new e;f.computePlaneDistances=function(t,n,r,o){i(o)||(o=new u);var a=e.subtract(t.center,n,j),s=e.dot(r,a);return o.start=s-t.radius,o.stop=s+t.radius,o};for(var H=new e,V=new e,Q=new e,G=new e,W=new e,q=new t,Y=new Array(8),K=0;K<8;++K)Y[K]=new e;var X=new a;return f.projectTo2D=function(t,n,i){n=r(n,X);var o=n.ellipsoid,a=t.center,s=t.radius,u=o.geodeticSurfaceNormal(a,H),l=e.cross(e.UNIT_Z,u,V);e.normalize(l,l);var c=e.cross(u,l,Q);e.normalize(c,c),e.multiplyByScalar(u,s,u),e.multiplyByScalar(c,s,c),e.multiplyByScalar(l,s,l);var h=e.negate(c,W),d=e.negate(l,G),p=Y,m=p[0];e.add(u,c,m),e.add(m,l,m),m=p[1],e.add(u,c,m),e.add(m,d,m),m=p[2],e.add(u,h,m),e.add(m,d,m),m=p[3],e.add(u,h,m),e.add(m,l,m),e.negate(u,u),m=p[4],e.add(u,c,m),e.add(m,l,m),m=p[5],e.add(u,c,m),e.add(m,d,m),m=p[6],e.add(u,h,m),e.add(m,d,m),m=p[7],e.add(u,h,m),e.add(m,l,m);for(var g=p.length,_=0;_<g;++_){var v=p[_];e.add(a,v,v);var A=o.cartesianToCartographic(v,q);n.project(A,v)}i=f.fromPoints(p,i),a=i.center;var y=a.x,b=a.y,w=a.z;return a.x=w,a.y=y,a.z=b,i},f.isOccluded=function(e,t){return!t.isBoundingSphereVisible(e)},f.equals=function(t,n){return t===n||i(t)&&i(n)&&e.equals(t.center,n.center)&&t.radius===n.radius},f.prototype.intersectPlane=function(e){return f.intersectPlane(this,e)},f.prototype.distanceSquaredTo=function(e){return f.distanceSquaredTo(this,e)},f.prototype.computePlaneDistances=function(e,t,n){return f.computePlaneDistances(this,e,t,n)},f.prototype.isOccluded=function(e){return f.isOccluded(this,e)},f.prototype.equals=function(e){return f.equals(this,e)},f.prototype.clone=function(e){return f.clone(this,e)},f.prototype.volume=function(){var e=this.radius;return S*e*e*e},f}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(813)],void 0!==(i=function(e,t,n){"use strict";function r(e){for(var t=e.split("."),n=0,r=t.length;n<r;++n)t[n]=parseInt(t[n],10);return t}function i(){if(!t(b)&&(b=!1,!d())){var e=/ Chrome\/([\.0-9]+)/.exec(y.userAgent);null!==e&&(b=!0,w=r(e[1]))}return b}function o(){return i()&&w}function a(){if(!t(x)&&(x=!1,!i()&&!d()&&/ Safari\/[\.0-9]+/.test(y.userAgent))){var e=/ Version\/([\.0-9]+)/.exec(y.userAgent);null!==e&&(x=!0,E=r(e[1]))}return x}function s(){return a()&&E}function u(){if(!t(C)){C=!1;var e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(y.userAgent);null!==e&&(C=!0,S=r(e[1]),S.isNightly=!!e[2])}return C}function l(){return u()&&S}function c(){if(!t(T)){T=!1;var e;"Microsoft Internet Explorer"===y.appName?null!==(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(y.userAgent))&&(T=!0,I=r(e[1])):"Netscape"===y.appName&&null!==(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(y.userAgent))&&(T=!0,I=r(e[1]))}return T}function h(){return c()&&I}function d(){if(!t(M)){M=!1;var e=/ Edge\/([\.0-9]+)/.exec(y.userAgent);null!==e&&(M=!0,O=r(e[1]))}return M}function f(){return d()&&O}function p(){if(!t(P)){P=!1;var e=/Firefox\/([\.0-9]+)/.exec(y.userAgent);null!==e&&(P=!0,D=r(e[1]))}return P}function m(){return t(B)||(B=/Windows/i.test(y.appVersion)),B}function g(){return p()&&D}function _(){return t(L)||(L=!p()&&"undefined"!=typeof PointerEvent&&(!t(y.pointerEnabled)||y.pointerEnabled)),L}function v(){if(!t(R)){var e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");var n=e.style.imageRendering;R=t(n)&&""!==n,R&&(N=n)}return R}function A(){return v()?N:void 0}var y;y="undefined"!=typeof navigator?navigator:{};var b,w,x,E,C,S,T,I,M,O,P,D,B,L,N,R,k=[];"undefined"!=typeof ArrayBuffer&&(k.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&k.push(Uint8ClampedArray),"undefined"!=typeof CanvasPixelArray&&k.push(CanvasPixelArray));var F={isChrome:i,chromeVersion:o,isSafari:a,safariVersion:s,isWebkit:u,webkitVersion:l,isInternetExplorer:c,internetExplorerVersion:h,isEdge:d,edgeVersion:f,isFirefox:p,firefoxVersion:g,isWindows:m,hardwareConcurrency:e(y.hardwareConcurrency,3),supportsPointerEvents:_,supportsImageRenderingPixelated:v,imageRenderingValue:A,typedArrayTypes:k};return F.supportsFullscreen=function(){return n.supportsFullscreen()},F.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},F.supportsWebWorkers=function(){return"undefined"!=typeof Worker},F.supportsWebAssembly=function(){return"undefined"!=typeof WebAssembly&&!F.isEdge()},F}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(12),n(1),n(0),n(2),n(3),n(6),n(9)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e,t,r,i,o,a,s,u,l){this[0]=n(e,0),this[1]=n(i,0),this[2]=n(s,0),this[3]=n(t,0),this[4]=n(o,0),this[5]=n(u,0),this[6]=n(r,0),this[7]=n(a,0),this[8]=n(l,0)}function l(e){for(var t=0,n=0;n<9;++n){var r=e[n];t+=r*r}return Math.sqrt(t)}function c(e){for(var t=0,n=0;n<3;++n){var r=e[u.getElementIndex(m[n],p[n])];t+=2*r*r}return Math.sqrt(t)}function h(e,t){for(var n=s.EPSILON15,r=0,i=1,o=0;o<3;++o){var a=Math.abs(e[u.getElementIndex(m[o],p[o])]);a>r&&(i=o,r=a)}var l=1,c=0,h=p[i],d=m[i];if(Math.abs(e[u.getElementIndex(d,h)])>n){var f,g=e[u.getElementIndex(d,d)],_=e[u.getElementIndex(h,h)],v=e[u.getElementIndex(d,h)],A=(g-_)/2/v;f=A<0?-1/(-A+Math.sqrt(1+A*A)):1/(A+Math.sqrt(1+A*A)),l=1/Math.sqrt(1+f*f),c=f*l}return t=u.clone(u.IDENTITY,t),t[u.getElementIndex(h,h)]=t[u.getElementIndex(d,d)]=l,t[u.getElementIndex(d,h)]=c,t[u.getElementIndex(h,d)]=-c,t}u.packedLength=9,u.pack=function(e,t,r){return r=n(r,0),t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t[r++]=e[4],t[r++]=e[5],t[r++]=e[6],t[r++]=e[7],t[r++]=e[8],t},u.unpack=function(e,t,i){return t=n(t,0),r(i)||(i=new u),i[0]=e[t++],i[1]=e[t++],i[2]=e[t++],i[3]=e[t++],i[4]=e[t++],i[5]=e[t++],i[6]=e[t++],i[7]=e[t++],i[8]=e[t++],i},u.clone=function(e,t){if(r(e))return r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new u(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},u.fromArray=function(e,t,i){return t=n(t,0),r(i)||(i=new u),i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],i[4]=e[t+4],i[5]=e[t+5],i[6]=e[t+6],i[7]=e[t+7],i[8]=e[t+8],i},u.fromColumnMajorArray=function(e,t){return u.clone(e,t)},u.fromRowMajorArray=function(e,t){return r(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new u(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},u.fromQuaternion=function(e,t){var n=e.x*e.x,i=e.x*e.y,o=e.x*e.z,a=e.x*e.w,s=e.y*e.y,l=e.y*e.z,c=e.y*e.w,h=e.z*e.z,d=e.z*e.w,f=e.w*e.w,p=n-s-h+f,m=2*(i-d),g=2*(o+c),_=2*(i+d),v=-n+s-h+f,A=2*(l-a),y=2*(o-c),b=2*(l+a),w=-n-s+h+f;return r(t)?(t[0]=p,t[1]=_,t[2]=y,t[3]=m,t[4]=v,t[5]=b,t[6]=g,t[7]=A,t[8]=w,t):new u(p,m,g,_,v,A,y,b,w)},u.fromHeadingPitchRoll=function(e,t){var n=Math.cos(-e.pitch),i=Math.cos(-e.heading),o=Math.cos(e.roll),a=Math.sin(-e.pitch),s=Math.sin(-e.heading),l=Math.sin(e.roll),c=n*i,h=-o*s+l*a*i,d=l*s+o*a*i,f=n*s,p=o*i+l*a*s,m=-l*i+o*a*s,g=-a,_=l*n,v=o*n;return r(t)?(t[0]=c,t[1]=f,t[2]=g,t[3]=h,t[4]=p,t[5]=_,t[6]=d,t[7]=m,t[8]=v,t):new u(c,h,d,f,p,m,g,_,v)},u.fromScale=function(e,t){return r(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new u(e.x,0,0,0,e.y,0,0,0,e.z)},u.fromUniformScale=function(e,t){return r(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new u(e,0,0,0,e,0,0,0,e)},u.fromCrossProduct=function(e,t){return r(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new u(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},u.fromRotationX=function(e,t){var n=Math.cos(e),i=Math.sin(e);return r(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=n,t[5]=i,t[6]=0,t[7]=-i,t[8]=n,t):new u(1,0,0,0,n,-i,0,i,n)},u.fromRotationY=function(e,t){var n=Math.cos(e),i=Math.sin(e);return r(t)?(t[0]=n,t[1]=0,t[2]=-i,t[3]=0,t[4]=1,t[5]=0,t[6]=i,t[7]=0,t[8]=n,t):new u(n,0,i,0,1,0,-i,0,n)},u.fromRotationZ=function(e,t){var n=Math.cos(e),i=Math.sin(e);return r(t)?(t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new u(n,-i,0,i,n,0,0,0,1)},u.toArray=function(e,t){return r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},u.getElementIndex=function(e,t){return 3*e+t},u.getColumn=function(e,t,n){var r=3*t,i=e[r],o=e[r+1],a=e[r+2];return n.x=i,n.y=o,n.z=a,n},u.setColumn=function(e,t,n,r){r=u.clone(e,r);var i=3*t;return r[i]=n.x,r[i+1]=n.y,r[i+2]=n.z,r},u.getRow=function(e,t,n){var r=e[t],i=e[t+3],o=e[t+6];return n.x=r,n.y=i,n.z=o,n},u.setRow=function(e,t,n,r){return r=u.clone(e,r),r[t]=n.x,r[t+3]=n.y,r[t+6]=n.z,r};var d=new e;u.getScale=function(t,n){return n.x=e.magnitude(e.fromElements(t[0],t[1],t[2],d)),n.y=e.magnitude(e.fromElements(t[3],t[4],t[5],d)),n.z=e.magnitude(e.fromElements(t[6],t[7],t[8],d)),n};var f=new e;u.getMaximumScale=function(t){return u.getScale(t,f),e.maximumComponent(f)},u.multiply=function(e,t,n){var r=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],i=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],o=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],a=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],s=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],u=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],l=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],c=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],h=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return n[0]=r,n[1]=i,n[2]=o,n[3]=a,n[4]=s,n[5]=u,n[6]=l,n[7]=c,n[8]=h,n},u.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n},u.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n},u.multiplyByVector=function(e,t,n){var r=t.x,i=t.y,o=t.z,a=e[0]*r+e[3]*i+e[6]*o,s=e[1]*r+e[4]*i+e[7]*o,u=e[2]*r+e[5]*i+e[8]*o;return n.x=a,n.y=s,n.z=u,n},u.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},u.multiplyByScale=function(e,t,n){return n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.x,n[3]=e[3]*t.y,n[4]=e[4]*t.y,n[5]=e[5]*t.y,n[6]=e[6]*t.z,n[7]=e[7]*t.z,n[8]=e[8]*t.z,n},u.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},u.transpose=function(e,t){var n=e[0],r=e[3],i=e[6],o=e[1],a=e[4],s=e[7],u=e[2],l=e[5],c=e[8];return t[0]=n,t[1]=r,t[2]=i,t[3]=o,t[4]=a,t[5]=s,t[6]=u,t[7]=l,t[8]=c,t};var p=[1,0,0],m=[2,2,1],g=new u,_=new u;return u.computeEigenDecomposition=function(e,t){var n=s.EPSILON20,i=0,o=0;r(t)||(t={});for(var a=t.unitary=u.clone(u.IDENTITY,t.unitary),d=t.diagonal=u.clone(e,t.diagonal),f=n*l(d);o<10&&c(d)>f;)h(d,g),u.transpose(g,_),u.multiply(d,g,d),u.multiply(_,d,d),u.multiply(a,g,a),++i>2&&(++o,i=0);return t},u.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},u.determinant=function(e){var t=e[0],n=e[3],r=e[6],i=e[1],o=e[4],a=e[7],s=e[2],u=e[5],l=e[8];return t*(o*l-u*a)+i*(u*r-n*l)+s*(n*a-o*r)},u.inverse=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],h=e[8],d=u.determinant(e);t[0]=a*h-c*s,t[1]=c*i-r*h,t[2]=r*s-a*i,t[3]=l*s-o*h,t[4]=n*h-l*i,t[5]=o*i-n*s,t[6]=o*c-l*a,t[7]=l*r-n*c,t[8]=n*a-o*r;var f=1/d;return u.multiplyByScalar(t,f,t)},u.equals=function(e,t){return e===t||r(e)&&r(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},u.equalsEpsilon=function(e,t,n){return e===t||r(e)&&r(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n&&Math.abs(e[4]-t[4])<=n&&Math.abs(e[5]-t[5])<=n&&Math.abs(e[6]-t[6])<=n&&Math.abs(e[7]-t[7])<=n&&Math.abs(e[8]-t[8])<=n},u.IDENTITY=a(new u(1,0,0,0,1,0,0,0,1)),u.ZERO=a(new u(0,0,0,0,0,0,0,0,0)),u.COLUMN0ROW0=0,u.COLUMN0ROW1=1,u.COLUMN0ROW2=2,u.COLUMN1ROW0=3,u.COLUMN1ROW1=4,u.COLUMN1ROW2=5,u.COLUMN2ROW0=6,u.COLUMN2ROW1=7,u.COLUMN2ROW2=8,i(u.prototype,{length:{get:function(){return u.packedLength}}}),u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},u.prototype.equalsEpsilon=function(e,t){return u.equalsEpsilon(this,e,t)},u.prototype.toString=function(){return"("+this[0]+", "+this[3]+", "+this[6]+")\n("+this[1]+", "+this[4]+", "+this[7]+")\n("+this[2]+", "+this[5]+", "+this[8]+")"},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(3),n(6),n(9)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e,n,r,i){this.x=t(e,0),this.y=t(n,0),this.z=t(r,0),this.w=t(i,0)}a.fromElements=function(e,t,r,i,o){return n(o)?(o.x=e,o.y=t,o.z=r,o.w=i,o):new a(e,t,r,i)},a.fromColor=function(e,t){return n(t)?(t.x=e.red,t.y=e.green,t.z=e.blue,t.w=e.alpha,t):new a(e.red,e.green,e.blue,e.alpha)},a.clone=function(e,t){if(n(e))return n(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new a(e.x,e.y,e.z,e.w)},a.packedLength=4,a.pack=function(e,n,r){return r=t(r,0),n[r++]=e.x,n[r++]=e.y,n[r++]=e.z,n[r]=e.w,n},a.unpack=function(e,r,i){return r=t(r,0),n(i)||(i=new a),i.x=e[r++],i.y=e[r++],i.z=e[r++],i.w=e[r],i},a.packArray=function(e,t){var r=e.length;n(t)?t.length=4*r:t=new Array(4*r);for(var i=0;i<r;++i)a.pack(e[i],t,4*i);return t},a.unpackArray=function(e,t){var r=e.length;n(t)?t.length=r/4:t=new Array(r/4);for(var i=0;i<r;i+=4){var o=i/4;t[o]=a.unpack(e,i,t[o])}return t},a.fromArray=a.unpack,a.maximumComponent=function(e){return Math.max(e.x,e.y,e.z,e.w)},a.minimumComponent=function(e){return Math.min(e.x,e.y,e.z,e.w)},a.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n.w=Math.min(e.w,t.w),n},a.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n.w=Math.max(e.w,t.w),n},a.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var s=new a;a.distance=function(e,t){return a.subtract(e,t,s),a.magnitude(s)},a.distanceSquared=function(e,t){return a.subtract(e,t,s),a.magnitudeSquared(s)},a.normalize=function(e,t){var n=a.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t.w=e.w/n,t},a.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},a.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n.w=e.w*t.w,n},a.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n.w=e.w/t.w,n},a.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},a.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},a.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},a.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},a.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},a.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};var u=new a;a.lerp=function(e,t,n,r){return a.multiplyByScalar(t,n,u),r=a.multiplyByScalar(e,1-n,r),a.add(u,r,r)};var l=new a;a.mostOrthogonalAxis=function(e,t){var n=a.normalize(e,l);return a.abs(n,n),t=n.x<=n.y?n.x<=n.z?n.x<=n.w?a.clone(a.UNIT_X,t):a.clone(a.UNIT_W,t):n.z<=n.w?a.clone(a.UNIT_Z,t):a.clone(a.UNIT_W,t):n.y<=n.z?n.y<=n.w?a.clone(a.UNIT_Y,t):a.clone(a.UNIT_W,t):n.z<=n.w?a.clone(a.UNIT_Z,t):a.clone(a.UNIT_W,t)},a.equals=function(e,t){return e===t||n(e)&&n(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},a.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]&&e.w===t[n+3]},a.equalsEpsilon=function(e,t,r,i){return e===t||n(e)&&n(t)&&o.equalsEpsilon(e.x,t.x,r,i)&&o.equalsEpsilon(e.y,t.y,r,i)&&o.equalsEpsilon(e.z,t.z,r,i)&&o.equalsEpsilon(e.w,t.w,r,i)},a.ZERO=i(new a(0,0,0,0)),a.UNIT_X=i(new a(1,0,0,0)),a.UNIT_Y=i(new a(0,1,0,0)),a.UNIT_Z=i(new a(0,0,1,0)),a.UNIT_W=i(new a(0,0,0,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t,n){return a.equalsEpsilon(this,e,t,n)},a.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var c=new Float32Array(1);return a.packFloat=function(e,t){if(n(t)||(t=new a),c[0]=e,0===(e=c[0]))return a.clone(a.ZERO,t);var r,i=e<0?1:0;isFinite(e)?(e=Math.abs(e),r=Math.floor(o.logBase(e,10))+1,e/=Math.pow(10,r)):(e=.1,r=38);var s=256*e;return t.x=Math.floor(s),s=256*(s-t.x),t.y=Math.floor(s),s=256*(s-t.y),t.z=Math.floor(s),t.w=2*(r+38)+i,t},a.unpackFloat=function(e){var t=e.w/2,n=Math.floor(t),r=2*(t-n);if(n-=38,r=2*r-1,r=-r,n>=38)return r<0?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;var i=r*e.x*(1/256);return i+=r*e.y*(1/65536),(i+=r*e.z*(1/16777216))*Math.pow(10,n)},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0)],void 0!==(i=function(e,t){"use strict";function n(r,i,o){o=e(o,!1);var a,s,u,l={},c=t(r),h=t(i);if(c)for(a in r)r.hasOwnProperty(a)&&(s=r[a],h&&o&&"object"==typeof s&&i.hasOwnProperty(a)?(u=i[a],l[a]="object"==typeof u?n(s,u,o):s):l[a]=s);if(h)for(a in i)i.hasOwnProperty(a)&&!l.hasOwnProperty(a)&&(u=i[a],l[a]=u);return l}return n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(425)],void 0!==(i=function(e,t,n){"use strict";function r(e,n,r,i,o){return{configurable:i,get:function(){return this[n]},set:function(i){var a=this[n],s=this[r];t(s)&&(s(),this[r]=void 0),!(void 0!==i)||t(i)&&t(i.getValue)||!t(o)||(i=o(i)),a!==i&&(this[n]=i,this._definitionChanged.raiseEvent(this,e,i,a)),t(i)&&t(i.definitionChanged)&&(this[r]=i.definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this,e,i,i)},this))}}}function i(e){return new n(e)}function o(t,n,o){return r(t,"_"+t.toString(),"_"+t.toString()+"Subscription",e(n,!1),e(o,i))}return o}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){return i.createIfNeeded(e).fetchJson()}var i=n(29);e.exports=r},function(e,t,n){"use strict";var r=n(35),i=n(201);t.a=function(e){return Math.abs(e)<=r.n?e:e-Object(i.a)(e)*r.o}},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";var t={MORPHING:0,COLUMBUS_VIEW:1,SCENE2D:2,SCENE3D:3};return t.getMorphTime=function(e){if(e===t.SCENE3D)return 1;if(e!==t.MORPHING)return 0},e(t)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({ENVIRONMENT:0,COMPUTE:1,GLOBE:2,TERRAIN_CLASSIFICATION:3,CESIUM_3D_TILE:4,CESIUM_3D_TILE_CLASSIFICATION:5,CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW:6,CLASSIFICATION:7,OPAQUE:8,TRANSLUCENT:9,OVERLAY:10,NUMBER_OF_PASSES:11})}.apply(t,r))&&(e.exports=i)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r,i;r=[n(0),n(3),n(6),n(9),n(34)],void 0!==(i=function(e,t,n,r,i){"use strict";var o={UNSIGNED_BYTE:i.UNSIGNED_BYTE,UNSIGNED_SHORT:i.UNSIGNED_SHORT,UNSIGNED_INT:i.UNSIGNED_INT};return o.getSizeInBytes=function(e){switch(e){case o.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case o.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case o.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT}},o.validate=function(t){return e(t)&&(t===o.UNSIGNED_BYTE||t===o.UNSIGNED_SHORT||t===o.UNSIGNED_INT)},o.createTypedArray=function(e,t){return e>=r.SIXTY_FOUR_KILOBYTES?new Uint32Array(t):new Uint16Array(t)},o.createTypedArrayFromArrayBuffer=function(e,t,n,i){return e>=r.SIXTY_FOUR_KILOBYTES?new Uint32Array(t,n,i):new Uint16Array(t,n,i)},n(o)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(17),n(10),n(41),n(24),n(12),n(1),n(0),n(3),n(921),n(523),n(23),n(922),n(524),n(36),n(9),n(40),n(20),n(59),n(187)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A){"use strict";var y={},b={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},w={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},x={},E={east:new n,north:new n,up:new n,west:new n,south:new n,down:new n},C=new n,S=new n,T=new n;y.localFrameToFixedFrameGenerator=function(e,t){if(!b.hasOwnProperty(e)||!b[e].hasOwnProperty(t))throw new u("firstAxis and secondAxis must be east, north, up, west, south or down.");var r,i=b[e][t],o=e+t;return s(x[o])?r=x[o]:(r=function(r,o,u){if(s(u)||(u=new _),m.equalsEpsilon(r.x,0,m.EPSILON14)&&m.equalsEpsilon(r.y,0,m.EPSILON14)){var l=m.sign(r.z);n.unpack(w[e],0,C),"east"!==e&&"west"!==e&&n.multiplyByScalar(C,l,C),n.unpack(w[t],0,S),"east"!==t&&"west"!==t&&n.multiplyByScalar(S,l,S),n.unpack(w[i],0,T),"east"!==i&&"west"!==i&&n.multiplyByScalar(T,l,T)}else{o=a(o,h.WGS84),o.geodeticSurfaceNormal(r,E.up);var c=E.up,d=E.east;d.x=-r.y,d.y=r.x,d.z=0,n.normalize(d,E.east),n.cross(c,d,E.north),n.multiplyByScalar(E.up,-1,E.down),n.multiplyByScalar(E.east,-1,E.west),n.multiplyByScalar(E.north,-1,E.south),C=E[e],S=E[t],T=E[i]}return u[0]=C.x,u[1]=C.y,u[2]=C.z,u[3]=0,u[4]=S.x,u[5]=S.y,u[6]=S.z,u[7]=0,u[8]=T.x,u[9]=T.y,u[10]=T.z,u[11]=0,u[12]=r.x,u[13]=r.y,u[14]=r.z,u[15]=1,u},x[o]=r),r},y.eastNorthUpToFixedFrame=y.localFrameToFixedFrameGenerator("east","north"),y.northEastDownToFixedFrame=y.localFrameToFixedFrameGenerator("north","east"),y.northUpEastToFixedFrame=y.localFrameToFixedFrameGenerator("north","up"),y.northWestUpToFixedFrame=y.localFrameToFixedFrameGenerator("north","west");var I=new v,M=new n(1,1,1),O=new _;y.headingPitchRollToFixedFrame=function(e,t,r,i,o){i=a(i,y.eastNorthUpToFixedFrame);var s=v.fromHeadingPitchRoll(t,I),u=_.fromTranslationQuaternionRotationScale(n.ZERO,s,M,O);return o=i(e,r,o),_.multiply(o,u,o)};var P=new _,D=new g;y.headingPitchRollQuaternion=function(e,t,n,r,i){var o=y.headingPitchRollToFixedFrame(e,t,n,r,P),a=_.getRotation(o,D);return v.fromRotationMatrix(a,i)};var B=m.TWO_PI/86400,L=new p;y.computeTemeToPseudoFixedMatrix=function(e,t){L=p.addSeconds(e,-p.computeTaiMinusUtc(e),L);var n,r=L.dayNumber,i=L.secondsOfDay,o=r-2451545;n=i>=43200?(o+.5)/A.DAYS_PER_JULIAN_CENTURY:(o-.5)/A.DAYS_PER_JULIAN_CENTURY;var a=24110.54841+n*(8640184.812866+n*(.093104+-62e-7*n)),u=a*B%m.TWO_PI,l=72921158553e-15+1.1772758384668e-19*(r-2451545.5),c=(i+.5*A.SECONDS_PER_DAY)%A.SECONDS_PER_DAY,h=u+l*c,d=Math.cos(h),f=Math.sin(h);return s(t)?(t[0]=d,t[1]=-f,t[2]=0,t[3]=f,t[4]=d,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new g(d,f,0,-f,d,0,0,0,1)},y.iau2006XysData=new d,y.earthOrientationParameters=l.NONE;y.preloadIcrfFixed=function(t){var n=t.start.dayNumber,r=t.start.secondsOfDay+32.184,i=t.stop.dayNumber,o=t.stop.secondsOfDay+32.184,a=y.iau2006XysData.preload(n,r,i,o),s=y.earthOrientationParameters.getPromiseToLoad();return e.all([a,s])},y.computeIcrfToFixedMatrix=function(e,t){s(t)||(t=new g);var n=y.computeFixedToIcrfMatrix(e,t);if(s(n))return g.transpose(n,t)};var N=new f(0,0,0),R=new c(0,0,0,0,0,0),k=new g,F=new g;y.computeFixedToIcrfMatrix=function(e,t){s(t)||(t=new g);var n=y.earthOrientationParameters.compute(e,R);if(s(n)){var r=e.dayNumber,i=e.secondsOfDay+32.184,o=y.iau2006XysData.computeXysRadians(r,i,N);if(s(o)){var a=o.x+n.xPoleOffset,u=o.y+n.yPoleOffset,l=1/(1+Math.sqrt(1-a*a-u*u)),c=k;c[0]=1-l*a*a,c[3]=-l*a*u,c[6]=a,c[1]=-l*a*u,c[4]=1-l*u*u,c[7]=u,c[2]=-a,c[5]=-u,c[8]=1-l*(a*a+u*u);var h=g.fromRotationZ(-o.s,F),d=g.multiply(c,h,k),f=e.dayNumber,_=e.secondsOfDay-p.computeTaiMinusUtc(e)+n.ut1MinusUtc,v=f-2451545,b=_/A.SECONDS_PER_DAY,w=.779057273264+b+.00273781191135448*(v+b);w=w%1*m.TWO_PI;var x=g.fromRotationZ(w,F),E=g.multiply(d,x,k),C=Math.cos(n.xPoleWander),S=Math.cos(n.yPoleWander),T=Math.sin(n.xPoleWander),I=Math.sin(n.yPoleWander),M=r-2451545+i/A.SECONDS_PER_DAY;M/=36525;var O=-47e-6*M*m.RADIANS_PER_DEGREE/3600,P=Math.cos(O),D=Math.sin(O),B=F;return B[0]=C*P,B[1]=C*D,B[2]=T,B[3]=-S*D+I*T*P,B[4]=S*P+I*T*D,B[5]=-I*C,B[6]=-I*D-S*T*P,B[7]=I*P-S*T*D,B[8]=S*C,g.multiply(E,B,t)}}};var U=new r;y.pointToWindowCoordinates=function(e,t,n,r){return r=y.pointToGLWindowCoordinates(e,t,n,r),r.y=2*t[5]-r.y,r},y.pointToGLWindowCoordinates=function(e,n,i,o){s(o)||(o=new t);var a=U;return _.multiplyByVector(e,r.fromElements(i.x,i.y,i.z,1,a),a),r.multiplyByScalar(a,1/a.w,a),_.multiplyByVector(n,a,a),t.fromCartesian4(a,o)};var z=new n,j=new n,H=new n;y.rotationMatrixFromPositionVelocity=function(e,t,r,i){var o=a(r,h.WGS84).geodeticSurfaceNormal(e,z),u=n.cross(t,o,j);n.equalsEpsilon(u,n.ZERO,m.EPSILON6)&&(u=n.clone(n.UNIT_X,u));var l=n.cross(u,t,H);return n.cross(t,l,u),n.negate(u,u),s(i)||(i=new g),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=u.x,i[4]=u.y,i[5]=u.z,i[6]=l.x,i[7]=l.y,i[8]=l.z,i};var V=new _(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),Q=new i,G=new n,W=new n,q=new g,Y=new _,K=new _;return y.basisTo2D=function(e,t,r){var i=_.getTranslation(t,W),o=e.ellipsoid,a=o.cartesianToCartographic(i,Q),s=e.project(a,G);n.fromElements(s.z,s.x,s.y,s);var u=y.eastNorthUpToFixedFrame(i,o,Y),l=_.inverseTransformation(u,K),c=_.getRotation(t,q),h=_.multiplyByMatrix3(l,c,r);return _.multiply(V,h,r),_.setTranslation(r,s,r),r},y.wgs84To2DModelMatrix=function(e,t,r){var i=e.ellipsoid,o=y.eastNorthUpToFixedFrame(t,i,Y),a=_.inverseTransformation(o,K),s=i.cartesianToCartographic(t,Q),u=e.project(s,G);n.fromElements(u.z,u.x,u.y,u);var l=_.fromTranslation(u,Y);return _.multiply(V,a,r),_.multiply(l,r,r),r},y}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e,t){var n="";for(var i in e)if(e.hasOwnProperty(i)){if(i===t||-1!==$.indexOf(i))continue;var o=e[i];o="object"===(void 0===o?"undefined":b(o))?r(o):j(o),i=i.replace(/_/g," "),C(o)&&(n+="<tr><th>"+i+"</th><td>"+o+"</td></tr>")}return n.length>0&&(n='<table class="cesium-infoBox-defaultTable"><tbody>'+n+"</tbody></table>"),n}function i(e,t){e.getData(new R.Data64URIWriter,function(e){t.resolve(P(e))})}function o(e,t){var n,r=0;for(n in t)if(t.hasOwnProperty(n)&&++r>1)break;var i;1===r&&(i=n,t=t[n],C(e.name)&&0!==e.name.length&&!a(e.name,e.url)||(e.name=i));var o=p(e,t);return L(o,function(){return C(e.rectangle)&&!B.equals(e.rectangle,B.MAX_VALUE)||(e.rectangle=A(t)),e._readyData=t,u(e)})}function a(e,t){if(e===t)return!0;if(!t)return!1;var n=t.lastIndexOf(e);return n>=0&&n===t.length-e.length}function s(e,t){return e[H(t||"")%e.length]}function u(e){function t(e,t){if(void 0===e){var n=x.fromCssColorString(s(z.highContrast,t));return n.alpha=1,n}return x.fromCssColorString(e)}function n(e){return"string"==typeof e||e instanceof String?x.fromCssColorString(e):e}var i=e._dataSource,o=N(e.style,{}),a={describe:r,markerSize:N(function(e){var t={small:24,medium:48,large:64};if(void 0!==e)return t[e]?t[e]:parseInt(e,10)}(o["marker-size"]),20),markerSymbol:o["marker-symbol"],markerColor:t(o["marker-color"],e.name),strokeWidth:N(o["stroke-width"],2),polygonStroke:n(N(o.stroke,"#000000")),polylineStroke:t(o.stroke,e.name),markerOpacity:o["marker-opacity"]};return a.fill=t(o.fill,(e.name||"")+" fill"),C(o["stroke-opacity"])&&(a.stroke.alpha=parseFloat(o["stroke-opacity"])),C(o["fill-opacity"])?a.fill.alpha=parseFloat(o["fill-opacity"]):a.fill.alpha=.75,i.load(e._readyData,a).then(function(){for(var e=i.entities.values,t=0;t<e.length;++t){var r=e[t],o=r.properties||{};if(!C(r.billboard)||C(o["marker-symbol"])||C(a.markerSymbol)||(r.point=new F({color:n(N(o["marker-color"],a.markerColor)),pixelSize:N(o["marker-size"],a.markerSize/2),outlineWidth:N(o["stroke-width"],a.strokeWidth),outlineColor:n(N(o.stroke,a.polygonStroke))}),C(o["marker-opacity"])&&(r.point.color.alpha=parseFloat(o["marker-opacity"])),r.billboard=void 0),C(r.billboard)&&C(o["marker-opacity"])&&(r.billboard.color=new x(1,1,1,parseFloat(o["marker-opacity"]))),C(r.polygon)&&d(r.polygon)&&!f(r.polygon)){r.polyline=new D,r.polyline.show=r.polygon.show,C(r.polygon.outlineColor)&&(r.polyline.material=new E(r.polygon.outlineColor.getValue()));var s=r.polygon.hierarchy.getValue(),u=s.positions;h(u),r.polyline.positions=u,r.polyline.width=r.polygon.outlineWidth,l(i.entities,s.holes,r),r.polygon=void 0}}})}function l(e,t,n){if(C(t))for(var r=0;r<t.length;++r)c(e,t[r],n)}function c(e,t,n){if(C(t)&&C(t.positions)&&0!==t.positions.length){var r=new I;r.name=n.name,r.availability=n.availability,r.description=n.description,r.properties=n.properties,r.polyline=new D,r.polyline.show=n.polyline.show,r.polyline.material=n.polyline.material,r.polyline.width=n.polyline.width,h(t.positions),r.polyline.positions=t.positions,e.add(r),l(e,t.holes,n)}}function h(e){e.length>=2&&!w.equalsEpsilon(e[0],e[e.length-1],0,1)&&e.push(e[0])}function d(e){return C(e.outlineWidth)&&e.outlineWidth.getValue()>1}function f(e){var t=!0;if(C(e.fill)&&(t=e.fill.getValue()),!t)return!1;if(!C(e.material))return!0;var n=e.material.getValue();return!C(n)||!C(n.color)||0!==n.color.alpha}function p(e,t){var n;return C(t.crs)?"EPSG"===t.crs.type?n="EPSG:"+t.crs.properties.code:"name"===t.crs.type&&C(t.crs.properties)&&C(t.crs.properties.name)&&(n=K.crsStringToCode(t.crs.properties.name)):n=void 0,t.crs={type:"EPSG",properties:{code:"4326"}},!K.willNeedReprojecting(n)||L(K.checkProjection(e.terria.configParameters.proj4ServiceBaseUrl,n),function(e){if(!e)throw new T("The crs code for this datasource is unsupported.");g(t,"coordinates",function(e,t){e[t]=_(e[t],function(e){return m(e,n)})})})}function m(e,t){if(!(e[0]instanceof Array))return K.reprojectPoint(e,t,"EPSG:4326");for(var n=[],r=0;r<e.length;r++)n.push(K.reprojectPoint(e[r],t,"EPSG:4326"));return n}function g(e,t,n){for(var r in e)!1!==e.hasOwnProperty(r)&&(r===t?n&&"function"==typeof n&&n(e,t):"object"===b(e[r])&&g(e[r],t,n))}function _(e,t){if(!(e[0]instanceof Array&&e[0][0]instanceof Array))return e=t(e);for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=_(e[r],t);return n}function v(e,t){if(e[0]instanceof Array)if(e[0][0]instanceof Array)for(var n=0;n<e.length;n++)v(e[n],t);else for(var r=0;r<e.length;r++)v(e[r],t);else e[0]<t.west&&(t.west=e[0]),e[0]>t.east&&(t.east=e[0]),e[1]<t.south&&(t.south=e[1]),e[1]>t.north&&(t.north=e[1])}function A(e){var t=e;C(e.type)&&"Topology"===e.type&&(t=y(e));var n={west:180,east:-180,south:90,north:-90};return g(t,"coordinates",function(e,t){v(e[t],n)}),B.fromDegrees(n.west,n.south,n.east,n.north)}function y(e){var t=[];for(var n in e.objects)e.objects.hasOwnProperty(n)&&t.push(k.feature(e,e.objects[n]));return t}var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=n(10),x=n(25),E=n(421),C=n(0),S=n(2),T=n(3),I=n(156),M=n(13),O=n(534),P=n(44),D=n(429),B=n(16),L=n(7),N=n(1),R=n(787),k=n(788),F=n(444),U=n(330),z=n(331),j=n(540),H=n(333),V=n(14),Q=n(74),G=n(334),W=n(32),q=n(335),Y=n(22),K=n(336),X=function(e,t){U.call(this,e),this._dataSource=void 0,this._readyData=void 0,this.url=t,this.data=void 0,this.dataSourceUrl=void 0,this.style=void 0,M.track(this,["data","dataSourceUrl","style"])};V(U,X),S(X.prototype,{type:{get:function(){return"geojson"}},typeName:{get:function(){return"GeoJSON"}},metadata:{get:function(){var e=new Q;return e.isLoading=!1,e.dataSourceErrorMessage="This data source does not have any details available.",e.serviceErrorMessage="This service does not have any details available.",e}},dataSource:{get:function(){return this._dataSource}}}),X.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.data]};var Z=/.zip\b/i,J=/.geojson\b/i,$=["title","description","marker-size","marker-symbol","marker-color","stroke","stroke-opacity","stroke-width","fill","fill-opacity"];X.prototype._load=function(){var e=L.defer(),t=this;return n.e(0).then(function(){var r=n(789);G(e,function(){var e=!1;if(C(t._dataSource)&&(e=t.terria.dataSources.remove(t._dataSource,!0)),t._dataSource=new r(t.name),e&&t.terria.dataSources.add(t._dataSource),C(t.data))return L(t.data,function(e){var n;if("undefined"!=typeof Blob&&e instanceof Blob)n=q(e);else if(e instanceof String||"string"==typeof e)try{n=JSON.parse(e)}catch(e){throw new Y({sender:t,title:"Error loading GeoJSON",message:"An error occurred parsing the provided data as JSON.  This may indicate that the file is invalid or that it is not supported by "+t.terria.appName+'.  If you would like assistance or further information, please email us at <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>."})}else n=e;return L(n,function(e){return t.data=e,o(t,e)}).otherwise(function(){throw new Y({sender:t,title:"Error loading GeoJSON",message:"An error occurred while loading a GeoJSON file.  This may indicate that the file is invalid or that it is not supported by "+t.terria.appName+'.  If you would like assistance or further information, please email us at <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>."})})});var n;if(Z.test(t.url)){if("undefined"==typeof FileReader)throw new Y({sender:t,title:"Unsupported web browser",message:"Sorry, your web browser does not support the File API, which "+t.terria.appName+' requires in order to load this dataset.  Please upgrade your web browser.  For the best experience, we recommend the latest versions of <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a>, or <a href="http://www.mozilla.org/firefox" target="_blank">Mozilla Firefox</a>, or <a href="http://www.microsoft.com/ie" target="_blank">Internet Explorer 11</a>.'});n=O(W(t,t.url,"1d")).then(function(e){var t=L.defer();return R.createReader(new R.BlobReader(e),function(e){e.getEntries(function(e){for(var n=!1,r=0;r<e.length;r++){var o=e[r];J.test(o.filename)&&(i(o,t),n=!0)}n||t.reject()})},function(e){t.reject(e)}),t.promise})}else n=P(W(t,t.url,"1d"));return n.then(function(e){return o(t,e)}).otherwise(function(e){if(e instanceof Y)throw e;throw new Y({sender:t,title:"Could not load JSON",message:'An error occurred while retrieving JSON data from the provided link.  <p>If you entered the link manually, please verify that the link is correct.</p><p>This error may also indicate that the server does not support <a href="http://enable-cors.org/" target="_blank">CORS</a>.  If this is your server, verify that CORS is enabled and enable it if it is not.  If you do not control the server, please contact the administrator of the server and ask them to enable CORS.  Or, contact the '+t.terria.appName+' team by emailing <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a> and ask us to add this server to the list of non-CORS-supporting servers that may be proxied by "+t.terria.appName+" itself.</p><p>If you did not enter this link manually, this error may indicate that the data source you're trying to add is temporarily unavailable or there is a problem with your internet connection.  Try adding the data source again, and if the problem persists, please report it by sending an email to <a href=\"mailto:"+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>.</p>"})})})}.bind(null,n)).catch(n.oe),e.promise},e.exports=X},function(e,t,n){var r,i;r=[n(1),n(0),n(3),n(959),n(960),n(527)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e){return e=e.replace(/\/\/.*/g,""),e.replace(/\/\*\*[\s\S]*?\*\//gm,function(e){for(var t=e.match(/\n/gm).length,n="",r=0;r<t;++r)n+="\n";return n})}function s(e,n,r){for(var i,o=0;o<r.length;++o)r[o].name===e&&(i=r[o]);return t(i)||(n=a(n),i={name:e,glslSource:n,dependsOn:[],requiredBy:[],evaluated:!1},r.push(i)),i}function u(e,n){if(!e.evaluated){e.evaluated=!0;var r=e.glslSource.match(/\bczm_[a-zA-Z0-9_]*/g);t(r)&&null!==r&&(r=r.filter(function(e,t){return r.indexOf(e)===t}),r.forEach(function(t){if(t!==e.name&&d._czmBuiltinsAndUniforms.hasOwnProperty(t)){var r=s(t,d._czmBuiltinsAndUniforms[t],n);e.dependsOn.push(r),r.requiredBy.push(e),u(r,n)}}))}}function l(e){for(var t=[],n=[];e.length>0;){var r=e.pop();n.push(r),0===r.requiredBy.length&&t.push(r)}for(;t.length>0;){var i=t.shift();e.push(i);for(var o=0;o<i.dependsOn.length;++o){var a=i.dependsOn[o],s=a.requiredBy.indexOf(i);a.requiredBy.splice(s,1),0===a.requiredBy.length&&t.push(a)}}for(var u=[],l=0;l<n.length;++l)0!==n[l].requiredBy.length&&u.push(n[l])}function c(e){var t=[],n=s("main",e,t);u(n,t),l(t);for(var r="",i=t.length-1;i>=0;--i)r=r+t[i].glslSource+"\n";return r.replace(n.glslSource,"")}function h(e,n,i){var o,s,u="",l=e.sources;if(t(l))for(o=0,s=l.length;o<s;++o)u+="\n#line 0\n"+l[o];u=a(u);var h;u=u.replace(/#version\s+(.*?)\n/gm,function(e,t){return h=t,"\n"});var f=[];u=u.replace(/#extension.*\n/gm,function(e){return f.push(e),"\n"}),u=u.replace(/precision\s(lowp|mediump|highp)\s(float|int);/,"");var p=e.pickColorQualifier;t(p)&&(u=d.createPickFragmentShaderSource(u,p));var m="";t(h)&&(m="#version "+h+"\n");var g=f.length;for(o=0;o<g;o++)m+=f[o];n&&(m+="#ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n#else\n    precision mediump float;\n#endif\n\n");var _=e.defines;if(t(_))for(o=0,s=_.length;o<s;++o){var v=_[o];0!==v.length&&(m+="#define "+v+"\n")}return i.webgl2&&(m+="#define OUTPUT_DECLARATION\n\n"),e.includeBuiltIns&&(m+=c(u)),m+="\n#line 0\n",m+=u,i.webgl2&&(m=r(m,n,!0)),m}function d(n){n=e(n,e.EMPTY_OBJECT);var r=n.pickColorQualifier;this.defines=t(n.defines)?n.defines.slice(0):[],this.sources=t(n.sources)?n.sources.slice(0):[],this.pickColorQualifier=r,this.includeBuiltIns=e(n.includeBuiltIns,!0)}d.prototype.clone=function(){return new d({sources:this.sources,defines:this.defines,pickColorQualifier:this.pickColorQualifier,includeBuiltIns:this.includeBuiltIns})},d.replaceMain=function(e,t){return t="void "+t+"()",e.replace(/void\s+main\s*\(\s*(?:void)?\s*\)/g,t)},d.prototype.createCombinedVertexShader=function(e){return h(this,!1,e)},d.prototype.createCombinedFragmentShader=function(e){return h(this,!0,e)},d._czmBuiltinsAndUniforms={};for(var f in i)i.hasOwnProperty(f)&&(d._czmBuiltinsAndUniforms[f]=i[f]);for(var p in o)if(o.hasOwnProperty(p)){var m=o[p];"function"==typeof m.getDeclaration&&(d._czmBuiltinsAndUniforms[p]=m.getDeclaration(p))}d.createPickVertexShaderSource=function(e){return d.replaceMain(e,"czm_old_main")+"\nattribute vec4 pickColor; \nvarying vec4 czm_pickColor; \nvoid main() \n{ \n    czm_old_main(); \n    czm_pickColor = pickColor; \n}"},d.createPickFragmentShaderSource=function(e,t){return d.replaceMain(e,"czm_old_main")+"\n"+t+" vec4 czm_pickColor; \nvoid main() \n{ \n    czm_old_main(); \n    if (gl_FragColor.a == 0.0) { \n       discard; \n    } \n    gl_FragColor = czm_pickColor; \n}"},d.findVarying=function(e,t){for(var n=e.sources,r=t.length,i=0;i<r;++i)for(var o=t[i],a=n.length,s=0;s<a;++s)if(-1!==n[s].indexOf(o))return o};var g=["v_normalEC","v_normal"];d.findNormalVarying=function(e){return d.findVarying(e,g)};var _=["v_positionEC"];return d.findPositionVarying=function(e){return d.findVarying(e,_)},d}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i,o=n(314);r=[n(1),n(0),n(2),n(12)],void 0!==(i=function(e,t,n,r){"use strict";function i(n,r){var i,o=n;t(s[o])?i=s[o]:(i=a++,s[o]=i),r=e(r,!1),this._id=i,this._html=n,this._showOnScreen=r,this._element=void 0}var a=0,s={};return n(i.prototype,{html:{get:function(){return this._html}},id:{get:function(){return this._id}},showOnScreen:{get:function(){return this._showOnScreen}},element:{get:function(){if(!t(this._element)){var e=o.sanitize(this._html),n=document.createElement("div");n._creditId=this._id,n.style.display="inline",n.innerHTML=e;for(var r=n.querySelectorAll("a"),i=0;i<r.length;i++)r[i].setAttribute("target","_blank");this._element=n}return this._element}}}),i.equals=function(e,n){return e===n||t(e)&&t(n)&&e._id===n._id},i.prototype.equals=function(e){return i.equals(this,e)},i.getIonCredit=function(e){var n=t(e.collapsible)&&!e.collapsible,r=new i(e.html,n);return r._isIon=-1!==r.html.indexOf("ion-credit.png"),r},i.clone=function(e){if(t(e))return new i(e.html,e.showOnScreen)},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";var n={POINTS:t.POINTS,LINES:t.LINES,LINE_LOOP:t.LINE_LOOP,LINE_STRIP:t.LINE_STRIP,TRIANGLES:t.TRIANGLES,TRIANGLE_STRIP:t.TRIANGLE_STRIP,TRIANGLE_FAN:t.TRIANGLE_FAN,validate:function(e){return e===n.POINTS||e===n.LINES||e===n.LINE_LOOP||e===n.LINE_STRIP||e===n.TRIANGLES||e===n.TRIANGLE_STRIP||e===n.TRIANGLE_FAN}};return e(n)}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e,t){e.forEach(function(e){e.allShareKeys.forEach(function(n){var r=n;t[r]&&(r=i(t,n),e.uniqueId===n&&(e.id=r),console.warn("Duplicate shareKey: "+n+". Inserting new item under "+r)),t[r]=e},this),u(e.items)&&r(e.items,t)})}function i(e,t){for(var n=t,r=0;e[n];){var i=n.match(w);if(null!==i){var o=parseInt(i[1],10)+1;n=n.replace(w,"("+o+")")}else n+=" (1)";if(++r>=1e5)throw new p("Was not able to find a unique key for "+t+" after 100000 iterations. This is probably because the regex for matching keys was somehow unable to work for that key.")}return n}function o(e,t){e.forEach(function(e){e.allShareKeys.forEach(function(e){t[e]=void 0},this),u(e.items)&&o(e.items,t)})}var a=n(27),s=n(1),u=n(0),l=n(2),c=n(6),h=n(13),d=n(26),f=n(7),p=n(3),m=n(42),g=n(593),_=n(96),v=n(230),A=n(14),y=n(198),b=function(e){v.call(this,e),this._lastLoadInfluencingValues=void 0,this.isOpen=!1,this.items=[],this.preserveOrder=!1,this.sortFunction=function(e,t){if(e.isPromoted&&!t.isPromoted)return-1;if(!e.isPromoted&&t.isPromoted)return 1;for(var n=e.nameSortKey,r=t.nameSortKey,i=0;i<n.length&&i<r.length;++i){if(n[i]<r[i])return-1;if(n[i]>r[i])return 1}return n.length===r.length?0:n.length>r.length?1:-1},h.track(this,["isOpen","items"]);var t=this;h.getObservable(this,"isOpen").subscribe(function(e){e&&y(t.terria,f.all([t.waitForDisclaimerIfNeeded(),t.load()]))}),h.getObservable(this,"isLoading").subscribe(function(e){!1===e&&t.isOpen&&y(t.terria,t.load())}),this._setupItemListeners()};A(v,b),l(b.prototype,{type:{get:function(){return"group"}},typeName:{get:function(){return"Group"}},isGroup:{get:function(){return!0}},updaters:{get:function(){return b.defaultUpdaters}},serializers:{get:function(){return b.defaultSerializers}},propertiesForSharing:{get:function(){return b.defaultPropertiesForSharing}}}),b.defaultUpdaters=a(v.defaultUpdaters),b.defaultUpdaters.items=function(e,t,n,r){return f(e.load(),function(){return b.updateItems(t.items,r,e)})},b.defaultUpdaters.isLoading=function(e,t,n){},c(b.defaultUpdaters),b.defaultSerializers=a(v.defaultSerializers),b.defaultSerializers.items=function(e,t,n,r){t.items=e.items.filter(function(e){return!u(r.itemFilter)||r.itemFilter(e)}).map(function(e){return e.serializeToJson(r)}).filter(function(e){return u(e)})},b.enabledShareableItemsSerializer=function(e,t,n,r){return b.defaultSerializers.items(e,t,n,m({propertyFilter:g([r.propertyFilter,v.propertyFilters.sharedOnly]),itemFilter:g([r.itemFilter,v.itemFilters.enabled])},r))},b.defaultSerializers.isLoading=function(e,t,n,r){},c(b.defaultSerializers),b.defaultPropertiesForSharing=a(v.defaultPropertiesForSharing),b.defaultPropertiesForSharing.push("items"),b.defaultPropertiesForSharing.push("isOpen"),c(b.defaultPropertiesForSharing),b.prototype._setupItemListeners=function(){var e={added:function(e){e.parent=this,e.connectsWithRoot()&&r([e],this.terria.catalog.shareKeyIndex)}.bind(this),deleted:function(e){e.connectsWithRoot()&&o([e],this.terria.catalog.shareKeyIndex),e.parent=void 0}.bind(this)};h.getObservable(this,"items").subscribe(function(t){t.forEach(function(t){u(t.moved)||e[t.status](t.value)})},null,"arrayChange")};var w=/\((\d+)\)$/;b.prototype.load=function(){var e=v.prototype.load.call(this);if(e)return e.then(function(){this.sortItems(!0)}.bind(this)).otherwise(function(e){throw this.isOpen=!1,e}.bind(this))},b.prototype._load=function(){return f()};var x=c([]);b.prototype._getValuesThatInfluenceLoad=function(){return x},b.prototype.add=function(e){this.items.push(e)},b.prototype.remove=function(e){this.items.remove(e)},b.prototype.toggleOpen=function(){this.isOpen=!this.isOpen},b.prototype.findFirstItemByName=function(e){for(var t=0;t<this.items.length;++t)if(this.items[t].name===e)return this.items[t]},b.prototype.sortItems=function(e){if(this.preserveOrder){var t=this.items.filter(function(e){return e.isPromoted}),n=this.items.filter(function(e){return!e.isPromoted});t.length>0&&n.length>0&&(this.items=t.concat(n))}else this.items.sort(this.sortFunction);if(s(e,!1))for(var r=0;r<this.items.length;++r){var i=this.items[r];u(i.sortItems)&&i.sortItems(e)}},b.prototype.enableWithParents=function(){this.isOpen=!0,this.parent&&this.parent.enableWithParents()},b.updateItems=function(e,t,n){if(!(e instanceof Array))throw new p("JSON catalog description must be an array of groups.");t=s(t,s.EMPTY_OBJECT);for(var r=s(t.onlyUpdateExistingItems,!1),i=[],o=0;o<e.length;++o){var a=e[o];if(!u(a.name)&&!u(a.id))throw new d("A catalog member must have a name or a id for matching.");var l;a.id?l=n.terria.catalog.shareKeyIndex[a.id]:a.name&&(l=n.findFirstItemByName(a.name));var c=u(l);if(!c){if(r)continue;if(!u(a.name))throw new d("A newly created catalog member must have a name.");if(!u(a.type))throw new d("A catalog member must have a type.");l=_(a.type,n.terria)}i.push(l.updateFromJson(a,t)),c||n.add(l)}return n.sortItems(),f.all(i)},e.exports=b},function(e,t,n){"use strict";function r(e){i(e),E(e.clock)&&(e._removeCurrentTimeChange=e.clock.definitionChanged.addEventListener(function(){e._currentTime=M.clone(e.clock.currentTime)}),e._currentTime=M.clone(e.clock.currentTime))}function i(e){E(e._removeCurrentTimeChange)&&(e._removeCurrentTimeChange(),e._removeCurrentTimeChange=void 0)}function o(e){var t=e.terria;if(E(e.creatorCatalogItem)&&(e.creatorCatalogItem.isEnabled=e.isEnabled),e.isEnabled){if(t.nowViewing.add(e),!E(e._loadForEnablePromise)){var n=!1,r=N.all([e.load(),e.waitForDisclaimerIfNeeded()]).then(function(){if(e.isEnabled&&(E(e.nowViewingCatalogItem)&&e.terria.nowViewing.items.remove(e),e._enable(),e.terria.currentViewer.notifyRepaintRequired(),e.terria.currentViewer.addAttribution(e.attribution),E(e.imageryLayer)&&(e.imageryLayer.featureInfoTemplate=e.featureInfoTemplate),e.zoomOnEnable))return e.zoomTo()});B(e.terria,r),r.always(function(){n=!0,e._loadForEnablePromise=void 0}),e._loadForEnablePromise=n?void 0:r}e.isShown=!0,t.analytics.logEvent("dataSource","added",e.name),e._enabledDate=Date.now()}else{e.isShown=!1,E(e._loadForEnablePromise)||(e._disable(),e.terria.currentViewer.removeAttribution(e.attribution)),t.nowViewing.remove(e);var i;e._enabledDate&&(i=(Date.now()-e._enabledDate)/1e3|0),t.analytics.logEvent("dataSource","removed",e.name,i)}e.terria.currentViewer.notifyRepaintRequired()}function a(e){if(E(e.creatorCatalogItem)&&(e.creatorCatalogItem.isShown=e.isShown),e.isShown)e.isEnabled=!0,B(e.terria,N(e._loadForEnablePromise,function(){e.isEnabled&&e.isShown&&(e._show(),e.useClock(),e.terria.currentViewer.notifyRepaintRequired())})),e.terria.analytics.logEvent("dataSource","shown",e.name),e._shownDate=Date.now();else{E(e._loadForEnablePromise)||(e._hide(),e.useClock());var t;E(e._shownDate)?t=(Date.now()-e._shownDate)/1e3|0:e._enabledDate&&(t=(Date.now()-e._enabledDate)/1e3|0),e.terria.analytics.logEvent("dataSource","hidden",e.name,t)}e.terria.currentViewer.notifyRepaintRequired()}function s(e){e._mirroringTerriaClock&&!E(e._removeTerriaClockWatch)?e._removeTerriaClockWatch=e.terria.clock.onTick.addEventListener(function(t){M.equals(t.currentTime,e.clock.currentTime)||u(e,t.currentTime)}):!e._mirroringTerriaClock&&E(e._removeTerriaClockWatch)&&(e._removeTerriaClockWatch(),e._removeTerriaClockWatch=void 0)}function u(e,t){E(e.clock)&&(e.clock.currentTime=M.clone(t))}function l(e){e._lastUseOwnClock!==e.useOwnClock&&E(e.clock)&&E(e.terria)&&E(e.terria.clock)&&E(e.terria.clock.currentTime)&&(e.useOwnClock?u(e,e.terria.clock.currentTime):e.terria.clock.currentTime=M.clone(e.clock.currentTime),e._lastUseOwnClock=e.useOwnClock,e.useClock())}function c(e,t){if(E(t)&&E(e.intervals)&&t>=0&&t<e.intervals.length)return M.toDate(e.intervals.get(t).start)}function h(e){return E(e.currentTime)&&E(e.intervals)&&0!==e.intervals.length}function d(e){if(h(e)&&!p(e,e.currentTime)&&!m(e,e.currentTime))return e.intervals.indexOf(e.currentTime)}function f(e,t){if(E(t)){var n=c(e,t);E(n)&&(e.currentTime=M.fromDate(new Date(n)))}}function p(e,t){var n=e.intervals.get(0);return!!(M.lessThan(t,n.start)||M.equals(t,n.start)&&!n.isStartIncluded)}function m(e,t){var n=e.intervals.length-1,r=e.intervals.get(n);return!!(M.greaterThan(t,r.stop)||M.equals(t,r.stop)&&!r.isStopIncluded)}function g(e){if(h(e)&&!m(e,e.currentTime)){if(p(e,e.currentTime))return 0;var t=d(e);return E(t)&&t<e.intervals.length-1?t+1:void 0}}function _(e){if(h(e)&&!p(e,e.currentTime)){if(m(e,e.currentTime))return e.intervals.length-1;var t=d(e);return E(t)&&t>0?t-1:void 0}}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=n(230),y=n(9),b=n(27),w=n(96),x=n(53),E=n(0),C=n(2),S=n(3),T=n(6),I=n(14),M=n(36),O=n(13),P=n(165),D=n(74),B=n(198),L=n(16),N=n(7),R=function(e){A.call(this,e),this._enabledDate=void 0,this._shownDate=void 0,this._loadForEnablePromise=void 0,this._lastLoadInfluencingValues=void 0,this.nowViewingCatalogItem=void 0,this.creatorCatalogItem=void 0,this.nowViewingIndex=void 0,this.rectangle=void 0,this.url=void 0,this.dataCustodian=void 0,this.attribution=void 0,this.metadataUrl=void 0,this.isEnabled=!1,this.isShown=!1,this.isLegendVisible=!0,this.displayChoicesBeforeLegend=!1,this.clock=void 0,this.isLoading=!1,this.isEnableable=!0,this.isMappable=!0,this.showsInfo=!0,this.nowViewingMessage=void 0,this.featureInfoTemplate=void 0,this.maximumShownFeatureInfos=e.configParameters.defaultMaximumShownFeatureInfos,this.zoomOnEnable=!1,this.dateFormat={},this.useOwnClock=!1,this.disablePreview=!0,this._currentTime=void 0,this._legendUrl=void 0,this._legendUrls=void 0,this._dataUrl=void 0,this._dataUrlType=void 0,O.track(this,["rectangle","dataCustodian","attribution","metadataUrl","isEnabled","isShown","isLegendVisible","clock","_currentTime","isLoading","isMappable","nowViewingMessage","zoomOnEnable","isEnableable","showsInfo","nowViewingMessage","url","_legendUrl","_legendUrls","_dataUrl","_dataUrlType","nowViewingCatalogItem","useOwnClock","disablePreview"]);var t=!1;O.defineProperty(this,"legendUrls",{get:function(){if(!E(this._legendUrls)||0===this._legendUrls.length){var e=t?void 0:this.legendUrl;if(E(e)&&E(e.url)&&e.url.length>0)return[e]}return this._legendUrls},set:function(e){this._legendUrls=e,this._legendUrl=void 0}}),O.defineProperty(this,"legendUrl",{get:function(){t=!0;try{if(E(this._legendUrl))return this._legendUrl;var e=this.legendUrls;if(E(e))return this.legendUrls[0];return}finally{t=!1}},set:function(e){this._legendUrl=e,this._legendUrls=void 0}}),O.defineProperty(this,"dataUrl",{get:function(){return E(this._dataUrl)?this._dataUrl:this.url},set:function(e){this._dataUrl=e}}),O.defineProperty(this,"dataUrlType",{get:function(){return E(this._dataUrlType)?this._dataUrlType:"direct"},set:function(e){this._dataUrlType=e}}),O.defineProperty(this,"currentTime",{get:function(){return this._currentTime},set:function(e){this.useOwnClock?u(this,e):(this.terria.clock.currentTime=M.clone(e),this.terria.clock.tick())}}),O.defineProperty(this,"discreteTime",{get:function(){return c(this,d(this))}}),O.defineProperty(this,"clampedDiscreteTime",{get:function(){if(E(this.discreteTime))return this.discreteTime;if(h(this))return p(this,this.currentTime)?c(this,0):m(this,this.currentTime)?c(this,this.intervals.length-1):void 0}}),O.defineProperty(this,"_mirroringTerriaClock",{get:function(){return this.isEnabled&&!this.useOwnClock&&E(this.clock)}}),O.defineProperty(this,"_clockDefined",{get:function(){return E(this.clock)}}),O.getObservable(this,"_clockDefined").subscribe(function(e){r(this)},this),O.getObservable(this,"isEnabled").subscribe(function(e){o(this)},this),O.getObservable(this,"isShown").subscribe(function(e){a(this)},this),O.getObservable(this,"_mirroringTerriaClock").subscribe(function(e){s(this)},this),O.getObservable(this,"useOwnClock").subscribe(function(e){l(this)},this)};I(A,R),C(R.prototype,{supportsReordering:{get:function(){return!1}},supportsToggleShown:{get:function(){return!0}},supportsOpacity:{get:function(){return!1}},supportsSplitting:{get:function(){return!1}},hasLegend:{get:function(){return E(this.legendUrl)}},canZoomTo:{get:function(){return E(this.nowViewingCatalogItem)?this.nowViewingCatalogItem.canZoomTo:E(this.rectangle)}},metadata:{get:function(){return R.defaultMetadata}},updaters:{get:function(){return R.defaultUpdaters}},serializers:{get:function(){return R.defaultSerializers}},propertiesForSharing:{get:function(){return R.defaultPropertiesForSharing}}}),R.defaultMetadata=new D,R.defaultMetadata.isLoading=!1,R.defaultMetadata.dataSourceErrorMessage="This data item does not have any details available.",R.defaultMetadata.serviceErrorMessage="This service does not have any details available.",T(R.defaultMetadata),R.defaultUpdaters=b(A.defaultUpdaters),R.defaultUpdaters.rectangle=function(e,t,n){E(t.rectangle)?e.rectangle=L.fromDegrees(t.rectangle[0],t.rectangle[1],t.rectangle[2],t.rectangle[3]):e.rectangle=L.MAX_VALUE},R.defaultUpdaters.attribution=function(e,t,n){if(E(t.attribution))if("object"===v(t.attribution)&&t.attribution.text&&t.attribution.link){var r=document.createElement("a");r.href=t.attribution.link,r.target="_blank",r.innerText=t.attribution.text,e.attribution=new x(r.outerHTML)}else"object"===v(t.attribution)&&t.attribution.text?e.attribution=new x(t.attribution.text):"string"==typeof t.attribution&&(e.attribution=new x(t.attribution))},R.defaultUpdaters.legendUrl=function(e,t,n){if(E(t.legendUrl)){var r,i;"string"==typeof t.legendUrl?r=t.legendUrl:(r=t.legendUrl.url,i=t.legendUrl.mimeType),e.legendUrl=new P(r,i)}},R.defaultUpdaters.legendUrls=function(e,t,n){E(t.legendUrls)&&(e.legendUrls=t.legendUrls.map(function(e){var t,n;return"string"==typeof e?t=e:(t=e.url,n=e.mimeType),new P(t,n)}))},R.defaultUpdaters.nowViewingCatalogItem=function(e,t,n,r){if(E(t.nowViewingCatalogItem))return N(e.load()).then(function(){return E(e.nowViewingCatalogItem)||(e.nowViewingCatalogItem=w(t.nowViewingCatalogItem.type,e.terria)),e.nowViewingCatalogItem.updateFromJson(t.nowViewingCatalogItem,r)})},R.defaultUpdaters.currentTime=function(e,t,n){},R.defaultUpdaters.discreteTime=function(e,t,n){},T(R.defaultUpdaters),R.defaultSerializers=b(A.defaultSerializers),R.defaultSerializers.rectangle=function(e,t,n){E(e.rectangle)&&(t.rectangle=[y.toDegrees(e.rectangle.west),y.toDegrees(e.rectangle.south),y.toDegrees(e.rectangle.east),y.toDegrees(e.rectangle.north)])},R.defaultSerializers.legendUrl=function(e,t,n){E(e._legendUrl)&&(t.legendUrl=e._legendUrl)},R.defaultSerializers.legendUrls=function(e,t,n){E(e._legendUrls)&&e._legendUrls.length>0&&(t.legendUrls=e._legendUrls)},R.defaultSerializers.attribution=function(e,t,n){E(e.attribution)&&(E(e.attribution.link)?t.attribution={text:e.attribution.text,link:e.attribution.link}:t.attribution=e.attribution.text)},R.defaultSerializers.dataUrl=function(e,t,n){E(e._dataUrl)&&(t.dataUrl=e._dataUrl)},R.defaultSerializers.dataUrlType=function(e,t,n){E(e._dataUrlType)&&(t.dataUrlType=e._dataUrlType)},R.defaultSerializers.nowViewingCatalogItem=function(e,t,n,r){e.isEnabled&&E(e.nowViewingCatalogItem)&&(t.nowViewingCatalogItem=e.nowViewingCatalogItem.serializeToJson(r))},R.defaultSerializers.currentTime=function(e,t,n){},R.defaultSerializers.discreteTime=function(e,t,n){},R.defaultSerializers.clampedDiscreteTime=function(e,t,n){},T(R.defaultSerializers),R.defaultPropertiesForSharing=b(A.defaultPropertiesForSharing),R.defaultPropertiesForSharing.push("isEnabled"),R.defaultPropertiesForSharing.push("isShown"),R.defaultPropertiesForSharing.push("isLegendVisible"),R.defaultPropertiesForSharing.push("nowViewingIndex"),R.defaultPropertiesForSharing.push("nowViewingCatalogItem"),R.defaultPropertiesForSharing.push("useOwnClock"),T(R.defaultPropertiesForSharing),R.prototype.load=function(){var e=A.prototype.load.call(this);if(e)return e.then(function(e){e instanceof R&&(this.nowViewingCatalogItem=e,e.creatorCatalogItem=this),this.terria.currentViewer.notifyRepaintRequired()}.bind(this)).otherwise(function(e){throw this.isEnabled=!1,e}.bind(this))},R.prototype.loadAndEnable=function(){return this.isEnabled=!0,this._loadingPromise},R.prototype._load=function(){return N()};var k=T([]);R.prototype._getValuesThatInfluenceLoad=function(){return k},R.prototype.toggleEnabled=function(){return this.isEnabled=!this.isEnabled,this.isEnabled},R.prototype.toggleShown=function(){return this.isShown=!this.isShown,this.isShown},R.prototype.toggleLegendVisible=function(){return this.isLegendVisible=!this.isLegendVisible,this.isLegendVisible};var F=new L;R.prototype.zoomTo=function(){var e=this;return N(this.load(),function(){if(E(e.nowViewingCatalogItem))return e.nowViewingCatalogItem.zoomTo();if(E(e.rectangle)){var t=L.clone(e.rectangle,F);t.east-t.west>3.14&&(t=L.clone(e.terria.homeView.rectangle,F),console.log("Extent is wider than world so using homeView."));var n=e.terria;n.analytics.logEvent("dataSource","zoomTo",e.name);var r=y.EPSILON3;return t.east===t.west&&(t.east+=r,t.west-=r),t.north===t.south&&(t.north+=r,t.south-=r),n.currentViewer.zoomTo(t)}})},R.prototype.useClock=function(){var e=this;return N(this.load(),function(){if(E(e.nowViewingCatalogItem))return e.nowViewingCatalogItem.useClock();E(e.clock)&&(e.isEnabled&&e.isShown&&!e.useOwnClock?e.terria.timeSeriesStack.addLayerToTop(e):e.terria.timeSeriesStack.removeLayer(e))})},R.prototype.moveToNextTime=function(){f(this,g(this))},R.prototype.moveToPreviousTime=function(){f(this,_(this))},R.prototype.isNextTimeAvaliable=function(){return E(g(this))},R.prototype.isPreviousTimeAvaliable=function(){return E(_(this))},R.prototype.zoomToAndUseClock=function(){return N.all([this.zoomTo(),this.useClock()])},R.prototype._enable=function(){if(E(this.nowViewingCatalogItem))return void(this.nowViewingCatalogItem.isEnabled=!0);var e=this.terria;E(e.cesium)&&(e.cesium.stoppedRendering=!0,this._enableInCesium()),E(e.leaflet)&&this._enableInLeaflet()},R.prototype._disable=function(){if(E(this.nowViewingCatalogItem))return void(this.nowViewingCatalogItem.isEnabled=!1);var e=this.terria;E(e.cesium)&&this._disableInCesium(),E(e.leaflet)&&this._disableInLeaflet()},R.prototype._show=function(){if(E(this.nowViewingCatalogItem))return void(this.nowViewingCatalogItem.isShown=!0);var e=this.terria;E(e.cesium)&&this._showInCesium(),E(e.leaflet)&&this._showInLeaflet()},R.prototype._hide=function(){if(E(this.nowViewingCatalogItem))return void(this.nowViewingCatalogItem.isShown=!1);var e=this.terria;E(e.cesium)&&this._hideInCesium(),E(e.leaflet)&&this._hideInLeaflet()},R.prototype._enableInCesium=function(){throw new S("_enableInCesium must be implemented in the derived class.")},R.prototype._disableInCesium=function(){throw new S("_disableInCesium must be implemented in the derived class.")},R.prototype._showInCesium=function(){throw new S("_showInCesium must be implemented in the derived class.")},R.prototype._hideInCesium=function(){throw new S("_hideInCesium must be implemented in the derived class.")},R.prototype._enableInLeaflet=function(){throw new S("enableInLeaflet must be implemented in the derived class.")},R.prototype._disableInLeaflet=function(){throw new S("disableInLeaflet must be implemented in the derived class.")},R.prototype._showInLeaflet=function(){throw new S("_showInLeaflet must be implemented in the derived class.")},R.prototype._hideInLeaflet=function(){throw new S("_hideInLeaflet must be implemented in the derived class.")},R.prototype.enableWithParents=function(){this.isEnabled=!0,this.parent&&this.parent.enableWithParents()},R.prototype.handleTileError=function(e,t,n,r,i){return e},e.exports=R},function(e,t,n){var r,i;r=[n(177),n(0),n(62)],void 0!==(i=function(e,t,n){"use strict";function r(){}return r.objectLegacy=function(e,n){if(t(e))for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=n(i,r);if(t(o))return o}},r.object=function(e,n){if(t(e))for(var r=e.length,i=0;i<r;i++){var o=e[i],a=n(o,i);if(t(a))return a}},r.topLevel=function(e,i,o){var a=e[i];return t(a)&&!n(a)?r.objectLegacy(a,o):r.object(a,o)},r.accessor=function(e,t){return r.topLevel(e,"accessors",t)},r.accessorWithSemantic=function(e,n,i){var o={};return r.mesh(e,function(e){return r.meshPrimitive(e,function(e){var a=r.meshPrimitiveAttribute(e,function(e,r){if(0===r.indexOf(n)&&!t(o[e])&&(o[e]=!0,a=i(e),t(a)))return a});return t(a)?a:r.meshPrimitiveTarget(e,function(e){return r.meshPrimitiveTargetAttribute(e,function(e,r){if(0===r.indexOf(n)&&!t(o[e])&&(o[e]=!0,a=i(e),t(a)))return a})})})})},r.accessorContainingVertexAttributeData=function(e,n){var i={};return r.mesh(e,function(e){return r.meshPrimitive(e,function(e){var o=r.meshPrimitiveAttribute(e,function(e){if(!t(i[e])&&(i[e]=!0,o=n(e),t(o)))return o});return t(o)?o:r.meshPrimitiveTarget(e,function(e){return r.meshPrimitiveTargetAttribute(e,function(e){if(!t(i[e])&&(i[e]=!0,o=n(e),t(o)))return o})})})})},r.accessorContainingIndexData=function(e,n){var i={};return r.mesh(e,function(e){return r.meshPrimitive(e,function(e){var r=e.indices;if(t(r)&&!t(i[r])){i[r]=!0;var o=n(r);if(t(o))return o}})})},r.animation=function(e,t){return r.topLevel(e,"animations",t)},r.animationChannel=function(e,t){var n=e.channels;return r.object(n,t)},r.animationSampler=function(e,t){var n=e.samplers;return r.object(n,t)},r.buffer=function(e,t){return r.topLevel(e,"buffers",t)},r.bufferView=function(e,t){return r.topLevel(e,"bufferViews",t)},r.camera=function(e,t){return r.topLevel(e,"cameras",t)},r.image=function(e,t){return r.topLevel(e,"images",t)},r.compressedImage=function(e,n){if(t(e.extras)){var r=e.extras.compressedImage3DTiles;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i],a=n(o,i);if(t(a))return a}}},r.material=function(e,t){return r.topLevel(e,"materials",t)},r.materialValue=function(e,n){var r=e.values;t(e.extensions)&&t(e.extensions.KHR_techniques_webgl)&&(r=e.extensions.KHR_techniques_webgl.values);for(var i in r)if(r.hasOwnProperty(i)){var o=n(r[i],i);if(t(o))return o}},r.mesh=function(e,t){return r.topLevel(e,"meshes",t)},r.meshPrimitive=function(e,n){var r=e.primitives;if(t(r))for(var i=r.length,o=0;o<i;o++){var a=r[o],s=n(a,o);if(t(s))return s}},r.meshPrimitiveAttribute=function(e,n){var r=e.attributes;for(var i in r)if(r.hasOwnProperty(i)){var o=n(r[i],i);if(t(o))return o}},r.meshPrimitiveTarget=function(e,n){var r=e.targets;if(t(r))for(var i=r.length,o=0;o<i;++o){var a=n(r[o],o);if(t(a))return a}},r.meshPrimitiveTargetAttribute=function(e,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=n(i,r);if(t(o))return o}},r.node=function(e,t){return r.topLevel(e,"nodes",t)},r.nodeInTree=function(e,n,i){var o=e.nodes;if(t(o))for(var a=n.length,s=0;s<a;s++){var u=n[s],l=o[u];if(t(l)){var c=i(l,u);if(t(c))return c;var h=l.children;if(t(h)&&(c=r.nodeInTree(e,h,i),t(c)))return c}}},r.nodeInScene=function(e,n,i){var o=n.nodes;if(t(o))return r.nodeInTree(e,o,i)},r.program=function(t,n){return e(t,"KHR_techniques_webgl")?r.object(t.extensions.KHR_techniques_webgl.programs,n):r.topLevel(t,"programs",n)},r.sampler=function(e,t){return r.topLevel(e,"samplers",t)},r.scene=function(e,t){return r.topLevel(e,"scenes",t)},r.shader=function(t,n){return e(t,"KHR_techniques_webgl")?r.object(t.extensions.KHR_techniques_webgl.shaders,n):r.topLevel(t,"shaders",n)},r.skin=function(e,t){return r.topLevel(e,"skins",t)},r.techniqueAttribute=function(e,n){var r=e.attributes;for(var i in r)if(r.hasOwnProperty(i)){var o=n(r[i],i);if(t(o))return o}},r.techniqueUniform=function(e,n){var r=e.uniforms;for(var i in r)if(r.hasOwnProperty(i)){var o=n(r[i],i);if(t(o))return o}},r.techniqueParameter=function(e,n){var r=e.parameters;for(var i in r)if(r.hasOwnProperty(i)){var o=n(r[i],i);if(t(o))return o}},r.technique=function(t,n){return e(t,"KHR_techniques_webgl")?r.object(t.extensions.KHR_techniques_webgl.techniques,n):r.topLevel(t,"techniques",n)},r.texture=function(e,t){return r.topLevel(e,"textures",t)},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e,t,n,a){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},s.range=function(n,r,i){var o,a=[];if(n=s.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;do{a.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<r);return a},s.filter=function(n){return r(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(s.count=function(t,r){return i.setTime(+t),o.setTime(+r),e(i),e(o),Math.floor(n(i,o))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(a?function(t){return a(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}t.a=r;var i=new Date,o=new Date},function(e,t,n){var r,i;r=[n(10),n(12),n(1),n(0),n(39),n(6),n(9),n(40)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e,t,r,i){this.x=n(e,0),this.y=n(t,0),this.z=n(r,0),this.w=n(i,0)}var l=new e;u.fromAxisAngle=function(t,n,i){var o=n/2,a=Math.sin(o);l=e.normalize(t,l);var s=l.x*a,c=l.y*a,h=l.z*a,d=Math.cos(o);return r(i)?(i.x=s,i.y=c,i.z=h,i.w=d,i):new u(s,c,h,d)};var c=[1,2,0],h=new Array(3);u.fromRotationMatrix=function(e,t){var n,i,o,a,l,d=e[s.COLUMN0ROW0],f=e[s.COLUMN1ROW1],p=e[s.COLUMN2ROW2],m=d+f+p;if(m>0)n=Math.sqrt(m+1),l=.5*n,n=.5/n,i=(e[s.COLUMN1ROW2]-e[s.COLUMN2ROW1])*n,o=(e[s.COLUMN2ROW0]-e[s.COLUMN0ROW2])*n,a=(e[s.COLUMN0ROW1]-e[s.COLUMN1ROW0])*n;else{var g=c,_=0;f>d&&(_=1),p>d&&p>f&&(_=2);var v=g[_],A=g[v];n=Math.sqrt(e[s.getElementIndex(_,_)]-e[s.getElementIndex(v,v)]-e[s.getElementIndex(A,A)]+1);var y=h;y[_]=.5*n,n=.5/n,l=(e[s.getElementIndex(A,v)]-e[s.getElementIndex(v,A)])*n,y[v]=(e[s.getElementIndex(v,_)]+e[s.getElementIndex(_,v)])*n,y[A]=(e[s.getElementIndex(A,_)]+e[s.getElementIndex(_,A)])*n,i=-y[0],o=-y[1],a=-y[2]}return r(t)?(t.x=i,t.y=o,t.z=a,t.w=l,t):new u(i,o,a,l)};var d=new u,f=new u,p=new u,m=new u;u.fromHeadingPitchRoll=function(t,n){return m=u.fromAxisAngle(e.UNIT_X,t.roll,d),p=u.fromAxisAngle(e.UNIT_Y,-t.pitch,n),n=u.multiply(p,m,p),f=u.fromAxisAngle(e.UNIT_Z,-t.heading,d),u.multiply(f,n,n)};var g=new e,_=new e,v=new u,A=new u,y=new u;u.packedLength=4,u.pack=function(e,t,r){return r=n(r,0),t[r++]=e.x,t[r++]=e.y,t[r++]=e.z,t[r]=e.w,t},u.unpack=function(e,t,i){return t=n(t,0),r(i)||(i=new u),i.x=e[t],i.y=e[t+1],i.z=e[t+2],i.w=e[t+3],i},u.packedInterpolationLength=3,u.convertPackedArrayForInterpolation=function(e,t,n,r){u.unpack(e,4*n,y),u.conjugate(y,y);for(var i=0,o=n-t+1;i<o;i++){var a=3*i;u.unpack(e,4*(t+i),v),u.multiply(v,y,v),v.w<0&&u.negate(v,v),u.computeAxis(v,g);var s=u.computeAngle(v);r[a]=g.x*s,r[a+1]=g.y*s,r[a+2]=g.z*s}},u.unpackInterpolationResult=function(t,n,i,o,a){r(a)||(a=new u),e.fromArray(t,0,_);var s=e.magnitude(_);return u.unpack(n,4*o,A),0===s?u.clone(u.IDENTITY,v):u.fromAxisAngle(_,s,v),u.multiply(v,A,a)},u.clone=function(e,t){if(r(e))return r(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new u(e.x,e.y,e.z,e.w)},u.conjugate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},u.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},u.magnitude=function(e){return Math.sqrt(u.magnitudeSquared(e))},u.normalize=function(e,t){var n=1/u.magnitude(e),r=e.x*n,i=e.y*n,o=e.z*n,a=e.w*n;return t.x=r,t.y=i,t.z=o,t.w=a,t},u.inverse=function(e,t){var n=u.magnitudeSquared(e);return t=u.conjugate(e,t),u.multiplyByScalar(t,1/n,t)},u.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},u.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},u.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},u.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},u.multiply=function(e,t,n){var r=e.x,i=e.y,o=e.z,a=e.w,s=t.x,u=t.y,l=t.z,c=t.w,h=a*s+r*c+i*l-o*u,d=a*u-r*l+i*c+o*s,f=a*l+r*u-i*s+o*c,p=a*c-r*s-i*u-o*l;return n.x=h,n.y=d,n.z=f,n.w=p,n},u.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},u.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},u.computeAxis=function(e,t){var n=e.w;if(Math.abs(n-1)<a.EPSILON6)return t.x=t.y=t.z=0,t;var r=1/Math.sqrt(1-n*n);return t.x=e.x*r,t.y=e.y*r,t.z=e.z*r,t},u.computeAngle=function(e){return Math.abs(e.w-1)<a.EPSILON6?0:2*Math.acos(e.w)};var b=new u;u.lerp=function(e,t,n,r){return b=u.multiplyByScalar(t,n,b),r=u.multiplyByScalar(e,1-n,r),u.add(b,r,r)};var w=new u,x=new u,E=new u;u.slerp=function(e,t,n,r){var i=u.dot(e,t),o=t;if(i<0&&(i=-i,o=w=u.negate(t,w)),1-i<a.EPSILON6)return u.lerp(e,o,n,r);var s=Math.acos(i);return x=u.multiplyByScalar(e,Math.sin((1-n)*s),x),E=u.multiplyByScalar(o,Math.sin(n*s),E),r=u.add(x,E,r),u.multiplyByScalar(r,1/Math.sin(s),r)},u.log=function(t,n){var r=a.acosClamped(t.w),i=0;return 0!==r&&(i=r/Math.sin(r)),e.multiplyByScalar(t,i,n)},u.exp=function(t,n){var r=e.magnitude(t),i=0;return 0!==r&&(i=Math.sin(r)/r),n.x=t.x*i,n.y=t.y*i,n.z=t.z*i,n.w=Math.cos(r),n};var C=new e,S=new e,T=new u,I=new u;u.computeInnerQuadrangle=function(t,n,r,i){var o=u.conjugate(n,T);u.multiply(o,r,I);var a=u.log(I,C);u.multiply(o,t,I);var s=u.log(I,S);return e.add(a,s,a),e.multiplyByScalar(a,.25,a),e.negate(a,a),u.exp(a,T),u.multiply(n,T,i)},u.squad=function(e,t,n,r,i,o){var a=u.slerp(e,t,i,T),s=u.slerp(n,r,i,I);return u.slerp(a,s,2*i*(1-i),o)};for(var M=new u,O=1.9011074535173003,P=i.supportsTypedArrays()?new Float32Array(8):[],D=i.supportsTypedArrays()?new Float32Array(8):[],B=i.supportsTypedArrays()?new Float32Array(8):[],L=i.supportsTypedArrays()?new Float32Array(8):[],N=0;N<7;++N){var R=N+1,k=2*R+1;P[N]=1/(R*k),D[N]=R/k}return P[7]=O/136,D[7]=8*O/17,u.fastSlerp=function(e,t,n,r){var i,o=u.dot(e,t);o>=0?i=1:(i=-1,o=-o);for(var a=o-1,s=1-n,l=n*n,c=s*s,h=7;h>=0;--h)B[h]=(P[h]*l-D[h])*a,L[h]=(P[h]*c-D[h])*a;var d=i*n*(1+B[0]*(1+B[1]*(1+B[2]*(1+B[3]*(1+B[4]*(1+B[5]*(1+B[6]*(1+B[7])))))))),f=s*(1+L[0]*(1+L[1]*(1+L[2]*(1+L[3]*(1+L[4]*(1+L[5]*(1+L[6]*(1+L[7])))))))),p=u.multiplyByScalar(e,f,M);return u.multiplyByScalar(t,d,r),u.add(p,r,r)},u.fastSquad=function(e,t,n,r,i,o){var a=u.fastSlerp(e,t,i,T),s=u.fastSlerp(n,r,i,I);return u.fastSlerp(a,s,2*i*(1-i),o)},u.equals=function(e,t){return e===t||r(e)&&r(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},u.equalsEpsilon=function(e,t,n){return e===t||r(e)&&r(t)&&Math.abs(e.x-t.x)<=n&&Math.abs(e.y-t.y)<=n&&Math.abs(e.z-t.z)<=n&&Math.abs(e.w-t.w)<=n},u.ZERO=o(new u(0,0,0,0)),u.IDENTITY=o(new u(0,0,0,1)),u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u.prototype.equalsEpsilon=function(e,t){return u.equalsEpsilon(this,e,t)},u.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(54)],void 0!==(i=function(e,t,n,r){"use strict";function i(t){t=e(t,e.EMPTY_OBJECT),this._boundingVolume=t.boundingVolume,this._orientedBoundingBox=t.orientedBoundingBox,this._cull=e(t.cull,!0),this._modelMatrix=t.modelMatrix,this._primitiveType=e(t.primitiveType,r.TRIANGLES),this._vertexArray=t.vertexArray,this._count=t.count,this._offset=e(t.offset,0),this._instanceCount=e(t.instanceCount,0),this._shaderProgram=t.shaderProgram,this._uniformMap=t.uniformMap,this._renderState=t.renderState,this._framebuffer=t.framebuffer,this._pass=t.pass,this._executeInClosestFrustum=e(t.executeInClosestFrustum,!1),this._owner=t.owner,this._debugShowBoundingVolume=e(t.debugShowBoundingVolume,!1),this._debugOverlappingFrustums=0,this._castShadows=e(t.castShadows,!1),this._receiveShadows=e(t.receiveShadows,!1),this._pickId=t.pickId,this._pickOnly=e(t.pickOnly,!1),this.dirty=!0,this.lastDirtyTime=0,this.derivedCommands={}}return n(i.prototype,{boundingVolume:{get:function(){return this._boundingVolume},set:function(e){this._boundingVolume!==e&&(this._boundingVolume=e,this.dirty=!0)}},orientedBoundingBox:{get:function(){return this._orientedBoundingBox},set:function(e){this._orientedBoundingBox!==e&&(this._orientedBoundingBox=e,this.dirty=!0)}},cull:{get:function(){return this._cull},set:function(e){this._cull!==e&&(this._cull=e,this.dirty=!0)}},modelMatrix:{get:function(){return this._modelMatrix},set:function(e){this._modelMatrix!==e&&(this._modelMatrix=e,this.dirty=!0)}},primitiveType:{get:function(){return this._primitiveType},set:function(e){this._primitiveType!==e&&(this._primitiveType=e,this.dirty=!0)}},vertexArray:{get:function(){return this._vertexArray},set:function(e){this._vertexArray!==e&&(this._vertexArray=e,this.dirty=!0)}},count:{get:function(){return this._count},set:function(e){this._count!==e&&(this._count=e,this.dirty=!0)}},offset:{get:function(){return this._offset},set:function(e){this._offset!==e&&(this._offset=e,this.dirty=!0)}},instanceCount:{get:function(){return this._instanceCount},set:function(e){this._instanceCount!==e&&(this._instanceCount=e,this.dirty=!0)}},shaderProgram:{get:function(){return this._shaderProgram},set:function(e){this._shaderProgram!==e&&(this._shaderProgram=e,this.dirty=!0)}},castShadows:{get:function(){return this._castShadows},set:function(e){this._castShadows!==e&&(this._castShadows=e,this.dirty=!0)}},receiveShadows:{get:function(){return this._receiveShadows},set:function(e){this._receiveShadows!==e&&(this._receiveShadows=e,this.dirty=!0)}},uniformMap:{get:function(){return this._uniformMap},set:function(e){this._uniformMap!==e&&(this._uniformMap=e,this.dirty=!0)}},renderState:{get:function(){return this._renderState},set:function(e){this._renderState!==e&&(this._renderState=e,this.dirty=!0)}},framebuffer:{get:function(){return this._framebuffer},set:function(e){this._framebuffer!==e&&(this._framebuffer=e,this.dirty=!0)}},pass:{get:function(){return this._pass},set:function(e){this._pass!==e&&(this._pass=e,this.dirty=!0)}},executeInClosestFrustum:{get:function(){return this._executeInClosestFrustum},set:function(e){this._executeInClosestFrustum!==e&&(this._executeInClosestFrustum=e,this.dirty=!0)}},owner:{get:function(){return this._owner},set:function(e){this._owner!==e&&(this._owner=e,this.dirty=!0)}},debugShowBoundingVolume:{get:function(){return this._debugShowBoundingVolume},set:function(e){this._debugShowBoundingVolume!==e&&(this._debugShowBoundingVolume=e,this.dirty=!0)}},debugOverlappingFrustums:{get:function(){return this._debugOverlappingFrustums},set:function(e){this._debugOverlappingFrustums!==e&&(this._debugOverlappingFrustums=e,this.dirty=!0)}},pickId:{get:function(){return this._pickId},set:function(e){this._pickId!==e&&(this._pickId=e,this.dirty=!0)}},pickOnly:{get:function(){return this._pickOnly}}}),i.shallowClone=function(e,n){if(t(e))return t(n)||(n=new i),n._boundingVolume=e._boundingVolume,n._orientedBoundingBox=e._orientedBoundingBox,n._cull=e._cull,n._modelMatrix=e._modelMatrix,n._primitiveType=e._primitiveType,n._vertexArray=e._vertexArray,n._count=e._count,n._offset=e._offset,n._instanceCount=e._instanceCount,n._shaderProgram=e._shaderProgram,n._uniformMap=e._uniformMap,n._renderState=e._renderState,n._framebuffer=e._framebuffer,n._pass=e._pass,n._executeInClosestFrustum=e._executeInClosestFrustum,n._owner=e._owner,n._debugShowBoundingVolume=e._debugShowBoundingVolume,n._debugOverlappingFrustums=e._debugOverlappingFrustums,n._castShadows=e._castShadows,n._receiveShadows=e._receiveShadows,n._pickId=e._pickId,n._pickOnly=e._pickOnly,n.dirty=!0,n.lastDirtyTime=0,n},i.prototype.execute=function(e,t){e.draw(this,t)},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(2)],void 0!==(i=function(e){"use strict";var t={_maximumCombinedTextureImageUnits:0,_maximumCubeMapSize:0,_maximumFragmentUniformVectors:0,_maximumTextureImageUnits:0,_maximumRenderbufferSize:0,_maximumTextureSize:0,_maximumVaryingVectors:0,_maximumVertexAttributes:0,_maximumVertexTextureImageUnits:0,_maximumVertexUniformVectors:0,_minimumAliasedLineWidth:0,_maximumAliasedLineWidth:0,_minimumAliasedPointSize:0,_maximumAliasedPointSize:0,_maximumViewportWidth:0,_maximumViewportHeight:0,_maximumTextureFilterAnisotropy:0,_maximumDrawBuffers:0,_maximumColorAttachments:0,_highpFloatSupported:!1,_highpIntSupported:!1};return e(t,{maximumCombinedTextureImageUnits:{get:function(){return t._maximumCombinedTextureImageUnits}},maximumCubeMapSize:{get:function(){return t._maximumCubeMapSize}},maximumFragmentUniformVectors:{get:function(){return t._maximumFragmentUniformVectors}},maximumTextureImageUnits:{get:function(){return t._maximumTextureImageUnits}},maximumRenderbufferSize:{get:function(){return t._maximumRenderbufferSize}},maximumTextureSize:{get:function(){return t._maximumTextureSize}},maximumVaryingVectors:{get:function(){return t._maximumVaryingVectors}},maximumVertexAttributes:{get:function(){return t._maximumVertexAttributes}},maximumVertexTextureImageUnits:{get:function(){return t._maximumVertexTextureImageUnits}},maximumVertexUniformVectors:{get:function(){return t._maximumVertexUniformVectors}},minimumAliasedLineWidth:{get:function(){return t._minimumAliasedLineWidth}},maximumAliasedLineWidth:{get:function(){return t._maximumAliasedLineWidth}},minimumAliasedPointSize:{get:function(){return t._minimumAliasedPointSize}},maximumAliasedPointSize:{get:function(){return t._maximumAliasedPointSize}},maximumViewportWidth:{get:function(){return t._maximumViewportWidth}},maximumViewportHeight:{get:function(){return t._maximumViewportHeight}},maximumTextureFilterAnisotropy:{get:function(){return t._maximumTextureFilterAnisotropy}},maximumDrawBuffers:{get:function(){return t._maximumDrawBuffers}},maximumColorAttachments:{get:function(){return t._maximumColorAttachments}},highpFloatSupported:{get:function(){return t._highpFloatSupported}},highpIntSupported:{get:function(){return t._highpIntSupported}}}),t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";var t=Array.isArray;return e(t)||(t=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(1),n(0),n(2),n(23),n(16),n(134)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(r){if(r=t(r,{}),this._ellipsoid=t(r.ellipsoid,i.WGS84),this._numberOfLevelZeroTilesX=t(r.numberOfLevelZeroTilesX,1),this._numberOfLevelZeroTilesY=t(r.numberOfLevelZeroTilesY,1),this._projection=new a(this._ellipsoid),n(r.rectangleSouthwestInMeters)&&n(r.rectangleNortheastInMeters))this._rectangleSouthwestInMeters=r.rectangleSouthwestInMeters,this._rectangleNortheastInMeters=r.rectangleNortheastInMeters;else{var s=this._ellipsoid.maximumRadius*Math.PI;this._rectangleSouthwestInMeters=new e(-s,-s),this._rectangleNortheastInMeters=new e(s,s)}var u=this._projection.unproject(this._rectangleSouthwestInMeters),l=this._projection.unproject(this._rectangleNortheastInMeters);this._rectangle=new o(u.longitude,u.latitude,l.longitude,l.latitude)}return r(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),s.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},s.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},s.prototype.rectangleToNativeRectangle=function(e,t){var r=this._projection,i=r.project(o.southwest(e)),a=r.project(o.northeast(e));return n(t)?(t.west=i.x,t.south=i.y,t.east=a.x,t.north=a.y,t):new o(i.x,i.y,a.x,a.y)},s.prototype.tileXYToNativeRectangle=function(e,t,r,i){var a=this.getNumberOfXTilesAtLevel(r),s=this.getNumberOfYTilesAtLevel(r),u=(this._rectangleNortheastInMeters.x-this._rectangleSouthwestInMeters.x)/a,l=this._rectangleSouthwestInMeters.x+e*u,c=this._rectangleSouthwestInMeters.x+(e+1)*u,h=(this._rectangleNortheastInMeters.y-this._rectangleSouthwestInMeters.y)/s,d=this._rectangleNortheastInMeters.y-t*h,f=this._rectangleNortheastInMeters.y-(t+1)*h;return n(i)?(i.west=l,i.south=f,i.east=c,i.north=d,i):new o(l,f,c,d)},s.prototype.tileXYToRectangle=function(t,n,r,i){var o=this.tileXYToNativeRectangle(t,n,r,i),a=this._projection,s=a.unproject(new e(o.west,o.south)),u=a.unproject(new e(o.east,o.north));return o.west=s.longitude,o.south=s.latitude,o.east=u.longitude,o.north=u.latitude,o},s.prototype.positionToTileXY=function(t,r,i){var a=this._rectangle;if(o.contains(a,t)){var s=this.getNumberOfXTilesAtLevel(r),u=this.getNumberOfYTilesAtLevel(r),l=this._rectangleNortheastInMeters.x-this._rectangleSouthwestInMeters.x,c=l/s,h=this._rectangleNortheastInMeters.y-this._rectangleSouthwestInMeters.y,d=h/u,f=this._projection,p=f.project(t),m=p.x-this._rectangleSouthwestInMeters.x,g=this._rectangleNortheastInMeters.y-p.y,_=m/c|0;_>=s&&(_=s-1);var v=g/d|0;return v>=u&&(v=u-1),n(i)?(i.x=_,i.y=v,i):new e(_,v)}},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";var n={STREAM_DRAW:t.STREAM_DRAW,STATIC_DRAW:t.STATIC_DRAW,DYNAMIC_DRAW:t.DYNAMIC_DRAW,validate:function(e){return e===n.STREAM_DRAW||e===n.STATIC_DRAW||e===n.DYNAMIC_DRAW}};return e(n)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(12),n(1),n(0),n(2),n(23),n(72),n(9),n(16)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(e){e=n(e,{}),this._ellipsoid=n(e.ellipsoid,o.WGS84),this._rectangle=n(e.rectangle,u.MAX_VALUE),this._projection=new a(this._ellipsoid),this._numberOfLevelZeroTilesX=n(e.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=n(e.numberOfLevelZeroTilesY,1)}return i(l.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),l.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},l.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},l.prototype.rectangleToNativeRectangle=function(e,t){var n=s.toDegrees(e.west),i=s.toDegrees(e.south),o=s.toDegrees(e.east),a=s.toDegrees(e.north);return r(t)?(t.west=n,t.south=i,t.east=o,t.north=a,t):new u(n,i,o,a)},l.prototype.tileXYToNativeRectangle=function(e,t,n,r){var i=this.tileXYToRectangle(e,t,n,r);return i.west=s.toDegrees(i.west),i.south=s.toDegrees(i.south),i.east=s.toDegrees(i.east),i.north=s.toDegrees(i.north),i},l.prototype.tileXYToRectangle=function(e,t,n,i){var o=this._rectangle,a=this.getNumberOfXTilesAtLevel(n),s=this.getNumberOfYTilesAtLevel(n),l=o.width/a,c=e*l+o.west,h=(e+1)*l+o.west,d=o.height/s,f=o.north-t*d,p=o.north-(t+1)*d;return r(i)||(i=new u(c,p,h,f)),i.west=c,i.south=p,i.east=h,i.north=f,i},l.prototype.positionToTileXY=function(t,n,i){var o=this._rectangle;if(u.contains(o,t)){var a=this.getNumberOfXTilesAtLevel(n),l=this.getNumberOfYTilesAtLevel(n),c=o.width/a,h=o.height/l,d=t.longitude;o.east<o.west&&(d+=s.TWO_PI);var f=(d-o.west)/c|0;f>=a&&(f=a-1);var p=(o.north-t.latitude)/h|0;return p>=l&&(p=l-1),r(i)?(i.x=f,i.y=p,i):new e(f,p)}},l}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e,t){var n=o(e,t);if(n.state>h)throw new Error("too late; already scheduled");return n}function i(e,t){var n=o(e,t);if(n.state>p)throw new Error("too late; already running");return n}function o(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function a(e,t,n){function r(e){n.state=d,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(r){var c,h,g,v;if(n.state!==d)return a();for(c in l)if(v=l[c],v.name===n.name){if(v.state===p)return Object(u.b)(i);v.state===m?(v.state=_,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete l[c]):+c<t&&(v.state=_,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete l[c])}if(Object(u.b)(function(){n.state===p&&(n.state=m,n.timer.restart(o,n.delay,n.time),o(r))}),n.state=f,n.on.call("start",e,e.__data__,n.index,n.group),n.state===f){for(n.state=p,s=new Array(g=n.tween.length),c=0,h=-1;c<g;++c)(v=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(s[++h]=v);s.length=h+1}}function o(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=g,1),i=-1,o=s.length;++i<o;)s[i].call(e,r);n.state===g&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=_,n.timer.stop(),delete l[t];for(var r in l)return;delete e.__transition}var s,l=e.__transition;l[t]=n,n.timer=Object(u.c)(r,0,n.time)}n.d(t,"c",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return _}),t.g=r,t.h=i,t.f=o;var s=n(1414),u=n(663),l=Object(s.a)("start","end","cancel","interrupt"),c=[],h=0,d=1,f=2,p=3,m=4,g=5,_=6;t.e=function(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};a(e,n,{name:t,index:r,group:i,on:l,tween:c,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:h})}},function(e,t){e.exports={tree:"tjs-parameter-editors__tree tjs-_base__list-reset","parameter-editor-important-note":"tjs-parameter-editors__parameter-editor-important-note",parameterEditorImportantNote:"tjs-parameter-editors__parameter-editor-important-note",data:"tjs-parameter-editors__data","parameter-editor":"tjs-parameter-editors__parameter-editor",parameterEditor:"tjs-parameter-editors__parameter-editor",field:"tjs-parameter-editors__field tjs-_form__field tjs-_form__input","field-date-placeholder":"tjs-parameter-editors__field-date-placeholder tjs-parameter-editors__field tjs-_form__field tjs-_form__input",fieldDatePlaceholder:"tjs-parameter-editors__field-date-placeholder tjs-parameter-editors__field tjs-_form__field tjs-_form__input","field-invalid":"tjs-parameter-editors__field-invalid tjs-parameter-editors__field tjs-_form__field tjs-_form__input",fieldInvalid:"tjs-parameter-editors__field-invalid tjs-parameter-editors__field tjs-_form__field tjs-_form__input","warning-text":"tjs-parameter-editors__warning-text",warningText:"tjs-parameter-editors__warning-text","field--parameter-editor":"tjs-parameter-editors__field--parameter-editor",fieldParameterEditor:"tjs-parameter-editors__field--parameter-editor",label:"tjs-parameter-editors__label","btn-catalog":"tjs-parameter-editors__btn-catalog",btnCatalog:"tjs-parameter-editors__btn-catalog","btn-selector":"tjs-parameter-editors__btn-selector tjs-_buttons__btn tjs-_buttons__btn-primary",btnSelector:"tjs-parameter-editors__btn-selector tjs-_buttons__btn tjs-_buttons__btn-primary",map:"tjs-parameter-editors__map","region-input":"tjs-parameter-editors__region-input tjs-_form__field tjs-_form__input",regionInput:"tjs-parameter-editors__region-input tjs-_form__field tjs-_form__input","is-hidden":"tjs-parameter-editors__is-hidden undefined",isHidden:"tjs-parameter-editors__is-hidden undefined",autocomplete:"tjs-parameter-editors__autocomplete tjs-_base__list-reset tjs-_base__scrollbars","autocomplete-item":"tjs-parameter-editors__autocomplete-item tjs-_buttons__btn",autocompleteItem:"tjs-parameter-editors__autocomplete-item tjs-_buttons__btn",embeddedMap:"tjs-parameter-editors__embeddedMap",radio:"tjs-parameter-editors__radio","btn-radio":"tjs-parameter-editors__btn-radio tjs-_buttons__btn",btnRadio:"tjs-parameter-editors__btn-radio tjs-_buttons__btn"}},function(e,t,n){var r,i;r=[n(99),n(25),n(1),n(0),n(3),n(34),n(155),n(61),n(1072)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(i){var s=n(i,{}),u=n(s.cull,{}),l=n(s.polygonOffset,{}),c=n(s.scissorTest,{}),h=n(c.rectangle,{}),d=n(s.depthRange,{}),f=n(s.depthTest,{}),p=n(s.colorMask,{}),m=n(s.blending,{}),g=n(m.color,{}),_=n(s.stencilTest,{}),v=n(_.frontOperation,{}),A=n(_.backOperation,{}),y=n(s.sampleCoverage,{}),b=s.viewport;this.frontFace=n(s.frontFace,a.COUNTER_CLOCKWISE),this.cull={enabled:n(u.enabled,!1),face:n(u.face,o.BACK)},this.lineWidth=n(s.lineWidth,1),this.polygonOffset={enabled:n(l.enabled,!1),factor:n(l.factor,0),units:n(l.units,0)},this.scissorTest={enabled:n(c.enabled,!1),rectangle:e.clone(h)},this.depthRange={near:n(d.near,0),far:n(d.far,1)},this.depthTest={enabled:n(f.enabled,!1),func:n(f.func,o.LESS)},this.colorMask={red:n(p.red,!0),green:n(p.green,!0),blue:n(p.blue,!0),alpha:n(p.alpha,!0)},this.depthMask=n(s.depthMask,!0),this.stencilMask=n(s.stencilMask,-1),this.blending={enabled:n(m.enabled,!1),color:new t(n(g.red,0),n(g.green,0),n(g.blue,0),n(g.alpha,0)),equationRgb:n(m.equationRgb,o.FUNC_ADD),equationAlpha:n(m.equationAlpha,o.FUNC_ADD),functionSourceRgb:n(m.functionSourceRgb,o.ONE),functionSourceAlpha:n(m.functionSourceAlpha,o.ONE),functionDestinationRgb:n(m.functionDestinationRgb,o.ZERO),functionDestinationAlpha:n(m.functionDestinationAlpha,o.ZERO)},this.stencilTest={enabled:n(_.enabled,!1),frontFunction:n(_.frontFunction,o.ALWAYS),backFunction:n(_.backFunction,o.ALWAYS),reference:n(_.reference,0),mask:n(_.mask,-1),frontOperation:{fail:n(v.fail,o.KEEP),zFail:n(v.zFail,o.KEEP),zPass:n(v.zPass,o.KEEP)},backOperation:{fail:n(A.fail,o.KEEP),zFail:n(A.zFail,o.KEEP),zPass:n(A.zPass,o.KEEP)}},this.sampleCoverage={enabled:n(y.enabled,!1),value:n(y.value,1),invert:n(y.invert,!1)},this.viewport=r(b)?new e(b.x,b.y,b.width,b.height):void 0,this.id=0,this._applyFunctions=[]}function c(e,t,n){n?e.enable(t):e.disable(t)}function h(e,t){e.frontFace(t.frontFace)}function d(e,t){var n=t.cull,r=n.enabled;c(e,e.CULL_FACE,r),r&&e.cullFace(n.face)}function f(e,t){e.lineWidth(t.lineWidth)}function p(e,t){var n=t.polygonOffset,r=n.enabled;c(e,e.POLYGON_OFFSET_FILL,r),r&&e.polygonOffset(n.factor,n.units)}function m(e,t,n){var i=t.scissorTest,o=r(n.scissorTest)?n.scissorTest.enabled:i.enabled;if(c(e,e.SCISSOR_TEST,o),o){var a=r(n.scissorTest)?n.scissorTest.rectangle:i.rectangle;e.scissor(a.x,a.y,a.width,a.height)}}function g(e,t){var n=t.depthRange;e.depthRange(n.near,n.far)}function _(e,t){var n=t.depthTest,r=n.enabled;c(e,e.DEPTH_TEST,r),r&&e.depthFunc(n.func)}function v(e,t){var n=t.colorMask;e.colorMask(n.red,n.green,n.blue,n.alpha)}function A(e,t){e.depthMask(t.depthMask)}function y(e,t){e.stencilMask(t.stencilMask)}function b(e,t){e.blendColor(t.red,t.green,t.blue,t.alpha)}function w(e,t,n){var i=t.blending,o=r(n.blendingEnabled)?n.blendingEnabled:i.enabled;c(e,e.BLEND,o),o&&(b(e,i.color),e.blendEquationSeparate(i.equationRgb,i.equationAlpha),e.blendFuncSeparate(i.functionSourceRgb,i.functionDestinationRgb,i.functionSourceAlpha,i.functionDestinationAlpha))}function x(e,t){var n=t.stencilTest,r=n.enabled;if(c(e,e.STENCIL_TEST,r),r){var i=n.frontFunction,o=n.backFunction,a=n.reference,s=n.mask;e.stencilFunc(i,a,s),e.stencilFuncSeparate(e.BACK,o,a,s),e.stencilFuncSeparate(e.FRONT,i,a,s);var u=n.frontOperation,l=u.fail,h=u.zFail,d=u.zPass;e.stencilOpSeparate(e.FRONT,l,h,d);var f=n.backOperation,p=f.fail,m=f.zFail,g=f.zPass;e.stencilOpSeparate(e.BACK,p,m,g)}}function E(e,t){var n=t.sampleCoverage,r=n.enabled;c(e,e.SAMPLE_COVERAGE,r),r&&e.sampleCoverage(n.value,n.invert)}function C(e,t,i){var o=n(t.viewport,i.viewport);r(o)||(o=M,o.width=i.context.drawingBufferWidth,o.height=i.context.drawingBufferHeight),i.context.uniformState.viewport=o,e.viewport(o.x,o.y,o.width,o.height)}function S(e,t){var n=[];return e.frontFace!==t.frontFace&&n.push(h),e.cull.enabled===t.cull.enabled&&e.cull.face===t.cull.face||n.push(d),e.lineWidth!==t.lineWidth&&n.push(f),e.polygonOffset.enabled===t.polygonOffset.enabled&&e.polygonOffset.factor===t.polygonOffset.factor&&e.polygonOffset.units===t.polygonOffset.units||n.push(p),e.depthRange.near===t.depthRange.near&&e.depthRange.far===t.depthRange.far||n.push(g),e.depthTest.enabled===t.depthTest.enabled&&e.depthTest.func===t.depthTest.func||n.push(_),e.colorMask.red===t.colorMask.red&&e.colorMask.green===t.colorMask.green&&e.colorMask.blue===t.colorMask.blue&&e.colorMask.alpha===t.colorMask.alpha||n.push(v),e.depthMask!==t.depthMask&&n.push(A),e.stencilMask!==t.stencilMask&&n.push(y),e.stencilTest.enabled===t.stencilTest.enabled&&e.stencilTest.frontFunction===t.stencilTest.frontFunction&&e.stencilTest.backFunction===t.stencilTest.backFunction&&e.stencilTest.reference===t.stencilTest.reference&&e.stencilTest.mask===t.stencilTest.mask&&e.stencilTest.frontOperation.fail===t.stencilTest.frontOperation.fail&&e.stencilTest.frontOperation.zFail===t.stencilTest.frontOperation.zFail&&e.stencilTest.backOperation.fail===t.stencilTest.backOperation.fail&&e.stencilTest.backOperation.zFail===t.stencilTest.backOperation.zFail&&e.stencilTest.backOperation.zPass===t.stencilTest.backOperation.zPass||n.push(x),e.sampleCoverage.enabled===t.sampleCoverage.enabled&&e.sampleCoverage.value===t.sampleCoverage.value&&e.sampleCoverage.invert===t.sampleCoverage.invert||n.push(E),n}var T=0,I={};l.fromCache=function(e){var t=JSON.stringify(e),n=I[t];if(r(n))return++n.referenceCount,n.state;var i=new l(e),o=JSON.stringify(i);return n=I[o],r(n)||(i.id=T++,n={referenceCount:0,state:i},I[o]=n),++n.referenceCount,I[t]={referenceCount:1,state:n.state},n.state},l.removeFromCache=function(e){var t=new l(e),n=JSON.stringify(t),i=I[n],o=JSON.stringify(e),a=I[o];r(a)&&0===--a.referenceCount&&(delete I[o],r(i)&&--i.referenceCount),r(i)&&0===i.referenceCount&&delete I[n]},l.getCache=function(){return I},l.clearCache=function(){I={}};var M=new e;return l.apply=function(e,t,n){h(e,t),d(e,t),f(e,t),p(e,t),g(e,t),_(e,t),v(e,t),A(e,t),y(e,t),x(e,t),E(e,t),m(e,t,n),w(e,t,n),C(e,t,n)},l.partialApply=function(e,t,n,i,o,a){if(t!==n){var s=n._applyFunctions[t.id];r(s)||(s=S(t,n),n._applyFunctions[t.id]=s);for(var u=s.length,l=0;l<u;++l)s[l](e,n)}((r(i.scissorTest)?i.scissorTest:t.scissorTest)!==(r(o.scissorTest)?o.scissorTest:n.scissorTest)||a)&&m(e,n,o);var c=r(i.blendingEnabled)?i.blendingEnabled:t.blending.enabled,h=r(o.blendingEnabled)?o.blendingEnabled:n.blending.enabled;(c!==h||h&&t.blending!==n.blending)&&w(e,n,o),t===n&&i===o&&i.context===o.context||C(e,n,o)},l.getState=function(n){return{frontFace:n.frontFace,cull:{enabled:n.cull.enabled,face:n.cull.face},lineWidth:n.lineWidth,polygonOffset:{enabled:n.polygonOffset.enabled,factor:n.polygonOffset.factor,units:n.polygonOffset.units},scissorTest:{enabled:n.scissorTest.enabled,rectangle:e.clone(n.scissorTest.rectangle)},depthRange:{near:n.depthRange.near,far:n.depthRange.far},depthTest:{enabled:n.depthTest.enabled,func:n.depthTest.func},colorMask:{red:n.colorMask.red,green:n.colorMask.green,blue:n.colorMask.blue,alpha:n.colorMask.alpha},depthMask:n.depthMask,stencilMask:n.stencilMask,blending:{enabled:n.blending.enabled,color:t.clone(n.blending.color),equationRgb:n.blending.equationRgb,equationAlpha:n.blending.equationAlpha,functionSourceRgb:n.blending.functionSourceRgb,functionSourceAlpha:n.blending.functionSourceAlpha,functionDestinationRgb:n.blending.functionDestinationRgb,functionDestinationAlpha:n.blending.functionDestinationAlpha},stencilTest:{enabled:n.stencilTest.enabled,frontFunction:n.stencilTest.frontFunction,backFunction:n.stencilTest.backFunction,reference:n.stencilTest.reference,mask:n.stencilTest.mask,frontOperation:{fail:n.stencilTest.frontOperation.fail,zFail:n.stencilTest.frontOperation.zFail,zPass:n.stencilTest.frontOperation.zPass},backOperation:{fail:n.stencilTest.backOperation.fail,zFail:n.stencilTest.backOperation.zFail,zPass:n.stencilTest.backOperation.zPass}},sampleCoverage:{enabled:n.sampleCoverage.enabled,value:n.sampleCoverage.value,invert:n.sampleCoverage.invert},viewport:r(n.viewport)?e.clone(n.viewport):void 0}},l}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(91),n(6),n(34)],void 0!==(i=function(e,t,n){"use strict";var r={DEPTH_COMPONENT:n.DEPTH_COMPONENT,DEPTH_STENCIL:n.DEPTH_STENCIL,ALPHA:n.ALPHA,RGB:n.RGB,RGBA:n.RGBA,LUMINANCE:n.LUMINANCE,LUMINANCE_ALPHA:n.LUMINANCE_ALPHA,RGB_DXT1:n.COMPRESSED_RGB_S3TC_DXT1_EXT,RGBA_DXT1:n.COMPRESSED_RGBA_S3TC_DXT1_EXT,RGBA_DXT3:n.COMPRESSED_RGBA_S3TC_DXT3_EXT,RGBA_DXT5:n.COMPRESSED_RGBA_S3TC_DXT5_EXT,RGB_PVRTC_4BPPV1:n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,RGB_PVRTC_2BPPV1:n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,RGBA_PVRTC_4BPPV1:n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,RGBA_PVRTC_2BPPV1:n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,RGB_ETC1:n.COMPRESSED_RGB_ETC1_WEBGL,componentsLength:function(e){switch(e){case r.RGB:return 3;case r.RGBA:return 4;case r.LUMINANCE_ALPHA:return 2;case r.ALPHA:case r.LUMINANCE:default:return 1}},validate:function(e){return e===r.DEPTH_COMPONENT||e===r.DEPTH_STENCIL||e===r.ALPHA||e===r.RGB||e===r.RGBA||e===r.LUMINANCE||e===r.LUMINANCE_ALPHA||e===r.RGB_DXT1||e===r.RGBA_DXT1||e===r.RGBA_DXT3||e===r.RGBA_DXT5||e===r.RGB_PVRTC_4BPPV1||e===r.RGB_PVRTC_2BPPV1||e===r.RGBA_PVRTC_4BPPV1||e===r.RGBA_PVRTC_2BPPV1||e===r.RGB_ETC1},isColorFormat:function(e){return e===r.ALPHA||e===r.RGB||e===r.RGBA||e===r.LUMINANCE||e===r.LUMINANCE_ALPHA},isDepthFormat:function(e){return e===r.DEPTH_COMPONENT||e===r.DEPTH_STENCIL},isCompressedFormat:function(e){return e===r.RGB_DXT1||e===r.RGBA_DXT1||e===r.RGBA_DXT3||e===r.RGBA_DXT5||e===r.RGB_PVRTC_4BPPV1||e===r.RGB_PVRTC_2BPPV1||e===r.RGBA_PVRTC_4BPPV1||e===r.RGBA_PVRTC_2BPPV1||e===r.RGB_ETC1},isDXTFormat:function(e){return e===r.RGB_DXT1||e===r.RGBA_DXT1||e===r.RGBA_DXT3||e===r.RGBA_DXT5},isPVRTCFormat:function(e){return e===r.RGB_PVRTC_4BPPV1||e===r.RGB_PVRTC_2BPPV1||e===r.RGBA_PVRTC_4BPPV1||e===r.RGBA_PVRTC_2BPPV1},isETC1Format:function(e){return e===r.RGB_ETC1},compressedTextureSizeInBytes:function(e,t,n){switch(e){case r.RGB_DXT1:case r.RGBA_DXT1:case r.RGB_ETC1:return Math.floor((t+3)/4)*Math.floor((n+3)/4)*8;case r.RGBA_DXT3:case r.RGBA_DXT5:return Math.floor((t+3)/4)*Math.floor((n+3)/4)*16;case r.RGB_PVRTC_4BPPV1:case r.RGBA_PVRTC_4BPPV1:return Math.floor((Math.max(t,8)*Math.max(n,8)*4+7)/8);case r.RGB_PVRTC_2BPPV1:case r.RGBA_PVRTC_2BPPV1:return Math.floor((Math.max(t,16)*Math.max(n,8)*2+7)/8);default:return 0}},textureSizeInBytes:function(t,n,i,o){var a=r.componentsLength(t);return e.isPacked(n)&&(a=1),a*e.sizeInBytes(n)*i*o},createTypedArray:function(t,n,i,o){var a=e.sizeInBytes(n);return new(a===Uint8Array.BYTES_PER_ELEMENT?Uint8Array:a===Uint16Array.BYTES_PER_ELEMENT?Uint16Array:a===Float32Array.BYTES_PER_ELEMENT&&n===e.FLOAT?Float32Array:Uint32Array)(r.componentsLength(t)*i*o)},flipY:function(e,t,n,i,o){if(1===o)return e;for(var a=r.createTypedArray(t,n,i,o),s=r.componentsLength(t),u=i*s,l=0;l<o;++l)for(var c=l*o*s,h=(o-l-1)*o*s,d=0;d<u;++d)a[h+d]=e[c+d];return a}};return t(r)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(776),n(777)],void 0!==(i=function(e,t,n){"use strict";return e({DISABLED:e({enabled:!1}),ALPHA_BLEND:e({enabled:!0,equationRgb:t.ADD,equationAlpha:t.ADD,functionSourceRgb:n.SOURCE_ALPHA,functionSourceAlpha:n.SOURCE_ALPHA,functionDestinationRgb:n.ONE_MINUS_SOURCE_ALPHA,functionDestinationAlpha:n.ONE_MINUS_SOURCE_ALPHA}),PRE_MULTIPLIED_ALPHA_BLEND:e({enabled:!0,equationRgb:t.ADD,equationAlpha:t.ADD,functionSourceRgb:n.ONE,functionSourceAlpha:n.ONE,functionDestinationRgb:n.ONE_MINUS_SOURCE_ALPHA,functionDestinationAlpha:n.ONE_MINUS_SOURCE_ALPHA}),ADDITIVE_BLEND:e({enabled:!0,equationRgb:t.ADD,equationAlpha:t.ADD,functionSourceRgb:n.SOURCE_ALPHA,functionSourceAlpha:n.SOURCE_ALPHA,functionDestinationRgb:n.ONE,functionDestinationAlpha:n.ONE})})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({OUTSIDE:-1,INTERSECTING:0,INSIDE:1})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(24),n(1),n(0),n(2),n(3),n(23)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e){this._ellipsoid=n(e,a.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}return i(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),s.prototype.project=function(t,n){var i=this._semimajorAxis,o=t.longitude*i,a=t.latitude*i,s=t.height;return r(n)?(n.x=o,n.y=a,n.z=s,n):new e(o,a,s)},s.prototype.unproject=function(e,n){var i=this._oneOverSemimajorAxis,o=e.x*i,a=e.y*i,s=e.z;return r(n)?(n.longitude=o,n.latitude=a,n.height=s,n):new t(o,a,s)},s}.apply(t,r))&&(e.exports=i)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,h,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var f,p=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(233),i=n(13),o=function(){this.dataSourceMetadata=new r,this.serviceMetadata=new r,this.promise=void 0,this.dataSourceErrorMessage=void 0,this.serviceErrorMessage=void 0,this.isLoading=!0,i.track(this,["dataSourceMetadata","serviceMetadata","dataSourceErrorMessage","serviceErrorMessage","isLoading"])};e.exports=o},function(e,t,n){var r,i;r=[n(25),n(3),n(29),n(421),n(43),n(780)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(t){if(t instanceof e)return new r(t);if("string"==typeof t||t instanceof n||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement){var i=new o;return i.image=t,i}}function s(e,t){return i(e,t,a)}return s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(10),n(24),n(12),n(1),n(0),n(3),n(151),n(441),n(120),n(40),n(20),n(54),n(59),n(16),n(50)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m){"use strict";function g(e){e=i(e,i.EMPTY_OBJECT),this.attributes=e.attributes,this.indices=e.indices,this.primitiveType=i(e.primitiveType,d.TRIANGLES),this.boundingSphere=e.boundingSphere,this.geometryType=i(e.geometryType,u.NONE),this.boundingSphereCV=e.boundingSphereCV,this.offsetAttribute=e.offsetAttribute}g.computeNumberOfVertices=function(e){var t=-1;for(var n in e.attributes)if(e.attributes.hasOwnProperty(n)&&o(e.attributes[n])&&o(e.attributes[n].values)){var r=e.attributes[n],i=r.values.length/r.componentsPerAttribute;t=i}return t};var _=new n,v=new t,A=new h,y=[new n,new n,new n],b=[new e,new e,new e],w=[new e,new e,new e],x=new t,E=new f,C=new h,S=new l;return g._textureCoordinateRotationPoints=function(r,i,o,a){var s,u=p.center(a,_),d=n.toCartesian(u,o,v),g=m.eastNorthUpToFixedFrame(d,o,A),T=h.inverse(g,A),I=b,M=y;M[0].longitude=a.west,M[0].latitude=a.south,M[1].longitude=a.west,M[1].latitude=a.north,M[2].longitude=a.east,M[2].latitude=a.south;var O=x;for(s=0;s<3;s++)n.toCartesian(M[s],o,O),O=h.multiplyByPointAsVector(T,O,O),I[s].x=O.x,I[s].y=O.y;var P=f.fromAxisAngle(t.UNIT_Z,-i,E),D=c.fromQuaternion(P,C),B=r.length,L=Number.POSITIVE_INFINITY,N=Number.POSITIVE_INFINITY,R=Number.NEGATIVE_INFINITY,k=Number.NEGATIVE_INFINITY;for(s=0;s<B;s++)O=h.multiplyByPointAsVector(T,r[s],O),O=c.multiplyByVector(D,O,O),L=Math.min(L,O.x),N=Math.min(N,O.y),R=Math.max(R,O.x),k=Math.max(k,O.y);var F=l.fromRotation(i,S),U=w;U[0].x=L,U[0].y=N,U[1].x=L,U[1].y=k,U[2].x=R,U[2].y=N;var z=I[0],j=I[2].x-z.x,H=I[1].y-z.y;for(s=0;s<3;s++){var V=U[s];l.multiplyByVector(F,V,V),V.x=(V.x-z.x)/j,V.y=(V.y-z.y)/H}var Q=U[0],G=U[1],W=U[2],q=new Array(6);return e.pack(Q,q),e.pack(G,q,2),e.pack(W,q,4),q},g}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(2),n(21),n(3),n(26),n(527),n(61),n(1073),n(1074)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c){"use strict";function h(e){var t=f(e.vertexShaderText,e.fragmentShaderText);this._gl=e.gl,this._logShaderCompilation=e.logShaderCompilation,this._debugShaders=e.debugShaders,this._attributeLocations=e.attributeLocations,this._program=void 0,this._numberOfVertexAttributes=void 0,this._vertexAttributes=void 0,this._uniformsByName=void 0,this._uniforms=void 0,this._automaticUniforms=void 0,this._manualUniforms=void 0,this._duplicateUniformNames=t.duplicateUniformNames,this._cachedShader=void 0,this.maximumTextureUnitIndex=void 0,this._vertexShaderSource=e.vertexShaderSource,this._vertexShaderText=e.vertexShaderText,this._fragmentShaderSource=e.fragmentShaderSource,this._fragmentShaderText=t.fragmentShaderText,this.id=y++}function d(e){var t=[],r=e.match(/uniform.*?(?![^{]*})(?=[=\[;])/g);if(n(r))for(var i=r.length,o=0;o<i;o++){var a=r[o].trim(),s=a.slice(a.lastIndexOf(" ")+1);t.push(s)}return t}function f(e,t){var n={};if(!u.highpFloatSupported||!u.highpIntSupported){var r,i,o,a,s=d(e),l=d(t),c=s.length,h=l.length;for(r=0;r<c;r++)for(i=0;i<h;i++)if(s[r]===l[i]){o=s[r],a="czm_mediump_"+o;var f=new RegExp(o+"\\b","g");t=t.replace(f,a),n[a]=o}}return{fragmentShaderText:t,duplicateUniformNames:n}}function p(e,t){var r=t._vertexShaderText,i=t._fragmentShaderText,o=e.createShader(e.VERTEX_SHADER);e.shaderSource(o,r),e.compileShader(o);var s=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(s,i),e.compileShader(s);var u=e.createProgram();e.attachShader(u,o),e.attachShader(u,s),e.deleteShader(o),e.deleteShader(s);var l=t._attributeLocations;if(n(l))for(var c in l)l.hasOwnProperty(c)&&e.bindAttribLocation(u,l[c],c);e.linkProgram(u);var h;if(!e.getProgramParameter(u,e.LINK_STATUS)){var d=t._debugShaders;if(!e.getShaderParameter(s,e.COMPILE_STATUS)){if(h=e.getShaderInfoLog(s),console.error(b+"Fragment shader compile log: "+h),n(d)){var f=d.getTranslatedShaderSource(s);""!==f?console.error(b+"Translated fragment shader source:\n"+f):console.error(b+"Fragment shader translation failed.")}throw e.deleteProgram(u),new a("Fragment shader failed to compile.  Compile log: "+h)}if(!e.getShaderParameter(o,e.COMPILE_STATUS)){if(h=e.getShaderInfoLog(o),console.error(b+"Vertex shader compile log: "+h),n(d)){var p=d.getTranslatedShaderSource(o);""!==p?console.error(b+"Translated vertex shader source:\n"+p):console.error(b+"Vertex shader translation failed.")}throw e.deleteProgram(u),new a("Vertex shader failed to compile.  Compile log: "+h)}throw h=e.getProgramInfoLog(u),console.error(b+"Shader program link log: "+h),n(d)&&(console.error(b+"Translated vertex shader source:\n"+d.getTranslatedShaderSource(o)),console.error(b+"Translated fragment shader source:\n"+d.getTranslatedShaderSource(s))),e.deleteProgram(u),new a("Program failed to link.  Link log: "+h)}var m=t._logShaderCompilation;return m&&(h=e.getShaderInfoLog(o),n(h)&&h.length>0&&console.log(b+"Vertex shader compile log: "+h)),m&&(h=e.getShaderInfoLog(s),n(h)&&h.length>0&&console.log(b+"Fragment shader compile log: "+h)),m&&(h=e.getProgramInfoLog(u),n(h)&&h.length>0&&console.log(b+"Shader program link log: "+h)),u}function m(e,t,n){for(var r={},i=0;i<n;++i){var o=e.getActiveAttrib(t,i),a=e.getAttribLocation(t,o.name);r[o.name]={name:o.name,type:o.type,index:a}}return r}function g(e,t){for(var r={},i=[],o=[],a=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),s=0;s<a;++s){var u=e.getActiveUniform(t,s),h=-1!==u.name.indexOf("[0]",u.name.length-"[0]".length)?u.name.slice(0,u.name.length-3):u.name;if(0!==h.indexOf("gl_"))if(u.name.indexOf("[")<0){var d=e.getUniformLocation(t,h);if(null!==d){var f=l(e,u,h,d);r[h]=f,i.push(f),f._setSampler&&o.push(f)}}else{var p,m,g,_,v=h.indexOf("[");if(v>=0){if(p=r[h.slice(0,v)],!n(p))continue;m=p._locations,m.length<=1&&(g=p.value,null!==(_=e.getUniformLocation(t,h))&&(m.push(_),g.push(e.getUniform(t,_))))}else{m=[];for(var A=0;A<u.size;++A)null!==(_=e.getUniformLocation(t,h+"["+A+"]"))&&m.push(_);p=c(e,u,h,m),r[h]=p,i.push(p),p._setSampler&&o.push(p)}}}return{uniformsByName:r,uniforms:i,samplerUniforms:o}}function _(e,t){var r=[],i=[];for(var o in t)if(t.hasOwnProperty(o)){var a=t[o],u=o,l=e._duplicateUniformNames[u];n(l)&&(a.name=l,u=l);var c=s[u];n(c)?r.push({uniform:a,automaticUniform:c}):i.push(a)}return{automaticUniforms:r,manualUniforms:i}}function v(e,t,n){e.useProgram(t);for(var r=0,i=n.length,o=0;o<i;++o)r=n[o]._setSampler(r);return e.useProgram(null),r}function A(e){if(!n(e._program)){var t=e._gl,r=p(t,e,e._debugShaders),i=t.getProgramParameter(r,t.ACTIVE_ATTRIBUTES),o=g(t,r),a=_(e,o.uniformsByName);e._program=r,e._numberOfVertexAttributes=i,e._vertexAttributes=m(t,r,i),e._uniformsByName=o.uniformsByName,e._uniforms=o.uniforms,e._automaticUniforms=a.automaticUniforms,e._manualUniforms=a.manualUniforms,e.maximumTextureUnitIndex=v(t,r,o.samplerUniforms)}}var y=0;h.fromCache=function(e){return e=t(e,t.EMPTY_OBJECT),e.context.shaderCache.getShaderProgram(e)},h.replaceCache=function(e){return e=t(e,t.EMPTY_OBJECT),e.context.shaderCache.replaceShaderProgram(e)},r(h.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},vertexAttributes:{get:function(){return A(this),this._vertexAttributes}},numberOfVertexAttributes:{get:function(){return A(this),this._numberOfVertexAttributes}},allUniforms:{get:function(){return A(this),this._uniformsByName}}});var b="[Cesium WebGL] ";return h.prototype._bind=function(){A(this),this._gl.useProgram(this._program)},h.prototype._setUniforms=function(e,t,r){var i,o;if(n(e)){var a=this._manualUniforms;for(i=a.length,o=0;o<i;++o){var s=a[o];s.value=e[s.name]()}}var u=this._automaticUniforms;for(i=u.length,o=0;o<i;++o){var l=u[o];l.uniform.value=l.automaticUniform.getValue(t)}var c=this._uniforms;for(i=c.length,o=0;o<i;++o)c[o].set();if(r){var h=this._gl,d=this._program;h.validateProgram(d)}},h.prototype.isDestroyed=function(){return!1},h.prototype.destroy=function(){this._cachedShader.cache.releaseShaderProgram(this)},h.prototype.finalDestroy=function(){return this._gl.deleteProgram(this._program),i(this)},h}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(2),n(3),n(6),n(36)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e){e=t(e,t.EMPTY_OBJECT),this.start=n(e.start)?a.clone(e.start):new a,this.stop=n(e.stop)?a.clone(e.stop):new a,this.data=e.data,this.isStartIncluded=t(e.isStartIncluded,!0),this.isStopIncluded=t(e.isStopIncluded,!0)}r(s.prototype,{isEmpty:{get:function(){var e=a.compare(this.stop,this.start);return e<0||0===e&&(!this.isStartIncluded||!this.isStopIncluded)}}});var u={start:void 0,stop:void 0,isStartIncluded:void 0,isStopIncluded:void 0,data:void 0};return s.fromIso8601=function(e,r){var o=e.iso8601.split("/");if(2!==o.length)throw new i("options.iso8601 is an invalid ISO 8601 interval.");var l=a.fromIso8601(o[0]),c=a.fromIso8601(o[1]),h=t(e.isStartIncluded,!0),d=t(e.isStopIncluded,!0),f=e.data;return n(r)?(r.start=l,r.stop=c,r.isStartIncluded=h,r.isStopIncluded=d,r.data=f,r):(u.start=l,u.stop=c,u.isStartIncluded=h,u.isStopIncluded=d,u.data=f,new s(u))},s.toIso8601=function(e,t){return a.toIso8601(e.start,t)+"/"+a.toIso8601(e.stop,t)},s.clone=function(e,t){if(n(e))return n(t)?(t.start=e.start,t.stop=e.stop,t.isStartIncluded=e.isStartIncluded,t.isStopIncluded=e.isStopIncluded,t.data=e.data,t):new s(e)},s.equals=function(e,t,r){return e===t||n(e)&&n(t)&&(e.isEmpty&&t.isEmpty||e.isStartIncluded===t.isStartIncluded&&e.isStopIncluded===t.isStopIncluded&&a.equals(e.start,t.start)&&a.equals(e.stop,t.stop)&&(e.data===t.data||n(r)&&r(e.data,t.data)))},s.equalsEpsilon=function(e,t,r,i){return e===t||n(e)&&n(t)&&(e.isEmpty&&t.isEmpty||e.isStartIncluded===t.isStartIncluded&&e.isStopIncluded===t.isStopIncluded&&a.equalsEpsilon(e.start,t.start,r)&&a.equalsEpsilon(e.stop,t.stop,r)&&(e.data===t.data||n(i)&&i(e.data,t.data)))},s.intersect=function(e,t,r,i){if(!n(t))return s.clone(s.EMPTY,r);var o=e.start,u=e.stop,l=t.start,c=t.stop,h=a.greaterThanOrEquals(l,o)&&a.greaterThanOrEquals(u,l),d=!h&&a.lessThanOrEquals(l,o)&&a.lessThanOrEquals(o,c);if(!h&&!d)return s.clone(s.EMPTY,r);var f=e.isStartIncluded,p=e.isStopIncluded,m=t.isStartIncluded,g=t.isStopIncluded,_=a.lessThan(u,c);return r.start=h?l:o,r.isStartIncluded=f&&m||!a.equals(l,o)&&(h&&m||d&&f),r.stop=_?u:c,r.isStopIncluded=_?p:p&&g||!a.equals(c,u)&&g,r.data=n(i)?i(e.data,t.data):e.data,r},s.contains=function(e,t){if(e.isEmpty)return!1;var n=a.compare(e.start,t);if(0===n)return e.isStartIncluded;var r=a.compare(t,e.stop);return 0===r?e.isStopIncluded:n<0&&r<0},s.prototype.clone=function(e){return s.clone(this,e)},s.prototype.equals=function(e,t){return s.equals(this,e,t)},s.prototype.equalsEpsilon=function(e,t,n){return s.equalsEpsilon(this,e,t,n)},s.prototype.toString=function(){return s.toIso8601(this)},s.EMPTY=o(new s({start:new a,stop:new a,isStartIncluded:!1,isStopIncluded:!1})),s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(12),n(0),n(3),n(6),n(9),n(20)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t,n){this.normal=e.clone(t),this.distance=n}s.fromPointNormal=function(t,r,i){var o=-e.dot(r,t);return n(i)?(e.clone(r,i.normal),i.distance=o,i):new s(r,o)};var u=new e;s.fromCartesian4=function(t,r){var i=e.fromCartesian4(t,u),o=t.w;return n(r)?(e.clone(i,r.normal),r.distance=o,r):new s(i,o)},s.getPointDistance=function(t,n){return e.dot(t.normal,n)+t.distance};var l=new e;s.projectPointOntoPlane=function(t,r,i){n(i)||(i=new e);var o=s.getPointDistance(t,r),a=e.multiplyByScalar(t.normal,o,l);return e.subtract(r,a,i)};var c=new e;return s.transform=function(t,n,r){return a.multiplyByPointAsVector(n,t.normal,u),e.normalize(u,u),e.multiplyByScalar(t.normal,-t.distance,c),a.multiplyByPoint(n,c,c),s.fromPointNormal(c,u,r)},s.clone=function(t,r){return n(r)?(e.clone(t.normal,r.normal),r.distance=t.distance,r):new s(t.normal,t.distance)},s.equals=function(t,n){return t.distance===n.distance&&e.equals(t.normal,n.normal)},s.ORIGIN_XY_PLANE=i(new s(e.UNIT_Z,0)),s.ORIGIN_YZ_PLANE=i(new s(e.UNIT_X,0)),s.ORIGIN_ZX_PLANE=i(new s(e.UNIT_Y,0)),s}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"==typeof t?c(e,t,n):f(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function l(e,t){if(s(t),e=i(e,t<0?0:0|p(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=h(e,t),e}function f(e,t){if(o.isBuffer(t)){var n=0|p(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?i(e,0):h(e,t);if("Buffer"===t.type&&J(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return Q(e).length;t=(""+t).toLowerCase(),r=!0}}function _(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function A(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(o(e,l)===o(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var h=!0,d=0;d<u;d++)if(o(e,l+d)!==o(t,d)){h=!1;break}if(h)return l}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return Y(Q(t,e.length-n),e,n,r)}function x(e,t,n,r){return Y(G(t),e,n,r)}function E(e,t,n,r){return x(e,t,n,r)}function C(e,t,n,r){return Y(q(t),e,n,r)}function S(e,t,n,r){return Y(W(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,h;switch(s){case 1:o<128&&(a=o);break;case 2:u=e[i+1],128==(192&u)&&(h=(31&o)<<6|63&u)>127&&(a=h);break;case 3:u=e[i+1],l=e[i+2],128==(192&u)&&128==(192&l)&&(h=(15&o)<<12|(63&u)<<6|63&l)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(h=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&h<1114112&&(a=h)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return M(r)}function M(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=$));return n}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=V(e[o]);return i}function B(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function F(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,i){return i||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,i){return i||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,n,r,52,8),n+8}function j(e){if(e=H(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function Q(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function W(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function q(e){return X.toByteArray(j(e))}function Y(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function K(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var X=n(811),Z=n(456),J=n(457);t.Buffer=o,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return u(null,e,t,n)},o.allocUnsafe=function(e){return l(null,e)},o.allocUnsafeSlow=function(e){return l(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!J(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):_.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,u=Math.min(a,s),l=this.slice(r,i),c=e.slice(t,n),h=0;h<u;++h)if(l[h]!==c[h]){a=l[h],s=c[h];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return A(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return A(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),Z.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),Z.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),Z.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),Z.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){N(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):k(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):k(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):k(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:Q(new o(e,r).toString()),u=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(48))},function(e,t,n){"use strict";var r=n(1),i=n(7),o=function(e,t){t=r(t,0);var n=i.defer();return setTimeout(function(){try{n.resolve(e())}catch(e){n.reject(e)}},t),n.promise};e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(482);n.d(t,"bisect",function(){return r.c}),n.d(t,"bisectRight",function(){return r.b}),n.d(t,"bisectLeft",function(){return r.a});var i=n(166);n.d(t,"ascending",function(){return i.a});var o=n(483);n.d(t,"bisector",function(){return o.a});var a=n(856);n.d(t,"cross",function(){return a.a});var s=n(857);n.d(t,"descending",function(){return s.a});var u=n(485);n.d(t,"deviation",function(){return u.a});var l=n(487);n.d(t,"extent",function(){return l.a});var c=n(858);n.d(t,"histogram",function(){return c.a});var h=n(861);n.d(t,"thresholdFreedmanDiaconis",function(){return h.a});var d=n(862);n.d(t,"thresholdScott",function(){return d.a});var f=n(491);n.d(t,"thresholdSturges",function(){return f.a});var p=n(863);n.d(t,"max",function(){return p.a});var m=n(864);n.d(t,"mean",function(){return m.a});var g=n(865);n.d(t,"median",function(){return g.a});var _=n(866);n.d(t,"merge",function(){return _.a});var v=n(492);n.d(t,"min",function(){return v.a});var A=n(484);n.d(t,"pairs",function(){return A.a});var y=n(867);n.d(t,"permute",function(){return y.a});var b=n(315);n.d(t,"quantile",function(){return b.a});var w=n(489);n.d(t,"range",function(){return w.a});var x=n(868);n.d(t,"scan",function(){return x.a});var E=n(869);n.d(t,"shuffle",function(){return E.a});var C=n(870);n.d(t,"sum",function(){return C.a});var S=n(490);n.d(t,"ticks",function(){return S.a}),n.d(t,"tickIncrement",function(){return S.b}),n.d(t,"tickStep",function(){return S.c});var T=n(493);n.d(t,"transpose",function(){return T.a});var I=n(486);n.d(t,"variance",function(){return I.a});var M=n(871);n.d(t,"zip",function(){return M.a})},function(e,t,n){"use strict";var r=n(0),i=n(13),o=function(e,t,n){var o=i.getObservable(e,t);r(o)&&delete e.__knockoutObservables[t],delete e[t],i.defineProperty(e,t,n),r(o)&&o.notifySubscribers()};e.exports=o},function(e,t,n){"use strict";function r(e){return(new DOMParser).parseFromString(e,"text/xml")}var i=function(e,t){function n(e,r){if(!e)return null;var a="",s=null,u=null;e.nodeType,i(e.localName||e.nodeName),e.text||e.nodeValue;if(e.childNodes&&e.childNodes.length>0)for(var l=0;l<e.childNodes.length;++l){var c=e.childNodes[l],h=c.nodeType,d=i(c.localName||c.nodeName),f=c.text||c.nodeValue||"";if(8!=h)if(3!=h&&4!=h&&d)s=s||{},s[d]?(s[d].length||(s[d]=o(s[d])),s[d]=o(s[d]),s[d][s[d].length]=n(c,!0),s[d].length=s[d].length):s[d]=n(c);else{if(f.match(/^\s+$/))continue;a+=f.replace(/^\s+/,"").replace(/\s+$/,"")}}if(e.attributes&&e.attributes.length>0){u={},s=s||{};for(var p=0;p<e.attributes.length;++p){var m=e.attributes[p],g=i(m.name),_=m.value;u[g]=_,s[g]?(s[d]=o(s[d]),s[g][s[g].length]=_,s[g].length=s[g].length):s[g]=_}}if(s){var v=""!=a?new String(a):{};for(var A in s)s.hasOwnProperty(A)&&(v[A]=s[A]);s=v,a=s.text?[s.text||""].concat([a]):a,a&&(s.text=a),a=""}var y=s||a;return t&&(a&&(y={}),a=y.text||a||"",a&&(y.text=a),r||(y=o(y))),y}if(!e)return{};var i=function(e){return String(e||"").replace(/-/g,"_")},o=function(e){return Array.isArray(e)||(e=[e]),e.length=e.length,e};if("string"==typeof e&&(e=r(e)),e.nodeType){if(3==e.nodeType||4==e.nodeType)return e.nodeValue;var a=9==e.nodeType?e.documentElement:e,s=n(a,!0);return e=null,a=null,s}};e.exports=i},function(e,t,n){"use strict";var r={LON:0,LAT:1,ALT:2,TIME:3,SCALAR:4,ENUM:5,REGION:6,TAG:7,HIDDEN:8,ADDR:9};e.exports=r},function(e,t,n){"use strict";var r=n(195),i=n(1),o=n(0),a=n(2),s=n(3),u=n(13),l=n(81),c=n(231),h=n(196),d=n(22),f=function e(t){if(!o(t)||!o(t.terria))throw new s("options.terria is required.");if(!o(t.catalogFunction))throw new s("options.catalogFunction is required.");if(!o(t.id))throw new s("options.id is required.");this._terria=t.terria,this._catalogFunction=t.catalogFunction,this._id=t.id,this._loadingPromise=void 0,this._lastLoadInfluencingValues=void 0,this.isLoading=!1,this.name=i(t.name,t.id),this.description=t.description,this.isRequired=i(t.isRequired,!1),this.converter=void 0,this.formatter="default",this._defaultValue=t.defaultValue,this.value=t.value,u.track(this,["_value","formatter","_defaultValue"]),u.defineProperty(this,"value",{get:e.defaultValueGetter,set:e.defaultValueSetter}),u.defineProperty(this,"defaultValue",{get:function(){return this._defaultValue},set:function(e){this._defaultValue=e}})};f.defaultValueGetter=function(){return o(this._value)?this._value:this.defaultValue},f.defaultValueSetter=function(e){this._value=e},a(f.prototype,{type:{get:function(){throw new s("FunctionParameter.type must be overridden in derived classes.")}},terria:{get:function(){return this._terria}},catalogFunction:{get:function(){return this._catalogFunction}},id:{get:function(){return this._id}},availableFormatters:{get:function(){return this.constructor&&this.constructor.AvailableFormatters?this.constructor.AvailableFormatters:{default:this.formatValueAsString.bind(this)}}}}),f.prototype.load=function(){if(o(this._load)){if(o(this._loadingPromise))return this._loadingPromise;var e=[];if(o(this._getValuesThatInfluenceLoad)&&(e=this._getValuesThatInfluenceLoad()),!r(e,this._lastLoadInfluencingValues)){this.isLoading=!0;var t=this;return this._loadingPromise=l(function(){return t._lastLoadInfluencingValues=[],o(t._getValuesThatInfluenceLoad)&&(t._lastLoadInfluencingValues=t._getValuesThatInfluenceLoad()),t._load()}).then(function(){t._loadingPromise=void 0,t.isLoading=!1}).otherwise(function(e){throw t._lastLoadInfluencingValues=void 0,t._loadingPromise=void 0,t.isLoading=!1,e}),this._loadingPromise}}},f.prototype.formatValueAsString=function(e){return e=i(e,this._value),o(e)?e.toString():"-"},f.prototype.formatForService=function(e){var t=this.availableFormatters[this.formatter];if(!t)throw new d({sender:this,title:"Unknown formatter",message:"The function parameter formatter "+this.formatter+" is unknown.\n\nValid formatters are:\n\n   * "+Object.keys(this.availableFormatters).join("\n   * ")});return e=i(e,this._value),t(e)},f.prototype.updateFromJson=function(e){return h(this,e)},f.prototype.serializeToJson=function(){var e=c(this);return e.type=this.type,e},e.exports=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1347);n.d(t,"create",function(){return r.a});var i=n(272);n.d(t,"creator",function(){return i.a});var o=n(1377);n.d(t,"local",function(){return o.a});var a=n(642);n.d(t,"matcher",function(){return a.a});var s=n(1378);n.d(t,"mouse",function(){return s.a});var u=n(373);n.d(t,"namespace",function(){return u.a});var l=n(374);n.d(t,"namespaces",function(){return l.a});var c=n(273);n.d(t,"clientPoint",function(){return c.a});var h=n(640);n.d(t,"select",function(){return h.a});var d=n(1379);n.d(t,"selectAll",function(){return d.a});var f=n(88);n.d(t,"selection",function(){return f.b});var p=n(375);n.d(t,"selector",function(){return p.a});var m=n(641);n.d(t,"selectorAll",function(){return m.a});var g=n(645);n.d(t,"style",function(){return g.b});var _=n(1380);n.d(t,"touch",function(){return _.a});var v=n(1381);n.d(t,"touches",function(){return v.a});var A=n(376);n.d(t,"window",function(){return A.a});var y=n(377);n.d(t,"event",function(){return y.c}),n.d(t,"customEvent",function(){return y.a})},function(e,t,n){"use strict";function r(e,t){this._groups=e,this._parents=t}function i(){return new r([[document.documentElement]],R)}n.d(t,"c",function(){return R}),t.a=r;var o=n(1348),a=n(1349),s=n(1350),u=n(1351),l=n(643),c=n(1353),h=n(1354),d=n(1355),f=n(1356),p=n(1357),m=n(1358),g=n(1359),_=n(1360),v=n(1361),A=n(1362),y=n(1363),b=n(1364),w=n(645),x=n(1365),E=n(1366),C=n(1367),S=n(1368),T=n(1369),I=n(1370),M=n(1371),O=n(1372),P=n(1373),D=n(1374),B=n(1375),L=n(377),N=n(1376),R=[null];r.prototype=i.prototype={constructor:r,select:o.a,selectAll:a.a,filter:s.a,data:u.a,enter:l.b,exit:c.a,join:h.a,merge:d.a,order:f.a,sort:p.a,call:m.a,nodes:g.a,node:_.a,size:v.a,empty:A.a,each:y.a,attr:b.a,style:w.a,property:x.a,classed:E.a,text:C.a,html:S.a,raise:T.a,lower:I.a,append:M.a,insert:O.a,remove:P.a,clone:D.a,datum:B.a,on:L.b,dispatch:N.a},t.b=i},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3)],void 0!==(i=function(e,t,n,r){"use strict";function i(){r.throwInstantiationError()}return n(i.prototype,{isConstant:{get:r.throwInstantiationError},definitionChanged:{get:r.throwInstantiationError}}),i.prototype.getValue=r.throwInstantiationError,i.prototype.equals=r.throwInstantiationError,i.equals=function(e,n){return e===n||t(e)&&e.equals(n)},i.arrayEquals=function(e,n){if(e===n)return!0;if(!t(e)||!t(n)||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!i.equals(e[o],n[o]))return!1;return!0},i.isConstant=function(e){return!t(e)||e.isConstant},i.getValueOrUndefined=function(e,n,r){return t(e)?e.getValue(n,r):void 0},i.getValueOrDefault=function(n,r,i,o){return t(n)?e(n.getValue(r,o),i):i},i.getValueOrClonedDefault=function(e,n,r,i){var o;return t(e)&&(o=e.getValue(n,i)),t(o)||(o=r.clone(o)),o},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(3)],void 0!==(i=function(e,t,n){"use strict";function r(t){t=e(t,e.EMPTY_OBJECT),this.componentDatatype=t.componentDatatype,this.componentsPerAttribute=t.componentsPerAttribute,this.normalize=e(t.normalize,!1),this.values=t.values}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";var n={UNSIGNED_BYTE:t.UNSIGNED_BYTE,UNSIGNED_SHORT:t.UNSIGNED_SHORT,UNSIGNED_INT:t.UNSIGNED_INT,FLOAT:t.FLOAT,HALF_FLOAT:t.HALF_FLOAT_OES,UNSIGNED_INT_24_8:t.UNSIGNED_INT_24_8,UNSIGNED_SHORT_4_4_4_4:t.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:t.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:t.UNSIGNED_SHORT_5_6_5,isPacked:function(e){return e===n.UNSIGNED_INT_24_8||e===n.UNSIGNED_SHORT_4_4_4_4||e===n.UNSIGNED_SHORT_5_5_5_1||e===n.UNSIGNED_SHORT_5_6_5},sizeInBytes:function(e){switch(e){case n.UNSIGNED_BYTE:return 1;case n.UNSIGNED_SHORT:case n.UNSIGNED_SHORT_4_4_4_4:case n.UNSIGNED_SHORT_5_5_5_1:case n.UNSIGNED_SHORT_5_6_5:case n.HALF_FLOAT:return 2;case n.UNSIGNED_INT:case n.FLOAT:case n.UNSIGNED_INT_24_8:return 4}},validate:function(e){return e===n.UNSIGNED_BYTE||e===n.UNSIGNED_SHORT||e===n.UNSIGNED_INT||e===n.FLOAT||e===n.HALF_FLOAT||e===n.UNSIGNED_INT_24_8||e===n.UNSIGNED_SHORT_4_4_4_4||e===n.UNSIGNED_SHORT_5_5_5_1||e===n.UNSIGNED_SHORT_5_6_5}};return e(n)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){function e(t){if(t instanceof e)this.scheme=t.scheme,this.authority=t.authority,this.path=t.path,this.query=t.query,this.fragment=t.fragment;else if(t){var n=r.exec(t);this.scheme=n[1],this.authority=n[2],this.path=n[3],this.query=n[4],this.fragment=n[5]}}function t(e){var t=unescape(e);return o.test(t)?t:e.toUpperCase()}function n(e,t,n,r){return(t||"")+n.toLowerCase()+(r||"")}e.prototype.scheme=null,e.prototype.authority=null,e.prototype.path="",e.prototype.query=null,e.prototype.fragment=null;var r=new RegExp("^(?:([^:/?#]+):)?(?://([^/?#]*))?([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$");e.prototype.getScheme=function(){return this.scheme},e.prototype.getAuthority=function(){return this.authority},e.prototype.getPath=function(){return this.path},e.prototype.getQuery=function(){return this.query},e.prototype.getFragment=function(){return this.fragment},e.prototype.isAbsolute=function(){return!!this.scheme&&!this.fragment},e.prototype.isSameDocumentAs=function(e){return e.scheme==this.scheme&&e.authority==this.authority&&e.path==this.path&&e.query==this.query},e.prototype.equals=function(e){return this.isSameDocumentAs(e)&&e.fragment==this.fragment},e.prototype.normalize=function(){this.removeDotSegments(),this.scheme&&(this.scheme=this.scheme.toLowerCase()),this.authority&&(this.authority=this.authority.replace(a,n).replace(i,t)),this.path&&(this.path=this.path.replace(i,t)),this.query&&(this.query=this.query.replace(i,t)),this.fragment&&(this.fragment=this.fragment.replace(i,t))};var i=/%[0-9a-z]{2}/gi,o=/[a-zA-Z0-9\-\._~]/,a=/(.*@)?([^@:]*)(:.*)?/;return e.prototype.resolve=function(t){var n=new e;return this.scheme?(n.scheme=this.scheme,n.authority=this.authority,n.path=this.path,n.query=this.query):(n.scheme=t.scheme,this.authority?(n.authority=this.authority,n.path=this.path,n.query=this.query):(n.authority=t.authority,""==this.path?(n.path=t.path,n.query=this.query||t.query):("/"==this.path.charAt(0)?(n.path=this.path,n.removeDotSegments()):(t.authority&&""==t.path?n.path="/"+this.path:n.path=t.path.substring(0,t.path.lastIndexOf("/")+1)+this.path,n.removeDotSegments()),n.query=this.query))),n.fragment=this.fragment,n},e.prototype.removeDotSegments=function(){var e,t=this.path.split("/"),n=[],r=""==t[0];r&&t.shift();for(""==t[0]&&t.shift();t.length;)e=t.shift(),".."==e?n.pop():"."!=e&&n.push(e);"."!=e&&".."!=e||n.push(""),r&&n.unshift(""),this.path=n.join("/")},e.prototype.toString=function(){var e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+this.authority),e+=this.path,this.query&&(e+="?"+this.query),this.fragment&&(e+="#"+this.fragment),e},e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){(function(r){var i,o;i=[n(12),n(1),n(0),n(2),n(21),n(3),n(49),n(34),n(64)],void 0!==(o=function(e,t,n,r,i,o,a,s,u){"use strict";function l(e){e=t(e,t.EMPTY_OBJECT);var r=e.context._gl,i=e.bufferTarget,o=e.typedArray,a=e.sizeInBytes,s=e.usage,u=n(o);u&&(a=o.byteLength);var l=r.createBuffer();r.bindBuffer(i,l),r.bufferData(i,u?o:a,s),r.bindBuffer(i,null),this._gl=r,this._webgl2=e.context._webgl2,this._bufferTarget=i,this._sizeInBytes=a,this._usage=s,this._buffer=l,this.vertexArrayDestroyable=!0}return l.createVertexBuffer=function(e){return new l({context:e.context,bufferTarget:s.ARRAY_BUFFER,typedArray:e.typedArray,sizeInBytes:e.sizeInBytes,usage:e.usage})},l.createIndexBuffer=function(e){var t=e.context,n=e.indexDatatype,i=a.getSizeInBytes(n),o=new l({context:t,bufferTarget:s.ELEMENT_ARRAY_BUFFER,typedArray:e.typedArray,sizeInBytes:e.sizeInBytes,usage:e.usage}),u=o.sizeInBytes/i;return r(o,{indexDatatype:{get:function(){return n}},bytesPerIndex:{get:function(){return i}},numberOfIndices:{get:function(){return u}}}),o},r(l.prototype,{sizeInBytes:{get:function(){return this._sizeInBytes}},usage:{get:function(){return this._usage}}}),l.prototype._getBuffer=function(){return this._buffer},l.prototype.copyFromArrayView=function(e,n){n=t(n,0);var r=this._gl,i=this._bufferTarget;r.bindBuffer(i,this._buffer),r.bufferSubData(i,n,e),r.bindBuffer(i,null)},l.prototype.copyFromBuffer=function(e,t,n,r){var i=s.COPY_READ_BUFFER,o=s.COPY_WRITE_BUFFER,a=this._gl;a.bindBuffer(o,this._buffer),a.bindBuffer(i,e._buffer),a.copyBufferSubData(i,o,t,n,r),a.bindBuffer(o,null),a.bindBuffer(i,null)},l.prototype.getBufferData=function(e,n,r,i){n=t(n,0),r=t(r,0);var o=this._gl,a=s.COPY_READ_BUFFER;o.bindBuffer(a,this._buffer),o.getBufferSubData(a,n,e,r,i),o.bindBuffer(a,null)},l.prototype.isDestroyed=function(){return!1},l.prototype.destroy=function(){return this._gl.deleteBuffer(this._buffer),i(this)},l}.apply(t,i))&&(e.exports=o)}).call(t,n(80).Buffer)},function(e,t,n){var r,i;r=[n(0),n(3),n(428)],void 0!==(i=function(e,t,n){"use strict";function r(e,t){n(e,t)}return r}.apply(t,r))&&(e.exports=i)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";var r=n(0),i=n(22),o={},a=function(e,t){var n=o[e];if(!r(n))throw new i({title:"Unsupported catalogue item type",message:"Unknown catalogue item type: "+e+".  If you are loading your own catalogue, please verify that it is correct. This error may also indicate an attempt to load a newer catalogue file in an older version of "+t.appName+"."});return new n(t)};a.register=function(e,t){o[e]=t},e.exports=a},function(e,t,n){"use strict";function r(e){return i.createIfNeeded(e).fetchXML()}var i=n(29);e.exports=r},function(e,t,n){var r=n(149),i=n(288);e.exports=function(e){return function t(n,o){switch(arguments.length){case 0:return t;case 1:return i(n)?t:r(function(t){return e(n,t)});default:return i(n)&&i(o)?t:i(n)?r(function(t){return e(t,o)}):i(o)?r(function(t){return e(n,t)}):e(n,o)}}}},function(e,t,n){var r,i;r=[n(17),n(24),n(12),n(1),n(0),n(72),n(71),n(16)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e,t,n,i){this.x=r(e,0),this.y=r(t,0),this.width=r(n,0),this.height=r(i,0)}u.packedLength=4,u.pack=function(e,t,n){return n=r(n,0),t[n++]=e.x,t[n++]=e.y,t[n++]=e.width,t[n]=e.height,t},u.unpack=function(e,t,n){return t=r(t,0),i(n)||(n=new u),n.x=e[t++],n.y=e[t++],n.width=e[t++],n.height=e[t],n},u.fromPoints=function(e,t){if(i(t)||(t=new u),!i(e)||0===e.length)return t.x=0,t.y=0,t.width=0,t.height=0,t;for(var n=e.length,r=e[0].x,o=e[0].y,a=e[0].x,s=e[0].y,l=1;l<n;l++){var c=e[l],h=c.x,d=c.y;r=Math.min(h,r),a=Math.max(h,a),o=Math.min(d,o),s=Math.max(d,s)}return t.x=r,t.y=o,t.width=a-r,t.height=s-o,t};var l=new o,c=new t,h=new t;return u.fromRectangle=function(t,n,o){if(i(o)||(o=new u),!i(t))return o.x=0,o.y=0,o.width=0,o.height=0,o;n=r(n,l);var a=n.project(s.southwest(t,c)),d=n.project(s.northeast(t,h));return e.subtract(d,a,d),o.x=a.x,o.y=a.y,o.width=d.x,o.height=d.y,o},u.clone=function(e,t){if(i(e))return i(t)?(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t):new u(e.x,e.y,e.width,e.height)},u.union=function(e,t,n){i(n)||(n=new u);var r=Math.min(e.x,t.x),o=Math.min(e.y,t.y),a=Math.max(e.x+e.width,t.x+t.width),s=Math.max(e.y+e.height,t.y+t.height);return n.x=r,n.y=o,n.width=a-r,n.height=s-o,n},u.expand=function(e,t,n){n=u.clone(e,n);var r=t.x-n.x,i=t.y-n.y;return r>n.width?n.width=r:r<0&&(n.width-=r,n.x=t.x),i>n.height?n.height=i:i<0&&(n.height-=i,n.y=t.y),n},u.intersect=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return n>i+t.width||n+e.width<i||r+e.height<o||r>o+t.height?a.OUTSIDE:a.INTERSECTING},u.equals=function(e,t){return e===t||i(e)&&i(t)&&e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.intersect=function(e){return u.intersect(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(12),n(101),n(1),n(0),n(2),n(21),n(3),n(9),n(69),n(34),n(61),n(328),n(91),n(114),n(116),n(102)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g){"use strict";function _(t){t=r(t,r.EMPTY_OBJECT);var o=t.context,a=t.width,s=t.height,u=t.source;i(u)&&(i(a)||(a=r(u.videoWidth,u.width)),i(s)||(s=r(u.videoHeight,u.height)));var h=r(t.pixelFormat,l.RGBA),d=r(t.pixelDatatype,f.UNSIGNED_BYTE),m=h,g=l.isCompressedFormat(m);if(o.webgl2)if(h===l.DEPTH_STENCIL?m=c.DEPTH24_STENCIL8:h===l.DEPTH_COMPONENT&&(d===f.UNSIGNED_SHORT?m=c.DEPTH_COMPONENT16:d===f.UNSIGNED_INT&&(m=c.DEPTH_COMPONENT24)),d===f.FLOAT)switch(h){case l.RGBA:m=c.RGBA32F;break;case l.RGB:m=c.RGB32F;break;case l.RG:m=c.RG32F;break;case l.R:m=c.R32F}else if(d===f.HALF_FLOAT)switch(h){case l.RGBA:m=c.RGBA16F;break;case l.RGB:m=c.RGB16F;break;case l.RG:m=c.RG16F;break;case l.R:m=c.R16F}var _=t.preMultiplyAlpha||h===l.RGB||h===l.LUMINANCE,v=r(t.flipY,!0),A=!0,y=o._gl,b=y.TEXTURE_2D,w=y.createTexture();if(y.activeTexture(y.TEXTURE0),y.bindTexture(b,w),i(u))if(i(u.arrayBufferView)){y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,!1);var x=u.arrayBufferView;g?y.compressedTexImage2D(b,0,m,a,s,0,x):(v&&(x=l.flipY(x,h,d,a,s)),y.texImage2D(b,0,m,a,s,0,h,d,x))}else i(u.framebuffer)?(y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,!1),u.framebuffer!==o.defaultFramebuffer&&u.framebuffer._bind(),y.copyTexImage2D(b,0,m,u.xOffset,u.yOffset,a,s,0),u.framebuffer!==o.defaultFramebuffer&&u.framebuffer._unBind()):(y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_),y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,v),y.texImage2D(b,0,m,h,d,u));else y.texImage2D(b,0,m,a,s,0,h,d,null),A=!1;y.bindTexture(b,null);var E;E=g?l.compressedTextureSizeInBytes(h,a,s):l.textureSizeInBytes(h,d,a,s),this._id=n(),this._context=o,this._textureFilterAnisotropic=o._textureFilterAnisotropic,this._textureTarget=b,this._texture=w,this._pixelFormat=h,this._pixelDatatype=d,this._width=a,this._height=s,this._dimensions=new e(a,s),this._hasMipmap=!1,this._sizeInBytes=E,this._preMultiplyAlpha=_,this._flipY=v,this._initialized=A,this._sampler=void 0,this.sampler=i(t.sampler)?t.sampler:new p}return _.fromFramebuffer=function(e){e=r(e,r.EMPTY_OBJECT);var t=e.context,n=t._gl,o=r(e.pixelFormat,l.RGB),a=r(e.framebufferXOffset,0),s=r(e.framebufferYOffset,0),u=r(e.width,n.drawingBufferWidth),c=r(e.height,n.drawingBufferHeight),h=e.framebuffer;return new _({context:t,width:u,height:c,pixelFormat:o,source:{framebuffer:i(h)?h:t.defaultFramebuffer,xOffset:a,yOffset:s,width:u,height:c}})},o(_.prototype,{id:{get:function(){return this._id}},sampler:{get:function(){return this._sampler},set:function(e){var t=e.minificationFilter,n=e.magnificationFilter,r=t===g.NEAREST_MIPMAP_NEAREST||t===g.NEAREST_MIPMAP_LINEAR||t===g.LINEAR_MIPMAP_NEAREST||t===g.LINEAR_MIPMAP_LINEAR,o=this._context,a=this._pixelDatatype;(a===f.FLOAT&&!o.textureFloatLinear||a===f.HALF_FLOAT&&!o.textureHalfFloatLinear)&&(t=r?g.NEAREST_MIPMAP_NEAREST:g.NEAREST,n=m.NEAREST);var s=o._gl,u=this._textureTarget;s.activeTexture(s.TEXTURE0),s.bindTexture(u,this._texture),s.texParameteri(u,s.TEXTURE_MIN_FILTER,t),s.texParameteri(u,s.TEXTURE_MAG_FILTER,n),s.texParameteri(u,s.TEXTURE_WRAP_S,e.wrapS),s.texParameteri(u,s.TEXTURE_WRAP_T,e.wrapT),i(this._textureFilterAnisotropic)&&s.texParameteri(u,this._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.maximumAnisotropy),s.bindTexture(u,null),this._sampler=e}},pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},dimensions:{get:function(){return this._dimensions}},preMultiplyAlpha:{get:function(){return this._preMultiplyAlpha}},flipY:{get:function(){return this._flipY}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},sizeInBytes:{get:function(){return this._hasMipmap?Math.floor(4*this._sizeInBytes/3):this._sizeInBytes}},_target:{get:function(){return this._textureTarget}}}),_.prototype.copyFrom=function(e,t,n){t=r(t,0),n=r(n,0);var o=this._context._gl,a=this._textureTarget;o.activeTexture(o.TEXTURE0),o.bindTexture(a,this._texture);var s=e.width,u=e.height,c=e.arrayBufferView,h=this._width,d=this._height,f=this._pixelFormat,p=this._pixelDatatype,m=this._preMultiplyAlpha,g=this._flipY,_=!1;if(!this._initialized){if(0===t&&0===n&&s===h&&u===d)i(c)?(o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1),g&&(c=l.flipY(c,f,p,h,d)),o.texImage2D(a,0,f,h,d,0,f,p,c)):(o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,g),o.texImage2D(a,0,f,f,p,e)),_=!0;else{o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1);var v=l.createTypedArray(f,p,h,d);o.texImage2D(a,0,f,h,d,0,f,p,v)}this._initialized=!0}_||(c?(o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!1),g&&(c=l.flipY(c,f,p,s,u)),o.texSubImage2D(a,0,t,n,s,u,f,p,c)):(o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,g),o.texSubImage2D(a,0,t,n,f,p,e))),o.bindTexture(a,null)},_.prototype.copyFromFramebuffer=function(e,t,n,i,o,a){e=r(e,0),t=r(t,0),n=r(n,0),i=r(i,0),o=r(o,this._width),a=r(a,this._height);var s=this._context._gl,u=this._textureTarget;s.activeTexture(s.TEXTURE0),s.bindTexture(u,this._texture),s.copyTexSubImage2D(u,0,e,t,n,i,o,a),s.bindTexture(u,null),this._initialized=!0},_.prototype.generateMipmap=function(e){e=r(e,d.DONT_CARE),this._hasMipmap=!0;var t=this._context._gl,n=this._textureTarget;t.hint(t.GENERATE_MIPMAP_HINT,e),t.activeTexture(t.TEXTURE0),t.bindTexture(n,this._texture),t.generateMipmap(n),t.bindTexture(n,null)},_.prototype.isDestroyed=function(){return!1},_.prototype.destroy=function(){return this._context._gl.deleteTexture(this._texture),a(this)},_}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}return e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";var n={NEAREST:t.NEAREST,LINEAR:t.LINEAR,NEAREST_MIPMAP_NEAREST:t.NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST:t.LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR:t.NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_LINEAR,validate:function(e){return e===n.NEAREST||e===n.LINEAR||e===n.NEAREST_MIPMAP_NEAREST||e===n.LINEAR_MIPMAP_NEAREST||e===n.NEAREST_MIPMAP_LINEAR||e===n.LINEAR_MIPMAP_LINEAR}};return e(n)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(3),n(226),n(29),n],void 0!==(i=function(e,t,r,i,o){"use strict";function a(){for(var e=document.getElementsByTagName("script"),t=0,n=e.length;t<n;++t){var r=e[t].getAttribute("src"),i=m.exec(r);if(null!==i)return i[1]}}function s(t){return"undefined"==typeof document?t:(e(d)||(d=document.createElement("a")),d.href=t,d.href=d.href,d.href)}function u(){if(e(f))return f;var t;return t="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:e(n(141))&&!n(141).toUrlUndefined&&e(o.toUrl)?r("..",h("Core/buildModuleUrl.js")):a(),f=new i({url:s(t)}),f.appendForwardSlash(),f}function l(e){return s(o.toUrl("../"+e))}function c(e){return u().getDerivedResource({url:e}).url}function h(t){return e(p)||(p=e(n(141))&&!n(141).toUrlUndefined&&e(o.toUrl)?l:c),p(t)}var d,f,p,m=/((?:.*\/)|^)cesium[\w-]*\.js(?:\W|$)/i;return h._cesiumScriptRegex=m,h._buildModuleUrlFromBaseUrl=c,h._clearBaseResource=function(){f=void 0},h.setBaseUrl=function(e){f=i.DEFAULT.getDerivedResource({url:e})},h.getCesiumBaseUrl=u,h}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(103),n(1),n(0),n(21),n(3),n(15),n(39),n(226),n(461),n(29),n(26),n],void 0!==(i=function(e,t,r,i,o,a,s,u,l,c,h,d,f){"use strict";function p(){if(!i(v._canTransferArrayBuffer)){var t=n(872)();t.postMessage=r(t.webkitPostMessage,t.postMessage);var o=new Int8Array([99]);try{t.postMessage({array:o},[o.buffer])}catch(e){return v._canTransferArrayBuffer=!1,v._canTransferArrayBuffer}var a=e.defer();t.onmessage=function(e){var n=e.data.array,r=i(n)&&99===n[0];a.resolve(r),t.terminate(),v._canTransferArrayBuffer=r},v._canTransferArrayBuffer=a.promise}return v._canTransferArrayBuffer}function m(e,t){--e._activeTasks;var n=t.id;if(i(n)){var r=e._deferreds,o=r[n];if(i(t.error)){var s=t.error;"RuntimeError"===s.name?(s=new d(t.error.message),s.stack=t.error.stack):"DeveloperError"===s.name&&(s=new a(t.error.message),s.stack=t.error.stack),A.raiseEvent(s),o.reject(s)}else A.raiseEvent(),o.resolve(t.result);delete r[n]}}function g(e){var o=n(873)();o.postMessage=r(o.webkitPostMessage,o.postMessage);var a={loaderConfig:{},workerModule:v._workerModulePrefix+e._workerName};return i(v._loaderConfig)?a.loaderConfig=v._loaderConfig:(void 0!==self.define&&i(n(141))&&!n(141).toUrlUndefined&&i(!function(){var e=new Error('Cannot find module "."');throw e.code="MODULE_NOT_FOUND",e}().toUrl)||(a.loaderConfig.paths={Workers:t("Workers")}),a.loaderConfig.baseUrl=t.getCesiumBaseUrl().url),o.postMessage(a),o.onmessage=function(t){m(e,t.data)},o}function _(n,r){var o={modulePath:void 0,wasmBinaryFile:void 0,wasmBinary:void 0};if(!u.supportsWebAssembly()){if(!i(r.fallbackModulePath))throw new d("This browser does not support Web Assembly, and no backup module was provided for "+n._workerName);return o.modulePath=t(r.fallbackModulePath),e.resolve(o)}var a=r.modulePath;0===a.indexOf("ThirdParty/Workers/")&&(a=a.substring("ThirdParty/Workers/".length)),o.modulePath=y("./"+a);var s=r.wasmBinaryFile;return 0===s.indexOf("ThirdParty/")&&(s=s.substring("ThirdParty/".length)),o.wasmBinaryFile=b("./"+s),h.fetchArrayBuffer({url:o.wasmBinaryFile}).then(function(e){return o.wasmBinary=e,o})}function v(e,t){this._workerName=e,this._maximumActiveTasks=r(t,5),this._activeTasks=0,this._deferreds={},this._nextID=0}var A=new s,y=n(875),b=n(879),w=[];return v.prototype.scheduleTask=function(t,n){if(i(this._worker)||(this._worker=g(this)),!(this._activeTasks>=this._maximumActiveTasks)){++this._activeTasks;var r=this;return e(p(),function(o){i(n)?o||(n.length=0):n=w;var a=r._nextID++,s=e.defer();return r._deferreds[a]=s,r._worker.postMessage({id:a,parameters:t,canTransferArrayBuffer:o},n),s.promise})}},v.prototype.initWebAssemblyModule=function(t){i(this._worker)||(this._worker=g(this));var n=e.defer(),r=this,o=this._worker;return _(this,t).then(function(t){return e(p(),function(e){var a,s=t.wasmBinary;i(s)&&e&&(a=[s]),o.onmessage=function(e){o.onmessage=function(e){m(r,e.data)},n.resolve(e.data)},o.postMessage({webAssemblyConfig:{wasmBinary:t.wasmBinary,wasmBinaryFile:t.wasmBinaryFile}},a)})}),n},v.prototype.isDestroyed=function(){return!1},v.prototype.destroy=function(){return i(this._worker)&&this._worker.terminate(),o(this)},v.taskCompletedEvent=A,v._defaultWorkerModulePrefix="Workers/",v._workerModulePrefix=v._defaultWorkerModulePrefix,v._loaderConfig=void 0,v._canTransferArrayBuffer=void 0,v}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){return new a(e)._makeRequest({responseType:e.responseType,overrideMimeType:e.overrideMimeType,method:i(e.method,"GET"),data:e.data})}var i=n(1),o=n(2),a=n(29);o(r,{load:{get:function(){return a._Implementations.loadWithXhr},set:function(e){a._Implementations.loadWithXhr=e}},defaultLoad:{get:function(){return a._DefaultImplementations.loadWithXhr}}}),e.exports=r},function(e,t,n){"use strict";var r=n(22),i=function(e,t){t instanceof r?t.raisedToUser||(t.raisedToUser=!0,e.error.raiseEvent(t)):e.error.raiseEvent(new r({sender:void 0,title:"An error occurred",message:"<p>"+e.appName+' experienced an error.  Please report this by emailing <a href="mailto:'+e.supportEmail+'">'+e.supportEmail+"</a>.  Details of the error are below.</p><p><pre>"+t.toString()+"</pre></p>"}))};e.exports=i},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e._thisLayerInRawMetadata;if(N(t)){var n=e._overwriteFromGetCapabilities,r=e._rawMetadata;J(t.Abstract,ce.abstractsToIgnore)||y(e,n,"Data Description",t.Abstract);var i=N(r.Service)?r.Service:{};J(i.Abstract,ce.abstractsToIgnore)||i.Abstract===t.Abstract||y(e,n,"Service Description",i.Abstract);var o=Array.isArray(t.Style)?t.Style[0]:t.Style;if(N(e.parameters.styles)){var a=e.parameters.styles;if(Array.isArray(t.Style))for(var s=0;s<t.Style.length;s++)t.Style[s].Name===a&&(o=t.Style[s]);else N(t.style)&&t.style.styleName===a&&(o=t.style)}if(N(o)&&N(o.MetadataURL)){y(e,n,"Metadata Links",(Array.isArray(o.MetadataURL)?o.MetadataURL:[o.MetadataURL]).map(function(e){return e&&e.OnlineResource?e.OnlineResource["xlink:href"]:void 0}).filter(function(e){return N(e)}).join("<br>"))}N(i.AccessConstraints)&&!/^none$/i.test(i.AccessConstraints)&&y(e,n,"Access Constraints",i.AccessConstraints),y(e,n,"Service Contact",S(r)),y(e,n,"GetCapabilities URL",e.getCapabilitiesUrl),b(e,n,"minScaleDenominator",t.MinScaleDenominator),b(e,n,"getFeatureInfoFormats",m(r)),b(e,n,"rectangle",c(e._allLayersInRawMetadata)),b(e,n,"intervals",p(e,t));var u,l,h=L(x(t,"CRS",!0),x(t,"SRS",!0));N(h)&&(w(h,"EPSG:3857")?(u=new X,l="EPSG:3857"):w(h,"EPSG:900913")?(u=new X,l="EPSG:900913"):w(h,"EPSG:4326")?(u=new U,l="EPSG:4326"):w(h,"CRS:84")?(u=new U,l="CRS:84"):w(h,"EPSG:4283")?(u=new U,l="EPSG:4283"):(u=new X,l="EPSG:3857")),b(e,n,"tilingScheme",u),N(e.parameters)||(e.parameters={}),b(e.parameters,n,"srs",l),e.supportsColorScaleRange&&(b(e,n,"colorScaleMinimum",-50),b(e,n,"colorScaleMaximum",50))}}function o(e,t,n){return N(n)?new O(e).setQuery(t,n).toString():e}function a(e){return e.replace(/%7B/g,"{").replace(/%7D/g,"}")}function s(e,t){return oe(e,u(t))}function u(e){var t=new O(e);return t.search(""),t.toString()}function l(e){var t=e.EX_GeographicBoundingBox;if(N(t))return G.fromDegrees(t.westBoundLongitude,t.southBoundLatitude,t.eastBoundLongitude,t.northBoundLatitude);var n=e.LatLonBoundingBox;return N(n)?G.fromDegrees(n.minx,n.miny,n.maxx,n.maxy):void 0}function c(e){return Array.isArray(e)?ae(e.map(function(e){return l(e)})):l(e)}function h(e,t,n,r){var i=P.parseZone(t[0]),o=P.parseZone(t[1]);if(2===t.length)e.addInterval(new W({start:H.fromIso8601(i.format()),stop:H.fromIso8601(o.format()),data:i}));else{var a=P.duration(t[2]);if(a.isValid()&&(a.milliseconds()>0||a.seconds()>0||a.minutes()>0||a.hours()>0||a.days()>0||a.weeks()>0||a.months()>0||a.years()>0))for(var s=i.clone(),u=i,l=o,c=0;s&&u.isSameOrBefore(l)&&c<r.maxRefreshIntervals;)s.add(a),e.addInterval(new W({start:H.fromIso8601(u.format()),stop:H.fromIso8601(s.format()),data:d(u,a)})),u=s.clone(),++c;else r.terria.error.raiseEvent(new te({title:"Badly formatted periodicity",message:'The "'+r.name+'" dataset has a badly formed periodicity, "'+t[2]+"\".  Click the dataset's Info button for more information about the dataset and the data custodian."}))}}function d(e,t){return t.hours()>0||t.minutes()>0||t.seconds()>0||t.milliseconds()>0?e.format():e.creationData().format.indexOf("T")>=0?e.format():e.format(e.creationData().format)}function f(e,t,n,r){var i,o=H.fromIso8601(t[n]);if(r)i=H.addMinutes(o,r,new H);else if(n<t.length-1){var a=t[n+1].split("/");i=H.fromIso8601(a[0])}else{if(!(e.length>0))return;var s=e.get(e.length-1),u=H.secondsDifference(s.stop,s.start);i=H.addSeconds(o,u,new H)}e.addInterval(new W({start:o,stop:i,data:t[n]}))}function p(e,t){var n=e.availableDimensions[t.Name];if(N(n)){n instanceof Array||(n=[n]);for(var r=new q,i=0;i<n.length;++i){var o=n[i];if(!o.name||"time"===o.name.toLowerCase())for(var a=o.options,s=0;s<a.length;++s){var u=a[s].split("/");u.length>1?h(r,u,a[s],e):f(r,a,s,e.displayDuration)}}return r}}function m(e){var t=!1,n=!1,r=!1,i="text/xml";if(N(e.Capability.Request)&&N(e.Capability.Request.GetFeatureInfo)&&N(e.Capability.Request.GetFeatureInfo.Format)){var o=e.Capability.Request.GetFeatureInfo.Format;"application/json"===o?t=!0:N(o.indexOf)&&o.indexOf("application/json")>=0&&(t=!0),"text/xml"===o||"application/vnd.ogc.gml"===o?(n=!0,i=o):N(o.indexOf)&&o.indexOf("text/xml")>=0?(n=!0,i="text/xml"):N(o.indexOf)&&o.indexOf("application/vnd.ogc.gml")>=0?(n=!0,i="application/vnd.ogc.gml"):N(o.indexOf)&&o.indexOf("text/html")>=0&&(r=!0)}var a=[];return t&&a.push(new z("json")),n&&a.push(new z("xml",i)),r&&a.push(new z("html")),a}function g(e){var t=new $;return t.isLoading=!0,t.promise=Z(e.load()).then(function(){var n=e._rawMetadata;n&&n.Service?A(t.serviceMetadata,n.Service):t.serviceErrorMessage="Service information not found in GetCapabilities operation response.",e._thisLayerInRawMetadata?A(t.dataSourceMetadata,e._thisLayerInRawMetadata):t.dataSourceErrorMessage="Layer information not found in GetCapabilities operation response.",t.isLoading=!1}).otherwise(function(){t.dataSourceErrorMessage="An error occurred while invoking the GetCapabilities service.",t.serviceErrorMessage="An error occurred while invoking the GetCapabilities service.",t.isLoading=!1}),t}function _(e,t){return t.split(",").map(function(t){var n=v(e,t,!1);if(!n){var r=t.indexOf(":");if(r>=0){var i=t.substring(r+1);n=v(e,i,!1)}}return n||(n=v(e,t,!0)),n})}function v(e,t,n){if(e.Name===t||n&&e.Title===t&&N(e.Name))return e;var r=e.Layer;if(N(r)){for(var i=v(r,t,n),o=0;!i&&o<r.length;++o){i=v(r[o],t,n)}return i}}function A(e,t){if(!("string"==typeof t||t instanceof String))for(var n in t)if(t.hasOwnProperty(n)&&"_parent"!==n){var r,i=t[n];if("BoundingBox"===n&&i instanceof Array)for(var o=0;o<i.length;++o){var a=i[o];r=new ee,r.name=n+" ("+a.CRS+")",r.value=a,A(r,a),e.items.push(r)}else r=new ee,r.name=n,r.value=i,A(r,i),e.items.push(r)}}function y(e,t,n,r){if(N(r)&&0!==r.length){var i=e.findInfoSection(n);N(i)?t&&(i.content=r):e.info.push({name:n,content:r})}}function b(e,t,n,r){N(r)&&(!t&&N(e[n])||(e[n]=r))}function w(e,t){return e===t||e instanceof Array&&e.indexOf(t)>=0}function x(e,t,n){for(var r=[];N(e);){if(N(e[t])){if(!n)return e[t];r=r.concat(e[t]instanceof Array?e[t]:[e[t]])}e=e._parent}return r.length>0?r:void 0}function E(e,t){var n=se(t);if(!N(n.Capability))throw new te({title:"Missing data",message:'The WMS dataset "'+e.name+'" did not return any data.\n\nEither the catalog file has been set up incorrectly, or the server address has changed.\n\nPlease report this error by emailing <a href="mailto:'+e.terria.supportEmail+'">'+e.terria.supportEmail+"</a>."});return C(n.Capability),n}function C(e,t){e._parent=t;var n=e.Layer;if(n instanceof Array)for(var r=0;r<n.length;++r)C(n[r],e);else N(n)&&C(n,e)}function S(e){if(N(e.Service.ContactInformation)){var t=e.Service.ContactInformation,n="",r=t.ContactPersonPrimary;return N(r)&&N(r.ContactOrganization)&&r.ContactOrganization.length>0&&(n+=r.ContactOrganization+"<br/>"),N(t.ContactElectronicMailAddress)&&t.ContactElectronicMailAddress.length>0&&(n+="["+t.ContactElectronicMailAddress+"](mailto:"+t.ContactElectronicMailAddress+")"),n}}function T(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n.toLowerCase()]=e[n]);return t}function I(e){var t=[],n=e._allLayersInRawMetadata;if(!N(n))return t;var r=e.styles.split(",");1===r.length&&""===r[0]&&(r=[]);for(var i=0;i<n.length;++i){var o=M(e,n[i],r[i]);N(o)&&t.push(o)}return t}function M(e,t,n){var r,i,a=Array.isArray(t.Style)?t.Style[0]:t.Style;if(N(n))if(Array.isArray(t.Style))for(var s=0;s<t.Style.length;++s)t.Style[s].Name===n&&(a=t.Style[s]);else N(t.Style)&&t.Style.styleName===n&&(a=t.Style);if(N(a)&&N(a.LegendURL)){var l=Array.isArray(a.LegendURL)?a.LegendURL[0]:a.LegendURL;N(l)&&N(l.OnlineResource)&&N(l.OnlineResource["xlink:href"])&&(r=new O(decodeURIComponent(l.OnlineResource["xlink:href"])),i=l.Format)}if(N(r)||(r=new O(u(e.url)+"?service=WMS&version=1.1.0&request=GetLegendGraphic&format=image/png&transparent=True&layer="+encodeURIComponent(t.Name)),i="image/png"),N(r)){if(r.toString().match(/GetLegendGraphic/i)){if(e.isGeoServer){r.setQuery("version","1.1.0");r.setQuery("transparent","True"),r.setQuery("LEGEND_OPTIONS","fontSize:14;forceLabels:on;fontAntiAliasing:true")}else e.isEsri;if(N(e.parameters))for(var c in e.parameters)e.parameters.hasOwnProperty(c)&&r.setQuery(c,e.parameters[c]);N(e.colorScaleMinimum)&&N(e.colorScaleMaximum)&&!N(e.parameters.colorscalerange)&&r.setQuery("colorscalerange",[e.colorScaleMinimum,e.colorScaleMaximum].join(","))}return new ue(o(r.toString(),e.tokenParameterName,e._lastToken),i)}}var O=n(33),P=n(353),D=n(27),B=n(42),L=n(1),N=n(0),R=n(2),k=n(23),F=n(6),U=n(65),z=n(236),j=n(585),H=n(36),V=n(13),Q=n(97),G=n(16),W=n(78),q=n(131),Y=n(139),K=n(317),X=n(63),Z=n(7),J=n(586),$=n(74),ee=n(233),te=n(22),ne=n(121),re=n(14),ie=n(83),oe=n(32),ae=n(587),se=n(84),ue=n(165),le=n(1232),ce=function(e){ne.call(this,e),this._rawMetadata=void 0,this._thisLayerInRawMetadata=void 0,this._allLayersInRawMetadata=void 0,this._metadata=void 0,this._getCapabilitiesUrl=void 0,this._rectangle=void 0,this._rectangleFromMetadata=void 0,this._intervalsFromMetadata=void 0,this._lastToken=void 0,this._newTokenRequestInFlight=void 0,this.layers="",this.linkedWcsUrl=void 0,this.linkedWcsCoverage="",this.styles="",this.parameters={},this.tilingScheme=void 0,this.getFeatureInfoFormats=void 0,this.populateIntervalsFromTimeDimension=!0,this.minScaleDenominator=void 0,this.maxRefreshIntervals=1e3,this.isGeoServer=void 0,this.isEsri=void 0,this.isNcWMS=void 0,this.supportsColorScaleRange=void 0,this.displayDuration=void 0,this.disableUserChanges=!1,this.availableStyles=void 0,this.colorScaleMinimum=void 0,this.colorScaleMaximum=void 0,this.availableDimensions=void 0,this.dimensions=void 0,this.tokenUrl=void 0,this.tokenParameterName="token",this.tokenInvalidHttpCodes=[401,498,499],this._sourceInfoItemNames=["GetCapabilities URL"],V.track(this,["_getCapabilitiesUrl","_rectangle","_rectangleFromMetadata","_intervalsFromMetadata","layers","styles","parameters","getFeatureInfoFormats","tilingScheme","populateIntervalsFromTimeDimension","minScaleDenominator","disableUserChanges","availableStyles","colorScaleMinimum","colorScaleMaximum","availableDimensions","dimensions","tokenUrl","tokenParameterName","tokenInvalidHttpCodes","_lastToken","_thisLayerInRawMetadata","_allLayersInRawMetadata"]),ie(this,"getCapabilitiesUrl",{get:function(){if(N(this._getCapabilitiesUrl))return this._getCapabilitiesUrl;if(N(this.metadataUrl))return this.metadataUrl;if(N(this.url))return u(this.url)+"?service=WMS&version=1.3.0&request=GetCapabilities"},set:function(e){this._getCapabilitiesUrl=e}});var t=Object.getOwnPropertyDescriptor(this,"legendUrls");ie(this,"legendUrls",{get:function(){return N(this._legendUrls)?this._legendUrls:N(this._legendUrl)?[this._legendUrl]:I(this)},set:function(e){t.set.call(this,e)}}),ie(this,"dataUrl",{get:function(){return this._dataUrl},set:function(e){this._dataUrl=e}}),ie(this,"dataUrlType",{get:function(){return this._dataUrlType},set:function(e){this._dataUrlType=e}})};re(ne,ce),R(ce.prototype,{type:{get:function(){return"wms"}},typeName:{get:function(){return"Web Map Service (WMS)"}},supportsIntervals:{get:function(){return!0}},metadata:{get:function(){return N(this._metadata)||(this._metadata=g(this)),this._metadata}},updaters:{get:function(){return ce.defaultUpdaters}},serializers:{get:function(){return ce.defaultSerializers}},propertiesForSharing:{get:function(){return ce.defaultPropertiesForSharing}},layerTitles:{get:function(){if(N(this._allLayersInRawMetadata))return this._allLayersInRawMetadata.map(function(e){return e.Title||e.Name})}}}),ce.defaultUpdaters=D(ne.defaultUpdaters),ce.defaultUpdaters.tilingScheme=function(e,t,n,r){"geographic"===t.tilingScheme?e.tilingScheme=new U:"web-mercator"===t.tilingScheme?e.tilingScheme=new X:e.tilingScheme=t.tilingScheme},ce.defaultUpdaters.getFeatureInfoFormats=function(e,t,n,r){for(var i=[],o=0;o<t.getFeatureInfoFormats.length;++o){var a=t.getFeatureInfoFormats[o];i.push(new z(a.type,a.format))}e.getFeatureInfoFormats=i},F(ce.defaultUpdaters),ce.defaultSerializers=D(ne.defaultSerializers),ce.defaultSerializers.getCapabilitiesUrl=function(e,t,n){t.getCapabilitiesUrl=e._getCapabilitiesUrl},ce.defaultSerializers.tilingScheme=function(e,t,n){e.tilingScheme instanceof U?t.tilingScheme="geographic":e.tilingScheme instanceof X?t.tilingScheme="web-mercator":t.tilingScheme=e.tilingScheme},ce.defaultSerializers.availableDimensions=function(){},ce.defaultSerializers.availableStyles=function(){},ce.defaultSerializers.intervals=function(){},ce.defaultSerializers.description=function(){},ce.defaultSerializers.info=function(){},F(ce.defaultSerializers),ce.defaultPropertiesForSharing=D(ne.defaultPropertiesForSharing),ce.defaultPropertiesForSharing.push("styles"),ce.defaultPropertiesForSharing.push("colorScaleMinimum"),ce.defaultPropertiesForSharing.push("colorScaleMaximum"),ce.defaultPropertiesForSharing.push("dimensions"),F(ce.defaultPropertiesForSharing),ce.abstractsToIgnore=["A compliant implementation of WMS"],ce.getAllAvailableStylesFromCapabilities=function(e,t,n,r){if(N(n)||(n={},t=e&&e.Capability?e.Capability.Layer:[]),!N(t))return n;t=Array.isArray(t)?t:[t];for(var i=0;i<t.length;++i){var o=t[i],a=ce.getSingleLayerStylesFromCapabilities(o,r);N(o.Name)&&o.Name.length>0&&(n[o.Name]=a),ce.getAllAvailableStylesFromCapabilities(e,o.Layer,n,a)}return n},ce.getSingleLayerStylesFromCapabilities=function(e,t){if(t=t||[],!N(e)||!N(e.Style))return t;var n=Array.isArray(e.Style)?e.Style:[e.Style];return t.concat(n.map(function(e){var t,n,r=Array.isArray(e.LegendURL)?e.LegendURL[0]:e.LegendURL;return r&&r.OnlineResource&&r.OnlineResource["xlink:href"]&&(t=new O(decodeURIComponent(r.OnlineResource["xlink:href"])),n=r.Format),{name:e.Name,title:e.Title,abstract:e.Abstract,legendUri:t?new ue(t.toString(),n):void 0}}))},ce.getAllAvailableDimensionsFromCapabilities=function(e,t,n,r){if(N(n)||(n={},t=e&&e.Capability?e.Capability.Layer:[]),!N(t))return n;t=Array.isArray(t)?t:[t];for(var i=0;i<t.length;++i){var o=t[i],a=ce.getSingleLayerDimensionsFromCapabilities(o,r);N(o.Name)&&o.Name.length>0&&(n[o.Name]=a),ce.getAllAvailableDimensionsFromCapabilities(e,o.Layer,n,a)}return n},ce.getSingleLayerDimensionsFromCapabilities=function(e,t){if(t=t||[],!N(e)||!N(e.Dimension))return t;var n=Array.isArray(e.Dimension)?e.Dimension:[e.Dimension],r=e.Extent?Array.isArray(e.Extent)?e.Extent:[e.Extent]:[];return t=t.filter(function(e){return 0===n.filter(function(t){return t.name===e.name}).length}),t.concat(n.map(function(e){var t,n=r.filter(function(t){return t.name===e.name})[0];return t=n&&n.split?n.split(","):e.split?e.split(","):[],{name:e.name,units:e.units,unitSymbol:e.unitSymbol,default:e.default,multipleValues:e.multipleValues,nearestValue:e.nearestValue,options:t}}))},ce.prototype.updateFromCapabilities=function(e,t,n,r){if(N(e.documentElement)&&(e=E(this,e),n=void 0),N(this.availableStyles)||(N(r)&&N(r.availableStyles)?this.availableStyles=r.availableStyles:this.availableStyles=ce.getAllAvailableStylesFromCapabilities(e)),N(this.availableDimensions)||(N(r)&&N(r.availableDimensions)?this.availableDimensions=r.availableDimensions:this.availableDimensions=ce.getAllAvailableDimensionsFromCapabilities(e)),!N(this.isGeoServer)&&e&&e.Service&&e.Service.KeywordList&&e.Service.KeywordList.Keyword&&e.Service.KeywordList.Keyword.indexOf("GEOSERVER")>=0&&(this.isGeoServer=!0),(!N(this.isEsri)&&N(e["xmlns:esri_wms"])||this.url.match(/\/MapServer\//))&&(this.isEsri=!0),!N(this.isNcWMS)&&e&&e.Capability&&e.Capability.Layer){var i=_(e.Capability.Layer,this.layers);if(N(i)&&i.length>0&&(i=i[0])&&i.Style&&i.Style.length>0)for(var o=0;o<i.Style.length;++o)!N(this.isNcWMS)&&i.Style[o].Name&&(i.Style[o].Name.match(/boxfill\/rainbow/i)||i.Style[o].Name.match(/default-scalar\/default/i)||i.Style[o].Name.match(/default-vector\/default/i))&&(this.isNcWMS=!0)}if(!N(this.supportsColorScaleRange)&&(this.supportsColorScaleRange=this.isNcWMS,!this.supportsColorScaleRange)){if(e.Capability&&e.Capability.ExtendedCapabilities&&e.Capability.ExtendedCapabilities.ExtendedRequest){var a=e.Capability.ExtendedCapabilities.ExtendedRequest;a=Array.isArray(a)?a:[a];var s=a.filter(function(e){return"GetMap"===e.Request})[0];if(s){var u=Array.isArray(s.UrlParameter)?s.UrlParameter:[s.UrlParameter],l=u.filter(function(e){return"COLORSCALERANGE"===e.ParameterName})[0];this.supportsColorScaleRange=N(l)}}}if(!N(n)){if(n=_(e.Capability.Layer,this.layers),N(this.layers)){for(var c=this.layers.split(","),h=(this.styles||this.parameters.styles||"").split(","),d=0;d<n.length;++d)if(N(n[d]))c[d]=n[d].Name;else{if(!(n.length>1)){var f=e&&e.Capability&&e.Capability.Layer&&e.Capability.Layer.Layer&&e.Capability.Layer.Layer.Name;throw f=f?' (Perhaps it should be "'+f+'").':"",new te({title:"No layer found",message:'The WMS dataset "'+this.name+'" has no layers matching "'+this.layers+'".'+f+'\n\nEither the catalog file has been set up incorrectly, or the WMS server has changed.\n\nPlease report this error by sending an email to <a href="mailto:'+this.terria.supportEmail+'">'+this.terria.supportEmail+"</a>."})}console.log('A layer with the name or ID "'+c[d]+'" does not exist on the WMS Server - ignoring it.'),n.splice(d,1),c.splice(d,1),h.splice(d,1),--d}this.layers=c.join(","),this.styles=h.join(",")}if(0===n.length)return}this._rawMetadata=e,Array.isArray(n)?(this._thisLayerInRawMetadata=n[0],this._allLayersInRawMetadata=n,n=this._thisLayerInRawMetadata):(this._thisLayerInRawMetadata=n,this._allLayersInRawMetadata=[n]),this._overwriteFromGetCapabilities=t},ce.prototype._load=function(){var e=this,t=Z();return this.tokenUrl&&(t=j(this.terria,this.tokenUrl,this.url)),t.then(function(t){e._lastToken=t;var n=[];if(!N(e._rawMetadata)&&N(e.getCapabilitiesUrl)?n.push(Q(oe(e,o(e.getCapabilitiesUrl,e.tokenParameterName,e._lastToken),"1d")).then(function(t){var n=E(e,t);e.updateFromCapabilities(n,!1),i(e)})):i(e),!N(e.dataUrl)&&N(e.url)){var r=u(e.url)+"?service=WMS&version=1.1.1&sld_version=1.1.0&request=DescribeLayer&layers="+encodeURIComponent(e.layers);n.push(Q(oe(e,o(r,e.tokenParameterName,e._lastToken),"1d")).then(function(t){var n=se(t),r=n.LayerDescription instanceof Array?n.LayerDescription[0]:n.LayerDescription;if(N(r)&&N(r.owsURL)&&N(r.owsType))switch(r.owsType.toLowerCase()){case"wfs":N(r.Query)&&N(r.Query.typeName)?(e.dataUrl=o(u(r.owsURL)+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+r.Query.typeName+"&srsName=EPSG%3A4326&maxFeatures=1000",e.tokenParameterName,e._lastToken),e.dataUrlType="wfs-complete"):(e.dataUrl=o(u(r.owsURL),e.tokenParameterName,e._lastToken),e.dataUrlType="wfs");break;case"wcs":N(r.Query)&&N(r.Query.typeName)?(e.dataUrl=o(u(r.owsURL)+"?service=WCS&version=1.1.1&request=DescribeCoverage&identifiers="+r.Query.typeName,e.tokenParameterName,e._lastToken),e.dataUrlType="wcs-complete"):(e.dataUrl=o(u(r.owsURL),e.tokenParameterName,e._lastToken),e.dataUrlType="wcs")}}).otherwise(function(e){}))}return Z.all(n)})},ce.prototype.handleTileError=function(e,t,n,r,i){if(!N(this.tokenUrl))return e;var s=this;return e.otherwise(function(e){return!e||498!==e.statusCode&&499!==e.statusCode?Z.reject(e):(N(s._newTokenRequestInFlight)||(s._newTokenRequestInFlight=j(s.terria,s.tokenUrl,s.url).then(function(e){s._lastToken=e;var n=t._tileProvider,r=new Y({url:a(o(n.url,s.tokenParameterName,s._lastToken)),pickFeaturesUrl:a(o(n.pickFeaturesUrl,s.tokenParameterName,s._lastToken)),tilingScheme:n.tilingScheme,rectangle:n.rectangle,tileWidth:n.tileWidth,tileHeight:n.tileHeight,minimumLevel:n.minimumLevel,maximumLevel:n.maximumLevel,proxy:n.proxy,subdomains:n.subdomains,tileDiscardPolicy:n.tileDiscardPolicy,credit:n.credit,getFeatureInfoFormats:n.getFeatureInfoFormats,enablePickFeatures:n.enablePickFeatures,hasAlphaChannel:n.hasAlphaChannel,urlSchemeZeroPadding:n.urlSchemeZeroPadding});r._errorEvent=n._errorEvent,t._tileProvider=r,s._newTokenRequestInFlight=void 0})),s._newTokenRequestInFlight)})},ce.prototype._createImageryProvider=function(e){var t=T(this.parameters);N(e)&&(t=B({time:e},t)),N(this._lastToken)&&(t=B(r({},this.tokenParameterName,this._lastToken))),t=B(t,ce.defaultParameters),N(t.feature_count)?(console.log(this.name+": using parameters.feature_count ("+t.feature_count+") to override maximumShownFeatureInfos ("+this.maximumShownFeatureInfos+")."),1===t.feature_count?this.maximumShownFeatureInfos=1:this.maximumShownFeatureInfos=t.feature_count-1):t.feature_count=this.maximumShownFeatureInfos+1,!N(this.styles)||N(t.styles)&&0!==t.styles.length||(t.styles=this.styles),N(this.colorScaleMinimum)&&N(this.colorScaleMaximum)&&!N(t.colorscalerange)&&(t.colorscalerange=[this.colorScaleMinimum,this.colorScaleMaximum].join(","));var n;if(N(this.minScaleDenominator)){var i=2*Math.PI*k.WGS84.maximumRadius,o=i/256,a=o/28e-5,u=a/(this.minScaleDenominator-1e-6);n=0|Math.log(u)/Math.log(2)}if(N(this.dimensions)&&(!N(t.dimensions)||0===t.dimensions.length))for(var l in this.dimensions)this.dimensions.hasOwnProperty(l)&&("elevation"===l.toLowerCase()?t.elevation=this.dimensions[l]:t["dim_"+l]=this.dimensions[l]);return new K({url:s(this,this.url),layers:this.layers,getFeatureInfoFormats:this.getFeatureInfoFormats,parameters:t,getFeatureInfoParameters:t,tilingScheme:N(this.tilingScheme)?this.tilingScheme:new X,maximumLevel:n})},ce.prototype.exportData=function(){N(this.linkedWcsUrl)&&le(this)},ce.defaultParameters={transparent:!0,format:"image/png",exceptions:"application/vnd.ogc.se_xml",styles:"",tiled:!0},e.exports=ce},function(e,t,n){var r,i;r=[n(1),n(0),n(3),n(26)],void 0!==(i=function(e,t,n,r){"use strict";function i(t,n,r){return n=e(n,0),r=e(r,t.byteLength-n),t=t.subarray(n,n+r),i.decode(t)}function o(e,t,n){return t<=e&&e<=n}function a(e){for(var t=0,n=0,i=0,a=128,s=191,u=[],l=e.length,c=0;c<l;++c){var h=e[c];if(0===i){if(o(h,0,127)){u.push(h);continue}if(o(h,194,223)){i=1,t=31&h;continue}if(o(h,224,239)){224===h&&(a=160),237===h&&(s=159),i=2,t=15&h;continue}if(o(h,240,244)){240===h&&(a=144),244===h&&(s=143),i=3,t=7&h;continue}throw new r("String decoding failed.")}o(h,a,s)?(a=128,s=191,t=t<<6|63&h,++n===i&&(u.push(t),t=i=n=0)):(t=i=n=0,a=128,s=191,--c)}return u}return i.decodeWithTextDecoder=function(e){return new TextDecoder("utf-8").decode(e)},i.decodeWithFromCharCode=function(e){for(var t="",n=a(e),r=n.length,i=0;i<r;++i){var o=n[i];o<=65535?t+=String.fromCharCode(o):(o-=65536,t+=String.fromCharCode(55296+(o>>10),56320+(1023&o)))}return t},"undefined"!=typeof TextDecoder?i.decode=i.decodeWithTextDecoder:i.decode=i.decodeWithFromCharCode,i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0!==(i=function(e){"use strict";function t(t,n,r){if(r=e(r,!1)){var i=t.indexOf(n);if(i>-1)return i}return t.push(n),t.length-1}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[],void 0!==(i=function(){"use strict";function e(e){switch(e){case"SCALAR":return 1;case"VEC2":return 2;case"VEC3":return 3;case"VEC4":case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16}}return e}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(385);n.d(t,"a",function(){return r.e}),n.d(t,"f",function(){return r.g}),n.d(t,"d",function(){return r.f});var i=n(1420);n.d(t,"e",function(){return i.a}),n.d(t,"c",function(){return i.b});var o=n(1421);n.d(t,"b",function(){return o.a})},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return s});var r=1e3,i=6e4,o=36e5,a=864e5,s=6048e5},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(11),o=r(i),a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(30),f=r(d),p=n(1693),m=r(p),g=(0,l.default)({displayName:"Loader",mixins:[o.default],getDefaultProps:function(){return{className:"",message:"Loading..."}},propTypes:{message:h.default.string,className:h.default.string},render:function(){return s.default.createElement("span",{className:m.default.loader},s.default.createElement(f.default,{glyph:f.default.GLYPHS.loader}),s.default.createElement("span",null,this.props.message||"Loading"))}});e.exports=g},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(2),n(3),n(116),n(102),n(185)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e){e=t(e,t.EMPTY_OBJECT);var r=t(e.wrapS,s.CLAMP_TO_EDGE),i=t(e.wrapT,s.CLAMP_TO_EDGE),u=t(e.minificationFilter,a.LINEAR),l=t(e.magnificationFilter,o.LINEAR),c=n(e.maximumAnisotropy)?e.maximumAnisotropy:1;this._wrapS=r,this._wrapT=i,this._minificationFilter=u,this._magnificationFilter=l,this._maximumAnisotropy=c}return r(u.prototype,{wrapS:{get:function(){return this._wrapS}},wrapT:{get:function(){return this._wrapT}},minificationFilter:{get:function(){return this._minificationFilter}},magnificationFilter:{get:function(){return this._magnificationFilter}},maximumAnisotropy:{get:function(){return this._maximumAnisotropy}}}),u.equals=function(e,t){return e===t||n(e)&&n(t)&&e._wrapS===t._wrapS&&e._wrapT===t._wrapT&&e._minificationFilter===t._minificationFilter&&e._magnificationFilter===t._magnificationFilter&&e._maximumAnisotropy===t._maximumAnisotropy},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(31),n(1),n(0),n(2),n(21),n(3),n(76),n(49),n(9),n(26),n(93),n(64),n(61)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f){"use strict";function p(e,i,o,a){var s=r(i.vertexBuffer),u=r(i.value),l=i.value?i.value.length:i.componentsPerAttribute,c={index:n(i.index,o),enabled:n(i.enabled,!0),vertexBuffer:i.vertexBuffer,value:u?i.value.slice(0):void 0,componentsPerAttribute:l,componentDatatype:n(i.componentDatatype,t.FLOAT),normalize:n(i.normalize,!1),offsetInBytes:n(i.offsetInBytes,0),strideInBytes:n(i.strideInBytes,0),instanceDivisor:n(i.instanceDivisor,0)};if(s)c.vertexAttrib=function(e){var t=this.index;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer._getBuffer()),e.vertexAttribPointer(t,this.componentsPerAttribute,this.componentDatatype,this.normalize,this.strideInBytes,this.offsetInBytes),e.enableVertexAttribArray(t),this.instanceDivisor>0&&(a.glVertexAttribDivisor(t,this.instanceDivisor),a._vertexAttribDivisors[t]=this.instanceDivisor,a._previousDrawInstanced=!0)},c.disableVertexAttribArray=function(e){e.disableVertexAttribArray(this.index),this.instanceDivisor>0&&a.glVertexAttribDivisor(o,0)};else{switch(c.componentsPerAttribute){case 1:c.vertexAttrib=function(e){e.vertexAttrib1fv(this.index,this.value)};break;case 2:c.vertexAttrib=function(e){e.vertexAttrib2fv(this.index,this.value)};break;case 3:c.vertexAttrib=function(e){e.vertexAttrib3fv(this.index,this.value)};break;case 4:c.vertexAttrib=function(e){e.vertexAttrib4fv(this.index,this.value)}}c.disableVertexAttribArray=function(e){}}e.push(c)}function m(e,t,n){for(var i=0;i<t.length;++i){var o=t[i];o.enabled&&o.vertexAttrib(e)}r(n)&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n._getBuffer())}function g(e){e=n(e,n.EMPTY_OBJECT);var i,o=e.context,a=o._gl,s=e.attributes,u=e.indexBuffer,l=[],c=1,h=!1,d=!1,f=s.length;for(i=0;i<f;++i)p(l,s[i],i,o);for(f=l.length,i=0;i<f;++i){var g=l[i];if(r(g.vertexBuffer)&&0===g.instanceDivisor){var _=g.strideInBytes||g.componentsPerAttribute*t.getSizeInBytes(g.componentDatatype);c=g.vertexBuffer.sizeInBytes/_;break}}for(i=0;i<f;++i)l[i].instanceDivisor>0&&(h=!0),r(l[i].value)&&(d=!0);var v;o.vertexArrayObject&&(v=o.glCreateVertexArray(),o.glBindVertexArray(v),m(a,l,u),o.glBindVertexArray(null)),this._numberOfVertices=c,this._hasInstancedAttributes=h,this._hasConstantAttributes=d,this._context=o,this._gl=a,this._vao=v,this._attributes=l,this._indexBuffer=u}function _(e){return e.values.length/e.componentsPerAttribute}function v(e){return t.getSizeInBytes(e.componentDatatype)*e.componentsPerAttribute}function A(e){var n,i,o,a=[];for(i in e)e.hasOwnProperty(i)&&r(e[i])&&r(e[i].values)&&(a.push(i),e[i].componentDatatype===t.DOUBLE&&(e[i].componentDatatype=t.FLOAT,e[i].values=t.createTypedArray(t.FLOAT,e[i].values)));var s,u=a.length;if(u>0)for(s=_(e[a[0]]),n=1;n<u;++n){var l=_(e[a[n]]);if(l!==s)throw new c("Each attribute list must have the same number of vertices.  Attribute "+a[n]+" has a different number of vertices ("+l.toString()+") than attribute "+a[0]+" ("+s.toString()+").")}a.sort(function(n,r){return t.getSizeInBytes(e[r].componentDatatype)-t.getSizeInBytes(e[n].componentDatatype)});var h=0,d={};for(n=0;n<u;++n)i=a[n],o=e[i],d[i]=h,h+=v(o);if(h>0){var f=t.getSizeInBytes(e[a[0]].componentDatatype),p=h%f;0!==p&&(h+=f-p);var m=s*h,g=new ArrayBuffer(m),A={};for(n=0;n<u;++n){i=a[n];var y=t.getSizeInBytes(e[i].componentDatatype);A[i]={pointer:t.createTypedArray(e[i].componentDatatype,g),index:d[i]/y,strideInComponentType:h/y}}for(n=0;n<s;++n)for(var b=0;b<u;++b){i=a[b],o=e[i];for(var w=o.values,x=A[i],E=x.pointer,C=o.componentsPerAttribute,S=0;S<C;++S)E[x.index+S]=w[n*C+S];x.index+=x.strideInComponentType}return{buffer:g,offsetsInBytes:d,vertexSizeInBytes:h}}}function y(e){var t=e._context,n=e._hasInstancedAttributes;if(n||t._previousDrawInstanced){t._previousDrawInstanced=n;var r,i=t._vertexAttribDivisors,o=e._attributes,a=f.maximumVertexAttributes;if(n){var s=o.length;for(r=0;r<s;++r){var u=o[r];if(u.enabled){var l=u.instanceDivisor,c=u.index;l!==i[c]&&(t.glVertexAttribDivisor(c,l),i[c]=l)}}}else for(r=0;r<a;++r)i[r]>0&&(t.glVertexAttribDivisor(r,0),i[r]=0)}}function b(e,t){for(var n=e._attributes,i=n.length,o=0;o<i;++o){var a=n[o];a.enabled&&r(a.value)&&a.vertexAttrib(t)}}return g.fromGeometry=function(e){e=n(e,n.EMPTY_OBJECT);var i,o,a,c=e.context,f=n(e.geometry,n.EMPTY_OBJECT),p=n(e.bufferUsage,d.DYNAMIC_DRAW),m=n(e.attributeLocations,n.EMPTY_OBJECT),_=n(e.interleave,!1),v=e.vertexArrayAttributes,y=r(v)?v:[],b=f.attributes;if(_){var w=A(b);if(r(w)){a=h.createVertexBuffer({context:c,typedArray:w.buffer,usage:p});var x=w.offsetsInBytes,E=w.vertexSizeInBytes;for(i in b)b.hasOwnProperty(i)&&r(b[i])&&(o=b[i],r(o.values)?y.push({index:m[i],vertexBuffer:a,componentDatatype:o.componentDatatype,componentsPerAttribute:o.componentsPerAttribute,normalize:o.normalize,offsetInBytes:x[i],strideInBytes:E}):y.push({index:m[i],value:o.value,componentDatatype:o.componentDatatype,normalize:o.normalize}))}}else for(i in b)if(b.hasOwnProperty(i)&&r(b[i])){o=b[i];var C=o.componentDatatype;C===t.DOUBLE&&(C=t.FLOAT),a=void 0,r(o.values)&&(a=h.createVertexBuffer({context:c,typedArray:t.createTypedArray(C,o.values),usage:p})),y.push({index:m[i],vertexBuffer:a,value:o.value,componentDatatype:C,componentsPerAttribute:o.componentsPerAttribute,normalize:o.normalize})}var S,T=f.indices;return r(T)&&(S=s.computeNumberOfVertices(f)>=l.SIXTY_FOUR_KILOBYTES&&c.elementIndexUint?h.createIndexBuffer({context:c,typedArray:new Uint32Array(T),usage:p,indexDatatype:u.UNSIGNED_INT}):h.createIndexBuffer({context:c,typedArray:new Uint16Array(T),usage:p,indexDatatype:u.UNSIGNED_SHORT})),new g({context:c,attributes:y,indexBuffer:S})},i(g.prototype,{numberOfAttributes:{get:function(){return this._attributes.length}},numberOfVertices:{get:function(){return this._numberOfVertices}},indexBuffer:{get:function(){return this._indexBuffer}}}),g.prototype.getAttribute=function(e){return this._attributes[e]},g.prototype._bind=function(){r(this._vao)?(this._context.glBindVertexArray(this._vao),this._context.instancedArrays&&y(this),this._hasConstantAttributes&&b(this,this._gl)):m(this._gl,this._attributes,this._indexBuffer)},g.prototype._unBind=function(){if(r(this._vao))this._context.glBindVertexArray(null);else{for(var e=this._attributes,t=this._gl,n=0;n<e.length;++n){var i=e[n];i.enabled&&i.disableVertexAttribArray(t)}this._indexBuffer&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}},g.prototype.isDestroyed=function(){return!1},g.prototype.destroy=function(){for(var e=this._attributes,t=0;t<e.length;++t){var n=e[t].vertexBuffer;r(n)&&!n.isDestroyed()&&n.vertexArrayDestroyable&&n.destroy()}var i=this._indexBuffer;return r(i)&&!i.isDestroyed()&&i.vertexArrayDestroyable&&i.destroy(),r(this._vao)&&this._context.glDeleteVertexArray(this._vao),o(this)},g}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";var n={NEAREST:t.NEAREST,LINEAR:t.LINEAR,validate:function(e){return e===n.NEAREST||e===n.LINEAR}};return e(n)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"undefined"!=typeof performance&&"function"==typeof performance.now&&isFinite(performance.now())?function(){return performance.now()}:function(){return Date.now()}}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(38),n(17),n(10),n(24),n(12),n(1),n(0),n(3),n(23),n(426),n(71),n(301),n(9),n(40),n(79),n(16)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m){"use strict";function g(e,t){this.center=n.clone(o(e,n.ZERO)),this.halfAxes=f.clone(o(t,f.ZERO))}function _(e,t,r,i,o,s,u,l){a(l)||(l=new g);var c=l.halfAxes;f.setColumn(c,0,e.xAxis,c),f.setColumn(c,1,e.yAxis,c),f.setColumn(c,2,e.zAxis,c);var h=S;h.x=(t+r)/2,h.y=(i+o)/2,h.z=(s+u)/2;var d=T;d.x=(r-t)/2,d.y=(o-i)/2,d.z=(u-s)/2;var p=l.center;return h=f.multiplyByVector(c,h,h),n.add(e.origin,h,p),f.multiplyByScale(c,d,c),l}g.packedLength=n.packedLength+f.packedLength,g.pack=function(e,t,r){return r=o(r,0),n.pack(e.center,t,r),f.pack(e.halfAxes,t,r+n.packedLength),t},g.unpack=function(e,t,r){return t=o(t,0),a(r)||(r=new g),n.unpack(e,t,r.center),f.unpack(e,t+n.packedLength,r.halfAxes),r};var v=new n,A=new n,y=new n,b=new n,w=new n,x=new n,E=new f,C={unitary:new f,diagonal:new f};g.fromPoints=function(e,t){if(a(t)||(t=new g),!a(e)||0===e.length)return t.halfAxes=f.ZERO,t.center=n.ZERO,t;var r,i=e.length,o=n.clone(e[0],v);for(r=1;r<i;r++)n.add(o,e[r],o);var s=1/i;n.multiplyByScalar(o,s,o);var u,l=0,c=0,h=0,d=0,p=0,m=0;for(r=0;r<i;r++)u=n.subtract(e[r],o,A),l+=u.x*u.x,c+=u.x*u.y,h+=u.x*u.z,d+=u.y*u.y,p+=u.y*u.z,m+=u.z*u.z;l*=s,c*=s,h*=s,d*=s,p*=s,m*=s;var _=E;_[0]=l,_[1]=c,_[2]=h,_[3]=c,_[4]=d,_[5]=p,_[6]=h,_[7]=p,_[8]=m;var S=f.computeEigenDecomposition(_,C),T=f.clone(S.unitary,t.halfAxes),I=f.getColumn(T,0,b),M=f.getColumn(T,1,w),O=f.getColumn(T,2,x),P=-Number.MAX_VALUE,D=-Number.MAX_VALUE,B=-Number.MAX_VALUE,L=Number.MAX_VALUE,N=Number.MAX_VALUE,R=Number.MAX_VALUE;for(r=0;r<i;r++)u=e[r],P=Math.max(n.dot(I,u),P),D=Math.max(n.dot(M,u),D),B=Math.max(n.dot(O,u),B),L=Math.min(n.dot(I,u),L),N=Math.min(n.dot(M,u),N),R=Math.min(n.dot(O,u),R);I=n.multiplyByScalar(I,.5*(L+P),I),M=n.multiplyByScalar(M,.5*(N+D),M),O=n.multiplyByScalar(O,.5*(R+B),O);var k=n.add(I,M,t.center);n.add(k,O,k);var F=y;return F.x=P-L,F.y=D-N,F.z=B-R,n.multiplyByScalar(F,.5,F),f.multiplyByScale(t.halfAxes,F,t.halfAxes),t};var S=new n,T=new n,I=new r,M=new n,O=[new r,new r,new r,new r,new r,new r,new r,new r],P=[new n,new n,new n,new n,new n,new n,new n,new n],D=[new t,new t,new t,new t,new t,new t,new t,new t];g.fromRectangle=function(e,t,n,r,i){t=o(t,0),n=o(n,0),r=o(r,u.WGS84);var a=m.center(e,I),s=r.cartographicToCartesian(a,M),c=new l(s,r),h=c.plane,d=O[0],f=O[1],g=O[2],v=O[3],A=O[4],y=O[5],b=O[6],w=O[7],x=a.longitude,E=e.south<0&&e.north>0?0:a.latitude;b.latitude=y.latitude=A.latitude=e.south,w.latitude=v.latitude=E,d.latitude=f.latitude=g.latitude=e.north,b.longitude=w.longitude=d.longitude=e.west,y.longitude=f.longitude=x,A.longitude=v.longitude=g.longitude=e.east,g.height=f.height=d.height=w.height=b.height=y.height=A.height=v.height=n,r.cartographicArrayToCartesianArray(O,P),c.projectPointsToNearestOnPlane(P,D);var C=Math.min(D[6].x,D[7].x,D[0].x),S=Math.max(D[2].x,D[3].x,D[4].x),T=Math.min(D[4].y,D[5].y,D[6].y),B=Math.max(D[0].y,D[1].y,D[2].y);return g.height=d.height=A.height=b.height=t,r.cartographicArrayToCartesianArray(O,P),_(c,C,S,T,B,Math.min(p.getPointDistance(h,P[0]),p.getPointDistance(h,P[2]),p.getPointDistance(h,P[4]),p.getPointDistance(h,P[6])),n,i)},g.clone=function(e,t){if(a(e))return a(t)?(n.clone(e.center,t.center),f.clone(e.halfAxes,t.halfAxes),t):new g(e.center,e.halfAxes)},g.intersectPlane=function(e,t){var r=e.center,i=t.normal,o=e.halfAxes,a=i.x,s=i.y,u=i.z,l=Math.abs(a*o[f.COLUMN0ROW0]+s*o[f.COLUMN0ROW1]+u*o[f.COLUMN0ROW2])+Math.abs(a*o[f.COLUMN1ROW0]+s*o[f.COLUMN1ROW1]+u*o[f.COLUMN1ROW2])+Math.abs(a*o[f.COLUMN2ROW0]+s*o[f.COLUMN2ROW1]+u*o[f.COLUMN2ROW2]),h=n.dot(i,r)+t.distance;return h<=-l?c.OUTSIDE:h>=l?c.INSIDE:c.INTERSECTING};var B=new n,L=new n,N=new n,R=new n;g.distanceSquaredTo=function(e,t){var r=n.subtract(t,e.center,S),i=e.halfAxes,o=f.getColumn(i,0,B),a=f.getColumn(i,1,L),s=f.getColumn(i,2,N),u=n.magnitude(o),l=n.magnitude(a),c=n.magnitude(s);n.normalize(o,o),n.normalize(a,a),n.normalize(s,s);var h=R;h.x=n.dot(r,o),h.y=n.dot(r,a),h.z=n.dot(r,s);var d,p=0;return h.x<-u?(d=h.x+u,p+=d*d):h.x>u&&(d=h.x-u,p+=d*d),h.y<-l?(d=h.y+l,p+=d*d):h.y>l&&(d=h.y-l,p+=d*d),h.z<-c?(d=h.z+c,p+=d*d):h.z>c&&(d=h.z-c,p+=d*d),p};var k=new n,F=new n;g.computePlaneDistances=function(e,t,r,i){a(i)||(i=new h);var o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=e.center,l=e.halfAxes,c=f.getColumn(l,0,B),d=f.getColumn(l,1,L),p=f.getColumn(l,2,N),m=n.add(c,d,k);n.add(m,p,m),n.add(m,u,m);var g=n.subtract(m,t,F),_=n.dot(r,g);return o=Math.min(_,o),s=Math.max(_,s),n.add(u,c,m),n.add(m,d,m),n.subtract(m,p,m),n.subtract(m,t,g),_=n.dot(r,g),o=Math.min(_,o),s=Math.max(_,s),n.add(u,c,m),n.subtract(m,d,m),n.add(m,p,m),n.subtract(m,t,g),_=n.dot(r,g),o=Math.min(_,o),s=Math.max(_,s),n.add(u,c,m),n.subtract(m,d,m),n.subtract(m,p,m),n.subtract(m,t,g),_=n.dot(r,g),o=Math.min(_,o),s=Math.max(_,s),n.subtract(u,c,m),n.add(m,d,m),n.add(m,p,m),n.subtract(m,t,g),_=n.dot(r,g),o=Math.min(_,o),s=Math.max(_,s),n.subtract(u,c,m),n.add(m,d,m),n.subtract(m,p,m),n.subtract(m,t,g),_=n.dot(r,g),o=Math.min(_,o),s=Math.max(_,s),n.subtract(u,c,m),n.subtract(m,d,m),n.add(m,p,m),n.subtract(m,t,g),_=n.dot(r,g),o=Math.min(_,o),s=Math.max(_,s),n.subtract(u,c,m),n.subtract(m,d,m),n.subtract(m,p,m),n.subtract(m,t,g),_=n.dot(r,g),o=Math.min(_,o),s=Math.max(_,s),i.start=o,i.stop=s,i};var U=new e;return g.isOccluded=function(t,n){var r=e.fromOrientedBoundingBox(t,U);return!n.isBoundingSphereVisible(r)},g.prototype.intersectPlane=function(e){return g.intersectPlane(this,e)},g.prototype.distanceSquaredTo=function(e){return g.distanceSquaredTo(this,e)},g.prototype.computePlaneDistances=function(e,t,n){return g.computePlaneDistances(this,e,t,n)},g.prototype.isOccluded=function(e){return g.isOccluded(this,e)},g.equals=function(e,t){return e===t||a(e)&&a(t)&&n.equals(e.center,t.center)&&f.equals(e.halfAxes,t.halfAxes)},g.prototype.clone=function(e){return g.clone(this,e)},g.prototype.equals=function(e){return g.equals(this,e)},g}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(188),n(26),n(7)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(t,n,r,i,o,a,s){this.name="TileProviderError",this.provider=t,this.message=n,this.x=r,this.y=i,this.level=o,this.timesRetried=e(a,0),this.retry=!1,this.error=s}return o.handleError=function(e,r,a,s,u,l,c,h,d){var f=e;return t(e)?(f.provider=r,f.message=s,f.x=u,f.y=l,f.level=c,f.retry=!1,f.error=d,++f.timesRetried):f=new o(r,s,u,l,c,0,d),a.numberOfListeners>0?a.raiseEvent(f):console.log('An error occurred in "'+r.constructor.name+'": '+n(s)),f.retry&&t(h)&&h(i(f.retry)),f},o.handleSuccess=function(e){t(e)&&(e.timesRetried=-1)},t(Object.create)&&(o.prototype=Object.create(r.prototype),o.prototype.constructor=o),o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(12),n(1),n(0),n(2),n(6)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e,t,r,i){this[0]=n(e,0),this[1]=n(r,0),this[2]=n(t,0),this[3]=n(i,0)}a.packedLength=4,a.pack=function(e,t,r){return r=n(r,0),t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t},a.unpack=function(e,t,i){return t=n(t,0),r(i)||(i=new a),i[0]=e[t++],i[1]=e[t++],i[2]=e[t++],i[3]=e[t++],i},a.clone=function(e,t){if(r(e))return r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):new a(e[0],e[2],e[1],e[3])},a.fromArray=function(e,t,i){return t=n(t,0),r(i)||(i=new a),i[0]=e[t],i[1]=e[t+1],i[2]=e[t+2],i[3]=e[t+3],i},a.fromColumnMajorArray=function(e,t){return a.clone(e,t)},a.fromRowMajorArray=function(e,t){return r(t)?(t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3],t):new a(e[0],e[1],e[2],e[3])},a.fromScale=function(e,t){return r(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=e.y,t):new a(e.x,0,0,e.y)},a.fromUniformScale=function(e,t){return r(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=e,t):new a(e,0,0,e)},a.fromRotation=function(e,t){var n=Math.cos(e),i=Math.sin(e);return r(t)?(t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t):new a(n,-i,i,n)},a.toArray=function(e,t){return r(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):[e[0],e[1],e[2],e[3]]},a.getElementIndex=function(e,t){return 2*e+t},a.getColumn=function(e,t,n){var r=2*t,i=e[r],o=e[r+1];return n.x=i,n.y=o,n},a.setColumn=function(e,t,n,r){r=a.clone(e,r);var i=2*t;return r[i]=n.x,r[i+1]=n.y,r},a.getRow=function(e,t,n){var r=e[t],i=e[t+2];return n.x=r,n.y=i,n},a.setRow=function(e,t,n,r){return r=a.clone(e,r),r[t]=n.x,r[t+2]=n.y,r};var s=new e;a.getScale=function(t,n){return n.x=e.magnitude(e.fromElements(t[0],t[1],s)),n.y=e.magnitude(e.fromElements(t[2],t[3],s)),n};var u=new e;return a.getMaximumScale=function(t){return a.getScale(t,u),e.maximumComponent(u)},a.multiply=function(e,t,n){var r=e[0]*t[0]+e[2]*t[1],i=e[0]*t[2]+e[2]*t[3],o=e[1]*t[0]+e[3]*t[1],a=e[1]*t[2]+e[3]*t[3];return n[0]=r,n[1]=o,n[2]=i,n[3]=a,n},a.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n},a.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n},a.multiplyByVector=function(e,t,n){var r=e[0]*t.x+e[2]*t.y,i=e[1]*t.x+e[3]*t.y;return n.x=r,n.y=i,n},a.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n},a.multiplyByScale=function(e,t,n){return n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.y,n[3]=e[3]*t.y,n},a.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},a.transpose=function(e,t){var n=e[0],r=e[2],i=e[1],o=e[3];return t[0]=n,t[1]=r,t[2]=i,t[3]=o,t},a.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t},a.equals=function(e,t){return e===t||r(e)&&r(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},a.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]},a.equalsEpsilon=function(e,t,n){return e===t||r(e)&&r(t)&&Math.abs(e[0]-t[0])<=n&&Math.abs(e[1]-t[1])<=n&&Math.abs(e[2]-t[2])<=n&&Math.abs(e[3]-t[3])<=n},a.IDENTITY=o(new a(1,0,0,1)),a.ZERO=o(new a(0,0,0,0)),a.COLUMN0ROW0=0,a.COLUMN0ROW1=1,a.COLUMN1ROW0=2,a.COLUMN1ROW1=3,i(a.prototype,{length:{get:function(){return a.packedLength}}}),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,t){return a.equalsEpsilon(this,e,t)},a.prototype.toString=function(){return"("+this[0]+", "+this[2]+")\n("+this[1]+", "+this[3]+")"},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){h(e._imageryLayer)&&e.isEnabled&&e.isShown&&(h(e._imageryLayer.alpha)&&(e._imageryLayer.alpha=e.opacity),h(e._imageryLayer.setOpacity)&&e._imageryLayer.setOpacity(e.opacity),e.terria.currentViewer.notifyRepaintRequired())}function i(e){e.terria.currentViewer.updateItemForSplitter(e)}function o(e,t,n){if(h(t)){var r=e.intervals;if(h(r)&&e.isEnabled&&e.isShown){var o=c(n,!0),a=e._currentIntervalIndex;if(a<0||a>=r.length||!w.contains(r.get(a),t)){if((a=r.indexOf(t))<0)return N.disableLayer(e,e._imageryLayer),e._imageryLayer=void 0,void(e._currentIntervalIndex=-1);if(a!==e._nextIntervalIndex){N.disableLayer(e,e._nextLayer),e._nextLayer=void 0,e._nextIntervalIndex=-1;var u=e.createImageryProvider(e.intervals.get(a).data);u.enablePickFeatures=!1,e._nextLayer=N.enableLayer(e,u,0),i(e),N.showLayer(e,e._nextLayer)}if(D(e,e._nextLayer,e.opacity),B(e,e._imageryLayer,e._nextLayer),N.disableLayer(e,e._imageryLayer),e._imageryLayer=e._nextLayer,h(e._nextLayer)&&(e._imageryLayer.imageryProvider.enablePickFeatures=!0),e._nextLayer=void 0,e._nextIntervalIndex=-1,e._currentIntervalIndex=a,o){var l=e.terria.clock.multiplier>=0?a+1:a-1;if(l===r.length&&e.terria.clock.clockRange===s.LOOP_STOP&&(l=0),l>=0&&l<r.length&&l!==e._nextIntervalIndex){var d=e.createImageryProvider(e.intervals.get(l).data);d.enablePickFeatures=!1,e._nextLayer=N.enableLayer(e,d,0),i(e),N.showLayer(e,e._nextLayer),e._nextIntervalIndex=l}}}}}}function a(e){var t=e.intervals;h(t)&&e.isEnabled&&e.isShown&&h(e.clock)&&o(e,e.clock.currentTime)}var s=n(160),u=n(27),l=n(433),c=n(1),h=n(0),d=n(2),f=n(3),p=n(188),m=n(6),g=n(162),_=n(36),v=n(13),A=n(16),y=n(29),b=n(882),w=n(78),x=n(131),E=n(7),C=n(56),S=n(497),T=n(498),I=n(14),M=n(22),O=n(83),P=n(502),D=P.setOpacity,B=P.fixNextLayerOrder,L=n(503),N=function(e){C.call(this,e),this._imageryLayer=void 0,this._clock=void 0,this._currentIntervalIndex=-1,this._nextIntervalIndex=void 0,this._nextLayer=void 0,this.opacity=.6,this.treat404AsError=!1,this.treat403AsError=!0,this.ignoreUnknownTileErrors=!1,this.intervals=void 0,this.keepOnTop=!1,this.clipToRectangle=!0,this.isRequiredForRendering=!1,this.initialTimeSource=void 0,this.splitDirection=g.NONE,v.track(this,["_clock","opacity","treat404AsError","ignoreUnknownTileErrors","intervals","clipToRectangle","splitDirection","initialTimeSource"]),O(this,"clock",{get:function(){var e=this._clock;if(!e&&this.intervals&&this.intervals.length>0){var t=this.intervals.start,n=this.intervals.stop,r=_.secondsDifference(n,t),i=this.intervals.length,o=r/i,a=o/5;e=new l,e.startTime=t,e.stopTime=n,e.multiplier=a,L(e,this.initialTimeSource)}return e},set:function(e){this._clock=e}}),v.defineProperty(this,"availableDates",{get:function(){if(h(this.intervals)){for(var e=[],t=0;t<this.intervals.length;t++)e.push(_.toDate(this.intervals.get(t).start,3));return e}return[]}},this),v.getObservable(this,"opacity").subscribe(function(){r(this)},this),v.getObservable(this,"splitDirection").subscribe(function(){i(this)},this)};I(C,N),d(N.prototype,{supportsIntervals:{get:function(){return!1}},imageryLayer:{get:function(){return this._imageryLayer}},supportsReordering:{get:function(){return!this.keepOnTop}},supportsOpacity:{get:function(){return!0}},supportsSplitting:{get:function(){return!0}},updaters:{get:function(){return N.defaultUpdaters}},serializers:{get:function(){return N.defaultSerializers}},propertiesForSharing:{get:function(){return N.defaultPropertiesForSharing}}}),N.defaultUpdaters=u(C.defaultUpdaters),N.defaultUpdaters.intervals=function(e,t,n){if(h(t.intervals)){if(!e.supportsIntervals)throw new M({sender:e,title:"Intervals not supported",message:"Sorry, "+e.typeName+" ("+e.type+') catalog items cannot currently be made time-varying by specifying the "intervals" property.'});for(var r=new x,i=0;i<t.intervals.length;++i){var o=t.intervals[i];r.addInterval(w.fromIso8601({iso8601:o.interval,data:o.data}))}e.intervals=r}},N.defaultUpdaters.availableDates=function(){},m(N.defaultUpdaters),N.defaultSerializers=u(C.defaultSerializers),N.defaultSerializers.intervals=function(e,t,n){if(h(e.intervals)){for(var r=[],i=0;i<e.intervals.length;++i){var o=e.intervals.get(i);r.push({interval:w.toIso8601(o),data:o.data})}t.intervals=r}},N.defaultSerializers.initialTimeSource=function(e,t,n){h(e.clock)?t.initialTimeSource=_.toIso8601(e.clock.currentTime):t.initialTimeSource=e.initialTimeSource},N.defaultSerializers.clock=function(){},N.defaultSerializers.availableDates=function(){},m(N.defaultSerializers),N.defaultPropertiesForSharing=u(C.defaultPropertiesForSharing),N.defaultPropertiesForSharing.push("opacity"),N.defaultPropertiesForSharing.push("keepOnTop"),N.defaultPropertiesForSharing.push("initialTimeSource"),N.defaultPropertiesForSharing.push("splitDirection"),m(N.defaultPropertiesForSharing),N.prototype.createImageryProvider=function(e){return this._createImageryProvider(e)},N.prototype._createImageryProvider=function(e){throw new f("_createImageryProvider must be implemented in the derived class.")},N.prototype._enable=function(e){if(!h(this._imageryLayer)){var t,n,r=!1;if(h(this.intervals)&&this.intervals.length>0&&h(this.clock)){r=!0;var o,s=this.intervals.indexOf(this.clock.currentTime),u=this.terria.clock.multiplier;s<0?(this._currentIntervalIndex=-1,t=void 0,o=~s,u<0&&--o):(this._currentIntervalIndex=s,t=this.intervals.get(s).data,o=u<0?s-1:s+1),o===this.intervals.length&&(o=0),o>=0&&o<this.intervals.length?(this._nextIntervalIndex=o,n=this.intervals.get(o).data):this._nextIntervalIndex=-1}if(!r||h(t)){var l=this.createImageryProvider(t);this._imageryLayer=N.enableLayer(this,l,this.opacity,e)}if(r&&(this._currentTimeSubscription=v.getObservable(this,"currentTime").subscribe(function(){a(this)},this)),h(n)){var c=this.createImageryProvider(n);c.enablePickFeatures=!1,this._nextLayer=N.enableLayer(this,c,0,e+1)}i(this)}},N.prototype._disable=function(){h(this._currentTimeSubscription)&&(this._currentTimeSubscription.dispose(),this._currentTimeSubscription=void 0),N.disableLayer(this,this._imageryLayer),this._imageryLayer=void 0,N.disableLayer(this,this._nextLayer),this._nextLayer=void 0},N.prototype._show=function(){o(this,this.currentTime),N.showLayer(this,this._imageryLayer),N.showLayer(this,this._nextLayer)},N.prototype._hide=function(){N.hideLayer(this,this._imageryLayer),N.hideLayer(this,this._nextLayer)},N.prototype.showOnSeparateMap=function(e){var t=this._createImageryProvider(),n=N.enableLayer(this,t,this.opacity,void 0,e);e.updateItemForSplitter(this),N.showLayer(this,n,e);var r=this;return function(){N.hideLayer(r,n,e),N.disableLayer(r,n,e)}},N.prototype.refresh=function(){if(h(this._imageryLayer)){var e;if(h(this.terria.cesium)){e=this.terria.cesium.scene.imageryLayers.indexOf(this._imageryLayer)}this._hide(),this._disable(),this.isEnabled&&(this._enable(e),this.isShown&&this._show()),this.terria.currentViewer.notifyRepaintRequired()}},N.enableLayer=function(e,t,n,r,i){i=c(i,e.terria.currentViewer);var o=0,a={},s=i.addImageryProvider({imageryProvider:t,rectangle:e.rectangle,clipToRectangle:e.clipToRectangle,opacity:n,layerIndex:r,treat403AsError:e.treat403AsError,treat404AsError:e.treat404AsError,ignoreUnknownTileErrors:e.ignoreUnknownTileErrors,isRequiredForRendering:e.isRequiredForRendering,onLoadError:function(n){function r(){var e=T(t,n.x,n.y,n.level);return e?y.fetchImage({url:e,preferBlob:!0}):E.reject()}function u(){m.stop(),f.resolve()}function l(){m.stop(),f.reject()}function c(e){g=void 0,m.retry(e)||d(e)}function d(t){++o,o>5&&h(s)&&i.isImageryLayerShown({layer:s})&&(e===e.terria.baseMap||e.terria.baseMap instanceof S&&e.terria.baseMap.items.indexOf(e)>=0?(i.terria.error.raiseEvent(new M({sender:e,title:"Error accessing base map",message:"An error occurred while attempting to download tiles for base map:<p><center>"+e.terria.baseMap.name+"</center></p> This may indicate that there is a problem with your internet connection, that the base map is temporarily unavailable, or that the base map is invalid.  Please select a different base map using the Map button in the top-right corner.  Further technical details may be found below.<br/><br/><pre>"+p(t)+"</pre>"})),i.hideImageryLayer({layer:s}),e.terria.baseMap=void 0,e.terria.setLocalProperty("basemap",void 0)):(i.terria.error.raiseEvent(new M({sender:e,title:"Error accessing catalogue item",message:"An error occurred while attempting to download tiles for catalogue item:<p><center>"+e.name+"</center></p> This may indicate that there is a problem with your internet connection, that the catalogue item is temporarily unavailable, or that the catalogue item is invalid.  The catalogue item has been hidden from the map.  You may re-show it in the Now Viewing panel to try again.  Further technical details may be found below.<br/><br/><pre>"+p(t)+"</pre>"})),i===e.terria.currentViewer?e.isShown=!1:i.hideImageryLayer({layer:s}))),l()}if(h(s)&&i.isImageryLayerShown({layer:s})){0===n.timesRetried&&(o=0,a={}),n.retry=void 0;var f=E.defer(),m=b.operation({retries:8,minTimeout:200,randomize:!0}),g=n.error;m.attempt(function(){if(!h(s)||!i.isImageryLayerShown({layer:s}))return void l();var o=h(g)&&h(g.statusCode)?E.reject(g):r();void 0!==e.handleTileError&&(o=e.handleTileError(o,t,n.x,n.y,n.level)),o.then(function(){var e="L"+n.level+"X"+n.x+"Y"+n.y;a[e]=a[e]||0,++a[e]>5?d({name:"Tile Error",message:"The tile with the URL:\n"+T(t,n.x,n.y,n.level)+"\nsucceeded when loaded with XMLHttpRequest but failed multiple times when loaded directly by Cesium or Leaflet.\nThis may indicate that the server is very sensitive to the request headers provided or is simply unreliable."}):u()}).otherwise(function(r){if(r=r||{},h(e.rectangle)){var i=t.tilingScheme,o=i.tileXYToRectangle(n.x,n.y,n.level),a=A.intersection(o,e.rectangle);if(!h(a))return void l()}r.statusCode>=400&&r.statusCode<500?!1===e.treat404AsError&&404===r.statusCode?l():!1===e.treat403AsError&&403===r.statusCode?l():d(r):r.statusCode>=500&&r.statusCode<600?c(r):!h(r.statusCode)&&h(r.target)?d({name:"Tile Error",message:"Got a 200 (OK) response from URL:\n"+T(t,n.x,n.y,n.level)+"\nbut it could not be loaded as an image."}):h(r.statusCode)?d(r):e.ignoreUnknownTileErrors?l():d({name:"Unknown Tile Error",message:"While accessing URL:\n"+T(t,n.x,n.y,n.level)+"\nThis probably indicates one of the following:\n* The server hostname could not be resolved,\n* The server did not respond to the request, or\n* The server denied Cross-Origin Resource Sharing (CORS) access to this URL (See https://docs.terria.io/guide/connecting-to-data/cross-origin-resource-sharing/)."})})}),n.retry=f.promise}},onProjectionError:function(){i.terria.error.raiseEvent({sender:e,title:"Unable to display dataset",message:e.name+'" cannot be shown in 2D because it does not support the standard Web Mercator (EPSG:3857) projection.  Please switch to 3D if it is supported on your system, update the dataset to support the projection, or use a different dataset.'}),i===e.terria.currentViewer?e.isShown=!1:i.hideImageryLayer({layer:s})}});return s},N.disableLayer=function(e,t,n){h(t)&&(n=c(n,e.terria.currentViewer),n.removeImageryLayer({layer:t}))},N.showLayer=function(e,t,n){h(t)&&(n=c(n,e.terria.currentViewer),n.showImageryLayer({layer:t}))},N.hideLayer=function(e,t,n){h(t)&&(n=c(n,e.terria.currentViewer),n.hideImageryLayer({layer:t}))},e.exports=N},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=/^#([a-f0-9]{3})$/i,s=function(e){var t=e.match(a);return!!t&&[parseInt(t[1][0]+t[1][0],16),parseInt(t[1][1]+t[1][1],16),parseInt(t[1][2]+t[1][2],16),null]},u=/^#([a-f0-9]{6})$/i,l=function(e){var t=e.match(u);return!!t&&[parseInt(t[1].substring(0,2),16),parseInt(t[1].substring(2,4),16),parseInt(t[1].substring(4,6),16),null]},c=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,h=function(e){var t=e.match(c);return!!t&&[Number(t[1]),Number(t[2]),Number(t[3]),null]},d=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/,f=function(e){var t=e.match(d);return!!(t&&t.length>4)&&[Number(t[1]),Number(t[2]),Number(t[3]),Number(t[4])]},p=function(e){return[Math.min(e[0],255),Math.min(e[1],255),Math.min(e[2],255),e.length>3?e[3]:null]},m=function(e){var t=_[e.toLowerCase()];return t||!1},g=function(){function e(t){r(this,e);var n=Array.isArray(t)?p(t):s(t)||h(t)||f(t)||m(t)||l(t)||[0,0,0,null],o=i(n,4),a=o[0],u=o[1],c=o[2],d=o[3];this.r=a,this.g=u,this.b=c,this.a=d}return o(e,[{key:"isTransparent",value:function(){return 0===this.a}},{key:"toString",value:function(){return null!==this.a&&1!==this.a?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}}]),e}();t.default=g;var _={transparent:[0,0,0,0],aliceblue:[240,248,255,null],antiquewhite:[250,235,215,null],aqua:[0,255,255,null],aquamarine:[127,255,212,null],azure:[240,255,255,null],beige:[245,245,220,null],bisque:[255,228,196,null],black:[0,0,0,null],blanchedalmond:[255,235,205,null],blue:[0,0,255,null],blueviolet:[138,43,226,null],brown:[165,42,42,null],burlywood:[222,184,135,null],cadetblue:[95,158,160,null],chartreuse:[127,255,0,null],chocolate:[210,105,30,null],coral:[255,127,80,null],cornflowerblue:[100,149,237,null],cornsilk:[255,248,220,null],crimson:[220,20,60,null],cyan:[0,255,255,null],darkblue:[0,0,139,null],darkcyan:[0,139,139,null],darkgoldenrod:[184,134,11,null],darkgray:[169,169,169,null],darkgreen:[0,100,0,null],darkgrey:[169,169,169,null],darkkhaki:[189,183,107,null],darkmagenta:[139,0,139,null],darkolivegreen:[85,107,47,null],darkorange:[255,140,0,null],darkorchid:[153,50,204,null],darkred:[139,0,0,null],darksalmon:[233,150,122,null],darkseagreen:[143,188,143,null],darkslateblue:[72,61,139,null],darkslategray:[47,79,79,null],darkslategrey:[47,79,79,null],darkturquoise:[0,206,209,null],darkviolet:[148,0,211,null],deeppink:[255,20,147,null],deepskyblue:[0,191,255,null],dimgray:[105,105,105,null],dimgrey:[105,105,105,null],dodgerblue:[30,144,255,null],firebrick:[178,34,34,null],floralwhite:[255,250,240,null],forestgreen:[34,139,34,null],fuchsia:[255,0,255,null],gainsboro:[220,220,220,null],ghostwhite:[248,248,255,null],gold:[255,215,0,null],goldenrod:[218,165,32,null],gray:[128,128,128,null],green:[0,128,0,null],greenyellow:[173,255,47,null],grey:[128,128,128,null],honeydew:[240,255,240,null],hotpink:[255,105,180,null],indianred:[205,92,92,null],indigo:[75,0,130,null],ivory:[255,255,240,null],khaki:[240,230,140,null],lavender:[230,230,250,null],lavenderblush:[255,240,245,null],lawngreen:[124,252,0,null],lemonchiffon:[255,250,205,null],lightblue:[173,216,230,null],lightcoral:[240,128,128,null],lightcyan:[224,255,255,null],lightgoldenrodyellow:[250,250,210,null],lightgray:[211,211,211,null],lightgreen:[144,238,144,null],lightgrey:[211,211,211,null],lightpink:[255,182,193,null],lightsalmon:[255,160,122,null],lightseagreen:[32,178,170,null],lightskyblue:[135,206,250,null],lightslategray:[119,136,153,null],lightslategrey:[119,136,153,null],lightsteelblue:[176,196,222,null],lightyellow:[255,255,224,null],lime:[0,255,0,null],limegreen:[50,205,50,null],linen:[250,240,230,null],magenta:[255,0,255,null],maroon:[128,0,0,null],mediumaquamarine:[102,205,170,null],mediumblue:[0,0,205,null],mediumorchid:[186,85,211,null],mediumpurple:[147,112,219,null],mediumseagreen:[60,179,113,null],mediumslateblue:[123,104,238,null],mediumspringgreen:[0,250,154,null],mediumturquoise:[72,209,204,null],mediumvioletred:[199,21,133,null],midnightblue:[25,25,112,null],mintcream:[245,255,250,null],mistyrose:[255,228,225,null],moccasin:[255,228,181,null],navajowhite:[255,222,173,null],navy:[0,0,128,null],oldlace:[253,245,230,null],olive:[128,128,0,null],olivedrab:[107,142,35,null],orange:[255,165,0,null],orangered:[255,69,0,null],orchid:[218,112,214,null],palegoldenrod:[238,232,170,null],palegreen:[152,251,152,null],paleturquoise:[175,238,238,null],palevioletred:[219,112,147,null],papayawhip:[255,239,213,null],peachpuff:[255,218,185,null],peru:[205,133,63,null],pink:[255,192,203,null],plum:[221,160,221,null],powderblue:[176,224,230,null],purple:[128,0,128,null],rebeccapurple:[102,51,153,null],red:[255,0,0,null],rosybrown:[188,143,143,null],royalblue:[65,105,225,null],saddlebrown:[139,69,19,null],salmon:[250,128,114,null],sandybrown:[244,164,96,null],seagreen:[46,139,87,null],seashell:[255,245,238,null],sienna:[160,82,45,null],silver:[192,192,192,null],skyblue:[135,206,235,null],slateblue:[106,90,205,null],slategray:[112,128,144,null],slategrey:[112,128,144,null],snow:[255,250,250,null],springgreen:[0,255,127,null],steelblue:[70,130,180,null],tan:[210,180,140,null],teal:[0,128,128,null],thistle:[216,191,216,null],tomato:[255,99,71,null],turquoise:[64,224,208,null],violet:[238,130,238,null],wheat:[245,222,179,null],white:[255,255,255,null],whitesmoke:[245,245,245,null],yellow:[255,255,0,null],yellowgreen:[154,205,50,null]};t.TRANSPARENT=new g([0,0,0,0])},function(e,t,n){"use strict";function r(e){if(0===e.length)throw new Error("mean requires at least one data point");return i(e)/e.length}var i=n(567);e.exports=r},function(e,t,n){"use strict";function r(e){if(D(e)){var t=parseInt(e,10);if(t===t)return t;for(var n in W)if(e.toLowerCase()===n.toLowerCase())return W[n]}}function i(e,t){var n=e.map(function(e){return e&&k.toIso8601(e)}),r=t.map(function(e){return e&&k.toIso8601(e)});return n.map(function(e){return r.indexOf(e)})}function o(e){var t=e.filter(function(e){return D(e)});return t=t.filter(function(e,t,n){return 0===t||!k.equals(n[t-1],e)})}function a(e,t,n,r){var a,s=o(e),u=i(e,s);if(a=n>0?s.slice(1).map(function(e,t){var n=k.secondsDifference(e,s[t]);return n<20?k.addSeconds(e,-n/20,new k):k.addSeconds(e,-1,new k)}):s.slice(1),D(r))a.push(r);else{var l=D(t)?t:K,c=s.length;c>1?(l=k.secondsDifference(s[c-1],s[0])/(c-1),a.push(k.addSeconds(s[c-1],l,new k))):a.push(void 0)}return u.map(function(e){return a[e]})}function s(e,t,n){var r=m(S(t),e);if(Array.isArray(t)&&t.length>1){var i=m(t[1],e);if(D(i)&&D(i.julianDates))return i.julianDates}var s=r.julianDates;if(!D(n.idColumnNames)||0===n.idColumnNames.length)return a(s,K,n.shaveSeconds,n.finalEndJulianDate);var u,l=v(n.idColumnNames,e);for(var c in l)if(l.hasOwnProperty(c)){var h=l[c];if(h.length>1){var d=h.map(function(e){return r.julianDates[e]}),f=o(d),p=f.length;if(p>1){u=k.secondsDifference(f[p-1],f[0])/(p-1);break}}}var g=[];for(c in l)if(l.hasOwnProperty(c)){h=l[c],d=h.map(function(e){return r.julianDates[e]});for(var _=a(d,u,n.shaveSeconds,n.finalEndJulianDate),A=0;A<_.length;A++)g[h[A]]=_[A]}return g}function u(e,t){return D(e.displayDuration)?k.addMinutes(e.julianDates[t],e.displayDuration,Z):e.finishJulianDates[t]}function l(e,t,n){var r=e.julianDates[t];if(D(r)){var i=u(e,t);return new U({start:e.julianDates[t],stop:i,isStopIncluded:k.equals(i,n),data:e.julianDates[t]})}}function c(e){var t=e.values.reduce(function(t,n,r){var i=u(e,r);return!D(t)||D(i)&&k.greaterThan(i,t)?i:t},u(e,0));return e.values.map(function(n,r){return l(e,r,t)})}function h(e,t){var n=new z;if(e._timeIntervals.filter(function(e){return D(e&&e.start)}).forEach(function(e){n.addInterval(e)}),!D(e._clock)&&n.length>0&&!n.start.equals(R.MINIMUM_VALUE)){var r=n.start,i=n.stop,o=k.secondsDifference(i,r),a=Math.round(o/120);D(t.idColumnNames)&&t.idColumnNames.length>0&&(i=e.julianDates.reduce(function(e,t){return k.greaterThan(e,t)?e:t}));var s=new O;return s.startTime=k.clone(r),s.stopTime=k.clone(i),s.clockRange=I.LOOP_STOP,s.multiplier=a,s.currentTime=k.clone(r),s.clockStep=M.SYSTEM_CLOCK_MULTIPLIER,s}return e._clock}function d(e,t,n,r){var i='<table class="cesium-infoBox-defaultTable">';for(var o in r)if(r.hasOwnProperty(o)){var a=t[o];if(D(a)){if("__"===o.substring(0,2))continue;i+="<tr><td>"+r[o]+"</td><td>"+a+"</td></tr>"}}return i+="</table>"}function f(e,t){for(var n=0;n<e.columns.length;n++)if(e.columns[n]===t)return n}function p(e,t){for(var n=0;n<t.length;n++)if(t[n].name===e||t[n].id===e)return t[n]}function m(e,t){if(null!==e)return E(e)?t[e]:p(e,t)}function g(e,t){return D(e)?e.map(function(e){return m(e,t)}):[]}function _(e,t){return e.map(function(e){return e.values[t]}).join("^^")}function v(e,t){var n=g(e,t);return 0===n.length?{}:n[0].values.reduce(function(e,t,r){var i=_(n,r);return D(e[i])||(e[i]=[]),e[i].push(r),e},{})}function A(e,t){if(D(e)){var n=t.filter(function(t){return t.id===e.id});if(1!==n.length)throw new N("Ambiguous column: "+e.name);return n[0]}}function y(e,t,n){var r=t.julianDatesOrValues.map(function(e,t){return{index:t,value:e}});return D(n)||(n=t.type===W.TIME?function(e,t){return D(e)&&D(t)?k.compare(e,t):D(e)?-1:D(t)?1:0}:function(e,t){return+(e>t)||+(e===t)-1}),r.sort(function(e,t){return n(e.value,t.value)}),e.columns.map(function(e){var t=r.map(function(t){return e.values[t.index]});return new G(e.name,t,e.getFullOptions())})}function b(e,t,n){var i=P.EMPTY_OBJECT;D(t.columnOptions)&&(i=P(t.columnOptions[e],P(t.columnOptions[n],P.EMPTY_OBJECT)));var o=P(i.name,e),a=r(i.type),s=P(i.format,s),u=P(i.displayDuration,t.displayDuration),l=P(i.replaceWithNullValues,t.replaceWithNullValues),c=P(i.replaceWithZeroValues,t.replaceWithZeroValues);return[o,{tableStructure:t,displayVariableTypes:t.displayVariableTypes,unallowedTypes:t.unallowedTypes,displayDuration:u,replaceWithNullValues:l,replaceWithZeroValues:c,id:e,type:a,units:i.units,format:i.format,active:i.active,chartLineColor:i.chartLineColor,yAxisMin:i.yAxisMin,yAxisMax:i.yAxisMax}]}function w(e){if(e.length<=1)return!0;var t=e[0].values.length;return e.slice(1).filter(function(e){return e.values.length===t}).length===e.length-1}function x(e){var t={};for(var n in W)if(W.hasOwnProperty(n)){var r=W[n];t[r]=[]}for(var i=0;i<e.length;i++){var o=e[i];t[o.type].push(o)}return t}function E(e){return!isNaN(e)&&parseInt(Number(e),10)===+e&&!isNaN(parseInt(e,10))}function C(e){return"string"==typeof e||e instanceof String}function S(e){return Array.isArray(e)?e[0]:e}var T=n(257),I=n(160),M=n(434),O=n(433),P=n(1),D=n(0),B=n(2),L=n(21),N=n(3),R=n(215),k=n(36),F=n(13),U=n(78),z=n(131),j=n(1231),H=n(258),V=n(259),Q=n(14),G=n(261),W=n(85),q=n(503),Y=[W.ENUM,W.SCALAR,W.ALT],K=86399,X=function(e,t){t=P(t,P.EMPTY_OBJECT),V.call(this,e,{getColorCallback:t.getColorCallback,requireSomeActive:P(t.requireSomeActive,!1)}),this.displayVariableTypes=P(t.displayVariableTypes,Y),this.shaveSeconds=P(t.shaveSeconds,0),this.finalEndJulianDate=t.finalEndJulianDate,this.unallowedTypes=t.unallowedTypes,this.initialTimeSource=t.initialTimeSource,this.displayDuration=t.displayDuration,this.replaceWithNullValues=t.replaceWithNullValues,this.replaceWithZeroValues=t.replaceWithZeroValues,this.columnOptions=t.columnOptions,this.sourceFeature=t.sourceFeature,this.idColumnNames=t.idColumnNames,this.isSampled=t.isSampled,this._activeTimeColumnNameIdOrIndex=void 0,F.track(this,["sourceFeature","_activeTimeColumnNameIdOrIndex"]),F.defineProperty(this,"columnsByType",{get:function(){return x(this.items)}})};Q(V,X),B(X.prototype,{columns:{get:function(){return this.items},set:function(e){if(!w(e)){throw new N("Badly formed data table - columns have different lengths.")}this.items=e}},hasLatitudeAndLongitude:{get:function(){var e=this.columnsByType[W.LON][0],t=this.columnsByType[W.LAT][0];return D(e)&&D(t)}},hasAddress:{get:function(){var e=this.columnsByType[W.ADDR][0];return D(e)}},activeTimeColumnNameIdOrIndex:{get:function(){return this._activeTimeColumnNameIdOrIndex},set:function(e){if(this._activeTimeColumnNameIdOrIndex=e,D(e)){var t=y(this,this.getColumnWithNameIdOrIndex(S(e))),n=m(S(e),t);if(D(n)&&!D(n.finishJulianDates)){n.finishJulianDates=s(t,e,this),n._timeIntervals=c(n),n._clock=h(n,this);var r,i=n._timeIntervals;if(i.length>0){for(var o,a=i.length-1;!D(o)&&a>=0;--a)o=i[a];D(o)&&(r=o.start)}q(n._clock,this.initialTimeSource,r),this.columns=t}else this._activeTimeColumnNameIdOrIndex=void 0}}},activeTimeColumn:{get:function(){var e=this._activeTimeColumnNameIdOrIndex;if(D(e))return this.getColumnWithNameIdOrIndex(S(e))}},timeIntervals:{get:function(){var e=this.activeTimeColumn;if(D(this.activeTimeColumn))return e._timeIntervals}},finishJulianDates:{get:function(){var e=this.activeTimeColumn;if(D(this.activeTimeColumn))return e.finishJulianDates}},clock:{get:function(){var e=this.activeTimeColumn;if(D(this.activeTimeColumn))return e._clock}}}),X.defaultDisplayVariableTypes=Y,X.fromJson=function(e,t){if(D(e)&&0!==e.length&&0!==e[0].length){D(t)||(t=new X);for(var n,r,i,o=[],a=e[0],s=0;s<a.length;s++){for(r=C(a[s])?a[s].trim():"_Column"+String(s),i=[],n=1;n<e.length;n++)i.push(e[n][s]);var u=b(r,t,s);o.push(new G(u[0],i,u[1]))}return t.items=o,t}},X.fromCsv=function(e,t){function n(e,t){if(1===t.rowNum)return e;var n=/\./,r=/^0[0-9]/;if(/^[1-9]\d?\d?(,\d\d\d)+(\.\d+)?$/.test(e)&&(e=e.replace(/,/g,"")),isNaN(e))return e;if(r.test(e))return e;if(n.test(e))return parseFloat(e);var i=parseInt(e,10);return isNaN(i)?null:i}e=e.replace(/\r\n|\r|\n/g,"\r\n"),"\n"!==e[e.length-1]&&(e+="\r\n");var r=j.toArrays(e,{onParseValue:n});return r=r.filter(function(e){return!e.every(function(e){return null===e})}),X.fromJson(r,t)},X.prototype.loadFromJson=function(e){return X.fromJson(e,this)},X.prototype.loadFromCsv=function(e){return X.fromCsv(e,this)},X.prototype.getActiveColumns=function(){return this.columns.filter(function(e){return e.isActive})};var Z=new k;X.prototype.toArrayOfColumns=function(){for(var e,t=[],n=0;n<this.columns.length;n++)e=this.columns[n],t.push(e.toArrayWithName());return t},X.prototype.toArrayOfRows=function(e,t,n,r){function i(e){var t=e.indexOf('"')>=0;return t&&(e=e.replace(/"/g,'""')),(t||e.indexOf(",")>=0)&&(e='"'+e+'"'),e}function o(t){return s.columns.map(function(o){if(e&&o.type===W.TIME)return"source"===e?o.values[t]:T(o.dates[t],e);if(!n&&o.type===W.SCALAR)return o.values[t];var a=o._formattedValues[t];return r?a&&i(a.toString()):a})}if(this.columns.length<1)return[];D(n)||(n=!0);var a,s=this;a=D(t)?t.map(o):s.columns[0].values.map(function(e,t){return o(t)});var u=s.getColumnNames();return r&&(u=u.map(function(e){return i(e)})),a.unshift(u),a},X.prototype.toCsvString=function(e,t,n){return this.toArrayOfRows(e,t,n,!0).map(function(e){return e.join(",")}).join("\n")},X.prototype.toRowObjects=function(e,t,n,r){var i=this.toArrayOfRows(e,t,n,r);if(!D(i)||i.length<1)return[];for(var o=i[0],a=[],s=1;s<i.length;s++){for(var u={},l=0;l<o.length;l++)u[o[l]]=i[s][l];a.push(u)}return a},X.prototype.toStringAndNumberRowObjects=function(e){var t=this.toArrayOfRows(e,void 0,!0);if(!D(t)||t.length<1)return[];for(var n=this.toArrayOfRows(e,void 0,!1),r=t[0],i=[],o=1;o<t.length;o++){for(var a={string:{},number:{}},s=0;s<r.length;s++)a.string[r[s]]=t[o][s],a.number[r[s]]=n[o][s];i.push(a)}return i},X.prototype.toDataUri=function(){return H.make("csv",this.toCsvString("source"))},X.prototype.getColumnAliases=function(){return this.columns.filter(function(e){return e.id!==e.name}).map(function(e){return{id:e.id,name:e.name}})},X.prototype.toRowDescriptions=function(e){var t=D(e)?e:this.getColumnNames();if(t instanceof Array){var n={};t.forEach(function(e){n[e]=e}),t=n}var r=this;return this.toRowObjects().map(function(e,n){return d(r,e,n,t)})},X.prototype.toPointArrays=function(e,t){var n=[];D(e)||(e=this.columns[0]);var r=e.type===W.TIME?e.dates:e.values;D(t)||(t=this.columns.filter(function(t){return t!==e}));for(var i=0;i<t.length;i++)n.push(r.map(function(e){return function(n,r){return{x:n,y:t[e].values[r]}}}(i)));return n},X.prototype.getColumnNames=function(){for(var e=[],t=0;t<this.columns.length;t++)e.push(this.columns[t].name);return e},X.prototype.getColumnWithName=function(e,t){D(t)||(t=this.columns);for(var n=0;n<t.length;n++)if(t[n].name===e)return t[n]},X.prototype.getColumnWithNameOrId=function(e){return p(e,this.columns)},X.prototype.getColumnWithNameIdOrIndex=function(e){return m(e,this.columns)},X.prototype.addColumn=function(e,t){var n=b(e,this,0),r=[new G(e,t,n[1])],i=r.concat(this.columns);this.columns=i},X.prototype.getIdStringForRowNumber=function(e,t){return D(t)||(t=this.idColumnNames),_(g(t,this.columns),e)},X.prototype.getIdMapping=function(e){return D(e)||(e=this.idColumnNames),v(e,this.columns)},X.prototype.getUpdatedColumns=function(e){return this.columns.reduce(function(t,n,r){return t.push(new G(n.name,e[r],n.getFullOptions())),t},[])},X.prototype.append=function(e,t){if(this.columns.length!==e.columns.length)throw new N("Cannot add tables with different numbers of columns.");for(var n=[],r=0;r<e.columns.length;r++){var i;i=D(t)?t.map(function(e){return function(t){return e[t]}}(e.columns[r].values)):e.columns[r].values,n.push(this.columns[r].values.concat(i))}this.columns=this.getUpdatedColumns(n)},X.prototype.replaceRows=function(e,t){for(var n=[],r=0;r<e.columns.length;r++){n.push(this.columns[r].values);for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];n[r][i]=e.columns[r].values[o]}}var a=this.columns.map(function(e,t){return new G(e.name,n[t],e.getFullOptions())});this.columns=a},X.prototype.merge=function(e){var t=this;if(!D(this.idColumnNames)||0===this.idColumnNames.length)throw new N("Cannot merge tables without id columns.");if(this.columns.length!==e.columns.length)throw new N("Cannot merge tables with different numbers of columns.");var n=this.getIdMapping(),r=e.getIdMapping(this.idColumnNames),i=[],o={},a=A(this.activeTimeColumn,e.columns);for(var s in r)if(r.hasOwnProperty(s)){var u=r[s],l=n[s];if(D(l))if(this.activeTimeColumn)for(var c=0;c<u.length;c++){var h=u[c],d=l.map(function(e){return t.activeTimeColumn.dates[e].toString()}),f=d.indexOf(a.dates[h].toString());f>=0?o[l[f]]=h:i.push(h)}else o[l[0]]=u[0];else i=i.concat(u)}this.replaceRows(e,o),this.append(e,i)},X.prototype.setActiveTimeColumn=function(e){function t(e){for(var t,n,r=e.length-1;r>=0;r--)e[r].type===W.TIME&&(e[r]._isEndDate?n=r:t=r);return D(n)?[t,n]:t}if(void 0!==e){if(this.activeTimeColumnNameIdOrIndex=e,D(this.activeTimeColumn)&&this.activeTimeColumn.type!==W.TIME)throw this.activeTimeColumnNameIdOrIndex=t(this.columns),new N('"'+e+'" is not a valid time column.')}else this.activeTimeColumnNameIdOrIndex=t(this.columns)},X.prototype.sortBy=function(e,t){this.columns=y(this,e,t)},X.prototype.getColumnIndex=function(e){for(var t,n=0;n<this.columns.length;n++)e===this.columns[n].id&&(t=n);return t},X.prototype.getChartDetailsForRowNumbers=function(e){var t=this.toCsvString("source",e,!1),n=this.getActiveColumns()[0];if(D(n)&&n.type===W.SCALAR)return{xName:this.activeTimeColumn.name,yName:n.name,csvData:t,units:this.columns.map(function(e){return e.units||""})}},X.prototype.getColumnsWithFeatureRowsAtStartAndEndDates=function(e,t){function n(e,t){for(var n=p[0].length,o=0;o<p.length;o++)p[o].push(r.columns[o].values[t]);p[a][n]=e,p[i][n]=null}var r=this,i=f(r,r.getColumnWithNameIdOrIndex(t));D(e)||(e=r.activeTimeColumnNameIdOrIndex);var o=r.getColumnWithNameIdOrIndex(e),a=f(r,o),s=o.dates,u=Math.min.apply(null,s),l=Math.max.apply(null,s),c=o.values[s.map(function(e){return Number(e)}).indexOf(u)],h=o.values[s.map(function(e){return Number(e)}).indexOf(l)],d=r.getIdMapping(),p=r.columns.map(function(e){return e.values.slice()});return Object.keys(d).forEach(function(e){var t=d[e];if(t.length>0){Number(o.dates[t[0]])>u&&n(c,t[0]);var r=t[t.length-1];Number(o.dates[r])<l&&n(h,r)}}),this.getUpdatedColumns(p)},X.prototype.destroy=function(){return L(this)},e.exports=X},function(e,t,n){"use strict";function r(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function i(e){return Object(a.selection)().transition(e)}function o(){return++S}t.a=r,t.b=i,t.c=o;var a=n(87),s=n(1419),u=n(1435),l=n(1436),c=n(1437),h=n(1438),d=n(1439),f=n(1440),p=n(1441),m=n(1442),g=n(1443),_=n(1444),v=n(1445),A=n(1446),y=n(1447),b=n(1448),w=n(1449),x=n(1450),E=n(279),C=n(1451),S=0,T=a.selection.prototype;r.prototype=i.prototype={constructor:r,select:g.a,selectAll:_.a,filter:d.a,merge:f.a,selection:v.a,transition:x.a,call:T.call,nodes:T.nodes,node:T.node,size:T.size,empty:T.empty,each:T.each,on:p.a,attr:s.a,attrTween:u.a,style:A.a,styleTween:y.a,text:b.a,textTween:w.a,remove:m.a,tween:E.a,delay:l.a,duration:c.a,ease:h.a,end:C.a}},function(e,t,n){"use strict";var r=n(384);n.d(t,"a",function(){return r.a});var i=(n(668),n(387),n(666),n(669),n(1422),n(1423),n(278));n.d(t,"c",function(){return i.a});var o=(n(388),n(670),n(1424));n.d(t,"e",function(){return o.a});var a=n(671);n.d(t,"f",function(){return a.a});var s=n(1425);n.d(t,"g",function(){return s.a}),n.d(t,"h",function(){return s.b});var u=(n(1428),n(665));n.d(t,"d",function(){return u.a});var l=(n(1429),n(1430),n(1431),n(1432));n.d(t,"b",function(){return l.a});n(1433),n(1434)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=(0,u.default)(e,!1,{ADD_TAGS:a.default.names(),ADD_ATTR:a.default.attributes()});return(0,c.default)("<div>"+n+"</div>",t)}var o=n(283),a=r(o),s=n(1697),u=r(s),l=n(401),c=r(l);e.exports=i},function(e,t,n){var r,i;r=[n(1),n(0),n(3),n(20)],void 0!==(i=function(e,t,n,r){"use strict";function i(t){t=e(t,e.EMPTY_OBJECT),this.geometry=t.geometry,this.modelMatrix=r.clone(e(t.modelMatrix,r.IDENTITY)),this.id=t.id,this.pickPrimitive=t.pickPrimitive,this.attributes=e(t.attributes,{}),this.westHemisphereGeometry=void 0,this.eastHemisphereGeometry=void 0}return i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0!==(i=function(e){"use strict";function t(t){t=e(t,e.EMPTY_OBJECT),this.position=t.position,this.normal=t.normal,this.st=t.st,this.bitangent=t.bitangent,this.tangent=t.tangent,this.color=t.color}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0)],void 0!==(i=function(e,t,n){"use strict";function r(e,n,r,i){if("function"==typeof e.fill)return e.fill(n,r,i);for(var o=e.length>>>0,a=t(r,0),s=a<0?Math.max(o+a,0):Math.min(a,o),u=t(i,o),l=u<0?Math.max(o+u,0):Math.min(u,o);s<l;)e[s]=n,s++;return e}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(197),n(1),n(0),n(2),n(3),n(15),n(477),n(478),n(215),n(36),n(78)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c){"use strict";function h(e,t){return l.compare(e.start,t.start)}function d(e){if(this._intervals=[],this._changedEvent=new o,n(e))for(var t=e.length,r=0;r<t;r++)this.addInterval(e[r])}function f(e,t,r){n(r)||(r=new l),l.toGregorianDate(e,g);var i=g.millisecond+t.millisecond,o=g.second+t.second,a=g.minute+t.minute,u=g.hour+t.hour,c=g.day+t.day,h=g.month+t.month,d=g.year+t.year;for(i>=1e3&&(o+=Math.floor(i/1e3),i%=1e3),o>=60&&(a+=Math.floor(o/60),o%=60),a>=60&&(u+=Math.floor(a/60),a%=60),u>=24&&(c+=Math.floor(u/24),u%=24),_[2]=s(d)?29:28;c>_[h]||h>=13;)c>_[h]&&(c-=_[h],++h),h>=13&&(--h,d+=Math.floor(h/12),h%=12,++h),_[2]=s(d)?29:28;return g.millisecond=i,g.second=o,g.minute=a,g.hour=u,g.day=c,g.month=h,g.year=d,l.fromGregorianDate(g,r)}function p(e,t){if(!n(e)||0===e.length)return!1;if(t.year=0,t.month=0,t.day=0,t.hour=0,t.minute=0,t.second=0,t.millisecond=0,"P"===e[0]){var r=e.match(A);if(!n(r))return!1;if(n(r[1])&&(t.year=Number(r[1].replace(",","."))),n(r[2])&&(t.month=Number(r[2].replace(",","."))),n(r[3])&&(t.day=7*Number(r[3].replace(",","."))),n(r[4])&&(t.day+=Number(r[4].replace(",","."))),n(r[5])&&(t.hour=Number(r[5].replace(",","."))),n(r[6])&&(t.minute=Number(r[6].replace(",","."))),n(r[7])){var i=Number(r[7].replace(",","."));t.second=Math.floor(i),t.millisecond=i%1*1e3}}else"Z"!==e[e.length-1]&&(e+="Z"),l.toGregorianDate(l.fromIso8601(e,v),t);return t.year||t.month||t.day||t.hour||t.minute||t.second||t.millisecond}r(d.prototype,{changedEvent:{get:function(){return this._changedEvent}},start:{get:function(){var e=this._intervals;return 0===e.length?void 0:e[0].start}},isStartIncluded:{get:function(){var e=this._intervals;return 0!==e.length&&e[0].isStartIncluded}},stop:{get:function(){var e=this._intervals,t=e.length;return 0===t?void 0:e[t-1].stop}},isStopIncluded:{get:function(){var e=this._intervals,t=e.length;return 0!==t&&e[t-1].isStopIncluded}},length:{get:function(){return this._intervals.length}},isEmpty:{get:function(){return 0===this._intervals.length}}}),d.prototype.equals=function(e,t){if(this===e)return!0;if(!(e instanceof d))return!1;var n=this._intervals,r=e._intervals,i=n.length;if(i!==r.length)return!1;for(var o=0;o<i;o++)if(!c.equals(n[o],r[o],t))return!1;return!0},d.prototype.get=function(e){return this._intervals[e]},d.prototype.removeAll=function(){this._intervals.length>0&&(this._intervals.length=0,this._changedEvent.raiseEvent(this))},d.prototype.findIntervalContainingDate=function(e){var t=this.indexOf(e);return t>=0?this._intervals[t]:void 0},d.prototype.findDataForIntervalContainingDate=function(e){var t=this.indexOf(e);return t>=0?this._intervals[t].data:void 0},d.prototype.contains=function(e){return this.indexOf(e)>=0};var m=new c;d.prototype.indexOf=function(t){var n=this._intervals;m.start=t,m.stop=t;var r=e(n,m,h);return r>=0?n[r].isStartIncluded?r:r>0&&n[r-1].stop.equals(t)&&n[r-1].isStopIncluded?r-1:~r:(r=~r,r>0&&r-1<n.length&&c.contains(n[r-1],t)?r-1:~r)},d.prototype.findInterval=function(e){e=t(e,t.EMPTY_OBJECT);for(var r=e.start,i=e.stop,o=e.isStartIncluded,a=e.isStopIncluded,s=this._intervals,u=0,l=s.length;u<l;u++){var c=s[u];if((!n(r)||c.start.equals(r))&&(!n(i)||c.stop.equals(i))&&(!n(o)||c.isStartIncluded===o)&&(!n(a)||c.isStopIncluded===a))return s[u]}},d.prototype.addInterval=function(t,r){if(!t.isEmpty){var i=this._intervals;if(0===i.length||l.greaterThan(t.start,i[i.length-1].stop))return i.push(t),void this._changedEvent.raiseEvent(this);var o=e(i,t,h);o<0?o=~o:o>0&&t.isStartIncluded&&i[o-1].isStartIncluded&&i[o-1].start.equals(t.start)?--o:o<i.length&&!t.isStartIncluded&&i[o].isStartIncluded&&i[o].start.equals(t.start)&&++o;var a;for(o>0&&((a=l.compare(i[o-1].stop,t.start))>0||0===a&&(i[o-1].isStopIncluded||t.isStartIncluded))&&((n(r)?r(i[o-1].data,t.data):i[o-1].data===t.data)?(t=new c(l.greaterThan(t.stop,i[o-1].stop)?{start:i[o-1].start,stop:t.stop,isStartIncluded:i[o-1].isStartIncluded,isStopIncluded:t.isStopIncluded,data:t.data}:{start:i[o-1].start,stop:i[o-1].stop,isStartIncluded:i[o-1].isStartIncluded,isStopIncluded:i[o-1].isStopIncluded||t.stop.equals(i[o-1].stop)&&t.isStopIncluded,data:t.data}),i.splice(o-1,1),--o):(a=l.compare(i[o-1].stop,t.stop),(a>0||0===a&&i[o-1].isStopIncluded&&!t.isStopIncluded)&&i.splice(o,0,new c({start:t.stop,stop:i[o-1].stop,isStartIncluded:!t.isStopIncluded,isStopIncluded:i[o-1].isStopIncluded,data:i[o-1].data})),i[o-1]=new c({start:i[o-1].start,stop:t.start,isStartIncluded:i[o-1].isStartIncluded,isStopIncluded:!t.isStartIncluded,data:i[o-1].data})));o<i.length&&((a=l.compare(t.stop,i[o].start))>0||0===a&&(t.isStopIncluded||i[o].isStartIncluded));)if(n(r)?r(i[o].data,t.data):i[o].data===t.data)t=new c({start:t.start,stop:l.greaterThan(i[o].stop,t.stop)?i[o].stop:t.stop,isStartIncluded:t.isStartIncluded,isStopIncluded:l.greaterThan(i[o].stop,t.stop)?i[o].isStopIncluded:t.isStopIncluded,data:t.data}),i.splice(o,1);else{if(i[o]=new c({start:t.stop,stop:i[o].stop,isStartIncluded:!t.isStopIncluded,isStopIncluded:i[o].isStopIncluded,data:i[o].data}),!i[o].isEmpty)break;i.splice(o,1)}i.splice(o,0,t),this._changedEvent.raiseEvent(this)}},d.prototype.removeInterval=function(t){if(t.isEmpty)return!1;var n=this._intervals,r=e(n,t,h);r<0&&(r=~r);var i=!1;for(r>0&&(l.greaterThan(n[r-1].stop,t.start)||n[r-1].stop.equals(t.start)&&n[r-1].isStopIncluded&&t.isStartIncluded)&&(i=!0,(l.greaterThan(n[r-1].stop,t.stop)||n[r-1].isStopIncluded&&!t.isStopIncluded&&n[r-1].stop.equals(t.stop))&&n.splice(r,0,new c({start:t.stop,stop:n[r-1].stop,isStartIncluded:!t.isStopIncluded,isStopIncluded:n[r-1].isStopIncluded,data:n[r-1].data})),n[r-1]=new c({start:n[r-1].start,stop:t.start,isStartIncluded:n[r-1].isStartIncluded,isStopIncluded:!t.isStartIncluded,data:n[r-1].data})),r<n.length&&!t.isStartIncluded&&n[r].isStartIncluded&&t.start.equals(n[r].start)&&(i=!0,n.splice(r,0,new c({start:n[r].start,stop:n[r].start,isStartIncluded:!0,isStopIncluded:!0,data:n[r].data})),++r);r<n.length&&l.greaterThan(t.stop,n[r].stop);)i=!0,n.splice(r,1);return r<n.length&&t.stop.equals(n[r].stop)&&(i=!0,!t.isStopIncluded&&n[r].isStopIncluded?r+1<n.length&&n[r+1].start.equals(t.stop)&&n[r].data===n[r+1].data?(n.splice(r,1),n[r]=new c({start:n[r].start,stop:n[r].stop,isStartIncluded:!0,isStopIncluded:n[r].isStopIncluded,data:n[r].data})):n[r]=new c({start:t.stop,stop:t.stop,isStartIncluded:!0,isStopIncluded:!0,data:n[r].data}):n.splice(r,1)),r<n.length&&(l.greaterThan(t.stop,n[r].start)||t.stop.equals(n[r].start)&&t.isStopIncluded&&n[r].isStartIncluded)&&(i=!0,n[r]=new c({start:t.stop,stop:n[r].stop,isStartIncluded:!t.isStopIncluded,isStopIncluded:n[r].isStopIncluded,data:n[r].data})),i&&this._changedEvent.raiseEvent(this),i},d.prototype.intersect=function(e,t,r){for(var i=new d,o=0,a=0,s=this._intervals,u=e._intervals;o<s.length&&a<u.length;){var h=s[o],f=u[a];if(l.lessThan(h.stop,f.start))++o;else if(l.lessThan(f.stop,h.start))++a;else{if(n(r)||n(t)&&t(h.data,f.data)||!n(t)&&f.data===h.data){var p=c.intersect(h,f,new c,r);p.isEmpty||i.addInterval(p,t)}l.lessThan(h.stop,f.stop)||h.stop.equals(f.stop)&&!h.isStopIncluded&&f.isStopIncluded?++o:++a}}return i},d.fromJulianDateArray=function(e,r){n(r)||(r=new d);var i,o=e.julianDates,a=o.length,s=e.dataCallback,l=t(e.isStartIncluded,!0),h=t(e.isStopIncluded,!0),f=t(e.leadingInterval,!1),p=t(e.trailingInterval,!1),m=0;f&&(++m,i=new c({start:u.MINIMUM_VALUE,stop:o[0],isStartIncluded:!0,isStopIncluded:!l}),i.data=n(s)?s(i,r.length):r.length,r.addInterval(i));for(var g=0;g<a-1;++g){var _=o[g],v=o[g+1];i=new c({start:_,stop:v,isStartIncluded:r.length!==m||l,isStopIncluded:g===a-2&&h}),i.data=n(s)?s(i,r.length):r.length,r.addInterval(i),_=v}return p&&(i=new c({start:o[a-1],stop:u.MAXIMUM_VALUE,isStartIncluded:!h,isStopIncluded:!0}),i.data=n(s)?s(i,r.length):r.length,r.addInterval(i)),r};var g=new a,_=[0,31,28,31,30,31,30,31,31,30,31,30,31],v=new l,A=/P(?:([\d.,]+)Y)?(?:([\d.,]+)M)?(?:([\d.,]+)W)?(?:([\d.,]+)D)?(?:T(?:([\d.,]+)H)?(?:([\d.,]+)M)?(?:([\d.,]+)S)?)?/,y=new a;return d.fromIso8601=function(e,t){var n=e.iso8601.split("/"),r=l.fromIso8601(n[0]),i=l.fromIso8601(n[1]),o=[];if(p(n[2],y)){var a=l.clone(r);for(o.push(a);l.compare(a,i)<0;){a=f(a,y);l.compare(i,a)<=0&&l.clone(i,a),o.push(a)}}else o.push(r,i);return d.fromJulianDateArray({julianDates:o,isStartIncluded:e.isStartIncluded,isStopIncluded:e.isStopIncluded,leadingInterval:e.leadingInterval,trailingInterval:e.trailingInterval,dataCallback:e.dataCallback},t)},d.fromIso8601DateArray=function(e,t){return d.fromJulianDateArray({julianDates:e.iso8601Dates.map(function(e){return l.fromIso8601(e)}),isStartIncluded:e.isStartIncluded,isStopIncluded:e.isStopIncluded,leadingInterval:e.leadingInterval,trailingInterval:e.trailingInterval,dataCallback:e.dataCallback},t)},d.fromIso8601DurationArray=function(e,r){for(var i,o,a=e.epoch,s=e.iso8601Durations,u=t(e.relativeToPrevious,!1),l=[],c=s.length,h=0;h<c;++h)(p(s[h],y)||0===h)&&(i=u&&n(o)?f(o,y):f(a,y),l.push(i),o=i);return d.fromJulianDateArray({julianDates:l,isStartIncluded:e.isStartIncluded,isStopIncluded:e.isStopIncluded,leadingInterval:e.leadingInterval,trailingInterval:e.trailingInterval,dataCallback:e.dataCallback},r)},d}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({CENTER:0,BOTTOM:1,BASELINE:2,TOP:-1})}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r={CesiumTerrain:0,CesiumEllipsoid:1,Leaflet:2};e.exports=r},function(e,t,n){var r,i;r=[n(10),n(24),n(1),n(0),n(2),n(3),n(23),n(9)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e){this._ellipsoid=n(e,a.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}return i(u.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),u.mercatorAngleToGeodeticLatitude=function(e){return s.PI_OVER_TWO-2*Math.atan(Math.exp(-e))},u.geodeticLatitudeToMercatorAngle=function(e){e>u.MaximumLatitude?e=u.MaximumLatitude:e<-u.MaximumLatitude&&(e=-u.MaximumLatitude);var t=Math.sin(e);return.5*Math.log((1+t)/(1-t))},u.MaximumLatitude=u.mercatorAngleToGeodeticLatitude(Math.PI),u.prototype.project=function(t,n){var i=this._semimajorAxis,o=t.longitude*i,a=u.geodeticLatitudeToMercatorAngle(t.latitude)*i,s=t.height;return r(n)?(n.x=o,n.y=a,n.z=s,n):new e(o,a,s)},u.prototype.unproject=function(e,n){var i=this._oneOverSemimajorAxis,o=e.x*i,a=u.mercatorAngleToGeodeticLatitude(e.y*i),s=e.z;return r(n)?(n.longitude=o,n.latitude=a,n.height=s,n):new t(o,a,s)},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(12),n(0)],void 0!==(i=function(e,t,n){"use strict";function r(){this.high=e.clone(e.ZERO),this.low=e.clone(e.ZERO)}r.encode=function(e,t){n(t)||(t={high:0,low:0});var r;return e>=0?(r=65536*Math.floor(e/65536),t.high=r,t.low=e-r):(r=65536*Math.floor(-e/65536),t.high=-r,t.low=e+r),t};var i={high:0,low:0};r.fromCartesian=function(e,t){n(t)||(t=new r);var o=t.high,a=t.low;return r.encode(e.x,i),o.x=i.high,a.x=i.low,r.encode(e.y,i),o.y=i.high,a.y=i.low,r.encode(e.z,i),o.z=i.high,a.z=i.low,t};var o=new r;return r.writeElements=function(e,t,n){r.fromCartesian(e,o);var i=o.high,a=o.low;t[n]=i.x,t[n+1]=i.y,t[n+2]=i.z,t[n+3]=a.x,t[n+4]=a.y,t[n+5]=a.z},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(0),n(39)],void 0!==(i=function(e,t,n){"use strict";function r(e,t,r){if("function"==typeof e.slice)return e.slice(t,r);for(var i=Array.prototype.slice.call(e,t,r),o=n.typedArrayTypes,a=o.length,s=0;s<a;++s)if(e instanceof o[s]){i=new o[s](i);break}return i}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);l.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a.nextTick(o,this)}function o(e){e.end()}var a=n(227),s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var u=Object.create(n(192));u.inherits=n(95);var l=n(468),c=n(313);u.inherits(r,l);for(var h=s(c.prototype),d=0;d<h.length;d++){var f=h[d];r.prototype[f]||(r.prototype[f]=c.prototype[f])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),a.nextTick(t,e)}},function(e,t,n){"use strict";function r(e,t){var n=e._tableStyle,r={idColumnNames:e.idColumns,isSampled:e.isSampled,initialTimeSource:e.initialTimeSource,displayDuration:n.displayDuration,replaceWithNullValues:n.replaceWithNullValues,replaceWithZeroValues:n.replaceWithZeroValues,columnOptions:n.columns},i=new v(void 0,r);return i.loadFromCsv(t),e.initializeFromTableStructure(i)}function i(e,t,n){return c.fetch({url:e,headers:t,overrideMimeType:n})}var o=n(27),a=n(0),s=n(2),u=n(3),l=n(6),c=n(29),h=n(7),d=n(14),f=n(74),p=n(234),m=n(22),g=n(32),_=n(246),v=n(124),A=function(e,t,n){p.call(this,e,t,n),this.charSet=void 0,this.sourceCatalogItem=void 0,this.initialTimeSource=void 0};d(p,A),s(A.prototype,{type:{get:function(){return"csv"}},typeName:{get:function(){return"Comma-Separated Values (CSV)"}},metadata:{get:function(){var e=new f;return e.isLoading=!1,e.dataSourceErrorMessage="This data source does not have any details available.",e.serviceErrorMessage="This service does not have any details available.",e}},dataSource:{get:function(){return this._dataSource}}}),A.defaultUpdaters=o(p.defaultUpdaters),A.defaultUpdaters.sourceCatalogItem=function(){},l(A.defaultUpdaters),A.defaultSerializers=o(p.defaultSerializers),A.defaultSerializers.sourceCatalogItem=function(){},l(A.defaultSerializers),A.prototype.loadIntoTableStructure=function(e){var t=this,n=new v;return i(g(t,e,"0d")).then(n.loadFromCsv.bind(n))},A.prototype.startPolling=function(){var e=this.polling;if(a(e.seconds)&&e.seconds>0){var t=this;this._pollTimeout=setTimeout(function(){t.isEnabled&&t.loadIntoTableStructure(e.url||t.url).then(function(n){if(t._tableStructure.hasLatitudeAndLongitude!==n.hasLatitudeAndLongitude||t._tableStructure.columns.length!==n.columns.length)throw console.log("The newly polled data is incompatible with the old data."),new u("The newly polled data is incompatible with the old data.");t._tableStructure.columns.forEach(function(e,t){n.columns[t].isActive=e.isActive,n.columns[t].color=e.color}),e.replace?t._tableStructure.columns=n.columns:a(t.idColumns)&&t.idColumns.length>0?t._tableStructure.merge(n):t._tableStructure.append(n)}),t.startPolling()},1e3*e.seconds)}},A.prototype._load=function(){var e=this;if(a(this.data))return h(e.data,function(t){if("undefined"!=typeof Blob&&t instanceof Blob)return _(t).then(function(t){return r(e,t)});if("string"==typeof t)return r(e,t);if(t instanceof v)return p.applyTableStyleColumnsToStructure(e._tableStyle,t),e.initializeFromTableStructure(t);throw new m({sender:e,title:"Unexpected type of CSV data",message:"CsvCatalogItem data is expected to be a Blob, File, or String, but it was not any of these. This may indicate a bug in terriajs or incorrect use of the terriajs API. If you believe it is a bug in "+e.terria.appName+', please report it by emailing <a href="mailto:'+e.terria.supportEmail+'">'+e.terria.supportEmail+"</a>."})});if(a(e.url)){var t;return a(e.charSet)&&(t="text/csv; charset="+e.charSet),i(g(e,e.url,"1d"),void 0,t).then(function(t){return r(e,t)}).otherwise(function(t){throw new m({sender:e,title:"Unable to load CSV file",message:'See the <a href="https://github.com/TerriaJS/nationalmap/wiki/csv-geo-au">csv-geo-au</a> specification for supported CSV formats.\n\n'+(t.message||t.response)})})}},e.exports=A},function(e,t,n){var r,i;r=[n(17),n(10),n(24),n(42),n(53),n(1),n(0),n(2),n(3),n(15),n(72),n(62),n(9),n(16),n(29),n(63),n(7),n(140)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_){"use strict";function v(e){this._errorEvent=new l,this._resource=void 0,this._urlSchemeZeroPadding=void 0,this._pickFeaturesResource=void 0,this._tileWidth=void 0,this._tileHeight=void 0,this._maximumLevel=void 0,this._minimumLevel=void 0,this._tilingScheme=void 0,this._rectangle=void 0,this._tileDiscardPolicy=void 0,this._credit=void 0,this._hasAlphaChannel=void 0,this._readyPromise=void 0,this._tags=void 0,this._pickFeaturesTags=void 0,this.enablePickFeatures=!0,this.reinitialize(e)}function A(e,t,n,r,i){te=!1,re=!1;var o=e._resource,s=o.getUrlComponent(!0),u=e._tags,l={},c=s.match(J);return a(c)&&c.forEach(function(i){var o=i.substring(1,i.length-1);a(u[o])&&(l[o]=u[o](e,t,n,r))}),o.getDerivedResource({request:i,templateValues:l})}function y(e,t,n,r,i,o,s){te=!1,re=!1,oe=!1,se=!1;var u=e._pickFeaturesResource,l=u.getUrlComponent(!0),c=e._pickFeaturesTags,h={},d=l.match(J);return a(d)&&d.forEach(function(u){var l=u.substring(1,u.length-1);a(c[l])&&(h[l]=c[l](e,t,n,r,i,o,s))}),u.getDerivedResource({templateValues:h})}function b(e,t,n){if(e&&e.urlSchemeZeroPadding&&e.urlSchemeZeroPadding.hasOwnProperty(t)){var r=e.urlSchemeZeroPadding[t];if("string"==typeof r){var i=r.length;i>1&&(n=n.length>=i?n:new Array(i-n.toString().length+1).join("0")+n)}}return n}function w(e,t,n,r){return b(e,"{x}",t)}function x(e,t,n,r){return b(e,"{reverseX}",e.tilingScheme.getNumberOfXTilesAtLevel(r)-t-1)}function E(e,t,n,r){return b(e,"{y}",n)}function C(e,t,n,r){return b(e,"{reverseY}",e.tilingScheme.getNumberOfYTilesAtLevel(r)-n-1)}function S(e,t,n,r){var i=e.maximumLevel;return b(e,"{reverseZ}",a(i)&&r<i?i-r-1:r)}function T(e,t,n,r){return b(e,"{z}",r)}function I(e,t,n,r){var i=(t+n+r)%e._subdomains.length;return e._subdomains[i]}function M(e,t,n,r){te||(e.tilingScheme.tileXYToRectangle(t,n,r,ne),ne.west=d.toDegrees(ne.west),ne.south=d.toDegrees(ne.south),ne.east=d.toDegrees(ne.east),ne.north=d.toDegrees(ne.north),te=!0)}function O(e,t,n,r){return M(e,t,n,r),ne.west}function P(e,t,n,r){return M(e,t,n,r),ne.south}function D(e,t,n,r){return M(e,t,n,r),ne.east}function B(e,t,n,r){return M(e,t,n,r),ne.north}function L(e,t,n,r){re||(e.tilingScheme.tileXYToNativeRectangle(t,n,r,ie),re=!0)}function N(e,t,n,r){return L(e,t,n,r),ie.west}function R(e,t,n,r){return L(e,t,n,r),ie.south}function k(e,t,n,r){return L(e,t,n,r),ie.east}function F(e,t,n,r){return L(e,t,n,r),ie.north}function U(e,t,n,r){return e.tileWidth}function z(e,t,n,r){return e.tileHeight}function j(e,t,n,r,i,o,a){return G(e,t,n,r,i,o),ae.x}function H(e,t,n,r,i,o,a){return G(e,t,n,r,i,o),ae.y}function V(e,t,n,r,i,o,a){return G(e,t,n,r,i,o),e.tileWidth-ae.x-1}function Q(e,t,n,r,i,o,a){return G(e,t,n,r,i,o),e.tileHeight-ae.y-1}function G(e,t,n,r,i,o,a){if(!oe){X(e,t,n,r,i,o);var s=le,u=e.tilingScheme.tileXYToNativeRectangle(t,n,r,ue);ae.x=e.tileWidth*(s.x-u.west)/u.width|0,ae.y=e.tileHeight*(u.north-s.y)/u.height|0,oe=!0}}function W(e,t,n,r,i,o,a){return d.toDegrees(i)}function q(e,t,n,r,i,o,a){return d.toDegrees(o)}function Y(e,t,n,r,i,o,a){return X(e,t,n,r,i,o),le.x}function K(e,t,n,r,i,o,a){return X(e,t,n,r,i,o),le.y}function X(e,t,n,r,i,o,a){if(!se){if(e.tilingScheme.projection instanceof c)le.x=d.toDegrees(i),le.y=d.toDegrees(o);else{var s=ce;s.longitude=i,s.latitude=o,e.tilingScheme.projection.project(s,le)}se=!0}}function Z(e,t,n,r,i,o,a){return a}var J=/{[^}]+}/g,$={x:w,y:E,z:T,s:I,reverseX:x,reverseY:C,reverseZ:S,westDegrees:O,southDegrees:P,eastDegrees:D,northDegrees:B,westProjected:N,southProjected:R,eastProjected:k,northProjected:F,width:U,height:z},ee=r($,{i:j,j:H,reverseI:V,reverseJ:Q,longitudeDegrees:W,latitudeDegrees:q,longitudeProjected:Y,latitudeProjected:K,format:Z});s(v.prototype,{url:{get:function(){return this._resource.url}},urlSchemeZeroPadding:{get:function(){return this._urlSchemeZeroPadding}},pickFeaturesUrl:{get:function(){return this._pickFeaturesResource.url}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return this._minimumLevel}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return a(this._resource)}},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return this._hasAlphaChannel}}}),v.prototype.reinitialize=function(e){var t=this;t._readyPromise=g(e).then(function(e){var n=e.customTags,s=r($,n),u=r(ee,n),l=p.createIfNeeded(e.url),c=p.createIfNeeded(e.pickFeaturesUrl);t.enablePickFeatures=o(e.enablePickFeatures,t.enablePickFeatures),t._urlSchemeZeroPadding=o(e.urlSchemeZeroPadding,t.urlSchemeZeroPadding),t._tileDiscardPolicy=e.tileDiscardPolicy,t._getFeatureInfoFormats=e.getFeatureInfoFormats,t._subdomains=e.subdomains,h(t._subdomains)?t._subdomains=t._subdomains.slice():a(t._subdomains)&&t._subdomains.length>0?t._subdomains=t._subdomains.split(""):t._subdomains=["a","b","c"],t._tileWidth=o(e.tileWidth,256),t._tileHeight=o(e.tileHeight,256),t._minimumLevel=o(e.minimumLevel,0),t._maximumLevel=e.maximumLevel,t._tilingScheme=o(e.tilingScheme,new m({ellipsoid:e.ellipsoid})),t._rectangle=o(e.rectangle,t._tilingScheme.rectangle),t._rectangle=f.intersection(t._rectangle,t._tilingScheme.rectangle),t._hasAlphaChannel=o(e.hasAlphaChannel,!0);var d=e.credit;return"string"==typeof d&&(d=new i(d)),t._credit=d,t._resource=l,t._tags=s,t._pickFeaturesResource=c,t._pickFeaturesTags=u,!0})},v.prototype.getTileCredits=function(e,t,n){},v.prototype.requestImage=function(e,t,n,r){return _.loadImage(this,A(this,e,t,n,r))},v.prototype.pickFeatures=function(e,t,n,r,i){function o(e,t){return e.callback(t)}function s(){if(u>=l._getFeatureInfoFormats.length)return g([]);var a=l._getFeatureInfoFormats[u],c=y(l,e,t,n,r,i,a.format);return++u,"json"===a.type?c.fetchJson().then(a.callback).otherwise(s):"xml"===a.type?c.fetchXML().then(a.callback).otherwise(s):"text"===a.type||"html"===a.type?c.fetchText().then(a.callback).otherwise(s):c.fetch({responseType:a.format}).then(o.bind(void 0,a)).otherwise(s)}if(this.enablePickFeatures&&a(this._pickFeaturesResource)&&0!==this._getFeatureInfoFormats.length){var u=0,l=this;return s()}};var te=!1,ne=new f,re=!1,ie=new f,oe=!1,ae=new e,se=!1,ue=new f,le=new t,ce=new n;return v}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(0),n(2),n(3),n(318),n(319),n(29)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(){this.defaultAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,r.throwInstantiationError()}n(s.prototype,{ready:{get:r.throwInstantiationError},readyPromise:{get:r.throwInstantiationError},rectangle:{get:r.throwInstantiationError},tileWidth:{get:r.throwInstantiationError},tileHeight:{get:r.throwInstantiationError},maximumLevel:{get:r.throwInstantiationError},minimumLevel:{get:r.throwInstantiationError},tilingScheme:{get:r.throwInstantiationError},tileDiscardPolicy:{get:r.throwInstantiationError},errorEvent:{get:r.throwInstantiationError},credit:{get:r.throwInstantiationError},proxy:{get:r.throwInstantiationError},hasAlphaChannel:{get:r.throwInstantiationError}}),s.prototype.getTileCredits=r.throwInstantiationError,s.prototype.requestImage=r.throwInstantiationError,s.prototype.pickFeatures=r.throwInstantiationError;var u=/\.ktx$/i,l=/\.crn$/i;return s.loadImage=function(e,n){var r=a.createIfNeeded(n);return u.test(r)?o(r):l.test(r)?i(r):t(e.tileDiscardPolicy)?r.fetchImage(!0):r.fetchImage()},s}.apply(t,r))&&(e.exports=i)},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){/* @preserve
 * Leaflet 1.3.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2017 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(e,n){n(t)}(0,function(e){"use strict";function t(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++){i=arguments[n];for(t in i)e[t]=i[t]}return e}function n(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}function r(e){return e._leaflet_id=e._leaflet_id||++pt,e._leaflet_id}function i(e,t,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)}}function o(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function a(){return!1}function s(e,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function u(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function l(e){return u(e).split(/\s+/)}function c(e,t){e.hasOwnProperty("options")||(e.options=e.options?ft(e.options):{});for(var n in t)e.options[n]=t[n];return e.options}function h(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}function d(e,t){return e.replace(mt,function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r})}function f(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function p(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}function m(e){var t=+new Date,n=Math.max(0,16-(t-vt));return vt=t+n,window.setTimeout(e,n)}function g(e,t,r){if(!r||At!==m)return At.call(window,n(e,t));e.call(t)}function _(e){e&&yt.call(window,e)}function v(){}function A(e){if("undefined"!=typeof L&&L&&L.Mixin){e=gt(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function y(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}function b(e,t,n){return e instanceof y?e:gt(e)?new y(e[0],e[1]):void 0===e||null===e?e:"object"==typeof e&&"x"in e&&"y"in e?new y(e.x,e.y):new y(e,t,n)}function w(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function x(e,t){return!e||e instanceof w?e:new w(e,t)}function E(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function C(e,t){return e instanceof E?e:new E(e,t)}function S(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function T(e,t,n){return e instanceof S?e:gt(e)&&"object"!=typeof e[0]?3===e.length?new S(e[0],e[1],e[2]):2===e.length?new S(e[0],e[1]):null:void 0===e||null===e?e:"object"==typeof e&&"lat"in e?new S(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new S(e,t,n)}function I(e,t,n,r){if(gt(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function M(e,t,n,r){return new I(e,t,n,r)}function O(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e,t){var n,r,i,o,a,s,u="";for(n=0,i=e.length;n<i;n++){for(a=e[n],r=0,o=a.length;r<o;r++)s=a[r],u+=(r?"L":"M")+s.x+" "+s.y;u+=t?hn?"z":"x":""}return u||"M0 0"}function D(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}function B(e,t,n,r){return"touchstart"===t?R(e,n,r):"touchmove"===t?j(e,n,r):"touchend"===t&&H(e,n,r),this}function N(e,t,n){var r=e["_leaflet_"+t+n];return"touchstart"===t?e.removeEventListener(pn,r,!1):"touchmove"===t?e.removeEventListener(mn,r,!1):"touchend"===t&&(e.removeEventListener(gn,r,!1),e.removeEventListener(_n,r,!1)),this}function R(e,t,r){var i=n(function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(vn.indexOf(e.target.tagName)<0))return;J(e)}z(e,t)});e["_leaflet_touchstart"+r]=i,e.addEventListener(pn,i,!1),yn||(document.documentElement.addEventListener(pn,k,!0),document.documentElement.addEventListener(mn,F,!0),document.documentElement.addEventListener(gn,U,!0),document.documentElement.addEventListener(_n,U,!0),yn=!0)}function k(e){An[e.pointerId]=e,bn++}function F(e){An[e.pointerId]&&(An[e.pointerId]=e)}function U(e){delete An[e.pointerId],bn--}function z(e,t){e.touches=[];for(var n in An)e.touches.push(An[n]);e.changedTouches=[e],t(e)}function j(e,t,n){var r=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&z(e,t)};e["_leaflet_touchmove"+n]=r,e.addEventListener(mn,r,!1)}function H(e,t,n){var r=function(e){z(e,t)};e["_leaflet_touchend"+n]=r,e.addEventListener(gn,r,!1),e.addEventListener(_n,r,!1)}function V(e,t,n){function r(e){var t;if(on){if(!kt||"mouse"===e.pointerType)return;t=bn}else t=e.touches.length;if(!(t>1)){var n=Date.now(),r=n-(o||n);a=e.touches?e.touches[0]:e,s=r>0&&r<=u,o=n}}function i(e){if(s&&!a.cancelBubble){if(on){if(!kt||"mouse"===e.pointerType)return;var n,r,i={};for(r in a)n=a[r],i[r]=n&&n.bind?n.bind(a):n;a=i}a.type="dblclick",t(a),o=null}}var o,a,s=!1,u=250;return e[En+wn+n]=r,e[En+xn+n]=i,e[En+"dblclick"+n]=t,e.addEventListener(wn,r,!1),e.addEventListener(xn,i,!1),e.addEventListener("dblclick",t,!1),this}function Q(e,t){var n=e[En+wn+t],r=e[En+xn+t],i=e[En+"dblclick"+t];return e.removeEventListener(wn,n,!1),e.removeEventListener(xn,r,!1),kt||e.removeEventListener("dblclick",i,!1),this}function G(e,t,n,r){if("object"==typeof t)for(var i in t)q(e,i,t[i],n);else{t=l(t);for(var o=0,a=t.length;o<a;o++)q(e,t[o],n,r)}return this}function W(e,t,n,r){if("object"==typeof t)for(var i in t)Y(e,i,t[i],n);else if(t){t=l(t);for(var o=0,a=t.length;o<a;o++)Y(e,t[o],n,r)}else{for(var s in e[Cn])Y(e,s,e[Cn][s]);delete e[Cn]}return this}function q(e,t,n,i){var o=t+r(n)+(i?"_"+r(i):"");if(e[Cn]&&e[Cn][o])return this;var a=function(t){return n.call(i||e,t||window.event)},s=a;on&&0===t.indexOf("touch")?B(e,t,a,o):!an||"dblclick"!==t||!V||on&&Qt?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",a,!1):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||window.event,ie(e,t)&&s(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",a,!1)):("click"===t&&Ut&&(a=function(e){oe(e,s)}),e.addEventListener(t,a,!1)):"attachEvent"in e&&e.attachEvent("on"+t,a):V(e,a,o),e[Cn]=e[Cn]||{},e[Cn][o]=a}function Y(e,t,n,i){var o=t+r(n)+(i?"_"+r(i):""),a=e[Cn]&&e[Cn][o];if(!a)return this;on&&0===t.indexOf("touch")?N(e,t,o):!an||"dblclick"!==t||!Q||on&&Qt?"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",a,!1):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,a,!1):"detachEvent"in e&&e.detachEvent("on"+t,a):Q(e,o),e[Cn][o]=null}function K(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,re(e),this}function X(e){return q(e,"mousewheel",K),this}function Z(e){return G(e,"mousedown touchstart dblclick",K),q(e,"click",ne),this}function J(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function $(e){return J(e),K(e),this}function ee(e,t){if(!t)return new y(e.clientX,e.clientY);var n=t.getBoundingClientRect(),r=n.width/t.offsetWidth||1,i=n.height/t.offsetHeight||1;return new y(e.clientX/r-n.left-t.clientLeft,e.clientY/i-n.top-t.clientTop)}function te(e){return kt?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Sn:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function ne(e){Tn[e.type]=!0}function re(e){var t=Tn[e.type];return Tn[e.type]=!1,t}function ie(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}function oe(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,r=It&&n-It;if(r&&r>100&&r<500||e.target._simulatedClick&&!e._simulated)return void $(e);It=n,t(e)}function ae(e){return"string"==typeof e?document.getElementById(e):e}function se(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function ue(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function le(e){var t=e.parentNode;t&&t.removeChild(e)}function ce(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function he(e){var t=e.parentNode;t.lastChild!==e&&t.appendChild(e)}function de(e){var t=e.parentNode;t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function fe(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=_e(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function pe(e,t){if(void 0!==e.classList)for(var n=l(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!fe(e,t)){var o=_e(e);ge(e,(o?o+" ":"")+t)}}function me(e,t){void 0!==e.classList?e.classList.remove(t):ge(e,u((" "+_e(e)+" ").replace(" "+t+" "," ")))}function ge(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function _e(e){return void 0===e.className.baseVal?e.className:e.className.baseVal}function ve(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Ae(e,t)}function Ae(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function ye(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function be(e,t,n){var r=t||new y(0,0);e.style[Mn]=(Xt?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function we(e,t){e._leaflet_pos=t,$t?be(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function xe(e){return e._leaflet_pos||new y(0,0)}function Ee(){G(window,"dragstart",J)}function Ce(){W(window,"dragstart",J)}function Se(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Te(),Bn=e,Ln=e.style.outline,e.style.outline="none",G(window,"keydown",Te))}function Te(){Bn&&(Bn.style.outline=Ln,Bn=void 0,Ln=void 0,W(window,"keydown",Te))}function Ie(e,t){return new kn(e,t)}function Me(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Le(e,n),e=De(e,n)}function Oe(e,t,n){return Math.sqrt(Ue(e,t,n,!0))}function Pe(e,t,n){return Ue(e,t,n)}function De(e,t){var n=e.length,r=typeof Uint8Array!=void 0+""?Uint8Array:Array,i=new r(n);i[0]=i[n-1]=1,Be(e,i,t,0,n-1);var o,a=[];for(o=0;o<n;o++)i[o]&&a.push(e[o]);return a}function Be(e,t,n,r,i){var o,a,s,u=0;for(a=r+1;a<=i-1;a++)(s=Ue(e[a],e[r],e[i],!0))>u&&(o=a,u=s);u>n&&(t[o]=1,Be(e,t,n,r,o),Be(e,t,n,o,i))}function Le(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)Fe(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function Ne(e,t,n,r,i){var o,a,s,u=r?Kn:ke(e,n),l=ke(t,n);for(Kn=l;;){if(!(u|l))return[e,t];if(u&l)return!1;o=u||l,a=Re(e,t,o,n,i),s=ke(a,n),o===u?(e=a,u=s):(t=a,l=s)}}function Re(e,t,n,r,i){var o,a,s=t.x-e.x,u=t.y-e.y,l=r.min,c=r.max;return 8&n?(o=e.x+s*(c.y-e.y)/u,a=c.y):4&n?(o=e.x+s*(l.y-e.y)/u,a=l.y):2&n?(o=c.x,a=e.y+u*(c.x-e.x)/s):1&n&&(o=l.x,a=e.y+u*(l.x-e.x)/s),new y(o,a,i)}function ke(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Fe(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Ue(e,t,n,r){var i,o=t.x,a=t.y,s=n.x-o,u=n.y-a,l=s*s+u*u;return l>0&&(i=((e.x-o)*s+(e.y-a)*u)/l,i>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=u*i)),s=e.x-o,u=e.y-a,r?s*s+u*u:new y(o,a)}function ze(e){return!gt(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function je(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ze(e)}function He(e,t,n){var r,i,o,a,s,u,l,c,h,d=[1,4,2,8];for(i=0,l=e.length;i<l;i++)e[i]._code=ke(e[i],t);for(a=0;a<4;a++){for(c=d[a],r=[],i=0,l=e.length,o=l-1;i<l;o=i++)s=e[i],u=e[o],s._code&c?u._code&c||(h=Re(u,s,c,t,n),h._code=ke(h,t),r.push(h)):(u._code&c&&(h=Re(u,s,c,t,n),h._code=ke(h,t),r.push(h)),r.push(s));e=r}return e}function Ve(e){return new pr(e)}function Qe(e,t){return new _r(e,t)}function Ge(e,t){return new Ar(e,t)}function We(e,t,n){return new yr(e,t,n)}function qe(e,t){return new br(e,t)}function Ye(e,t){return new wr(e,t)}function Ke(e,t){var n,r,i,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,u=[],l=t&&t.pointToLayer,c=t&&t.coordsToLatLng||Xe;if(!s&&!a)return null;switch(a.type){case"Point":return n=c(s),l?l(e,n):new _r(n);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=c(s[i]),u.push(l?l(e,n):new _r(n));return new dr(u);case"LineString":case"MultiLineString":return r=Ze(s,"LineString"===a.type?0:1,c),new br(r,t);case"Polygon":case"MultiPolygon":return r=Ze(s,"Polygon"===a.type?1:2,c),new wr(r,t);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var h=Ke({geometry:a.geometries[i],type:"Feature",properties:e.properties},t);h&&u.push(h)}return new dr(u);default:throw new Error("Invalid GeoJSON object.")}}function Xe(e){return new S(e[1],e[0],e[2])}function Ze(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=t?Ze(e[o],t-1,n):(n||Xe)(e[o]),i.push(r);return i}function Je(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[s(e.lng,t),s(e.lat,t),s(e.alt,t)]:[s(e.lng,t),s(e.lat,t)]}function $e(e,t,n,r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t?$e(e[o],t-1,n,r):Je(e[o],r));return!t&&n&&i.push(i[0]),i}function et(e,n){return e.feature?t({},e.feature,{geometry:n}):tt(n)}function tt(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}function nt(e,t){return new xr(e,t)}function rt(e,t,n){return new Ir(e,t,n)}function it(e){return new Lr(e)}function ot(e){return new Nr(e)}function at(e,t){return new Rr(e,t)}function st(e,t){return new kr(e,t)}function ut(e){return cn?new Ur(e):null}function lt(e){return hn||dn?new Vr(e):null}function ct(e,t){return new Qr(e,t)}function ht(){return window.L=Jr,this}var dt=Object.freeze;Object.freeze=function(e){return e};var ft=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}(),pt=0,mt=/\{ *([\w_-]+) *\}/g,gt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},_t="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",vt=0,At=window.requestAnimationFrame||p("RequestAnimationFrame")||m,yt=window.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)},bt=(Object.freeze||Object)({freeze:dt,extend:t,create:ft,bind:n,lastId:pt,stamp:r,throttle:i,wrapNum:o,falseFn:a,formatNum:s,trim:u,splitWords:l,setOptions:c,getParamString:h,template:d,isArray:gt,indexOf:f,emptyImageUrl:_t,requestFn:At,cancelFn:yt,requestAnimFrame:g,cancelAnimFrame:_});v.extend=function(e){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,i=ft(r);i.constructor=n,n.prototype=i;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(n[o]=this[o]);return e.statics&&(t(n,e.statics),delete e.statics),e.includes&&(A(e.includes),t.apply(null,[i].concat(e.includes)),delete e.includes),i.options&&(e.options=t(ft(i.options),e.options)),t(i,e),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=i._initHooks.length;e<t;e++)i._initHooks[e].call(this)}},n},v.include=function(e){return t(this.prototype,e),this},v.mergeOptions=function(e){return t(this.prototype.options,e),this},v.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var wt={on:function(e,t,n){if("object"==typeof e)for(var r in e)this._on(r,e[r],t);else{e=l(e);for(var i=0,o=e.length;i<o;i++)this._on(e[i],t,n)}return this},off:function(e,t,n){if(e)if("object"==typeof e)for(var r in e)this._off(r,e[r],t);else{e=l(e);for(var i=0,o=e.length;i<o;i++)this._off(e[i],t,n)}else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var r=this._events[e];r||(r=[],this._events[e]=r),n===this&&(n=void 0);for(var i={fn:t,ctx:n},o=r,a=0,s=o.length;a<s;a++)if(o[a].fn===t&&o[a].ctx===n)return;o.push(i)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e])){if(!t){for(i=0,o=r.length;i<o;i++)r[i].fn=a;return void delete this._events[e]}if(n===this&&(n=void 0),r)for(i=0,o=r.length;i<o;i++){var s=r[i];if(s.ctx===n&&s.fn===t)return s.fn=a,this._firingCount&&(this._events[e]=r=r.slice()),void r.splice(i,1)}}},fire:function(e,n,r){if(!this.listens(e,r))return this;var i=t({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var r in this._eventParents)if(this._eventParents[r].listens(e,t))return!0;return!1},once:function(e,t,r){if("object"==typeof e){for(var i in e)this.once(i,e[i],t);return this}var o=n(function(){this.off(e,t,r).off(e,o,r)},this);return this.on(e,t,r).on(e,o,r)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[r(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[r(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};wt.addEventListener=wt.on,wt.removeEventListener=wt.clearAllEventListeners=wt.off,wt.addOneTimeEventListener=wt.once,wt.fireEvent=wt.fire,wt.hasEventListeners=wt.listens;var xt=v.extend(wt),Et=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};y.prototype={clone:function(){return new y(this.x,this.y)},add:function(e){return this.clone()._add(b(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(b(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new y(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new y(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Et(this.x),this.y=Et(this.y),this},distanceTo:function(e){e=b(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return e=b(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=b(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+s(this.x)+", "+s(this.y)+")"}},w.prototype={extend:function(e){return e=b(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new y(this.min.x,this.max.y)},getTopRight:function(){return new y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return e="number"==typeof e[0]||e instanceof y?b(e):x(e),e instanceof w?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=x(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,a=i.y>=t.y&&r.y<=n.y;return o&&a},overlaps:function(e){e=x(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,a=i.y>t.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},E.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof S)t=e,n=e;else{if(!(e instanceof E))return e?this.extend(T(e)||C(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new S(t.lat,t.lng),this._northEast=new S(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new E(new S(t.lat-r,t.lng-i),new S(n.lat+r,n.lng+i))},getCenter:function(){return new S((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new S(this.getNorth(),this.getWest())},getSouthEast:function(){return new S(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof S||"lat"in e?T(e):C(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof E?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=C(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,a=i.lng>=t.lng&&r.lng<=n.lng;return o&&a},overlaps:function(e){e=C(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,a=i.lng>t.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=C(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},S.prototype={equals:function(e,t){return!!e&&(e=T(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+s(this.lat,e)+", "+s(this.lng,e)+")"},distanceTo:function(e){return St.distance(this,T(e))},wrap:function(){return St.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return C([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new S(this.lat,this.lng,this.alt)}};var Ct={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new w(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?o(e.lng,this.wrapLng,!0):e.lng;return new S(this.wrapLat?o(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new E(new S(o.lat-r,o.lng-i),new S(a.lat-r,a.lng-i))}},St=t({},Ct,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),Tt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new y(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new S((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=6378137*Math.PI;return new w([-e,-e],[e,e])}()};I.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new y((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var It,Mt,Ot,Pt,Dt=t({},St,{code:"EPSG:3857",projection:Tt,transformation:function(){var e=.5/(Math.PI*Tt.R);return M(e,.5,-e,.5)}()}),Bt=t({},Dt,{code:"EPSG:900913"}),Lt=document.documentElement.style,Nt="ActiveXObject"in window,Rt=Nt&&!document.addEventListener,kt="msLaunchUri"in navigator&&!("documentMode"in document),Ft=D("webkit"),Ut=D("android"),zt=D("android 2")||D("android 3"),jt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ht=Ut&&D("Google")&&jt<537&&!("AudioNode"in window),Vt=!!window.opera,Qt=D("chrome"),Gt=D("gecko")&&!Ft&&!Vt&&!Nt,Wt=!Qt&&D("safari"),qt=D("phantom"),Yt="OTransition"in Lt,Kt=0===navigator.platform.indexOf("Win"),Xt=Nt&&"transition"in Lt,Zt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!zt,Jt="MozPerspective"in Lt,$t=!window.L_DISABLE_3D&&(Xt||Zt||Jt)&&!Yt&&!qt,en="undefined"!=typeof orientation||D("mobile"),tn=en&&Ft,nn=en&&Zt,rn=!window.PointerEvent&&window.MSPointerEvent,on=!(!window.PointerEvent&&!rn),an=!window.L_NO_TOUCH&&(on||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),sn=en&&Vt,un=en&&Gt,ln=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,cn=function(){return!!document.createElement("canvas").getContext}(),hn=!(!document.createElementNS||!O("svg").createSVGRect),dn=!hn&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}(),fn=(Object.freeze||Object)({ie:Nt,ielt9:Rt,edge:kt,webkit:Ft,android:Ut,android23:zt,androidStock:Ht,opera:Vt,chrome:Qt,gecko:Gt,safari:Wt,phantom:qt,opera12:Yt,win:Kt,ie3d:Xt,webkit3d:Zt,gecko3d:Jt,any3d:$t,mobile:en,mobileWebkit:tn,mobileWebkit3d:nn,msPointer:rn,pointer:on,touch:an,mobileOpera:sn,mobileGecko:un,retina:ln,canvas:cn,svg:hn,vml:dn}),pn=rn?"MSPointerDown":"pointerdown",mn=rn?"MSPointerMove":"pointermove",gn=rn?"MSPointerUp":"pointerup",_n=rn?"MSPointerCancel":"pointercancel",vn=["INPUT","SELECT","OPTION"],An={},yn=!1,bn=0,wn=rn?"MSPointerDown":on?"pointerdown":"touchstart",xn=rn?"MSPointerUp":on?"pointerup":"touchend",En="_leaflet_",Cn="_leaflet_events",Sn=Kt&&Qt?2*window.devicePixelRatio:Gt?window.devicePixelRatio:1,Tn={},In=(Object.freeze||Object)({on:G,off:W,stopPropagation:K,disableScrollPropagation:X,disableClickPropagation:Z,preventDefault:J,stop:$,getMousePosition:ee,getWheelDelta:te,fakeStop:ne,skipped:re,isExternalTarget:ie,addListener:G,removeListener:W}),Mn=ye(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),On=ye(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Pn="webkitTransition"===On||"OTransition"===On?On+"End":"transitionend";if("onselectstart"in document)Mt=function(){G(window,"selectstart",J)},Ot=function(){W(window,"selectstart",J)};else{var Dn=ye(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mt=function(){if(Dn){var e=document.documentElement.style;Pt=e[Dn],e[Dn]="none"}},Ot=function(){Dn&&(document.documentElement.style[Dn]=Pt,Pt=void 0)}}var Bn,Ln,Nn=(Object.freeze||Object)({TRANSFORM:Mn,TRANSITION:On,TRANSITION_END:Pn,get:ae,getStyle:se,create:ue,remove:le,empty:ce,toFront:he,toBack:de,hasClass:fe,addClass:pe,removeClass:me,setClass:ge,getClass:_e,setOpacity:ve,testProp:ye,setTransform:be,setPosition:we,getPosition:xe,disableTextSelection:Mt,enableTextSelection:Ot,disableImageDrag:Ee,enableImageDrag:Ce,preventOutline:Se,restoreOutline:Te}),Rn=xt.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=xe(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=g(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),we(this._el,n),this.fire("step")},_complete:function(){_(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),kn=xt.extend({options:{crs:Dt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=c(this,t),this._initContainer(e),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(T(t.center),t.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=On&&$t&&!sn&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),G(this._proxy,Pn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,r){if(n=void 0===n?this._zoom:this._limitZoom(n),e=this._limitCenter(T(e),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r){void 0!==r.animate&&(r.zoom=t({animate:r.animate},r.zoom),r.pan=t({animate:r.animate,duration:r.duration},r.pan));if(this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,r.zoom):this._tryAnimatedPan(e,r.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(e,n),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||($t?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||($t?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=e instanceof y?e:this.latLngToContainerPoint(e),a=o.subtract(i).multiplyBy(1-1/r),s=this.containerPointToLatLng(i.add(a));return this.setView(s,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():C(e);var n=b(t.paddingTopLeft||t.padding||[0,0]),r=b(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"==typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(e=C(e),!e.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=b(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Rn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){pe(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){function r(e){var t=e?-1:1,n=e?_:m,r=_*_-m*m+t*y*y*v*v,i=2*n*y*v,o=r/i,a=Math.sqrt(o*o+1)-o;return a<1e-9?-18:Math.log(a)}function i(e){return(Math.exp(e)-Math.exp(-e))/2}function o(e){return(Math.exp(e)+Math.exp(-e))/2}function a(e){return i(e)/o(e)}function s(e){return m*(o(b)/o(b+A*e))}function u(e){return m*(o(b)*a(b+A*e)-i(b))/y}function l(e){return 1-Math.pow(1-e,1.5)}function c(){var n=(Date.now()-w)/E,r=l(n)*x;n<=1?(this._flyToFrame=g(c,this),this._move(this.unproject(h.add(d.subtract(h).multiplyBy(u(r)/v)),p),this.getScaleZoom(m/s(r),p),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}if(n=n||{},!1===n.animate||!$t)return this.setView(e,t,n);this._stop();var h=this.project(this.getCenter()),d=this.project(e),f=this.getSize(),p=this._zoom;e=T(e),t=void 0===t?p:t;var m=Math.max(f.x,f.y),_=m*this.getZoomScale(p,t),v=d.distanceTo(h)||1,A=1.42,y=A*A,b=r(0),w=Date.now(),x=(r(1)-b)/A,E=n.duration?1e3*n.duration:1e3*x*.8;return this._moveStart(!0,n.noMoveStart),c.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=C(e),e.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,C(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=r.divideBy(2).round(),a=i.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=n(this._handleGeolocationResponse,this),i=n(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,i,e):navigator.geolocation.getCurrentPosition(r,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=e.coords.latitude,n=e.coords.longitude,r=new S(t,n),i=r.toBounds(e.coords.accuracy),o=this._locateOptions;if(o.setView){var a=this.getBoundsZoom(i);this.setView(r,o.maxZoom?Math.min(a,o.maxZoom):a)}var s={latlng:r,bounds:i,timestamp:e.timestamp};for(var u in e.coords)"number"==typeof e.coords[u]&&(s[u]=e.coords[u]);this.fire("locationfound",s)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)le(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),r=ue("div",n,t||this._mapPane);return e&&(this._panes[e]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new E(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=C(e),n=b(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),u=this.getSize().subtract(n),l=x(this.project(s,r),this.project(a,r)).getSize(),c=$t?this.options.zoomSnap:1,h=u.x/l.x,d=u.y/l.y,f=t?Math.max(h,d):Math.min(h,d);return r=this.getScaleZoom(f,r),c&&(r=Math.round(r/(c/100))*(c/100),r=t?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new w(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(T(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(b(e),t)},layerPointToLatLng:function(e){var t=b(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(T(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(T(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(C(e))},distance:function(e,t){return this.options.crs.distance(T(e),T(t))},containerPointToLayerPoint:function(e){return b(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return b(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(b(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(T(e)))},mouseEventToContainerPoint:function(e){return ee(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ae(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");G(t,"scroll",this._onScroll,this),this._containerId=r(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&$t,pe(e,"leaflet-container"+(an?" leaflet-touch":"")+(ln?" leaflet-retina":"")+(Rt?" leaflet-oldie":"")+(Wt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=se(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),we(this._mapPane,new y(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pe(e.markerPane,"leaflet-zoom-hide"),pe(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){we(this._mapPane,new y(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,!1)._move(e,t)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){we(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[r(this._container)]=this;var t=e?W:G;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),$t&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_(this._resizeRequest),this._resizeRequest=g(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],o="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,s=!1;a;){if((n=this._targets[r(a)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(o&&!ie(a,e))break;if(i.push(n),o)break}if(a===this._container)break;a=a.parentNode}return i.length||s||o||!ie(a,e)||(i=[this]),i},_handleDOMEvent:function(e){if(this._loaded&&!re(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t||Se(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,r){if("click"===e.type){var i=t({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}if(!e._stopped&&(r=(r||[]).concat(this._findEventTargets(e,n)),r.length)){var o=r[0];"contextmenu"===n&&o.listens(n,!0)&&J(e);var a={originalEvent:e};if("keypress"!==e.type){var s=o.getLatLng&&(!o._radius||o._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(e),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var u=0;u<r.length;u++)if(r[u].fire(n,a,!0),a.originalEvent._stopped||!1===r[u].options.bubblingMouseEvents&&-1!==f(this._mouseEvents,n))return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return xe(this._mapPane)||new y(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return x([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new w(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,t);return a.round().equals([0,0])?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new w(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=x(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new y(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=$t?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=Mn,n=this._proxy.style[t];be(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),t=this.getZoom();be(this._proxy,this.project(e,t),this.getZoomScale(t,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){le(this._proxy),delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(g(function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,r,i){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),g(function(){this._moveEnd(!0)},this))}}),Fn=v.extend({options:{position:"topright"},initialize:function(e){c(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return pe(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this},remove:function(){return this._map?(le(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Un=function(e){return new Fn(e)};kn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){function e(e,i){var o=n+e+" "+n+i;t[e+i]=ue("div",o,r)}var t=this._controlCorners={},n="leaflet-",r=this._controlContainer=ue("div",n+"control-container",this._container);e("top","left"),e("top","right"),e("bottom","left"),e("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)le(this._controlCorners[e]);le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zn=Fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){c(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var r in e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Fn.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(r(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){pe(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._form.clientHeight?(pe(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=e+"px"):me(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ue("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Z(t),X(t);var r=this._form=ue("form",e+"-list");n&&(this._map.on("click",this.collapse,this),Ut||G(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=ue("a",e+"-toggle",t);i.href="#",i.title="Layers",an?(G(i,"click",$),G(i,"click",this.expand,this)):G(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ue("div",e+"-base",r),this._separator=ue("div",e+"-separator",r),this._overlaysList=ue("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&r(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,r){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:r}),this.options.sortLayers&&this._layers.sort(n(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ce(this._baseLayersList),ce(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(r(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?(t=document.createElement("input"),t.type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers",i),this._layerControlInputs.push(t),t.layerId=r(e.layer),G(t,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+e.name;var a=document.createElement("div");return n.appendChild(a),a.appendChild(t),a.appendChild(o),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),jn=function(e,t,n){return new zn(e,t,n)},Hn=Fn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ue("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=ue("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Z(o),G(o,"click",$),G(o,"click",i,this),G(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";me(this._zoomInButton,t),me(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&pe(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&pe(this._zoomInButton,t)}});kn.mergeOptions({zoomControl:!0}),kn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hn,this.addControl(this.zoomControl))});var Vn=function(e){return new Hn(e)},Qn=Fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=ue("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",t),e.on(n.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ue("div",t,n)),e.imperial&&(this._iScale=ue("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}}),Gn=function(e){return new Qn(e)},Wn=Fn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){c(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),Z(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}});kn.mergeOptions({attributionControl:!0}),kn.addInitHook(function(){this.options.attributionControl&&(new Wn).addTo(this)});var qn=function(e){return new Wn(e)};Fn.Layers=zn,Fn.Zoom=Hn,Fn.Scale=Qn,Fn.Attribution=Wn,Un.layers=jn,Un.zoom=Vn,Un.scale=Gn,Un.attribution=qn;var Yn=v.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yn.addTo=function(e,t){return e.addHandler(t,this),this};var Kn,Xn={Events:wt},Zn=an?"touchstart mousedown":"mousedown",Jn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},$n={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},er=xt.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){c(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(G(this._dragStartTarget,Zn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(er._dragging===this&&this.finishDrag(),W(this._dragStartTarget,Zn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!fe(this._element,"leaflet-zoom-anim")&&!(er._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(er._dragging=this,this._preventOutline&&Se(this._element),Ee(),Mt(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e;this._startPoint=new y(t.clientX,t.clientY),G(document,$n[e.type],this._onMove,this),G(document,Jn[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled){if(e.touches&&e.touches.length>1)return void(this._moved=!0);var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new y(t.clientX,t.clientY),r=n.subtract(this._startPoint);(r.x||r.y)&&(Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(J(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=xe(this._element).subtract(r),pe(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,_(this._animRequest),this._lastEvent=e,this._animRequest=g(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),we(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){me(document.body,"leaflet-dragging"),this._lastTarget&&(me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var e in $n)W(document,$n[e],this._onMove,this),W(document,Jn[e],this._onUp,this);Ce(),Ot(),this._moved&&this._moving&&(_(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,er._dragging=!1}}),tr=(Object.freeze||Object)({simplify:Me,pointToSegmentDistance:Oe,closestPointOnSegment:Pe,clipSegment:Ne,_getEdgeIntersection:Re,_getBitCode:ke,_sqClosestPointOnSegment:Ue,isFlat:ze,_flat:je}),nr=(Object.freeze||Object)({clipPolygon:He}),rr={project:function(e){return new y(e.lng,e.lat)},unproject:function(e){return new S(e.y,e.x)},bounds:new w([-180,-90],[180,90])},ir={R:6378137,R_MINOR:6356752.314245179,bounds:new w([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new y(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),l=Math.PI/2-2*Math.atan(a*t)-s,s+=l;return new S(s*n,e.x*n/r)}},or=(Object.freeze||Object)({LonLat:rr,Mercator:ir,SphericalMercator:Tt}),ar=t({},St,{code:"EPSG:3395",projection:ir,transformation:function(){var e=.5/(Math.PI*ir.R);return M(e,.5,-e,.5)}()}),sr=t({},St,{code:"EPSG:4326",projection:rr,transformation:M(1/180,1,-1/180,.5)}),ur=t({},Ct,{projection:rr,transformation:M(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});Ct.Earth=St,Ct.EPSG3395=ar,Ct.EPSG3857=Dt,Ct.EPSG900913=Bt,Ct.EPSG4326=sr,Ct.Simple=ur;var lr=xt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[r(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[r(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});kn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=r(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=r(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&r(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){e=e?gt(e)?e:[e]:[];for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[r(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=r(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var cr=lr.extend({initialize:function(e,t){c(this,t),this._layers={};var n,r;if(e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)n=this._layers[t],n[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return r(e)}}),hr=function(e,t){return new cr(e,t)},dr=cr.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),cr.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),cr.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new E;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),fr=function(e){return new dr(e)},pr=v.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){c(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"==typeof r&&(r=[r,r]);var i=b(r),o=b("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return ln&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),mr=pr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return mr.imagePath||(mr.imagePath=this._detectIconPath()),(this.options.imagePath||mr.imagePath)+pr.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=ue("div","leaflet-default-icon-path",document.body),t=se(e,"background-image")||se(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),gr=Yn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new er(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pe(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=L.DomUtil.getPosition(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=x(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!u.contains(o)){var l=b((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),L.DomUtil.setPosition(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=g(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(_(this._panRequest),this._panRequest=g(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=xe(t._icon),i=t._map.layerPointToLatLng(r);n&&we(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){_(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),_r=lr.extend({options:{icon:new mr,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(e,t){c(this,t),this._latlng=T(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=T(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),pe(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(pe(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&le(this._shadow),this._shadow=null},_setPos:function(e){we(this._icon,e),this._shadow&&we(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;ve(this._icon,e),this._shadow&&ve(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),vr=lr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return c(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Ar=vr.extend({options:{fill:!0,radius:10},initialize:function(e,t){c(this,t),this._latlng=T(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=T(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return vr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new w(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),yr=Ar.extend({initialize:function(e,n,r){if("number"==typeof n&&(n=t({},r,{radius:n})),c(this,n),this._latlng=T(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new E(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:vr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===St.distance){var i=Math.PI/180,o=this._mRadius/St.R/i,a=n.project([t+o,e]),s=n.project([t-o,e]),u=a.add(s).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(l*i))/(Math.cos(t*i)*Math.cos(l*i)))/i;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*t)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,e-c]).x,this._radiusY=u.y-a.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),br=vr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){c(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=Ue,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],l=1,c=u.length;l<c;l++){t=u[l-1],n=u[l];var h=o(e,t,n,!0);h<r&&(r=h,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(e=0,t=0;e<u-1;e++)t+=s[e].distanceTo(s[e+1])/2;if(0===t)return this._map.layerPointToLatLng(s[0]);for(e=0,r=0;e<u-1;e++)if(i=s[e],o=s[e+1],n=i.distanceTo(o),(r+=n)>t)return a=(r-t)/n,this._map.layerPointToLatLng([o.x-a*(o.x-i.x),o.y-a*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=T(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new E,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return ze(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=ze(e),r=0,i=e.length;r<i;r++)n?(t[r]=T(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new w;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),n=new y(t,t);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(n),e.max._add(n),this._pxBounds=e)},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof S,a=e.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e)){if(this.options.noClip)return void(this._parts=this._rings);var t,n,r,i,o,a,s,u=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(s=this._rings[t],n=0,o=s.length;n<o-1;n++)(a=Ne(s[n],s[n+1],e,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Me(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(s=this._parts[n],r=0,a=s.length,i=a-1;r<a;i=r++)if((t||0!==r)&&Oe(e,s[i],s[r])<=u)return!0;return!1}});br._flat=je;var wr=br.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,o,a,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(o=a=s=0,e=0,t=c-1;e<c;t=e++)n=l[e],r=l[t],i=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*i,s+=(n.y+r.y)*i,o+=3*i;return u=0===o?l[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(e){var t=br.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof S&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){br.prototype._setLatLngs.call(this,e),ze(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ze(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new y(t,t);if(e=new w(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e)){if(this.options.noClip)return void(this._parts=this._rings);for(var r,i=0,o=this._rings.length;i<o;i++)r=He(this._rings[i],e,!0),r.length&&this._parts.push(r)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,a,s,u,l=!1;if(!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(t=this._parts[i],o=0,u=t.length,a=u-1;o<u;a=o++)n=t[o],r=t[a],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||br.prototype._containsPoint.call(this,e,!0)}}),xr=dr.extend({initialize:function(e,t){c(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=gt(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)r=i[t],(r.geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=Ke(e,o);return a?(a.feature=tt(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}}),Er={toGeoJSON:function(e){return et(this,{type:"Point",coordinates:Je(this.getLatLng(),e)})}};_r.include(Er),yr.include(Er),Ar.include(Er),br.include({toGeoJSON:function(e){var t=!ze(this._latlngs),n=$e(this._latlngs,t?1:0,!1,e);return et(this,{type:(t?"Multi":"")+"LineString",coordinates:n})}}),wr.include({toGeoJSON:function(e){var t=!ze(this._latlngs),n=t&&!ze(this._latlngs[0]),r=$e(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),et(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),cr.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),et(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=tt(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}}),n?et(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Cr=nt,Sr=lr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=C(t),c(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&he(this._image),this},bringToBack:function(){return this._map&&de(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=C(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ue("img");if(pe(t,"leaflet-image-layer"),this._zoomAnimated&&pe(t,"leaflet-zoom-animated"),this.options.className&&pe(t,this.options.className),t.onselectstart=a,t.onmousemove=a,t.onload=n(this.fire,this,"load"),t.onerror=n(this._overlayOnError,this,"error"),this.options.crossOrigin&&(t.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),e)return void(this._url=t.src);t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;be(this._image,n,t)},_reset:function(){var e=this._image,t=new w(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();we(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Tr=function(e,t,n){return new Sr(e,t,n)},Ir=Sr.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ue("video");if(pe(t,"leaflet-image-layer"),this._zoomAnimated&&pe(t,"leaflet-zoom-animated"),t.onselectstart=a,t.onmousemove=a,t.onloadeddata=n(this.fire,this,"load"),e){for(var r=t.getElementsByTagName("source"),i=[],o=0;o<r.length;o++)i.push(r[o].src);return void(this._url=r.length>0?i:[t.src])}gt(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var u=ue("source");u.src=this._url[s],t.appendChild(u)}}}),Mr=lr.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){c(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ve(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(ve(this._container,0),this._removeTimeout=setTimeout(n(le,void 0,this._container),200)):le(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=T(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&he(this._container),this},bringToBack:function(){return this._map&&de(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=b(this.options.offset),n=this._getAnchor();this._zoomAnimated?we(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),Or=Mr.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Mr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vr||this._source.on("preclick",K))},onRemove:function(e){Mr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vr||this._source.off("preclick",K))},getEvents:function(){var e=Mr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=ue("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ue("div",e+"-content-wrapper",t);if(this._contentNode=ue("div",e+"-content",n),Z(n),X(this._contentNode),G(n,"contextmenu",K),this._tipContainer=ue("div",e+"-tip-container",t),this._tip=ue("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ue("a",e+"-close-button",t);r.href="#close",r.innerHTML="&#215;",G(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight;i&&r>i?(t.height=i+"px",pe(e,"leaflet-popup-scrolled")):me(e,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();we(this._container,t.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var e=this._map,t=parseInt(se(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new y(this._containerLeft,-n-this._containerBottom);i._add(xe(this._container));var o=e.layerPointToContainerPoint(i),a=b(this.options.autoPanPadding),s=b(this.options.autoPanPaddingTopLeft||a),u=b(this.options.autoPanPaddingBottomRight||a),l=e.getSize(),c=0,h=0;o.x+r+u.x>l.x&&(c=o.x+r-l.x+u.x),o.x-c-s.x<0&&(c=o.x-s.x),o.y+n+u.y>l.y&&(h=o.y+n-l.y+u.y),o.y-h-s.y<0&&(h=o.y-s.y),(c||h)&&e.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(e){this._close(),$(e)},_getAnchor:function(){return b(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pr=function(e,t){return new Or(e,t)};kn.mergeOptions({closePopupOnClick:!0}),kn.include({openPopup:function(e,t,n){return e instanceof Or||(e=new Or(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),lr.include({bindPopup:function(e,t){return e instanceof Or?(c(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Or(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){if(e instanceof lr||(t=e,e=this),e instanceof dr)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;if(this._popup&&this._map){if($(e),t instanceof vr)return void this.openPopup(e.layer||e.target,e.latlng);this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Dr=Mr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Mr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Mr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Mr.prototype.getEvents.call(this);return an&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,n=this._container,r=t.latLngToContainerPoint(t.getCenter()),i=t.layerPointToContainerPoint(e),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,u=b(this.options.offset),l=this._getAnchor();"top"===o?e=e.add(b(-a/2+u.x,-s+u.y+l.y,!0)):"bottom"===o?e=e.subtract(b(a/2-u.x,-u.y,!0)):"center"===o?e=e.subtract(b(a/2+u.x,s/2-l.y+u.y,!0)):"right"===o||"auto"===o&&i.x<r.x?(o="right",e=e.add(b(u.x+l.x,l.y-s/2+u.y,!0))):(o="left",e=e.subtract(b(a+l.x-u.x,s/2-l.y-u.y,!0))),me(n,"leaflet-tooltip-right"),me(n,"leaflet-tooltip-left"),me(n,"leaflet-tooltip-top"),me(n,"leaflet-tooltip-bottom"),pe(n,"leaflet-tooltip-"+o),we(n,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ve(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return b(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Br=function(e,t){return new Dr(e,t)};kn.include({openTooltip:function(e,t,n){return e instanceof Dr||(e=new Dr(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),lr.include({bindTooltip:function(e,t){return e instanceof Dr?(c(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new Dr(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),an&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){if(e instanceof lr||(t=e,e=this),e instanceof dr)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=e,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(pe(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(me(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Lr=pr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=b(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});pr.Default=mr;var Nr=lr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:en,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){c(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),le(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(he(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(de(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=i(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof y?e:new y(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Rt){ve(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);ve(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(_(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(le(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||(r=this._levels[e]={},r.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)le(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new y(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new y(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom)&&(i=void 0);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();$t?be(e.el,i,r):we(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new w(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,u=new w(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new y(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)return void this._setView(e,n);for(var h=i.min.y;h<=i.max.y;h++)for(var d=i.min.x;d<=i.max.x;d++){var f=new y(d,h);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:a.push(f)}}if(a.sort(function(e,t){return e.distanceTo(o)-t.distanceTo(o)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],m);this._level.el.appendChild(m)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return C(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new E(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new y(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(Ht||t.el.setAttribute("src",_t),le(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){pe(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=a,e.onmousemove=a,Rt&&this.options.opacity<1&&ve(e,this.options.opacity),Ut&&!zt&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var r=this._getTilePos(e),i=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),n(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&g(n(this._tileReady,this,e,null,o)),we(o,r),this._tiles[i]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,r){if(this._map){t&&this.fire("tileerror",{error:t,tile:r,coords:e});var i=this._tileCoordsToKey(e);r=this._tiles[i],r&&(r.loaded=+new Date,this._map._fadeAnimated?(ve(r.el,0),_(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),t||(pe(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Rt||!this._map._fadeAnimated?g(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))}},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new y(this._wrapX?o(e.x,this._wrapX):e.x,this._wrapY?o(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new w(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),Rr=Nr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,t=c(this,t),t.detectRetina&&ln&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),Ut||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url=e,t||this.redraw(),this},createTile:function(e,t){var r=document.createElement("img");return G(r,"load",n(this._tileOnLoad,this,t,r)),G(r,"error",n(this._tileOnError,this,t,r)),this.options.crossOrigin&&(r.crossOrigin=""),r.alt="",r.setAttribute("role","presentation"),r.src=this.getTileUrl(e),r},getTileUrl:function(e){var n={r:ln?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=r),n["-y"]=r}return d(this._url,t(n,this.options))},_tileOnLoad:function(e,t){Rt?setTimeout(n(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,n=this.options.zoomReverse,r=this.options.zoomOffset;return n&&(e=t-e),e+r},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=a,t.onerror=a,t.complete||(t.src=_t,le(t),delete this._tiles[e]))}}),kr=Rr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var r=t({},this.defaultWmsParams);for(var i in n)i in this.options||(r[i]=n[i]);n=c(this,n);var o=n.detectRetina&&ln?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Rr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=x(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===sr?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=L.TileLayer.prototype.getTileUrl.call(this,e);return s+h(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,n){return t(this.wmsParams,e),n||this.redraw(),this}});Rr.WMS=kr,at.wms=st;var Fr=lr.extend({options:{padding:.1,tolerance:0},initialize:function(e){c(this,e),r(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=xe(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),a=this._map.project(e,t),s=a.subtract(o),u=i.multiplyBy(-n).add(r).add(i).subtract(s);$t?be(this._container,u,n):we(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new w(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ur=Fr.extend({getEvents:function(){var e=Fr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");G(e,"mousemove",i(this._onMouseMove,32,this),this),G(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),G(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){delete this._ctx,le(this._container),W(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},Fr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=ln?2:1;we(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",ln&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Fr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[r(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[L.stamp(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(e.options.dashArray){var t,n=e.options.dashArray.split(","),r=[];for(t=0;t<n.length;t++)r.push(Number(n[t]));e.options._dashArray=r}},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||g(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new w,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,a=e._parts,s=a.length,u=this._ctx;if(s){for(this._drawnLayers[e._leaflet_id]=e,u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);t&&u.closePath()}this._fillStroke(u,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;this._drawnLayers[e._leaflet_id]=e,1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)t=i.layer,t.options.interactive&&t._containsPoint(r)&&!this._map._draggableMoved(t)&&(n=t);n&&(ne(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(me(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,t){for(var n,r,i=this._drawFirst;i;i=i.next)n=i.layer,n.options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(pe(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order,n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))},_bringToBack:function(e){var t=e._order,n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}),zr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),jr={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=zr("shape");pe(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=zr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[r(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;le(t),e.removeInteractiveTarget(t),delete this._layers[r(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=zr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=gt(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=zr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){he(e._container)},_bringToBack:function(e){de(e._container)}},Hr=dn?zr:O,Vr=Fr.extend({getEvents:function(){var e=Fr.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=Hr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){le(this._container),W(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Fr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),we(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Hr("path");e.options.className&&pe(t,e.options.className),e.options.interactive&&pe(t,"leaflet-interactive"),this._updateStyle(e),this._layers[r(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){le(e._path),e.removeInteractiveTarget(e._path),delete this._layers[r(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,P(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r=Math.max(Math.round(e._radiusY),1)||n,i="a"+n+","+r+" 0 1,0 ",o=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,o)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){he(e._path)},_bringToBack:function(e){de(e._path)}});dn&&Vr.include(jr),kn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this.options.preferCanvas&&ut()||lt()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=Vr&&lt({pane:e})||Ur&&ut({pane:e}),this._paneRenderers[e]=t),t}});var Qr=wr.extend({initialize:function(e,t){wr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=C(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});Vr.create=Hr,Vr.pointsToPath=P,xr.geometryToLayer=Ke,xr.coordsToLatLng=Xe,xr.coordsToLatLngs=Ze,xr.latLngToCoords=Je,xr.latLngsToCoords=$e,xr.getFeature=et,xr.asFeature=tt,kn.mergeOptions({boxZoom:!0});var Gr=Yn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){W(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Mt(),Ee(),this._startPoint=this._map.mouseEventToContainerPoint(e),G(document,{contextmenu:$,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new w(this._point,this._startPoint),n=t.getSize();we(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(le(this._box),me(this._container,"leaflet-crosshair")),Ot(),Ce(),W(document,{contextmenu:$,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var t=new E(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});kn.addInitHook("addHandler","boxZoom",Gr),kn.mergeOptions({doubleClickZoom:!0});var Wr=Yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});kn.addInitHook("addHandler","doubleClickZoom",Wr),kn.mergeOptions({dragging:!0,inertia:!zt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qr=Yn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new er(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){me(this._map._container,"leaflet-grab"),me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=C(this._map.options.maxBounds);this._offsetLimit=x(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=s.multiplyBy(l/u),h=l/(n.inertiaDeceleration*a),d=c.multiplyBy(-h/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),g(function(){t.panBy(d,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});kn.addInitHook("addHandler","dragging",qr),kn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Yr=Yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),G(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),W(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){G(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){W(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(r._panAnim&&r._panAnim._inProgress)return;t=this._panKeys[n],e.shiftKey&&(t=b(t).multiplyBy(3)),r.panBy(t),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}$(e)}}});kn.addInitHook("addHandler","keyboard",Yr),kn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Kr=Yn.extend({addHooks:function(){G(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){W(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=te(e),r=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),i),$(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});kn.addInitHook("addHandler","scrollWheelZoom",Kr),kn.mergeOptions({tap:!0,tapTolerance:15});var Xr=Yn.extend({addHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){W(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(J(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],r=t.target;this._startPos=this._newPos=new y(t.clientX,t.clientY),r.tagName&&"a"===r.tagName.toLowerCase()&&pe(r,"leaflet-active"),this._holdTimeout=setTimeout(n(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))},this),1e3),this._simulateEvent("mousedown",t),G(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),W(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&me(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new y(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});an&&!on&&kn.addInitHook("addHandler","tap",Xr),kn.mergeOptions({touchZoom:an&&!zt,bounceAtZoomLimits:!0});var Zr=Yn.extend({addHooks:function(){pe(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){me(this._map._container,"leaflet-touch-zoom"),W(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),G(document,"touchmove",this._onTouchMove,this),G(document,"touchend",this._onTouchEnd,this),J(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,r=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),o=r.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=r._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),_(this._animRequest);var s=n(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=g(s,this,!0),J(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,_(this._animRequest),W(document,"touchmove",this._onTouchMove),W(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});kn.addInitHook("addHandler","touchZoom",Zr),kn.BoxZoom=Gr,kn.DoubleClickZoom=Wr,kn.Drag=qr,kn.Keyboard=Yr,kn.ScrollWheelZoom=Kr,kn.Tap=Xr,kn.TouchZoom=Zr;var Jr=window.L;window.L=e,Object.freeze=dt,e.version="1.3.1",e.noConflict=ht,e.Control=Fn,e.control=Un,e.Browser=fn,e.Evented=xt,e.Mixin=Xn,e.Util=bt,e.Class=v,e.Handler=Yn,e.extend=t,e.bind=n,e.stamp=r,e.setOptions=c,e.DomEvent=In,e.DomUtil=Nn,e.PosAnimation=Rn,e.Draggable=er,e.LineUtil=tr,e.PolyUtil=nr,e.Point=y,e.point=b,e.Bounds=w,e.bounds=x,e.Transformation=I,e.transformation=M,e.Projection=or,e.LatLng=S,e.latLng=T,e.LatLngBounds=E,e.latLngBounds=C,e.CRS=Ct,e.GeoJSON=xr,e.geoJSON=nt,e.geoJson=Cr,e.Layer=lr,e.LayerGroup=cr,e.layerGroup=hr,e.FeatureGroup=dr,e.featureGroup=fr,e.ImageOverlay=Sr,e.imageOverlay=Tr,e.VideoOverlay=Ir,e.videoOverlay=rt,e.DivOverlay=Mr,e.Popup=Or,e.popup=Pr,e.Tooltip=Dr,e.tooltip=Br,e.Icon=pr,e.icon=Ve,e.DivIcon=Lr,e.divIcon=it,e.Marker=_r,e.marker=Qe,e.TileLayer=Rr,e.tileLayer=at,e.GridLayer=Nr,e.gridLayer=ot,e.SVG=Vr,e.svg=lt,e.Renderer=Fr,e.Canvas=Ur,e.canvas=ut,e.Path=vr,e.CircleMarker=Ar,e.circleMarker=Ge,e.Circle=yr,e.circle=We,e.Polyline=br,e.polyline=qe,e.Polygon=wr,e.polygon=Ye,e.Rectangle=Qr,e.rectangle=ct,e.Map=kn,e.map=Ie})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateLengthFromValueWithUnit=t.LENGTH_TYPE=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(167),a=(function(e){e&&e.__esModule}(o),t.LENGTH_TYPE={PX:0,PERCENTAGE:1}),s=function(){function e(t){r(this,e),this.type="%"===t.substr(t.length-1)?a.PERCENTAGE:a.PX;var n=parseFloat(t);this.value=isNaN(n)?0:n}return i(e,[{key:"isPercentage",value:function(){return this.type===a.PERCENTAGE}},{key:"getAbsoluteValue",value:function(e){return this.isPercentage()?e*(this.value/100):this.value}}],[{key:"create",value:function(t){return new e(t)}}]),e}();t.default=s;var u=function e(t){var n=t.parent;return n?e(n):parseFloat(t.style.font.fontSize)};t.calculateLengthFromValueWithUnit=function(e,t,n){switch(n){case"px":case"%":return new s(t+n);case"em":case"rem":var r=new s(t);return r.value*="em"===n?parseFloat(e.style.font.fontSize):u(e),r;default:return new s("0")}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.parseBoundCurves=t.calculatePaddingBoxPath=t.calculateBorderBoxPath=t.parsePathForBorder=t.parseDocumentSize=t.calculateContentBox=t.calculatePaddingBox=t.parseBounds=t.Bounds=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(239),s=r(a),u=n(891),l=r(u),c=t.Bounds=function(){function e(t,n,r,o){i(this,e),this.left=t,this.top=n,this.width=r,this.height=o}return o(e,null,[{key:"fromClientRect",value:function(t,n,r){return new e(t.left+n,t.top+r,t.width,t.height)}}]),e}(),h=(t.parseBounds=function(e,t,n){return c.fromClientRect(e.getBoundingClientRect(),t,n)},t.calculatePaddingBox=function(e,t){return new c(e.left+t[3].borderWidth,e.top+t[0].borderWidth,e.width-(t[1].borderWidth+t[3].borderWidth),e.height-(t[0].borderWidth+t[2].borderWidth))},t.calculateContentBox=function(e,t,n){var r=t[0].value,i=t[1].value,o=t[2].value,a=t[3].value;return new c(e.left+a+n[3].borderWidth,e.top+r+n[0].borderWidth,e.width-(n[1].borderWidth+n[3].borderWidth+a+i),e.height-(n[0].borderWidth+n[2].borderWidth+r+o))},t.parseDocumentSize=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new c(0,0,r,i)},t.parsePathForBorder=function(e,t){switch(t){case 0:return h(e.topLeftOuter,e.topLeftInner,e.topRightOuter,e.topRightInner);case 1:return h(e.topRightOuter,e.topRightInner,e.bottomRightOuter,e.bottomRightInner);case 2:return h(e.bottomRightOuter,e.bottomRightInner,e.bottomLeftOuter,e.bottomLeftInner);case 3:default:return h(e.bottomLeftOuter,e.bottomLeftInner,e.topLeftOuter,e.topLeftInner)}},function(e,t,n,r){var i=[];return e instanceof l.default?i.push(e.subdivide(.5,!1)):i.push(e),n instanceof l.default?i.push(n.subdivide(.5,!0)):i.push(n),r instanceof l.default?i.push(r.subdivide(.5,!0).reverse()):i.push(r),t instanceof l.default?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i}),d=(t.calculateBorderBoxPath=function(e){return[e.topLeftOuter,e.topRightOuter,e.bottomRightOuter,e.bottomLeftOuter]},t.calculatePaddingBoxPath=function(e){return[e.topLeftInner,e.topRightInner,e.bottomRightInner,e.bottomLeftInner]},t.parseBoundCurves=function(e,t,n){var r=n[d.TOP_LEFT][0].getAbsoluteValue(e.width),i=n[d.TOP_LEFT][1].getAbsoluteValue(e.height),o=n[d.TOP_RIGHT][0].getAbsoluteValue(e.width),a=n[d.TOP_RIGHT][1].getAbsoluteValue(e.height),u=n[d.BOTTOM_RIGHT][0].getAbsoluteValue(e.width),l=n[d.BOTTOM_RIGHT][1].getAbsoluteValue(e.height),c=n[d.BOTTOM_LEFT][0].getAbsoluteValue(e.width),h=n[d.BOTTOM_LEFT][1].getAbsoluteValue(e.height),p=[];p.push((r+o)/e.width),p.push((c+u)/e.width),p.push((i+h)/e.height),p.push((a+l)/e.height);var m=Math.max.apply(Math,p);m>1&&(r/=m,i/=m,o/=m,a/=m,u/=m,l/=m,c/=m,h/=m);var g=e.width-o,_=e.height-l,v=e.width-u,A=e.height-h;return{topLeftOuter:r>0||i>0?f(e.left,e.top,r,i,d.TOP_LEFT):new s.default(e.left,e.top),topLeftInner:r>0||i>0?f(e.left+t[3].borderWidth,e.top+t[0].borderWidth,Math.max(0,r-t[3].borderWidth),Math.max(0,i-t[0].borderWidth),d.TOP_LEFT):new s.default(e.left+t[3].borderWidth,e.top+t[0].borderWidth),topRightOuter:o>0||a>0?f(e.left+g,e.top,o,a,d.TOP_RIGHT):new s.default(e.left+e.width,e.top),topRightInner:o>0||a>0?f(e.left+Math.min(g,e.width+t[3].borderWidth),e.top+t[0].borderWidth,g>e.width+t[3].borderWidth?0:o-t[3].borderWidth,a-t[0].borderWidth,d.TOP_RIGHT):new s.default(e.left+e.width-t[1].borderWidth,e.top+t[0].borderWidth),bottomRightOuter:u>0||l>0?f(e.left+v,e.top+_,u,l,d.BOTTOM_RIGHT):new s.default(e.left+e.width,e.top+e.height),bottomRightInner:u>0||l>0?f(e.left+Math.min(v,e.width-t[3].borderWidth),e.top+Math.min(_,e.height+t[0].borderWidth),Math.max(0,u-t[1].borderWidth),l-t[2].borderWidth,d.BOTTOM_RIGHT):new s.default(e.left+e.width-t[1].borderWidth,e.top+e.height-t[2].borderWidth),bottomLeftOuter:c>0||h>0?f(e.left,e.top+A,c,h,d.BOTTOM_LEFT):new s.default(e.left,e.top+e.height),bottomLeftInner:c>0||h>0?f(e.left+t[3].borderWidth,e.top+A,Math.max(0,c-t[3].borderWidth),h-t[2].borderWidth,d.BOTTOM_LEFT):new s.default(e.left+t[3].borderWidth,e.top+e.height-t[2].borderWidth)}},{TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3}),f=function(e,t,n,r,i){var o=(Math.sqrt(2)-1)/3*4,a=n*o,u=r*o,c=e+n,h=t+r;switch(i){case d.TOP_LEFT:return new l.default(new s.default(e,h),new s.default(e,h-u),new s.default(c-a,t),new s.default(c,t));case d.TOP_RIGHT:return new l.default(new s.default(e,t),new s.default(e+a,t),new s.default(c,h-u),new s.default(c,h));case d.BOTTOM_RIGHT:return new l.default(new s.default(c,t),new s.default(c,t+u),new s.default(e+a,h),new s.default(e,h));case d.BOTTOM_LEFT:default:return new l.default(new s.default(c,h),new s.default(c-a,h),new s.default(e,t+u),new s.default(e,t))}}},function(e,t,n){var r,i;r=[n(110),n(31),n(0)],void 0!==(i=function(e,t,n){"use strict";function r(r,i){var o=i.bufferView;if(n(o)){var a=r.bufferViews[o];if(n(a.byteStride)&&a.byteStride>0)return a.byteStride}return t.getSizeInBytes(i.componentType)*e(i.type)}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=Array.prototype,i=r.map,o=r.slice},function(e,t){e.exports={panel:"tjs-panel__panel",content:"tjs-panel__content tjs-_base__scrollbars undefined",inner:"tjs-panel__inner","is-open":"tjs-panel__is-open",isOpen:"tjs-panel__is-open",caret:"tjs-panel__caret",label:"tjs-panel__label",heading:"tjs-panel__heading tjs-panel__label","sub-heading":"tjs-panel__sub-heading tjs-panel__label",subHeading:"tjs-panel__sub-heading tjs-panel__label",section:"tjs-panel__section",button:"tjs-panel__button tjs-_buttons__btn tjs-_buttons__btn--map",overlay:"tjs-panel__overlay",link:"tjs-panel__link"}},function(e,t,n){var r=n(288);e.exports=function(e){return function t(n){return 0===arguments.length||r(n)?t:e.apply(this,arguments)}}},function(e,t,n){var r,i;r=[n(25),n(31),n(1),n(0),n(2),n(3)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(t,r,i,o){t=n(t,1),r=n(r,1),i=n(i,1),o=n(o,1),this.value=new Uint8Array([e.floatToByte(t),e.floatToByte(r),e.floatToByte(i),e.floatToByte(o)])}return i(a.prototype,{componentDatatype:{get:function(){return t.UNSIGNED_BYTE}},componentsPerAttribute:{get:function(){return 4}},normalize:{get:function(){return!0}}}),a.fromColor=function(e){return new a(e.red,e.green,e.blue,e.alpha)},a.toValue=function(e,t){return r(t)?e.toBytes(t):new Uint8Array(e.toBytes())},a.equals=function(e,t){return e===t||r(e)&&r(t)&&e.value[0]===t.value[0]&&e.value[1]===t.value[1]&&e.value[2]===t.value[2]&&e.value[3]===t.value[3]},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({NONE:0,TOP:1,ALL:2})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(2),n(181),n(1076),n(1077),n(529),n(1078),n(303)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(t){t=e(t,e.EMPTY_OBJECT);var n=e(t.translucent,!0),l=e(t.closed,!1),c=e(t.flat,!1),h=c?a:i,d=c?o:r,f=c?u.FLAT_VERTEX_FORMAT:u.VERTEX_FORMAT;this.material=void 0,this.translucent=n,this._vertexShaderSource=e(t.vertexShaderSource,h),this._fragmentShaderSource=e(t.fragmentShaderSource,d),this._renderState=s.getDefaultRenderState(n,l,t.renderState),this._closed=l,this._vertexFormat=f,this._flat=c,this._faceForward=e(t.faceForward,!l)}return t(u.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return this._vertexFormat}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}}}),u.VERTEX_FORMAT=n.POSITION_AND_NORMAL,u.FLAT_VERTEX_FORMAT=n.POSITION_ONLY,u.prototype.getFragmentShaderSource=s.prototype.getFragmentShaderSource,u.prototype.isTranslucent=s.prototype.isTranslucent,u.prototype.getRenderState=s.prototype.getRenderState,u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({NONE:0,CLAMP_TO_GROUND:1,RELATIVE_TO_GROUND:2})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3)],void 0!==(i=function(e,t,n,r){"use strict";function i(t,n){t=e(t,0),this._near=t,n=e(n,Number.MAX_VALUE),this._far=n}return n(i.prototype,{near:{get:function(){return this._near},set:function(e){this._near=e}},far:{get:function(){return this._far},set:function(e){this._far=e}}}),i.packedLength=2,i.pack=function(t,n,r){return r=e(r,0),n[r++]=t.near,n[r]=t.far,n},i.unpack=function(n,r,o){return r=e(r,0),t(o)||(o=new i),o.near=n[r++],o.far=n[r],o},i.equals=function(e,n){return e===n||t(e)&&t(n)&&e.near===n.near&&e.far===n.far},i.clone=function(e,n){if(t(e))return t(n)||(n=new i),n.near=e.near,n.far=e.far,n},i.prototype.clone=function(e){return i.clone(this,e)},i.prototype.equals=function(e){return i.equals(this,e)},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";var n={CLOCKWISE:t.CW,COUNTER_CLOCKWISE:t.CCW,validate:function(e){return e===n.CLOCKWISE||e===n.COUNTER_CLOCKWISE}};return e(n)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(24),n(12),n(101),n(1),n(0),n(2),n(3),n(15),n(9),n(40),n(20),n(59),n(50),n(153),n(746),n(752),n(755),n(779),n(751),n(781),n(43),n(496),n(782),n(783),n(784),n(763),n(785),n(764),n(1106),n(444),n(756),n(429),n(1107),n(89),n(443),n(765),n(766)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L,N,R,k){"use strict";function F(e){return new A(e)}function U(e,t){return b(e,void 0,function(e){return e instanceof t?e:new t(e)})}function z(e){e=i(e,i.EMPTY_OBJECT);var t=e.id;o(t)||(t=r()),this._availability=void 0,this._id=t,this._definitionChanged=new u,this._name=e.name,this._show=i(e.show,!0),this._parent=void 0,this._propertyNames=["billboard","box","corridor","cylinder","description","ellipse","ellipsoid","label","model","orientation","path","plane","point","polygon","polyline","polylineVolume","position","properties","rectangle","viewFrom","wall"],this._billboard=void 0,this._billboardSubscription=void 0,this._box=void 0,this._boxSubscription=void 0,this._corridor=void 0,this._corridorSubscription=void 0,this._cylinder=void 0,this._cylinderSubscription=void 0,this._description=void 0,this._descriptionSubscription=void 0,this._ellipse=void 0,this._ellipseSubscription=void 0,this._ellipsoid=void 0,this._ellipsoidSubscription=void 0,this._label=void 0,this._labelSubscription=void 0,this._model=void 0,this._modelSubscription=void 0,this._orientation=void 0,this._orientationSubscription=void 0,this._path=void 0,this._pathSubscription=void 0,this._plane=void 0,this._planeSubscription=void 0,this._point=void 0,this._pointSubscription=void 0,this._polygon=void 0,this._polygonSubscription=void 0,this._polyline=void 0,this._polylineSubscription=void 0,this._polylineVolume=void 0,this._polylineVolumeSubscription=void 0,this._position=void 0,this._positionSubscription=void 0,this._properties=void 0,this._propertiesSubscription=void 0,this._rectangle=void 0,this._rectangleSubscription=void 0,this._viewFrom=void 0,this._viewFromSubscription=void 0,this._wall=void 0,this._wallSubscription=void 0,this._children=[],this.entityCollection=void 0,this.parent=e.parent,this.merge(e)}function j(e,t,n){for(var r=t.length,i=0;i<r;i++){var o=t[i],a=o._show;(!n&&a)!==(n&&a)&&j(o,o._children,n)}e._definitionChanged.raiseEvent(e,"isShowing",n,!n)}var H=new t;a(z.prototype,{availability:w("availability"),id:{get:function(){return this._id}},definitionChanged:{get:function(){return this._definitionChanged}},name:w("name"),show:{get:function(){return this._show},set:function(e){if(e!==this._show){var t=this.isShowing;this._show=e;var n=this.isShowing;t!==n&&j(this,this._children,n),this._definitionChanged.raiseEvent(this,"show",e,!e)}}},isShowing:{get:function(){return this._show&&(!o(this.entityCollection)||this.entityCollection.show)&&(!o(this._parent)||this._parent.isShowing)}},parent:{get:function(){return this._parent},set:function(e){var t=this._parent;if(t!==e){var n=this.isShowing;if(o(t)){var r=t._children.indexOf(this);t._children.splice(r,1)}this._parent=e,o(e)&&e._children.push(this);var i=this.isShowing;n!==i&&j(this,this._children,i),this._definitionChanged.raiseEvent(this,"parent",e,t)}}},propertyNames:{get:function(){return this._propertyNames}},billboard:U("billboard",_),box:U("box",v),corridor:U("corridor",y),cylinder:U("cylinder",x),description:b("description"),ellipse:U("ellipse",E),ellipsoid:U("ellipsoid",C),label:U("label",S),model:U("model",T),orientation:b("orientation"),path:U("path",I),plane:U("plane",M),point:U("point",O),polygon:U("polygon",P),polyline:U("polyline",D),polylineVolume:U("polylineVolume",B),properties:U("properties",N),position:function(e){return b(e,void 0,F)}("position"),rectangle:U("rectangle",R),viewFrom:b("viewFrom"),wall:U("wall",k)}),z.prototype.isAvailable=function(e){var t=this._availability;return!o(t)||t.contains(e)},z.prototype.addProperty=function(e){this._propertyNames.push(e),Object.defineProperty(this,e,w(e,!0))},z.prototype.removeProperty=function(e){var t=this._propertyNames,n=t.indexOf(e);this._propertyNames.splice(n,1),delete this[e]},z.prototype.merge=function(e){this.name=i(this.name,e.name),this.availability=i(e.availability,this.availability);for(var t=this._propertyNames,n=o(e._propertyNames)?e._propertyNames:Object.keys(e),r=n.length,a=0;a<r;a++){var s=n[a];if("parent"!==s){var u=this[s],l=e[s];o(u)||-1!==t.indexOf(s)||this.addProperty(s),o(l)&&(o(u)?o(u.merge)&&u.merge(l):o(l.merge)&&o(l.clone)?this[s]=l.clone():this[s]=l)}}};var V=new c,Q=new e,G=new d;return z.prototype.computeModelMatrix=function(e,t){var n=L.getValueOrUndefined(this._position,e,Q);if(o(n)){var r=L.getValueOrUndefined(this._orientation,e,G);return t=o(r)?h.fromRotationTranslation(c.fromQuaternion(r,V),n,t):f.eastNorthUpToFixedFrame(n,void 0,t)}},z.prototype.computeModelMatrixForHeightReference=function(t,n,r,i,a){var s=L.getValueOrDefault(n,t,p.NONE),u=L.getValueOrUndefined(this._position,t,Q);if(s===p.NONE||!o(u)||e.equalsEpsilon(u,e.ZERO,l.EPSILON8))return this.computeModelMatrix(t,a);var d=i.cartesianToCartographic(u,H);s===p.CLAMP_TO_GROUND?d.height=r:d.height+=r,u=i.cartographicToCartesian(d,u);var m=L.getValueOrUndefined(this._orientation,t,G);return a=o(m)?h.fromRotationTranslation(c.fromQuaternion(m,V),u,a):f.eastNorthUpToFixedFrame(u,void 0,a)},z.supportsMaterialsforEntitiesOnTerrain=function(e){return m.supportsMaterials(e)},z.supportsPolylinesOnTerrain=function(e){return g.isSupported(e)},z}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(24),n(1),n(0),n(3),n(301),n(9),n(40),n(327),n(953),n(186)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c){"use strict";function h(e,t,n,r){var i=t*t-4*e*n;if(!(i<0)){if(i>0){var o=1/(2*e),a=Math.sqrt(i),s=(-t+a)*o,u=(-t-a)*o;return s<u?(r.root0=s,r.root1=u):(r.root0=u,r.root1=s),r}var l=-t/(2*e);if(0!==l)return r.root0=r.root1=l,r}}function d(t,n,i){r(i)||(i=new o);var a=t.origin,s=t.direction,u=n.center,l=n.radius*n.radius,c=e.subtract(a,u,v),d=e.dot(s,s),f=2*e.dot(s,c),p=e.magnitudeSquared(c)-l,m=h(d,f,p,w);if(r(m))return i.start=m.root0,i.stop=m.root1,i}function f(e,t,n){var r=e+t;return a.sign(e)!==a.sign(t)&&Math.abs(r/Math.max(Math.abs(e),Math.abs(t)))<n?0:r}function p(t,n,r,i,o){var c,h=i*i,d=o*o,p=(t[s.COLUMN1ROW1]-t[s.COLUMN2ROW2])*d,m=o*(i*f(t[s.COLUMN1ROW0],t[s.COLUMN0ROW1],a.EPSILON15)+n.y),g=t[s.COLUMN0ROW0]*h+t[s.COLUMN2ROW2]*d+i*n.x+r,_=d*f(t[s.COLUMN2ROW1],t[s.COLUMN1ROW2],a.EPSILON15),v=o*(i*f(t[s.COLUMN2ROW0],t[s.COLUMN0ROW2])+n.z),A=[];if(0===v&&0===_){if(c=u.computeRealRoots(p,m,g),0===c.length)return A;var y=c[0],b=Math.sqrt(Math.max(1-y*y,0));if(A.push(new e(i,o*y,o*-b)),A.push(new e(i,o*y,o*b)),2===c.length){var w=c[1],x=Math.sqrt(Math.max(1-w*w,0));A.push(new e(i,o*w,o*-x)),A.push(new e(i,o*w,o*x))}return A}var E=v*v,C=_*_,S=p*p,T=v*_,I=S+C,M=2*(m*p+T),O=2*g*p+m*m-C+E,P=2*(g*m-T),D=g*g-E;if(0===I&&0===M&&0===O&&0===P)return A;c=l.computeRealRoots(I,M,O,P,D);var B=c.length;if(0===B)return A;for(var L=0;L<B;++L){var N,R=c[L],k=R*R,F=Math.max(1-k,0),U=Math.sqrt(F);N=a.sign(p)===a.sign(g)?f(p*k+g,m*R,a.EPSILON12):a.sign(g)===a.sign(m*R)?f(p*k,m*R+g,a.EPSILON12):f(p*k+m*R,g,a.EPSILON12);var z=f(_*R,v,a.EPSILON15),j=N*z;j<0?A.push(new e(i,o*R,o*U)):j>0?A.push(new e(i,o*R,o*-U)):0!==U?(A.push(new e(i,o*R,o*-U)),A.push(new e(i,o*R,o*U)),++L):A.push(new e(i,o*R,o*U))}return A}var m={};m.rayPlane=function(t,n,i){r(i)||(i=new e);var o=t.origin,s=t.direction,u=n.normal,l=e.dot(u,s);if(!(Math.abs(l)<a.EPSILON15)){var c=(-n.distance-e.dot(u,o))/l;if(!(c<0))return i=e.multiplyByScalar(s,c,i),e.add(o,i,i)}};var g=new e,_=new e,v=new e,A=new e,y=new e;m.rayTriangleParametric=function(t,r,i,o,s){s=n(s,!1);var u,l,c,h,d,f=t.origin,p=t.direction,m=e.subtract(i,r,g),b=e.subtract(o,r,_),w=e.cross(p,b,v),x=e.dot(m,w);if(s){if(x<a.EPSILON6)return;if(u=e.subtract(f,r,A),(c=e.dot(u,w))<0||c>x)return;if(l=e.cross(u,m,y),(h=e.dot(p,l))<0||c+h>x)return;d=e.dot(b,l)/x}else{if(Math.abs(x)<a.EPSILON6)return;var E=1/x;if(u=e.subtract(f,r,A),(c=e.dot(u,w)*E)<0||c>1)return;if(l=e.cross(u,m,y),(h=e.dot(p,l)*E)<0||c+h>1)return;d=e.dot(b,l)*E}return d},m.rayTriangle=function(t,n,i,o,a,s){var u=m.rayTriangleParametric(t,n,i,o,a);if(r(u)&&!(u<0))return r(s)||(s=new e),e.multiplyByScalar(t.direction,u,s),e.add(t.origin,s,s)};var b=new c;m.lineSegmentTriangle=function(t,n,i,o,a,s,u){var l=b;e.clone(t,l.origin),e.subtract(n,t,l.direction),e.normalize(l.direction,l.direction);var c=m.rayTriangleParametric(l,i,o,a,s);if(!(!r(c)||c<0||c>e.distance(t,n)))return r(u)||(u=new e),e.multiplyByScalar(l.direction,c,u),e.add(l.origin,u,u)};var w={root0:0,root1:0};m.raySphere=function(e,t,n){if(n=d(e,t,n),r(n)&&!(n.stop<0))return n.start=Math.max(n.start,0),n};var x=new c;m.lineSegmentSphere=function(t,n,i,o){var a=x;e.clone(t,a.origin);var s=e.subtract(n,t,a.direction),u=e.magnitude(s);if(e.normalize(s,s),o=d(a,i,o),!(!r(o)||o.stop<0||o.start>u))return o.start=Math.max(o.start,0),o.stop=Math.min(o.stop,u),o};var E=new e,C=new e;m.rayEllipsoid=function(t,n){var r,i,a,s,u,l=n.oneOverRadii,c=e.multiplyComponents(l,t.origin,E),h=e.multiplyComponents(l,t.direction,C),d=e.magnitudeSquared(c),f=e.dot(c,h);if(d>1){if(f>=0)return;var p=f*f;if(r=d-1,i=e.magnitudeSquared(h),a=i*r,p<a)return;if(p>a){s=f*f-a,u=-f+Math.sqrt(s);var m=u/i,g=r/u;return m<g?new o(m,g):{start:g,stop:m}}var _=Math.sqrt(r/i);return new o(_,_)}return d<1?(r=d-1,i=e.magnitudeSquared(h),a=i*r,s=f*f-a,u=-f+Math.sqrt(s),new o(0,u/i)):f<0?(i=e.magnitudeSquared(h),new o(0,-f/i)):void 0};var S=new e,T=new e,I=new e,M=new e,O=new e,P=new s,D=new s,B=new s,L=new s,N=new s,R=new s,k=new s,F=new e,U=new e,z=new t;m.grazingAltitudeLocation=function(t,n){var i=t.origin,o=t.direction;if(!e.equals(i,e.ZERO)){var u=n.geodeticSurfaceNormal(i,S);if(e.dot(o,u)>=0)return i}var l=r(this.rayEllipsoid(t,n)),c=n.transformPositionToScaledSpace(o,S),h=e.normalize(c,c),d=e.mostOrthogonalAxis(c,M),f=e.normalize(e.cross(d,h,T),T),m=e.normalize(e.cross(h,f,I),I),g=P;g[0]=h.x,g[1]=h.y,g[2]=h.z,g[3]=f.x,g[4]=f.y,g[5]=f.z,g[6]=m.x,g[7]=m.y,g[8]=m.z;var _=s.transpose(g,D),v=s.fromScale(n.radii,B),A=s.fromScale(n.oneOverRadii,L),y=N;y[0]=0,y[1]=-o.z,y[2]=o.y,y[3]=o.z,y[4]=0,y[5]=-o.x,y[6]=-o.y,y[7]=o.x,y[8]=0;var b,w,x=s.multiply(s.multiply(_,A,R),y,R),E=s.multiply(s.multiply(x,v,k),g,k),C=s.multiplyByVector(x,i,O),j=p(E,e.negate(C,S),0,0,1),H=j.length;if(H>0){for(var V=e.clone(e.ZERO,U),Q=Number.NEGATIVE_INFINITY,G=0;G<H;++G){b=s.multiplyByVector(v,s.multiplyByVector(g,j[G],F),F);var W=e.normalize(e.subtract(b,i,M),M),q=e.dot(W,o);q>Q&&(Q=q,V=e.clone(b,V))}var Y=n.cartesianToCartographic(V,z);return Q=a.clamp(Q,0,1),w=e.magnitude(e.subtract(V,i,M))*Math.sqrt(1-Q*Q),w=l?-w:w,Y.height=w,n.cartographicToCartesian(Y,new e)}};var j=new e;return m.lineSegmentPlane=function(t,n,i,o){r(o)||(o=new e);var s=e.subtract(n,t,j),u=i.normal,l=e.dot(u,s);if(!(Math.abs(l)<a.EPSILON6)){var c=e.dot(u,t),h=-(i.distance+c)/l;if(!(h<0||h>1))return e.multiplyByScalar(s,h,o),e.add(t,o,o),o}},m.trianglePlaneIntersection=function(t,n,r,i){var o=i.normal,a=i.distance,s=e.dot(o,t)+a<0,u=e.dot(o,n)+a<0,l=e.dot(o,r)+a<0,c=0;c+=s?1:0,c+=u?1:0,c+=l?1:0;var h,d;if(1!==c&&2!==c||(h=new e,d=new e),1===c){if(s)return m.lineSegmentPlane(t,n,i,h),m.lineSegmentPlane(t,r,i,d),{positions:[t,n,r,h,d],indices:[0,3,4,1,2,4,1,4,3]};if(u)return m.lineSegmentPlane(n,r,i,h),m.lineSegmentPlane(n,t,i,d),{positions:[t,n,r,h,d],indices:[1,3,4,2,0,4,2,4,3]};if(l)return m.lineSegmentPlane(r,t,i,h),m.lineSegmentPlane(r,n,i,d),{positions:[t,n,r,h,d],indices:[2,3,4,0,1,4,0,4,3]}}else if(2===c){if(!s)return m.lineSegmentPlane(n,t,i,h),m.lineSegmentPlane(r,t,i,d),{positions:[t,n,r,h,d],indices:[1,2,4,1,4,3,0,3,4]};if(!u)return m.lineSegmentPlane(r,n,i,h),m.lineSegmentPlane(t,n,i,d),{positions:[t,n,r,h,d],indices:[2,0,4,2,4,3,1,3,4]};if(!l)return m.lineSegmentPlane(t,r,i,h),m.lineSegmentPlane(n,r,i,d),{positions:[t,n,r,h,d],indices:[0,1,4,0,4,3,2,3,4]}}},m}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({CENTER:0,LEFT:1,RIGHT:-1})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({TERRAIN:0,CESIUM_3D_TILE:1,BOTH:2,NUMBER_OF_CLASSIFICATION_TYPES:3})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({UNBOUNDED:0,CLAMPED:1,LOOP_STOP:2})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({TERRAIN:0,IMAGERY:1,TILES3D:2,OTHER:3})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({LEFT:-1,NONE:0,RIGHT:1})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(25),n(0),n(2)],void 0!==(i=function(e,t,n){"use strict";function r(e,t){this._content=e,this._batchId=t,this._color=void 0}return n(r.prototype,{show:{get:function(){return this._content.batchTable.getShow(this._batchId)},set:function(e){this._content.batchTable.setShow(this._batchId,e)}},color:{get:function(){return t(this._color)||(this._color=new e),this._content.batchTable.getColor(this._batchId,this._color)},set:function(e){this._content.batchTable.setColor(this._batchId,e)}},content:{get:function(){return this._content}},tileset:{get:function(){return this._content.tileset}},primitive:{get:function(){return this._content.tileset}},pickId:{get:function(){return this._content.batchTable.getPickColor(this._batchId)}}}),r.prototype.hasProperty=function(e){return this._content.batchTable.hasProperty(this._batchId,e)},r.prototype.getPropertyNames=function(e){return this._content.batchTable.getPropertyNames(this._batchId,e)},r.prototype.getProperty=function(e){return this._content.batchTable.getProperty(this._batchId,e)},r.prototype.setProperty=function(e,t){this._content.batchTable.setProperty(this._batchId,e,t),this._content.featurePropertiesDirty=!0},r.prototype.isExactClass=function(e){return this._content.batchTable.isExactClass(this._batchId,e)},r.prototype.isClass=function(e){return this._content.batchTable.isClass(this._batchId,e)},r.prototype.getExactClassName=function(){return this._content.batchTable.getExactClassName(this._batchId)},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(3),n(15),n(757),n(430),n(431)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e){this._name=e,this._clock=void 0,this._changed=new r,this._error=new r,this._isLoading=!1,this._loading=new r,this._entityCollection=new a(this),this._entityCluster=new o}return t(s.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{get:function(){return this._clock},set:function(e){this._clock!==e&&(this._clock=e,this._changed.raiseEvent(this))}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading},set:function(e){i.setLoading(this,e)}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){this._entityCluster=e}}}),s}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=["image/jpeg","image/gif","image/png","image/svg+xml","image/bmp","image/x-bmp"].reduce(function(e,t){return e[t]=!0,e},{}),i=/[.\/](png|jpg|jpeg|gif|svg)/i,o=function(e,t){this.url=e,this.mimeType=t,this.safeSvgContent=void 0};o.prototype.isImage=function(){return this.mimeType?!!r[this.mimeType]:!!this.url.match(i)},o.prototype.isValid=function(){return this.url&&this.url.length},e.exports=o},function(e,t,n){"use strict";t.a=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(122),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(168),u=n(200),l=n(321),c=n(892),h=n(893),d=n(894),f=n(895),p=n(896),m=n(897),g=n(240),_=n(898),v=n(899),A=n(508),y=n(507),b=n(509),w=n(320),x=n(900),E=n(510),C=n(901),S=n(902),T=n(903),I=n(904),M=n(144),O=n(511),P=n(323),D=["INPUT","TEXTAREA","SELECT"],B=function(){function e(t,n,i,o){var s=this;r(this,e),this.parent=n,this.tagName=t.tagName,this.index=o,this.childNodes=[],this.listItems=[],"number"==typeof t.start&&(this.listStart=t.start);var B=t.ownerDocument.defaultView,N=B.pageXOffset,R=B.pageYOffset,k=B.getComputedStyle(t,null),F=(0,h.parseDisplay)(k.display),U="radio"===t.type||"checkbox"===t.type,z=(0,b.parsePosition)(k.position);if(this.style={background:U?O.INPUT_BACKGROUND:(0,u.parseBackground)(k,i),border:U?O.INPUT_BORDERS:(0,l.parseBorder)(k),borderRadius:(t instanceof B.HTMLInputElement||t instanceof HTMLInputElement)&&U?(0,O.getInputBorderRadius)(t):(0,c.parseBorderRadius)(k),color:U?O.INPUT_COLOR:new a.default(k.color),display:F,float:(0,d.parseCSSFloat)(k.float),font:(0,f.parseFont)(k),letterSpacing:(0,p.parseLetterSpacing)(k.letterSpacing),listStyle:F===h.DISPLAY.LIST_ITEM?(0,g.parseListStyle)(k):null,lineBreak:(0,m.parseLineBreak)(k.lineBreak),margin:(0,_.parseMargin)(k),opacity:parseFloat(k.opacity),overflow:-1===D.indexOf(t.tagName)?(0,v.parseOverflow)(k.overflow):v.OVERFLOW.HIDDEN,overflowWrap:(0,A.parseOverflowWrap)(k.overflowWrap?k.overflowWrap:k.wordWrap),padding:(0,y.parsePadding)(k),position:z,textDecoration:(0,w.parseTextDecoration)(k),textShadow:(0,x.parseTextShadow)(k.textShadow),textTransform:(0,E.parseTextTransform)(k.textTransform),transform:(0,C.parseTransform)(k),visibility:(0,S.parseVisibility)(k.visibility),wordBreak:(0,T.parseWordBreak)(k.wordBreak),zIndex:(0,I.parseZIndex)(z!==b.POSITION.STATIC?k.zIndex:"auto")},this.isTransformed()&&(t.style.transform="matrix(1,0,0,1,0,0)"),F===h.DISPLAY.LIST_ITEM){var j=(0,P.getListOwner)(this);if(j){var H=j.listItems.length;j.listItems.push(this),this.listIndex=t.hasAttribute("value")&&"number"==typeof t.value?t.value:0===H?"number"==typeof j.listStart?j.listStart:1:j.listItems[H-1].listIndex+1}}"IMG"===t.tagName&&t.addEventListener("load",function(){s.bounds=(0,M.parseBounds)(t,N,R),s.curvedBounds=(0,M.parseBoundCurves)(s.bounds,s.style.border,s.style.borderRadius)}),this.image=L(t,i),this.bounds=U?(0,O.reformatInputBounds)((0,M.parseBounds)(t,N,R)):(0,M.parseBounds)(t,N,R),this.curvedBounds=(0,M.parseBoundCurves)(this.bounds,this.style.border,this.style.borderRadius)}return i(e,[{key:"getClipPaths",value:function(){var e=this.parent&&this.parent.parent,t=e?this.parent.getClipPaths():[];return this.style.overflow!==v.OVERFLOW.VISIBLE?t.concat([(0,M.calculatePaddingBoxPath)(this.curvedBounds)]):t}},{key:"isInFlow",value:function(){return this.isRootElement()&&!this.isFloating()&&!this.isAbsolutelyPositioned()}},{key:"isVisible",value:function(){return!(0,s.contains)(this.style.display,h.DISPLAY.NONE)&&this.style.opacity>0&&this.style.visibility===S.VISIBILITY.VISIBLE}},{key:"isAbsolutelyPositioned",value:function(){return this.style.position!==b.POSITION.STATIC&&this.style.position!==b.POSITION.RELATIVE}},{key:"isPositioned",value:function(){return this.style.position!==b.POSITION.STATIC}},{key:"isFloating",value:function(){return this.style.float!==d.FLOAT.NONE}},{key:"isRootElement",value:function(){return null===this.parent}},{key:"isTransformed",value:function(){return null!==this.style.transform}},{key:"isPositionedWithZIndex",value:function(){return this.isPositioned()&&!this.style.zIndex.auto}},{key:"isInlineLevel",value:function(){return(0,s.contains)(this.style.display,h.DISPLAY.INLINE)||(0,s.contains)(this.style.display,h.DISPLAY.INLINE_BLOCK)||(0,s.contains)(this.style.display,h.DISPLAY.INLINE_FLEX)||(0,s.contains)(this.style.display,h.DISPLAY.INLINE_GRID)||(0,s.contains)(this.style.display,h.DISPLAY.INLINE_LIST_ITEM)||(0,s.contains)(this.style.display,h.DISPLAY.INLINE_TABLE)}},{key:"isInlineBlockOrInlineTable",value:function(){return(0,s.contains)(this.style.display,h.DISPLAY.INLINE_BLOCK)||(0,s.contains)(this.style.display,h.DISPLAY.INLINE_TABLE)}}]),e}();t.default=B;var L=function(e,t){if(e instanceof e.ownerDocument.defaultView.SVGSVGElement||e instanceof SVGSVGElement){var n=new XMLSerializer;return t.loadImage("data:image/svg+xml,"+encodeURIComponent(n.serializeToString(e)))}switch(e.tagName){case"IMG":var r=e;return t.loadImage(r.currentSrc||r.src);case"CANVAS":var i=e;return t.loadCanvas(i);case"IFRAME":var o=e.getAttribute("data-html2canvas-internal-iframe-key");if(o)return o}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.contains=function(e,t){return 0!=(e&t)},t.distance=function(e,t){return Math.sqrt(e*e+t*t)},t.copyCSSStyles=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);"content"!==r&&t.style.setProperty(r,e.getPropertyValue(r))}return t},t.SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,n){var r,i;r=[n(17),n(10),n(12),n(0),n(3),n(9)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e){return c[0]=e,c[0]}function s(e){return e>>1^-(1&e)}var u={};u.octEncodeInRange=function(e,t,n){if(n.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),n.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){var r=n.x,i=n.y;n.x=(1-Math.abs(i))*o.signNotZero(r),n.y=(1-Math.abs(r))*o.signNotZero(i)}return n.x=o.toSNorm(n.x,t),n.y=o.toSNorm(n.y,t),n},u.octEncode=function(e,t){return u.octEncodeInRange(e,255,t)};var l=new e,c=new Uint8Array(1);u.octEncodeToCartesian4=function(e,t){return u.octEncodeInRange(e,65535,l),t.x=a(l.x*(1/256)),t.y=a(l.x),t.z=a(l.y*(1/256)),t.w=a(l.y),t},u.octDecodeInRange=function(e,n,r,i){if(i.x=o.fromSNorm(e,r),i.y=o.fromSNorm(n,r),i.z=1-(Math.abs(i.x)+Math.abs(i.y)),i.z<0){var a=i.x;i.x=(1-Math.abs(i.y))*o.signNotZero(a),i.y=(1-Math.abs(a))*o.signNotZero(i.y)}return t.normalize(i,i)},u.octDecode=function(e,t,n){return u.octDecodeInRange(e,t,255,n)},u.octDecodeFromCartesian4=function(e,t){var n=e.x,r=e.y,i=e.z,o=e.w,a=256*n+r,s=256*i+o;return u.octDecodeInRange(a,s,65535,t)},u.octPackFloat=function(e){return 256*e.x+e.y};var h=new e;return u.octEncodeFloat=function(e){return u.octEncode(e,h),u.octPackFloat(h)},u.octDecodeFloat=function(e,t){var n=e/256,r=Math.floor(n),i=256*(n-r);return u.octDecode(r,i,t)},u.octPack=function(e,t,n,r){var i=u.octEncodeFloat(e),o=u.octEncodeFloat(t),a=u.octEncode(n,h);return r.x=65536*a.x+i,r.y=65536*a.y+o,r},u.octUnpack=function(e,t,n,r){var i=e.x/65536,o=Math.floor(i),a=65536*(i-o);i=e.y/65536;var s=Math.floor(i),l=65536*(i-s);u.octDecodeFloat(a,t),u.octDecodeFloat(l,n),u.octDecode(o,s,r)},u.compressTextureCoordinates=function(e){return 4096*(4095*e.x|0)+(4095*e.y|0)},u.decompressTextureCoordinates=function(e,t){var n=e/4096,r=Math.floor(n);return t.x=r/4095,t.y=(e-4096*r)/4095,t},u.zigZagDeltaDecode=function(e,t,n){for(var i=e.length,o=0,a=0,u=0,l=0;l<i;++l)o+=s(e[l]),a+=s(t[l]),e[l]=o,t[l]=a,r(n)&&(u+=s(n[l]),n[l]=u)},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";t.a=function(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)}},function(e,t,n){"use strict";t.a=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}},function(e,t,n){"use strict";function r(e){return i.createIfNeeded(e).fetchText()}var i=n(29);e.exports=r},function(e,t,n){"use strict";var r=n(56),i=n(2),o=n(14),a=n(13),s=function(e){r.call(this,e),this.loadPromise=void 0,this.loadingMessage=void 0,a.track(this,["loadingMessage"])};o(r,s),i(s.prototype,{type:{get:function(){return"result-pending"}},typeName:{get:function(){return"Result Pending"}}}),s.prototype._load=function(){return this.loadPromise},s.prototype.cancel=function(){},s.prototype._enable=function(){},s.prototype._disable=function(){},s.prototype._show=function(){},s.prototype._hide=function(){},e.exports=s},function(e,t,n){var r,i;r=[n(12),n(6),n(9),n(40),n(20)],void 0!==(i=function(e,t,n,r,i){"use strict";var o={X:0,Y:1,Z:2,Y_UP_TO_Z_UP:i.fromRotationTranslation(r.fromRotationX(n.PI_OVER_TWO)),Z_UP_TO_Y_UP:i.fromRotationTranslation(r.fromRotationX(-n.PI_OVER_TWO)),X_UP_TO_Z_UP:i.fromRotationTranslation(r.fromRotationY(-n.PI_OVER_TWO)),Z_UP_TO_X_UP:i.fromRotationTranslation(r.fromRotationY(n.PI_OVER_TWO)),X_UP_TO_Y_UP:i.fromRotationTranslation(r.fromRotationZ(n.PI_OVER_TWO)),Y_UP_TO_X_UP:i.fromRotationTranslation(r.fromRotationZ(-n.PI_OVER_TWO)),fromName:function(e){return o[e]}};return t(o)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(108)],void 0!==(i=function(e,t){"use strict";function n(n,r){return r=e(r,0),t(n,r,Math.min(4,n.length))}return n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(130),n(17),n(41),n(12),n(27),n(25),n(42),n(31),n(1),n(0),n(2),n(94),n(21),n(3),n(9),n(69),n(26),n(61),n(60),n(47),n(91),n(68),n(114),n(52),n(100),n(116),n(102),n(359),n(70),n(602),n(220),n(1253),n(304),n(305)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B){"use strict";function L(e,r,i,o,a){this.featuresLength=r,this._translucentFeaturesLength=0;var s;l(i)&&(s=i.extensions),this._extensions=u(s,{});var c=N(i);this._properties=c,this._batchTableHierarchy=R(this,i,o),this._batchTableBinaryProperties=F(r,c,o),this._showAlphaProperties=void 0,this._batchValues=void 0,this._batchValuesDirty=!1,this._batchTexture=void 0,this._defaultTexture=void 0,this._pickTexture=void 0,this._pickIds=[],this._content=e,this._colorChangedCallback=a;var h,d;if(r>0){var f=Math.min(r,_.maximumTextureSize),p=Math.ceil(r/_.maximumTextureSize),m=1/f,g=.5*m,v=1/p,A=.5*v;h=new t(f,p),d=new n(m,g,v,A)}this._textureDimensions=h,this._textureStep=d}function N(e){var t={};if(!l(e))return t;for(var n in e)e.hasOwnProperty(n)&&"HIERARCHY"!==n&&"extensions"!==n&&"extras"!==n&&(t[n]=i(e[n],!0));return t}function R(e,t,n){if(l(t)){var r=e._extensions["3DTILES_batch_table_hierarchy"],i=t.HIERARCHY;if(l(i)&&(L._deprecationWarning("batchTableHierarchyExtension","The batch table HIERARCHY property has been moved to an extension. Use extensions.3DTILES_batch_table_hierarchy instead."),e._extensions["3DTILES_batch_table_hierarchy"]=i,r=i),l(r))return k(r,n)}}function k(t,n){var r,i,o,c=t.instancesLength,h=t.classes,d=t.classIds,f=t.parentCounts,p=t.parentIds,m=c;l(d.byteOffset)&&(d.componentType=u(d.componentType,s.UNSIGNED_SHORT),d.type=T.SCALAR,o=P(d),d=o.createArrayBufferView(n.buffer,n.byteOffset+d.byteOffset,c));var g;if(l(f))for(l(f.byteOffset)&&(f.componentType=u(f.componentType,s.UNSIGNED_SHORT),f.type=T.SCALAR,o=P(f),f=o.createArrayBufferView(n.buffer,n.byteOffset+f.byteOffset,c)),g=new Uint16Array(c),m=0,r=0;r<c;++r)g[r]=m,m+=f[r];l(p)&&l(p.byteOffset)&&(p.componentType=u(p.componentType,s.UNSIGNED_SHORT),p.type=T.SCALAR,o=P(p),p=o.createArrayBufferView(n.buffer,n.byteOffset+p.byteOffset,m));var _=h.length;for(r=0;r<_;++r){var v=h[r].length,A=h[r].instances,y=F(v,A,n);h[r].instances=a(y,A)}var b=e(new Array(_),0),w=new Uint16Array(c);for(r=0;r<c;++r)i=d[r],w[r]=b[i],++b[i];return{classes:h,classIds:d,classIndexes:w,parentCounts:f,parentIndexes:g,parentIds:p}}function F(e,t,n){var r;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i],a=o.byteOffset;if(l(a)){var s=o.componentType,u=o.type;if(!l(s))throw new g("componentType is required.");if(!l(u))throw new g("type is required.");if(!l(n))throw new g("Property "+i+" requires a batch table binary.");var c=P(o),h=c.componentsPerAttribute,d=c.classType,f=c.createArrayBufferView(n.buffer,n.byteOffset+a,e);l(r)||(r={}),r[i]={typedArray:f,componentCount:h,type:d}}}return r}function U(e){var t=e._textureDimensions;return t.x*t.y*4}function z(t){if(!l(t._batchValues)){var n=U(t),r=new Uint8Array(n);e(r,255),t._batchValues=r}return t._batchValues}function j(t){if(!l(t._showAlphaProperties)){var n=2*t.featuresLength,r=new Uint8Array(n);e(r,255),t._showAlphaProperties=r}return t._showAlphaProperties}function H(e,t){var n=e.typedArray,r=e.componentCount;return 1===r?n[t]:e.type.unpack(n,t*r)}function V(e,t,n){var r=e.typedArray,i=e.componentCount;1===i?r[t]=n:e.type.pack(n,r,t*i)}function Q(e,t,n){var r=e.classIds,i=e.parentCounts,o=e.parentIds,a=e.parentIndexes,s=r.length,u=ge;u.length=Math.max(u.length,s);var c=++ve,h=_e;for(h.length=0,h.push(t);h.length>0;)if(t=h.pop(),u[t]!==c){u[t]=c;var d=n(e,t);if(l(d))return d;for(var f=i[t],p=a[t],m=0;m<f;++m){var g=o[p+m];g!==t&&h.push(g)}}}function G(e,t,n){for(var r=!0;r;){var i=n(e,t);if(l(i))return i;var o=e.parentIds[t];r=o!==t,t=o}}function W(e,t,n){var r=e.parentCounts,i=e.parentIds;return l(i)?l(r)?Q(e,t,n):G(e,t,n):n(e,t)}function q(e,t,n){var r=e._batchTableHierarchy,i=W(r,t,function(e,t){var r=e.classIds[t],i=e.classes[r].instances;if(l(i[n]))return!0});return l(i)}function Y(e,t,n){W(e._batchTableHierarchy,t,function(e,t){var r=e.classIds[t],i=e.classes[r].instances;for(var o in i)i.hasOwnProperty(o)&&-1===n.indexOf(o)&&n.push(o)})}function K(e,t,n){return W(e._batchTableHierarchy,t,function(e,t){var r=e.classIds[t],o=e.classes[r],a=e.classIndexes[t],s=o.instances[n];if(l(s))return l(s.typedArray)?H(s,a):i(s[a],!0)})}function X(e,t,n,r){var o=e._batchTableHierarchy,a=W(o,t,function(e,t){var o=e.classIds[t],a=e.classes[o],s=e.classIndexes[t],u=a.instances[n];if(l(u))return l(u.typedArray)?V(u,s,r):u[s]=i(r,!0),!0});return l(a)}function Z(e){return 1===e._textureDimensions.y?"uniform vec4 tile_textureStep; \nvec2 computeSt(float batchId) \n{ \n    float stepX = tile_textureStep.x; \n    float centerX = tile_textureStep.y; \n    return vec2(centerX + (batchId * stepX), 0.5); \n} \n":"uniform vec4 tile_textureStep; \nuniform vec2 tile_textureDimensions; \nvec2 computeSt(float batchId) \n{ \n    float stepX = tile_textureStep.x; \n    float centerX = tile_textureStep.y; \n    float stepY = tile_textureStep.z; \n    float centerY = tile_textureStep.w; \n    float xId = mod(batchId, tile_textureDimensions.x); \n    float yId = floor(batchId / tile_textureDimensions.x); \n    return vec2(centerX + (xId * stepX), centerY + (yId * stepY)); \n} \n"}function J(e,t){return e=x.replaceMain(e,"tile_main"),t?e+"uniform float tile_colorBlend; \nvoid tile_color(vec4 tile_featureColor) \n{ \n    tile_main(); \n    gl_FragColor.a *= tile_featureColor.a; \n    float highlight = ceil(tile_colorBlend); \n    gl_FragColor.rgb *= mix(tile_featureColor.rgb, vec3(1.0), highlight); \n} \n":e+"void tile_color(vec4 tile_featureColor) \n{ \n    tile_main(); \n} \n"}function $(e,t){for(var n,r="texture2D("+t,i=0,o=e.indexOf(r,i);o>-1;){for(var a=0,s=o;s<e.length;++s){var u=e.charAt(s);if("("===u)++a;else if(")"===u&&0===--a){n=s+1;break}}var l=e.slice(o,n),c="tile_diffuse_final("+l+", tile_diffuse)";e=e.slice(0,o)+c+e.slice(n),i=o+c.length,o=e.indexOf(r,i)}return e}function ee(e,t,n){if(!l(t))return J(e,n);var r=new RegExp("(uniform|attribute|in)\\s+(vec[34]|sampler2D)\\s+"+t+";"),i=e.match(r);if(!l(i))return J(e,n);var o=i[0],a=i[2];e=x.replaceMain(e,"tile_main"),e=e.replace(o,"");var s;if("vec3"===a||"vec4"===a){var u="vec3"===a?"vec4("+t+", 1.0)":t,c="vec3"===a?"tile_diffuse.xyz":"tile_diffuse";r=new RegExp(t,"g"),e=e.replace(r,c),s="    vec4 source = "+u+"; \n    tile_diffuse = tile_diffuse_final(source, tile_featureColor); \n    tile_main(); \n"}else"sampler2D"===a&&(e=$(e,t),s="    tile_diffuse = tile_featureColor; \n    tile_main(); \n");return e="uniform float tile_colorBlend; \nvec4 tile_diffuse = vec4(1.0); \nbool isWhite(vec3 color) \n{ \n    return all(greaterThan(color, vec3(1.0 - czm_epsilon3))); \n} \nvec4 tile_diffuse_final(vec4 sourceDiffuse, vec4 tileDiffuse) \n{ \n    vec4 blendDiffuse = mix(sourceDiffuse, tileDiffuse, tile_colorBlend); \n    vec4 diffuse = isWhite(tileDiffuse.rgb) ? sourceDiffuse : blendDiffuse; \n    return vec4(diffuse.rgb, sourceDiffuse.a); \n} \n"+o+"\n"+e+"\nvoid tile_color(vec4 tile_featureColor) \n{ \n"+s,n&&(e+="    gl_FragColor.a *= tile_featureColor.a; \n    float highlight = ceil(tile_colorBlend); \n    gl_FragColor.rgb *= mix(tile_featureColor.rgb, vec3(1.0), highlight); \n"),e+="} \n"}function te(e){var t=e._content.tileset,n=t.colorBlendMode,r=t.colorBlendAmount;return n===M.HIGHLIGHT?0:n===M.REPLACE?1:n===M.MIX?p.clamp(r,p.EPSILON4,1):void 0}function ne(e){var t=e._translucentFeaturesLength;return 0===t?Ae.ALL_OPAQUE:t===e.featuresLength?Ae.ALL_TRANSLUCENT:Ae.OPAQUE_AND_TRANSLUCENT}function re(e){var t=v.shallowClone(e),n=t.pass===A.TRANSLUCENT;return t.uniformMap=l(t.uniformMap)?t.uniformMap:{},t.uniformMap.tile_translucentCommand=function(){return n},t}function ie(e){var t=v.shallowClone(e);return t.pass=A.TRANSLUCENT,t.renderState=le(e.renderState),t}function oe(e,t){var n=e.shaderCache.getDerivedShaderProgram(t,"zBackfaceLogDepth");if(!l(n)){var r=t.fragmentShaderSource.clone();r.defines=l(r.defines)?r.defines.slice(0):[],r.defines.push("DISABLE_LOG_DEPTH_FRAGMENT_WRITE"),n=e.shaderCache.createDerivedShaderProgram(t,"zBackfaceLogDepth",{vertexShaderSource:t.vertexShaderSource,fragmentShaderSource:r,attributeLocations:t._attributeLocations})}return n}function ae(e,t){var n=v.shallowClone(t),r=i(n.renderState,!0);return r.cull.enabled=!0,r.cull.face=O.FRONT,r.colorMask={red:!1,green:!1,blue:!1,alpha:!1},r.polygonOffset={enabled:!0,factor:5,units:5},n.renderState=b.fromCache(r),n.castShadows=!1,n.receiveShadows=!1,n.shaderProgram=oe(e,t.shaderProgram),n}function se(e,t){var n=e;if(e.renderState.depthMask){n=v.shallowClone(e);var r=i(n.renderState,!0);r.stencilTest.enabled=!0,r.stencilTest.mask=240,r.stencilTest.reference=t<<4,r.stencilTest.frontFunction=D.GREATER_OR_EQUAL,r.stencilTest.frontOperation.zPass=B.REPLACE,n.renderState=b.fromCache(r)}return n}function ue(e){return e.renderState.stencilTest.reference>>>4}function le(e){var t=i(e,!0);return t.cull.enabled=!1,t.depthTest.enabled=!0,t.depthMask=!1,t.blending=I.ALPHA_BLEND,b.fromCache(t)}function ce(e,t,n){var r=e._textureDimensions;return new E({context:t,pixelFormat:m.RGBA,pixelDatatype:y.UNSIGNED_BYTE,source:{width:r.x,height:r.y,arrayBufferView:n},flipY:!1,sampler:new w({minificationFilter:S.NEAREST,magnificationFilter:C.NEAREST})})}function he(e,t){var n=e.featuresLength;if(!l(e._pickTexture)&&n>0){for(var r=e._pickIds,i=U(e),a=new Uint8Array(i),s=e._content,u=0;u<n;++u){var c=t.createPickId(s.getFeature(u));r.push(c);var h=c.color,d=4*u;a[d]=o.floatToByte(h.red),a[d+1]=o.floatToByte(h.green),a[d+2]=o.floatToByte(h.blue),a[d+3]=o.floatToByte(h.alpha)}e._pickTexture=ce(e,t,a),s.tileset._statistics.batchTableByteLength+=e._pickTexture.sizeInBytes}}function de(e){var t=e._textureDimensions;e._batchTexture.copyFrom({width:t.x,height:t.y,arrayBufferView:e._batchValues})}var fe=o.WHITE;L._deprecationWarning=h,c(L.prototype,{memorySizeInBytes:{get:function(){var e=0;return l(this._pickTexture)&&(e+=this._pickTexture.sizeInBytes),l(this._batchTexture)&&(e+=this._batchTexture.sizeInBytes),e}}}),L.getBinaryProperties=function(e,t,n){return F(e,t,n)},L.prototype.setShow=function(e,t){if(!t||l(this._showAlphaProperties)){var n=j(this),r=2*e,i=t?255:0;if(n[r]!==i){n[r]=i;z(this)[4*e+3]=t?n[r+1]:0,this._batchValuesDirty=!0}}},L.prototype.setAllShow=function(e){for(var t=this.featuresLength,n=0;n<t;++n)this.setShow(n,e)},L.prototype.getShow=function(e){if(!l(this._showAlphaProperties))return!0;var t=2*e;return 255===this._showAlphaProperties[t]};var pe=new Array(4);L.prototype.setColor=function(e,t){if(!o.equals(t,fe)||l(this._batchValues)){var n=t.toBytes(pe),r=n[3],i=z(this),a=4*e,s=j(this),u=2*e;if(i[a]!==n[0]||i[a+1]!==n[1]||i[a+2]!==n[2]||s[u+1]!==r){i[a]=n[0],i[a+1]=n[1],i[a+2]=n[2];var c=255!==s[u+1],h=0!==s[u];i[a+3]=h?r:0,s[u+1]=r;var d=255!==r;d&&!c?++this._translucentFeaturesLength:!d&&c&&--this._translucentFeaturesLength,this._batchValuesDirty=!0,l(this._colorChangedCallback)&&this._colorChangedCallback(e,t)}}},L.prototype.setAllColor=function(e){for(var t=this.featuresLength,n=0;n<t;++n)this.setColor(n,e)},L.prototype.getColor=function(e,t){if(!l(this._batchValues))return o.clone(fe,t);var n=this._batchValues,r=4*e,i=this._showAlphaProperties,a=2*e;return o.fromBytes(n[r],n[r+1],n[r+2],i[a+1],t)},L.prototype.getPickColor=function(e){return this._pickIds[e]};var me=new o;L.prototype.applyStyle=function(e){if(!l(e))return this.setAllColor(fe),void this.setAllShow(!0);for(var t=this._content,n=this.featuresLength,r=0;r<n;++r){var i=t.getFeature(r),o=l(e.color)?e.color.evaluateColor(i,me):fe,a=!l(e.show)||e.show.evaluate(i);this.setColor(r,o),this.setShow(r,a)}};var ge=[],_e=[],ve=0;L.prototype.isClass=function(e,t){var n=this._batchTableHierarchy;if(!l(n))return!1;var r=W(n,e,function(e,n){var r=e.classIds[n];if(e.classes[r].name===t)return!0});return l(r)},L.prototype.isExactClass=function(e,t){return this.getExactClassName(e)===t},L.prototype.getExactClassName=function(e){var t=this._batchTableHierarchy;if(l(t)){var n=t.classIds[e];return t.classes[n].name}},L.prototype.hasProperty=function(e,t){return l(this._properties[t])||l(this._batchTableHierarchy)&&q(this,e,t)},L.prototype.getPropertyNames=function(e,t){t=l(t)?t:[],t.length=0;var n=Object.keys(this._properties);return t.push.apply(t,n),l(this._batchTableHierarchy)&&Y(this,e,t),t},L.prototype.getProperty=function(e,t){if(l(this._batchTableBinaryProperties)){var n=this._batchTableBinaryProperties[t];if(l(n))return H(n,e)}var r=this._properties[t];if(l(r))return i(r[e],!0);if(l(this._batchTableHierarchy)){var o=K(this,e,t);if(l(o))return o}},L.prototype.setProperty=function(e,t,n){var r=this.featuresLength;if(l(this._batchTableBinaryProperties)){var o=this._batchTableBinaryProperties[t];if(l(o))return void V(o,e,n)}if(!l(this._batchTableHierarchy)||!X(this,e,t,n)){var a=this._properties[t];l(a)||(this._properties[t]=new Array(r),a=this._properties[t]),a[e]=i(n,!0)}},L.prototype.getVertexShaderCallback=function(e,t,n){if(0!==this.featuresLength){var r=this;return function(i){var o,a=ee(i,n,!1);return _.maximumVertexTextureImageUnits>0?(o="",e&&(o+="uniform bool tile_translucentCommand; \n"),o+="uniform sampler2D tile_batchTexture; \nvarying vec4 tile_featureColor; \nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    vec2 st = computeSt("+t+"); \n    vec4 featureProperties = texture2D(tile_batchTexture, st); \n    tile_color(featureProperties); \n    float show = ceil(featureProperties.a); \n    gl_Position *= show; \n",e&&(o+="    bool isStyleTranslucent = (featureProperties.a != 1.0); \n    if (czm_pass == czm_passTranslucent) \n    { \n        if (!isStyleTranslucent && !tile_translucentCommand) \n        { \n            gl_Position *= 0.0; \n        } \n    } \n    else \n    { \n        if (isStyleTranslucent) \n        { \n            gl_Position *= 0.0; \n        } \n    } \n"),o+="    tile_featureColor = featureProperties; \n    tile_featureSt = st; \n}"):o="varying vec2 tile_featureSt; \nvoid main() \n{ \n    tile_color(vec4(1.0)); \n    tile_featureSt = computeSt("+t+"); \n}",a+"\n"+Z(r)+o}}},L.prototype.getFragmentShaderCallback=function(e,t){if(0!==this.featuresLength)return function(n){return n=ee(n,t,!0),_.maximumVertexTextureImageUnits>0?n+="uniform sampler2D tile_pickTexture; \nvarying vec2 tile_featureSt; \nvarying vec4 tile_featureColor; \nvoid main() \n{ \n    tile_color(tile_featureColor); \n}":(e&&(n+="uniform bool tile_translucentCommand; \n"),n+="uniform sampler2D tile_pickTexture; \nuniform sampler2D tile_batchTexture; \nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    vec4 featureProperties = texture2D(tile_batchTexture, tile_featureSt); \n    if (featureProperties.a == 0.0) { \n        discard; \n    } \n",e&&(n+="    bool isStyleTranslucent = (featureProperties.a != 1.0); \n    if (czm_pass == czm_passTranslucent) \n    { \n        if (!isStyleTranslucent && !tile_translucentCommand) \n        { \n            discard; \n        } \n    } \n    else \n    { \n        if (isStyleTranslucent) \n        { \n            discard; \n        } \n    } \n"),n+="    tile_color(featureProperties); \n} \n"),n}},L.prototype.getClassificationFragmentShaderCallback=function(){if(0!==this.featuresLength)return function(e){return e=x.replaceMain(e,"tile_main"),_.maximumVertexTextureImageUnits>0?e+="uniform sampler2D tile_pickTexture;\nvarying vec2 tile_featureSt; \nvarying vec4 tile_featureColor; \nvoid main() \n{ \n    tile_main(); \n    gl_FragColor = tile_featureColor; \n}":e+="uniform sampler2D tile_batchTexture; \nuniform sampler2D tile_pickTexture;\nvarying vec2 tile_featureSt; \nvoid main() \n{ \n    tile_main(); \n    vec4 featureProperties = texture2D(tile_batchTexture, tile_featureSt); \n    if (featureProperties.a == 0.0) { \n        discard; \n    } \n    gl_FragColor = featureProperties; \n} \n",e}},L.prototype.getUniformMapCallback=function(){if(0!==this.featuresLength){var e=this;return function(t){return a(t,{tile_batchTexture:function(){return u(e._batchTexture,e._defaultTexture)},tile_textureDimensions:function(){return e._textureDimensions},tile_textureStep:function(){return e._textureStep},tile_colorBlend:function(){return te(e)},tile_pickTexture:function(){return e._pickTexture}})}}},L.prototype.getPickId=function(){return"texture2D(tile_pickTexture, tile_featureSt)"};var Ae={ALL_OPAQUE:0,ALL_TRANSLUCENT:1,OPAQUE_AND_TRANSLUCENT:2};return L.prototype.addDerivedCommands=function(e,t){for(var n=e.commandList,r=n.length,i=this._content._tile,o=i._finalResolution,a=i.tileset,s=a._skipLevelOfDetail&&a._hasMixedContent&&e.context.stencilBuffer,u=ne(this),c=t;c<r;++c){var h=n[c],d=h.derivedCommands.tileset;l(d)&&!h.dirty||(d={},h.derivedCommands.tileset=d,d.originalCommand=re(h),h.dirty=!1),u!==Ae.ALL_OPAQUE&&(l(d.translucent)||(d.translucent=ie(d.originalCommand))),s&&(h.pass===A.TRANSLUCENT||o||(l(d.zback)||(d.zback=ae(e.context,d.originalCommand)),a._backfaceCommands.push(d.zback)),l(d.stencil)&&i._selectionDepth===ue(d.stencil)||(d.stencil=se(d.originalCommand,i._selectionDepth)));var f=s?d.stencil:d.originalCommand,p=d.translucent;h.pass!==A.TRANSLUCENT?(u===Ae.ALL_OPAQUE&&(n[c]=f),u===Ae.ALL_TRANSLUCENT&&(n[c]=p),u===Ae.OPAQUE_AND_TRANSLUCENT&&(n[c]=f,n.push(p))):n[c]=f}},L.prototype.update=function(e,t){var n=t.context;this._defaultTexture=n.defaultTexture;var r=t.passes;(r.pick||r.postProcess)&&he(this,n),this._batchValuesDirty&&(this._batchValuesDirty=!1,l(this._batchTexture)||(this._batchTexture=ce(this,n,this._batchValues),e._statistics.batchTableByteLength+=this._batchTexture.sizeInBytes),de(this))},L.prototype.isDestroyed=function(){return!1},L.prototype.destroy=function(){this._batchTexture=this._batchTexture&&this._batchTexture.destroy(),this._pickTexture=this._pickTexture&&this._pickTexture.destroy();for(var e=this._pickIds,t=e.length,n=0;n<t;++n)e[n].destroy();return d(this)},L}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";function t(t,n){return e(t.extensionsUsed)&&t.extensionsUsed.indexOf(n)>=0}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(38),n(17),n(10),n(41),n(27),n(0),n(2),n(120),n(40),n(20),n(59),n(26),n(34),n(52),n(109),n(57),n(177),n(359),n(174)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v){"use strict";function A(e,t){return m.techniqueAttribute(e,function(e,n){if(e.semantic===t)return n})}function y(e,t){var n=e.accessors,r=e.materials,i=e.extensions.KHR_techniques_webgl,a=i.techniques,s=i.programs,u=i.shaders,l=t.targets,c=t.attributes;for(var h in l)if(l.hasOwnProperty(h)){var d=l[h];for(var f in d)"extras"!==f&&(c[f+"_"+h]=d[f])}var p=r[t.material],m=a[p.extensions.KHR_techniques_webgl.technique],g=s[m.program],_=u[g.vertexShader];for(var v in c)if(c.hasOwnProperty(v)&&!o(A(m,v))){var y=c[v],b=n[y],w=v.toLowerCase();"_"===w.charAt(0)&&(w=w.slice(1));var x="a_"+w;m.attributes[x]={semantic:v,type:b.componentType};var E=_.extras._pipeline,C=E.source;C="attribute "+R.getShaderVariable(b.type)+" "+x+";\n"+C,E.source=C}}function b(e,t,n,r){return g(e,"KHR_techniques_webgl")?function(e,t){if(!(e.semantic!==n||r&&o(e.node)))return t}:function(e,i){var a=t.parameters[e];if(!(a.semantic!==n||r&&o(a.node)))return i}}function w(e,t,n){t+="(?!\\w)",t=new RegExp(t,"g");var r=e.search(t);return e.replace(t,function(e,t){return r===t?e:n})}function x(e,t){var n=e.accessors[t],r=n.extensions;if(o(r))return r.WEB3D_quantized_attributes}function E(e,t,n){var r=t.material,i=e.materials[r];if(g(e,"KHR_techniques_webgl")&&o(i.extensions)&&o(i.extensions.KHR_techniques_webgl)){var a=i.extensions.KHR_techniques_webgl.technique,s=e.extensions.KHR_techniques_webgl,u=s.techniques[a];return m.techniqueAttribute(u,function(e,t){if(e.semantic===n)return t})}}function C(e){var t={value:e,clone:function(e,t){return e},func:function(){return t.value}};return t}function S(e){var n={value:t.fromArray(e),clone:t.clone,func:function(){return n.value}};return n}function T(e){var t={value:n.fromArray(e),clone:n.clone,func:function(){return t.value}};return t}function I(e){var t={value:r.fromArray(e),clone:r.clone,func:function(){return t.value}};return t}function M(e){var t={value:s.fromColumnMajorArray(e),clone:s.clone,func:function(){return t.value}};return t}function O(e){var t={value:u.fromColumnMajorArray(e),clone:u.clone,func:function(){return t.value}};return t}function P(e){var t={value:l.fromColumnMajorArray(e),clone:l.clone,func:function(){return t.value}};return t}function D(e,t,n){this._value=void 0,this._textureId=e.index,this._textures=t,this._defaultTexture=n}function B(e,t,n){var r=new D(e,t,n);return r.func=function(){return r.value},r}function L(e){return[e[0],e[1],e[2],e[3],e[5],e[6],e[7],e[8],e[10],e[11],e[12],e[13],e[15],e[16],e[17],e[18]]}function N(e){return[e[20],e[21],e[22],e[23]]}var R={};R.updateForwardAxis=function(e){var t=e.gltf.extras.sourceVersion;(o(t)&&"2.0"!==t||"2.0"!==R.getAssetVersion(e.gltf))&&(e._gltfForwardAxis=v.X)},R.getAssetVersion=function(e){return o(e.asset)&&o(e.asset.version)?e.asset.version:"1.0"},R.splitIncompatibleMaterials=function(e){var t=e.accessors,n=e.materials,r={};return m.mesh(e,function(e){m.meshPrimitive(e,function(e){var a,s,u=e.material,l=n[u],c=e.attributes.JOINTS_0;if(o(c)){var h=t[c];a=h.componentType,s=h.type}var d=o(c),f=o(e.attributes.COLOR_0),m=o(e.targets),g=o(e.attributes.NORMAL),_=o(e.attributes.TANGENT),v=o(e.attributes.TEXCOORD_0),A=r[u];if(o(A)){if(A.skinning.skinned!==d||A.skinning.type!==s||A.hasVertexColors!==f||A.hasMorphTargets!==m||A.hasNormals!==g||A.hasTangents!==_||A.hasTexCoords!==v){var y=i(l,!0);u=p(n,y),e.material=u,r[u]={skinning:{skinned:d,componentType:a,type:s},hasVertexColors:f,hasMorphTargets:m,hasNormals:g,hasTangents:_,hasTexCoords:v}}}else r[u]={skinning:{skinned:d,componentType:a,type:s},hasVertexColors:f,hasMorphTargets:m,hasNormals:g,hasTangents:_,hasTexCoords:v}})}),r},R.getShaderVariable=function(e){return"SCALAR"===e?"float":e.toLowerCase()},R.ModelState={NEEDS_LOAD:0,LOADING:1,LOADED:2,FAILED:3},R.getFailedLoadFunction=function(e,t,n){return function(r){e._state=R.ModelState.FAILED;var i="Failed to load "+t+": "+n;o(r)&&(i+="\n"+r.message),e._readyPromise.reject(new h(i))}},R.parseBuffers=function(e,t){var n=e._loadResources;m.buffer(e.gltf,function(r,i){if(o(r.extras._pipeline.source))n.buffers[i]=r.extras._pipeline.source;else if(o(t)){var a=e._resource.getDerivedResource({url:r.uri});++n.pendingBufferLoads,a.fetchArrayBuffer().then(t(e,i)).otherwise(R.getFailedLoadFunction(e,"buffer",a.url))}})};var k=new n,F=new n;R.computeBoundingSphere=function(t){for(var r=t.gltf,i=r.nodes,a=r.meshes,s=r.scenes[r.scene].nodes,u=s.length,c=[],h=new n(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),d=new n(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),f=0;f<u;++f){var p=i[s[f]];for(p._transformToRoot=R.getTransform(p),c.push(p);c.length>0;){p=c.pop();var m=p._transformToRoot,g=p.mesh;if(o(g))for(var _=a[g],A=_.primitives,y=A.length,b=0;b<y;++b){var w=A[b].attributes.POSITION;if(o(w)){var x=R.getAccessorMinMax(r,w),E=n.fromArray(x.min,0,k),C=n.fromArray(x.max,0,F);o(h)&&o(d)&&(l.multiplyByPoint(m,E,E),l.multiplyByPoint(m,C,C),n.minimumByComponent(h,E,h),n.maximumByComponent(d,C,d))}}var S=p.children;if(o(S))for(var T=S.length,I=0;I<T;++I){var M=i[S[I]];M._transformToRoot=R.getTransform(M),l.multiplyTransformation(m,M._transformToRoot,M._transformToRoot),c.push(M)}delete p._transformToRoot}}var O=e.fromCornerPoints(h,d);return t._forwardAxis===v.Z&&e.transformWithoutScale(O,v.Z_UP_TO_X_UP,O),t._upAxis===v.Y?e.transformWithoutScale(O,v.Y_UP_TO_Z_UP,O):t._upAxis===v.X&&e.transformWithoutScale(O,v.X_UP_TO_Z_UP,O),O},R.ensureSemanticExistence=function(e){return m.mesh(e,function(t){m.meshPrimitive(t,function(t){y(e,t)})}),e},R.createAttributeLocations=function(e,t){var n={},r=!1,i=1;if(m.techniqueAttribute(e,function(e,t){/pos/i.test(t)&&!r?(n[t]=0,r=!0):n[t]=i++}),o(t))for(var a in t)t.hasOwnProperty(a)&&(n[a]=i++);return n},R.getAccessorMinMax=function(e,t){var n=e.accessors[t],r=n.extensions,i=n.min,a=n.max;if(o(r)){var s=r.WEB3D_quantized_attributes;o(s)&&(i=s.decodedMin,a=s.decodedMax)}return{min:i,max:a}},R.getAttributeOrUniformBySemantic=function(e,t,n,r){return m.technique(e,function(i){if(!o(n)||i.program===n){var a=m.techniqueAttribute(i,b(e,i,t,r));return o(a)?a:m.techniqueUniform(i,b(e,i,t,r))}})},R.getDiffuseAttributeOrUniform=function(e,t){var n=R.getAttributeOrUniformBySemantic(e,"COLOR_0",t);return o(n)||(n=R.getAttributeOrUniformBySemantic(e,"_3DTILESDIFFUSE",t)),n};var U=new n,z=new c,j=new n;R.getTransform=function(e,t){return o(e.matrix)?l.fromColumnMajorArray(e.matrix,t):l.fromTranslationQuaternionRotationScale(n.fromArray(e.translation,0,U),c.unpack(e.rotation,0,z),n.fromArray(e.scale,0,j),t)},R.getUsedExtensions=function(e){var t=e.extensionsUsed,n={};if(o(t))for(var r=t.length,i=0;i<r;i++){var a=t[i];n[a]=!0}return n},R.getRequiredExtensions=function(e){var t=e.extensionsRequired,n={};if(o(t))for(var r=t.length,i=0;i<r;i++){var a=t[i];n[a]=!0}return n},R.supportedExtensions={CESIUM_RTC:!0,KHR_blend:!0,KHR_binary_glTF:!0,KHR_draco_mesh_compression:!0,KHR_materials_common:!0,KHR_techniques_webgl:!0,KHR_materials_unlit:!0,KHR_materials_pbrSpecularGlossiness:!0,WEB3D_quantized_attributes:!0},R.checkSupportedExtensions=function(e){for(var t in e)if(e.hasOwnProperty(t)&&!R.supportedExtensions[t])throw new h("Unsupported glTF Extension: "+t)},R.checkSupportedGlExtensions=function(e,t){if(o(e))for(var n=e.length,r=0;r<n;r++){var i=e[r];if("OES_element_index_uint"!==i)throw new h("Unsupported WebGL Extension: "+i);if(!t.elementIndexUint)throw new h("OES_element_index_uint WebGL extension is not enabled.")}},R.modifyShaderForDracoQuantizedAttributes=function(e,t,n,r){var i={};for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=s.quantization;if(!o(u))continue;var l=E(e,t,a);"_"===a.charAt(0)&&(a=a.substring(1));var c="gltf_u_dec_"+a.toLowerCase();if(!o(i[c])){var h="gltf_decoded_"+a,d=l.replace("a_","gltf_a_dec_"),p=s.componentsPerAttribute;n=w(n,l,d);var m;m=u.octEncoded?"vec3":p>1?"vec"+p:"float",n=m+" "+d+";\n"+n;var g="";if(u.octEncoded){var _=c+"_rangeConstant";n="uniform float "+_+";\n"+n,g="\nvoid main() {\n    "+d+" = czm_octDecode("+l+".xy, "+_+").zxy;\n    "+h+"();\n}\n"}else{var v=c+"_normConstant",A=c+"_min";n="uniform float "+v+";\nuniform "+m+" "+A+";\n"+n,g="\nvoid main() {\n    "+d+" = "+A+" + "+l+" * "+v+";\n    "+h+"();\n}\n"}n=f.replaceMain(n,h),n+=g}}return{shader:n}},R.modifyShaderForQuantizedAttributes=function(e,t,n){var r={},i=t.attributes;for(var a in i)if(i.hasOwnProperty(a)){var s=E(e,t,a),u=t.attributes[a];"_"===a.charAt(0)&&(a=a.substring(1));var l="gltf_u_dec_"+a.toLowerCase(),c=l+"_scale",h=l+"_translate";if(!o(r[l])&&!o(r[c])){var d=x(e,u);if(o(d)){var p=d.decodeMatrix,m="gltf_decoded_"+a,g=s.replace("a_","gltf_a_dec_"),_=Math.floor(Math.sqrt(p.length));n=w(n,s,g);var v;v=_>2?"vec"+(_-1):"float",n=v+" "+g+";\n"+n;var A="";5===_?(n="uniform mat4 "+c+";\n"+n,n="uniform vec4 "+h+";\n"+n,A="\nvoid main() {\n    "+g+" = "+c+" * "+s+" + "+h+";\n    "+m+"();\n}\n",r[c]={mat:4},r[h]={vec:4}):(n="uniform mat"+_+" "+l+";\n"+n,A="\nvoid main() {\n    "+g+" = "+v+"("+l+" * vec"+_+"("+s+",1.0));\n    "+m+"();\n}\n",r[l]={mat:_}),n=f.replaceMain(n,m),n+=A}}}return{shader:n,uniforms:r}},R.toClipCoordinatesGLSL=function(e,t){var n=R.getAttributeOrUniformBySemantic(e,"POSITION"),r=n.replace("a_","gltf_a_dec_");-1!==t.indexOf(r)&&(n=r);var i=R.getAttributeOrUniformBySemantic(e,"MODELVIEWPROJECTION",void 0,!0);if(!o(i)||-1===t.indexOf(i)){var a=R.getAttributeOrUniformBySemantic(e,"PROJECTION",void 0,!0),s=R.getAttributeOrUniformBySemantic(e,"MODELVIEW",void 0,!0);-1!==t.indexOf("czm_instanced_modelView ")?s="czm_instanced_modelView":o(s)||(s=R.getAttributeOrUniformBySemantic(e,"CESIUM_RTC_MODELVIEW",void 0,!0)),i=a+" * "+s}return i+" * vec4("+n+".xyz, 1.0)"},R.modifyFragmentShaderForLogDepth=function(e){return e=f.replaceMain(e,"czm_depth_main"),e+="\nvoid main() \n{ \n    czm_depth_main(); \n    czm_writeLogDepth(); \n} \n"},R.modifyVertexShaderForLogDepth=function(e,t){return e=f.replaceMain(e,"czm_depth_main"),e+="\nvoid main() \n{ \n    czm_depth_main(); \n    czm_vertexLogDepth("+t+"); \n} \n"},a(D.prototype,{value:{get:function(){if(!o(this._value)){var e=this._textures[this._textureId];if(!o(e))return this._defaultTexture;this._value=e}return this._value},set:function(e){this._value=e}}}),D.prototype.clone=function(e){return e},D.prototype.func=void 0;var H={};H[d.FLOAT]=C,H[d.FLOAT_VEC2]=S,H[d.FLOAT_VEC3]=T,H[d.FLOAT_VEC4]=I,H[d.INT]=C,H[d.INT_VEC2]=S,H[d.INT_VEC3]=T,H[d.INT_VEC4]=I,H[d.BOOL]=C,H[d.BOOL_VEC2]=S,H[d.BOOL_VEC3]=T,H[d.BOOL_VEC4]=I,H[d.FLOAT_MAT2]=M,H[d.FLOAT_MAT3]=O,H[d.FLOAT_MAT4]=P,H[d.SAMPLER_2D]=B,R.createUniformFunction=function(e,t,n,r){return H[e](t,n,r)},R.createUniformsForDracoQuantizedAttributes=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],i=r.quantization;if(!o(i))continue;"_"===n.charAt(0)&&(n=n.substring(1));var a="gltf_u_dec_"+n.toLowerCase();if(i.octEncoded){var s=a+"_rangeConstant",u=(1<<i.quantizationBits)-1;t[s]=C(u).func;continue}var l=a+"_normConstant",c=i.range/(1<<i.quantizationBits);t[l]=C(c).func;var h=a+"_min";switch(r.componentsPerAttribute){case 1:t[h]=C(i.minValues).func;break;case 2:t[h]=S(i.minValues).func;break;case 3:t[h]=T(i.minValues).func;break;case 4:t[h]=I(i.minValues).func}}return t},R.createUniformsForQuantizedAttributes=function(e,t,n){var r=e.accessors,i={},a={},c=t.attributes;for(var h in c)if(c.hasOwnProperty(h)){var d=c[h],f=r[d],p=f.extensions;if("_"===h.charAt(0)&&(h=h.substring(1)),o(p)){var m=p.WEB3D_quantized_attributes;if(o(m)){var g=m.decodeMatrix,v="gltf_u_dec_"+h.toLowerCase();switch(f.type){case _.SCALAR:a[v]=M(g).func,i[v]=!0;break;case _.VEC2:a[v]=O(g).func,i[v]=!0;break;case _.VEC3:a[v]=P(g).func,i[v]=!0;break;case _.VEC4:var A=v+"_scale",y=v+"_translate";a[A]=P(L(g)).func,a[y]=I(N(g)).func,i[A]=!0,i[y]=!0}}}}for(var b in n)if(n.hasOwnProperty(b)&&!i[b]){var w=n[b];o(w.mat)&&(2===w.mat?a[b]=M(s.IDENTITY).func:3===w.mat?a[b]=O(u.IDENTITY).func:4===w.mat&&(a[b]=P(l.IDENTITY).func)),o(w.vec)&&4===w.vec&&(a[b]=I([0,0,0,0]).func)}return a};var V=new n,Q={MODEL:function(e,t){return function(){return e.model}},VIEW:function(e,t){return function(){return e.view}},PROJECTION:function(e,t){return function(){return e.projection}},MODELVIEW:function(e,t){return function(){return e.modelView}},CESIUM_RTC_MODELVIEW:function(e,t){var r=new l;return function(){return o(t._rtcCenter)?(l.getTranslation(e.model,V),n.add(V,t._rtcCenter,V),l.multiplyByPoint(e.view,V,V),l.setTranslation(e.modelView,V,r)):e.modelView}},MODELVIEWPROJECTION:function(e,t){return function(){return e.modelViewProjection}},MODELINVERSE:function(e,t){return function(){return e.inverseModel}},VIEWINVERSE:function(e,t){return function(){return e.inverseView}},PROJECTIONINVERSE:function(e,t){return function(){return e.inverseProjection}},MODELVIEWINVERSE:function(e,t){return function(){return e.inverseModelView}},MODELVIEWPROJECTIONINVERSE:function(e,t){return function(){return e.inverseModelViewProjection}},MODELINVERSETRANSPOSE:function(e,t){return function(){return e.inverseTransposeModel}},MODELVIEWINVERSETRANSPOSE:function(e,t){return function(){return e.normal}},VIEWPORT:function(e,t){return function(){return e.viewportCartesian4}}};return R.getGltfSemanticUniforms=function(){return Q},R}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e,t){return function(n){return e+n*t}}function i(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function o(e,t){var n=t-e;return n?r(e,n>180||n<-180?n-360*Math.round(n/360):n):Object(u.a)(isNaN(e)?t:e)}function a(e){return 1==(e=+e)?s:function(t,n){return n-t?i(t,n,e):Object(u.a)(isNaN(t)?n:t)}}function s(e,t){var n=t-e;return n?r(e,n):Object(u.a)(isNaN(e)?t:e)}t.c=o,t.b=a,t.a=s;var u=n(667)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){e.locationMarker||(e.locationMarker=new l.default(I)),e.dataSources.contains(e.locationMarker)||e.dataSources.add(e.locationMarker),e.locationMarker.entities.removeAll();var n=_.default.fromDegrees(t.location.longitude,t.location.latitude),r=(0,C.default)(t.location.longitude,t.location.latitude,{digits:5}),i=new f.default({name:t.name,position:m.default.WGS84.cartographicToCartesian(n),description:"<table><tr><td>Lat / Lon</td><td>"+r.latitude+", "+r.longitude+"</td></tr></table>",billboard:{image:T.default,scale:.5,eyeOffset:new A.default(0,0,50),verticalOrigin:b.default.BOTTOM}});e.cesium&&e.cesium.scene&&e.cesium.scene.globe&&e.cesium.scene.globe.terrainProvider&&o(i,n,e.cesium.scene.globe.terrainProvider,15),e.locationMarker.entities.add(i)}function o(e,t,n,r){(0,x.default)(n,r,[t]).then(function(i){void 0!==i[0].height?e.position=m.default.WGS84.cartographicToCartesian(i[0]):r>0&&o(e,t,n,r-1)})}function a(e){e.dataSources.remove(e.locationMarker),e.locationMarker=void 0}function s(e){return(0,h.default)(e.locationMarker)}Object.defineProperty(t,"__esModule",{value:!0}),t.LOCATION_MARKER_DATA_SOURCE_NAME=void 0,t.addMarker=i,t.removeMarker=a,t.markerVisible=s;var u=n(164),l=r(u),c=n(0),h=r(c),d=n(156),f=r(d),p=n(23),m=r(p),g=n(24),_=r(g),v=n(10),A=r(v),y=n(132),b=r(y),w=n(309),x=r(w),E=n(396),C=r(E),S=n(1580),T=r(S),I="TerriaJS Location Marker Points";t.LOCATION_MARKER_DATA_SOURCE_NAME=I},function(e,t,n){var r,i;r=[n(1),n(0),n(3),n(6)],void 0!==(i=function(e,t,n,r){"use strict";function i(t){t=e(t,e.EMPTY_OBJECT),this.position=e(t.position,!1),this.normal=e(t.normal,!1),this.st=e(t.st,!1),this.bitangent=e(t.bitangent,!1),this.tangent=e(t.tangent,!1),this.color=e(t.color,!1)}return i.POSITION_ONLY=r(new i({position:!0})),i.POSITION_AND_NORMAL=r(new i({position:!0,normal:!0})),i.POSITION_NORMAL_AND_ST=r(new i({position:!0,normal:!0,st:!0})),i.POSITION_AND_ST=r(new i({position:!0,st:!0})),i.POSITION_AND_COLOR=r(new i({position:!0,color:!0})),i.ALL=r(new i({position:!0,normal:!0,st:!0,tangent:!0,bitangent:!0})),i.DEFAULT=i.POSITION_NORMAL_AND_ST,i.packedLength=6,i.pack=function(t,n,r){return r=e(r,0),n[r++]=t.position?1:0,n[r++]=t.normal?1:0,n[r++]=t.st?1:0,n[r++]=t.tangent?1:0,n[r++]=t.bitangent?1:0,n[r]=t.color?1:0,n},i.unpack=function(n,r,o){return r=e(r,0),t(o)||(o=new i),o.position=1===n[r++],o.normal=1===n[r++],o.st=1===n[r++],o.tangent=1===n[r++],o.bitangent=1===n[r++],o.color=1===n[r],o},i.clone=function(e,n){if(t(e))return t(n)||(n=new i),n.position=e.position,n.normal=e.normal,n.st=e.st,n.tangent=e.tangent,n.bitangent=e.bitangent,n.color=e.color,n},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(3)],void 0!==(i=function(e,t,n){"use strict";function r(){this._array=[],this._hash={}}return t(r.prototype,{length:{get:function(){return this._array.length}},values:{get:function(){return this._array}}}),r.prototype.contains=function(t){return e(this._hash[t])},r.prototype.set=function(e,t){t!==this._hash[e]&&(this.remove(e),this._hash[e]=t,this._array.push(t))},r.prototype.get=function(e){return this._hash[e]},r.prototype.remove=function(t){var n=this._hash[t],r=e(n);if(r){var i=this._array;i.splice(i.indexOf(n),1),delete this._hash[t]}return r},r.prototype.removeAll=function(){var e=this._array;e.length>0&&(this._hash={},e.length=0)},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(38),n(17),n(10),n(41),n(24),n(27),n(25),n(42),n(31),n(1),n(0),n(2),n(21),n(3),n(135),n(39),n(76),n(90),n(129),n(151),n(71),n(62),n(20),n(79),n(26),n(1079),n(104),n(64),n(61),n(60),n(47),n(68),n(77),n(52),n(115),n(7),n(530),n(220),n(302),n(1080),n(1081),n(46),n(184)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L,N,R,k,F,U,z,j,H){"use strict";function V(e){e=l(e,l.EMPTY_OBJECT),this.geometryInstances=e.geometryInstances,this.appearance=e.appearance,this._appearance=void 0,this._material=void 0,this.depthFailAppearance=e.depthFailAppearance,this._depthFailAppearance=void 0,this._depthFailMaterial=void 0,this.modelMatrix=w.clone(l(e.modelMatrix,w.IDENTITY)),this._modelMatrix=new w,this.show=l(e.show,!0),this._vertexCacheOptimize=l(e.vertexCacheOptimize,!1),this._interleave=l(e.interleave,!1),this._releaseGeometryInstances=l(e.releaseGeometryInstances,!0),this._allowPicking=l(e.allowPicking,!0),this._asynchronous=l(e.asynchronous,!0),this._compressVertices=l(e.compressVertices,!0),this.cull=l(e.cull,!0),this.debugShowBoundingVolume=l(e.debugShowBoundingVolume,!1),this.rtcCenter=e.rtcCenter,this.shadows=l(e.shadows,H.DISABLED),this._translucent=void 0,this._state=z.READY,this._geometries=[],this._error=void 0,this._numberOfInstances=0,this._boundingSpheres=[],this._boundingSphereWC=[],this._boundingSphereCV=[],this._boundingSphere2D=[],this._boundingSphereMorph=[],this._perInstanceAttributeCache=[],this._instanceIds=[],this._lastPerInstanceAttributeIndex=0,this._va=[],this._attributeLocations=void 0,this._primitiveType=void 0,this._frontFaceRS=void 0,this._backFaceRS=void 0,this._sp=void 0,this._depthFailAppearance=void 0,this._spDepthFail=void 0,this._frontFaceDepthFailRS=void 0,this._backFaceDepthFailRS=void 0,this._pickIds=[],this._colorCommands=[],this._pickCommands=[],this._readOnlyInstanceAttributes=e._readOnlyInstanceAttributes,this._createBoundingVolumeFunction=e._createBoundingVolumeFunction,this._createRenderStatesFunction=e._createRenderStatesFunction,this._createShaderProgramFunction=e._createShaderProgramFunction,this._createCommandsFunction=e._createCommandsFunction,this._updateAndQueueCommandsFunction=e._updateAndQueueCommandsFunction,this._createPickOffsets=e._createPickOffsets,this._pickOffsets=void 0,this._createGeometryResults=void 0,this._ready=!1,this._readyPromise=N.defer(),this._batchTable=void 0,this._batchTableAttributeIndices=void 0,this._offsetInstanceExtend=void 0,this._batchTableOffsetAttribute2DIndex=void 0,this._batchTableOffsetsUpdated=!1,this._instanceBoundingSpheres=void 0,this._instanceBoundingSpheresCV=void 0,this._tempBoundingSpheres=void 0,this._recomputeBoundingSpheres=!1,this._batchTableBoundingSpheresUpdated=!1,this._batchTableBoundingSphereAttributeIndices=void 0}function Q(e){var t,n=e.length,r=[],i=e[0].attributes;for(t in i)if(i.hasOwnProperty(t)&&c(i[t])){for(var o=i[t],a=!0,s=1;s<n;++s){var u=e[s].attributes[t];if(!c(u)||o.componentDatatype!==u.componentDatatype||o.componentsPerAttribute!==u.componentsPerAttribute||o.normalize!==u.normalize){a=!1;break}}a&&r.push(t)}return r}function G(e){var i=e.length;return 1===i?e[0]:2===i?t.unpack(e,0,ye):3===i?n.unpack(e,0,be):4===i?r.unpack(e,0,we):void 0}function W(e,t){var n=e.geometryInstances,r=b(n)?n:[n],i=r.length;if(0!==i){var o,s,h,d,f=Q(r),p=f.length,m=[],g={},_={},v=r[0],A=v.attributes;for(s=0;s<p;++s)h=f[s],d=A[h],g[h]=s,m.push({functionName:"czm_batchTable_"+h,componentDatatype:d.componentDatatype,componentsPerAttribute:d.componentsPerAttribute,normalize:d.normalize});-1!==f.indexOf("distanceDisplayCondition")&&(m.push({functionName:"czm_batchTable_boundingSphereCenter3DHigh",componentDatatype:u.FLOAT,componentsPerAttribute:3},{functionName:"czm_batchTable_boundingSphereCenter3DLow",componentDatatype:u.FLOAT,componentsPerAttribute:3},{functionName:"czm_batchTable_boundingSphereCenter2DHigh",componentDatatype:u.FLOAT,componentsPerAttribute:3},{functionName:"czm_batchTable_boundingSphereCenter2DLow",componentDatatype:u.FLOAT,componentsPerAttribute:3},{functionName:"czm_batchTable_boundingSphereRadius",componentDatatype:u.FLOAT,componentsPerAttribute:1}),_.center3DHigh=m.length-5,_.center3DLow=m.length-4,_.center2DHigh=m.length-3,_.center2DLow=m.length-2,_.radius=m.length-1),-1!==f.indexOf("offset")&&(m.push({functionName:"czm_batchTable_offset2D",componentDatatype:u.FLOAT,componentsPerAttribute:3}),o=m.length-1),m.push({functionName:"czm_batchTable_pickColor",componentDatatype:u.UNSIGNED_BYTE,componentsPerAttribute:4,normalize:!0});var y=m.length,w=new R(t,m,i);for(s=0;s<i;++s){var x=r[s];A=x.attributes;for(var E=0;E<p;++E){h=f[E],d=A[h];var C=G(d.value),S=g[h];w.setBatchedAttribute(s,S,C)}var T={primitive:l(x.pickPrimitive,e)};c(x.id)&&(T.id=x.id);var I=t.createPickId(T);e._pickIds.push(I);var M=I.color,O=we;O.x=a.floatToByte(M.red),O.y=a.floatToByte(M.green),O.z=a.floatToByte(M.blue),O.w=a.floatToByte(M.alpha),w.setBatchedAttribute(s,y-1,O)}e._batchTable=w,e._batchTableAttributeIndices=g,e._batchTableBoundingSphereAttributeIndices=_,e._batchTableOffsetAttribute2DIndex=o}}function q(e){var t;return t=b(e.values)?e.values.slice(0):new e.values.constructor(e.values),new _({componentDatatype:e.componentDatatype,componentsPerAttribute:e.componentsPerAttribute,normalize:e.normalize,values:t})}function Y(t){var n=t.attributes,r=new v;for(var i in n)n.hasOwnProperty(i)&&c(n[i])&&(r[i]=q(n[i]));var o;if(c(t.indices)){var a=t.indices;o=b(a)?a.slice(0):new a.constructor(a)}return new g({attributes:r,indices:o,primitiveType:t.primitiveType,boundingSphere:e.clone(t.boundingSphere)})}function K(e,t){return{geometry:t,attributes:e.attributes,modelMatrix:w.clone(e.modelMatrix),pickPrimitive:e.pickPrimitive,id:e.id}}function X(e){return B.replaceMain(e,"czm_non_pick_main")+"\nvarying vec4 v_pickColor; \nvoid main() \n{ \n    czm_non_pick_main(); \n    v_pickColor = czm_batchTable_pickColor(batchId); \n}"}function Z(e){return"varying vec4 v_pickColor;\n"+e}function J(e,t){if(!e.compressVertices)return t;var n=-1!==t.search(/attribute\s+vec3\s+normal;/g),r=-1!==t.search(/attribute\s+vec2\s+st;/g);if(!n&&!r)return t;var i=-1!==t.search(/attribute\s+vec3\s+tangent;/g),o=-1!==t.search(/attribute\s+vec3\s+bitangent;/g),a=r&&n?2:1;a+=i||o?1:0;var s=a>1?"vec"+a:"float",u="compressedAttributes",l="attribute "+s+" "+u+";",c="",h="";if(r){c+="vec2 st;\n";h+="    st = czm_decompressTextureCoordinates("+(a>1?u+".x":u)+");\n"}n&&i&&o?(c+="vec3 normal;\nvec3 tangent;\nvec3 bitangent;\n",h+="    czm_octDecode("+u+"."+(r?"yz":"xy")+", normal, tangent, bitangent);\n"):(n&&(c+="vec3 normal;\n",h+="    normal = czm_octDecode("+u+(a>1?"."+(r?"y":"x"):"")+");\n"),i&&(c+="vec3 tangent;\n",h+="    tangent = czm_octDecode("+u+"."+(r&&n?"z":"y")+");\n"),o&&(c+="vec3 bitangent;\n",h+="    bitangent = czm_octDecode("+u+"."+(r&&n?"z":"y")+");\n"));var d=t;return d=d.replace(/attribute\s+vec3\s+normal;/g,""),d=d.replace(/attribute\s+vec2\s+st;/g,""),d=d.replace(/attribute\s+vec3\s+tangent;/g,""),d=d.replace(/attribute\s+vec3\s+bitangent;/g,""),d=B.replaceMain(d,"czm_non_compressed_main"),[l,c,d,"void main() \n{ \n"+h+"    czm_non_compressed_main(); \n}"].join("\n")}function $(e){var t=B.replaceMain(e,"czm_non_depth_clamp_main");return t+="varying float v_WindowZ;\nvoid main() {\n    czm_non_depth_clamp_main();\n    vec4 position = gl_Position;\n    v_WindowZ = (0.5 * (position.z / position.w) + 0.5) * position.w;\n    position.z = min(position.z, position.w);\n    gl_Position = position;\n}\n"}function ee(e){var t=B.replaceMain(e,"czm_non_depth_clamp_main");return t+="varying float v_WindowZ;\nvoid main() {\n    czm_non_depth_clamp_main();\n#if defined(GL_EXT_frag_depth) && !defined(LOG_DEPTH)\n    gl_FragDepthEXT = min(v_WindowZ * gl_FragCoord.w, 1.0);\n#endif\n}\n",t="#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n#endif\n"+t}function te(e,t){e.vertexAttributes}function ne(e,t){return function(){return e[t]}}function re(e,t){var n,r,i,o,a=e._instanceIds;if(e._state===z.READY){n=b(e.geometryInstances)?e.geometryInstances:[e.geometryInstances];var s=e._numberOfInstances=n.length,u=[],h=[];for(i=0;i<s;++i)r=n[i].geometry,a.push(n[i].id),h.push({moduleName:r._workerName,geometry:r});if(!c(Ee))for(Ee=new Array(Ce),i=0;i<Ce;i++)Ee[i]=new S("createGeometry",Number.POSITIVE_INFINITY);var d;for(h=C(h,Ce),i=0;i<h.length;i++){var f=0,p=h[i],m=p.length;for(o=0;o<m;++o)d=p[o],r=d.geometry,c(r.constructor.pack)&&(d.offset=f,f+=l(r.constructor.packedLength,r.packedLength));var g;if(f>0){var _=new Float64Array(f);for(g=[_.buffer],o=0;o<m;++o)d=p[o],r=d.geometry,c(r.constructor.pack)&&(r.constructor.pack(r,_,d.offset),d.geometry=_)}u.push(Ee[i].scheduleTask({subTasks:h[i]},g))}e._state=z.CREATING,N.all(u,function(t){e._createGeometryResults=t,e._state=z.CREATED}).otherwise(function(n){Ae(e,t,z.FAILED,n)})}else if(e._state===z.CREATED){var v=[];n=b(e.geometryInstances)?e.geometryInstances:[e.geometryInstances];var A=t.scene3DOnly,y=t.mapProjection,x=Se.scheduleTask(U.packCombineGeometryParameters({createGeometryResults:e._createGeometryResults,instances:n,ellipsoid:y.ellipsoid,projection:y,elementIndexUintSupported:t.context.elementIndexUint,scene3DOnly:A,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:e.modelMatrix,createPickOffsets:e._createPickOffsets},v),v);e._createGeometryResults=void 0,e._state=z.COMBINING,N(x,function(n){var r=U.unpackCombineGeometryResults(n);e._geometries=r.geometries,e._attributeLocations=r.attributeLocations,e.modelMatrix=w.clone(r.modelMatrix,e.modelMatrix),e._pickOffsets=r.pickOffsets,e._offsetInstanceExtend=r.offsetInstanceExtend,e._instanceBoundingSpheres=r.boundingSpheres,e._instanceBoundingSpheresCV=r.boundingSpheresCV,c(e._geometries)&&e._geometries.length>0?(e._recomputeBoundingSpheres=!0,e._state=z.COMBINED):Ae(e,t,z.FAILED,void 0)}).otherwise(function(n){Ae(e,t,z.FAILED,n)})}}function ie(e,t){var n,r,i=b(e.geometryInstances)?e.geometryInstances:[e.geometryInstances],o=e._numberOfInstances=i.length,a=new Array(o),s=e._instanceIds,u=0;for(r=0;r<o;r++){n=i[r];var l,h=n.geometry;l=c(h.attributes)&&c(h.primitiveType)?Y(h):h.constructor.createGeometry(h),a[u++]=K(n,l),s.push(n.id)}a.length=u;var d=t.scene3DOnly,f=t.mapProjection,p=U.combineGeometry({instances:a,ellipsoid:f.ellipsoid,projection:f,elementIndexUintSupported:t.context.elementIndexUint,scene3DOnly:d,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:e.modelMatrix,createPickOffsets:e._createPickOffsets});e._geometries=p.geometries,e._attributeLocations=p.attributeLocations,e.modelMatrix=w.clone(p.modelMatrix,e.modelMatrix),e._pickOffsets=p.pickOffsets,e._offsetInstanceExtend=p.offsetInstanceExtend,e._instanceBoundingSpheres=p.boundingSpheres,e._instanceBoundingSpheresCV=p.boundingSpheresCV,c(e._geometries)&&e._geometries.length>0?(e._recomputeBoundingSpheres=!0,e._state=z.COMBINED):Ae(e,t,z.FAILED,void 0)}function oe(t,r){var i=t._batchTableAttributeIndices.offset;if(!t._recomputeBoundingSpheres||!c(i))return void(t._recomputeBoundingSpheres=!1);var o,a=t._offsetInstanceExtend,s=t._instanceBoundingSpheres,u=s.length,l=t._tempBoundingSpheres;if(!c(l)){for(l=new Array(u),o=0;o<u;o++)l[o]=new e;t._tempBoundingSpheres=l}for(o=0;o<u;++o){var h=l[o],d=t._batchTable.getBatchedAttribute(o,i,new n);h=s[o].clone(h),pe(h,d,a[o])}var f=[],p=[],m=[];for(o=0;o<u;++o){var g=l[o];g.center.x-g.radius>0||e.intersectPlane(g,x.ORIGIN_ZX_PLANE)!==y.INTERSECTING?f.push(g):(p.push(g),m.push(g))}var _=f[0],v=m[0],A=p[0];for(o=1;o<f.length;o++)_=e.union(_,f[o]);for(o=1;o<m.length;o++)v=e.union(v,m[o]);for(o=1;o<p.length;o++)A=e.union(A,p[o]);var b=[];for(c(_)&&b.push(_),c(v)&&b.push(v),c(A)&&b.push(A),o=0;o<b.length;o++){var w=b[o].clone(t._boundingSpheres[o]);t._boundingSpheres[o]=w,t._boundingSphereCV[o]=e.projectTo2D(w,r.mapProjection,t._boundingSphereCV[o])}V._updateBoundingVolumes(t,r,t.modelMatrix,!0),t._recomputeBoundingSpheres=!1}function ae(t,n){if(c(t._batchTableAttributeIndices.distanceDisplayCondition)&&!t._batchTableBoundingSpheresUpdated){for(var r=t._batchTableBoundingSphereAttributeIndices,i=r.center3DHigh,o=r.center3DLow,a=r.center2DHigh,s=r.center2DLow,u=r.radius,l=n.mapProjection,h=l.ellipsoid,d=t._batchTable,f=t._instanceBoundingSpheres,m=f.length,g=0;g<m;++g){var _=f[g];if(c(_)){var v=t.modelMatrix;c(v)&&(_=e.transform(_,v,Oe));var A=_.center,y=_.radius,b=p.fromCartesian(A,Te);if(d.setBatchedAttribute(g,i,b.high),d.setBatchedAttribute(g,o,b.low),!n.scene3DOnly){var w=h.cartesianToCartographic(A,Ie),x=l.project(w,Me);b=p.fromCartesian(x,Te),d.setBatchedAttribute(g,a,b.high),d.setBatchedAttribute(g,s,b.low)}d.setBatchedAttribute(g,u,y)}}t._batchTableBoundingSpheresUpdated=!0}}function se(t,r){if(c(t._batchTableAttributeIndices.offset)&&!t._batchTableOffsetsUpdated&&!r.scene3DOnly){for(var i=t._batchTableOffsetAttribute2DIndex,o=r.mapProjection,a=o.ellipsoid,s=t._batchTable,u=t._instanceBoundingSpheres,l=u.length,h=0;h<l;++h){var d=u[h];if(c(d)){var f=s.getBatchedAttribute(h,t._batchTableAttributeIndices.offset);if(n.equals(f,n.ZERO))s.setBatchedAttribute(h,i,n.ZERO);else{var p=t.modelMatrix;c(p)&&(d=e.transform(d,p,Oe));var m=d.center;m=a.scaleToGeodeticSurface(m,De);var g=a.cartesianToCartographic(m,Ie),_=o.project(g,Me),v=n.add(f,m,Pe);g=a.cartesianToCartographic(v,g);var A=o.project(g,Pe),y=n.subtract(A,_,Pe),b=y.x;y.x=y.z,y.z=y.y,y.y=b,s.setBatchedAttribute(h,i,y)}}}t._batchTableOffsetsUpdated=!0}}function ue(t,n){for(var r=t._attributeLocations,i=t._geometries,o=n.scene3DOnly,a=n.context,s=[],u=i.length,l=0;l<u;++l){var h=i[l];if(s.push(L.fromGeometry({context:a,geometry:h,attributeLocations:r,bufferUsage:T.STATIC_DRAW,interleave:t._interleave})),c(t._createBoundingVolumeFunction))t._createBoundingVolumeFunction(n,h);else if(t._boundingSpheres.push(e.clone(h.boundingSphere)),t._boundingSphereWC.push(new e),!o){var d=h.boundingSphereCV.center,f=d.x,p=d.y,m=d.z;d.x=m,d.y=f,d.z=p,t._boundingSphereCV.push(e.clone(h.boundingSphereCV)),t._boundingSphere2D.push(new e),t._boundingSphereMorph.push(new e)}}t._va=s,t._primitiveType=i[0].primitiveType,t.releaseGeometryInstances&&(t.geometryInstances=void 0),t._geometries=void 0,Ae(t,n,z.COMPLETE,void 0)}function le(e,t,n,r){var i,a=n.getRenderState();r?(i=o(a,!1),i.cull={enabled:!0,face:k.BACK},e._frontFaceRS=P.fromCache(i),i.cull.face=k.FRONT,e._backFaceRS=P.fromCache(i)):(e._frontFaceRS=P.fromCache(a),e._backFaceRS=e._frontFaceRS),i=o(a,!1),c(e._depthFailAppearance)&&(i.depthTest.enabled=!1),c(e._depthFailAppearance)&&(a=e._depthFailAppearance.getRenderState(),i=o(a,!1),i.depthTest.func=F.GREATER,r?(i.cull={enabled:!0,face:k.BACK},e._frontFaceDepthFailRS=P.fromCache(i),i.cull.face=k.FRONT,e._backFaceDepthFailRS=P.fromCache(i)):(e._frontFaceDepthFailRS=P.fromCache(i),e._backFaceDepthFailRS=e._frontFaceRS))}function ce(e,t,n){var r=t.context,i=e._attributeLocations,o=e._batchTable.getVertexShaderCallback()(n.vertexShaderSource);o=V._appendOffsetToShader(e,o),o=V._appendShowToShader(e,o),o=V._appendDistanceDisplayConditionToShader(e,o,t.scene3DOnly),o=X(o),o=V._updateColorAttribute(e,o,!1),o=J(e,o),o=V._modifyShaderPosition(e,o,t.scene3DOnly);var a=n.getFragmentShaderSource();a=Z(a),e._sp=D.replaceCache({context:r,shaderProgram:e._sp,vertexShaderSource:o,fragmentShaderSource:a,attributeLocations:i}),te(e._sp,i),c(e._depthFailAppearance)&&(o=e._batchTable.getVertexShaderCallback()(e._depthFailAppearance.vertexShaderSource),o=V._appendShowToShader(e,o),o=V._appendDistanceDisplayConditionToShader(e,o,t.scene3DOnly),o=X(o),o=V._updateColorAttribute(e,o,!0),o=J(e,o),o=V._modifyShaderPosition(e,o,t.scene3DOnly),o=$(o),a=e._depthFailAppearance.getFragmentShaderSource(),a=Z(a),a=ee(a),e._spDepthFail=D.replaceCache({context:r,shaderProgram:e._spDepthFail,vertexShaderSource:o,fragmentShaderSource:a,attributeLocations:i}),te(e._spDepthFail,i))}function he(e,t,n,r){var i=c(n)?n._uniforms:void 0,o={},a=t.uniforms;if(c(a))for(var u in a)a.hasOwnProperty(u)&&(o[u]=ne(a,u));var l=s(o,i);return l=e._batchTable.getUniformMapCallback()(l),c(e.rtcCenter)&&(l.u_modifiedModelView=function(){var t=r.context.uniformState.view;return w.multiply(t,e._modelMatrix,Be),w.multiplyByPoint(Be,e.rtcCenter,Le),w.setTranslation(Be,Le,Be),Be}),l}function de(e,t,n,r,i,o,a,s){var u,l=he(e,t,n,s);c(e._depthFailAppearance)&&(u=he(e,e._depthFailAppearance,e._depthFailAppearance.material,s));var h=r?O.TRANSLUCENT:O.OPAQUE,d=i?2:1;d*=c(e._depthFailAppearance)?2:1,o.length=e._va.length*d;for(var f=o.length,p=0,m=0;m<f;++m){var g;i&&(g=o[m],c(g)||(g=o[m]=new M({owner:e,primitiveType:e._primitiveType})),g.vertexArray=e._va[p],g.renderState=e._backFaceRS,g.shaderProgram=e._sp,g.uniformMap=l,g.pass=h,++m),g=o[m],c(g)||(g=o[m]=new M({owner:e,primitiveType:e._primitiveType})),g.vertexArray=e._va[p],g.renderState=e._frontFaceRS,g.shaderProgram=e._sp,g.uniformMap=l,g.pass=h,c(e._depthFailAppearance)&&(i&&(++m,g=o[m],c(g)||(g=o[m]=new M({owner:e,primitiveType:e._primitiveType})),g.vertexArray=e._va[p],g.renderState=e._backFaceDepthFailRS,g.shaderProgram=e._spDepthFail,g.uniformMap=u,g.pass=h),++m,g=o[m],c(g)||(g=o[m]=new M({owner:e,primitiveType:e._primitiveType})),g.vertexArray=e._va[p],g.renderState=e._frontFaceDepthFailRS,g.shaderProgram=e._spDepthFail,g.uniformMap=u,g.pass=h),++p}}function fe(e,t,n,r,i,o,a,s){V._updateBoundingVolumes(e,t,i);var u;t.mode===j.SCENE3D?u=e._boundingSphereWC:t.mode===j.COLUMBUS_VIEW?u=e._boundingSphereCV:t.mode===j.SCENE2D&&c(e._boundingSphere2D)?u=e._boundingSphere2D:c(e._boundingSphereMorph)&&(u=e._boundingSphereMorph);var l=t.commandList,h=t.passes;if(h.render||h.pick){var d=e.allowPicking,f=H.castShadows(e.shadows),p=H.receiveShadows(e.shadows),m=n.length,g=s?2:1;g*=c(e._depthFailAppearance)?2:1;for(var _=0;_<m;++_){var v=Math.floor(_/g),A=n[_];A.modelMatrix=i,A.boundingVolume=u[v],A.cull=o,A.debugShowBoundingVolume=a,A.castShadows=f,A.receiveShadows=p,A.pickId=d?"v_pickColor":void 0,l.push(A)}}}function pe(t,r,i){if(i===A.TOP){var o=e.clone(t,Ne),a=e.clone(t,Re);a.center=n.add(a.center,r,a.center),t=e.union(o,a,t)}else i===A.ALL&&(t.center=n.add(t.center,r,t.center));return t}function me(e,t,n){return function(){var r=e.getBatchedAttribute(t,n),i=e.attributes[n],o=i.componentsPerAttribute,a=u.createTypedArray(i.componentDatatype,o);return c(r.constructor.pack)?r.constructor.pack(r,a,0):a[0]=r,a}}function ge(e,t,n,r,i){return function(o){var a=G(o);e.setBatchedAttribute(t,n,a),"offset"===i&&(r._recomputeBoundingSpheres=!0,r._batchTableOffsetsUpdated=!1)}}function _e(t,r,i){r.boundingSphere={get:function(){var o=t._instanceBoundingSpheres[i];if(c(o)){o=o.clone();var a=t.modelMatrix,s=r.offset;c(s)&&pe(o,n.fromArray(s.get(),0,ke),t._offsetInstanceExtend[i]),c(a)&&(o=e.transform(o,a))}return o}},r.boundingSphereCV={get:function(){return t._instanceBoundingSpheresCV[i]}}}function ve(e,t,n){t.pickId={get:function(){return e._pickIds[n]}}}function Ae(e,t,n,r){e._error=r,e._state=n,t.afterRender.push(function(){e._ready=e._state===z.COMPLETE||e._state===z.FAILED,c(r)?e._readyPromise.reject(r):e._readyPromise.resolve(e)})}h(V.prototype,{vertexCacheOptimize:{get:function(){return this._vertexCacheOptimize}},interleave:{get:function(){return this._interleave}},releaseGeometryInstances:{get:function(){return this._releaseGeometryInstances}},allowPicking:{get:function(){return this._allowPicking}},asynchronous:{get:function(){return this._asynchronous}},compressVertices:{get:function(){return this._compressVertices}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}}});var ye=new t,be=new n,we=new r,xe=/attribute\s+vec(?:3|4)\s+(.*)3DHigh;/g;V._modifyShaderPosition=function(e,t,n){for(var r,i="",o="",a="";null!==(r=xe.exec(t));){var s=r[1],u="vec4 czm_compute"+s[0].toUpperCase()+s.substr(1)+"()";"vec4 czm_computePosition()"!==u&&(i+=u+";\n"),c(e.rtcCenter)?(t=t.replace(/attribute\s+vec(?:3|4)\s+position3DHigh;/g,""),t=t.replace(/attribute\s+vec(?:3|4)\s+position3DLow;/g,""),i+="uniform mat4 u_modifiedModelView;\n",o+="attribute vec4 position;\n",a+=u+"\n{\n    return u_modifiedModelView * position;\n}\n\n",t=t.replace(/czm_modelViewRelativeToEye\s+\*\s+/g,""),t=t.replace(/czm_modelViewProjectionRelativeToEye/g,"czm_projection")):n?a+=u+"\n{\n    return czm_translateRelativeToEye("+s+"3DHigh, "+s+"3DLow);\n}\n\n":(o+="attribute vec3 "+s+"2DHigh;\nattribute vec3 "+s+"2DLow;\n",a+=u+"\n{\n    vec4 p;\n    if (czm_morphTime == 1.0)\n    {\n        p = czm_translateRelativeToEye("+s+"3DHigh, "+s+"3DLow);\n    }\n    else if (czm_morphTime == 0.0)\n    {\n        p = czm_translateRelativeToEye("+s+"2DHigh.zxy, "+s+"2DLow.zxy);\n    }\n    else\n    {\n        p = czm_columbusViewMorph(\n                czm_translateRelativeToEye("+s+"2DHigh.zxy, "+s+"2DLow.zxy),\n                czm_translateRelativeToEye("+s+"3DHigh, "+s+"3DLow),\n                czm_morphTime);\n    }\n    return p;\n}\n\n")}return[i,o,t,a].join("\n")},V._appendShowToShader=function(e,t){if(!c(e._batchTableAttributeIndices.show))return t;return B.replaceMain(t,"czm_non_show_main")+"\nvoid main() \n{ \n    czm_non_show_main(); \n    gl_Position *= czm_batchTable_show(batchId); \n}"},V._updateColorAttribute=function(e,t,n){if(!c(e._batchTableAttributeIndices.color)&&!c(e._batchTableAttributeIndices.depthFailColor))return t;if(-1===t.search(/attribute\s+vec4\s+color;/g))return t;var r=t;return r=r.replace(/attribute\s+vec4\s+color;/g,""),r=n?r.replace(/(\b)color(\b)/g,"$1czm_batchTable_depthFailColor(batchId)$2"):r.replace(/(\b)color(\b)/g,"$1czm_batchTable_color(batchId)$2")},V._updatePickColorAttribute=function(e){var t=e.replace(/attribute\s+vec4\s+pickColor;/g,"");return t=t.replace(/(\b)pickColor(\b)/g,"$1czm_batchTable_pickColor(batchId)$2")},V._appendOffsetToShader=function(e,t){if(!c(e._batchTableAttributeIndices.offset))return t;var n="attribute float batchId;\n";n+="attribute float applyOffset;";var r=t.replace(/attribute\s+float\s+batchId;/g,n),i="vec4 $1 = czm_computePosition();\n";return i+="    if (czm_sceneMode == czm_sceneMode3D)\n",i+="    {\n",i+="        $1 = $1 + vec4(czm_batchTable_offset(batchId) * applyOffset, 0.0);",i+="    }\n",i+="    else\n",i+="    {\n",i+="        $1 = $1 + vec4(czm_batchTable_offset2D(batchId) * applyOffset, 0.0);",i+="    }\n",r=r.replace(/vec4\s+([A-Za-z0-9_]+)\s+=\s+czm_computePosition\(\);/g,i)},V._appendDistanceDisplayConditionToShader=function(e,t,n){if(!c(e._batchTableAttributeIndices.distanceDisplayCondition))return t;var r=B.replaceMain(t,"czm_non_distanceDisplayCondition_main"),i="void main() \n{ \n    czm_non_distanceDisplayCondition_main(); \n    vec2 distanceDisplayCondition = czm_batchTable_distanceDisplayCondition(batchId);\n    vec3 boundingSphereCenter3DHigh = czm_batchTable_boundingSphereCenter3DHigh(batchId);\n    vec3 boundingSphereCenter3DLow = czm_batchTable_boundingSphereCenter3DLow(batchId);\n    float boundingSphereRadius = czm_batchTable_boundingSphereRadius(batchId);\n";return i+=n?"    vec4 centerRTE = czm_translateRelativeToEye(boundingSphereCenter3DHigh, boundingSphereCenter3DLow);\n":"    vec3 boundingSphereCenter2DHigh = czm_batchTable_boundingSphereCenter2DHigh(batchId);\n    vec3 boundingSphereCenter2DLow = czm_batchTable_boundingSphereCenter2DLow(batchId);\n    vec4 centerRTE;\n    if (czm_morphTime == 1.0)\n    {\n        centerRTE = czm_translateRelativeToEye(boundingSphereCenter3DHigh, boundingSphereCenter3DLow);\n    }\n    else if (czm_morphTime == 0.0)\n    {\n        centerRTE = czm_translateRelativeToEye(boundingSphereCenter2DHigh.zxy, boundingSphereCenter2DLow.zxy);\n    }\n    else\n    {\n        centerRTE = czm_columbusViewMorph(\n                czm_translateRelativeToEye(boundingSphereCenter2DHigh.zxy, boundingSphereCenter2DLow.zxy),\n                czm_translateRelativeToEye(boundingSphereCenter3DHigh, boundingSphereCenter3DLow),\n                czm_morphTime);\n    }\n",i+="    float radiusSq = boundingSphereRadius * boundingSphereRadius; \n    float distanceSq; \n    if (czm_sceneMode == czm_sceneMode2D) \n    { \n        distanceSq = czm_eyeHeight2D.y - radiusSq; \n    } \n    else \n    { \n        distanceSq = dot(centerRTE.xyz, centerRTE.xyz) - radiusSq; \n    } \n    distanceSq = max(distanceSq, 0.0); \n    float nearSq = distanceDisplayCondition.x * distanceDisplayCondition.x; \n    float farSq = distanceDisplayCondition.y * distanceDisplayCondition.y; \n    float show = (distanceSq >= nearSq && distanceSq <= farSq) ? 1.0 : 0.0; \n    gl_Position *= show; \n}",r+"\n"+i};var Ee,Ce=Math.max(m.hardwareConcurrency-1,1),Se=new S("combineGeometry",Number.POSITIVE_INFINITY),Te=new p,Ie=new i,Me=new n,Oe=new e,Pe=new n,De=new n,Be=new w,Le=new n;V._updateBoundingVolumes=function(t,n,r,i){var o,a,s;if(i||!w.equals(r,t._modelMatrix))for(w.clone(r,t._modelMatrix),a=t._boundingSpheres.length,o=0;o<a;++o)s=t._boundingSpheres[o],c(s)&&(t._boundingSphereWC[o]=e.transform(s,r,t._boundingSphereWC[o]),n.scene3DOnly||(t._boundingSphere2D[o]=e.clone(t._boundingSphereCV[o],t._boundingSphere2D[o]),t._boundingSphere2D[o].center.x=0,t._boundingSphereMorph[o]=e.union(t._boundingSphereWC[o],t._boundingSphereCV[o])));var u=t.appearance.pixelSize;if(c(u))for(a=t._boundingSpheres.length,o=0;o<a;++o){s=t._boundingSpheres[o];var l=t._boundingSphereWC[o],h=n.camera.getPixelSize(s,n.context.drawingBufferWidth,n.context.drawingBufferHeight),d=h*u;l.radius=s.radius+d}},V.prototype.update=function(e){if(!(!c(this.geometryInstances)&&0===this._va.length||c(this.geometryInstances)&&b(this.geometryInstances)&&0===this.geometryInstances.length||!c(this.appearance)||e.mode!==j.SCENE3D&&e.scene3DOnly||!e.passes.render&&!e.passes.pick)){if(c(this._error))throw this._error;if(this._state!==z.FAILED){var t=e.context;if(c(this._batchTable)||W(this,t),this._batchTable.attributes.length>0){if(0===I.maximumVertexTextureImageUnits)throw new E("Vertex texture fetch support is required to render primitives with per-instance attributes. The maximum number of vertex texture image units must be greater than zero.");this._batchTable.update(e)}if(this._state!==z.COMPLETE&&this._state!==z.COMBINED&&(this.asynchronous?re(this,e):ie(this,e)),this._state===z.COMBINED&&(ae(this,e),se(this,e),ue(this,e)),this.show&&this._state===z.COMPLETE){this._batchTableOffsetsUpdated||se(this,e),this._recomputeBoundingSpheres&&oe(this,e);var n=this.appearance,r=n.material,i=!1,o=!1;this._appearance!==n?(this._appearance=n,this._material=r,i=!0,o=!0):this._material!==r&&(this._material=r,o=!0);var a=this.depthFailAppearance,s=c(a)?a.material:void 0;this._depthFailAppearance!==a?(this._depthFailAppearance=a,this._depthFailMaterial=s,i=!0,o=!0):this._depthFailMaterial!==s&&(this._depthFailMaterial=s,o=!0);var u=this._appearance.isTranslucent();this._translucent!==u&&(this._translucent=u,i=!0),c(this._material)&&this._material.update(t);var h=n.closed&&u;if(i){l(this._createRenderStatesFunction,le)(this,t,n,h)}if(o){l(this._createShaderProgramFunction,ce)(this,e,n)}if(i||o){l(this._createCommandsFunction,de)(this,n,r,u,h,this._colorCommands,this._pickCommands,e)}l(this._updateAndQueueCommandsFunction,fe)(this,e,this._colorCommands,this._pickCommands,this.modelMatrix,this.cull,this.debugShowBoundingVolume,h)}}}};var Ne=new e,Re=new e,ke=new n;return V.prototype.getGeometryInstanceAttributes=function(e){for(var t=-1,n=this._lastPerInstanceAttributeIndex,r=this._instanceIds,i=r.length,o=0;o<i;++o){var a=(n+o)%i;if(e===r[a]){t=a;break}}if(-1!==t){var s=this._perInstanceAttributeCache[t];if(c(s))return s;var u=this._batchTable,l=this._batchTableAttributeIndices;s={};var d={};for(var f in l)if(l.hasOwnProperty(f)){var p=l[f];d[f]={get:me(u,t,p)};var m=!0,g=this._readOnlyInstanceAttributes;if(m&&c(g)){i=g.length;for(var _=0;_<i;++_)if(f===g[_]){m=!1;break}}m&&(d[f].set=ge(u,t,p,this,f))}return _e(this,d,t),ve(this,d,t),h(s,d),this._lastPerInstanceAttributeIndex=t,this._perInstanceAttributeCache[t]=s,s}},V.prototype.isDestroyed=function(){return!1},V.prototype.destroy=function(){var e,t;this._sp=this._sp&&this._sp.destroy(),this._pickSP=this._pickSP&&this._pickSP.destroy();var n=this._va;for(e=n.length,t=0;t<e;++t)n[t].destroy();this._va=void 0;var r=this._pickIds;for(e=r.length,t=0;t<e;++t)r[t].destroy();return this._pickIds=void 0,this._batchTable=this._batchTable&&this._batchTable.destroy(),this._instanceIds=void 0,this._perInstanceAttributeCache=void 0,this._attributeLocations=void 0,d(this)},V}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";var t={DISABLED:0,ENABLED:1,CAST_ONLY:2,RECEIVE_ONLY:3,NUMBER_OF_SHADOW_MODES:4};return t.castShadows=function(e){return e===t.ENABLED||e===t.CAST_ONLY},t.receiveShadows=function(e){return e===t.ENABLED||e===t.RECEIVE_ONLY},t.fromCastReceive=function(e,n){return e&&n?t.ENABLED:e?t.CAST_ONLY:n?t.RECEIVE_ONLY:t.DISABLED},e(t)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";var n={CLAMP_TO_EDGE:t.CLAMP_TO_EDGE,REPEAT:t.REPEAT,MIRRORED_REPEAT:t.MIRRORED_REPEAT,validate:function(e){return e===n.CLAMP_TO_EDGE||e===n.REPEAT||e===n.MIRRORED_REPEAT}};return e(n)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(1),n(0),n(3)],void 0!==(i=function(e,t,n,r){"use strict";function i(n,r){r=e.clone(t(r,e.ZERO)),e.equals(r,e.ZERO)||e.normalize(r,r),this.origin=e.clone(t(n,e.ZERO)),this.direction=r}return i.getPoint=function(t,r,i){return n(i)||(i=new e),i=e.multiplyByScalar(t.direction,r,i),e.add(t.origin,i,i)},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";function t(t){var n,r=t.name,i=t.message;n=e(r)&&e(i)?r+": "+i:t.toString();var o=t.stack;return e(o)&&(n+="\n"+o),n}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(3),n(62)],void 0!==(i=function(e,t,n){"use strict";function r(e){var t="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=encodeURIComponent(r)+"=";if(n(i))for(var a=0,s=i.length;a<s;++a)t+=o+encodeURIComponent(i[a])+"&";else t+=o+encodeURIComponent(i)+"&"}return t=t.slice(0,-1)}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({UNISSUED:0,ISSUED:1,ACTIVE:2,RECEIVED:3,CANCELLED:4,FAILED:5})}.apply(t,r))&&(e.exports=i)},function(e,t,n){t=e.exports=n(468),t.Stream=t,t.Readable=t,t.Writable=n(313),t.Duplex=n(137),t.Transform=n(472),t.PassThrough=n(830)},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function l(e){return void 0===e}function c(e){return"[object RegExp]"===g(e)}function h(e){return"object"==typeof e&&null!==e}function d(e){return"[object Date]"===g(e)}function f(e){return"[object Error]"===g(e)||e instanceof Error}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function g(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=a,t.isString=s,t.isSymbol=u,t.isUndefined=l,t.isRegExp=c,t.isObject=h,t.isDate=d,t.isError=f,t.isFunction=p,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(t,n(80).Buffer)},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)o.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t,n){"use strict";var r=n(195),i=n(56),o=n(230),a=n(27),s=n(96),u=n(0),l=n(2),c=n(3),h=n(6),d=n(14),f=n(13),p=n(81),m=n(7),g=function(e){o.call(this,e),this._loadingPromise=void 0,this._lastLoadInfluencingValues=void 0,this._parameters=[],this.isLoading=!1,this.contextItem=void 0,f.track(this,["isLoading"])};d(o,g),l(g.prototype,{showsInfo:{get:function(){return!0}},parameters:{get:function(){throw new c("parameters must be implemented in the derived class.")}},metadata:{get:function(){return i.defaultMetadata}},updaters:{get:function(){return g.defaultUpdaters}},serializers:{get:function(){return g.defaultSerializers}},propertiesForSharing:{get:function(){return g.defaultPropertiesForSharing}}}),g.defaultUpdaters=a(o.defaultUpdaters),g.defaultUpdaters.contextItem=function(e,t,n,r){var i=t[n];return(e.contextItem=s(i.type,e.terria)).updateFromJson(i,r)},h(g.defaultUpdaters),g.defaultSerializers=a(o.defaultSerializers),g.defaultSerializers.contextItem=function(e,t,n,r){u(e.contextItem)&&(t[n]=e.contextItem.serializeToJson(r))},h(g.defaultSerializers),g.defaultPropertiesForSharing=a(o.defaultPropertiesForSharing),g.prototype.load=function(){if(u(this._loadingPromise))return this._loadingPromise;var e=[];if(u(this._getValuesThatInfluenceLoad)&&(e=this._getValuesThatInfluenceLoad()),!r(e,this._lastLoadInfluencingValues)){this.isLoading=!0;var t=this;return this._loadingPromise=p(function(){return t._lastLoadInfluencingValues=[],u(t._getValuesThatInfluenceLoad)&&(t._lastLoadInfluencingValues=t._getValuesThatInfluenceLoad()),m(t._load()).then(function(e){return m.all(t.parameters.map(function(e){return e.load()})).then(function(){return e})})}).then(function(){t._loadingPromise=void 0,t.isLoading=!1}).otherwise(function(e){throw t._lastLoadInfluencingValues=void 0,t._loadingPromise=void 0,t.isLoading=!1,e}),this._loadingPromise}},g.prototype.invoke=function(){throw new c("invoke must be implemented in the derived class.")},g.prototype.getParameterValues=function(){var e={};return this.parameters.forEach(function(t){e[t.id]=t.value}),e},g.prototype.setParameterValues=function(e){Object.keys(e).forEach(function(t){var n=this.parameters.filter(function(e){return e.id===t})[0];u(n)&&(n.value=e[t])})},e.exports=g},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!i(e)||!i(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}var i=n(0);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){n=o(n,o.EMPTY_OBJECT);var r=[];for(var a in e)e.hasOwnProperty(a)&&i(e,a,t)&&(e.updaters&&e.updaters[a]?r.push(e.updaters[a](e,t,a,n)):e[a]=t[a]);return s.all(r)}function i(e,t,n){return void 0!==n[t]&&t.length>0&&"_"!==t[0]&&("id"!==t||!a(e.id))}var o=n(1),a=n(0),s=n(7);e.exports=r},function(e,t,n){var r,i;r=[n(12)],void 0!==(i=function(e){"use strict";function t(e,t,n){for(var r,i,o=0,a=e.length-1;o<=a;)if(r=~~((o+a)/2),(i=n(e[r],t))<0)o=r+1;else{if(!(i>0))return r;a=r-1}return~(a+1)}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(106),a=function(e,t){if(!r(e))throw new i("terria is required.");if(r(t))return t.otherwise(function(t){o(e,t)})};e.exports=a},function(e,t,n){"use strict";t.a=function(e){return null===e?NaN:+e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.parseBackgroundImage=t.parseBackground=t.calculateBackgroundRepeatPath=t.calculateBackgroundPosition=t.calculateBackgroungPositioningArea=t.calculateBackgroungPaintingArea=t.calculateGradientBackgroundSize=t.calculateBackgroundSize=t.BACKGROUND_ORIGIN=t.BACKGROUND_CLIP=t.BACKGROUND_SIZE=t.BACKGROUND_REPEAT=void 0;var o=n(122),a=r(o),s=n(143),u=r(s),l=n(890),c=r(l),h=n(239),d=r(h),f=n(144),p=n(507),m=t.BACKGROUND_REPEAT={REPEAT:0,NO_REPEAT:1,REPEAT_X:2,REPEAT_Y:3},g=t.BACKGROUND_SIZE={AUTO:0,CONTAIN:1,COVER:2,LENGTH:3},_=t.BACKGROUND_CLIP={BORDER_BOX:0,PADDING_BOX:1,CONTENT_BOX:2},v=t.BACKGROUND_ORIGIN=_,A=function e(t){switch(i(this,e),t){case"contain":this.size=g.CONTAIN;break;case"cover":this.size=g.COVER;break;case"auto":this.size=g.AUTO;break;default:this.value=new u.default(t)}},y=(t.calculateBackgroundSize=function(e,t,n){var r=0,i=0,o=e.size;if(o[0].size===g.CONTAIN||o[0].size===g.COVER){var a=n.width/n.height,s=t.width/t.height;return a<s!=(o[0].size===g.COVER)?new c.default(n.width,n.width/s):new c.default(n.height*s,n.height)}return o[0].value&&(r=o[0].value.getAbsoluteValue(n.width)),o[0].size===g.AUTO&&o[1].size===g.AUTO?i=t.height:o[1].size===g.AUTO?i=r/t.width*t.height:o[1].value&&(i=o[1].value.getAbsoluteValue(n.height)),o[0].size===g.AUTO&&(r=i/t.height*t.width),new c.default(r,i)},t.calculateGradientBackgroundSize=function(e,t){var n=e.size,r=n[0].value?n[0].value.getAbsoluteValue(t.width):t.width,i=n[1].value?n[1].value.getAbsoluteValue(t.height):n[0].value?r:t.height;return new c.default(r,i)},new A("auto")),b=(t.calculateBackgroungPaintingArea=function(e,t){switch(t){case _.BORDER_BOX:return(0,f.calculateBorderBoxPath)(e);case _.PADDING_BOX:default:return(0,f.calculatePaddingBoxPath)(e)}},t.calculateBackgroungPositioningArea=function(e,t,n,r){var i=(0,f.calculatePaddingBox)(t,r);switch(e){case v.BORDER_BOX:return t;case v.CONTENT_BOX:var o=n[p.PADDING_SIDES.LEFT].getAbsoluteValue(t.width),a=n[p.PADDING_SIDES.RIGHT].getAbsoluteValue(t.width),s=n[p.PADDING_SIDES.TOP].getAbsoluteValue(t.width),u=n[p.PADDING_SIDES.BOTTOM].getAbsoluteValue(t.width);return new f.Bounds(i.left+o,i.top+s,i.width-o-a,i.height-s-u);case v.PADDING_BOX:default:return i}},t.calculateBackgroundPosition=function(e,t,n){return new d.default(e[0].getAbsoluteValue(n.width-t.width),e[1].getAbsoluteValue(n.height-t.height))},t.calculateBackgroundRepeatPath=function(e,t,n,r,i){switch(e.repeat){case m.REPEAT_X:return[new d.default(Math.round(i.left),Math.round(r.top+t.y)),new d.default(Math.round(i.left+i.width),Math.round(r.top+t.y)),new d.default(Math.round(i.left+i.width),Math.round(n.height+r.top+t.y)),new d.default(Math.round(i.left),Math.round(n.height+r.top+t.y))];case m.REPEAT_Y:return[new d.default(Math.round(r.left+t.x),Math.round(i.top)),new d.default(Math.round(r.left+t.x+n.width),Math.round(i.top)),new d.default(Math.round(r.left+t.x+n.width),Math.round(i.height+i.top)),new d.default(Math.round(r.left+t.x),Math.round(i.height+i.top))];case m.NO_REPEAT:return[new d.default(Math.round(r.left+t.x),Math.round(r.top+t.y)),new d.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y)),new d.default(Math.round(r.left+t.x+n.width),Math.round(r.top+t.y+n.height)),new d.default(Math.round(r.left+t.x),Math.round(r.top+t.y+n.height))];default:return[new d.default(Math.round(i.left),Math.round(i.top)),new d.default(Math.round(i.left+i.width),Math.round(i.top)),new d.default(Math.round(i.left+i.width),Math.round(i.height+i.top)),new d.default(Math.round(i.left),Math.round(i.height+i.top))]}},t.parseBackground=function(e,t){return{backgroundColor:new a.default(e.backgroundColor),backgroundImage:E(e,t),backgroundClip:b(e.backgroundClip),backgroundOrigin:w(e.backgroundOrigin)}},function(e){switch(e){case"padding-box":return _.PADDING_BOX;case"content-box":return _.CONTENT_BOX}return _.BORDER_BOX}),w=function(e){switch(e){case"padding-box":return v.PADDING_BOX;case"content-box":return v.CONTENT_BOX}return v.BORDER_BOX},x=function(e){switch(e.trim()){case"no-repeat":return m.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return m.REPEAT_X;case"repeat-y":case"no-repeat repeat":return m.REPEAT_Y;case"repeat":return m.REPEAT}return m.REPEAT},E=function(e,t){var n=T(e.backgroundImage).map(function(e){if("url"===e.method){var n=t.loadImage(e.args[0]);e.args=n?[n]:[]}return e}),r=e.backgroundPosition.split(","),i=e.backgroundRepeat.split(","),o=e.backgroundSize.split(",");return n.map(function(e,t){var n=(o[t]||"auto").trim().split(" ").map(C),a=(r[t]||"auto").trim().split(" ").map(S);return{source:e,repeat:x("string"==typeof i[t]?i[t]:i[0]),size:n.length<2?[n[0],y]:[n[0],n[1]],position:a.length<2?[a[0],a[0]]:[a[0],a[1]]}})},C=function(e){return"auto"===e?y:new A(e)},S=function(e){switch(e){case"bottom":case"right":return new u.default("100%");case"left":case"top":return new u.default("0%");case"auto":return new u.default("0")}return new u.default(e)},T=t.parseBackgroundImage=function(e){var t=/^\s$/,n=[],r=[],i="",o=null,a="",s=0,u=0,l=function(){var e="";if(i){'"'===a.substr(0,1)&&(a=a.substr(1,a.length-2)),a&&r.push(a.trim());var t=i.indexOf("-",1)+1;"-"===i.substr(0,1)&&t>0&&(e=i.substr(0,t).toLowerCase(),i=i.substr(t)),i=i.toLowerCase(),"none"!==i&&n.push({prefix:e,method:i,args:r})}r=[],i=a=""};return e.split("").forEach(function(e){if(0!==s||!t.test(e)){switch(e){case'"':o?o===e&&(o=null):o=e;break;case"(":if(o)break;if(0===s)return void(s=1);u++;break;case")":if(o)break;if(1===s){if(0===u)return s=0,void l();u--}break;case",":if(o)break;if(0===s)return void l();if(1===s&&0===u&&!i.match(/^url$/i))return r.push(a.trim()),void(a="")}0===s?i+=e:a+=e}}),l(),n}},function(e,t,n){"use strict";t.a=function(e){return e<0?-1:1}},function(e,t,n){"use strict";var r=n(35),i=n(201);t.a=function(e){return Math.abs(e)<r.d?e:e-Object(i.a)(e)*Math.PI}},function(e,t,n){"use strict";function r(e,t,n){if(a(e.columns)){var r={};for(var i in e.columns)if(e.columns.hasOwnProperty(i)){r[i]=new c;var o=r[i].updateFromJson(e.columns[i],n);a(o)&&t.push(o)}return r}}var i=n(27),o=n(1),a=n(0),s=n(6),u=n(7),l=n(14),c=n(1182),h=n(196),d=function(e){e=o(e,o.EMPTY_OBJECT),c.call(this,e),this.regionVariable=e.regionVariable,this.regionType=e.regionType,this.dataVariable=e.dataVariable,this.timeColumn=e.timeColumn,this.xAxis=e.xAxis,this.columns=r(e,[])};l(c,d),d.prototype.updateFromJson=function(e,t){var n=[h(this,e,t)];return this.columns=r(e,n,t),u.all(n)},d.prototype.updaters=i(d.prototype.updaters),d.prototype.updaters.columns=function(e,t,n){},s(d.prototype.updaters),e.exports=d},function(e,t,n){"use strict";function r(e){this.onCancel=e.onCancel,this.customUi=i(e.customUi,void 0),this.message=function(){return e.message},this.buttonText=i(e.buttonText,"Cancel"),this.pickedFeatures=void 0,this.drawRectangle=i(e.drawRectangle,!1),o.track(this,["message","pickedFeatures"])}var i=n(1),o=n(13);e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(13),a=n(83),s=n(86),u=n(14),l=n(582),c=n(581),h=function(e){s.call(this,e),this._regionProviderPromise=void 0,this._regionProviderList=void 0,this.validRegionTypes=e.validRegionTypes,o.track(this,["_regionProviderList"]),a(this,"defaultValue",{get:function(){if(r(this._defaultValue))return this._defaultValue;var e=this.terria.nowViewing.items;if(e.length>0)for(var t=0;t<e.length;++t){var n=e[t];if(r(n.regionMapping)&&r(n.regionMapping.regionDetails)&&n.regionMapping.regionDetails.length>0)return n.regionMapping.regionDetails[0].regionProvider}if(r(this._regionProviderList)&&this._regionProviderList.length>0)return this._regionProviderList[0];this.load()}})};h.resolveRegionProvider=function(e){return e instanceof l?e:e instanceof h?e.value:void 0},u(s,h),i(h.prototype,{type:{get:function(){return"regionType"}}}),h.prototype._load=function(){return this.getAllRegionTypes()},h.prototype.getAllRegionTypes=function(){var e=this;return r(this._regionProviderPromise)?this._regionProviderPromise:(this._regionProviderPromise=c.fromUrl(this.terria.configParameters.regionMappingDefinitionsUrl,this.terria.corsProxy).then(function(t){var n;return n=r(e.validRegionTypes)?t.regionProviders.filter(function(t){return e.validRegionTypes.indexOf(t.regionType)>=0}):t.regionProviders,n=n.filter(function(e){return r(e.analyticsWmsServer)}),e._regionProviderList=n,n}),this._regionProviderPromise)},e.exports=h},function(e,t,n){"use strict";function r(e){var t=new G(e.url);return t.segment(-1).match(/\d+/)&&t.segment(-1,""),t}function i(e,t){return B(U(e,t.addQuery("f","json").toString(),"1d"))}function o(e,t){return x(e._newTokenRequestInFlight)||(e._newTokenRequestInFlight=S(e.terria,e.tokenUrl,e.url).then(function(n){e._lastToken=n,t.token=n,e._newTokenRequestInFlight=void 0})),e._newTokenRequestInFlight}function a(e){if(x(e)&&!(e<=0)){var t=2*Math.PI*C.WGS84.maximumRadius,n=t/256,r=n*(9600/2.54),i=r/(e-1e-6);return 0|Math.log(i)/Math.log(2)}}function s(e){var t=e.extent;if(x(t)&&t.spatialReference&&t.spatialReference.wkid){var n="EPSG:"+t.spatialReference.wkid;if(!x(F[n]))return;var r=new k.Proj(F[n]),i=new k.Proj("EPSG:4326"),o=k(r,i,[t.xmin,t.ymin]),a=o[0],s=o[1];o=k(r,i,[t.xmax,t.ymax]);var u=o[0],l=o[1];return z.fromDegrees(a,s,u,l)}}function u(e){return Array.isArray(e)?Q(e.map(function(e){return s(e)})):s(e)}function l(e,t,n,r){if(x(r)&&0!==r.length){var i=e.findInfoSection(n);x(i)?t&&(i.content=r):e.info.push({name:n,content:r})}}function c(e,t,n,r){x(r)&&(!t&&x(e[n])||(e[n]=r))}function h(e){if(e&&e.documentInfo&&e.documentInfo.Author&&e.documentInfo.Author.length>0)return e.documentInfo.Author}function d(e,t){return U(e,f(t))}function f(e){var t=new G(e);return t.search(""),t.toString()}function p(e){var t=new L;return t.isLoading=!0,t.promise=q(e.load()).then(function(){m(t.serviceMetadata,e._mapServerData),x(e.layers)?x(e._thisLayerInLayersData)?m(t.dataSourceMetadata,e._thisLayerInLayersData):t.dataSourceErrorMessage="No details are available.":t.dataSourceErrorMessage="Using all layers from this service that are visible by default.  See the Service Details below.",t.isLoading=!1}).otherwise(function(){t.dataSourceErrorMessage="An error occurred while invoking the ArcGIS map service.",t.serviceErrorMessage="An error occurred while invoking the ArcGIS map service.",t.isLoading=!1}),t}function m(e,t){if(!("string"==typeof t||t instanceof String||t instanceof Array&&(0===t.length||"object"!==y(t[0]))))for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],i=new N;i.name=n,i.value=r,m(i,r),e.items.push(i)}}function g(e,t){t=t.toString();for(var n,r=t.toLowerCase(),i=0;i<e.length;++i){var o=e[i];if(o.id.toString()===t)return o;o.name.toLowerCase()===r&&(n=o)}return n}function _(e,t){return x(t)?t.split(",").map(function(t){return g(e,t)}):e}function v(e){if(e._allLayersInLayersData&&e._allLayersInLayersData.length>0){for(var t=[],n=0;n<e._allLayersInLayersData.length;++n)x(e._allLayersInLayersData[n])&&x(e._allLayersInLayersData[n].id)&&t.push(e._allLayersInLayersData[n].id.toString());return t.join(",")}return e.layers}function A(e,t){var n=new Image;n.src=t;var r=q.defer();return n.onload=r.resolve,r.promise.then(function(){return{title:e,image:n,imageUrl:t,imageWidth:n.width,imageHeight:n.height}})}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=n(596),w=n(1),x=n(0),E=n(2),C=n(23),S=n(585),T=n(121),I=n(140),M=n(14),O=n(13),P=n(564),D=n(165),B=n(44),L=n(74),N=n(233),R=n(83),k=n(337).default,F=n(557),U=n(32),z=n(16),j=n(262),H=n(463),V=n(22),Q=n(587),G=n(33),W=n(63),q=n(7),Y=function(e){T.call(this,e),this._legendUrl=void 0,this._generatedLegendUrl=void 0,this._mapServerData=void 0,this._layersData=void 0,this._thisLayerInLayersData=void 0,this._allLayersInLayersData=void 0,this._lastToken=void 0,this._newTokenRequestInFlight=void 0,this.layers=void 0,this.maximumScale=void 0,this.maximumScaleBeforeMessage=void 0,this.showTilesAfterMessage=!0,this.allowFeaturePicking=!0,this.tokenUrl=void 0,this.parameters={},O.track(this,["layers","maximumScale","_legendUrl","_generatedLegendUrl","maximumScaleBeforeMessage","showTilesAfterMessage","allowFeaturePicking","tokenUrl","parameters"]),R(this,"metadataUrl",{get:function(){return x(this._metadataUrl)?this._metadataUrl:f(this.url)},set:function(e){this._metadataUrl=e}}),R(this,"legendUrl",{get:function(){return x(this._legendUrl)?this._legendUrl:x(this._generatedLegendUrl)?this._generatedLegendUrl:new D(f(this.url)+"/legend")},set:function(e){this._legendUrl=e}}),R(this,"dataUrl",{get:function(){return this._dataUrl},set:function(e){this._dataUrl=e}}),R(this,"dataUrlType",{get:function(){return this._dataUrlType},set:function(e){this._dataUrlType=e}})};M(T,Y),E(Y.prototype,{type:{get:function(){return"esri-mapServer"}},typeName:{get:function(){return"Esri ArcGIS MapServer"}},metadata:{get:function(){return x(this._metadata)||(this._metadata=p(this)),this._metadata}}});var K=new RegExp("^(.*/MapServer/)([0-9]+)","i");Y.prototype._load=function(){var e=this;if(!x(this._mapServerData)||!x(this._layersData)){var t=new G(this.url),n="layers";t.segment(-1).match(/\d+/)&&(n=t.segment(-1),this.layers=n);var o=q();return this.tokenUrl&&(o=S(this.terria,this.tokenUrl,this.url)),o.then(function(t){e._lastToken=t;var o=r(e),a=r(e).segment(n),s=r(e).segment("legend");t&&(o.addQuery("token",t),a.addQuery("token",t),s.addQuery("token",t));var u=e._mapServerData||i(e,o),l=e._layersData||i(e,a),c=e._legendData||i(e,s);return q.all([u,l,c]).then(function(t){if(x(t[1].layers))e.updateFromMetadata(t[0],t[1],t[2],!1);else{if(!x(t[1].id)){var n=x(t[0].error)?t[0].error.message:"This dataset returned unusable metadata.";throw new V({title:"ArcGIS Mapserver Error",message:"<p>"+n+'</p><p>Please report it by sending an email to <a href="mailto:'+e.terria.supportEmail+'">'+e.terria.supportEmail+"</a>.</p>"})}e.updateFromMetadata(t[0],{layers:[t[1]]},t[2],!1,t[1])}})})}},Y.prototype.handleTileError=function(e,t,n,r,i){if(!x(this.tokenUrl))return e;var a=this;return e.otherwise(function(e){return!e||498!==e.statusCode&&499!==e.statusCode?q.reject(e):o(a,t)}).then(function(e){try{var n=JSON.parse(e);if(n&&n.error&&n.error.code)return 498===n.error.code||499===n.error.code?o(a,t):q.reject(new H(n.error.code,n.error.message))}catch(e){}return e})},Y.prototype._createImageryProvider=function(){var e=a(this.maximumScale),t=K.exec(this.url),n=t&&t[2]?t[1]:this.url;n=n.replace(/\/$/g,"");var r=this.layers&&this.layers.length>0,i={url:d(this,n),layers:v(this),tilingScheme:new W,maximumLevel:e,mapServerData:this._mapServerData,enablePickFeatures:w(this.allowFeaturePicking,!0),usePreCachedTilesIfAvailable:!r,parameters:this.parameters};x(this._lastToken)&&(i.token=this._lastToken);var o=new b(i),s=a(this.maximumScaleBeforeMessage);if(x(s)){var u=o.requestImage,l=!1,c=this;o.requestImage=function(e,t,n){return n>s&&(l||(c.terria.error.raiseEvent(new V({title:"Dataset will not be shown at this scale",message:'The "'+c.name+"\" dataset will not be shown when zoomed in this close to the map because the data custodian has indicated that the data is not intended or suitable for display at this scale.  Click the dataset's Info button on the Now Viewing tab for more information about the dataset and the data custodian."})),l=!0),!c.showTilesAfterMessage)?I.loadImage(o,c.terria.baseUrl+"images/blank.png"):u.call(o,e,t,n)}}return o};var X=/^No[\s_-]?Data$/i;Y.prototype.updateFromMetadata=function(e,t,n,r,i){var o;if(!x(i)){if(i=_(t.layers,this.layers),!x(i))return;if(x(this.layers)){var a=this.layers.split(",");for(o=0;o<i.length;++o)x(i[o])||(console.log('A layer with the name or ID "'+a[o]+'" does not exist on the ArcGIS MapServer - ignoring it.'),i.splice(o,1),a.splice(o,1),--o)}if(0===i.length)return}this._mapServerData=e,this._layersData=t,this._legendData=n,Array.isArray(i)?(this._thisLayerInLayersData=i[0],this._allLayersInLayersData=i,i=this._thisLayerInLayersData):(this._thisLayerInLayersData=i,this._allLayersInLayersData=[i]),c(this,r,"dataCustodian",h(e)),c(this,r,"rectangle",u(this._allLayersInLayersData)),x(this._legendUrl)||this.loadLegendFromJson(n);var s=Number.MAX_VALUE,d=Number.MAX_VALUE;for(o=0;o<this._allLayersInLayersData.length;++o){var f=this._allLayersInLayersData[o];f.maxScale<s&&(s=f.maxScale),!X.test(f.name)&&f.maxScale<d&&(d=f.maxScale)}s!==Number.MAX_VALUE&&c(this,r,"maximumScale",s),d!==s&&c(this,r,"maximumScaleBeforeMessage",d),l(this,r,"Data Description",i.description),l(this,r,"Service Description",e.serviceDescription),l(this,r,"Service Description",e.description),l(this,r,"Copyright Text",x(i.copyrightText)&&i.copyrightText.length>0?i.copyrightText:e.copyrightText)};var Z=/_Labels$/;Y.prototype.loadLegendFromJson=function(e){var t={title:""},n=x(this.layers)?this.layers.toLowerCase().split(","):[],r=[],i={};e.layers.forEach(function(e){X.test(e.layerName)||Z.test(e.layerName)||x(this.layers)&&n.indexOf(String(e.layerId))<0&&n.indexOf(e.layerName.toLowerCase())<0||(t.title=j(e.layerName),e.legend.forEach(function(t){if(!i[t.label+t.imageData]){i[t.label+t.imageData]=!0;var n=""!==t.label?t.label:e.layerName;r.push(A(j(n),"data:"+t.contentType+";base64,"+t.imageData))}},this))},this);var o=this;if(0!==r.length)return q.all(r).then(function(e){return e.reverse(),t.items=e,o._generatedLegendUrl=new P(t).getLegendUrl()}).otherwise(function(e){throw e})},e.exports=Y},function(e,t,n){"use strict";var r=n(1384);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(e){return e>1?0:e<-1?f:Math.acos(e)}function i(e){return e>=1?p:e<=-1?-p:Math.asin(e)}n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"k",function(){return c}),n.d(t,"l",function(){return h}),n.d(t,"f",function(){return d}),n.d(t,"j",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"m",function(){return m}),t.b=r,t.c=i;var o=Math.abs,a=Math.atan2,s=Math.cos,u=Math.max,l=Math.min,c=Math.sin,h=Math.sqrt,d=1e-12,f=Math.PI,p=f/2,m=2*f},function(e,t,n){"use strict";t.a=function(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}},function(e,t,n){"use strict";t.a=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}},function(e,t,n){"use strict";function r(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(o.ticks)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return Object(u.a)(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),a=0,s=i.length-1,u=i[a],l=i[s];return l<u&&(r=u,u=l,l=r,r=a,a=s,s=r),r=Object(o.tickIncrement)(u,l,n),r>0?(u=Math.floor(u/r)*r,l=Math.ceil(l/r)*r,r=Object(o.tickIncrement)(u,l,n)):r<0&&(u=Math.ceil(u*r)/r,l=Math.floor(l*r)/r,r=Object(o.tickIncrement)(u,l,n)),r>0?(i[a]=Math.floor(u/r)*r,i[s]=Math.ceil(l/r)*r,t(i)):r<0&&(i[a]=Math.ceil(u*r)/r,i[s]=Math.floor(l*r)/r,t(i)),e},e}function i(){var e=Object(s.b)(s.c,a.c);return e.copy=function(){return Object(s.a)(e,i())},r(e)}t.b=r,t.a=i;var o=n(82),a=n(126),s=n(280),u=n(1473)},function(e,t,n){"use strict";t.a=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})}},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(1607)},function(e,t,n){"use strict";function r(e,t){return(0,u.default)(t)?e.toLocaleDateString(t):[a(e.getDate()),a(e.getMonth()+1),e.getFullYear()].join("/")}function i(e,t){return(0,u.default)(t)?e.toLocaleTimeString(t):[a(e.getHours()),a(e.getMinutes()),a(e.getSeconds())].join(":")}function o(e,t){return r(e,t)+", "+i(e,t)}function a(e){return e<10?"0"+e:""+e}Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=r,t.formatTime=i,t.formatDateTime=o;var s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s)},function(e,t,n){var r,i;r=[n(6),n(36),n(78)],void 0!==(i=function(e,t,n){"use strict";var r=e(t.fromIso8601("0000-01-01T00:00:00Z")),i=e(t.fromIso8601("9999-12-31T24:00:00Z"));return{MINIMUM_VALUE:r,MAXIMUM_VALUE:i,MAXIMUM_INTERVAL:e(new n({start:r,stop:i}))}}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({FIXED:0,INERTIAL:1})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(3)],void 0!==(i=function(e,t){"use strict";function n(){this._removalFunctions=[]}return n.prototype.add=function(e,t,n){var r=e.addEventListener(t,n);this._removalFunctions.push(r);var i=this;return function(){r();var e=i._removalFunctions;e.splice(e.indexOf(r),1)}},n.prototype.removeAll=function(){for(var e=this._removalFunctions,t=0,n=e.length;t<n;++t)e[t]();e.length=0},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(3)],void 0!==(i=function(e,t,n){"use strict";function r(t,n,r,i){this.near=e(t,0),this.nearValue=e(n,0),this.far=e(r,1),this.farValue=e(i,0)}return r.clone=function(e,n){if(t(e))return t(n)?(n.near=e.near,n.nearValue=e.nearValue,n.far=e.far,n.farValue=e.farValue,n):new r(e.near,e.nearValue,e.far,e.farValue)},r.packedLength=4,r.pack=function(t,n,r){return r=e(r,0),n[r++]=t.near,n[r++]=t.nearValue,n[r++]=t.far,n[r]=t.farValue,n},r.unpack=function(n,i,o){return i=e(i,0),t(o)||(o=new r),o.near=n[i++],o.nearValue=n[i++],o.far=n[i++],o.farValue=n[i],o},r.equals=function(e,n){return e===n||t(e)&&t(n)&&e.near===n.near&&e.nearValue===n.nearValue&&e.far===n.far&&e.farValue===n.farValue},r.prototype.clone=function(e){return r.clone(this,e)},r.prototype.equals=function(e){return r.equals(this,e)},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(3),n(15)],void 0!==(i=function(e,t,n,r){"use strict";function i(e,t){this._callback=void 0,this._isConstant=void 0,this._definitionChanged=new r,this.setCallback(e,t)}return t(i.prototype,{isConstant:{get:function(){return this._isConstant}},definitionChanged:{get:function(){return this._definitionChanged}}}),i.prototype.getValue=function(e,t){return this._callback(e,t)},i.prototype.setCallback=function(e,t){var n=this._callback!==e||this._isConstant!==t;this._callback=e,this._isConstant=t,n&&this._definitionChanged.raiseEvent(this)},i.prototype.equals=function(e){return this===e||e instanceof i&&this._callback===e._callback&&this._isConstant===e._isConstant},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";return e({FRONT:t.FRONT,BACK:t.BACK,FRONT_AND_BACK:t.FRONT_AND_BACK})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(41),n(1),n(0),n(3),n(71),n(79)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e){this.planes=n(e,[])}var u=[new e,new e,new e];e.clone(e.UNIT_X,u[0]),e.clone(e.UNIT_Y,u[1]),e.clone(e.UNIT_Z,u[2]);var l=new e,c=new e,h=new a(new e(1,0,0),0);return s.fromBoundingSphere=function(n,i){r(i)||(i=new s);var o=u.length,a=i.planes;a.length=2*o;for(var h=n.center,d=n.radius,f=0,p=0;p<o;++p){var m=u[p],g=a[f],_=a[f+1];r(g)||(g=a[f]=new t),r(_)||(_=a[f+1]=new t),e.multiplyByScalar(m,-d,l),e.add(h,l,l),g.x=m.x,g.y=m.y,g.z=m.z,g.w=-e.dot(m,l),e.multiplyByScalar(m,d,l),e.add(h,l,l),_.x=-m.x,_.y=-m.y,_.z=-m.z,_.w=-e.dot(e.negate(m,c),l),f+=2}return i},s.prototype.computeVisibility=function(e){for(var t=this.planes,n=!1,r=0,i=t.length;r<i;++r){var s=e.intersectPlane(a.fromCartesian4(t[r],h));if(s===o.OUTSIDE)return o.OUTSIDE;s===o.INTERSECTING&&(n=!0)}return n?o.INTERSECTING:o.INSIDE},s.prototype.computeVisibilityWithPlaneMask=function(e,t){if(t===s.MASK_OUTSIDE||t===s.MASK_INSIDE)return t;for(var n=s.MASK_INSIDE,r=this.planes,i=0,u=r.length;i<u;++i){var l=i<31?1<<i:0;if(!(i<31&&0==(t&l))){var c=e.intersectPlane(a.fromCartesian4(r[i],h));if(c===o.OUTSIDE)return s.MASK_OUTSIDE;c===o.INTERSECTING&&(n|=l)}}return n},s.MASK_OUTSIDE=4294967295,s.MASK_INSIDE=0,s.MASK_INDETERMINATE=2147483647,s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({LEFT_DOWN:0,LEFT_UP:1,LEFT_CLICK:2,LEFT_DOUBLE_CLICK:3,RIGHT_DOWN:5,RIGHT_UP:6,RIGHT_CLICK:7,MIDDLE_DOWN:10,MIDDLE_UP:11,MIDDLE_CLICK:12,MOUSE_MOVE:15,WHEEL:16,PINCH_START:17,PINCH_END:18,PINCH_MOVE:19})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(190),n(161)],void 0!==(i=function(e,t,n,r){"use strict";function i(t){t=e(t,e.EMPTY_OBJECT);var i=e(t.throttleByServer,!1),o=i||e(t.throttle,!1);this.url=t.url,this.requestFunction=t.requestFunction,this.cancelFunction=t.cancelFunction,this.priorityFunction=t.priorityFunction,this.priority=e(t.priority,0),this.throttle=o,this.throttleByServer=i,this.type=e(t.type,r.OTHER),this.serverKey=void 0,this.state=n.UNISSUED,this.deferred=void 0,this.cancelled=!1}return i.prototype.cancel=function(){this.cancelled=!0},i.prototype.clone=function(e){return t(e)?(e.url=this.url,e.requestFunction=this.requestFunction,e.cancelFunction=this.cancelFunction,e.priorityFunction=this.priorityFunction,e.priority=this.priority,e.throttle=this.throttle,e.throttleByServer=this.throttleByServer,e.type=this.type,e.serverKey=this.serverKey,e.state=this.RequestState.UNISSUED,e.deferred=void 0,e.cancelled=!1,e):new i(this)},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){for(var t=0;t<s.length;t++)-1===e.propertyNames.indexOf(s[t])&&e.addProperty(s[t])}var i=n(156),o=n(13),a=n(14),s=["entityCollection","properties","data"],u=function(e){i.call(this,e),r(this),this.currentProperties=void 0,this.currentDescription=void 0,this.updateCounters=void 0,o.track(this,["currentProperties","currentDescription","updateCounters"])};a(i,u),u.fromEntity=function(e){var t=new u({id:e.id});t.merge(e);for(var n=0;n<s.length;n++)-1===e.propertyNames.indexOf(s[n])&&(t[s[n]]=e[s[n]]);return t},u.fromEntityCollectionOrEntity=function(e){var t;return e.entityCollection&&(t=e.entityCollection.getById(e.id)),t&&t instanceof u||(t=u.fromEntity(e)),t},e.exports=u},function(e,t,n){var r,i;r=[n(10),n(24),n(12),n(1),n(0),n(2),n(23),n(9)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e){var t=e._uSquared,n=e._ellipsoid.maximumRadius,r=e._ellipsoid.minimumRadius,i=(n-r)/n,o=Math.cos(e._startHeading),a=Math.sin(e._startHeading),s=(1-i)*Math.tan(e._start.latitude),u=1/Math.sqrt(1+s*s),l=u*s,c=Math.atan2(s,o),h=u*a,d=h*h,f=1-d,p=Math.sqrt(f),m=t/4,g=m*m,_=g*m,v=g*g,A=1+m-3*g/4+5*_/4-175*v/64,y=1-m+15*g/8-35*_/8,b=1-3*m+35*g/4,w=1-5*m,x=A*c-y*Math.sin(2*c)*m/2-b*Math.sin(4*c)*g/16-w*Math.sin(6*c)*_/48-5*Math.sin(8*c)*v/512,E=e._constants;E.a=n,E.b=r,E.f=i,E.cosineHeading=o,E.sineHeading=a,E.tanU=s,E.cosineU=u,E.sineU=l,E.sigma=c,E.sineAlpha=h,E.sineSquaredAlpha=d,E.cosineSquaredAlpha=f,E.cosineAlpha=p,E.u2Over4=m,E.u4Over16=g,E.u6Over64=_,E.u8Over256=v,E.a0=A,E.a1=y,E.a2=b,E.a3=w,E.distanceRatio=x}function l(e,t){return e*t*(4+e*(4-3*t))/16}function c(e,t,n,r,i,o,a){var s=l(e,n);return(1-s)*e*t*(r+s*i*(a+s*o*(2*a*a-1)))}function h(e,t,n,r,i,o,a){var u,l,h,d,f,p=(t-n)/t,m=o-r,g=Math.atan((1-p)*Math.tan(i)),_=Math.atan((1-p)*Math.tan(a)),v=Math.cos(g),A=Math.sin(g),y=Math.cos(_),b=Math.sin(_),w=v*y,x=v*b,E=A*b,C=A*y,S=m,T=s.TWO_PI,I=Math.cos(S),M=Math.sin(S);do{I=Math.cos(S),M=Math.sin(S);var O=x-C*I;h=Math.sqrt(y*y*M*M+O*O),l=E+w*I,u=Math.atan2(h,l);var P;0===h?(P=0,d=1):(P=w*M/h,d=1-P*P),T=S,f=l-2*E/d,isNaN(f)&&(f=0),S=m+c(p,P,d,u,h,l,f)}while(Math.abs(S-T)>s.EPSILON12);var D=d*(t*t-n*n)/(n*n),B=1+D*(4096+D*(D*(320-175*D)-768))/16384,L=D*(256+D*(D*(74-47*D)-128))/1024,N=f*f,R=L*h*(f+L*(l*(2*N-1)-L*f*(4*h*h-3)*(4*N-3)/6)/4),k=n*B*(u-R),F=Math.atan2(y*M,x-C*I),U=Math.atan2(v*M,x*I-C);e._distance=k,e._startHeading=F,e._endHeading=U,e._uSquared=D}function d(n,r,i,o){e.normalize(o.cartographicToCartesian(r,m),p),e.normalize(o.cartographicToCartesian(i,m),m);h(n,o.maximumRadius,o.minimumRadius,r.longitude,r.latitude,i.longitude,i.latitude),n._start=t.clone(r,n._start),n._end=t.clone(i,n._end),n._start.height=0,n._end.height=0,u(n)}function f(e,n,o){var s=r(o,a.WGS84);this._ellipsoid=s,this._start=new t,this._end=new t,this._constants={},this._startHeading=void 0,this._endHeading=void 0,this._distance=void 0,this._uSquared=void 0,i(e)&&i(n)&&d(this,e,n,s)}var p=new e,m=new e;return o(f.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){return this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},startHeading:{get:function(){return this._startHeading}},endHeading:{get:function(){return this._endHeading}}}),f.prototype.setEndPoints=function(e,t){d(this,e,t,this._ellipsoid)},f.prototype.interpolateUsingFraction=function(e,t){return this.interpolateUsingSurfaceDistance(this._distance*e,t)},f.prototype.interpolateUsingSurfaceDistance=function(e,n){var r=this._constants,o=r.distanceRatio+e/r.b,a=Math.cos(2*o),s=Math.cos(4*o),u=Math.cos(6*o),l=Math.sin(2*o),h=Math.sin(4*o),d=Math.sin(6*o),f=Math.sin(8*o),p=o*o,m=o*p,g=r.u8Over256,_=r.u2Over4,v=r.u6Over64,A=r.u4Over16,y=2*m*g*a/3+o*(1-_+7*A/4-15*v/4+579*g/64-(A-15*v/4+187*g/16)*a-(5*v/4-115*g/16)*s-29*g*u/16)+(_/2-A+71*v/32-85*g/16)*l+(5*A/16-5*v/4+383*g/96)*h-p*((v-11*g/2)*l+5*g*h/2)+(29*v/96-29*g/16)*d+539*g*f/1536,b=Math.asin(Math.sin(y)*r.cosineAlpha),w=Math.atan(r.a/r.b*Math.tan(b));y-=r.sigma;var x=Math.cos(2*r.sigma+y),E=Math.sin(y),C=Math.cos(y),S=r.cosineU*C,T=r.sineU*E,I=Math.atan2(E*r.sineHeading,S-T*r.cosineHeading),M=I-c(r.f,r.sineAlpha,r.cosineSquaredAlpha,y,E,C,x);return i(n)?(n.longitude=this._start.longitude+M,n.latitude=w,n.height=0,n):new t(this._start.longitude+M,w,0)},f}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(92),n(1),n(0),n(3)],void 0!==(i=function(e,t,n,r){"use strict";function i(e,t){var n;return"undefined"!=typeof document&&(n=document),i._implementation(e,t,n)}return i._implementation=function(r,i,o){if(!n(i)){if(void 0===o)return r;i=t(o.baseURI,o.location.href)}var a=new e(i);return new e(r).resolve(a).toString()},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";(function(t){function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:n}:e.exports=t}).call(t,n(73))},function(e,t,n){"use strict";function r(e){console&&console.warn&&console.warn(e)}function i(){i.init.call(this)}function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function a(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function s(e,t,n,i){var s,u,l;if(o(n),u=e._events,void 0===u?(u=e._events=Object.create(null),e._eventsCount=0):(void 0!==u.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),u=e._events),l=u[t]),void 0===l)l=u[t]=n,++e._eventsCount;else if("function"==typeof l?l=u[t]=i?[n,l]:[l,n]:i?l.unshift(n):l.push(n),(s=a(e))>0&&l.length>s&&!l.warned){l.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=l.length,r(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function c(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?p(i):d(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function f(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function p(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function m(e,t){return new Promise(function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)})}var g,_="object"==typeof Reflect?Reflect:null,v=_&&"function"==typeof _.apply?_.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};g=_&&"function"==typeof _.ownKeys?_.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var A=Number.isNaN||function(e){return e!==e};e.exports=i,e.exports.once=m,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var y=10;Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(e){if("number"!=typeof e||e<0||A(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");y=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||A(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)v(s,this,t);else for(var u=s.length,l=d(s,u),n=0;n<u;++n)v(l[n],this,t);return!0},i.prototype.addListener=function(e,t){return s(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return s(this,e,t,!0)},i.prototype.once=function(e,t){return o(t),this.on(e,l(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,l(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,i,a,s;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():f(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return c(this,e,!0)},i.prototype.rawListeners=function(e){return c(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]}},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+r),i);for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(i)},function(e,t,n){"use strict";function r(e,t){return t=i(t,[]),o(e.parent)?r(e.parent,t.concat([e.uniqueId])):t}var i=n(1),o=n(0),a=n(2),s=n(3),u=n(6),l=n(7),c=n(13),h=n(231),d=n(196),f=n(81),p=n(195),m=function(e){if(!o(e))throw new s("terria is required");this._terria=e,this.name="Unnamed Item",this.description="",this.info=[],this.infoSectionOrder=void 0,this.isUserSupplied=!0,this.isPromoted=!1,this.isHidden=!1,this.initialMessage=void 0,this.cacheDuration=void 0,this.forceProxy=!1,this.customProperties={},this.id=void 0,this.shareKeys=void 0,this.parent=void 0,this.shortReport=void 0,this.shortReportSections=[],this.isLoading=!1,this.isWaitingForDisclaimer=!1,this.hideSource=!1,this._sourceInfoItemNames=[],this._nameInCatalog=void 0,this._loadingPromise=void 0,this._memoizedInfoItemsSourceLookup=void 0,c.track(this,["name","info","infoSectionOrder","description","isUserSupplied","isPromoted","initialMessage","isHidden","cacheDuration","customProperties","shortReport","shortReportSections","isLoading","isWaitingForDisclaimer","_nameInCatalog"]),c.defineProperty(this,"nameSortKey",{get:function(){return this.nameInCatalog.split(/(\d+)/).map(function(e){var t=parseInt(e,10);return t===t?t:e.trim().toLowerCase()})}}),c.defineProperty(this,"nameInCatalog",{get:function(){return i(this._nameInCatalog,this.name)},set:function(e){this._nameInCatalog=e}})},g=/description/i;a(m.prototype,{type:{get:function(){throw new s('Types derived from CatalogMember must implement a "type" property.')}},typeName:{get:function(){throw new s('Types derived from CatalogMember must implement a "typeName" property.')}},isGroup:{get:function(){return!1}},terria:{get:function(){return this._terria}},updaters:{get:function(){return m.defaultUpdaters}},serializers:{get:function(){return m.defaultSerializers}},propertiesForSharing:{get:function(){return m.defaultPropertiesForSharing}},hasDescription:{get:function(){return this.description||this.info&&this.info.some(function(e){return g.test(e.name)})}},uniqueId:{get:function(){return this.id?this.id:(this.parent?this.parent.uniqueId+"/":"")+this.name}},allShareKeys:{get:function(){var e=[this.uniqueId];return this.shareKeys?e.concat(this.shareKeys):e}},needsDisclaimerShown:{get:function(){return o(this.initialMessage)&&(!o(this.initialMessage.key)||!this.terria.getLocalProperty(this.initialMessage.key))}},infoWithoutSources:{get:function(){return i(this.info,[]).filter(function(e){return!o(this._infoItemsWithSourceInfoLookup[e.name])}.bind(this))}},_infoItemsWithSourceInfoLookup:{get:function(){return o(this._memoizedInfoItemsSourceLookup)||(this._memoizedInfoItemsSourceLookup=this._sourceInfoItemNames.reduce(function(e,t){return e[t]=!0,e},{})),this._memoizedInfoItemsSourceLookup}}}),m.defaultUpdaters={nameSortKey:function(){},info:function(e,t,n){o(t.info)&&t.info.forEach(function(t){var n=e.info.filter(function(e){return e.name===t.name})[0];if(o(n)){var r=e.info.indexOf(n);e.info.splice(r,1,t)}else e.info.push(t)})}},u(m.defaultUpdaters),m.defaultSerializers={nameSortKey:function(){}},u(m.defaultSerializers),m.defaultPropertiesForSharing=["name"],u(m.defaultPropertiesForSharing),m.prototype.updateFromJson=function(e,t){o(t)&&o(t.isUserSupplied)&&(this.isUserSupplied=t.isUserSupplied);var n=d(this,e,t);return this.isLoading?l.all([n,this.load()]):n},m.prototype.serializeToJson=function(e){e=i(e,i.EMPTY_OBJECT);var t=h(this,e.propertyFilter,e);return t.type=this.type,t.id=this.uniqueId,o(this.parent)&&(t.parents=r(this.parent).reverse()),t},m.prototype.findInfoSection=function(e){for(var t=0;t<this.info.length;++t)if(this.info[t].name===e)return this.info[t]},m.prototype.connectsWithRoot=function(){for(var e=this;e.parent;)e=e.parent;return e===this.terria.catalog.group},m.prototype.enableWithParents=function(){throw new s('Types derived from CatalogMember must implement a "enableWithParents" function.')},m.prototype.waitForDisclaimerIfNeeded=function(){if(this.needsDisclaimerShown){this.isWaitingForDisclaimer=!0;var e=l.defer();return this.terria.disclaimerListener(this,function(){this.isWaitingForDisclaimer=!1,e.resolve()}.bind(this)),e.promise}return l()},m.prototype.load=function(){if(o(this._loadingPromise))return this._loadingPromise;var e=[];if(o(this._getValuesThatInfluenceLoad)&&(e=this._getValuesThatInfluenceLoad()),!p(e,this._lastLoadInfluencingValues)){this.isLoading=!0;var t=this;return this._loadingPromise=f(function(){return t._lastLoadInfluencingValues=[],o(t._getValuesThatInfluenceLoad)&&(t._lastLoadInfluencingValues=t._getValuesThatInfluenceLoad()),t._load()}).then(function(e){return t._loadingPromise=void 0,t.isLoading=!1,e}).otherwise(function(e){throw t._lastLoadInfluencingValues=void 0,t._loadingPromise=void 0,t.isLoading=!1,e}),this._loadingPromise}},m.itemFilters={userSuppliedOnly:function(e){return e.isUserSupplied},enabled:function(e){return!o(e.isEnabled)||e.isEnabled},noLocalData:function(e){return!o(e.data)}},m.propertyFilters={sharedOnly:function(e,t){return t.propertiesForSharing.indexOf(e)>=0}},e.exports=m},function(e,t,n){"use strict";function r(e,t,n){n=i(n,i.EMPTY_OBJECT),t=i(t,function(){return!0});var r={};for(var o in e)e.hasOwnProperty(o)&&o.length>0&&"_"!==o[0]&&"parent"!==o&&t(o,e)&&(e.serializers&&e.serializers[o]?e.serializers[o](e,r,o,n):r[o]=e[o]);return r}var i=n(1);e.exports=r},function(e,t,n){var r;void 0!==(r=function(){function e(){var e=/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,t=arguments,n=0,r=t[n++],i=function(e,t,n,r){n||(n=" ");var i=e.length>=t?"":Array(1+t-e.length>>>0).join(n);return r?e+i:i+e},o=function(e,t,n,r,o,a){var s=r-e.length;return s>0&&(e=n||!o?i(e,r,a,n):e.slice(0,t.length)+i("",s,"0",!0)+e.slice(t.length)),e},a=function(e,t,n,r,a,s,u){var l=e>>>0;return n=n&&l&&{2:"0b",8:"0",16:"0x"}[t]||"",e=n+i(l.toString(t),s||0,"0",!1),o(e,n,r,a,u)},s=function(e,t,n,r,i,a){return null!=r&&(e=e.slice(0,r)),o(e,"",t,n,i,a)},u=function(e,r,u,l,c,h,d){var f,p,m,g,_;if("%%"==e)return"%";for(var v=!1,A="",y=!1,b=!1,w=" ",x=u.length,E=0;u&&E<x;E++)switch(u.charAt(E)){case" ":A=" ";break;case"+":A="+";break;case"-":v=!0;break;case"'":w=u.charAt(E+1);break;case"0":y=!0;break;case"#":b=!0}if(l=l?"*"==l?+t[n++]:"*"==l.charAt(0)?+t[l.slice(1,-1)]:+l:0,l<0&&(l=-l,v=!0),!isFinite(l))throw new Error("sprintf: (minimum-)width must be finite");switch(h=h?"*"==h?+t[n++]:"*"==h.charAt(0)?+t[h.slice(1,-1)]:+h:"fFeE".indexOf(d)>-1?6:"d"==d?0:void 0,_=r?t[r.slice(0,-1)]:t[n++],d){case"s":return s(String(_),v,l,h,y,w);case"c":return s(String.fromCharCode(+_),v,l,h,y);case"b":return a(_,2,b,v,l,h,y);case"o":return a(_,8,b,v,l,h,y);case"x":return a(_,16,b,v,l,h,y);case"X":return a(_,16,b,v,l,h,y).toUpperCase();case"u":return a(_,10,b,v,l,h,y);case"i":case"d":return f=+_||0,f=Math.round(f-f%1),p=f<0?"-":A,_=p+i(String(Math.abs(f)),h,"0",!1),o(_,p,v,l,y);case"e":case"E":case"f":case"F":case"g":case"G":return f=+_,p=f<0?"-":A,m=["toExponential","toFixed","toPrecision"]["efg".indexOf(d.toLowerCase())],g=["toString","toUpperCase"]["eEfFgG".indexOf(d)%2],_=p+Math.abs(f)[m](h),o(_,p,v,l,y)[g]();default:return e}};return r.replace(e,u)}return e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){"use strict";var r=n(2),i=n(13),o=function(e,t){this.name=e,this.value=t,this.items=[],this.isOpen=!0,i.track(this,["name","value","items","isOpen"])};r(o.prototype,{hasChildren:{get:function(){return this.items.length>0}},valueIsArray:{get:function(){return this.value instanceof Array}}}),o.prototype.toggleOpen=function(){this.isOpen=!this.isOpen},e.exports=o},function(e,t,n){"use strict";function r(e,t){if(f(e)){var n=e.height*t,r=e.width*t;e.north=Math.min(Math.PI/2,e.north+n),e.south=Math.max(-Math.PI/2,e.south-n),e.east=Math.min(Math.PI,e.east+r),e.west=Math.max(-Math.PI,e.west-r)}return e}function i(e,t){void 0===e.idColumns&&!f(t.idColumnNames)&&f(t.columnsByType[D.TIME].length>0)&&t.getColumnNames().indexOf(B)>=0&&(e.idColumns=[B],t.idColumnNames=e.idColumns)}function o(e,t){return e._dataSource=new M(e.terria,t,e._tableStyle,e.name,e.polling.seconds>0),e._dataSource.changedEvent.addEventListener(a.bind(null,e),e),e.activateColumnFromTableStyle(),s(t,e._tableStyle),e.startPolling(),y(!0)}function a(e){e.terria.currentViewer.notifyRepaintRequired()}function s(e,t){if(null===t.dataVariable)return e.columns[0].toggleActive(),void e.columns[0].toggleActive();if(0===e.activeItems.length){var n=e.columns.filter(function(e){return e.type===D.SCALAR}).concat(e.columns.filter(function(e){return e.type===D.ENUM}));if(n.length>0){for(var r=0;r<n.length;r++){var i=n[r];if(i.isEnum){var o=i.uniqueValues.length;if(o>2&&o<20&&o<.8*i.values.length)return void i.toggleActive()}else if(i.minimumValue<i.maximumValue)return void i.toggleActive()}n[0].toggleActive()}else e.columns[0].toggleActive(),e.columns[0].toggleActive()}}function u(e){var t=e._tableStructure;if(0===t.activeItems.length){var n=t.columnsByType[D.SCALAR];n.length>1&&0===t.columnsByType[D.TIME].length?n[1].toggleActive():n.length>0&&n[0].toggleActive()}else e.setColorOnActiveColumns()}function l(e){e.isEnabled&&e.isShown&&!e.isMappable&&e.terria.catalog.chartableItems.indexOf(e)<0&&(e.terria.catalog.chartableItems.push(e),e.disableIncompatibleTableColumns(),e.setColorOnActiveColumns())}function c(e){var t=e.terria.catalog.chartableItems.indexOf(e);t>=0&&e.terria.catalog.chartableItems.splice(t,1)}var h=n(27),d=n(1),f=n(0),p=n(2),m=n(3),g=n(6),_=n(162),v=n(36),A=n(13),y=n(7),b=n(131),w=n(56),x=n(481),E=n(14),C=n(83),S=n(494),T=n(316),I=n(331),M=n(1234),O=n(203),P=n(22),D=n(85),B="id",L=function(e,t,n){w.call(this,e),n=d(n,d.EMPTY_OBJECT),this._tableStructure=void 0,f(n.tableStyle)?n.tableStyle instanceof O?this._tableStyle=n.tableStyle:this._tableStyle=new O(n.tableStyle):this._tableStyle=new O,this._dataSource=void 0,this._regionMapping=void 0,this._rectangle=void 0,this._pollTimeout=void 0,this.url=t,this.data=void 0,this.dataSourceUrl=void 0,this.opacity=.8,this.keepOnTop=!1,this.polling=new S,this.showWarnings=!0,this.colors=I.modifiedBrewer8ClassSet2,this.idColumns=n.idColumns,this.isSampled=d(n.isSampled,!0),this.splitDirection=_.NONE,A.track(this,["data","dataSourceUrl","opacity","keepOnTop","showWarnings","_tableStructure","_dataSource","_regionMapping","splitDirection"]),A.getObservable(this,"opacity").subscribe(function(e){f(this._regionMapping)&&f(this._regionMapping.updateOpacity)&&(this._regionMapping.updateOpacity(e),this.terria.currentViewer.notifyRepaintRequired())},this),A.defineProperty(this,"concepts",{get:function(){return f(this._tableStructure)?[this._tableStructure]:[]}}),A.defineProperty(this,"tableStyle",{get:function(){return this._tableStyle}}),A.defineProperty(this,"dataViewId",{get:function(){}}),A.defineProperty(this,"availableDates",{get:function(){if(f(this.intervals)){for(var e=[],t=0;t<this.intervals.length;t++)e.push(v.toDate(this.intervals.get(t).start,3));return e}return[]}},this),A.defineProperty(this,"intervals",{get:function(){if(f(this.tableStructure)&&f(this.tableStructure.activeTimeColumn)&&f(this.tableStructure.activeTimeColumn.timeIntervals))return this.tableStructure.activeTimeColumn.timeIntervals.reduce(function(e,t){return f(t)&&e.addInterval(t),e},new b)}}),C(this,"clock",{get:function(){var e=this.timeColumn;if(this.isMappable&&f(e))return e.clock}}),C(this,"legendUrl",{get:function(){return f(this._dataSource)?this._dataSource.legendUrl:f(this._regionMapping)?this._regionMapping.legendUrl:void 0}}),C(this,"rectangle",{get:function(){if(f(this._rectangle))return this._rectangle;var e;return f(this._dataSource)?e=this._dataSource.extent:f(this._regionMapping)&&(e=this._regionMapping.extent),r(e,.08)},set:function(e){this._rectangle=e}}),C(this,"dataUrl",{get:function(){return f(this._dataUrl)?this._dataUrl:f(this._tableStructure)?this._tableStructure.toDataUri():void 0},set:function(e){this._dataUrl=e}}),C(this,"dataUrlType",{get:function(){return f(this._dataUrlType)?this._dataUrlType:f(this._tableStructure)?"data-uri":void 0},set:function(e){this._dataUrlType=e}}),A.getObservable(this,"splitDirection").subscribe(function(){this.terria.currentViewer.updateItemForSplitter(this)},this)};E(w,L),p(L.prototype,{timeColumn:{get:function(){return this._tableStructure&&this._tableStructure.activeTimeColumn}},xAxis:{get:function(){if(!this.isMappable&&this._tableStructure)return f(this._tableStyle.xAxis)?this._tableStructure.getColumnWithNameOrId(this._tableStyle.xAxis):this.timeColumn||this._tableStructure.columnsByType[D.SCALAR][0]}},supportsReordering:{get:function(){return f(this._regionMapping)&&f(this._regionMapping.regionDetails)&&!this.keepOnTop}},supportsOpacity:{get:function(){return f(this._regionMapping)&&f(this._regionMapping.regionDetails)}},supportsSplitting:{get:function(){return f(this._regionMapping)&&f(this._regionMapping.regionDetails)}},tableStructure:{get:function(){return this._tableStructure}},dataSource:{get:function(){return this._dataSource}},regionMapping:{get:function(){return this._regionMapping}},imageryLayer:{get:function(){return this._regionMapping&&this._regionMapping.imageryLayer}},propertiesForSharing:{get:function(){return L.defaultPropertiesForSharing}},updaters:{get:function(){return L.defaultUpdaters}},serializers:{get:function(){return L.defaultSerializers}}}),L.defaultUpdaters=h(w.defaultUpdaters),L.defaultUpdaters.tableStyle=function(e,t,n,r){return e._tableStyle.updateFromJson(t[n],r)},L.defaultUpdaters.polling=function(e,t,n,r){return e[n].updateFromJson(t[n],r)},L.defaultUpdaters.concepts=function(){},L.defaultUpdaters.dataViewId=function(){},L.defaultUpdaters.availableDates=function(){},L.defaultUpdaters.intervals=function(){},g(L.defaultUpdaters),L.defaultSerializers=h(w.defaultSerializers),L.defaultSerializers.tableStyle=function(e,t,n,r){if(t[n]=e[n].serializeToJson(r),f(e._tableStructure)){var i=e._tableStructure.activeItems;t[n].dataVariable=i[0]&&i[0].name}},L.defaultSerializers.polling=function(e,t,n,r){t[n]=e[n].serializeToJson(r)},L.defaultSerializers.legendUrl=function(){},L.defaultSerializers.concepts=function(){},L.defaultSerializers.dataViewId=function(){},L.defaultSerializers.dataUrl=function(e,t){t.dataUrl=e._dataUrl},L.defaultSerializers.clock=function(){},L.defaultSerializers.availableDates=function(){},L.defaultSerializers.intervals=function(){},g(L.defaultSerializers),L.defaultPropertiesForSharing=h(w.defaultPropertiesForSharing),L.defaultPropertiesForSharing.push("keepOnTop"),L.defaultPropertiesForSharing.push("opacity"),L.defaultPropertiesForSharing.push("tableStyle"),g(L.defaultPropertiesForSharing),L.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.data]},L.applyTableStyleColumnsToStructure=function(e,t){if(f(e.columns))for(var n in e.columns)if(e.columns.hasOwnProperty(n)){var r=e.columns[n],i=t.getColumnWithNameIdOrIndex(n);f(i)&&(f(r.units)&&(i.units=r.units),f(r.type)&&(i.type=r.type),f(r.active)&&(i.isActive=r.active),f(r.name)&&(i.name=r.name))}},L.prototype.initializeFromTableStructure=function(e){function t(){e.name="",e.allowMultiple=!0,n.activateColumnFromTableStyle(),n.setChartable(),n.startPolling()}var n=this,r=n._tableStyle;if(i(n,e),e.setActiveTimeColumn(r.timeColumn),n._tableStructure=e,!n.isMappable)return void t();if(!e.hasLatitudeAndLongitude&&e.hasAddress&&f(n.terria.batchGeocoder)){return n.terria.batchGeocoder.bulkConvertAddresses(e,n.terria.corsProxy).then(function(t){var r=v.secondsDifference(v.now(),t.startTime),i="Bulk geocode of "+t.numberOfAddressesConverted+" addresses took "+r.toFixed(2)+" seconds, which is "+(t.numberOfAddressesConverted/r).toFixed(2)+" addresses/s, or "+(r/t.numberOfAddressesConverted).toFixed(2)+" s/address.\n";console.log(i);var a="";return(t.missingAddresses.length>0||t.nullAddresses>0)&&(t.missingAddresses.length>0&&(a="\nThe CSV contains addresses, but "+t.missingAddresses.length+" can't be located on the map:\n"+t.missingAddresses.join(", ")+".<br/><br/>"),t.nullAddresses>0&&(a+=t.nullAddresses+" addresses are missing from the CSV."),n.terria.error.raiseEvent(new P({sender:this,title:"Bulk Geocoder Information",message:a}))),o(n,e)}).otherwise(function(e){n.terria.error.raiseEvent(new P({sender:this,title:"Bulk Geocoder Error",message:"Unable to map addresses to lat-long coordinates, as an error occurred while retrieving address coordinates. Please check your internet connection or try again later."})),console.log("Unable to map addresses to lat-long coordinates.",e)})}if(e.hasLatitudeAndLongitude)return o(n,e);var u=new T(n,e,n._tableStyle);return u.loadRegionDetails().then(function(i){return i?(n._regionMapping=u,n._regionMapping.changedEvent.addEventListener(a.bind(null,n),n),n._regionMapping.setRegionColumnType(),n.activateColumnFromTableStyle(),s(e,r),n.startPolling(),y(!0)):(t(),y(!0))})},L.prototype.setChartable=function(){var e=this._tableStructure;e.allowMultiple=!0,e.requireSomeActive=!1,this.isMappable=!1,f(e.getColorCallback)||(e.getColorCallback=this.getNextColor.bind(this)),e.toggleActiveCallback=this.disableIncompatibleTableColumns.bind(this);var t=this.xAxis;e.columns.forEach(function(e){[D.ALT,D.LON,D.LAT].indexOf(e.type)>=0&&(e.type=D.SCALAR),e.isVisible=e!==t&&e.type===D.SCALAR}),u(this),l(this)},L.prototype.setColorOnActiveColumns=function(){var e=this._tableStructure;e.columns.filter(function(e){return e.isActive&&!f(e.color)}).forEach(function(t){t.color=e.getColorCallback(e.getColumnIndex(t.id))})},L.prototype.activateColumnFromTableStyle=function(){var e=this._tableStyle;if(f(e)&&f(e.dataVariable)){var t=this._tableStructure.getColumnWithNameOrId(e.dataVariable);t&&t.toggleActive()}},L.prototype.startPolling=function(){var e=this.polling;if(f(e.seconds)&&e.seconds>0)throw new m("Polling is not available on this dataset.")},L.prototype._load=function(){throw new m("_load must be implemented in the derived class.")},L.prototype._enable=function(e){f(this._regionMapping)&&this._regionMapping.enable(e),l(this),this.terria.currentViewer.updateItemForSplitter(this)},L.prototype._disable=function(){f(this._regionMapping)&&this._regionMapping.disable(),c(this)},L.prototype._show=function(){if(f(this._dataSource)){var e=this.terria.dataSources;if(e.contains(this._dataSource))return void(console&&console.log&&console.log(new Error("This data source is already shown.")));e.add(this._dataSource)}f(this._regionMapping)&&this._regionMapping.show(),l(this)},L.prototype._hide=function(){if(f(this._dataSource)){var e=this.terria.dataSources;if(!e.contains(this._dataSource))throw new m("This data source is not shown.");e.remove(this._dataSource,!1)}f(this._regionMapping)&&this._regionMapping.hide(),c(this)},L.prototype.getNextColor=function(){var e=this._terria.catalog;if(f(e)&&f(this.colors)&&0!==this.colors.length&&this.isEnabled){var t=this.colors.slice(),n=e.chartableItems.map(function(e){return e.tableStructure.columns.map(function(e){return e.color}).filter(function(e){return f(e)})});n=n.reduce(function(e,t){return e.concat(t)},[]);for(var r=0;r<n.length;r++){var i=t.indexOf(n[r]);i>-1&&t.splice(i,1),0===t.length&&(t=this.colors.slice())}return t[0]}},L.prototype.chartData=function(){var e=this,t=this,n=t.xAxis,r=t.tableStructure.columnsByType[D.SCALAR].filter(function(e){return e.isActive});if(r.length>0){var i=r.map(function(e){return t.tableStructure.columns.indexOf(e)});return t.tableStructure.toPointArrays(n,r).map(function(n,o){return new x(n,{id:t.uniqueId+"-"+i[o],name:r[o].name,categoryName:t.name,units:r[o].units,color:r[o].color||e.colors[0],yAxisMin:r[o].yAxisMin,yAxisMax:r[o].yAxisMax})})}},L.prototype.disableIncompatibleTableColumns=function(){if(this.isEnabled&&this.isShown){var e=this._tableStructure,t=this.xAxis;this._terria.catalog.chartableItems.forEach(function(n){n.tableStructure!==e&&n.xAxis.type!==t.type&&n.tableStructure.columns.forEach(function(e){e.isActive=!1})})}},L.prototype.showOnSeparateMap=function(e){var t,n=this._dataSource;return f(this._regionMapping)&&(t=this._regionMapping.showOnSeparateMap(e)),f(n)&&e.addDataSource({dataSource:n}),function(){f(t)&&t(),f(n)&&e.removeDataSource({dataSource:n})}},e.exports=L},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";function t(){this.name=void 0,this.description=void 0,this.position=void 0,this.properties=void 0,this.data=void 0,this.imageryLayer=void 0}return t.prototype.configureNameFromProperties=function(t){var n,r=10;for(var i in t)if(t.hasOwnProperty(i)&&t[i]){var o=i.toLowerCase();r>1&&"name"===o?(r=1,n=i):r>2&&"title"===o?(r=2,n=i):r>3&&/name/i.test(i)?(r=3,n=i):r>4&&/title/i.test(i)&&(r=4,n=i)}e(n)&&(this.name=t[n])},t.prototype.configureDescriptionFromProperties=function(t){function n(t){var r='<table class="cesium-infoBox-defaultTable">';for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];e(o)&&(r+="object"==typeof o?"<tr><td>"+i+"</td><td>"+n(o)+"</td></tr>":"<tr><td>"+i+"</td><td>"+o+"</td></tr>")}return r+="</table>"}this.description=n(t)},t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(24),n(0),n(3),n(26),n(235)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(e,n,r){this.type=e,t(n)||("json"===e?n="application/json":"xml"===e?n="text/xml":"html"===e?n="text/html":"text"===e&&(n="text/plain")),this.format=n,t(r)||("json"===e?r=a:"xml"===e?r=s:"html"===e?r=m:"text"===e&&(r=m)),this.callback=r}function a(n){for(var r=[],o=n.features,a=0;a<o.length;++a){var s=o[a],u=new i;if(u.data=s,u.properties=s.properties,u.configureNameFromProperties(s.properties),u.configureDescriptionFromProperties(s.properties),t(n.crs)&&!t(s.crs)&&(s.crs=n.crs),t(s.geometry)&&"Point"===s.geometry.type){var l=s.geometry.coordinates[0],c=s.geometry.coordinates[1];u.position=e.fromDegrees(l,c)}r.push(u)}return r}function s(e){var t=e.documentElement;if("MultiFeatureCollection"===t.localName)return u(e);if("FeatureInfoResponse"===t.localName)return l(e);if("FeatureCollection"===t.localName)return c(e);if("ServiceExceptionReport"===t.localName)throw new r((new XMLSerializer).serializeToString(t));return"msGMLOutput"===t.localName?h(e):p(e)}function u(e){for(var t=[],n=e.documentElement,r=n.getElementsByTagNameNS(g,"Feature"),o=0;o<r.length;++o){for(var a=r[o],s={},u=a.getElementsByTagNameNS(g,"Val"),l=0;l<u.length;++l){var c=u[l];if(c.hasAttribute("ref")){var h=c.getAttribute("ref"),d=c.textContent.trim();s[h]=d}}var f=new i;f.data=a,f.properties=s,f.configureNameFromProperties(s),f.configureDescriptionFromProperties(s),t.push(f)}return t}function l(e){var t,n=e.documentElement,r=[],i=n.getElementsByTagNameNS("*","FIELDS");if(i.length>0)for(var o=0;o<i.length;++o){var a=i[o];t={};for(var s=a.attributes,u=0;u<s.length;++u){var l=s[u];t[l.name]=l.value}r.push(f(a,t))}else for(var c=n.getElementsByTagNameNS("*","FeatureInfo"),h=0;h<c.length;++h){var d=c[h];t={};for(var p=d.childNodes,m=0;m<p.length;++m){var g=p[m];g.nodeType===Node.ELEMENT_NODE&&(t[g.localName]=g.textContent)}r.push(f(d,t))}return r}function c(e){for(var t=[],n=e.documentElement,r=n.getElementsByTagNameNS(_,"featureMember"),i=0;i<r.length;++i){var o=r[i],a={};d(o,a),t.push(f(o,a))}return t}function h(e){for(var n,i=[],o=e.documentElement.childNodes,a=0;a<o.length;a++)if(o[a].nodeType===Node.ELEMENT_NODE){n=o[a];break}if(!t(n))throw new r("Unable to find first child of the feature info xml document");for(var s=n.childNodes,u=0;u<s.length;++u){var l=s[u];if(l.nodeType===Node.ELEMENT_NODE){var c={};d(l,c),i.push(f(l,c))}}return i}function d(e,t){for(var n=!0,r=0;r<e.childNodes.length;++r){var i=e.childNodes[r];i.nodeType===Node.ELEMENT_NODE&&(n=!1),"Point"!==i.localName&&"LineString"!==i.localName&&"Polygon"!==i.localName&&"boundedBy"!==i.localName&&(i.hasChildNodes()&&d(i,t)&&(t[i.localName]=i.textContent))}return n}function f(e,t){var n=new i;return n.data=e,n.properties=t,n.configureNameFromProperties(t),n.configureDescriptionFromProperties(t),n}function p(e){var t=(new XMLSerializer).serializeToString(e),n=document.createElement("div"),r=document.createElement("pre");r.textContent=t,n.appendChild(r);var o=new i;return o.data=e,o.description=n.innerHTML,[o]}function m(e){if(!v.test(e)&&!A.test(e)){var t,n=y.exec(e);n&&n.length>1&&(t=n[1]);var r=new i;return r.name=t,r.description=e,r.data=e,[r]}}var g="http://www.mapinfo.com/mxp",_="http://www.opengis.net/gml",v=/<body>\s*<\/body>/im,A=/<ServiceExceptionReport([\s\S]*)<\/ServiceExceptionReport>/im,y=/<title>([\s\S]*)<\/title>/im;return o}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PATH={VECTOR:0,BEZIER_CURVE:1,CIRCLE:2}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(238),o=function e(t,n){r(this,e),this.type=i.PATH.VECTOR,this.x=t,this.y=n};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseListStyle=t.parseListStyleType=t.LIST_STYLE_TYPE=t.LIST_STYLE_POSITION=void 0;var r=n(200),i=t.LIST_STYLE_POSITION={INSIDE:0,OUTSIDE:1},o=t.LIST_STYLE_TYPE={NONE:-1,DISC:0,CIRCLE:1,SQUARE:2,DECIMAL:3,CJK_DECIMAL:4,DECIMAL_LEADING_ZERO:5,LOWER_ROMAN:6,UPPER_ROMAN:7,LOWER_GREEK:8,LOWER_ALPHA:9,UPPER_ALPHA:10,ARABIC_INDIC:11,ARMENIAN:12,BENGALI:13,CAMBODIAN:14,CJK_EARTHLY_BRANCH:15,CJK_HEAVENLY_STEM:16,CJK_IDEOGRAPHIC:17,DEVANAGARI:18,ETHIOPIC_NUMERIC:19,GEORGIAN:20,GUJARATI:21,GURMUKHI:22,HEBREW:22,HIRAGANA:23,HIRAGANA_IROHA:24,JAPANESE_FORMAL:25,JAPANESE_INFORMAL:26,KANNADA:27,KATAKANA:28,KATAKANA_IROHA:29,KHMER:30,KOREAN_HANGUL_FORMAL:31,KOREAN_HANJA_FORMAL:32,KOREAN_HANJA_INFORMAL:33,LAO:34,LOWER_ARMENIAN:35,MALAYALAM:36,MONGOLIAN:37,MYANMAR:38,ORIYA:39,PERSIAN:40,SIMP_CHINESE_FORMAL:41,SIMP_CHINESE_INFORMAL:42,TAMIL:43,TELUGU:44,THAI:45,TIBETAN:46,TRAD_CHINESE_FORMAL:47,TRAD_CHINESE_INFORMAL:48,UPPER_ARMENIAN:49,DISCLOSURE_OPEN:50,DISCLOSURE_CLOSED:51},a=t.parseListStyleType=function(e){switch(e){case"disc":return o.DISC;case"circle":return o.CIRCLE;case"square":return o.SQUARE;case"decimal":return o.DECIMAL;case"cjk-decimal":return o.CJK_DECIMAL;case"decimal-leading-zero":return o.DECIMAL_LEADING_ZERO;case"lower-roman":return o.LOWER_ROMAN;case"upper-roman":return o.UPPER_ROMAN;case"lower-greek":return o.LOWER_GREEK;case"lower-alpha":return o.LOWER_ALPHA;case"upper-alpha":return o.UPPER_ALPHA;case"arabic-indic":return o.ARABIC_INDIC;case"armenian":return o.ARMENIAN;case"bengali":return o.BENGALI;case"cambodian":return o.CAMBODIAN;case"cjk-earthly-branch":return o.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return o.CJK_HEAVENLY_STEM;case"cjk-ideographic":return o.CJK_IDEOGRAPHIC;case"devanagari":return o.DEVANAGARI;case"ethiopic-numeric":return o.ETHIOPIC_NUMERIC;case"georgian":return o.GEORGIAN;case"gujarati":return o.GUJARATI;case"gurmukhi":return o.GURMUKHI;case"hebrew":return o.HEBREW;case"hiragana":return o.HIRAGANA;case"hiragana-iroha":return o.HIRAGANA_IROHA;case"japanese-formal":return o.JAPANESE_FORMAL;case"japanese-informal":return o.JAPANESE_INFORMAL;case"kannada":return o.KANNADA;case"katakana":return o.KATAKANA;case"katakana-iroha":return o.KATAKANA_IROHA;case"khmer":return o.KHMER;case"korean-hangul-formal":return o.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return o.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return o.KOREAN_HANJA_INFORMAL;case"lao":return o.LAO;case"lower-armenian":return o.LOWER_ARMENIAN;case"malayalam":return o.MALAYALAM;case"mongolian":return o.MONGOLIAN;case"myanmar":return o.MYANMAR;case"oriya":return o.ORIYA;case"persian":return o.PERSIAN;case"simp-chinese-formal":return o.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return o.SIMP_CHINESE_INFORMAL;case"tamil":return o.TAMIL;case"telugu":return o.TELUGU;case"thai":return o.THAI;case"tibetan":return o.TIBETAN;case"trad-chinese-formal":return o.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return o.TRAD_CHINESE_INFORMAL;case"upper-armenian":return o.UPPER_ARMENIAN;case"disclosure-open":return o.DISCLOSURE_OPEN;case"disclosure-closed":return o.DISCLOSURE_CLOSED;case"none":default:return o.NONE}},s=(t.parseListStyle=function(e){var t=(0,r.parseBackgroundImage)(e.getPropertyValue("list-style-image"));return{listStyleType:a(e.getPropertyValue("list-style-type")),listStyleImage:t.length?t[0]:null,listStylePosition:s(e.getPropertyValue("list-style-position"))}},function(e){switch(e){case"inside":return i.INSIDE;case"outside":default:return i.OUTSIDE}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return e.length>0?t+n.toUpperCase():e}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(510),s=n(512),u=function(){function e(t,n,i){r(this,e),this.text=t,this.parent=n,this.bounds=i}return o(e,null,[{key:"fromTextNode",value:function(t,n){var r=c(t.data,n.style.textTransform);return new e(r,n,(0,s.parseTextBounds)(r,n,t))}}]),e}();t.default=u;var l=/(^|\s|:|-|\(|\))([a-z])/g,c=function(e,t){switch(t){case a.TEXT_TRANSFORM.LOWERCASE:return e.toLowerCase();case a.TEXT_TRANSFORM.CAPITALIZE:return e.replace(l,i);case a.TEXT_TRANSFORM.UPPERCASE:return e.toUpperCase();default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(513),i=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),i=Math.round(r.height);if(e.body.removeChild(n),123===i)return!0}}return!1},o=function(e,t){var n=new Image,r=e.createElement("canvas"),i=r.getContext("2d");return new Promise(function(e){n.src=t;var o=function(){try{i.drawImage(n,0,0),r.toDataURL()}catch(t){return e(!1)}return e(!0)};n.onload=o,n.onerror=function(){return e(!1)},!0===n.complete&&setTimeout(function(){o()},500)})},a=function(){return void 0!==(new Image).crossOrigin},s=function(){return"string"==typeof(new XMLHttpRequest).responseType},u=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0},l=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},c=function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var i=new Image,o=t.toDataURL();i.src=o;var a=(0,r.createForeignObjectSVG)(100,100,0,0,i);return n.fillStyle="red",n.fillRect(0,0,100,100),(0,r.loadSerializedSVG)(a).then(function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var a=e.createElement("div");return a.style.backgroundImage="url("+o+")",a.style.height="100px",l(i)?(0,r.loadSerializedSVG)((0,r.createForeignObjectSVG)(100,100,0,0,a)):Promise.reject(!1)}).then(function(e){return n.drawImage(e,0,0),l(n.getImageData(0,0,100,100).data)}).catch(function(e){return!1})},h={get SUPPORT_RANGE_BOUNDS(){var e=i(document);return Object.defineProperty(h,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=u(document);return Object.defineProperty(h,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_BASE64_DRAWING(){return function(e){var t=o(document,e);return Object.defineProperty(h,"SUPPORT_BASE64_DRAWING",{value:function(){return t}}),t}},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?c(document):Promise.resolve(!1);return Object.defineProperty(h,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=a();return Object.defineProperty(h,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=s();return Object.defineProperty(h,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(h,"SUPPORT_CORS_XHR",{value:e}),e}};t.default=h},function(e,t,n){var r;void 0!==(r=function(){void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var e=e||function(){var e=[];return{REVISION:"13",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},update:function(t){if(0===e.length)return!1;var n=0;for(t=void 0!==t?t:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();n<e.length;)e[n].update(t)?n++:e.splice(n,1);return!0}}}();return e.Tween=function(t){var n=t,r={},i={},o={},a=1e3,s=0,u=!1,l=!1,c=!1,h=0,d=null,f=e.Easing.Linear.None,p=e.Interpolation.Linear,m=[],g=null,_=!1,v=null,A=null,y=null;for(var b in t)r[b]=parseFloat(t[b],10);this.to=function(e,t){return void 0!==t&&(a=t),i=e,this},this.start=function(t){e.add(this),l=!0,_=!1,d=void 0!==t?t:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),d+=h;for(var a in i){if(i[a]instanceof Array){if(0===i[a].length)continue;i[a]=[n[a]].concat(i[a])}r[a]=n[a],r[a]instanceof Array==!1&&(r[a]*=1),o[a]=r[a]||0}return this},this.stop=function(){return l?(e.remove(this),l=!1,null!==y&&y.call(n),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var e=0,t=m.length;e<t;e++)m[e].stop()},this.delay=function(e){return h=e,this},this.repeat=function(e){return s=e,this},this.yoyo=function(e){return u=e,this},this.easing=function(e){return f=e,this},this.interpolation=function(e){return p=e,this},this.chain=function(){return m=arguments,this},this.onStart=function(e){return g=e,this},this.onUpdate=function(e){return v=e,this},this.onComplete=function(e){return A=e,this},this.onStop=function(e){return y=e,this},this.update=function(e){var t;if(e<d)return!0;!1===_&&(null!==g&&g.call(n),_=!0);var l=(e-d)/a;l=l>1?1:l;var y=f(l);for(t in i){var b=r[t]||0,w=i[t];w instanceof Array?n[t]=p(w,y):("string"==typeof w&&(w=b+parseFloat(w,10)),"number"==typeof w&&(n[t]=b+(w-b)*y))}if(null!==v&&v.call(n,y),1==l){if(s>0){isFinite(s)&&s--;for(t in o){if("string"==typeof i[t]&&(o[t]=o[t]+parseFloat(i[t],10)),u){var x=o[t];o[t]=i[t],i[t]=x}r[t]=o[t]}return u&&(c=!c),d=e+h,!0}null!==A&&A.call(n);for(var E=0,C=m.length;E<C;E++)m[E].start(e);return!1}return!0}},e.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},Out:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},InOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(t){return 1-e.Easing.Bounce.Out(1-t)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(t){return t<.5?.5*e.Easing.Bounce.In(2*t):.5*e.Easing.Bounce.Out(2*t-1)+.5}}},e.Interpolation={Linear:function(t,n){var r=t.length-1,i=r*n,o=Math.floor(i),a=e.Interpolation.Utils.Linear;return n<0?a(t[0],t[1],i):n>1?a(t[r],t[r-1],r-i):a(t[o],t[o+1>r?r:o+1],i-o)},Bezier:function(t,n){var r,i=0,o=t.length-1,a=Math.pow,s=e.Interpolation.Utils.Bernstein;for(r=0;r<=o;r++)i+=a(1-n,o-r)*a(n,r)*t[r]*s(o,r);return i},CatmullRom:function(t,n){var r=t.length-1,i=r*n,o=Math.floor(i),a=e.Interpolation.Utils.CatmullRom;return t[0]===t[r]?(n<0&&(o=Math.floor(i=r*(1+n))),a(t[(o-1+r)%r],t[o],t[(o+1)%r],t[(o+2)%r],i-o)):n<0?t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0]):n>1?t[r]-(a(t[r],t[r],t[r-1],t[r-1],i-r)-t[r]):a(t[o?o-1:0],t[o],t[r<o+1?r:o+1],t[r<o+2?r:o+2],i-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(t,n){var r=e.Interpolation.Utils.Factorial;return r(t)/r(n)/r(t-n)},Factorial:function(){var e=[1];return function(t){var n,r=1;if(e[t])return e[t];for(n=t;n>1;n--)r*=n;return e[t]=r}}(),CatmullRom:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i;return(2*t-2*n+o+a)*(i*s)+(-3*t+3*n-2*o-a)*s+o*i+t}}},e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"void clipLineSegmentToNearPlane(\n    vec3 p0,\n    vec3 p1,\n    out vec4 positionWC,\n    out bool clipped,\n    out bool culledByNearPlane)\n{\n    culledByNearPlane = false;\n    clipped = false;\n\n    vec3 p1ToP0 = p1 - p0;\n    float magnitude = length(p1ToP0);\n    vec3 direction = normalize(p1ToP0);\n    float endPoint0Distance =  -(czm_currentFrustum.x + p0.z);\n    float denominator = -direction.z;\n\n    if (endPoint0Distance < 0.0 && abs(denominator) < czm_epsilon7)\n    {\n        culledByNearPlane = true;\n    }\n    else if (endPoint0Distance < 0.0 && abs(denominator) > czm_epsilon7)\n    {\n        // t = (-plane distance - dot(plane normal, ray origin)) / dot(plane normal, ray direction)\n        float t = (czm_currentFrustum.x + p0.z) / denominator;\n        if (t < 0.0 || t > magnitude)\n        {\n            culledByNearPlane = true;\n        }\n        else\n        {\n            p0 = p0 + t * direction;\n            clipped = true;\n        }\n    }\n\n    positionWC = czm_eyeToWindowCoordinates(vec4(p0, 1.0));\n}\n\nvec4 getPolylineWindowCoordinatesEC(vec4 positionEC, vec4 prevEC, vec4 nextEC, float expandDirection, float width, bool usePrevious, out float angle)\n{\n    vec4 endPointWC, p0, p1;\n    bool culledByNearPlane, clipped;\n\n#ifdef POLYLINE_DASH\n    // Compute the window coordinates of the points.\n    vec4 positionWindow = czm_eyeToWindowCoordinates(positionEC);\n    vec4 previousWindow = czm_eyeToWindowCoordinates(prevEC);\n    vec4 nextWindow = czm_eyeToWindowCoordinates(nextEC);\n\n    // Determine the relative screen space direction of the line.\n    vec2 lineDir;\n    if (usePrevious) {\n        lineDir = normalize(positionWindow.xy - previousWindow.xy);\n    }\n    else {\n        lineDir = normalize(nextWindow.xy - positionWindow.xy);\n    }\n    angle = atan(lineDir.x, lineDir.y) - 1.570796327; // precomputed atan(1,0)\n\n    // Quantize the angle so it doesn't change rapidly between segments.\n    angle = floor(angle / czm_piOverFour + 0.5) * czm_piOverFour;\n#endif\n\n    clipLineSegmentToNearPlane(prevEC.xyz, positionEC.xyz, p0, clipped, culledByNearPlane);\n    clipLineSegmentToNearPlane(nextEC.xyz, positionEC.xyz, p1, clipped, culledByNearPlane);\n    clipLineSegmentToNearPlane(positionEC.xyz, usePrevious ? prevEC.xyz : nextEC.xyz, endPointWC, clipped, culledByNearPlane);\n\n    if (culledByNearPlane)\n    {\n        return vec4(0.0, 0.0, 0.0, 1.0);\n    }\n\n    vec2 prevWC = normalize(p0.xy - endPointWC.xy);\n    vec2 nextWC = normalize(p1.xy - endPointWC.xy);\n\n    float expandWidth = width * 0.5;\n    vec2 direction;\n\n    if (czm_equalsEpsilon(prevEC.xyz - positionEC.xyz, vec3(0.0), czm_epsilon1) || czm_equalsEpsilon(prevWC, -nextWC, czm_epsilon1))\n    {\n        direction = vec2(-nextWC.y, nextWC.x);\n    }\n    else if (czm_equalsEpsilon(nextEC.xyz - positionEC.xyz, vec3(0.0), czm_epsilon1) || clipped)\n    {\n        direction = vec2(prevWC.y, -prevWC.x);\n    }\n    else\n    {\n        vec2 normal = vec2(-nextWC.y, nextWC.x);\n        direction = normalize((nextWC + prevWC) * 0.5);\n        if (dot(direction, normal) < 0.0)\n        {\n            direction = -direction;\n        }\n\n        // The sine of the angle between the two vectors is given by the formula\n        //         |a x b| = |a||b|sin(theta)\n        // which is\n        //     float sinAngle = length(cross(vec3(direction, 0.0), vec3(nextWC, 0.0)));\n        // Because the z components of both vectors are zero, the x and y coordinate will be zero.\n        // Therefore, the sine of the angle is just the z component of the cross product.\n        float sinAngle = abs(direction.x * nextWC.y - direction.y * nextWC.x);\n        expandWidth = clamp(expandWidth / sinAngle, 0.0, width * 2.0);\n    }\n\n    vec2 offset = direction * expandDirection * expandWidth * czm_resolutionScale;\n    return vec4(endPointWC.xy + offset, -endPointWC.z, 1.0);\n}\n\nvec4 getPolylineWindowCoordinates(vec4 position, vec4 previous, vec4 next, float expandDirection, float width, bool usePrevious, out float angle)\n{\n    vec4 positionEC = czm_modelViewRelativeToEye * position;\n    vec4 prevEC = czm_modelViewRelativeToEye * previous;\n    vec4 nextEC = czm_modelViewRelativeToEye * next;\n    return getPolylineWindowCoordinatesEC(positionEC, prevEC, nextEC, expandDirection, width, usePrevious, angle);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){"use strict";function r(e,t){function n(e,t){i=(+e).toFixed(t);var n=i.indexOf(".");l="",-1!==n&&(l=u+i.substring(n+1),i=i.substring(0,n))}if(!a(e))return"";if(isNaN(e))return e;t=o(t,{}),t.useGrouping=o(t.useGrouping,!1),t.maximumFractionDigits=o(t.maximumFractionDigits,20),t.minimumFractionDigits=o(t.minimumFractionDigits,0);var r="";"percent"===t.style&&(e*=100,r="%");var i=e.toString(),l="",c=i.indexOf(".");return-1!==c?(l=u+i.substring(c+1),l.length>t.maximumFractionDigits+1?n(e,t.maximumFractionDigits):l.length<t.minimumFractionDigits+1?n(e,t.minimumFractionDigits):i=i.substring(0,c)):t.minimumFractionDigits>0&&n(e,t.minimumFractionDigits),i.length<5||!t.useGrouping?i+l+r:i.replace(/\B(?=(\d{3})+(?!\d))/g,s)+l+r}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(1),a=n(0),s=",",u=".";if("object"===("undefined"==typeof Intl?"undefined":i(Intl))&&"function"==typeof Intl.NumberFormat){var l=Intl.NumberFormat().format(1e3);5===l.length&&(s=l[1]);var c=Intl.NumberFormat().format(.5);2===c.length&&(u=c[1])}e.exports=r},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new i("file is required");var t=new FileReader;t.readAsText(e);var n=o.defer();return t.onload=function(e){var t=e.target.result;n.resolve(t)},t.onerror=function(e){n.reject(e)},n.promise}var i=n(3),o=n(7);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(e[t])return e[t];for(var n,r=Object.keys(e),o=t.toLowerCase().replace(i,""),a=-1;++a<r.length;)if(n=r[a],n.toLowerCase().replace(i,"")===o)return e[n]}t.a=r;var i=/[\s_\-\/\(\)]/g},function(e,t,n){"use strict";var r=n(35);t.a=function(e,t,n){var i=e*n,o=.5*e;return i=Math.pow((1-i)/(1+i),o),Math.tan(.5*(r.d-t))/i}},function(e,t,n){"use strict";var r=n(35);t.a=function(e,t){for(var n,i,o=.5*e,a=r.d-2*Math.atan(t),s=0;s<=15;s++)if(n=e*Math.sin(a),i=r.d-2*Math.atan(t*Math.pow((1-n)/(1+n),o))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}},function(e,t,n){"use strict";t.a=function(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}},function(e,t,n){"use strict";t.a=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))}},function(e,t,n){"use strict";t.a=function(e){return.375*e*(1+.25*e*(1+.46875*e))}},function(e,t,n){"use strict";t.a=function(e){return.05859375*e*e*(1+.75*e)}},function(e,t,n){"use strict";t.a=function(e){return e*e*e*(35/3072)}},function(e,t,n){var r,i;r=[n(0),n(2),n(3),n(9)],void 0!==(i=function(e,t,n,r){"use strict";function i(){n.throwInstantiationError()}t(i.prototype,{errorEvent:{get:n.throwInstantiationError},credit:{get:n.throwInstantiationError},tilingScheme:{get:n.throwInstantiationError},ready:{get:n.throwInstantiationError},readyPromise:{get:n.throwInstantiationError},hasWaterMask:{get:n.throwInstantiationError},hasVertexNormals:{get:n.throwInstantiationError},availability:{get:n.throwInstantiationError}});var o=[];return i.getRegularGridIndices=function(t,n){var r=o[t];e(r)||(o[t]=r=[]);var i=r[n];if(!e(i)){i=r[n]=new Uint16Array((t-1)*(n-1)*6);for(var a=0,s=0,u=0;u<n-1;++u){for(var l=0;l<t-1;++l){var c=a,h=c+t,d=h+1,f=c+1;i[s++]=c,i[s++]=h,i[s++]=f,i[s++]=f,i[s++]=h,i[s++]=d,++a}++a}}return i},i.heightmapTerrainQuality=.25,i.getEstimatedLevelZeroGeometricErrorForAHeightmap=function(e,t,n){return 2*e.maximumRadius*Math.PI*i.heightmapTerrainQuality/(t*n)},i.prototype.requestTileGeometry=n.throwInstantiationError,i.prototype.getLevelMaximumGeometricError=n.throwInstantiationError,i.prototype.getTileDataAvailable=n.throwInstantiationError,i}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";e.exports=1e-4},function(e,t,n){var r;!function(i){"use strict";function o(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function a(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var i=(t-n)/6048e5;return 1+Math.floor(i)}function s(e){var t=e.getDay();return 0===t&&(t=7),t}function u(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}var l=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,i,c,h){if(1!==arguments.length||"string"!==u(r)||/\d/.test(r)||(i=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");i=String(l.masks[i]||i||l.masks.default);var d=i.slice(0,4);"UTC:"!==d&&"GMT:"!==d||(i=i.slice(4),c=!0,"GMT:"===d&&(h=!0));var f=c?"getUTC":"get",p=r[f+"Date"](),m=r[f+"Day"](),g=r[f+"Month"](),_=r[f+"FullYear"](),v=r[f+"Hours"](),A=r[f+"Minutes"](),y=r[f+"Seconds"](),b=r[f+"Milliseconds"](),w=c?0:r.getTimezoneOffset(),x=a(r),E=s(r),C={d:p,dd:o(p),ddd:l.i18n.dayNames[m],dddd:l.i18n.dayNames[m+7],m:g+1,mm:o(g+1),mmm:l.i18n.monthNames[g],mmmm:l.i18n.monthNames[g+12],yy:String(_).slice(2),yyyy:_,h:v%12||12,hh:o(v%12||12),H:v,HH:o(v),M:A,MM:o(A),s:y,ss:o(y),l:o(b,3),L:o(Math.round(b/10)),t:v<12?"a":"p",tt:v<12?"am":"pm",T:v<12?"A":"P",TT:v<12?"AM":"PM",Z:h?"GMT":c?"UTC":(String(r).match(t)||[""]).pop().replace(n,""),o:(w>0?"-":"+")+o(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10],W:x,N:E};return i.replace(e,function(e){return e in C?C[e]:e.slice(1,e.length-1)})}}();l.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},l.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},void 0!==(r=function(){return l}.call(t,n,t,e))&&(e.exports=r)}()},function(e,t,n){"use strict";var r=n(0),i=n(39),o=n(22),a=!(i.isInternetExplorer()||/Edge/.exec(navigator.userAgent)),s={make:function(e,t){if(t)return"data:attachment/"+e+","+encodeURIComponent(t)},checkCompatibility:function(e,t,n){return!(!a||n)||(r(e)&&e.raiseEvent(new o({title:"Browser Does Not Support Data Download",message:"Unfortunately Microsoft browsers (including all versions of Internet Explorer and Edge) do not support the data uri functionality needed to download data as a file. To download, copy the following uri into another browser such as Chrome, Firefox or Safari: "+t})),!1)}};e.exports=s},function(e,t,n){"use strict";function r(e,t){return t(e)?e:e.items?e.items.map(function(e){return r(e,t)}):[]}function i(e,t){return e.exclusiveChildIds.indexOf(t)>=0||e.activeItems.map(function(e){return e.id}).filter(function(t){return e.exclusiveChildIds.indexOf(t)>=0}).length>0}var o=n(0),a=n(1),s=n(13),u=n(583),l=n(14),c=n(260),h=function(e,t){var n=this;e=a(e,"Display Variable"),t=a(t,a.EMPTY_OBJECT),c.call(this,e,t),this.allowMultiple=a(t.allowMultiple,!1),this.requireSomeActive=a(t.requireSomeActive,!1),this.getColorCallback=t.getColorCallback,this.items=a(t.items,[]),this.items.forEach(function(e){e.parent=n}),this.isOpen=a(t.isOpen,!0),this.isSelectable=a(t.isSelectable,!1),this.exclusiveChildIds=a(t.exclusiveChildIds,[]),this.toggleActiveCallback=void 0,s.track(this,["items","isOpen","allowMultiple","requireSomeActive"]),s.defineProperty(this,"activeItems",{get:function(){return this.items.filter(function(e){return e.isActive})}})};l(c,h),h.prototype.getNodes=function(e){return u(r(this,e))},h.prototype.toggleActiveItem=function(e){var t=e.isActive;if(!(t&&this.requireSomeActive&&this.items.every(function(t){return t===e?t.isActive:!t.isActive}))){if(!t&&!this.allowMultiple||i(this,e.id))for(var n=0;n<this.items.length;n++){var r=this.items[n]===e;this.items[n].isActive!==r&&(this.items[n].isActive=r)}else e.isActive=!e.isActive;o(this.toggleActiveCallback&&"function"==typeof this.toggleActiveCallback)&&this.toggleActiveCallback(e)}},e.exports=h},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(13),a=n(14),s=n(352),u=function(e,t){s.call(this,e),t=r(t,r.EMPTY_OBJECT),this.parent=t.parent,this.isActive=r(t.active,!1),this.isSelectable=!0,this.color=t.color,i(t.id)&&(this.id=t.id),o.track(this,["isActive","parent"]),o.getObservable(this,"isActive").subscribe(function(e){e&&i(this.parent)&&!i(this.color)&&i(this.parent.getColorCallback)&&(this.color=this.parent.getColorCallback(this.parent.getColumnIndex(this.id)))},this)};a(s,u),u.prototype.toggleActive=function(){i(this.parent)&&i(this.parent.toggleActiveItem)?this.parent.toggleActiveItem(this):this.isActive=!this.isActive},e.exports=u},function(e,t,n){"use strict";function r(e,t,n){return e.map(function(e){return t.indexOf(e)>=0?0:n.indexOf(e)>=0?null:e})}function i(e){e._uniqueValues=void 0,e._indicesIntoUniqueValues=void 0,e._displayVariableTypes=e.options.displayVariableTypes,m(e._displayVariableTypes)&&(e.isVisible=e._displayVariableTypes.indexOf(e._type)>=0)}function o(e){var t=e.split(/[\/-]/);return 3===t.length&&(e=t[1]+"/"+t[0]+"/"+t[2]),e}function a(e){var t="";if(!m(e.indexOf))return e;var n=e.indexOf("T");if(n>=0){var r=e.substr(n+1).split(":");r&&r.length>1&&(t=" "+r[0]+":"+r[1]),r.length>2&&(t=t+":"+parseInt(r[2],10)),e=e.substr(0,n)}var i=e.split(/-/);return 3===i.length&&(e=i[0]+"/"+i[1]+"/"+i[2]),e+t}function s(e){return!isNaN(e)&&parseInt(Number(e),10)===+e&&!isNaN(parseInt(e,10))}function u(e){var t=r(e._values,[],e._replaceWithNullValues.concat(e._replaceWithZeroValues));return D.convertToDates(t,e.subtype)}function l(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(null!==n){if(!m(n)||!m(n.indexOf))return!1;if("<"!==n[0]||">"!==n[n.length-1]||n.length<5)return!1;if("/"!==n[n.length-2]&&!(n.indexOf("=")>=0)){var r=n.substr(2,n.length-4);if(!(r.indexOf("<")>0&&r.indexOf(">")>=0))return!1}}}return!0}function c(e){return e[0].map(function(t,n){return e.map(function(t,r){return e[r][n]})})}function h(e,t){var n=e.reduce(function(e,t){return m(e[t])?e[t]+=1:e[t]=1,e},{});t.sort(function(e,t){return n[t]-n[e]||(e<t?-1:e>t?1:0)})}function d(e,t,n){for(var r in e)if(e[r].hint.test(t)){var i=e[r].type;if(-1===n.indexOf(i))return i}}function f(e){return e.type===E.SCALAR?e._rawValues.map(function(t){return isNaN(t)?t:b(t,e.format)}):e.type===E.TIME?e.dates.map(function(t,n){var r=e._values[n];if(("string"==typeof r||r instanceof String)&&r.indexOf("T")>=0){var i=r.split("T")[1];return i.indexOf("+")>=0||i.indexOf("-")>=0||i.indexOf("Z")>=0?t.toString():t.toDateString()+" "+t.toTimeString().split(" ")[0]}return m(r)?r:""}):e._values.map(function(e){return null===e?"":e})}var p=n(1),m=n(0),g=n(2),_=n(21),v=n(3),A=n(36),y=n(13),b=n(245),w=n(237),x=n(14),E=n(85),C=n(584),S=n(260),T=[{hint:/^(lon|long|longitude|lng)$/i,type:E.LON},{hint:/^(lat|latitude)$/i,type:E.LAT},{hint:/^(address|addr)$/i,type:E.ADDR},{hint:/^(.*[_ ])?(depth|height|elevation)$/i,type:E.ALT},{hint:/^(.*[_ ])?(time|date)/i,type:E.TIME},{hint:/^(year)$/i,type:E.TIME},{hint:/^postcode|poa|(.*_code)$/i,type:E.ENUM}],I=[{hint:/^(.*[_ ])?end[\s_]?(time|date)/i,type:!0}],M=[{hint:/^(.*[_ ])?(year)/i,type:C.YEAR}],O=["na","NA","-"],P=[],D=function(e,t,n){this.options=p(n,p.EMPTY_OBJECT),S.call(this,e,{parent:this.options.tableStructure,active:this.options.active,color:this.options.chartLineColor}),this.id=p(this.options.id,this.id),this.format=this.options.format,this.units=this.options.units,this._rawValues=t,this._unallowedTypes=p(this.options.unallowedTypes,[]),this._replaceWithZeroValues=p(this.options.replaceWithZeroValues,P),this._replaceWithNullValues=p(this.options.replaceWithNullValues,O),this._type=this.options.type,this._subtype=this.options.subtype,this._isEndDate=this.options.isEndDate,m(this._type)||this.setTypeAndSubTypeFromName();var o=function(e){return"number"==typeof e};this._type===E.SCALAR&&t.some(o)?this._values=r(t,this._replaceWithZeroValues,this._replaceWithNullValues):this._values=t,this._numericalValues=this._values&&this._values.filter(o);var a=this._values.filter(function(e){return null!==e});if(this._minimumValue=Math.min.apply(null,a),this._maximumValue=Math.max.apply(null,a),this.yAxisMin=this.options.yAxisMin,this.yAxisMax=this.options.yAxisMax,this._uniqueValues=void 0,this._indicesIntoUniqueValues=void 0,this.displayDuration=this.options.displayDuration,this.dates=void 0,this.julianDates=void 0,this.finishJulianDates=void 0,this._timeIntervals=void 0,this._clock=void 0,m(t)&&this._type===E.TIME){var s=u(this);this.dates=s.jsDates,this.julianDates=s.julianDates,0===this.dates.length?this._type=E.SCALAR:this._subtype=s.subtype}isNaN(this._minimumValue)&&this._type===E.SCALAR&&(this._type=E.ENUM),this._type===E.ENUM&&l(this.values)&&(this._type=E.TAG),i(this),this._formattedValues=f(this),y.track(this,["_type","_values","units","_timeIntervals"])};x(S,D),g(D.prototype,{type:{get:function(){return this._type},set:function(e){this._type=e,i(this)}},subtype:{get:function(){return this._subtype},set:function(e){this._subtype=e}},values:{get:function(){return this._values}},numericalValues:{get:function(){return this._numericalValues}},isEnum:{get:function(){return this._type===E.ENUM}},formattedValues:{get:function(){return this._formattedValues}},minimumValue:{get:function(){return this._minimumValue}},maximumValue:{get:function(){return this._maximumValue}},uniqueValues:{get:function(){return this.isEnum&&!m(this._uniqueValues)&&(this._uniqueValues=w(this._values).filter(function(e){return null!==e}),h(this._values,this._uniqueValues)),this._uniqueValues}},julianDatesOrValues:{get:function(){return this.type===E.TIME?this.julianDates:this._values}},timeIntervals:{get:function(){return this._timeIntervals}},clock:{get:function(){return this._clock}}}),D.prototype.getFullOptions=function(){return{tableStructure:this.parent,active:this.isActive,id:this.id,format:this.format,units:this.units,unallowedTypes:this._unallowedTypes,replaceWithZeroValues:this._replaceWithZeroValues,replaceWithNullValues:this._replaceWithNullValues,type:this._type,subtype:this._subtype,isEndDate:this._isEndDate,displayDuration:this.displayDuration,displayVariableTypes:this._displayVariableTypes,chartLineColor:this.color,yAxisMin:this.yAxisMin,yAxisMax:this.yAxisMax}},D.convertToDates=function(e,t){var n=0;e.forEach(function(e){var t=parseInt(e,10);t>n&&(n=t)});var r;t===C.YEAR||n<9999&&e.every(function(e){return s(e)||!m(e)})?(t=C.YEAR,r=function(e){var t=new Date(e+"/01/01");return[t,A.fromDate(t)]}):r=n<9999&&e.every(function(e){return!m(e)||4===(m(e.indexOf)&&e.indexOf("-Q"))})?function(e){var t,n=e.slice(0,4),r=e.slice(6);if("1"===r)t="01/01";else if("2"===r)t="04/01";else if("3"===r)t="07/01";else{if("4"!==r)return[void 0,void 0];t="10/01"}var i=new Date(n+"/"+t);return[i,A.fromDate(i)]}:n>31?function(e){if(e.indexOf(" ")>0&&e.indexOf(":")>0){var t=new Date(a(e));return[t,A.fromDate(t)]}var n=A.fromIso8601(e);return[A.toDate(n),n]}:n>12?function(e){var t=new Date(o(e));return[t,A.fromDate(t)]}:function(e){var t=new Date(a(e));return[t,A.fromDate(t)]};var i=[];try{i=e.map(function(e){if(m(e)){var t=r(e);return isFinite(t[0])&&m(t[1])&&isFinite(t[1].dayNumber)&&isFinite(t[1].secondsOfDay)?t:[void 0,void 0]}return[void 0,void 0]})}catch(t){try{for(var u=0;u<e.length;u++)r(e[u])}catch(t){console.log("Unable to parse date:",e[u],t)}}return{subtype:t,jsDates:i.map(function(e){return e[0]}),julianDates:i.map(function(e){return e[1]})}},D.sumValues=function(){var e;return e=1===arguments.length?arguments[0]:Array.prototype.slice.call(arguments),c(e.map(function(e){return e.values})).map(function(e){return e.reduce(function(e,t){return null===e&&null===t?null:null===e?+t:null===t?+e:+e+ +t})})},D.divideValues=function(e,t,n){return t.values.map(function(t,r){return 0===t&&m(n)?n:+e.values[r]/+t})},D.prototype.setTypeAndSubTypeFromName=function(){var e=d(T,this.name,this._unallowedTypes);if(!m(e)&&(e=E.SCALAR,this._unallowedTypes.indexOf(E.SCALAR)>=0))throw new v("No suitable variable type found.");this._type=e,this._subtype=d(M,this.name,[]),this._isEndDate=d(I,this.name,[])},D.prototype.toArrayWithName=function(){return[this.name].concat(this.values)},D.prototype.destroy=function(){return _(this)},e.exports=D},function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String?e.replace(/_/g," "):e}e.exports=r},function(e,t,n){"use strict";function r(e){return h(i(e)).then(function(e){return f(e.layers[0])})}function i(e){var t=a(e,e.url),n=o(t);return new u(n.urlWithoutLayerId).segment("query").addQuery("f","json").addQuery("layerDefs","{"+(n.layerId||0)+':"'+e.layerDef+'"}').toString()}function o(e){var t=/^(.*)\/(\d+)$/,n=e.match(t);return l(n)&&n.length>2?{layerId:n[2],urlWithoutLayerId:n[1]}:{urlWithoutLayerId:e}}function a(e,t){return g(e,s(t))}function s(e){var t=new u(e);return t.search(""),t.toString()}var u=n(33),l=n(0),c=n(2),h=n(44),d=n(56),f=n(329),p=n(51),m=n(14),g=n(32),_=function(e){d.call(this,e),this._geoJsonItem=void 0,this.layerDef="1=1"};m(d,_),c(_.prototype,{type:{get:function(){return"esri-featureServer"}},typeName:{get:function(){return"ArcGIS Feature Server"}},updaters:{get:function(){return _.defaultUpdaters}},serializers:{get:function(){return _.defaultSerializers}},dataSource:{get:function(){return l(this._geoJsonItem)?this._geoJsonItem.dataSource:void 0}}}),_.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.layerDef]},_.prototype._load=function(){var e=this;return this._geoJsonItem=new p(this.terria),this._geoJsonItem.data=r(this),e._geoJsonItem.load().then(function(){e.rectangle=e._geoJsonItem.rectangle})},_.prototype._enable=function(){l(this._geoJsonItem)&&this._geoJsonItem._enable()},_.prototype._disable=function(){l(this._geoJsonItem)&&this._geoJsonItem._disable()},_.prototype._show=function(){l(this._geoJsonItem)&&this._geoJsonItem._show()},_.prototype._hide=function(){l(this._geoJsonItem)&&this._geoJsonItem._hide()},_.prototype.showOnSeparateMap=function(e){if(l(this._geoJsonItem))return this._geoJsonItem.showOnSeparateMap(e)},e.exports=_},function(e,t,n){var r,i;r=[n(109),n(0)],void 0!==(i=function(e,t){"use strict";function n(n,r){var i=n.extensionsUsed;t(i)||(i=[],n.extensionsUsed=i),e(i,r,!0)}return n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";function e(e){this.offset=e.offset,this.count=e.count,this.color=e.color,this.batchIds=e.batchIds}return e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({ADD:0,REPLACE:1})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(12),n(53),n(1),n(0),n(2),n(618),n(29),n(26)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(e,t){var n,r=e.externalType,o=i(r);if(o){if("3DTILES"!==r&&"STK_TERRAIN_SERVER"!==r)throw new u("Ion.createResource does not support external imagery assets; use IonImageryProvider instead.");n={url:e.options.url}}else n={url:e.url,retryAttempts:1,retryCallback:c};s.call(this,n),this._ionEndpoint=e,this._ionEndpointResource=t,this._ionRoot=void 0,this._pendingPromise=void 0,this._credits=void 0,this._isExternal=o}function c(t,n){var o=r(t._ionRoot,t),a=o._ionEndpointResource;return i(n)&&(401===n.statusCode||n.target instanceof Image)?(i(o._pendingPromise)||(o._pendingPromise=a.fetchJson().then(function(e){return o._ionEndpoint=e,e}).always(function(e){return o._pendingPromise=void 0,e})),o._pendingPromise.then(function(e){return t._ionEndpoint=e,!0})):e.resolve(!1)}return i(Object.create)&&(l.prototype=Object.create(s.prototype),l.prototype.constructor=l),l.fromAssetId=function(e,t){var n=l._createEndpointResource(e,t);return n.fetchJson().then(function(e){return new l(e,n)})},o(l.prototype,{credits:{get:function(){return i(this._ionRoot)?this._ionRoot.credits:i(this._credits)?this._credits:(this._credits=l.getCreditsFromEndpoint(this._ionEndpoint,this._ionEndpointResource),this._credits)}}}),l.getCreditsFromEndpoint=function(e,t){var r=e.attributions.map(n.getIonCredit),o=a.getDefaultTokenCredit(t.queryParameters.access_token);return i(o)&&r.push(n.clone(o)),r},l.prototype.clone=function(e){var t=r(this._ionRoot,this);return i(e)||(e=new l(t._ionEndpoint,t._ionEndpointResource)),e=s.prototype.clone.call(this,e),e._ionRoot=t,e._isExternal=this._isExternal,e},l.prototype.fetchImage=function(e,t){return s.prototype.fetchImage.call(this,!this._isExternal||e,t)},l.prototype._makeRequest=function(e){if(this._isExternal)return s.prototype._makeRequest.call(this,e);var t="*/*;access_token="+this._ionEndpoint.accessToken,n=t,r=this.headers;return i(r)&&i(r.Accept)&&(n=r.Accept+","+t),i(e.headers)?i(e.headers.Accept)?e.headers.Accept=e.headers.Accept+","+t:e.headers.Accept=n:e.headers={Accept:n},s.prototype._makeRequest.call(this,e)},l._createEndpointResource=function(e,t){t=r(t,r.EMPTY_OBJECT);var n=r(t.server,a.defaultServer),o=r(t.accessToken,a.defaultAccessToken);n=s.createIfNeeded(n);var u={url:"v1/assets/"+e+"/endpoint"};return i(o)&&(u.queryParameters={access_token:o}),n.getDerivedResource(u)},l}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){var t=e._dataSource;if(e.clock=t.clock,a(e.terria.cesium)){for(var n=[],r=[],o=t.entities.values,s=0;s<o.length;++s){var l=o[s],d=l.polygon;if(a(d)){d.perPositionHeight=!0;i(d.hierarchy.getValue(),n,r)}}var f=e.terria.cesium.scene.globe.terrainProvider;h(f,11,n).then(function(){var e;for(e=0;e<n.length;++e){var t=n[e];a(t.height)&&u.WGS84.cartographicToCartesian(t,r[e])}for(e=0;e<o.length;++e){var i=o[e].polygon;if(a(i)){var s=i.hierarchy.getValue();i.hierarchy=new c(s.positions,s.holes)}}})}}function i(e,t,n){var r,o=e.positions;for(r=0;r<o.length;++r){var a=o[r];n.push(a),t.push(u.WGS84.cartesianToCartographic(a))}var s=e.holes;for(r=0;r<s.length;++r)i(s[r],t,n)}function o(e){var t=e.terria;throw new m({sender:e,title:"Error loading KML or KMZ",message:"An error occurred while loading a KML or KMZ file.  This may indicate that the file is invalid or that it is not supported by "+t.appName+'.  If you would like assistance or further information, please email us at <a href="mailto:'+t.supportEmail+'">'+t.supportEmail+"</a>."})}var a=n(0),s=n(2),u=n(23),l=n(13),c=n(296),h=n(309),d=n(7),f=n(330),p=n(74),m=n(22),g=n(14),_=n(334),v=n(32),A=n(1312),y=function(e,t){f.call(this,e),this._dataSource=void 0,this.url=t,this.data=void 0,this.dataSourceUrl=void 0,l.track(this,["data","dataSourceUrl"])};g(f,y),s(y.prototype,{type:{get:function(){return"kml"}},typeName:{get:function(){return"KML or KMZ"}},metadata:{get:function(){var e=new p;return e.isLoading=!1,e.dataSourceErrorMessage="This data source does not have any details available.",e.serviceErrorMessage="This service does not have any details available.",e}},dataSource:{get:function(){return this._dataSource}}}),y.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.data]};var b=/\.kmz$/i;y.prototype._load=function(){var e=d.defer(),t=this;return n.e(0).then(function(){var i=n(799);_(e,function(){var e=!1;a(t._dataSource)&&(e=t.terria.dataSources.remove(t._dataSource,!0));var n=new i({proxy:{getURL:function(e){return t.terria.corsProxy.getURLProxyIfNecessary(e,"0d")}}});return t._dataSource=n,e&&t.terria.dataSources.add(t._dataSource),a(t.data)?d(t.data,function(e){if(e instanceof Document)return n.load(e,v(t,t.dataSourceUrl,"1d")).then(function(){r(t)}).otherwise(function(){o(t)});if("undefined"!=typeof Blob&&e instanceof Blob)return t.dataSourceUrl&&t.dataSourceUrl.match(b)?n.load(e,v(t,t.dataSourceUrl,"1d")).then(function(){r(t)}).otherwise(function(){o(t)}):A(e).then(function(e){return n.load(e,v(t,t.dataSourceUrl,"1d")).then(function(){r(t)})}).otherwise(function(){o(t)});if(e instanceof String||"string"==typeof e){var i,a=new DOMParser;try{i=a.parseFromString(e,"text/xml")}catch(e){}return(!i||!i.documentElement||i.getElementsByTagName("parsererror").length>0)&&o(t),n.load(i,v(t,t.dataSourceUrl,"1d")).then(function(){r(t)}).otherwise(function(){o(t)})}throw new m({sender:t,title:"Unexpected type of KML data",message:"KmlCatalogItem.data is expected to be an XML Document, Blob, or File, but it was none of these. This may indicate a bug in "+t.terria.appName+" or incorrect use of the "+t.terria.appName+" API. If you believe it is a bug in "+t.terria.appName+', please report it by emailing <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>."})}):n.load(v(t,t.url,"1d")).then(function(){r(t)}).otherwise(function(){o(t)})})}.bind(null,n)).catch(n.oe),e.promise},e.exports=y},function(e,t,n){"use strict";function r(e,t){var n=new l(t);n.search("");var r=n.toString();return A(e,r,"1d")}function i(e,t){return"name"===e.titleField?t.Name:"abstract"===e.titleField?t.Abstract:t.Title}function o(e,t,n,r,i,u){r instanceof Array||(r=[r]);for(var l=0;l<r.length;++l){var c=r[l];if(c._parent=i,e.blacklist&&e.blacklist[c.Title])console.log("Provider Feedback: Filtering out "+c.Title+" ("+c.Name+") because it is blacklisted.");else if(h(c.Layer)){var d=t;e.flatten||(d=s(e,c));var f;if(h(c.Name)&&c.Name.length>0){var p=a(e,n,c,u);e.flatten||(f=p.name,p.name="(All) "+p.name),d.add(p)}o(e,d,n,c.Layer,c,u),e.flatten||(1===d.items.length&&0===d.items[0].name.indexOf("(All)")?(d.items[0].name=f,t.add(d.items[0])):d.items.length>0&&t.add(d))}else t.add(a(e,n,c))}}function a(e,t,n,r){var o=new y(e.terria);return o.name=i(e,n),o.layers=n.Name,o.url=e.url,o.updateFromCapabilities(t,!1,n,r),"object"===u(e.itemProperties)&&o.updateFromJson(e.itemProperties),o}function s(e,t){var n=new _(e.terria);return"name"===e.titleField?n.name=t.Name:"abstract"===e.titleField?n.name=t.Abstract:n.name=t.Title,n}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(33),c=n(27),h=n(0),d=n(2),f=n(6),p=n(13),m=n(97),g=n(22),_=n(55),v=n(14),A=n(32),y=n(107),b=n(84),w=function(e){_.call(this,e,"wms-getCapabilities"),this.url="",this.dataCustodian=void 0,this.parameters=void 0,this.blacklist=void 0,this.titleField="title",this.itemProperties=void 0,this.flatten=!1,p.track(this,["url","dataCustodian","parameters","blacklist","titleField","itemProperties","flatten"])};v(_,w),d(w.prototype,{type:{get:function(){return"wms-getCapabilities"}},typeName:{get:function(){return"Web Map Service (WMS) Server"}},serializers:{get:function(){return w.defaultSerializers}}}),w.defaultSerializers=c(_.defaultSerializers),w.defaultSerializers.items=_.enabledShareableItemsSerializer,w.defaultSerializers.isLoading=function(e,t,n,r){},f(w.defaultSerializers),w.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.blacklist,this.titleField]},w.prototype._load=function(){var e=r(this,this.url)+"?service=WMS&request=GetCapabilities&version=1.3.0&tiled=true",t=this;return m(e).then(function(e){if(!e||!e.documentElement||"WMS_Capabilities"!==e.documentElement.localName&&"WMT_MS_Capabilities"!==e.documentElement.localName)throw new g({title:"Invalid WMS server",message:"An error occurred while invoking GetCapabilities on the WMS server.  The server's response does not appear to be a valid GetCapabilities document.  <p>If you entered the link manually, please verify that the link is correct.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href=\"mailto:"+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>.</p>"});var n,r=b(e),a=r.Capability.Layer;if(a){if(a instanceof Array||(a=[a]),1===a.length&&a[0].Layer){var s=a[0];t.name===t.url&&(t.name=i(t,s)),n=s,a=s.Layer}var u={availableStyles:y.getAllAvailableStylesFromCapabilities(r),availableDimensions:y.getAllAvailableDimensionsFromCapabilities(r)};o(t,t,r,a,n,u)}}).otherwise(function(e){throw new g({sender:t,title:"Group is not available",message:'An error occurred while invoking GetCapabilities on the WMS server.  <p>If you entered the link manually, please verify that the link is correct.</p><p>This error may also indicate that the server does not support <a href="http://enable-cors.org/" target="_blank">CORS</a>.  If this is your server, verify that CORS is enabled and enable it if it is not.  If you do not control the server, please contact the administrator of the server and ask them to enable CORS.  Or, contact the '+t.terria.appName+' team by emailing <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a> and ask us to add this server to the list of non-CORS-supporting servers that may be proxied by "+t.terria.appName+' itself.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>.</p>"})})},e.exports=w},function(e,t,n){"use strict";function r(e){var t=g(o(e)).then(function(e){return e});return e.requestGml&&(t=t.otherwise(function(){return i(e)})),t}function i(e){return _(a(e)).then(function(e){return b(e)})}function o(e){var t=s(e,e.url);return new l(t).setQuery(c({service:"WFS",request:"GetFeature",typeName:e.typeNames,version:"1.1.0",outputFormat:"JSON",srsName:"EPSG:4326"},e.parameters)).toString()}function a(e){var t=s(e,e.url);return new l(t).setQuery(c({service:"WFS",request:"GetFeature",typeName:e.typeNames,version:"1.1.0",srsName:"EPSG:4326"},e.parameters)).toString()}function s(e,t){return x(e,u(t))}function u(e){var t=new l(e);return t.search(""),t.toString()}var l=n(33),c=n(42),h=n(27),d=n(0),f=n(2),p=n(6),m=n(13),g=n(44),_=n(97),v=n(51),A=n(56),y=n(14),b=n(1313),w=n(83),x=n(32),E=function(e){A.call(this,e),this._dataUrl=void 0,this._dataUrlType=void 0,this._metadataUrl=void 0,this._geoJsonItem=void 0,this.typeNames="",this.requestGeoJson=!0,this.requestGml=!0,this.parameters={},m.track(this,["_dataUrl","_dataUrlType","_metadataUrl","typeNames","requestGeoJson","requestGml"]),w(this,"dataUrl",{get:function(){var e=this._dataUrl;return d(e)||(e=this.url),"wfs"===this.dataUrlType&&(e=new l(u(e)).setQuery(c({service:"WFS",version:"1.1.0",request:"GetFeature",typeName:this.typeNames,srsName:"EPSG:4326",maxFeatures:"1000"},this.parameters)).toString()),e},set:function(e){this._dataUrl=e}}),w(this,"dataUrlType",{get:function(){return d(this._dataUrlType)?this._dataUrlType:"wfs"},set:function(e){this._dataUrlType=e}}),w(this,"metadataUrl",{get:function(){return d(this._metadataUrl)?this._metadataUrl:new l(u(this.url)).setQuery(c({service:"WFS",version:"1.1.0",request:"GetCapabilities"},this.parameters)).toString()},set:function(e){this._metadataUrl=e}})};y(A,E),f(E.prototype,{type:{get:function(){return"wfs"}},typeName:{get:function(){return"Web Feature Service (WFS)"}},updaters:{get:function(){return E.defaultUpdaters}},serializers:{get:function(){return E.defaultSerializers}},dataSource:{get:function(){return d(this._geoJsonItem)?this._geoJsonItem.dataSource:void 0}}}),E.defaultUpdaters=h(A.defaultUpdaters),p(E.defaultUpdaters),E.defaultSerializers=h(A.defaultSerializers),E.defaultSerializers.dataUrl=function(e,t,n){t.dataUrl=e._dataUrl},E.defaultSerializers.dataUrlType=function(e,t,n){t.dataUrlType=e._dataUrlType},E.defaultSerializers.metadataUrl=function(e,t,n){t.metadataUrl=e._metadataUrl},p(E.defaultSerializers),E.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.typeNames,this.requestGeoJson,this.requestGml,this.parameters]},E.prototype._load=function(){this._geoJsonItem=new v(this.terria);var e;if(this.requestGeoJson)e=r(this);else{if(!this.requestGml)return;e=i(this)}this._geoJsonItem.data=e;var t=this;return t._geoJsonItem.load().then(function(){t.rectangle=t._geoJsonItem.rectangle})},E.prototype._enable=function(){d(this._geoJsonItem)&&this._geoJsonItem._enable()},E.prototype._disable=function(){d(this._geoJsonItem)&&this._geoJsonItem._disable()},E.prototype._show=function(){d(this._geoJsonItem)&&this._geoJsonItem._show()},E.prototype._hide=function(){d(this._geoJsonItem)&&this._geoJsonItem._hide()},E.prototype.showOnSeparateMap=function(e){if(d(this._geoJsonItem))return this._geoJsonItem.showOnSeparateMap(e)},e.exports=E},function(e,t,n){var r,i,o;/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
!function(n,a){"object"==typeof t&&t&&"string"!=typeof t.nodeName?a(t):(i=[t],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o))}(0,function(e){function t(e){return"function"==typeof e}function n(e){return m(e)?"array":typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}function o(e,t){return g.call(e,t)}function a(e){return!o(_,e)}function s(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return v[e]})}function u(t,n){function i(e){if("string"==typeof e&&(e=e.split(y,2)),!m(e)||2!==e.length)throw new Error("Invalid tags: "+e);o=new RegExp(r(e[0])+"\\s*"),s=new RegExp("\\s*"+r(e[1])),u=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var o,s,u,d=[],f=[],p=[],g=!1,_=!1;i(n||e.tags);for(var v,E,C,S,T,I,M=new h(t);!M.eos();){if(v=M.pos,C=M.scanUntil(o))for(var O=0,P=C.length;O<P;++O)S=C.charAt(O),a(S)?p.push(f.length):_=!0,f.push(["text",S,v,v+1]),v+=1,"\n"===S&&function(){if(g&&!_)for(;p.length;)delete f[p.pop()];else p=[];g=!1,_=!1}();if(!M.scan(o))break;if(g=!0,E=M.scan(x)||"name",M.scan(A),"="===E?(C=M.scanUntil(b),M.scan(b),M.scanUntil(s)):"{"===E?(C=M.scanUntil(u),M.scan(w),M.scanUntil(s),E="&"):C=M.scanUntil(s),!M.scan(s))throw new Error("Unclosed tag at "+M.pos);if(T=[E,C,v,M.pos],f.push(T),"#"===E||"^"===E)d.push(T);else if("/"===E){if(!(I=d.pop()))throw new Error('Unopened section "'+C+'" at '+v);if(I[1]!==C)throw new Error('Unclosed section "'+I[1]+'" at '+v)}else"name"===E||"{"===E||"&"===E?_=!0:"="===E&&i(C)}if(I=d.pop())throw new Error('Unclosed section "'+I[1]+'" at '+M.pos);return c(l(f))}function l(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function c(e){for(var t,n,r=[],i=r,o=[],a=0,s=e.length;a<s;++a)switch(t=e[a],t[0]){case"#":case"^":i.push(t),o.push(t),i=t[4]=[];break;case"/":n=o.pop(),n[5]=t[2],i=o.length>0?o[o.length-1][4]:r;break;default:i.push(t)}return r}function h(e){this.string=e,this.tail=e,this.pos=0}function d(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function f(){this.cache={}}var p=Object.prototype.toString,m=Array.isArray||function(e){return"[object Array]"===p.call(e)},g=RegExp.prototype.test,_=/\S/,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},A=/\s*/,y=/\s+/,b=/\s*=/,w=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/;h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},h.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},d.prototype.push=function(e){return new d(e,this)},d.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var o,a,s=this,u=!1;s;){if(e.indexOf(".")>0)for(n=s.view,o=e.split("."),a=0;null!=n&&a<o.length;)a===o.length-1&&(u=i(n,o[a])),n=n[o[a++]];else n=s.view[e],u=i(s.view,e);if(u)break;s=s.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},f.prototype.clearCache=function(){this.cache={}},f.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=u(e,t)),r},f.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof d?t:new d(t);return this.renderTokens(r,i,n,e)},f.prototype.renderTokens=function(e,t,n,r){for(var i,o,a,s="",u=0,l=e.length;u<l;++u)a=void 0,i=e[u],o=i[0],"#"===o?a=this.renderSection(i,t,n,r):"^"===o?a=this.renderInverted(i,t,n,r):">"===o?a=this.renderPartial(i,t,n,r):"&"===o?a=this.unescapedValue(i,t):"name"===o?a=this.escapedValue(i,t):"text"===o&&(a=this.rawValue(i)),void 0!==a&&(s+=a);return s},f.prototype.renderSection=function(e,n,r,i){function o(e){return a.render(e,n,r)}var a=this,s="",u=n.lookup(e[1]);if(u){if(m(u))for(var l=0,c=u.length;l<c;++l)s+=this.renderTokens(e[4],n.push(u[l]),r,i);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(e[4],n.push(u),r,i);else if(t(u)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");u=u.call(n.view,i.slice(e[3],e[5]),o),null!=u&&(s+=u)}else s+=this.renderTokens(e[4],n,r,i);return s}},f.prototype.renderInverted=function(e,t,n,r){var i=t.lookup(e[1]);if(!i||m(i)&&0===i.length)return this.renderTokens(e[4],t,n,r)},f.prototype.renderPartial=function(e,n,r){if(r){var i=t(r)?r(e[1]):r[e[1]];return null!=i?this.renderTokens(this.parse(i),n,r,i):void 0}},f.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},f.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},f.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.2",e.tags=["{{","}}"];var E=new f;return e.clearCache=function(){return E.clearCache()},e.parse=function(e,t){return E.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return E.render(e,t,r)},e.to_html=function(n,r,i,o){var a=e.render(n,r,i);if(!t(o))return a;o(a)},e.escape=s,e.Scanner=h,e.Context=d,e.Writer=f,e})},function(e,t,n){"use strict";function r(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===a.b&&t.documentElement.namespaceURI===a.b?t.createElement(e):t.createElementNS(n,e)}}function i(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var o=n(373),a=n(374);t.a=function(e){var t=Object(o.a)(e);return(t.local?i:r)(t)}},function(e,t,n){"use strict";t.a=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}},function(e,t,n){"use strict";function r(e){this._context=e}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},t.a=function(e){return new r(e)}},function(e,t,n){"use strict";t.a=function(){}},function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function i(e){this._context=e}t.c=r,t.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:r(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:r(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},t.b=function(e){return new i(e)}},function(e,t,n){"use strict";function r(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function i(e,t){this._context=e,this._k=(1-t)/6}t.c=r,t.a=i,i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:r(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:r(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.b=function e(t){function n(e){return new i(e,t)}return n.tension=function(t){return e(+t)},n}(0)},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}},function(e,t,n){"use strict";function r(e,t){var n,r;return function(){var i=Object(a.h)(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,u=r.length;s<u;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function i(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Object(a.h)(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var u={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=u;break}l===c&&i.push(u)}o.tween=i}}function o(e,t,n){var r=e._id;return e.each(function(){var e=Object(a.h)(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Object(a.f)(e,r).value[t]}}t.b=o;var a=n(66);t.a=function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,s=Object(a.f)(this.node(),n).tween,u=0,l=s.length;u<l;++u)if((o=s[u]).name===e)return o.value;return null}return this.each((null==t?r:i)(n,e,t))}},function(e,t,n){"use strict";function r(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Object(f.a)(t)}function i(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function o(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function a(e,t,n,r){var i=e[0],o=e[1],a=t[0],s=t[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(e){return a(i(e))}}function s(e,t,n,r){var i=Math.min(e.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=n(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var n=Object(c.bisect)(e,t,1,i)-1;return a[n](o[n](t))}}function u(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function l(e,t){function n(){return l=Math.min(g.length,_.length)>2?s:a,c=f=null,u}function u(t){return(c||(c=l(g,_,A?i(e):e,v)))(+t)}var l,c,f,g=m,_=m,v=h.a,A=!1;return u.invert=function(e){return(f||(f=l(_,g,r,A?o(t):t)))(+e)},u.domain=function(e){return arguments.length?(g=d.a.call(e,p.a),n()):g.slice()},u.range=function(e){return arguments.length?(_=d.b.call(e),n()):_.slice()},u.rangeRound=function(e){return _=d.b.call(e),v=h.e,n()},u.clamp=function(e){return arguments.length?(A=!!e,n()):A},u.interpolate=function(e){return arguments.length?(v=e,n()):v},n()}t.c=r,t.a=u,t.b=l;var c=n(82),h=n(126),d=n(147),f=n(391),p=n(675),m=[0,1]},function(e,t,n){"use strict";var r=n(282);t.a=function(e){return e=Object(r.b)(Math.abs(e)),e?e[1]:NaN}},function(e,t,n){"use strict";function r(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}t.b=r,t.a=function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(!e)return[];var t=[];return d.values.forEach(function(n){n.isCorresponding(e)&&(t=t.concat({type:n,reactComponent:e}))}),s.default.isValidElement(e)&&s.default.Children.count(e.props.children)>0&&s.default.Children.forEach(e.props.children,function(e){t=t.concat(i(e))}),t}function o(e,t,n){if(e)for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i.reactComponent;if(o.type===t&&function(e){for(var t in n)if(n.hasOwnProperty(t))if(Array.isArray(n[t])){if(!(0,h.default)(e[t],n[t]))return!1}else if(e[t]!==n[t])return!1;return!0}(o.props))return i.counter}}var a=n(4),s=r(a),u=n(182),l=r(u),c=n(195),h=r(c),d=new l.default,f={register:function(e){d.set(e.name,e)},names:function(){return d.values.map(function(e){return e.name})},isRegistered:function(e){return this.names().indexOf(e)>=0},attributes:function(){return d.values.map(function(e){return e.attributes}).reduce(function(e,t){return e.concat(t)},[])},values:function(){return d.values},find:i,getUpdateCounter:o};e.exports=f},function(e,t,n){"use strict";function r(e){for(var t=e.parent,n=[];i(t)&&i(t.parent);)n=[t].concat(n),t=t.parent;return n}var i=n(0);e.exports=r},function(e,t,n){"use strict";var r=n(3),i=n(13),o=function(){this.name="Unknown",this.isOpen=!0,this.searchResults=[],this.searchMessage=void 0,this.isSearching=!1,i.track(this,["name","isOpen","searchResults","searchMessage","isSearching"])};o.prototype.toggleOpen=function(){this.isOpen=!this.isOpen},o.prototype.search=function(e){throw new r("search must be implemented in the derived class.")},e.exports=o},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(13),a=n(198),s=function(e){this.name=r(e.name,"Unknown"),this.tooltip=e.tooltip,this.isImportant=r(e.isImportant,!1),this.clickAction=e.clickAction,this.catalogItem=e.catalogItem,this.isOpen=!1,this.type="search_result",this.location=e.location,o.track(this,["name","tooltip","isImportant","clickAction","catalogItem","isOpen"])};s.prototype.toggleOpen=function(){i(this.catalogItem)&&(this.isOpen=!this.isOpen,this.isOpen&&a(this.catalogItem.terria,this.catalogItem.load()))},e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1628),o=r(i),a=n(1629),s=r(a),u=n(695),l=r(u),c=(0,l.default)(o.default,s.default);t.default=c},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(2),n(3),n(9),n(424)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e){e=t(e,t.EMPTY_OBJECT),this._offCenterFrustum=new a,this.width=e.width,this._width=void 0,this.aspectRatio=e.aspectRatio,this._aspectRatio=void 0,this.near=t(e.near,1),this._near=this.near,this.far=t(e.far,5e8),this._far=this.far}function u(e){var t=e._offCenterFrustum;if(e.width!==e._width||e.aspectRatio!==e._aspectRatio||e.near!==e._near||e.far!==e._far){e._aspectRatio=e.aspectRatio,e._width=e.width,e._near=e.near,e._far=e.far;var n=1/e.aspectRatio;t.right=.5*e.width,t.left=-t.right,t.top=n*t.right,t.bottom=-t.top,t.near=e.near,t.far=e.far}}return s.packedLength=4,s.pack=function(e,n,r){return r=t(r,0),n[r++]=e.width,n[r++]=e.aspectRatio,n[r++]=e.near,n[r]=e.far,n},s.unpack=function(e,r,i){return r=t(r,0),n(i)||(i=new s),i.width=e[r++],i.aspectRatio=e[r++],i.near=e[r++],i.far=e[r],i},r(s.prototype,{projectionMatrix:{get:function(){return u(this),this._offCenterFrustum.projectionMatrix}}}),s.prototype.computeCullingVolume=function(e,t,n){return u(this),this._offCenterFrustum.computeCullingVolume(e,t,n)},s.prototype.getPixelDimensions=function(e,t,n,r){return u(this),this._offCenterFrustum.getPixelDimensions(e,t,n,r)},s.prototype.clone=function(e){return n(e)||(e=new s),e.aspectRatio=this.aspectRatio,e.width=this.width,e.near=this.near,e.far=this.far,e._aspectRatio=void 0,e._width=void 0,e._near=void 0,e._far=void 0,this._offCenterFrustum.clone(e._offCenterFrustum),e},s.prototype.equals=function(e){return!!(n(e)&&e instanceof s)&&(u(this),u(e),this.width===e.width&&this.aspectRatio===e.aspectRatio&&this._offCenterFrustum.equals(e._offCenterFrustum))},s.prototype.equalsEpsilon=function(e,t,r){return!!(n(e)&&e instanceof s)&&(u(this),u(e),o.equalsEpsilon(this.width,e.width,t,r)&&o.equalsEpsilon(this.aspectRatio,e.aspectRatio,t,r)&&this._offCenterFrustum.equalsEpsilon(e._offCenterFrustum,t,r))},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(169),n(955),n(38),n(17),n(10),n(41),n(24),n(31),n(1),n(0),n(3),n(135),n(72),n(76),n(90),n(441),n(49),n(71),n(157),n(9),n(40),n(20),n(79),n(54),n(956)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E){"use strict";function C(e,t,n,r,i){e[t++]=n,e[t++]=r,e[t++]=r,e[t++]=i,e[t++]=i,e[t]=n}function S(e){for(var t=e.length,n=t/3*6,r=g.createTypedArray(t,n),i=0,o=0;o<t;o+=3,i+=6)C(r,i,e[o],e[o+1],e[o+2]);return r}function T(e){var t=e.length;if(t>=3){var n=6*(t-2),r=g.createTypedArray(t,n);C(r,0,e[0],e[1],e[2]);for(var i=6,o=3;o<t;++o,i+=6)C(r,i,e[o-1],e[o],e[o-2]);return r}return new Uint16Array}function I(e){if(e.length>0){for(var t=e.length-1,n=6*(t-1),r=g.createTypedArray(t,n),i=e[0],o=0,a=1;a<t;++a,o+=6)C(r,o,i,e[a],e[a+1]);return r}return new Uint16Array}function M(e){var t={};for(var n in e)if(e.hasOwnProperty(n)&&l(e[n])&&l(e[n].values)){var r=e[n];t[n]=new p({componentDatatype:r.componentDatatype,componentsPerAttribute:r.componentsPerAttribute,normalize:r.normalize,values:[]})}return t}function O(e,t,n){for(var r in t)if(t.hasOwnProperty(r)&&l(t[r])&&l(t[r].values))for(var i=t[r],o=0;o<i.componentsPerAttribute;++o)e[r].values.push(i.values[n*i.componentsPerAttribute+o])}function P(e,t){if(l(t))for(var n=t.values,r=n.length,o=0;o<r;o+=3)i.unpack(n,o,ue),b.multiplyByPoint(e,ue,ue),i.pack(ue,n,o)}function D(e,t){if(l(t))for(var n=t.values,r=n.length,o=0;o<r;o+=3)i.unpack(n,o,ue),y.multiplyByVector(e,ue,ue),ue=i.normalize(ue,ue),i.pack(ue,n,o)}function B(e,t){var n,r=e.length,i={},o=e[0][t].attributes;for(n in o)if(o.hasOwnProperty(n)&&l(o[n])&&l(o[n].values)){for(var a=o[n],u=a.values.length,c=!0,h=1;h<r;++h){var d=e[h][t].attributes[n];if(!l(d)||a.componentDatatype!==d.componentDatatype||a.componentsPerAttribute!==d.componentsPerAttribute||a.normalize!==d.normalize){c=!1;break}u+=d.values.length}c&&(i[n]=new p({componentDatatype:a.componentDatatype,componentsPerAttribute:a.componentsPerAttribute,normalize:a.normalize,values:s.createTypedArray(a.componentDatatype,u)}))}return i}function L(e,t){var r,o,a,s,u,c,h,d=e.length,p=(e[0].modelMatrix,l(e[0][t].indices)),m=e[0][t].primitiveType,_=B(e,t);for(r in _)if(_.hasOwnProperty(r))for(u=_[r].values,s=0,o=0;o<d;++o)for(c=e[o][t].attributes[r].values,h=c.length,a=0;a<h;++a)u[s++]=c[a];var v;if(p){var A=0;for(o=0;o<d;++o)A+=e[o][t].indices.length;var y=f.computeNumberOfVertices(new f({attributes:_,primitiveType:x.POINTS})),b=g.createTypedArray(y,A),w=0,E=0;for(o=0;o<d;++o){var C=e[o][t].indices,S=C.length;for(s=0;s<S;++s)b[w++]=E+C[s];E+=f.computeNumberOfVertices(e[o][t])}v=b}var T,I=new i,M=0;for(o=0;o<d;++o){if(T=e[o][t].boundingSphere,!l(T)){I=void 0;break}i.add(T.center,I,I)}if(l(I))for(i.divideByScalar(I,d,I),o=0;o<d;++o){T=e[o][t].boundingSphere;var O=i.magnitude(i.subtract(T.center,I,he))+T.radius;O>M&&(M=O)}return new f({attributes:_,indices:v,primitiveType:m,boundingSphere:l(I)?new n(I,M):void 0})}function N(e){if(l(e.indices))return e;for(var t=f.computeNumberOfVertices(e),n=g.createTypedArray(t,t),r=0;r<t;++r)n[r]=r;return e.indices=n,e}function R(e){var t=f.computeNumberOfVertices(e),n=g.createTypedArray(t,3*(t-2));n[0]=1,n[1]=0,n[2]=2;for(var r=3,i=3;i<t;++i)n[r++]=i-1,n[r++]=0,n[r++]=i;return e.indices=n,e.primitiveType=x.TRIANGLES,e}function k(e){var t=f.computeNumberOfVertices(e),n=g.createTypedArray(t,3*(t-2));n[0]=0,n[1]=1,n[2]=2,t>3&&(n[3]=0,n[4]=2,n[5]=3);for(var r=6,i=3;i<t-1;i+=2)n[r++]=i,n[r++]=i-1,n[r++]=i+1,i+2<t&&(n[r++]=i,n[r++]=i+1,n[r++]=i+2);return e.indices=n,e.primitiveType=x.TRIANGLES,e}function F(e){if(l(e.indices))return e;for(var t=f.computeNumberOfVertices(e),n=g.createTypedArray(t,t),r=0;r<t;++r)n[r]=r;return e.indices=n,e}function U(e){var t=f.computeNumberOfVertices(e),n=g.createTypedArray(t,2*(t-1));n[0]=0,n[1]=1;for(var r=2,i=2;i<t;++i)n[r++]=i-1,n[r++]=i;return e.indices=n,e.primitiveType=x.LINES,e}function z(e){var t=f.computeNumberOfVertices(e),n=g.createTypedArray(t,2*t);n[0]=0,n[1]=1;for(var r=2,i=2;i<t;++i)n[r++]=i-1,n[r++]=i;return n[r++]=t-1,n[r]=0,e.indices=n,e.primitiveType=x.LINES,e}function j(e){switch(e.primitiveType){case x.TRIANGLE_FAN:return R(e);case x.TRIANGLE_STRIP:return k(e);case x.TRIANGLES:return N(e);case x.LINE_STRIP:return U(e);case x.LINE_LOOP:return z(e);case x.LINES:return F(e)}return e}function H(e,t){Math.abs(e.y)<A.EPSILON6&&(e.y=t?-A.EPSILON6:A.EPSILON6)}function V(e,t,n){if(0!==e.y&&0!==t.y&&0!==n.y)return H(e,e.y<0),H(t,t.y<0),void H(n,n.y<0);var r,i=Math.abs(e.y),o=Math.abs(t.y),a=Math.abs(n.y);r=i>o?i>a?A.sign(e.y):A.sign(n.y):o>a?A.sign(t.y):A.sign(n.y);var s=r<0;H(e,s),H(t,s),H(n,s)}function Q(e,t,n,r){i.add(e,i.multiplyByScalar(i.subtract(t,e,Ee),e.y/(e.y-t.y),Ee),n),i.clone(n,r),H(n,!0),H(r,!1)}function G(e,t,n){if(!(e.x>=0||t.x>=0||n.x>=0)){V(e,t,n);var r=e.y<0,i=t.y<0,o=n.y<0,a=0;a+=r?1:0,a+=i?1:0,a+=o?1:0;var s=Me.indices;1===a?(s[1]=3,s[2]=4,s[5]=6,s[7]=6,s[8]=5,r?(Q(e,t,Ce,Te),Q(e,n,Se,Ie),s[0]=0,s[3]=1,s[4]=2,s[6]=1):i?(Q(t,n,Ce,Te),Q(t,e,Se,Ie),s[0]=1,s[3]=2,s[4]=0,s[6]=2):o&&(Q(n,e,Ce,Te),Q(n,t,Se,Ie),s[0]=2,s[3]=0,s[4]=1,s[6]=0)):2===a&&(s[2]=4,s[4]=4,s[5]=3,s[7]=5,s[8]=6,r?i?o||(Q(n,e,Ce,Te),Q(n,t,Se,Ie),s[0]=0,s[1]=1,s[3]=0,s[6]=2):(Q(t,n,Ce,Te),Q(t,e,Se,Ie),s[0]=2,s[1]=0,s[3]=2,s[6]=1):(Q(e,t,Ce,Te),Q(e,n,Se,Ie),s[0]=1,s[1]=2,s[3]=1,s[6]=0));var u=Me.positions;return u[0]=e,u[1]=t,u[2]=n,u.length=3,1!==a&&2!==a||(u[3]=Ce,u[4]=Se,u[5]=Te,u[6]=Ie,u.length=7),Me}}function W(e,t){var r=e.attributes;if(0!==r.position.values.length){for(var i in r)if(r.hasOwnProperty(i)&&l(r[i])&&l(r[i].values)){var o=r[i];o.values=s.createTypedArray(o.componentDatatype,o.values)}var a=f.computeNumberOfVertices(e);return e.indices=g.createTypedArray(a,e.indices),t&&(e.boundingSphere=n.fromVertices(r.position.values)),e}}function q(e){var t=e.attributes,n={};for(var r in t)if(t.hasOwnProperty(r)&&l(t[r])&&l(t[r].values)){var i=t[r];n[r]=new p({componentDatatype:i.componentDatatype,componentsPerAttribute:i.componentsPerAttribute,normalize:i.normalize,values:[]})}return new f({attributes:n,indices:[],primitiveType:e.primitiveType})}function Y(e,t,n){var r=l(e.geometry.boundingSphere);t=W(t,r),n=W(n,r),l(n)&&!l(t)?e.geometry=n:!l(n)&&l(t)?e.geometry=t:(e.westHemisphereGeometry=t,e.eastHemisphereGeometry=n,e.geometry=void 0)}function K(e,t){var n=new e,r=new e,i=new e;return function(o,a,s,u,l,c,h,d){var f=e.fromArray(l,o*t,n),p=e.fromArray(l,a*t,r),m=e.fromArray(l,s*t,i);e.multiplyByScalar(f,u.x,f),e.multiplyByScalar(p,u.y,p),e.multiplyByScalar(m,u.z,m);var g=e.add(f,p,f);e.add(g,m,g),d&&e.normalize(g,g),e.pack(g,c,h*t)}}function X(e,n,r,o,a,s,u,c,h,d,f,p,m,g,_,v){if(l(s)||l(u)||l(c)||l(h)||l(d)||0!==g){var A=i.fromArray(a,3*e,Le),y=i.fromArray(a,3*n,Ne),b=i.fromArray(a,3*r,Re),w=t(o,A,y,b,ke);if(l(s)&&Pe(e,n,r,w,s,p.normal.values,v,!0),l(d)){var x=i.fromArray(d,3*e,Le),E=i.fromArray(d,3*n,Ne),C=i.fromArray(d,3*r,Re);i.multiplyByScalar(x,w.x,x),i.multiplyByScalar(E,w.y,E),i.multiplyByScalar(C,w.z,C);var S;i.equals(x,i.ZERO)&&i.equals(E,i.ZERO)&&i.equals(C,i.ZERO)?(S=Le,S.x=0,S.y=0,S.z=0):(S=i.add(x,E,x),i.add(S,C,S),i.normalize(S,S)),i.pack(S,p.extrudeDirection.values,3*v)}if(l(f)&&Be(e,n,r,w,f,p.applyOffset.values,v),l(u)&&Pe(e,n,r,w,u,p.tangent.values,v,!0),l(c)&&Pe(e,n,r,w,c,p.bitangent.values,v,!0),l(h)&&De(e,n,r,w,h,p.st.values,v),g>0)for(var T=0;T<g;T++){var I=m[T];Z(e,n,r,w,v,_[I],p[I])}}}function Z(e,t,n,r,i,o,a){var s=o.componentsPerAttribute,u=o.values,l=a.values;switch(s){case 4:Oe(e,t,n,r,u,l,i,!1);break;case 3:Pe(e,t,n,r,u,l,i,!1);break;case 2:De(e,t,n,r,u,l,i,!1);break;default:l[i]=u[e]*r.x+u[t]*r.y+u[n]*r.z}}function J(e,t,n,r,i,o){var a=e.position.values.length/3;if(-1!==i){var s=r[i],u=n[s];return-1===u?(n[s]=a,e.position.values.push(o.x,o.y,o.z),t.push(a),a):(t.push(u),u)}return e.position.values.push(o.x,o.y,o.z),t.push(a),a}function $(e){var t=e.geometry,n=t.attributes,r=n.position.values,o=l(n.normal)?n.normal.values:void 0,a=l(n.bitangent)?n.bitangent.values:void 0,s=l(n.tangent)?n.tangent.values:void 0,u=l(n.st)?n.st.values:void 0,c=l(n.extrudeDirection)?n.extrudeDirection.values:void 0,h=l(n.applyOffset)?n.applyOffset.values:void 0,d=t.indices,f=[];for(var p in n)n.hasOwnProperty(p)&&!Fe[p]&&l(n[p])&&f.push(p);var m,g,_,v,A,y=f.length,b=q(t),w=q(t),x=[];x.length=r.length/3;var E=[];for(E.length=r.length/3,A=0;A<x.length;++A)x[A]=-1,E[A]=-1;var C=d.length;for(A=0;A<C;A+=3){var S=d[A],T=d[A+1],I=d[A+2],M=i.fromArray(r,3*S),O=i.fromArray(r,3*T),P=i.fromArray(r,3*I),D=G(M,O,P);if(l(D)&&D.positions.length>3)for(var B=D.positions,L=D.indices,N=L.length,R=0;R<N;++R){var k=L[R],F=B[k];F.y<0?(m=w.attributes,g=w.indices,_=x):(m=b.attributes,g=b.indices,_=E),v=J(m,g,_,d,k<3?A+k:-1,F),X(S,T,I,F,r,o,s,a,u,c,h,m,f,y,n,v)}else l(D)&&(M=D.positions[0],O=D.positions[1],P=D.positions[2]),M.y<0?(m=w.attributes,g=w.indices,_=x):(m=b.attributes,g=b.indices,_=E),v=J(m,g,_,d,A,M),X(S,T,I,M,r,o,s,a,u,c,h,m,f,y,n,v),v=J(m,g,_,d,A+1,O),X(S,T,I,O,r,o,s,a,u,c,h,m,f,y,n,v),v=J(m,g,_,d,A+2,P),X(S,T,I,P,r,o,s,a,u,c,h,m,f,y,n,v)}Y(e,w,b)}function ee(e,t,n,r,o,a,s){if(l(s)){var u=i.fromArray(r,3*e,Le);i.equalsEpsilon(u,n,A.EPSILON10)?a.applyOffset.values[o]=s[e]:a.applyOffset.values[o]=s[t]}}function te(e){var t,n=e.geometry,r=n.attributes,o=r.position.values,a=l(r.applyOffset)?r.applyOffset.values:void 0,s=n.indices,u=q(n),c=q(n),h=s.length,d=[];d.length=o.length/3;var f=[];for(f.length=o.length/3,t=0;t<d.length;++t)d[t]=-1,f[t]=-1;for(t=0;t<h;t+=2){var p,m=s[t],g=s[t+1],_=i.fromArray(o,3*m,Le),y=i.fromArray(o,3*g,Ne);Math.abs(_.y)<A.EPSILON6&&(_.y<0?_.y=-A.EPSILON6:_.y=A.EPSILON6),Math.abs(y.y)<A.EPSILON6&&(y.y<0?y.y=-A.EPSILON6:y.y=A.EPSILON6);var b=u.attributes,w=u.indices,x=f,E=c.attributes,C=c.indices,S=d,T=v.lineSegmentPlane(_,y,Ue,Re);if(l(T)){var I=i.multiplyByScalar(i.UNIT_Y,5*A.EPSILON9,ze);_.y<0&&(i.negate(I,I),b=c.attributes,w=c.indices,x=d,E=u.attributes,C=u.indices,S=f);var M=i.add(T,I,je);p=J(b,w,x,s,t,_),ee(m,g,_,o,p,b,a),p=J(b,w,x,s,-1,M),ee(m,g,M,o,p,b,a),i.negate(I,I),i.add(T,I,M),p=J(E,C,S,s,-1,M),ee(m,g,M,o,p,E,a),p=J(E,C,S,s,t+1,y),ee(m,g,y,o,p,E,a)}else{var O,P,D;_.y<0?(O=c.attributes,P=c.indices,D=d):(O=u.attributes,P=u.indices,D=f),p=J(O,P,D,s,t,_),ee(m,g,_,o,p,O,a),p=J(O,P,D,s,t+1,y),ee(m,g,y,o,p,O,a)}}Y(e,c,u)}function ne(e){for(var t=e.attributes,n=t.position.values,r=t.prevPosition.values,o=t.nextPosition.values,a=n.length,s=0;s<a;s+=3){var u=i.unpack(n,s,Qe);if(!(u.x>0)){var l=i.unpack(r,s,Ge);(u.y<0&&l.y>0||u.y>0&&l.y<0)&&(s-3>0?(r[s]=n[s-3],r[s+1]=n[s-2],r[s+2]=n[s-1]):i.pack(u,r,s));var c=i.unpack(o,s,We);(u.y<0&&c.y>0||u.y>0&&c.y<0)&&(s+3<a?(o[s]=n[s+3],o[s+1]=n[s+4],o[s+2]=n[s+5]):i.pack(u,o,s))}}}function re(e){var t,n,a,s=e.geometry,u=s.attributes,c=u.position.values,h=u.prevPosition.values,d=u.nextPosition.values,f=u.expandAndWidth.values,p=l(u.st)?u.st.values:void 0,m=l(u.color)?u.color.values:void 0,g=q(s),_=q(s),y=!1,b=c.length/3;for(t=0;t<b;t+=4){var w=t,x=t+2,E=i.fromArray(c,3*w,Qe),C=i.fromArray(c,3*x,Ge);if(Math.abs(E.y)<Je)for(E.y=Je*(C.y<0?-1:1),c[3*t+1]=E.y,c[3*(t+1)+1]=E.y,n=3*w;n<3*w+12;n+=3)h[n]=c[3*t],h[n+1]=c[3*t+1],h[n+2]=c[3*t+2];if(Math.abs(C.y)<Je)for(C.y=Je*(E.y<0?-1:1),c[3*(t+2)+1]=C.y,c[3*(t+3)+1]=C.y,n=3*w;n<3*w+12;n+=3)d[n]=c[3*(t+2)],d[n+1]=c[3*(t+2)+1],d[n+2]=c[3*(t+2)+2];var S=g.attributes,T=g.indices,I=_.attributes,M=_.indices,O=v.lineSegmentPlane(E,C,Ue,qe);if(l(O)){y=!0;var P=i.multiplyByScalar(i.UNIT_Y,Ze,Ye);E.y<0&&(i.negate(P,P),S=_.attributes,T=_.indices,I=g.attributes,M=g.indices);var D=i.add(O,P,Ke);S.position.values.push(E.x,E.y,E.z,E.x,E.y,E.z),S.position.values.push(D.x,D.y,D.z),S.position.values.push(D.x,D.y,D.z),S.prevPosition.values.push(h[3*w],h[3*w+1],h[3*w+2]),S.prevPosition.values.push(h[3*w+3],h[3*w+4],h[3*w+5]),S.prevPosition.values.push(E.x,E.y,E.z,E.x,E.y,E.z),S.nextPosition.values.push(D.x,D.y,D.z),S.nextPosition.values.push(D.x,D.y,D.z),S.nextPosition.values.push(D.x,D.y,D.z),S.nextPosition.values.push(D.x,D.y,D.z),i.negate(P,P),i.add(O,P,D),I.position.values.push(D.x,D.y,D.z),I.position.values.push(D.x,D.y,D.z),I.position.values.push(C.x,C.y,C.z,C.x,C.y,C.z),I.prevPosition.values.push(D.x,D.y,D.z),I.prevPosition.values.push(D.x,D.y,D.z),I.prevPosition.values.push(D.x,D.y,D.z),I.prevPosition.values.push(D.x,D.y,D.z),I.nextPosition.values.push(C.x,C.y,C.z,C.x,C.y,C.z),I.nextPosition.values.push(d[3*x],d[3*x+1],d[3*x+2]),I.nextPosition.values.push(d[3*x+3],d[3*x+4],d[3*x+5]);var B=r.fromArray(f,2*w,He),L=Math.abs(B.y);S.expandAndWidth.values.push(-1,L,1,L),S.expandAndWidth.values.push(-1,-L,1,-L),I.expandAndWidth.values.push(-1,L,1,L),I.expandAndWidth.values.push(-1,-L,1,-L);var N=i.magnitudeSquared(i.subtract(O,E,We));if(N/=i.magnitudeSquared(i.subtract(C,E,We)),l(m)){var R=o.fromArray(m,4*w,Xe),k=o.fromArray(m,4*x,Xe),F=A.lerp(R.x,k.x,N),U=A.lerp(R.y,k.y,N),z=A.lerp(R.z,k.z,N),j=A.lerp(R.w,k.w,N);for(n=4*w;n<4*w+8;++n)S.color.values.push(m[n]);for(S.color.values.push(F,U,z,j),S.color.values.push(F,U,z,j),I.color.values.push(F,U,z,j),I.color.values.push(F,U,z,j),n=4*x;n<4*x+8;++n)I.color.values.push(m[n])}if(l(p)){var H=r.fromArray(p,2*w,He),V=r.fromArray(p,2*(t+3),Ve),Q=A.lerp(H.x,V.x,N);for(n=2*w;n<2*w+4;++n)S.st.values.push(p[n]);for(S.st.values.push(Q,H.y),S.st.values.push(Q,V.y),I.st.values.push(Q,H.y),I.st.values.push(Q,V.y),n=2*x;n<2*x+4;++n)I.st.values.push(p[n])}a=S.position.values.length/3-4,T.push(a,a+2,a+1),T.push(a+1,a+2,a+3),a=I.position.values.length/3-4,M.push(a,a+2,a+1),M.push(a+1,a+2,a+3)}else{var G,W;for(E.y<0?(G=_.attributes,W=_.indices):(G=g.attributes,W=g.indices),G.position.values.push(E.x,E.y,E.z),G.position.values.push(E.x,E.y,E.z),G.position.values.push(C.x,C.y,C.z),G.position.values.push(C.x,C.y,C.z),n=3*t;n<3*t+12;++n)G.prevPosition.values.push(h[n]),G.nextPosition.values.push(d[n]);for(n=2*t;n<2*t+8;++n)G.expandAndWidth.values.push(f[n]),l(p)&&G.st.values.push(p[n]);if(l(m))for(n=4*t;n<4*t+16;++n)G.color.values.push(m[n]);a=G.position.values.length/3-4,W.push(a,a+2,a+1),W.push(a+1,a+2,a+3)}}y&&(ne(_),ne(g)),Y(e,_,g)}var ie={};ie.toWireframe=function(e){var t=e.indices;if(l(t)){switch(e.primitiveType){case x.TRIANGLES:e.indices=S(t);break;case x.TRIANGLE_STRIP:e.indices=T(t);break;case x.TRIANGLE_FAN:e.indices=I(t)}e.primitiveType=x.LINES}return e},ie.createLineSegmentsForVectors=function(e,t,r){t=u(t,"normal"),r=u(r,1e4);for(var i=e.attributes.position.values,o=e.attributes[t].values,a=i.length,c=new Float64Array(2*a),h=0,d=0;d<a;d+=3)c[h++]=i[d],c[h++]=i[d+1],c[h++]=i[d+2],c[h++]=i[d]+o[d]*r,c[h++]=i[d+1]+o[d+1]*r,c[h++]=i[d+2]+o[d+2]*r;var m,g=e.boundingSphere;return l(g)&&(m=new n(g.center,g.radius+r)),new f({attributes:{position:new p({componentDatatype:s.DOUBLE,componentsPerAttribute:3,values:c})},primitiveType:x.LINES,boundingSphere:m})},ie.createAttributeLocations=function(e){var t,n=["position","positionHigh","positionLow","position3DHigh","position3DLow","position2DHigh","position2DLow","pickColor","normal","st","tangent","bitangent","extrudeDirection","compressedAttributes"],r=e.attributes,i={},o=0,a=n.length;for(t=0;t<a;++t){var s=n[t];l(r[s])&&(i[s]=o++)}for(var u in r)r.hasOwnProperty(u)&&!l(i[u])&&(i[u]=o++);return i},ie.reorderForPreVertexCache=function(e){var t=f.computeNumberOfVertices(e),n=e.indices;if(l(n)){for(var r=new Int32Array(t),i=0;i<t;i++)r[i]=-1;for(var o,a=n,u=a.length,c=g.createTypedArray(t,u),h=0,d=0,p=0;h<u;)o=r[a[h]],-1!==o?c[d]=o:(o=a[h],r[o]=p,c[d]=p,++p),++h,++d;e.indices=c;var m=e.attributes;for(var _ in m)if(m.hasOwnProperty(_)&&l(m[_])&&l(m[_].values)){for(var v=m[_],A=v.values,y=0,b=v.componentsPerAttribute,w=s.createTypedArray(v.componentDatatype,p*b);y<t;){var x=r[y];if(-1!==x)for(var E=0;E<b;E++)w[b*x+E]=A[b*y+E];++y}v.values=w}}return e},ie.reorderForPostVertexCache=function(e,t){var n=e.indices;if(e.primitiveType===x.TRIANGLES&&l(n)){for(var r=n.length,i=0,o=0;o<r;o++)n[o]>i&&(i=n[o]);e.indices=E.tipsify({indices:n,maximumIndex:i,cacheSize:t})}return e},ie.fitToUnsignedShortIndices=function(e){var t=[],n=f.computeNumberOfVertices(e);if(l(e.indices)&&n>=A.SIXTY_FOUR_KILOBYTES){var r,i=[],o=[],a=0,s=M(e.attributes),u=e.indices,c=u.length;e.primitiveType===x.TRIANGLES?r=3:e.primitiveType===x.LINES?r=2:e.primitiveType===x.POINTS&&(r=1);for(var h=0;h<c;h+=r){for(var d=0;d<r;++d){var p=u[h+d],m=i[p];l(m)||(m=a++,i[p]=m,O(s,e.attributes,p)),o.push(m)}a+r>=A.SIXTY_FOUR_KILOBYTES&&(t.push(new f({attributes:s,indices:o,primitiveType:e.primitiveType,boundingSphere:e.boundingSphere,boundingSphereCV:e.boundingSphereCV})),i=[],o=[],a=0,s=M(e.attributes))}0!==o.length&&t.push(new f({attributes:s,indices:o,primitiveType:e.primitiveType,boundingSphere:e.boundingSphere,boundingSphereCV:e.boundingSphereCV}))}else t.push(e);return t};var oe=new i,ae=new a;ie.projectTo2D=function(e,t,n,r,o){var a=e.attributes[t];o=l(o)?o:new d;for(var u=o.ellipsoid,c=a.values,h=new Float64Array(c.length),f=0,m=0;m<c.length;m+=3){var g=i.fromArray(c,m,oe),_=u.cartesianToCartographic(g,ae),v=o.project(_,oe);h[f++]=v.x,h[f++]=v.y,h[f++]=v.z}return e.attributes[n]=a,e.attributes[r]=new p({componentDatatype:s.DOUBLE,componentsPerAttribute:3,values:h}),delete e.attributes[t],e};var se={high:0,low:0};ie.encodeAttribute=function(e,t,n,r){for(var i=e.attributes[t],o=i.values,a=o.length,u=new Float32Array(a),l=new Float32Array(a),c=0;c<a;++c)h.encode(o[c],se),u[c]=se.high,l[c]=se.low;var d=i.componentsPerAttribute;return e.attributes[n]=new p({componentDatatype:s.FLOAT,componentsPerAttribute:d,values:u}),e.attributes[r]=new p({componentDatatype:s.FLOAT,componentsPerAttribute:d,values:l}),delete e.attributes[t],e};var ue=new i,le=new b,ce=new y;ie.transformToWorldCoordinates=function(e){var t=e.modelMatrix;if(b.equals(t,b.IDENTITY))return e;var r=e.geometry.attributes;P(t,r.position),P(t,r.prevPosition),P(t,r.nextPosition),(l(r.normal)||l(r.tangent)||l(r.bitangent))&&(b.inverse(t,le),b.transpose(le,le),b.getRotation(le,ce),D(ce,r.normal),D(ce,r.tangent),D(ce,r.bitangent));var i=e.geometry.boundingSphere;return l(i)&&(e.geometry.boundingSphere=n.transform(i,t,i)),e.modelMatrix=b.clone(b.IDENTITY),e};var he=new i;ie.combineInstances=function(e){for(var t=[],n=[],r=e.length,i=0;i<r;++i){var o=e[i];l(o.geometry)?t.push(o):l(o.westHemisphereGeometry)&&l(o.eastHemisphereGeometry)&&n.push(o)}var a=[];return t.length>0&&a.push(L(t,"geometry")),n.length>0&&(a.push(L(n,"westHemisphereGeometry")),a.push(L(n,"eastHemisphereGeometry"))),a};var de=new i,fe=new i,pe=new i,me=new i;ie.computeNormal=function(e){var t,n=e.indices,r=e.attributes,o=r.position.values,a=r.position.values.length/3,u=n.length,l=new Array(a),c=new Array(u/3),h=new Array(u);for(t=0;t<a;t++)l[t]={indexOffset:0,count:0,currentCount:0};var d=0;for(t=0;t<u;t+=3){var f=n[t],m=n[t+1],g=n[t+2],_=3*f,v=3*m,y=3*g;fe.x=o[_],fe.y=o[_+1],fe.z=o[_+2],pe.x=o[v],pe.y=o[v+1],pe.z=o[v+2],me.x=o[y],me.y=o[y+1],me.z=o[y+2],l[f].count++,l[m].count++,l[g].count++,i.subtract(pe,fe,pe),i.subtract(me,fe,me),c[d]=i.cross(pe,me,new i),d++}var b=0;for(t=0;t<a;t++)l[t].indexOffset+=b,b+=l[t].count;d=0;var w;for(t=0;t<u;t+=3){w=l[n[t]];var x=w.indexOffset+w.currentCount;h[x]=d,w.currentCount++,w=l[n[t+1]],x=w.indexOffset+w.currentCount,h[x]=d,w.currentCount++,w=l[n[t+2]],x=w.indexOffset+w.currentCount,h[x]=d,w.currentCount++,d++}var E=new Float32Array(3*a);for(t=0;t<a;t++){var C=3*t;if(w=l[t],i.clone(i.ZERO,de),w.count>0){for(d=0;d<w.count;d++)i.add(de,c[h[w.indexOffset+d]],de);i.equalsEpsilon(i.ZERO,de,A.EPSILON10)&&i.clone(c[h[w.indexOffset]],de)}i.equalsEpsilon(i.ZERO,de,A.EPSILON10)&&(de.z=1),i.normalize(de,de),E[C]=de.x,E[C+1]=de.y,E[C+2]=de.z}return e.attributes.normal=new p({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:E}),e};var ge=new i,_e=new i,ve=new i;ie.computeTangentAndBitangent=function(e){var t,n=(e.attributes,e.indices),r=e.attributes.position.values,o=e.attributes.normal.values,a=e.attributes.st.values,u=e.attributes.position.values.length/3,l=n.length,c=new Array(3*u);for(t=0;t<c.length;t++)c[t]=0;var h,d,f;for(t=0;t<l;t+=3){var m=n[t],g=n[t+1],_=n[t+2];h=3*m,d=3*g,f=3*_;var v=2*m,A=2*g,y=2*_,b=r[h],w=r[h+1],x=r[h+2],E=a[v],C=a[v+1],S=a[A+1]-C,T=a[y+1]-C,I=1/((a[A]-E)*T-(a[y]-E)*S),M=(T*(r[d]-b)-S*(r[f]-b))*I,O=(T*(r[d+1]-w)-S*(r[f+1]-w))*I,P=(T*(r[d+2]-x)-S*(r[f+2]-x))*I;c[h]+=M,c[h+1]+=O,c[h+2]+=P,c[d]+=M,c[d+1]+=O,c[d+2]+=P,c[f]+=M,c[f+1]+=O,c[f+2]+=P}var D=new Float32Array(3*u),B=new Float32Array(3*u);for(t=0;t<u;t++){h=3*t,d=h+1,f=h+2;var L=i.fromArray(o,h,ge),N=i.fromArray(c,h,ve),R=i.dot(L,N);i.multiplyByScalar(L,R,_e),i.normalize(i.subtract(N,_e,N),N),D[h]=N.x,D[d]=N.y,D[f]=N.z,i.normalize(i.cross(L,N,N),N),B[h]=N.x,B[d]=N.y,B[f]=N.z}return e.attributes.tangent=new p({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:D}),e.attributes.bitangent=new p({componentDatatype:s.FLOAT,componentsPerAttribute:3,values:B}),e};var Ae=new r,ye=new i,be=new i,we=new i,xe=new r;ie.compressVertices=function(t){var n,o,a=t.attributes.extrudeDirection;if(l(a)){var u=a.values;o=u.length/3;var c=new Float32Array(2*o),h=0;for(n=0;n<o;++n)i.fromArray(u,3*n,ye),i.equals(ye,i.ZERO)?h+=2:(xe=e.octEncodeInRange(ye,65535,xe),c[h++]=xe.x,c[h++]=xe.y);return t.attributes.compressedAttributes=new p({componentDatatype:s.FLOAT,componentsPerAttribute:2,values:c}),delete t.attributes.extrudeDirection,t}var d=t.attributes.normal,f=t.attributes.st,m=l(d),g=l(f);if(!m&&!g)return t;var _,v,A,y,b=t.attributes.tangent,w=t.attributes.bitangent,x=l(b),E=l(w);m&&(_=d.values),g&&(v=f.values),x&&(A=b.values),E&&(y=w.values),o=(m?_.length:v.length)/(m?3:2);var C=o,S=g&&m?2:1;S+=x||E?1:0,C*=S;var T=new Float32Array(C),I=0;for(n=0;n<o;++n){g&&(r.fromArray(v,2*n,Ae),T[I++]=e.compressTextureCoordinates(Ae));var M=3*n;m&&l(A)&&l(y)?(i.fromArray(_,M,ye),i.fromArray(A,M,be),i.fromArray(y,M,we),e.octPack(ye,be,we,Ae),T[I++]=Ae.x,T[I++]=Ae.y):(m&&(i.fromArray(_,M,ye),T[I++]=e.octEncodeFloat(ye)),x&&(i.fromArray(A,M,ye),T[I++]=e.octEncodeFloat(ye)),E&&(i.fromArray(y,M,ye),T[I++]=e.octEncodeFloat(ye)))}return t.attributes.compressedAttributes=new p({componentDatatype:s.FLOAT,componentsPerAttribute:S,values:T}),m&&delete t.attributes.normal,g&&delete t.attributes.st,E&&delete t.attributes.bitangent,x&&delete t.attributes.tangent,t};var Ee=new i,Ce=new i,Se=new i,Te=new i,Ie=new i,Me={positions:new Array(7),indices:new Array(9)},Oe=K(o,4),Pe=K(i,3),De=K(r,2),Be=function(e,t,n,r,i,o,a){var s=i[e]*r.x,u=i[t]*r.y,l=i[n]*r.z;o[a]=s+u+l>A.EPSILON6?1:0},Le=new i,Ne=new i,Re=new i,ke=new i,Fe={position:!0,normal:!0,bitangent:!0,tangent:!0,st:!0,extrudeDirection:!0,applyOffset:!0},Ue=w.fromPointNormal(i.ZERO,i.UNIT_Y),ze=new i,je=new i,He=new r,Ve=new r,Qe=new i,Ge=new i,We=new i,qe=new i,Ye=new i,Ke=new i,Xe=new o,Ze=5*A.EPSILON9,Je=A.EPSILON6;return ie.splitLongitude=function(e){var t=e.geometry,r=t.boundingSphere;if(l(r)){if(r.center.x-r.radius>0||n.intersectPlane(r,w.ORIGIN_ZX_PLANE)!==_.INTERSECTING)return e}if(t.geometryType!==m.NONE)switch(t.geometryType){case m.POLYLINES:re(e);break;case m.TRIANGLES:$(e);break;case m.LINES:te(e)}else j(t),t.primitiveType===x.TRIANGLES?$(e):t.primitiveType===x.LINES&&te(e);return e},ie}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(957),n(17),n(10),n(12),n(31),n(1),n(0),n(23),n(76),n(90),n(9),n(54),n(155)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d){"use strict";var f=new n,p=new n,m={};m.computeArea2D=function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++){var o=e[r],a=e[i];n+=o.x*a.y-a.x*o.y}return.5*n},m.computeWindingOrder2D=function(e){return m.computeArea2D(e)>0?d.COUNTER_CLOCKWISE:d.CLOCKWISE},m.triangulate=function(n,r){var i=t.packArray(n);return e(i,r,2)};var g=new n,_=new n,v=new n,A=new n,y=new n,b=new n,w=new n;return m.computeSubdivision=function(e,t,r,s){s=o(s,c.RADIANS_PER_DEGREE);var d,f=r.slice(0),p=t.length,m=new Array(3*p),x=0;for(d=0;d<p;d++){var E=t[d];m[x++]=E.x,m[x++]=E.y,m[x++]=E.z}for(var C=[],S={},T=e.maximumRadius,I=c.chordLength(s,T),M=I*I;f.length>0;){var O,P,D=f.pop(),B=f.pop(),L=f.pop(),N=n.fromArray(m,3*L,g),R=n.fromArray(m,3*B,_),k=n.fromArray(m,3*D,v),F=n.multiplyByScalar(n.normalize(N,A),T,A),U=n.multiplyByScalar(n.normalize(R,y),T,y),z=n.multiplyByScalar(n.normalize(k,b),T,b),j=n.magnitudeSquared(n.subtract(F,U,w)),H=n.magnitudeSquared(n.subtract(U,z,w)),V=n.magnitudeSquared(n.subtract(z,F,w)),Q=Math.max(j,H,V);Q>M?j===Q?(O=Math.min(L,B)+" "+Math.max(L,B),d=S[O],a(d)||(P=n.add(N,R,w),n.multiplyByScalar(P,.5,P),m.push(P.x,P.y,P.z),d=m.length/3-1,S[O]=d),f.push(L,d,D),f.push(d,B,D)):H===Q?(O=Math.min(B,D)+" "+Math.max(B,D),d=S[O],a(d)||(P=n.add(R,k,w),n.multiplyByScalar(P,.5,P),m.push(P.x,P.y,P.z),d=m.length/3-1,S[O]=d),f.push(B,d,L),f.push(d,D,L)):V===Q&&(O=Math.min(D,L)+" "+Math.max(D,L),d=S[O],a(d)||(P=n.add(k,N,w),n.multiplyByScalar(P,.5,P),m.push(P.x,P.y,P.z),d=m.length/3-1,S[O]=d),f.push(D,d,B),f.push(d,L,B)):(C.push(L),C.push(B),C.push(D))}return new u({attributes:{position:new l({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:m})},indices:C,primitiveType:h.TRIANGLES})},m.scaleToGeodeticHeight=function(e,t,r,i){r=o(r,s.WGS84);var u=f,l=p;if(t=o(t,0),i=o(i,!0),a(e))for(var c=e.length,h=0;h<c;h+=3)n.fromArray(e,h,l),i&&(l=r.scaleToGeodeticSurface(l,l)),0!==t&&(u=r.geodeticSurfaceNormal(l,u),n.multiplyByScalar(u,t,u),n.add(l,u,l)),e[h]=l.x,e[h+1]=l.y,e[h+2]=l.z;return e},m}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(9)],void 0!==(i=function(e,t,n,r){"use strict";function i(e,r,i){if(n(e)){i=t(i,!1);var a=e.length;if(a<2)return e;var s,u,l;for(s=1;s<a&&(u=e[s-1],l=e[s],!r(u,l,o));++s);if(s===a)return i&&r(e[0],e[e.length-1],o)?e.slice(1):e;for(var c=e.slice(0,s);s<a;++s)l=e[s],r(u,l,o)||(c.push(l),u=l);return i&&c.length>1&&r(c[0],c[c.length-1],o)&&c.shift(),c}}var o=r.EPSILON10;return i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(103),n(1),n(0),n(2),n(38),n(17),n(10),n(24),n(12),n(3),n(23),n(65),n(16),n(29)],void 0!==(i=function(e,t,r,i,o,a,s,u,l,c,h,d,f,p){"use strict";function m(e){u.fromRadians(e.east,e.north,0,x[0]),u.fromRadians(e.west,e.north,0,x[1]),u.fromRadians(e.east,e.south,0,x[2]),u.fromRadians(e.west,e.south,0,x[3]);var t,n=0,r=0,i=0,o=0,a=C._terrainHeightsMaxLevel;for(t=0;t<=a;++t){for(var s=!1,l=0;l<4;++l){var c=x[l];if(w.positionToTileXY(c,t,E),0===l)i=E.x,o=E.y;else if(i!==E.x||o!==E.y){s=!0;break}}if(s)break;n=i,r=o}if(0!==t)return{x:n,y:r,level:t>a?a:t-1}}var g=new s,_=new s,v=new u,A=new s,y=new s,b=new o,w=new d,x=[new u,new u,new u,new u],E=new a,C={};return C.initialize=function(){var e=C._initPromise;return r(e)?e:(e=p.fetchJson(n(952)).then(function(e){C._terrainHeights=e}),C._initPromise=e,e)},C.getApproximateTerrainHeights=function(e,n){n=t(n,h.WGS84);var i=m(e),o=C._defaultMinTerrainHeight,a=C._defaultMaxTerrainHeight;if(r(i)){var u=i.level+"-"+i.x+"-"+i.y,l=C._terrainHeights[u];r(l)&&(o=l[0],a=l[1]),n.cartographicToCartesian(f.northeast(e,v),g),n.cartographicToCartesian(f.southwest(e,v),_),s.midpoint(_,g,A);var c=n.scaleToGeodeticSurface(A,y);if(r(c)){var d=s.distance(A,c);o=Math.min(o,-d)}else o=C._defaultMinTerrainHeight}return o=Math.max(C._defaultMinTerrainHeight,o),{minimumTerrainHeight:o,maximumTerrainHeight:a}},C.getInstanceBoundingSphere=function(e,n){n=t(n,h.WGS84);var i=m(e),a=C._defaultMaxTerrainHeight;if(r(i)){var s=i.level+"-"+i.x+"-"+i.y,u=C._terrainHeights[s];r(u)&&(a=u[1])}var l=o.fromRectangle3D(e,n,0);return o.fromRectangle3D(e,n,a,b),o.union(l,b,l)},C._terrainHeightsMaxLevel=6,C._defaultMaxTerrainHeight=9e3,C._defaultMinTerrainHeight=-1e5,C._terrainHeights=void 0,C._initPromise=void 0,i(C,{initialized:{get:function(){return r(C._terrainHeights)}}}),C}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(243),n(6)],void 0!==(i=function(e,t){"use strict";return t({LINEAR_NONE:e.Easing.Linear.None,QUADRACTIC_IN:e.Easing.Quadratic.In,QUADRACTIC_OUT:e.Easing.Quadratic.Out,QUADRACTIC_IN_OUT:e.Easing.Quadratic.InOut,CUBIC_IN:e.Easing.Cubic.In,CUBIC_OUT:e.Easing.Cubic.Out,CUBIC_IN_OUT:e.Easing.Cubic.InOut,QUARTIC_IN:e.Easing.Quartic.In,QUARTIC_OUT:e.Easing.Quartic.Out,QUARTIC_IN_OUT:e.Easing.Quartic.InOut,QUINTIC_IN:e.Easing.Quintic.In,QUINTIC_OUT:e.Easing.Quintic.Out,QUINTIC_IN_OUT:e.Easing.Quintic.InOut,SINUSOIDAL_IN:e.Easing.Sinusoidal.In,SINUSOIDAL_OUT:e.Easing.Sinusoidal.Out,SINUSOIDAL_IN_OUT:e.Easing.Sinusoidal.InOut,EXPONENTIAL_IN:e.Easing.Exponential.In,EXPONENTIAL_OUT:e.Easing.Exponential.Out,EXPONENTIAL_IN_OUT:e.Easing.Exponential.InOut,CIRCULAR_IN:e.Easing.Circular.In,CIRCULAR_OUT:e.Easing.Circular.Out,CIRCULAR_IN_OUT:e.Easing.Circular.InOut,ELASTIC_IN:e.Easing.Elastic.In,ELASTIC_OUT:e.Easing.Elastic.Out,ELASTIC_IN_OUT:e.Easing.Elastic.InOut,BACK_IN:e.Easing.Back.In,BACK_OUT:e.Easing.Back.Out,BACK_IN_OUT:e.Easing.Back.InOut,BOUNCE_IN:e.Easing.Bounce.In,BOUNCE_OUT:e.Easing.Bounce.Out,BOUNCE_IN_OUT:e.Easing.Bounce.InOut})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(27),n(25),n(42),n(101),n(1),n(0),n(2),n(21),n(3),n(62),n(318),n(319),n(120),n(40),n(20),n(29),n(749),n(100),n(1090),n(1091),n(1092),n(1093),n(1094),n(1095),n(1096),n(1097),n(1098),n(1099),n(1100),n(1101),n(1102),n(1103),n(1104),n(1105),n(7)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L,N){"use strict";function R(e){this.type=void 0,this.shaderSource=void 0,this.materials=void 0,this.uniforms=void 0,this._uniforms=void 0,this.translucent=void 0,this._strict=void 0,this._template=void 0,this._count=void 0,this._texturePaths={},this._loadedImages=[],this._loadedCubeMaps=[],this._textures={},this._updateFunctions=[],this._defaultTexture=void 0,k(e,this),s(this,{type:{value:this.type,writable:!1}}),a(R._uniformList[this.type])||(R._uniformList[this.type]=Object.keys(this._uniforms))}function k(e,n){e=o(e,o.EMPTY_OBJECT),n._strict=o(e.strict,!1),n._count=o(e.count,0),n._template=t(o(e.fabric,o.EMPTY_OBJECT)),n._template.uniforms=t(o(n._template.uniforms,o.EMPTY_OBJECT)),n._template.materials=t(o(n._template.materials,o.EMPTY_OBJECT)),n.type=a(n._template.type)?n._template.type:i(),n.shaderSource="",n.materials={},n.uniforms={},n._uniforms={},n._translucentFunctions=[];var s,u=R._materialCache.getMaterial(n.type);if(a(u)){var l=t(u.fabric,!0);n._template=r(n._template,l,!0),s=u.translucent}j(n),a(u)||R._materialCache.addMaterial(n.type,n),H(n),G(n),Y(n);var c=0===n._translucentFunctions.length||void 0;if(s=o(s,c),s=o(e.translucent,s),a(s))if("function"==typeof s){var h=function(){return s(n)};n._translucentFunctions.push(h)}else n._translucentFunctions.push(s)}function F(e,t,n,r){if(a(e))for(var i in e)if(e.hasOwnProperty(i)){var o=-1!==t.indexOf(i);(r&&!o||!r&&o)&&n(i,t)}}function U(e,t){}function z(e,t){}function j(e){var t=e._template,n=t.uniforms,r=t.materials,i=t.components;F(t,Z,U,!0),F(i,J,U,!0);var o=[];for(var a in r)r.hasOwnProperty(a)&&o.push(a);F(n,o,z,!1)}function H(e){var t=e._template.components,n=e._template.source;if(a(n))e.shaderSource+=n+"\n";else{if(e.shaderSource+="czm_material czm_getMaterial(czm_materialInput materialInput)\n{\n",e.shaderSource+="czm_material material = czm_getDefaultMaterial(materialInput);\n",a(t))for(var r in t)t.hasOwnProperty(r)&&(e.shaderSource+="material."+r+" = "+t[r]+";\n");e.shaderSource+="return material;\n}\n"}}function V(e){var t;return function(n,r){var i=n.uniforms,o=i[e],s=t!==o;t=o;var u,l,c=n._textures[e];if(o instanceof HTMLVideoElement)if(o.readyState>=2){if(s&&a(c)&&(c!==r.defaultTexture&&c.destroy(),c=void 0),!a(c)||c===r.defaultTexture)return c=new v({context:r,source:o}),void(n._textures[e]=c);c.copyFrom(o)}else a(c)||(n._textures[e]=r.defaultTexture);else{if(o instanceof v&&o!==c){n._texturePaths[e]=void 0;var f=n._textures[e];return f!==n._defaultTexture&&f.destroy(),n._textures[e]=o,u=e+"Dimensions",void(i.hasOwnProperty(u)&&(l=i[u],l.x=o._width,l.y=o._height))}if(a(c)||(n._texturePaths[e]=void 0,a(n._defaultTexture)||(n._defaultTexture=r.defaultTexture),c=n._textures[e]=n._defaultTexture,u=e+"Dimensions",i.hasOwnProperty(u)&&(l=i[u],l.x=c._width,l.y=c._height)),o!==R.DefaultImageId){var p=o instanceof g;if(!a(n._texturePaths[e])||p&&o.url!==n._texturePaths[e].url||!p&&o!==n._texturePaths[e]){if("string"==typeof o||p){var m,_=p?o:g.createIfNeeded(o);m=ee.test(o)?d(_):te.test(o)?h(_):_.fetchImage(),N(m,function(t){n._loadedImages.push({id:e,image:t})})}else(o instanceof HTMLCanvasElement||o instanceof HTMLImageElement)&&n._loadedImages.push({id:e,image:o});n._texturePaths[e]=o}}}}}function Q(e){return function(t,n){var r=t.uniforms[e];if(r instanceof _){var i=t._textures[e];return i!==t._defaultTexture&&i.destroy(),t._texturePaths[e]=void 0,void(t._textures[e]=r)}if(a(t._textures[e])||(t._texturePaths[e]=void 0,t._textures[e]=n.defaultCubeMap),r!==R.DefaultCubeMapId){var o=r.positiveX+r.negativeX+r.positiveY+r.negativeY+r.positiveZ+r.negativeZ;if(o!==t._texturePaths[e]){var s=[g.createIfNeeded(r.positiveX).fetchImage(),g.createIfNeeded(r.negativeX).fetchImage(),g.createIfNeeded(r.positiveY).fetchImage(),g.createIfNeeded(r.negativeY).fetchImage(),g.createIfNeeded(r.positiveZ).fetchImage(),g.createIfNeeded(r.negativeZ).fetchImage()];N.all(s).then(function(n){t._loadedCubeMaps.push({id:e,images:n})}),t._texturePaths[e]=o}}}}function G(e){var t=e._template.uniforms;for(var n in t)t.hasOwnProperty(n)&&W(e,n)}function W(e,t){var n=(e._strict,e._template.uniforms),r=n[t],i=q(r);if("channels"===i)K(e,t,r,!1);else{if("sampler2D"===i){var o=t+"Dimensions";X(e,o)>0&&(n[o]={type:"ivec3",x:1,y:1},W(e,o))}if(!new RegExp("uniform\\s+"+i+"\\s+"+t+"\\s*;").test(e.shaderSource)){var a="uniform "+i+" "+t+";";e.shaderSource=a+e.shaderSource}var s=t+"_"+e._count++;if(K(e,t,s),e.uniforms[t]=r,"sampler2D"===i)e._uniforms[s]=function(){return e._textures[t]},e._updateFunctions.push(V(t));else if("samplerCube"===i)e._uniforms[s]=function(){return e._textures[t]},e._updateFunctions.push(Q(t));else if(-1!==i.indexOf("mat")){var u=new $[i];e._uniforms[s]=function(){return $[i].fromColumnMajorArray(e.uniforms[t],u)}}else e._uniforms[s]=function(){return e.uniforms[t]}}}function q(e){var t=e.type;if(!a(t)){var n=typeof e;if("number"===n)t="float";else if("boolean"===n)t="bool";else if("string"===n||e instanceof g||e instanceof HTMLCanvasElement||e instanceof HTMLImageElement)t=/^([rgba]){1,4}$/i.test(e)?"channels":e===R.DefaultCubeMapId?"samplerCube":"sampler2D";else if("object"===n)if(c(e))4!==e.length&&9!==e.length&&16!==e.length||(t="mat"+Math.sqrt(e.length));else{var r=0;for(var i in e)e.hasOwnProperty(i)&&(r+=1);r>=2&&r<=4?t="vec"+r:6===r&&(t="samplerCube")}}return t}function Y(e){var t=e._strict,n=e._template.materials;for(var i in n)if(n.hasOwnProperty(i)){var o=new R({strict:t,fabric:n[i],count:e._count});e._count=o._count,e._uniforms=r(e._uniforms,o._uniforms,!0),e.materials[i]=o,e._translucentFunctions=e._translucentFunctions.concat(o._translucentFunctions);var a="czm_getMaterial_"+e._count++;K(o,"czm_getMaterial",a),e.shaderSource=o.shaderSource+e.shaderSource;var s=a+"(materialInput)";K(e,i,s)}}function K(e,t,n,r){r=o(r,!0);var i=0,a="([\\w"+(r?".":"")+"])?",s=new RegExp(a+t+"([\\w])?","g");return e.shaderSource=e.shaderSource.replace(s,function(e,t,r){return t||r?e:(i+=1,n)}),i}function X(e,t,n){return K(e,t,t,n)}R._uniformList={},R.fromType=function(e,t){var n=new R({fabric:{type:e}});if(a(t))for(var r in t)t.hasOwnProperty(r)&&(n.uniforms[r]=t[r]);return n},R.prototype.isTranslucent=function(){if(a(this.translucent))return"function"==typeof this.translucent?this.translucent():this.translucent;for(var e=!0,t=this._translucentFunctions,n=t.length,r=0;r<n;++r){var i=t[r];if(!(e="function"==typeof i?e&&i():e&&i))break}return e},R.prototype.update=function(e){var t,n,r=this._loadedImages,i=r.length;for(t=0;t<i;++t){var o=r[t];n=o.id;var s,u=o.image;s=new v(a(u.internalFormat)?{context:e,pixelFormat:u.internalFormat,width:u.width,height:u.height,source:{arrayBufferView:u.bufferView}}:{context:e,source:u}),this._textures[n]=s;var l=n+"Dimensions";if(this.uniforms.hasOwnProperty(l)){var c=this.uniforms[l];c.x=s._width,c.y=s._height}}r.length=0;var h=this._loadedCubeMaps;for(i=h.length,t=0;t<i;++t){var d=h[t];n=d.id;var f=d.images,p=new _({context:e,source:{positiveX:f[0],negativeX:f[1],positiveY:f[2],negativeY:f[3],positiveZ:f[4],negativeZ:f[5]}});this._textures[n]=p}h.length=0;var m=this._updateFunctions;for(i=m.length,t=0;t<i;++t)m[t](this,e);var g=this.materials;for(var A in g)g.hasOwnProperty(A)&&g[A].update(e)},R.prototype.isDestroyed=function(){return!1},R.prototype.destroy=function(){var e=this._textures;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];n!==this._defaultTexture&&n.destroy()}var r=this.materials;for(var i in r)r.hasOwnProperty(i)&&r[i].destroy();return u(this)};var Z=["type","materials","uniforms","components","source"],J=["diffuse","specular","shininess","normal","emission","alpha"],$={mat2:f,mat3:p,mat4:m},ee=/\.ktx$/i,te=/\.crn$/i;return R._materialCache={_materials:{},addMaterial:function(e,t){this._materials[e]=t},getMaterial:function(e){return this._materials[e]}},R.DefaultImageId="czm_defaultImage",R.DefaultCubeMapId="czm_defaultCubeMap",R.ColorType="Color",R._materialCache.addMaterial(R.ColorType,{fabric:{type:R.ColorType,uniforms:{color:new n(1,0,0,.5)},components:{diffuse:"color.rgb",alpha:"color.a"}},translucent:function(e){return e.uniforms.color.alpha<1}}),R.ImageType="Image",R._materialCache.addMaterial(R.ImageType,{fabric:{type:R.ImageType,uniforms:{image:R.DefaultImageId,repeat:new e(1,1),color:new n(1,1,1,1)},components:{diffuse:"texture2D(image, fract(repeat * materialInput.st)).rgb * color.rgb",alpha:"texture2D(image, fract(repeat * materialInput.st)).a * color.a"}},translucent:function(e){return e.uniforms.color.alpha<1}}),R.DiffuseMapType="DiffuseMap",R._materialCache.addMaterial(R.DiffuseMapType,{fabric:{type:R.DiffuseMapType,uniforms:{image:R.DefaultImageId,channels:"rgb",repeat:new e(1,1)},components:{diffuse:"texture2D(image, fract(repeat * materialInput.st)).channels"}},translucent:!1}),R.AlphaMapType="AlphaMap",R._materialCache.addMaterial(R.AlphaMapType,{fabric:{type:R.AlphaMapType,uniforms:{image:R.DefaultImageId,channel:"a",repeat:new e(1,1)},components:{alpha:"texture2D(image, fract(repeat * materialInput.st)).channel"}},translucent:!0}),R.SpecularMapType="SpecularMap",R._materialCache.addMaterial(R.SpecularMapType,{fabric:{type:R.SpecularMapType,uniforms:{image:R.DefaultImageId,channel:"r",repeat:new e(1,1)},components:{specular:"texture2D(image, fract(repeat * materialInput.st)).channel"}},translucent:!1}),R.EmissionMapType="EmissionMap",R._materialCache.addMaterial(R.EmissionMapType,{fabric:{type:R.EmissionMapType,uniforms:{image:R.DefaultImageId,channels:"rgb",repeat:new e(1,1)},components:{emission:"texture2D(image, fract(repeat * materialInput.st)).channels"}},translucent:!1}),R.BumpMapType="BumpMap",R._materialCache.addMaterial(R.BumpMapType,{fabric:{type:R.BumpMapType,uniforms:{image:R.DefaultImageId,channel:"r",strength:.8,repeat:new e(1,1)},source:A},translucent:!1}),R.NormalMapType="NormalMap",R._materialCache.addMaterial(R.NormalMapType,{fabric:{type:R.NormalMapType,uniforms:{image:R.DefaultImageId,channels:"rgb",strength:.8,repeat:new e(1,1)},source:S},translucent:!1}),R.GridType="Grid",R._materialCache.addMaterial(R.GridType,{fabric:{type:R.GridType,uniforms:{color:new n(0,1,0,1),cellAlpha:.1,lineCount:new e(8,8),lineThickness:new e(1,1),lineOffset:new e(0,0)},source:C},translucent:function(e){var t=e.uniforms;return t.color.alpha<1||t.cellAlpha<1}}),R.StripeType="Stripe",R._materialCache.addMaterial(R.StripeType,{fabric:{type:R.StripeType,uniforms:{horizontal:!0,evenColor:new n(1,1,1,.5),oddColor:new n(0,0,1,.5),offset:0,repeat:5},source:B},translucent:function(e){var t=e.uniforms;return t.evenColor.alpha<1||t.oddColor.alpha<1}}),R.CheckerboardType="Checkerboard",R._materialCache.addMaterial(R.CheckerboardType,{fabric:{type:R.CheckerboardType,uniforms:{lightColor:new n(1,1,1,.5),darkColor:new n(0,0,0,.5),repeat:new e(5,5)},source:y},translucent:function(e){var t=e.uniforms;return t.lightColor.alpha<1||t.darkColor.alpha<1}}),R.DotType="Dot",R._materialCache.addMaterial(R.DotType,{fabric:{type:R.DotType,uniforms:{lightColor:new n(1,1,0,.75),darkColor:new n(0,1,1,.75),repeat:new e(5,5)},source:b},translucent:function(e){var t=e.uniforms;return t.lightColor.alpha<1||t.darkColor.alpha<1}}),R.WaterType="Water",R._materialCache.addMaterial(R.WaterType,{fabric:{type:R.WaterType,uniforms:{baseWaterColor:new n(.2,.3,.6,1),blendColor:new n(0,1,.699,1),specularMap:R.DefaultImageId,normalMap:R.DefaultImageId,frequency:10,animationSpeed:.01,amplitude:1,specularIntensity:.5,fadeFactor:1},source:L},translucent:function(e){var t=e.uniforms;return t.baseWaterColor.alpha<1||t.blendColor.alpha<1}}),R.RimLightingType="RimLighting",R._materialCache.addMaterial(R.RimLightingType,{fabric:{type:R.RimLightingType,uniforms:{color:new n(1,0,0,.7),rimColor:new n(1,1,1,.4),width:.3},source:P},translucent:function(e){var t=e.uniforms;return t.color.alpha<1||t.rimColor.alpha<1}}),R.FadeType="Fade",R._materialCache.addMaterial(R.FadeType,{fabric:{type:R.FadeType,uniforms:{fadeInColor:new n(1,0,0,1),fadeOutColor:new n(0,0,0,0),maximumDistance:.5,repeat:!0,fadeDirection:{x:!0,y:!0},time:new e(.5,.5)},source:E},translucent:function(e){var t=e.uniforms;return t.fadeInColor.alpha<1||t.fadeOutColor.alpha<1}}),R.PolylineArrowType="PolylineArrow",R._materialCache.addMaterial(R.PolylineArrowType,{fabric:{type:R.PolylineArrowType,uniforms:{color:new n(1,1,1,1)},source:T},translucent:!0}),R.PolylineDashType="PolylineDash",R._materialCache.addMaterial(R.PolylineDashType,{fabric:{type:R.PolylineDashType,uniforms:{color:new n(1,0,1,1),gapColor:new n(0,0,0,0),dashLength:16,dashPattern:255},source:I},translucent:!0}),R.PolylineGlowType="PolylineGlow",R._materialCache.addMaterial(R.PolylineGlowType,{fabric:{type:R.PolylineGlowType,uniforms:{color:new n(0,.5,1,1),glowPower:.25},source:M},translucent:!0}),R.PolylineOutlineType="PolylineOutline",R._materialCache.addMaterial(R.PolylineOutlineType,{fabric:{type:R.PolylineOutlineType,uniforms:{color:new n(1,1,1,1),outlineColor:new n(1,0,0,1),outlineWidth:1},source:O},translucent:function(e){var t=e.uniforms;return t.color.alpha<1||t.outlineColor.alpha<1}}),R.ElevationContourType="ElevationContour",R._materialCache.addMaterial(R.ElevationContourType,{fabric:{type:R.ElevationContourType,uniforms:{spacing:100,color:new n(1,0,0,1),width:1},source:w},translucent:!1}),R.ElevationRampType="ElevationRamp",R._materialCache.addMaterial(R.ElevationRampType,{fabric:{type:R.ElevationRampType,uniforms:{image:R.DefaultImageId,minimumHeight:0,maximumHeight:1e4},source:x},translucent:!1}),R.SlopeRampMaterialType="SlopeRamp",R._materialCache.addMaterial(R.SlopeRampMaterialType,{fabric:{type:R.SlopeRampMaterialType,uniforms:{image:R.DefaultImageId},source:D},translucent:!1}),R}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";function t(t,n){this.positions=e(t)?t:[],this.holes=e(n)?n:[]}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({FILL:0,OUTLINE:1,FILL_AND_OUTLINE:2})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({SHIFT:0,CTRL:1,ALT:2})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(3),n(62)],void 0!==(i=function(e,t,n){"use strict";function r(t){var r={};if(""===t)return r;for(var i=t.replace(/\+/g,"%20").split(/[&;]/),o=0,a=i.length;o<a;++o){var s=i[o].split("="),u=decodeURIComponent(s[0]),l=s[1];l=e(l)?decodeURIComponent(l):"";var c=r[u];"string"==typeof c?r[u]=[c,l]:n(c)?c.push(l):r[u]=l}return r}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({UTC:0,TAI:1})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0!==(i=function(e){"use strict";function t(t,n){this.start=e(t,0),this.stop=e(n,0)}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";return e({NEVER:t.NEVER,LESS:t.LESS,EQUAL:t.EQUAL,LESS_OR_EQUAL:t.LEQUAL,GREATER:t.GREATER,NOT_EQUAL:t.NOTEQUAL,GREATER_OR_EQUAL:t.GEQUAL,ALWAYS:t.ALWAYS})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(27),n(42),n(1),n(0),n(2),n(70),n(220)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e){e=n(e,n.EMPTY_OBJECT),this.material=e.material,this.translucent=n(e.translucent,!0),this._vertexShaderSource=e.vertexShaderSource,this._fragmentShaderSource=e.fragmentShaderSource,this._renderState=e.renderState,this._closed=n(e.closed,!1)}return i(s.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}}}),s.prototype.getFragmentShaderSource=function(){var e=[];return this.flat&&e.push("#define FLAT"),this.faceForward&&e.push("#define FACE_FORWARD"),r(this.material)&&e.push(this.material.shaderSource),e.push(this.fragmentShaderSource),e.join("\n")},s.prototype.isTranslucent=function(){return r(this.material)&&this.material.isTranslucent()||!r(this.material)&&this.translucent},s.prototype.getRenderState=function(){var t=this.isTranslucent(),n=e(this.renderState,!1);return t?(n.depthMask=!1,n.blending=o.ALPHA_BLEND):n.depthMask=!0,n},s.getDefaultRenderState=function(e,n,i){var s={depthTest:{enabled:!0}};return e&&(s.depthMask=!1,s.blending=o.ALPHA_BLEND),n&&(s.cull={enabled:!0,face:a.BACK}),r(i)&&(s=t(i,s,!0)),s},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";return e({NEVER:t.NEVER,LESS:t.LESS,EQUAL:t.EQUAL,LESS_OR_EQUAL:t.LEQUAL,GREATER:t.GREATER,NOT_EQUAL:t.NOTEQUAL,GREATER_OR_EQUAL:t.GEQUAL,ALWAYS:t.ALWAYS})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";return e({ZERO:t.ZERO,KEEP:t.KEEP,REPLACE:t.REPLACE,INCREMENT:t.INCR,DECREMENT:t.DECR,INVERT:t.INVERT,INCREMENT_WRAP:t.INCR_WRAP,DECREMENT_WRAP:t.DECR_WRAP})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({UNLOADED:0,TRANSITIONING:1,RECEIVED:2,TEXTURE_LOADED:3,READY:4,FAILED:5,INVALID:6,PLACEHOLDER:7})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(169),n(17),n(10),n(41),n(12),n(25),n(1),n(0),n(2),n(94),n(21),n(3),n(15),n(71),n(20),n(69),n(79),n(61),n(91),n(114),n(100),n(116),n(102),n(185),n(1271)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E){"use strict";function C(e){e=a(e,a.EMPTY_OBJECT),this._planes=[],this._dirtyIndex=-1,this._multipleDirtyPlanes=!1,this._enabled=a(e.enabled,!0),this.modelMatrix=p.clone(a(e.modelMatrix,p.IDENTITY)),this.edgeColor=o.clone(a(e.edgeColor,o.WHITE)),this.edgeWidth=a(e.edgeWidth,0),this.planeAdded=new d,this.planeRemoved=new d,this._owner=void 0;var t=a(e.unionClippingRegions,!1);this._unionClippingRegions=t,this._testIntersection=t?S:T,this._uint8View=void 0,this._float32View=void 0,this._clippingPlanesTexture=void 0;var n=e.planes;if(s(n))for(var r=n.length,i=0;i<r;++i)this.add(n[i])}function S(e){return e===f.OUTSIDE}function T(e){return e===f.INSIDE}function I(e,t){e._multipleDirtyPlanes=e._multipleDirtyPlanes||-1!==e._dirtyIndex&&e._dirtyIndex!==t,e._dirtyIndex=t}function M(e,t){for(var n=e.length,r=0;r<n;++r)if(g.equals(e[r],t))return r;return-1}function O(t,n,i){for(var o=t._uint8View,a=t._planes,s=0,u=n;u<i;++u){var l=a[u],c=e.octEncodeToCartesian4(l.normal,L);o[s]=c.x,o[s+1]=c.y,o[s+2]=c.z,o[s+3]=c.w;var h=r.packFloat(l.distance,B);o[s+4]=h.x,o[s+5]=h.y,o[s+6]=h.z,o[s+7]=h.w,s+=8}}function P(e,t,n){for(var r=e._float32View,i=e._planes,o=0,a=t;a<n;++a){var s=i[a],u=s.normal;r[o]=u.x,r[o+1]=u.y,r[o+2]=u.z,r[o+3]=s.distance,o+=4}}function D(e,t){var n=_.maximumTextureSize,r=Math.min(e,n),i=Math.ceil(e/r);return t.x=Math.max(r,1),t.y=Math.max(i,1),t}u(C.prototype,{length:{get:function(){return this._planes.length}},unionClippingRegions:{get:function(){return this._unionClippingRegions},set:function(e){this._unionClippingRegions!==e&&(this._unionClippingRegions=e,this._testIntersection=e?S:T)}},enabled:{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e)}},texture:{get:function(){return this._clippingPlanesTexture}},owner:{get:function(){return this._owner}},clippingPlanesState:{get:function(){return this._unionClippingRegions?this._planes.length:-this._planes.length}}}),C.prototype.add=function(e){var t=this._planes.length,n=this;e.onChangeCallback=function(e){I(n,e)},e.index=t,I(this,t),this._planes.push(e),this.planeAdded.raiseEvent(e,t)},C.prototype.get=function(e){return this._planes[e]},C.prototype.contains=function(e){return-1!==M(this._planes,e)},C.prototype.remove=function(e){var t=this._planes,n=M(t,e);if(-1===n)return!1;e instanceof E&&(e.onChangeCallback=void 0,e.index=-1);for(var r=t.length-1,i=n;i<r;++i){var o=t[i+1];t[i]=o,o instanceof E&&(o.index=i)}return this._multipleDirtyPlanes=!0,t.length=r,this.planeRemoved.raiseEvent(e,n),!0},C.prototype.removeAll=function(){for(var e=this._planes,t=e.length,n=0;n<t;++n){var r=e[n];r instanceof E&&(r.onChangeCallback=void 0,r.index=-1),this.planeRemoved.raiseEvent(r,n)}this._multipleDirtyPlanes=!0,this._planes=[]};var B=new r,L=new r,N=new t;C.prototype.update=function(e){var t=this._clippingPlanesTexture,n=e.context,r=C.useFloatTexture(n),i=r?this.length:2*this.length,o=D(i,N);if(s(t)){var a=t.width*t.height;(a<i||i<.25*a)&&(t.destroy(),t=void 0)}if(!s(t)){o.y*=2;var u=new A({wrapS:x.CLAMP_TO_EDGE,wrapT:x.CLAMP_TO_EDGE,minificationFilter:w.NEAREST,magnificationFilter:b.NEAREST});r?(t=new y({context:n,width:o.x,height:o.y,pixelFormat:m.RGBA,pixelDatatype:v.FLOAT,sampler:u,flipY:!1}),this._float32View=new Float32Array(o.x*o.y*4)):(t=new y({context:n,width:o.x,height:o.y,pixelFormat:m.RGBA,pixelDatatype:v.UNSIGNED_BYTE,sampler:u,flipY:!1}),this._uint8View=new Uint8Array(o.x*o.y*4)),this._clippingPlanesTexture=t,this._multipleDirtyPlanes=!0}var l=this._dirtyIndex;if(this._multipleDirtyPlanes||-1!==l){if(this._multipleDirtyPlanes)r?(P(this,0,this._planes.length),t.copyFrom({width:t.width,height:t.height,arrayBufferView:this._float32View})):(O(this,0,this._planes.length),t.copyFrom({width:t.width,height:t.height,arrayBufferView:this._uint8View}));else{var c=0,h=0;r?(h=Math.floor(l/t.width),c=Math.floor(l-h*t.width),P(this,l,l+1),t.copyFrom({width:1,height:1,arrayBufferView:this._float32View},c,h)):(h=Math.floor(2*l/t.width),c=Math.floor(2*l-h*t.width),O(this,l,l+1),t.copyFrom({width:2,height:1,arrayBufferView:this._uint8View},c,h))}this._multipleDirtyPlanes=!1,this._dirtyIndex=-1}};var R=new p,k=new g(n.UNIT_X,0);return C.prototype.computeIntersectionWithBoundingVolume=function(e,t){var n=this._planes,r=n.length,i=this.modelMatrix;s(t)&&(i=p.multiply(t,i,R));var o=f.INSIDE;!this.unionClippingRegions&&r>0&&(o=f.OUTSIDE);for(var a=0;a<r;++a){var u=n[a];g.transform(u,i,k);var l=e.intersectPlane(k);if(l===f.INTERSECTING)o=l;else if(this._testIntersection(l))return l}return o},C.setOwner=function(e,t,n){e!==t[n]&&(t[n]=t[n]&&t[n].destroy(),s(e)&&(e._owner=t,t[n]=e))},C.useFloatTexture=function(e){return e.floatingPointTexture},C.getTextureResolution=function(e,t,n){var r=e.texture;if(s(r))return n.x=r.width,n.y=r.height,n;var i=C.useFloatTexture(t)?e.length:2*e.length,o=D(i,n);return o.y*=2,o},C.prototype.isDestroyed=function(){return!1},C.prototype.destroy=function(){return this._clippingPlanesTexture=this._clippingPlanesTexture&&this._clippingPlanesTexture.destroy(),c(this)},C}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(38),n(10),n(24),n(12),n(150),n(1),n(2),n(23),n(128),n(157),n(20),n(118),n(79),n(186),n(16),n(796),n(152),n(183),n(46)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v){"use strict";function A(n){this.rectangle=p.clone(n.rectangle),this.minimumHeight=o(n.minimumHeight,0),this.maximumHeight=o(n.maximumHeight,0),this.southwestCornerCartesian=new t,this.northeastCornerCartesian=new t,this.westNormal=new t,this.southNormal=new t,this.eastNormal=new t,this.northNormal=new t;var r=o(n.ellipsoid,s.WGS84);y(this,n.rectangle,r),this._orientedBoundingBox=h.fromRectangle(this.rectangle,this.minimumHeight,this.maximumHeight,r),this._boundingSphere=e.fromOrientedBoundingBox(this._orientedBoundingBox)}function y(e,n,r){r.cartographicToCartesian(p.southwest(n),e.southwestCornerCartesian),r.cartographicToCartesian(p.northeast(n),e.northeastCornerCartesian),T.longitude=n.west,T.latitude=.5*(n.south+n.north),T.height=0;var i=r.cartographicToCartesian(T,C),o=t.cross(i,t.UNIT_Z,b);t.normalize(o,e.westNormal),T.longitude=n.east;var a=r.cartographicToCartesian(T,S),s=t.cross(t.UNIT_Z,a,b);t.normalize(s,e.eastNormal);var u,c=t.subtract(i,a,b),h=t.normalize(c,E),f=n.south;if(f>0){T.longitude=.5*(n.west+n.east),T.latitude=f;var m=r.cartographicToCartesian(T,M.origin);t.clone(h,M.direction);var g=d.fromPointNormal(e.southwestCornerCartesian,e.westNormal,I);l.rayPlane(M,g,e.southwestCornerCartesian),u=r.geodeticSurfaceNormal(m,w)}else u=r.geodeticSurfaceNormalCartographic(p.southeast(n),w);var _=t.cross(u,c,x);t.normalize(_,e.southNormal);var v,A=n.north;if(A<0){T.longitude=.5*(n.west+n.east),T.latitude=A;var y=r.cartographicToCartesian(T,M.origin);t.negate(h,M.direction);var O=d.fromPointNormal(e.northeastCornerCartesian,e.eastNormal,I);l.rayPlane(M,O,e.northeastCornerCartesian),v=r.geodeticSurfaceNormal(y,w)}else v=r.geodeticSurfaceNormalCartographic(p.northwest(n),w);var P=t.cross(c,v,x);t.normalize(P,e.northNormal)}a(A.prototype,{boundingVolume:{get:function(){return this._orientedBoundingBox}},boundingSphere:{get:function(){return this._boundingSphere}}});var b=new t,w=new t,x=new t,E=new t,C=new t,S=new t,T=new n,I=new d(t.UNIT_X,0),M=new f,O=new t,P=new t,D=new t(0,-1,0),B=new t(0,0,-1),L=new t;return A.prototype.distanceToCamera=function(e){var n=e.camera,r=n.positionWC,i=n.positionCartographic,o=0;if(!p.contains(this.rectangle,i)){var a=this.southwestCornerCartesian,s=this.northeastCornerCartesian,u=this.westNormal,l=this.southNormal,c=this.eastNormal,h=this.northNormal;e.mode!==v.SCENE3D&&(a=e.mapProjection.project(p.southwest(this.rectangle),O),a.z=a.y,a.y=a.x,a.x=0,s=e.mapProjection.project(p.northeast(this.rectangle),P),s.z=s.y,s.y=s.x,s.x=0,u=D,c=t.UNIT_Y,l=B,h=t.UNIT_Z);var d=t.subtract(r,a,L),f=t.dot(d,u),m=t.dot(d,l),g=t.subtract(r,s,L),_=t.dot(g,c),A=t.dot(g,h);f>0?o+=f*f:_>0&&(o+=_*_),m>0?o+=m*m:A>0&&(o+=A*A)}var y;y=e.mode===v.SCENE3D?i.height:r.x;var b=e.mode===v.SCENE3D?this.maximumHeight:0,w=y-b;return w>0&&(o+=w*w),Math.sqrt(o)},A.prototype.intersectPlane=function(e){return this._orientedBoundingBox.intersectPlane(e)},A.prototype.createDebugVolume=function(e){var t=new c.clone(c.IDENTITY),n=new m({rectangle:this.rectangle,height:this.minimumHeight,extrudedHeight:this.maximumHeight}),r=new u({geometry:n,id:"outline",modelMatrix:t,attributes:{color:i.fromColor(e)}});return new _({geometryInstances:r,appearance:new g({translucent:!1,flat:!0}),asynchronous:!1})},A}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(12)],void 0!==(i=function(e,t){"use strict";function n(e,t,n){return e.readyPromise.then(function(){return r(e,t,n)})}function r(t,n,r){var a,s=t.tilingScheme,u=[],l={};for(a=0;a<r.length;++a){var c=s.positionToTileXY(r[a],n),h=c.toString();if(!l.hasOwnProperty(h)){var d={x:c.x,y:c.y,level:n,tilingScheme:s,terrainProvider:t,positions:[]};l[h]=d,u.push(d)}l[h].positions.push(r[a])}var f=[];for(a=0;a<u.length;++a){var p=u[a],m=p.terrainProvider.requestTileGeometry(p.x,p.y,p.level),g=m.then(i(p)).otherwise(o(p));f.push(g)}return e.all(f,function(){return r})}function i(e){var t=e.positions,n=e.tilingScheme.tileXYToRectangle(e.x,e.y,e.level);return function(e){for(var r=0;r<t.length;++r){var i=t[r];i.height=e.interpolateHeight(n,i.longitude,i.latitude)}}}function o(e){var t=e.positions;return function(){for(var e=0;e<t.length;++e){t[e].height=void 0}}}return n}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&l.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return l.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}var u=n(464),l=n(817);t.parse=i,t.resolve=a,t.resolveObject=s,t.format=o,t.Url=r;var c=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(f),m=["'"].concat(p),g=["%","/","?",";","#"].concat(m),_=["/","?","#"],v=/^[+a-z0-9A-Z_-]{0,63}$/,A=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=n(818);r.prototype.parse=function(e,t,n){if(!l.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!n&&1===e.split("#").length){var h=d.exec(s);if(h)return this.path=s,this.href=s,this.pathname=h[1],h[2]?(this.search=h[2],this.query=t?x.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var f=c.exec(s);if(f){f=f[0];var p=f.toLowerCase();this.protocol=p,s=s.substr(f.length)}if(n||f||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===s.substr(0,2);!E||f&&b[f]||(s=s.substr(2),this.slashes=!0)}if(!b[f]&&(E||f&&!w[f])){for(var C=-1,S=0;S<_.length;S++){var T=s.indexOf(_[S]);-1!==T&&(-1===C||T<C)&&(C=T)}var I,M;M=-1===C?s.lastIndexOf("@"):s.lastIndexOf("@",C),-1!==M&&(I=s.slice(0,M),s=s.slice(M+1),this.auth=decodeURIComponent(I)),C=-1;for(var S=0;S<g.length;S++){var T=s.indexOf(g[S]);-1!==T&&(-1===C||T<C)&&(C=T)}-1===C&&(C=s.length),this.host=s.slice(0,C),s=s.slice(C),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var P=this.hostname.split(/\./),S=0,D=P.length;S<D;S++){var B=P[S];if(B&&!B.match(v)){for(var L="",N=0,R=B.length;N<R;N++)B.charCodeAt(N)>127?L+="x":L+=B[N];if(!L.match(v)){var k=P.slice(0,S),F=P.slice(S+1),U=B.match(A);U&&(k.push(U[1]),F.unshift(U[2])),F.length&&(s="/"+F.join(".")+s),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=u.toASCII(this.hostname));var z=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+z,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!y[p])for(var S=0,D=m.length;S<D;S++){var H=m[S];if(-1!==s.indexOf(H)){var V=encodeURIComponent(H);V===H&&(V=escape(H)),s=s.split(H).join(V)}}var Q=s.indexOf("#");-1!==Q&&(this.hash=s.substr(Q),s=s.slice(0,Q));var G=s.indexOf("?");if(-1!==G?(this.search=s.substr(G),this.query=s.substr(G+1),t&&(this.query=x.parse(this.query)),s=s.slice(0,G)):t&&(this.search="",this.query={}),s&&(this.pathname=s),w[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",W=this.search||"";this.path=z+W}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(o=x.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||w[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+i+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(l.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(n[c]=e[c])}return w[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!w[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var f=h[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||b[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var _=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),A=v||_||n.host&&e.pathname,y=A,x=n.pathname&&n.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],E=n.protocol&&!w[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),A=A&&(""===p[0]||""===x[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=p;else if(p.length)x||(x=[]),x.pop(),x=x.concat(p),n.search=e.search,n.query=e.query;else if(!l.isNullOrUndefined(e.search)){if(E){n.hostname=n.host=x.shift();var C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return n.search=e.search,n.query=e.query,l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=x.slice(-1)[0],T=(n.host||e.host||x.length>1)&&("."===S||".."===S)||""===S,I=0,M=x.length;M>=0;M--)S=x[M],"."===S?x.splice(M,1):".."===S?(x.splice(M,1),I++):I&&(x.splice(M,1),I--);if(!A&&!y)for(;I--;I)x.unshift("..");!A||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),T&&"/"!==x.join("/").substr(-1)&&x.push("");var O=""===x[0]||x[0]&&"/"===x[0].charAt(0);if(E){n.hostname=n.host=O?"":x.length?x.shift():"";var C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");C&&(n.auth=C.shift(),n.host=n.hostname=C.shift())}return A=A||n.host&&x.length,A&&!O&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=h.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var o=n(80),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),r(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t,r,i){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){T(t,e)}}function a(e){return L.from(e)}function s(e){return L.isBuffer(e)||e instanceof N}function u(){}function l(e,t){M=M||n(137),e=e||{};var r=t instanceof M;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,a=e.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){v(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function c(e){if(M=M||n(137),!(k.call(c,this)||this instanceof M))return new c(e);this._writableState=new l(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),B.call(this)}function h(e,t){var n=new Error("write after end");e.emit("error",n),I.nextTick(t,n)}function d(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),I.nextTick(r,o),i=!1),i}function f(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=L.from(t,n)),t}function p(e,t,n,r,i,o){if(!n){var a=f(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,r,i,o);return u}function m(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function g(e,t,n,r,i){--t.pendingcb,n?(I.nextTick(i,r),I.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),C(e,t))}function _(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function v(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(_(n),t)g(e,n,r,t,i);else{var o=w(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),r?O(A,e,n,o,i):A(e,n,o,i)}}function A(e,t,n,r){n||y(e,t),t.pendingcb--,r(),C(e,t)}function y(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,h=n.callback;if(m(e,t,!1,t.objectMode?1:l.length,l,c,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function E(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,I.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function C(e,t){var n=w(t);return n&&(E(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function S(e,t,n){t.ending=!0,C(e,t),n&&(t.finished?I.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function T(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var I=n(227);e.exports=c;var M,O=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:I.nextTick;c.WritableState=l;var P=Object.create(n(192));P.inherits=n(95);var D={deprecate:n(828)},B=n(469),L=n(312).Buffer,N=i.Uint8Array||function(){},R=n(470);P.inherits(c,B),l.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(l.prototype,"buffer",{get:D.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var k;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(k=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!k.call(this,e)||this===c&&(e&&e._writableState instanceof l)}})):k=function(e){return e instanceof this},c.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},c.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&s(e);return o&&!L.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=u),r.ended?h(this,n):(o||d(this,r,e,n))&&(r.pendingcb++,i=p(this,r,o,e,t,n)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),c.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},c.prototype._writev=null,c.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||S(this,r,n)},Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=R.destroy,c.prototype._undestroy=R.undestroy,c.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(73),n(826).setImmediate,n(48))},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e,t){g&&g(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var i=r.toLowerCase();i!==r&&(Object.isFrozen(t)||(t[n]=i),r=i)}e[r]=!0}return e}function t(e){var t={},n=void 0;for(n in e)v(m,e,[n])&&(t[n]=e[n]);return t}function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D(),c=function(e){return r(e)};if(c.version="1.0.11",c.removed=[],!i||!i.document||9!==i.document.nodeType)return c.isSupported=!1,c;var m=i.document,g=!1,_=!1,v=i.document,A=i.DocumentFragment,I=i.HTMLTemplateElement,L=i.Node,N=i.NodeFilter,R=i.NamedNodeMap,k=void 0===R?i.NamedNodeMap||i.MozNamedAttrMap:R,F=i.Text,U=i.Comment,z=i.DOMParser,j=i.TrustedTypes;if("function"==typeof I){var H=v.createElement("template");H.content&&H.content.ownerDocument&&(v=H.content.ownerDocument)}var V=B(j,m),Q=V?V.createHTML(""):"",G=v,W=G.implementation,q=G.createNodeIterator,Y=G.getElementsByTagName,K=G.createDocumentFragment,X=m.importNode,Z={};c.isSupported=W&&void 0!==W.createHTMLDocument&&9!==v.documentMode;var J=y,$=b,ee=w,te=x,ne=C,re=S,ie=E,oe=null,ae=e({},[].concat(n(o),n(a),n(s),n(u),n(l))),se=null,ue=e({},[].concat(n(h),n(d),n(f),n(p))),le=null,ce=null,he=!0,de=!0,fe=!1,pe=!1,me=!1,ge=!1,_e=!1,ve=!1,Ae=!1,ye=!1,be=!1,we=!0,xe=!0,Ee=!1,Ce={},Se=e({},["audio","head","math","script","style","template","svg","video"]),Te=e({},["audio","video","img","source","image"]),Ie=null,Me=e({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Oe=null,Pe=v.createElement("form"),De=function(r){Oe&&Oe===r||(r&&"object"===(void 0===r?"undefined":T(r))||(r={}),oe="ALLOWED_TAGS"in r?e({},r.ALLOWED_TAGS):ae,se="ALLOWED_ATTR"in r?e({},r.ALLOWED_ATTR):ue,Ie="ADD_URI_SAFE_ATTR"in r?e({},r.ADD_URI_SAFE_ATTR):Me,le="FORBID_TAGS"in r?e({},r.FORBID_TAGS):{},ce="FORBID_ATTR"in r?e({},r.FORBID_ATTR):{},Ce="USE_PROFILES"in r&&r.USE_PROFILES,he=!1!==r.ALLOW_ARIA_ATTR,de=!1!==r.ALLOW_DATA_ATTR,fe=r.ALLOW_UNKNOWN_PROTOCOLS||!1,pe=r.SAFE_FOR_JQUERY||!1,me=r.SAFE_FOR_TEMPLATES||!1,ge=r.WHOLE_DOCUMENT||!1,Ae=r.RETURN_DOM||!1,ye=r.RETURN_DOM_FRAGMENT||!1,be=r.RETURN_DOM_IMPORT||!1,ve=r.FORCE_BODY||!1,we=!1!==r.SANITIZE_DOM,xe=!1!==r.KEEP_CONTENT,Ee=r.IN_PLACE||!1,ie=r.ALLOWED_URI_REGEXP||ie,me&&(de=!1),ye&&(Ae=!0),Ce&&(oe=e({},[].concat(n(l))),se=[],!0===Ce.html&&(e(oe,o),e(se,h)),!0===Ce.svg&&(e(oe,a),e(se,d),e(se,p)),!0===Ce.svgFilters&&(e(oe,s),e(se,d),e(se,p)),!0===Ce.mathMl&&(e(oe,u),e(se,f),e(se,p))),r.ADD_TAGS&&(oe===ae&&(oe=t(oe)),e(oe,r.ADD_TAGS)),r.ADD_ATTR&&(se===ue&&(se=t(se)),e(se,r.ADD_ATTR)),r.ADD_URI_SAFE_ATTR&&e(Ie,r.ADD_URI_SAFE_ATTR),xe&&(oe["#text"]=!0),ge&&e(oe,["html","head","body"]),oe.table&&e(oe,["tbody"]),P&&P(r),Oe=r)},Be=function(e){c.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=Q}},Le=function(e,t){try{c.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(e){c.removed.push({attribute:null,from:t})}t.removeAttribute(e)},Ne=function(t){var n=void 0,r=void 0;if(ve)t="<remove></remove>"+t;else{var i=t.match(/^[\s]+/);r=i&&i[0],r&&(t=t.slice(r.length))}if(g)try{n=(new z).parseFromString(t,"text/html")}catch(e){}if(_&&e(le,["title"]),!n||!n.documentElement){n=W.createHTMLDocument("");var o=n,a=o.body;a.parentNode.removeChild(a.parentNode.firstElementChild),a.outerHTML=V?V.createHTML(t):t}return r&&n.body.insertBefore(v.createTextNode(r),n.body.childNodes[0]||null),Y.call(n,ge?"html":"body")[0]};c.isSupported&&(function(){try{Ne('<svg><p><style><img src="</style><img src=x onerror=1//">').querySelector("svg img")&&(g=!0)}catch(e){}}(),function(){try{Ne("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").innerHTML.match(/<\/title/)&&(_=!0)}catch(e){}}());var Re=function(e){return q.call(e.ownerDocument||e,e,N.SHOW_ELEMENT|N.SHOW_COMMENT|N.SHOW_TEXT,function(){return N.FILTER_ACCEPT},!1)},ke=function(e){return!(e instanceof F||e instanceof U)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof k&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute)},Fe=function(e){return"object"===(void 0===L?"undefined":T(L))?e instanceof L:e&&"object"===(void 0===e?"undefined":T(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ue=function(e,t,n){Z[e]&&Z[e].forEach(function(e){e.call(c,t,n,Oe)})},ze=function(e){var t=void 0;if(Ue("beforeSanitizeElements",e,null),ke(e))return Be(e),!0;var n=e.nodeName.toLowerCase();if(Ue("uponSanitizeElement",e,{tagName:n,allowedTags:oe}),!oe[n]||le[n]){if(xe&&!Se[n]&&"function"==typeof e.insertAdjacentHTML)try{var r=e.innerHTML;e.insertAdjacentHTML("AfterEnd",V?V.createHTML(r):r)}catch(e){}return Be(e),!0}return"noscript"===n&&e.innerHTML.match(/<\/noscript/i)?(Be(e),!0):"noembed"===n&&e.innerHTML.match(/<\/noembed/i)?(Be(e),!0):(!pe||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(c.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),me&&3===e.nodeType&&(t=e.textContent,t=t.replace(J," "),t=t.replace($," "),e.textContent!==t&&(c.removed.push({element:e.cloneNode()}),e.textContent=t)),Ue("afterSanitizeElements",e,null),!1)},je=function(e,t,n){if(we&&("id"===t||"name"===t)&&(n in v||n in Pe))return!1;if(de&&ee.test(t));else if(he&&te.test(t));else{if(!se[t]||ce[t])return!1;if(Ie[t]);else if(ie.test(n.replace(re,"")));else if("src"!==t&&"xlink:href"!==t||"script"===e||0!==n.indexOf("data:")||!Te[e]){if(fe&&!ne.test(n.replace(re,"")));else if(n)return!1}else;}return!0},He=function(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0;Ue("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se};for(o=a.length;o--;){t=a[o];var u=t,l=u.name,h=u.namespaceURI;if(n=t.value.trim(),r=l.toLowerCase(),s.attrName=r,s.attrValue=n,s.keepAttr=!0,Ue("uponSanitizeAttribute",e,s),n=s.attrValue,"name"===r&&"IMG"===e.nodeName&&a.id)i=a.id,a=M(O,a,[]),Le("id",e),Le(l,e),a.indexOf(i)>o&&e.setAttribute("id",i.value);else{if("INPUT"===e.nodeName&&"type"===r&&"file"===n&&s.keepAttr&&(se[r]||!ce[r]))continue;"id"===l&&e.setAttribute(l,""),Le(l,e)}if(s.keepAttr){me&&(n=n.replace(J," "),n=n.replace($," "));var d=e.nodeName.toLowerCase();if(je(d,r,n))try{h?e.setAttributeNS(h,l,n):e.setAttribute(l,n),c.removed.pop()}catch(e){}}}Ue("afterSanitizeAttributes",e,null)}},Ve=function e(t){var n=void 0,r=Re(t);for(Ue("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Ue("uponSanitizeShadowNode",n,null),ze(n)||(n.content instanceof A&&e(n.content),He(n));Ue("afterSanitizeShadowDOM",t,null)};return c.sanitize=function(e,t){var n=void 0,r=void 0,o=void 0,a=void 0,s=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Fe(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!c.isSupported){if("object"===T(i.toStaticHTML)||"function"==typeof i.toStaticHTML){if("string"==typeof e)return i.toStaticHTML(e);if(Fe(e))return i.toStaticHTML(e.outerHTML)}return e}if(_e||De(t),c.removed=[],Ee);else if(e instanceof L)n=Ne("\x3c!--\x3e"),r=n.ownerDocument.importNode(e,!0),1===r.nodeType&&"BODY"===r.nodeName?n=r:"HTML"===r.nodeName?n=r:n.appendChild(r);else{if(!Ae&&!me&&!ge&&-1===e.indexOf("<"))return V?V.createHTML(e):e;if(!(n=Ne(e)))return Ae?null:Q}n&&ve&&Be(n.firstChild);for(var u=Re(Ee?e:n);o=u.nextNode();)3===o.nodeType&&o===a||ze(o)||(o.content instanceof A&&Ve(o.content),He(o),a=o);if(a=null,Ee)return e;if(Ae){if(ye)for(s=K.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return be&&(s=X.call(m,s,!0)),s}var l=ge?n.outerHTML:n.innerHTML;return me&&(l=l.replace(J," "),l=l.replace($," ")),V?V.createHTML(l):l},c.setConfig=function(e){De(e),_e=!0},c.clearConfig=function(){Oe=null,_e=!1},c.isValidAttribute=function(e,t,n){Oe||De({});var r=e.toLowerCase(),i=t.toLowerCase();return je(r,i,n)},c.addHook=function(e,t){"function"==typeof t&&(Z[e]=Z[e]||[],Z[e].push(t))},c.removeHook=function(e){Z[e]&&Z[e].pop()},c.removeHooks=function(e){Z[e]&&(Z[e]=[])},c.removeAllHooks=function(){Z={}},c}var i=Object.freeze||function(e){return e},o=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),a=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),s=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),u=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),l=i(["#text"]),c=Object.freeze||function(e){return e},h=c(["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"]),d=c(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),f=c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),p=c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),m=Object.hasOwnProperty,g=Object.setPrototypeOf,_="undefined"!=typeof Reflect&&Reflect,v=_.apply;v||(v=function(e,t,n){return e.apply(t,n)});var A=Object.seal||function(e){return e},y=A(/\{\{[\s\S]*|[\s\S]*\}\}/gm),b=A(/<%[\s\S]*|[\s\S]*%>/gm),w=A(/^data-[\-\w.\u00B7-\uFFFF]/),x=A(/^aria-[\-\w]+$/),E=A(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),C=A(/^(?:\w+script|data):/i),S=A(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I="undefined"!=typeof Reflect&&Reflect,M=I.apply,O=Array.prototype.slice,P=Object.freeze,D=function(){return"undefined"==typeof window?null:window};M||(M=function(e,t,n){return e.apply(t,n)});var B=function(e,t){if("object"!==(void 0===e?"undefined":T(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return r()})},function(e,t,n){"use strict";var r=n(199);t.a=function(e,t,n){if(null==n&&(n=r.a),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,o=(i-1)*t,a=Math.floor(o),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(o-a)}}},function(e,t,n){"use strict";function r(e){var t=e._tableStructure.activeItems[0],n=A(e._regionDetails)?e._regionDetails[0].regionProvider:void 0;e._legendHelper=new N(t,e._tableStyle,n,e._catalogItem.name),e._legendUrl=e._legendHelper.legendUrl()}function i(e){A(e._regionDetails)?(r(e),e._loadingData||((A(e._imageryLayer)||A(e._hadImageryAtLayerIndex))&&h(e),e._changed.raiseEvent(e))):(e._legendHelper=void 0,e._legendUrl=void 0)}function o(e,t){var n=t.map(function(e){return e.regionProvider.loadRegionIDs()});return I.all(n).then(function(){return e._regionDetails=t.map(function(e){return{regionProvider:e.regionProvider,columnName:e.variableName,disambigColumnName:e.disambigVariableName}}),e._regionDetails}).otherwise(function(e){console.log("error loading region ids",e)})}function a(e,t,n,r){var i=e._regionDetails[0],o=e._tableStructure,a=o.getColumnWithNameIdOrIndex(i.columnName);if(A(a)){var s=a.values,u=o.activeTimeColumn,l=A(i.disambigColumnName)?o.getColumnWithNameIdOrIndex(i.disambigColumnName):void 0;return i.regionProvider.mapRegionsToIndicesInto(s,l&&l.values,n,r,A(u)?u.timeIntervals:void 0,t)}}function s(e,t){var n=e;if(t.activeItems.length>0){var r=t.activeItems[0];n=e.map(function(e){return r.values[e]})}return n}function u(e,t,n){function r(t){return function(n,r){if(!e.hasActiveTimeColumn)return e._constantRegionRowDescriptions[t]||"No data";var i=a(e,n),o=i.map(function(e){return l[e]});if(A(o[t]))return o[t];var s=a(e),u=s[t];return A(u)?"No data for the selected date.":"No data for the selected region."}}function i(t){return function(n,r){if(!e.hasActiveTimeColumn){var i=e._constantRegionRowObjects[t];if(!A(i))return{};var l=i.string;return l._terria_columnAliases=u,l._terria_numericalProperties=i.number,l}var c=a(e,n),h=c.map(function(e){return s[e]}),p=h[t],m=p&&p.string||{};m._terria_columnAliases=u,m._terria_numericalProperties=p&&p.number||{};var g=a(e),_=o.getIdStringForRowNumber(g[t],d),v=f[_];return A(v)&&(m._terria_getChartDetails=function(){return o.getChartDetailsForRowNumbers(v)}),m}}var o=e._tableStructure,s=o.toStringAndNumberRowObjects();if(0!==s.length){var u=o.getColumnAliases(),l=o.toRowDescriptions(e._tableStyle.featureInfoFields),c=e._regionDetails[0],h=c.regionProvider.uniqueIdProp,d=[c.columnName];A(c.disambigColumnName)&&d.push(c.disambigColumnName);var f=o.getIdMapping(d);switch(e.hasActiveTimeColumn||(e._constantRegionRowObjects=t.map(function(e){return s[e]}),e._constantRegionRowDescriptions=t.map(function(e){return l[e]})),c.regionProvider.serverType){case"MVT":return function(t){var n=new x;n.name=t.properties[c.regionProvider.nameProp];var o=t.properties[h];if(e.hasActiveTimeColumn||e.isPolled){n.description=new p(r(o),!1);var a=i(o);n.properties=new p(function(e){return _(t.properties,a(e))},!1)}else{n.description=e._constantRegionRowDescriptions[o];var s=e._constantRegionRowObjects[o];A(s)?(s.string._terria_columnAliases=u,s.string._terria_numericalProperties=s.number,n.properties=_(t.properties,s.string)):n.properties=g(t.properties)}return n.data={id:o},n};case"WMS":B.addPickFeaturesHook(n,function(t){if(A(t)&&0!==t.length){for(var n=0;n<t.length;++n){var o=t[n],a=o.data.properties[h];if(e.hasActiveTimeColumn||e.isPolled)o.description=new p(r(a),!1),o.properties=new p(i(a),!1);else{o.description=e._constantRegionRowDescriptions[a];var s=e._constantRegionRowObjects[a];A(s)?(s.string._terria_columnAliases=u,s.string._terria_numericalProperties=s.number,o.properties=s.string):o.properties={}}}return t.filter(function(e){return e.properties||e.description})}})}}}function l(e,t,n){if(A(e._tableStructure.activeTimeColumn)){var r=e._catalogItem,i=r.currentTime,o=O(e._tableStructure.activeTimeColumn,i,r.terria.clock.multiplier>=0),a=o.nextInterval,s=o.currentInterval;if(s===e._imageryLayerInterval&&a===e._nextImageryLayerInterval)return;s!==e._imageryLayerInterval&&(e._nextImageryLayerInterval&&C.contains(e._nextImageryLayerInterval,i)?(G(r,e._nextImageryLayer,r.opacity),W(r,e._imageryLayer,e._nextImageryLayer),D.disableLayer(r,e._imageryLayer),e._imageryLayer=e._nextImageryLayer,e._imageryLayerInterval=e._nextImageryLayerInterval,e._nextImageryLayer=void 0,e._nextImageryLayerInterval=null):(D.disableLayer(r,e._imageryLayer),e._imageryLayer=c(e,t,n),e._imageryLayerInterval=s)),a!==e._nextImageryLayerInterval&&(D.disableLayer(r,e._nextImageryLayer),a?(e._nextImageryLayer=c(e,t,void 0,void 0,a.start,0),D.showLayer(r,e._nextImageryLayer)):e._nextImageryLayer=void 0,e._nextImageryLayerInterval=a)}else e._imageryLayer=c(e,t,n)}function c(e,t,n,r,i,o){var l=e._catalogItem,c=v(o,l.opacity);r=v(r,l.terria.currentViewer),i=v(i,l.currentTime);var h=e._regionDetails[0],d=e._legendHelper;if(A(d)){var p,m,g=e._tableStructure;if(A(n)||(p=[],m=[],n=a(e,i,p,m),!e._hasDisplayedFeedback&&l.showWarnings&&(e._hasDisplayedFeedback=!0,f(e,p,m))),A(n)){var _=s(n,g);if(A(_)){var y,b,w=h.regionProvider.getColorLookupFunc(_,d.getColorArrayFromValue.bind(d));switch(h.regionProvider.serverType){case"MVT":var x=r.terria;if("undefined"==typeof ArrayBuffer)throw new z({sender:l,title:x.configParameters.oldBrowserRegionMappingTitle||"Outdated Web Browser",message:x.configParameters.oldBrowserRegionMappingMessage||'You are using a very old web browser that cannot display "region mapped" datasets such as this one.  Please upgrade to the latest version of Google Chrome, Mozilla Firefox, Microsoft Edge, Microsoft Internet Explorer 11, or Apple Safari as soon as possible.  Please contact us at <a href="mailto:'+x.supportEmail+'">'+x.supportEmail+"</a> if you have any concerns."});y=new V({url:h.regionProvider.server,layerName:h.regionProvider.layerName,styleFunc:function(e){var t=l.terria,n=w(e);return n?{fillStyle:"rgba("+Array.prototype.join.call(n,",")+")",strokeStyle:t.baseMapContrastColor,lineWidth:1}:void 0},subdomains:h.regionProvider.serverSubdomains,rectangle:M.fromDegrees.apply(null,h.regionProvider.bbox),minimumZoom:h.regionProvider.serverMinZoom,maximumNativeZoom:h.regionProvider.serverMaxNativeZoom,maximumZoom:h.regionProvider.serverMaxZoom,uniqueIdProp:h.regionProvider.uniqueIdProp,featureInfoFunc:u(e,n,y)}),b=D.enableLayer(l,y,c,t,r);break;case"WMS":y=new S({url:R(l,h.regionProvider.server),layers:h.regionProvider.layerName,parameters:H.defaultParameters,getFeatureInfoParameters:H.defaultParameters,tilingScheme:new T}),u(e,n,y),B.addRecolorFunc(y,w),b=D.enableLayer(l,y,c,t,r),r instanceof L&&w&&(b.options.crossOrigin=!0,b.on("tileload",function(e){if(!e.tile._recolored){/*
                    @preserve Leaflet Tile Filters, a JavaScript plugin for applying image filters to tile images
                    (c) 2014, Scott Fairgrieve, HumanGeo
                    */
var t;e.tile.canvasContext||(t=document.createElement("canvas"),t.width=t.height=256,e.tile.canvasContext=t.getContext("2d"));var n=e.tile.canvasContext;if(n){n.drawImage(e.tile,0,0);var r=n.getImageData(0,0,256,256);r=B.recolorImage(r,w),n.putImageData(r,0,0),e.tile.onload=null,e.tile.src=n.canvas.toDataURL(),e.tile._recolored=!0}}}));break;default:throw new z({title:"Invalid serverType "+h.regionProvider.serverType+" in regionMapping.json",message:'<div>Expected serverType to be "WMS" or "vector" but got "'+h.regionProvider.serverType+'"</div>'})}return b}}}}function h(e,t){A(e._regionDetails)&&(e.hideImageryLayer(),l(e,e._hadImageryAtLayerIndex,t),e._catalogItem.isShown&&D.showLayer(e._catalogItem,e._imageryLayer),e._catalogItem.terria.currentViewer.updateItemForSplitter(e._catalogItem))}function d(e){e._imageryLayerInterval&&C.contains(e._imageryLayerInterval,e.clock.currentTime)||h(e)}function f(e,t,n){var r="",i=e._regionDetails[0],o=e._tableStructure.getColumnWithNameIdOrIndex(i.columnName).values,a=e._tableStructure.activeTimeColumn;if(t.length>0){r+='These region names were <span class="warning-text">not recognised</span>: <br><br/><samp>'+t.map(function(e){return o[e]}).join("</samp>, <samp>")+"</samp><br/><br/>"}if(n.length>0&&!A(a)){var s=n.map(function(e){return o[e]});r+='These regions had <span class="warning-text">more than one value</span>: <br/><br/><samp>'+P(s).join("</samp>, <samp>")+"</samp><br/><br/>"}if(r){r+='Consult the <a href="https://github.com/TerriaJS/nationalmap/wiki/csv-geo-au">CSV-geo-au specification</a> to see how to format the file.';var u=new z({title:"Issues loading "+e._catalogItem.name.slice(0,20),message:"<div>"+r+"</div>"});if(t.length===o.length)throw u;e._catalogItem.terria.error.raiseEvent(u)}}var p=n(219),m=n(15),g=n(27),_=n(42),v=n(1),A=n(0),y=n(2),b=n(21),w=n(3),x=n(235),E=n(13),C=n(78),S=n(317),T=n(63),I=n(7),M=n(16),O=n(881),P=n(237),D=n(121),B=n(885),L=n(504),N=n(563),R=n(32),k=n(581),F=n(124),U=n(203),z=n(22),j=n(85),H=n(107),V=n(324),Q=n(502),G=Q.setOpacity,W=Q.fixNextLayerOrder,q=function(e,t,n){if(this._tableStructure=A(t)?t:new F,A(n)&&!(n instanceof U))throw new w("Please pass a TableStyle object.");this._tableStyle=n,this._changed=new m,this._legendHelper=void 0,this._legendUrl=void 0,this._extent=void 0,this._loadingData=!1,this._catalogItem=e,this._regionMappingDefinitionsUrl=A(e)?e.terria.configParameters.regionMappingDefinitionsUrl:void 0,this._regionDetails=void 0,this._imageryLayer=void 0,this._nextImageryLayer=void 0,this._nextImageryLayerInterval=void 0,this._hadImageryAtLayerIndex=void 0,this._hasDisplayedFeedback=!1,this._constantRegionRowObjects=void 0,this._constantRegionRowDescriptions=void 0,E.track(this,["_tableStructure","_legendUrl","_regionDetails"]),E.getObservable(this._tableStructure,"activeItems").subscribe(i.bind(null,this),this),E.getObservable(this._catalogItem,"currentTime").subscribe(function(){this.hasActiveTimeColumn&&d(this)},this)};y(q.prototype,{clock:{get:function(){if(A(this._tableStructure))return this._tableStructure.clock}},changedEvent:{get:function(){return this._changed}},isLoading:{get:function(){return this._loadingData},set:function(e){this._loadingData=e,e||i(this)}},tableStructure:{get:function(){return this._tableStructure}},tableStyle:{get:function(){return this._tableStyle}},extent:{get:function(){return this._extent}},legendUrl:{get:function(){return this._legendUrl}},regionDetails:{get:function(){return this._regionDetails}},imageryLayer:{get:function(){return this._imageryLayer}},hasActiveTimeColumn:{get:function(){var e=this._tableStructure.activeTimeColumn;return A(e)&&A(e._clock)}},isPolled:{get:function(){return A(this._catalogItem.polling&&this._catalogItem.polling.seconds)}}}),q.prototype.setRegionColumnType=function(e){A(e)||(e=0);var t=this._regionDetails[e];console.log("Found region match based on "+t.columnName+(A(t.disambigColumnName)?" and "+t.disambigColumnName:"")),this._tableStructure.getColumnWithNameIdOrIndex(t.columnName).type=j.REGION,A(t.disambigColumnName)&&(this._tableStructure.getColumnWithNameIdOrIndex(t.disambigColumnName).type=j.REGION)},q.prototype.hideImageryLayer=function(){var e=this;A(e._imageryLayer)&&(e._hadImageryAtLayerIndex=e._imageryLayer._layerIndex,A(e._hadImageryAtLayerIndex)||(e._hadImageryAtLayerIndex=!0),D.hideLayer(e._catalogItem,e._imageryLayer),D.disableLayer(e._catalogItem,e._imageryLayer),e._imageryLayer=void 0)},q.prototype.showOnSeparateMap=function(e){if(A(this._regionDetails)){var t=c(this,0,void 0,e,e.terria.clock.currentTime);D.showLayer(this._catalogItem,t,e);var n=this;return function(){D.hideLayer(n._catalogItem,t,e),D.disableLayer(n._catalogItem,t,e)}}},q.prototype.enable=function(e){A(this._regionDetails)&&l(this,e)},q.prototype.disable=function(){A(this._regionDetails)&&(D.disableLayer(this._catalogItem,this._imageryLayer),this._imageryLayer=void 0)},q.prototype.show=function(){A(this._regionDetails)&&D.showLayer(this._catalogItem,this._imageryLayer)},q.prototype.hide=function(){A(this._regionDetails)&&D.hideLayer(this._catalogItem,this._imageryLayer)},q.prototype.updateOpacity=function(e){A(this._imageryLayer)&&(A(this._imageryLayer.alpha)&&(this._imageryLayer.alpha=e),A(this._imageryLayer.setOpacity)&&this._imageryLayer.setOpacity(e))},q.prototype.loadRegionDetails=function(){var e=this;return e._regionMappingDefinitionsUrl?k.fromUrl(e._regionMappingDefinitionsUrl,this._catalogItem.terria.corsProxy).then(function(t){var n,r;A(e._tableStyle)&&(n=e._tableStyle.regionVariable,r=e._tableStyle.regionType);var i=t.getRegionDetails(e._tableStructure.getColumnNames(),n,r);return i.length>0?o(e,i):I()}):I()},q.prototype.destroy=function(){return b(this)},e.exports=q},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(6),n(65),n(29),n(134),n(236),n(139)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l){"use strict";function c(n){n=e(n,e.EMPTY_OBJECT);var r=a.createIfNeeded(n.url),i=r.clone();r.setQueryParameters(c.DefaultParameters,!0),i.setQueryParameters(c.GetFeatureInfoDefaultParameters,!0),t(n.parameters)&&r.setQueryParameters(h(n.parameters)),t(n.getFeatureInfoParameters)&&i.setQueryParameters(h(n.getFeatureInfoParameters));var u={};u.layers=n.layers,u.bbox="{westProjected},{southProjected},{eastProjected},{northProjected}",u.width="{width}",u.height="{height}",parseFloat(r.queryParameters.version)>=1.3?u.crs=e(n.crs,n.tilingScheme&&n.tilingScheme.projection instanceof s?"EPSG:3857":"CRS:84"):u.srs=e(n.srs,n.tilingScheme&&n.tilingScheme.projection instanceof s?"EPSG:3857":"EPSG:4326"),r.setQueryParameters(u,!0),i.setQueryParameters(u,!0);var d={query_layers:n.layers,x:"{i}",y:"{j}",info_format:"{format}"};i.setQueryParameters(d,!0),this._resource=r,this._pickFeaturesResource=i,this._layers=n.layers,this._tileProvider=new l({url:r,pickFeaturesUrl:i,tilingScheme:e(n.tilingScheme,new o({ellipsoid:n.ellipsoid})),rectangle:n.rectangle,tileWidth:n.tileWidth,tileHeight:n.tileHeight,minimumLevel:n.minimumLevel,maximumLevel:n.maximumLevel,subdomains:n.subdomains,tileDiscardPolicy:n.tileDiscardPolicy,credit:n.credit,getFeatureInfoFormats:e(n.getFeatureInfoFormats,c.DefaultGetFeatureInfoFormats),enablePickFeatures:n.enablePickFeatures})}function h(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n.toLowerCase()]=e[n]);return t}return n(c.prototype,{url:{get:function(){return this._resource._url}},proxy:{get:function(){return this._resource.proxy}},layers:{get:function(){return this._layers}},tileWidth:{get:function(){return this._tileProvider.tileWidth}},tileHeight:{get:function(){return this._tileProvider.tileHeight}},maximumLevel:{get:function(){return this._tileProvider.maximumLevel}},minimumLevel:{get:function(){return this._tileProvider.minimumLevel}},tilingScheme:{get:function(){return this._tileProvider.tilingScheme}},rectangle:{get:function(){return this._tileProvider.rectangle}},tileDiscardPolicy:{get:function(){return this._tileProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._tileProvider.errorEvent}},ready:{get:function(){return this._tileProvider.ready}},readyPromise:{get:function(){return this._tileProvider.readyPromise}},credit:{get:function(){return this._tileProvider.credit}},hasAlphaChannel:{get:function(){return this._tileProvider.hasAlphaChannel}},enablePickFeatures:{get:function(){return this._tileProvider.enablePickFeatures},set:function(e){this._tileProvider.enablePickFeatures=e}}}),c.prototype.getTileCredits=function(e,t,n){return this._tileProvider.getTileCredits(e,t,n)},c.prototype.requestImage=function(e,t,n,r){return this._tileProvider.requestImage(e,t,n,r)},c.prototype.pickFeatures=function(e,t,n,r,i){return this._tileProvider.pickFeatures(e,t,n,r,i)},c.DefaultParameters=i({service:"WMS",version:"1.1.1",request:"GetMap",styles:"",format:"image/jpeg"}),c.GetFeatureInfoDefaultParameters=i({service:"WMS",version:"1.1.1",request:"GetFeatureInfo"}),c.DefaultGetFeatureInfoFormats=i([i(new u("json","application/json")),i(new u("xml","text/xml")),i(new u("text","text/html"))]),c}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(495),n(0),n(3),n(29),n(104)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(r){var o;if(r instanceof ArrayBuffer||ArrayBuffer.isView(r))o=e.resolve(r);else{o=i.createIfNeeded(r).fetchArrayBuffer()}if(n(o))return o.then(function(e){if(n(e)){var t=[];return e instanceof ArrayBuffer?t.push(e):0===e.byteOffset&&e.byteLength===e.buffer.byteLength?t.push(e.buffer):(e=e.slice(0,e.length),t.push(e.buffer)),s.scheduleTask(e,t)}}).then(function(e){return t.clone(e)})}var s=new o("transcodeCRNToDXT",Number.POSITIVE_INFINITY);return a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(12),n(495),n(0),n(69),n(29),n(26)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){var n;if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))n=e.resolve(t);else{n=o.createIfNeeded(t).fetchArrayBuffer()}if(r(n))return n.then(function(e){if(r(e))return u(e)})}function u(e){for(var t=new Uint8Array(e),o=!0,s=0;s<l.length;++s)if(l[s]!==t[s]){o=!1;break}if(!o)throw new a("Invalid KTX file.");var u,d;r(e.buffer)?(u=new DataView(e.buffer),d=e.byteOffset):(u=new DataView(e),d=0),d+=12;var f=u.getUint32(d,!0);if(d+=h,f!==c)throw new a("File is the wrong endianness.");var p=u.getUint32(d,!0);d+=h;var m=u.getUint32(d,!0);d+=h;var g=u.getUint32(d,!0);d+=h;var _=u.getUint32(d,!0);d+=h;var v=u.getUint32(d,!0);d+=h;var A=u.getUint32(d,!0);d+=h;var y=u.getUint32(d,!0);d+=h;var b=u.getUint32(d,!0);d+=h;var w=u.getUint32(d,!0);d+=h;var x=u.getUint32(d,!0);d+=h;var E=u.getUint32(d,!0);d+=h;var C=u.getUint32(d,!0);d+=h,d+=C;var S=u.getUint32(d,!0);d+=h;var T;if(T=r(e.buffer)?new Uint8Array(e.buffer,d,S):new Uint8Array(e,d,S),32849===_?_=i.RGB:32856===_&&(_=i.RGBA),!i.validate(_))throw new a("glInternalFormat is not a valid format.");if(i.isCompressedFormat(_)){if(0!==p)throw new a("glType must be zero when the texture is compressed.");if(1!==m)throw new a("The type size for compressed textures must be 1.");if(0!==g)throw new a("glFormat must be zero when the texture is compressed.")}else if(v!==g)throw new a("The base internal format must be the same as the format for uncompressed textures.");if(0!==b)throw new a("3D textures are unsupported.");if(0!==w)throw new a("Texture arrays are unsupported.");if(1!==x)throw new a("Cubemaps are unsupported.");if(E>1){var I=i.isCompressedFormat(_)?i.compressedTextureSizeInBytes(_,A,y):i.textureSizeInBytes(_,A,y);T=new Uint8Array(T.buffer,T.byteOffset,I)}return new n(_,A,y,T)}var l=[171,75,84,88,32,49,49,187,13,10,26,10],c=67305985,h=4;return s}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextDecoration=t.TEXT_DECORATION_LINE=t.TEXT_DECORATION=t.TEXT_DECORATION_STYLE=void 0;var r=n(122),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=t.TEXT_DECORATION_STYLE={SOLID:0,DOUBLE:1,DOTTED:2,DASHED:3,WAVY:4},a=t.TEXT_DECORATION={NONE:null},s=t.TEXT_DECORATION_LINE={UNDERLINE:1,OVERLINE:2,LINE_THROUGH:3,BLINK:4},u=function(e){switch(e){case"underline":return s.UNDERLINE;case"overline":return s.OVERLINE;case"line-through":return s.LINE_THROUGH}return s.BLINK},l=function(e){return"none"===e?null:e.split(" ").map(u)},c=function(e){switch(e){case"double":return o.DOUBLE;case"dotted":return o.DOTTED;case"dashed":return o.DASHED;case"wavy":return o.WAVY}return o.SOLID};t.parseTextDecoration=function(e){var t=l(e.textDecorationLine?e.textDecorationLine:e.textDecoration);return null===t?a.NONE:{textDecorationLine:t,textDecorationColor:e.textDecorationColor?new i.default(e.textDecorationColor):null,textDecorationStyle:c(e.textDecorationStyle)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorder=t.BORDER_SIDES=t.BORDER_STYLE=void 0;var r=n(122),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=t.BORDER_STYLE={NONE:0,SOLID:1},a=t.BORDER_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},s=Object.keys(a).map(function(e){return e.toLowerCase()}),u=function(e){switch(e){case"none":return o.NONE}return o.SOLID};t.parseBorder=function(e){return s.map(function(t){var n=new i.default(e.getPropertyValue("border-"+t+"-color")),r=u(e.getPropertyValue("border-"+t+"-style")),o=parseFloat(e.getPropertyValue("border-"+t+"-width"));return{borderColor:n,borderStyle:r,borderWidth:isNaN(o)?0:o}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var r=(t.toCodePoints=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},t.fromCodePoint=function(){if(String.fromCodePoint)return String.fromCodePoint.apply(String,arguments);var e=arguments.length;if(!e)return"";for(var t=[],n=-1,r="";++n<e;){var i=arguments.length<=n?void 0:arguments[n];i<=65535?t.push(i):(i-=65536,t.push(55296+(i>>10),i%1024+56320)),(n+1===e||t.length>16384)&&(r+=String.fromCharCode.apply(String,t),t.length=0)}return r},"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),i="undefined"==typeof Uint8Array?[]:new Uint8Array(256),o=0;o<r.length;o++)i[r.charCodeAt(o)]=o;t.decode=function(e){var t=.75*e.length,n=e.length,r=void 0,o=0,a=void 0,s=void 0,u=void 0,l=void 0;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(t):new Array(t),h=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)a=i[e.charCodeAt(r)],s=i[e.charCodeAt(r+1)],u=i[e.charCodeAt(r+2)],l=i[e.charCodeAt(r+3)],h[o++]=a<<2|s>>4,h[o++]=(15&s)<<4|u>>2,h[o++]=(3&u)<<6|63&l;return c},t.polyUint16Array=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},t.polyUint32Array=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createCounterText=t.inlineListItemElement=t.getListOwner=void 0;var i=n(168),o=n(167),a=r(o),s=n(241),u=r(s),l=n(240),c=n(514),h=["OL","UL","MENU"],d=(t.getListOwner=function(e){var t=e.parent;if(!t)return null;do{if(-1!==h.indexOf(t.tagName))return t;t=t.parent}while(t);return e.parent},t.inlineListItemElement=function(e,t,n){var r=t.style.listStyle;if(r){var o=e.ownerDocument.defaultView.getComputedStyle(e,null),s=e.ownerDocument.createElement("html2canvaswrapper");switch((0,i.copyCSSStyles)(o,s),s.style.position="absolute",s.style.bottom="auto",s.style.display="block",s.style.letterSpacing="normal",r.listStylePosition){case l.LIST_STYLE_POSITION.OUTSIDE:s.style.left="auto",s.style.right=e.ownerDocument.defaultView.innerWidth-t.bounds.left-t.style.margin[1].getAbsoluteValue(t.bounds.width)+7+"px",s.style.textAlign="right";break;case l.LIST_STYLE_POSITION.INSIDE:s.style.left=t.bounds.left-t.style.margin[3].getAbsoluteValue(t.bounds.width)+"px",s.style.right="auto",s.style.textAlign="left"}var c=void 0,h=t.style.margin[0].getAbsoluteValue(t.bounds.width),d=r.listStyleImage;if(d)if("url"===d.method){var f=e.ownerDocument.createElement("img");f.src=d.args[0],s.style.top=t.bounds.top-h+"px",s.style.width="auto",s.style.height="auto",s.appendChild(f)}else{var p=.5*parseFloat(t.style.font.fontSize);s.style.top=t.bounds.top-h+t.bounds.height-1.5*p+"px",s.style.width=p+"px",s.style.height=p+"px",s.style.backgroundImage=o.listStyleImage}else"number"==typeof t.listIndex&&(c=e.ownerDocument.createTextNode(b(t.listIndex,r.listStyleType,!0)),s.appendChild(c),s.style.top=t.bounds.top-h+"px");var m=e.ownerDocument.body;m.appendChild(s),c?(t.childNodes.push(u.default.fromTextNode(c,t)),m.removeChild(s)):t.childNodes.push(new a.default(s,t,n,0))}},{integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]}),f={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},p={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},m={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},g=function(e,t,n,r,i,o){return e<t||e>n?b(e,i,o.length>0):r.integers.reduce(function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t},"")+o},_=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},v=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(_(Math.abs(e),o,r,function(e){return(0,c.fromCodePoint)(Math.floor(e%o)+t)})+i)},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:". ",r=t.length;return _(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},y=function(e,t,n,r,o,a){if(e<-9999||e>9999)return b(e,l.LIST_STYLE_TYPE.CJK_DECIMAL,o.length>0);var s=Math.abs(e),u=o;if(0===s)return t[0]+u;for(var c=0;s>0&&c<=4;c++){var h=s%10;0===h&&(0,i.contains)(a,1)&&""!==u?u=t[h]+u:h>1||1===h&&0===c||1===h&&1===c&&(0,i.contains)(a,2)||1===h&&1===c&&(0,i.contains)(a,4)&&e>100||1===h&&c>1&&(0,i.contains)(a,8)?u=t[h]+(c>0?n[c-1]:"")+u:1===h&&c>0&&(u=n[c-1]+u),s=Math.floor(s/10)}return(e<0?r:"")+u},b=t.createCounterText=function(e,t,n){var r=n?". ":"",i=n?"、":"",o=n?", ":"";switch(t){case l.LIST_STYLE_TYPE.DISC:return"•";case l.LIST_STYLE_TYPE.CIRCLE:return"◦";case l.LIST_STYLE_TYPE.SQUARE:return"◾";case l.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:var a=v(e,48,57,!0,r);return a.length<4?"0"+a:a;case l.LIST_STYLE_TYPE.CJK_DECIMAL:return A(e,"〇一二三四五六七八九",i);case l.LIST_STYLE_TYPE.LOWER_ROMAN:return g(e,1,3999,d,l.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case l.LIST_STYLE_TYPE.UPPER_ROMAN:return g(e,1,3999,d,l.LIST_STYLE_TYPE.DECIMAL,r);case l.LIST_STYLE_TYPE.LOWER_GREEK:return v(e,945,969,!1,r);case l.LIST_STYLE_TYPE.LOWER_ALPHA:return v(e,97,122,!1,r);case l.LIST_STYLE_TYPE.UPPER_ALPHA:return v(e,65,90,!1,r);case l.LIST_STYLE_TYPE.ARABIC_INDIC:return v(e,1632,1641,!0,r);case l.LIST_STYLE_TYPE.ARMENIAN:case l.LIST_STYLE_TYPE.UPPER_ARMENIAN:return g(e,1,9999,f,l.LIST_STYLE_TYPE.DECIMAL,r);case l.LIST_STYLE_TYPE.LOWER_ARMENIAN:return g(e,1,9999,f,l.LIST_STYLE_TYPE.DECIMAL,r).toLowerCase();case l.LIST_STYLE_TYPE.BENGALI:return v(e,2534,2543,!0,r);case l.LIST_STYLE_TYPE.CAMBODIAN:case l.LIST_STYLE_TYPE.KHMER:return v(e,6112,6121,!0,r);case l.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:return A(e,"子丑寅卯辰巳午未申酉戌亥",i);case l.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:return A(e,"甲乙丙丁戊己庚辛壬癸",i);case l.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:case l.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:return y(e,"零一二三四五六七八九","十百千萬","負",i,14);case l.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:return y(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",i,15);case l.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:return y(e,"零一二三四五六七八九","十百千萬","负",i,14);case l.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:return y(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",i,15);case l.LIST_STYLE_TYPE.JAPANESE_INFORMAL:return y(e,"〇一二三四五六七八九","十百千万","マイナス",i,0);case l.LIST_STYLE_TYPE.JAPANESE_FORMAL:return y(e,"零壱弐参四伍六七八九","拾百千万","マイナス",i,7);case l.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:return y(e,"영일이삼사오육칠팔구","십백천만","마이너스 ",o,7);case l.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:return y(e,"零一二三四五六七八九","十百千萬","마이너스 ",o,0);case l.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:return y(e,"零壹貳參四五六七八九","拾百千","마이너스 ",o,7);case l.LIST_STYLE_TYPE.DEVANAGARI:return v(e,2406,2415,!0,r);case l.LIST_STYLE_TYPE.GEORGIAN:return g(e,1,19999,m,l.LIST_STYLE_TYPE.DECIMAL,r);case l.LIST_STYLE_TYPE.GUJARATI:return v(e,2790,2799,!0,r);case l.LIST_STYLE_TYPE.GURMUKHI:return v(e,2662,2671,!0,r);case l.LIST_STYLE_TYPE.HEBREW:return g(e,1,10999,p,l.LIST_STYLE_TYPE.DECIMAL,r);case l.LIST_STYLE_TYPE.HIRAGANA:return A(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case l.LIST_STYLE_TYPE.HIRAGANA_IROHA:return A(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case l.LIST_STYLE_TYPE.KANNADA:return v(e,3302,3311,!0,r);case l.LIST_STYLE_TYPE.KATAKANA:return A(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case l.LIST_STYLE_TYPE.KATAKANA_IROHA:return A(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case l.LIST_STYLE_TYPE.LAO:return v(e,3792,3801,!0,r);case l.LIST_STYLE_TYPE.MONGOLIAN:return v(e,6160,6169,!0,r);case l.LIST_STYLE_TYPE.MYANMAR:return v(e,4160,4169,!0,r);case l.LIST_STYLE_TYPE.ORIYA:return v(e,2918,2927,!0,r);case l.LIST_STYLE_TYPE.PERSIAN:return v(e,1776,1785,!0,r);case l.LIST_STYLE_TYPE.TAMIL:return v(e,3046,3055,!0,r);case l.LIST_STYLE_TYPE.TELUGU:return v(e,3174,3183,!0,r);case l.LIST_STYLE_TYPE.THAI:return v(e,3664,3673,!0,r);case l.LIST_STYLE_TYPE.TIBETAN:return v(e,3872,3881,!0,r);case l.LIST_STYLE_TYPE.DECIMAL:default:return v(e,48,57,!0,r)}}},function(e,t,n){"use strict";function r(e,t,n,r){var i=r.level-t.level;if(0===i)return e;for(var o=[],a=n*(r.x-(t.x<<i)),s=n*(r.y-(t.y<<i)),u=0;u<e.length;u++){for(var l=[],c=0;c<e[u].length;c++)l.push(e[u][c].sub(new p(a,s)));o.push(l)}return o}function i(e){return s(e)===E.COUNTER_CLOCKWISE}function o(e,t){for(var n=e.x,r=e.y,i=!1,o=0,a=t.length-1;o<t.length;a=o++){var s=t[o].x,u=t[o].y,l=t[a].x,c=t[a].y;u>r!=c>r&&n<(l-s)*(r-u)/(c-u)+s&&(i=!i)}return i}function a(e,t){for(var n=0;n<e.length;n++)if(o(t,e[n])){for(var r=!1;n+1<e.length&&!i(e[n+1]);)n++,!r&&o(t,e[n])&&(r=!0);if(!r)return!0}return!1}var s=n(519),u=n(63),l=n(16),c=n(15),h=n(0),d=n(917).VectorTile,f=n(919),p=n(325),m=n(522),g=n(1),_=n(3),v=n(920),A=n(2),y=n(24),b=n(17),w=n(99),x=n(71),E=n(155),C=function(e){if(this._uriTemplate=new v(e.url),"string"!=typeof e.layerName)throw new _("MapboxVectorTileImageryProvider requires a layer name passed as options.layerName");if(this._layerName=e.layerName,this._subdomains=g(e.subdomains,[]),!(e.styleFunc instanceof Function))throw new _("MapboxVectorTileImageryProvider requires a styling function passed as options.styleFunc");this._styleFunc=e.styleFunc,this._tilingScheme=new u,this._tileWidth=256,this._tileHeight=256,this._minimumLevel=g(e.minimumZoom,0),this._maximumLevel=g(e.maximumZoom,1/0),this._maximumNativeLevel=g(e.maximumNativeZoom,this._maximumLevel),this._rectangle=h(e.rectangle)?l.intersection(e.rectangle,this._tilingScheme.rectangle):this._tilingScheme.rectangle,this._uniqueIdProp=e.uniqueIdProp,this._featureInfoFunc=e.featureInfoFunc;var t=this._tilingScheme.positionToTileXY(l.southwest(this._rectangle),this._minimumLevel),n=this._tilingScheme.positionToTileXY(l.northeast(this._rectangle),this._minimumLevel),r=(Math.abs(n.x-t.x)+1)*(Math.abs(n.y-t.y)+1);if(r>4)throw new _("The imagery provider's rectangle and minimumLevel indicate that there are "+r+" tiles at the minimum level. Imagery providers with more than four tiles at the minimum level are not supported.");this._errorEvent=new c,this._ready=!0};A(C.prototype,{url:{get:function(){return this._uriTemplate.expression}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return this._minimumLevel}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._rectangle}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},hasAlphaChannel:{get:function(){return!0}}}),C.prototype._getSubdomain=function(e,t,n){if(0!==this._subdomains.length){var r=(e+t+n)%this._subdomains.length;return this._subdomains[r]}},C.prototype._buildImageUrl=function(e,t,n){return this._uriTemplate.expand({z:n,x:e,y:t,s:this._getSubdomain(e,t,n)})},C.prototype.requestImage=function(e,t,n){var r=document.createElement("canvas");return r.width=this._tileWidth,r.height=this._tileHeight,this._requestImage(e,t,n,r)},C.prototype._requestImage=function(e,t,n,r){var i,o={x:e,y:t,level:n};if(n>this._maximumNativeLevel){var a=n-this._maximumNativeLevel;i={x:e>>a,y:t>>a,level:this._maximumNativeLevel}}else i=o;var s=this,u=this._buildImageUrl(i.x,i.y,i.level);return m(u).then(function(e){return s._drawTile(o,i,new d(new f(e)),r)})},C.prototype._drawTile=function(e,t,n,i){var o=n.layers[this._layerName];if(!h(o))return i;var a=i.getContext("2d");a.strokeStyle="black",a.lineWidth=1;for(var s,u=i.width/o.extent,l=0;l<o.length;l++){var c=o.feature(l);if(3===c.type){var d=this._styleFunc(c.properties[this._uniqueIdProp]);if(!d)continue;a.fillStyle=d.fillStyle,a.strokeStyle=d.strokeStyle,a.lineWidth=d.lineWidth,a.lineJoin=d.lineJoin,a.beginPath();var f;if(t.level!==e.level){var p=c.bbox(),m=new w(p[0],p[1],p[2]-p[0],p[3]-p[1]),g=e.level-t.level,v=o.extent>>g;if(v<16)throw new _("Maximum level too high for data set");var A=v*(e.x-(t.x<<g)),y=v*(e.y-(t.y<<g)),b=new w(A,y,v,v);if(w.intersect(m,b)===x.OUTSIDE)continue;u=i.width/v,f=r(c.loadGeometry(),t,v,e)}else f=c.loadGeometry();for(var E=0;E<f.length;E++){s=f[E][0],a.moveTo(s.x*u,s.y*u);for(var C=1;C<f[E].length;C++)s=f[E][C],a.lineTo(s.x*u,s.y*u)}a.stroke(),a.fill()}else console.log("Unexpected geometry type: "+c.type+" in region map on tile "+[e.level,e.x,e.y].join("/"))}return i},C.prototype.pickFeatures=function(e,t,n,i,o){var s,u,l={x:e,y:t,level:n};n>this._maximumNativeLevel?(u=n-this._maximumNativeLevel,s={x:e>>u,y:t>>u,level:this._maximumNativeLevel}):s={x:e,y:t,level:n};var c=this,g=this._buildImageUrl(s.x,s.y,s.level);return m(g).then(function(m){var g=new d(new f(m)).layers[c._layerName];if(!h(g))return[];var _=[0,(g.extent>>u)-1],v=c._tilingScheme.tileXYToNativeRectangle(e,t,n),A=[v.west,v.east],w=[v.north,v.south],x=b.fromCartesian3(c._tilingScheme.projection.project(new y(i,o)));x=function(e,t,n,r,i){var o=new b;b.subtract(e,new b(t[0],n[0]),o);var a=new b((r[1]-r[0])/(t[1]-t[0]),(i[1]-i[0])/(n[1]-n[0]));return b.add(b.multiplyComponents(o,a,new b),new b(r[0],i[0]),new b)}(x,A,w,_,_);for(var E=new p(x.x,x.y),C=[],S=0;S<g.length;S++){var T=g.feature(S);if(3===T.type&&a(r(T.loadGeometry(),s,g.extent>>u,l),E)){var I=c._featureInfoFunc(T);h(I)&&C.push(I)}}return C})},C.prototype.createHighlightImageryProvider=function(e){var t=this,n=function(n){if(e===n){var r=t._styleFunc(n);if(h(r))return r.fillStyle="rgba(0,0,0,0)",r.lineJoin="round",r.lineWidth=Math.floor(1.5*g(r.lineWidth,1)+1),r}},r=new C({url:this._uriTemplate.expression,layerName:this._layerName,subdomains:this._subdomains,rectangle:this._rectangle,minimumZoom:this._minimumLevel,maximumNativeZoom:this._maximumNativeLevel,maximumZoom:this._maximumLevel,uniqueIdProp:this._uniqueIdProp,styleFunc:n});return r.pickFeatures=function(){},r},e.exports=C},function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},function(e,t,n){var r,i;r=[n(10),n(0),n(2),n(3),n(40),n(216),n(50)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(){r.throwInstantiationError()}n(s.prototype,{isConstant:{get:r.throwInstantiationError},definitionChanged:{get:r.throwInstantiationError},referenceFrame:{get:r.throwInstantiationError}}),s.prototype.getValue=r.throwInstantiationError,s.prototype.getValueInReferenceFrame=r.throwInstantiationError,s.prototype.equals=r.throwInstantiationError;var u=new i;return s.convertToReferenceFrame=function(n,r,s,l,c){if(!t(r))return r;if(t(c)||(c=new e),s===l)return e.clone(r,c);var h=a.computeIcrfToFixedMatrix(n,u);return t(h)||(h=a.computeTemeToPseudoFixedMatrix(n,u)),s===o.INERTIAL?i.multiplyByVector(h,r,c):s===o.FIXED?i.multiplyByVector(i.transpose(h,u),r,c):void 0},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(3),n(9)],void 0!==(i=function(e,t){"use strict";function n(e,n,r){var i=e+n;return t.sign(e)!==t.sign(n)&&Math.abs(i/Math.max(Math.abs(e),Math.abs(n)))<r?0:i}var r={};return r.computeDiscriminant=function(e,t,n){return t*t-4*e*n},r.computeRealRoots=function(e,r,i){var o;if(0===e)return 0===r?[]:[-i/r];if(0===r){if(0===i)return[0,0];var a=Math.abs(i),s=Math.abs(e);if(a<s&&a/s<t.EPSILON14)return[0,0];if(a>s&&s/a<t.EPSILON14)return[];if((o=-i/e)<0)return[];var u=Math.sqrt(o);return[-u,u]}if(0===i)return o=-r/e,o<0?[o,0]:[0,o];var l=r*r,c=4*e*i,h=n(l,-c,t.EPSILON14);if(h<0)return[];var d=-.5*n(r,t.sign(r)*Math.sqrt(h),t.EPSILON14);return r>0?[d/e,i/d]:[i/d,d/e]},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";var n={DONT_CARE:t.DONT_CARE,FASTEST:t.FASTEST,NICEST:t.NICEST,validate:function(e){return e===n.DONT_CARE||e===n.FASTEST||e===n.NICEST}};return e(n)}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){if(h(e))for(var t=0;t<i.supportedFormats.length;++t){var n=i.supportedFormats[t].converter(e);if(h(n))return n}}function o(e){if("Feature"===e.type&&h(e.geometry)||"FeatureCollection"===e.type&&h(e.features))return e}function a(e){return s(e,e.geometryType,e.geometry&&e.geometry.spatialReference)}function s(e,t,n){if(h(e.features))return{type:"FeatureCollection",crs:l(e.spatialReference),features:e.features.map(function(e){return s(e,t)})};var i={type:"Feature",geometry:void 0,properties:e.attributes};if(h(n)&&(i.crs=l(n)),"esriGeometryPolygon"===t){var o=[],a=[];e.geometry.rings.forEach(function(e){c(e.map(function(e){return new(Function.prototype.bind.apply(f,[null].concat(r(e))))}))===p.CLOCKWISE?o.push(e):a.push(e),e.reverse()}),0===o.length&&a.length>0&&(a.forEach(function(e){e.reverse()}),o.push.apply(o,a),a.length=0),1===o.length?i.geometry={type:"Polygon",coordinates:[o[0]].concat(a)}:i.geometry={type:"MultiPolygon",coordinates:o.map(function(e){return[e].concat(r(u(e,a)))})}}else if("esriGeometryPoint"===t)i.geometry={type:"Point",coordinates:[e.geometry.x,e.geometry.y]};else{if("esriGeometryPolyline"!==t)return;i.geometry={type:"MultiLineString",coordinates:e.geometry.paths}}return i}function u(e,t){return t.filter(function(t){return t.every(function(t){return d(t,e)})})}function l(e){if(h(e))return 102100===e.wkid?{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::3857"}}:h(e.wkid)?{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+e.wkid}}:void 0}var c=n(519),h=n(0),d=n(1108),f=n(325),p=n(155);i.supportedFormats=[{name:"GeoJSON",converter:o},{name:"Esri",converter:a}],e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(3),a=n(56),s=n(14),u=function(e){a.call(this,e)};s(a,u),i(u.prototype,{dataSource:{get:function(){throw new o('Types derived from DataSourceCatalogItem must implement a "dataSource" property.')}}}),u.prototype._enable=function(){},u.prototype._disable=function(){},u.prototype._show=function(){if(!r(this.dataSource))throw new o("This data source is not loaded.");var e=this.terria.dataSources;e.contains(this.dataSource)||e.add(this.dataSource)},u.prototype._hide=function(){if(!r(this.dataSource))throw new o("This data source is not loaded.");var e=this.terria.dataSources;e.contains(this.dataSource)&&e.remove(this.dataSource,!1)},u.prototype.showOnSeparateMap=function(e){var t=this.dataSource;return e.addDataSource({dataSource:t}),function(){e.removeDataSource({dataSource:t})}},e.exports=u},function(e,t,n){"use strict";var r={highContrast:["#F2F3F4","#FFB300","#803E75","#FF6800","#A6BDD7","#C10020","#CEA262","#817066","#007D34","#F6768E","#00538A","#FF7A5C","#53377A","#FF8E00","#B32851","#F4C800","#7F180D","#93AA00","#593315","#F13A13","#232C16"],brewer9ClassSet1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],modifiedBrewer8ClassSet2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#f44a4c","#b3b3b3"]};e.exports=r},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){"use strict";function r(e){return Math.abs(e.split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)},0))}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){try{e.resolve(t.apply(void 0,n))}catch(t){e.reject(t)}}e.exports=r},function(e,t,n){"use strict";function r(e){return a(o(e),function(e){try{return JSON.parse(e)}catch(t){if(t instanceof SyntaxError)return i.parse(e);throw t}},function(e){throw e})}var i=n(545),o=n(246),a=n(7);e.exports=r},function(e,t,n){"use strict";var r=n(337).default,i=n(172),o=n(0),a=n(557),s=n(33),u=n(7),l={TERRIA_CRS:"EPSG:4326",crsStringToCode:function(e){var t,n=e.toLowerCase();return 0===n.indexOf("epsg:")?t=e.toUpperCase():0===n.indexOf("urn:ogc:def:crs:epsg::")?t="EPSG:"+e.substring("urn:ogc:def:crs:EPSG::".length):0===n.indexOf("urn:ogc:def:crs:epsg")?t="EPSG:"+e.substring("urn:ogc:def:crs:EPSG::x.x".length):-1!==n.indexOf("crs84")&&(t=this.TERRIA_CRS),t},willNeedReprojecting:function(e){return!(!o(e)||e===this.TERRIA_CRS||"EPSG:4283"===e)},reprojectPoint:function(e,t,n){var i=new r.Proj(a[t]),o=new r.Proj(a[n]);return r(i,o,e)},checkProjection:function(e,t){if(a.hasOwnProperty(t))return!0;var n=new s(e).segment(t).toString();return u(i(n),function(e){return a[t]=e,console.log("Added new string for",t,"=",e),!0},function(e){return!1})}};e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1111),i=n(338),o=n(1129),a=n(551),s=n(546),u=n(549),l=n(552),c=n(1130);r.a.defaultDatum="WGS84",r.a.Proj=i.a,r.a.WGS84=new r.a.Proj("WGS84"),r.a.Point=o.a,r.a.toPoint=a.a,r.a.defs=s.a,r.a.transform=u.a,r.a.mgrs=l.a,r.a.version="__VERSION__",Object(c.a)(r.a),t.default=r.a},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e);t=t||function(e){if(e)throw e};var n=Object(i.a)(e);if("object"!=typeof n)return void t(e);var a=r.projections.get(n.projName);if(!a)return void t(e);if(n.datumCode&&"none"!==n.datumCode){var h=Object(c.a)(u.a,n.datumCode);h&&(n.datum_params=h.towgs84?h.towgs84.split(","):null,n.ellps=h.ellipse,n.datumName=h.datumName?h.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var d=Object(s.b)(n.a,n.b,n.rf,n.ellps,n.sphere),f=Object(s.a)(d.a,d.b,d.rf,n.R_A),p=n.datum||Object(l.a)(n.datumCode,n.datum_params,d.a,d.b,f.es,f.ep2);Object(o.a)(this,n),Object(o.a)(this,a),this.a=d.a,this.b=d.b,this.rf=d.rf,this.sphere=d.sphere,this.es=f.es,this.e=f.e,this.ep2=f.ep2,this.datum=p,this.init(),t(null,this)}var i=n(1112),o=n(1118),a=n(1119),s=n(1122),u=n(1124),l=n(1125),c=n(247);r.projections=a.a,r.projections.start(),t.a=r},function(e,t,n){"use strict";t.a=function(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}},function(e,t,n){"use strict";t.a=function(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}},function(e,t,n){"use strict";t.a=function(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)}},function(e,t,n){"use strict";t.a=function(e,t,n,r,i){var o,a;o=e/t;for(var s=0;s<15;s++)if(a=(e-(t*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(t-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=a,Math.abs(a)<=1e-10)return o;return NaN}},function(e,t,n){"use strict";t.a=function(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t}},function(e,t,n){var r,i;r=[n(99),n(17),n(10),n(41),n(24),n(25),n(101),n(1),n(0),n(2),n(3),n(154),n(20),n(218),n(29),n(153),n(158),n(46),n(427),n(132)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A){"use strict";function y(e,r){e=s(e,s.EMPTY_OBJECT);var i=e.translucencyByDistance,l=e.pixelOffsetScaleByDistance,c=e.scaleByDistance,d=e.distanceDisplayCondition;u(i)&&(i=f.clone(i)),u(l)&&(l=f.clone(l)),u(c)&&(c=f.clone(c)),u(d)&&(d=h.clone(d)),this._show=s(e.show,!0),this._position=n.clone(s(e.position,n.ZERO)),this._actualPosition=n.clone(this._position),this._pixelOffset=t.clone(s(e.pixelOffset,t.ZERO)),this._translate=new t(0,0),this._eyeOffset=n.clone(s(e.eyeOffset,n.ZERO)),this._heightReference=s(e.heightReference,m.NONE),this._verticalOrigin=s(e.verticalOrigin,A.CENTER),this._horizontalOrigin=s(e.horizontalOrigin,g.CENTER),this._scale=s(e.scale,1),this._color=o.clone(s(e.color,o.WHITE)),this._rotation=s(e.rotation,0),this._alignedAxis=n.clone(s(e.alignedAxis,n.ZERO)),this._width=e.width,this._height=e.height,this._scaleByDistance=c,this._translucencyByDistance=i,this._pixelOffsetScaleByDistance=l,this._sizeInMeters=s(e.sizeInMeters,!1),this._distanceDisplayCondition=d,this._disableDepthTestDistance=e.disableDepthTestDistance,this._id=e.id,this._collection=s(e.collection,r),this._pickId=void 0,this._pickPrimitive=s(e._pickPrimitive,this),this._billboardCollection=r,this._dirty=!1,this._index=-1,this._batchIndex=void 0,this._imageIndex=-1,this._imageIndexPromise=void 0,this._imageId=void 0,this._image=void 0,this._imageSubRegion=void 0,this._imageWidth=void 0,this._imageHeight=void 0,this._labelDimensions=void 0,this._labelHorizontalOrigin=void 0,this._labelTranslate=void 0;var p=e.image,v=e.imageId;u(p)&&(u(v)||(v="string"==typeof p?p:u(p.src)?p.src:a()),this._imageId=v,this._image=p),u(e.imageSubRegion)&&(this._imageId=v,this._imageSubRegion=e.imageSubRegion),u(this._billboardCollection._textureAtlas)&&this._loadImage(),this._actualClampedPosition=void 0,this._removeCallbackFunc=void 0,this._mode=_.SCENE3D,this._clusterShow=!0,this._updateClamping()}function b(e,t){var n=e._billboardCollection;u(n)&&(n._updateBillboard(e,t),e._dirty=!0)}var w=y.SHOW_INDEX=0,x=y.POSITION_INDEX=1,E=y.PIXEL_OFFSET_INDEX=2,C=y.EYE_OFFSET_INDEX=3,S=y.HORIZONTAL_ORIGIN_INDEX=4,T=y.VERTICAL_ORIGIN_INDEX=5,I=y.SCALE_INDEX=6,M=y.IMAGE_INDEX_INDEX=7,O=y.COLOR_INDEX=8,P=y.ROTATION_INDEX=9,D=y.ALIGNED_AXIS_INDEX=10,B=y.SCALE_BY_DISTANCE_INDEX=11,L=y.TRANSLUCENCY_BY_DISTANCE_INDEX=12,N=y.PIXEL_OFFSET_SCALE_BY_DISTANCE_INDEX=13,R=y.DISTANCE_DISPLAY_CONDITION=14,k=y.DISABLE_DEPTH_DISTANCE=15;y.TEXTURE_COORDINATE_BOUNDS=16,y.NUMBER_OF_PROPERTIES=17,l(y.prototype,{show:{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,b(this,w))}},position:{get:function(){return this._position},set:function(e){var t=this._position;n.equals(t,e)||(n.clone(e,t),n.clone(e,this._actualPosition),this._updateClamping(),b(this,x))}},heightReference:{get:function(){return this._heightReference},set:function(e){e!==this._heightReference&&(this._heightReference=e,this._updateClamping(),b(this,x))}},pixelOffset:{get:function(){return this._pixelOffset},set:function(e){var n=this._pixelOffset;t.equals(n,e)||(t.clone(e,n),b(this,E))}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(e){var t=this._scaleByDistance;f.equals(t,e)||(this._scaleByDistance=f.clone(e,t),b(this,B))}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(e){var t=this._translucencyByDistance;f.equals(t,e)||(this._translucencyByDistance=f.clone(e,t),b(this,L))}},pixelOffsetScaleByDistance:{get:function(){return this._pixelOffsetScaleByDistance},set:function(e){var t=this._pixelOffsetScaleByDistance;f.equals(t,e)||(this._pixelOffsetScaleByDistance=f.clone(e,t),b(this,N))}},eyeOffset:{get:function(){return this._eyeOffset},set:function(e){var t=this._eyeOffset;n.equals(t,e)||(n.clone(e,t),b(this,C))}},horizontalOrigin:{get:function(){return this._horizontalOrigin},set:function(e){this._horizontalOrigin!==e&&(this._horizontalOrigin=e,b(this,S))}},verticalOrigin:{get:function(){return this._verticalOrigin},set:function(e){this._verticalOrigin!==e&&(this._verticalOrigin=e,b(this,T))}},scale:{get:function(){return this._scale},set:function(e){this._scale!==e&&(this._scale=e,b(this,I))}},color:{get:function(){return this._color},set:function(e){var t=this._color;o.equals(t,e)||(o.clone(e,t),b(this,O))}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,b(this,P))}},alignedAxis:{get:function(){return this._alignedAxis},set:function(e){var t=this._alignedAxis;n.equals(t,e)||(n.clone(e,t),b(this,D))}},width:{get:function(){return s(this._width,this._imageWidth)},set:function(e){this._width!==e&&(this._width=e,b(this,M))}},height:{get:function(){return s(this._height,this._imageHeight)},set:function(e){this._height!==e&&(this._height=e,b(this,M))}},sizeInMeters:{get:function(){return this._sizeInMeters},set:function(e){this._sizeInMeters!==e&&(this._sizeInMeters=e,b(this,O))}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){h.equals(e,this._distanceDisplayCondition)||(this._distanceDisplayCondition=h.clone(e,this._distanceDisplayCondition),b(this,R))}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(e){this._disableDepthTestDistance!==e&&(this._disableDepthTestDistance=e,b(this,k))}},id:{get:function(){return this._id},set:function(e){this._id=e,u(this._pickId)&&(this._pickId.object.id=e)}},pickPrimitive:{get:function(){return this._pickPrimitive},set:function(e){this._pickPrimitive=e,u(this._pickId)&&(this._pickId.object.primitive=e)}},pickId:{get:function(){return this._pickId}},image:{get:function(){return this._imageId},set:function(e){u(e)?"string"==typeof e?this.setImage(e,e):e instanceof p?this.setImage(e.url,e):u(e.src)?this.setImage(e.src,e):this.setImage(a(),e):(this._imageIndex=-1,this._imageSubRegion=void 0,this._imageId=void 0,this._image=void 0,this._imageIndexPromise=void 0,b(this,M))}},ready:{get:function(){return-1!==this._imageIndex}},_clampedPosition:{get:function(){return this._actualClampedPosition},set:function(e){this._actualClampedPosition=n.clone(e,this._actualClampedPosition),b(this,x)}},clusterShow:{get:function(){return this._clusterShow},set:function(e){this._clusterShow!==e&&(this._clusterShow=e,b(this,w))}}}),y.prototype.getPickId=function(e){return u(this._pickId)||(this._pickId=e.createPickId({primitive:this._pickPrimitive,collection:this._collection,id:this._id})),this._pickId},y.prototype._updateClamping=function(){y._updateClamping(this._billboardCollection,this)};var F=new i,U=new n;y._updateClamping=function(e,t){function r(e){if(t._heightReference===m.RELATIVE_TO_GROUND)if(t._mode===_.SCENE3D){var r=s.cartesianToCartographic(e,F);r.height+=d.height,s.cartographicToCartesian(r,e)}else e.x+=d.height;t._clampedPosition=n.clone(e,t._clampedPosition)}var o=e._scene;if(u(o)&&u(o.globe)){var a=o.globe,s=a.ellipsoid,l=a._surface,c=o.frameState.mode,h=c!==t._mode;if(t._mode=c,(t._heightReference===m.NONE||h)&&u(t._removeCallbackFunc)&&(t._removeCallbackFunc(),t._removeCallbackFunc=void 0,t._clampedPosition=void 0),t._heightReference!==m.NONE&&u(t._position)){var d=s.cartesianToCartographic(t._position);if(!u(d))return void(t._actualClampedPosition=void 0);u(t._removeCallbackFunc)&&t._removeCallbackFunc(),t._removeCallbackFunc=l.updateHeight(d,r),i.clone(d,F);var f=a.getHeight(d);u(f)&&(F.height=f),s.cartographicToCartesian(F,U),r(U)}}},y.prototype._loadImage=function(){var t,n=this._billboardCollection._textureAtlas,r=this._imageId,i=this._image,o=this._imageSubRegion;if(u(i)&&(t=n.addImage(r,i)),u(o)&&(t=n.addSubRegion(r,o)),this._imageIndexPromise=t,u(t)){var a=this;t.then(function(t){if(a._imageId===r&&a._image===i&&e.equals(a._imageSubRegion,o)){var s=n.textureCoordinates[t];a._imageWidth=n.texture.width*s.width,a._imageHeight=n.texture.height*s.height,a._imageIndex=t,a._ready=!0,a._image=void 0,a._imageIndexPromise=void 0,b(a,M)}}).otherwise(function(e){console.error("Error loading image for billboard: "+e),a._imageIndexPromise=void 0})}},y.prototype.setImage=function(e,t){this._imageId!==e&&(this._imageIndex=-1,this._imageSubRegion=void 0,this._imageId=e,this._image=t,u(this._billboardCollection._textureAtlas)&&this._loadImage())},y.prototype.setImageSubRegion=function(t,n){this._imageId===t&&e.equals(this._imageSubRegion,n)||(this._imageIndex=-1,this._imageId=t,this._imageSubRegion=e.clone(n),u(this._billboardCollection._textureAtlas)&&this._loadImage())},y.prototype._setTranslate=function(e){var n=this._translate;t.equals(n,e)||(t.clone(e,n),b(this,E))},y.prototype._getActualPosition=function(){return u(this._clampedPosition)?this._clampedPosition:this._actualPosition},y.prototype._setActualPosition=function(e){u(this._clampedPosition)||n.clone(e,this._actualPosition),b(this,x)};var z=new r;y._computeActualPosition=function(e,t,n,r){return u(e._clampedPosition)?(n.mode!==e._mode&&e._updateClamping(),e._clampedPosition):n.mode===_.SCENE3D?t:(d.multiplyByPoint(r,t,z),v.computeActualWgs84Position(n,z))};var j=new n;y._computeScreenSpacePosition=function(e,n,r,i,o,a){var s=d.multiplyByPoint(e,n,j),l=v.wgs84WithEyeOffsetToWindowCoordinates(o,s,r,a);if(u(l))return t.add(l,i,l),l};var H=new t(0,0);return y.prototype.computeScreenSpacePosition=function(e,n){var r=this._billboardCollection;u(n)||(n=new t),t.clone(this._pixelOffset,H),t.add(H,this._translate,H);var i=r.modelMatrix,o=this._position;if(u(this._clampedPosition)&&(o=this._clampedPosition,e.mode!==_.SCENE3D)){var a=e.mapProjection,s=a.ellipsoid,l=a.unproject(o,F);o=s.cartographicToCartesian(l,j),i=d.IDENTITY}return y._computeScreenSpacePosition(i,o,this._eyeOffset,H,e,n)},y.getScreenSpaceBoundingBox=function(t,n,r){var i=t.width,o=t.height,a=t.scale;i*=a,o*=a;var s=n.x;t.horizontalOrigin===g.RIGHT?s-=i:t.horizontalOrigin===g.CENTER&&(s-=.5*i);var l=n.y;return t.verticalOrigin===A.BOTTOM||t.verticalOrigin===A.BASELINE?l-=o:t.verticalOrigin===A.CENTER&&(l-=.5*o),u(r)||(r=new e),r.x=s,r.y=l,r.width=i,r.height=o,r},y.prototype.equals=function(r){return this===r||u(r)&&this._id===r._id&&n.equals(this._position,r._position)&&this._imageId===r._imageId&&this._show===r._show&&this._scale===r._scale&&this._verticalOrigin===r._verticalOrigin&&this._horizontalOrigin===r._horizontalOrigin&&this._heightReference===r._heightReference&&e.equals(this._imageSubRegion,r._imageSubRegion)&&o.equals(this._color,r._color)&&t.equals(this._pixelOffset,r._pixelOffset)&&t.equals(this._translate,r._translate)&&n.equals(this._eyeOffset,r._eyeOffset)&&f.equals(this._scaleByDistance,r._scaleByDistance)&&f.equals(this._translucencyByDistance,r._translucencyByDistance)&&f.equals(this._pixelOffsetScaleByDistance,r._pixelOffsetScaleByDistance)&&h.equals(this._distanceDisplayCondition,r._distanceDisplayCondition)&&this._disableDepthTestDistance===r._disableDepthTestDistance},y.prototype._destroy=function(){u(this._customData)&&(this._billboardCollection._scene.globe._surface.removeTileCustomData(this._customData),this._customData=void 0),u(this._removeCallbackFunc)&&(this._removeCallbackFunc(),this._removeCallbackFunc=void 0),this.image=void 0,this._pickId=this._pickId&&this._pickId.destroy(),this._billboardCollection=void 0},y}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(169),n(38),n(17),n(10),n(25),n(31),n(1),n(0),n(2),n(21),n(3),n(135),n(49),n(9),n(20),n(34),n(93),n(64),n(61),n(60),n(47),n(68),n(77),n(52),n(558),n(1169),n(1170),n(344),n(70),n(346),n(153),n(158),n(46),n(559),n(132)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L){"use strict";function N(e){e=a(e,a.EMPTY_OBJECT),this._scene=e.scene,this._batchTable=e.batchTable,this._textureAtlas=void 0,this._textureAtlasGUID=void 0,this._destroyTextureAtlas=!0,this._sp=void 0,this._spTranslucent=void 0,this._rsOpaque=void 0,this._rsTranslucent=void 0,this._vaf=void 0,this._billboards=[],this._billboardsToUpdate=[],this._billboardsToUpdateIndex=0,this._billboardsRemoved=!1,this._createVertexArray=!1,this._shaderRotation=!1,this._compiledShaderRotation=!1,this._shaderAlignedAxis=!1,this._compiledShaderAlignedAxis=!1,this._shaderScaleByDistance=!1,this._compiledShaderScaleByDistance=!1,this._shaderTranslucencyByDistance=!1,this._compiledShaderTranslucencyByDistance=!1,this._shaderPixelOffsetScaleByDistance=!1,this._compiledShaderPixelOffsetScaleByDistance=!1,this._shaderDistanceDisplayCondition=!1,this._compiledShaderDistanceDisplayCondition=!1,this._shaderDisableDepthDistance=!1,this._compiledShaderDisableDepthDistance=!1,this._shaderClampToGround=!1,this._compiledShaderClampToGround=!1,this._propertiesChanged=new Uint32Array(ye),this._maxSize=0,this._maxEyeOffset=0,this._maxScale=1,this._maxPixelOffset=0,this._allHorizontalCenter=!0,this._allVerticalCenter=!0,this._allSizedInMeters=!0,this._baseVolume=new t,this._baseVolumeWC=new t,this._baseVolume2D=new t,this._boundingVolume=new t,this._boundingVolumeDirty=!1,this._colorCommands=[],this.modelMatrix=p.clone(a(e.modelMatrix,p.IDENTITY)),this._modelMatrix=p.clone(p.IDENTITY),this.debugShowBoundingVolume=a(e.debugShowBoundingVolume,!1),this.blendOption=a(e.blendOption,M.OPAQUE_AND_TRANSLUCENT),this._blendOption=void 0,this._mode=D.SCENE3D,this._buffersUsage=[_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW,_.STATIC_DRAW],this._highlightColor=i.clone(i.WHITE);var n=this;this._uniforms={u_atlas:function(){return n._textureAtlas.texture},u_highlightColor:function(){return n._highlightColor}};var r=this._scene;s(r)&&s(r.terrainProviderChanged)&&(this._removeCallbackFunc=r.terrainProviderChanged.addEventListener(function(){for(var e=this._billboards,t=e.length,n=0;n<t;++n)e[n]._updateClamping()},this))}function R(e){for(var t=e.length,n=0;n<t;++n)e[n]&&e[n]._destroy()}function k(e){if(e._billboardsRemoved){e._billboardsRemoved=!1;for(var t=[],n=e._billboards,r=n.length,i=0,o=0;i<r;++i){var a=n[i];a&&(a._index=o++,t.push(a))}e._billboards=t}}function F(e){var t=e.cache.billboardCollection_indexBufferBatched;if(s(t))return t;for(var n=new Uint16Array(98298),r=0,i=0;r<98298;r+=6,i+=4)n[r]=i,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return t=g.createIndexBuffer({context:e,typedArray:n,usage:_.STATIC_DRAW,indexDatatype:d.UNSIGNED_SHORT}),t.vertexArrayDestroyable=!1,e.cache.billboardCollection_indexBufferBatched=t,t}function U(e){var t=e.cache.billboardCollection_indexBufferInstanced;return s(t)?t:(t=g.createIndexBuffer({context:e,typedArray:new Uint16Array([0,1,2,0,2,3]),usage:_.STATIC_DRAW,indexDatatype:d.UNSIGNED_SHORT}),t.vertexArrayDestroyable=!1,e.cache.billboardCollection_indexBufferInstanced=t,t)}function z(e){var t=e.cache.billboardCollection_vertexBufferInstanced;return s(t)?t:(t=g.createVertexBuffer({context:e,typedArray:new Float32Array([0,0,1,0,1,1,0,1]),usage:_.STATIC_DRAW}),t.vertexArrayDestroyable=!1,e.cache.billboardCollection_vertexBufferInstanced=t,t)}function j(e,t,n,r,i){var a=[{index:ne.positionHighAndScale,componentsPerAttribute:4,componentDatatype:o.FLOAT,usage:n[ie]},{index:ne.positionLowAndRotation,componentsPerAttribute:4,componentDatatype:o.FLOAT,usage:n[ie]},{index:ne.compressedAttribute0,componentsPerAttribute:4,componentDatatype:o.FLOAT,usage:n[oe]},{index:ne.compressedAttribute1,componentsPerAttribute:4,componentDatatype:o.FLOAT,usage:n[me]},{index:ne.compressedAttribute2,componentsPerAttribute:4,componentDatatype:o.FLOAT,usage:n[he]},{index:ne.eyeOffset,componentsPerAttribute:4,componentDatatype:o.FLOAT,usage:n[ae]},{index:ne.scaleByDistance,componentsPerAttribute:4,componentDatatype:o.FLOAT,usage:n[pe]},{index:ne.pixelOffsetScaleByDistance,componentsPerAttribute:4,componentDatatype:o.FLOAT,usage:n[ge]},{index:ne.compressedAttribute3,componentsPerAttribute:4,componentDatatype:o.FLOAT,usage:n[_e]},{index:ne.textureCoordinateBoundsOrLabelTranslate,componentsPerAttribute:4,componentDatatype:o.FLOAT,usage:n[Ae]}];return r&&a.push({index:ne.direction,componentsPerAttribute:2,componentDatatype:o.FLOAT,vertexBuffer:z(e)}),s(i)&&a.push({index:ne.a_batchId,componentsPerAttribute:1,componentDatatyps:o.FLOAT,bufferUsage:_.STATIC_DRAW}),new E(e,a,r?t:4*t,r)}function H(e,n,r,i,o){var a,s=i[ne.positionHighAndScale],u=i[ne.positionLowAndRotation],l=o._getActualPosition();e._mode===D.SCENE3D&&(t.expand(e._baseVolume,l,e._baseVolume),e._boundingVolumeDirty=!0),h.fromCartesian(l,Ee);var c=o.scale,d=o.rotation;0!==d&&(e._shaderRotation=!0),e._maxScale=Math.max(e._maxScale,c);var f=Ee.high,p=Ee.low;e._instanced?(a=o._index,s(a,f.x,f.y,f.z,c),u(a,p.x,p.y,p.z,d)):(a=4*o._index,s(a+0,f.x,f.y,f.z,c),s(a+1,f.x,f.y,f.z,c),s(a+2,f.x,f.y,f.z,c),s(a+3,f.x,f.y,f.z,c),u(a+0,p.x,p.y,p.z,d),u(a+1,p.x,p.y,p.z,d),u(a+2,p.x,p.y,p.z,d),u(a+3,p.x,p.y,p.z,d))}function V(t,n,r,i,o){var a,s=i[ne.compressedAttribute0],u=o.pixelOffset,l=u.x,c=u.y,h=o._translate,d=h.x,p=h.y;t._maxPixelOffset=Math.max(t._maxPixelOffset,Math.abs(l+d),Math.abs(-c+p));var m=o.horizontalOrigin,g=o._verticalOrigin,_=o.show&&o.clusterShow;0===o.color.alpha&&(_=!1),g===L.BASELINE&&(g=L.BOTTOM),t._allHorizontalCenter=t._allHorizontalCenter&&m===P.CENTER,t._allVerticalCenter=t._allVerticalCenter&&g===L.CENTER;var v=0,A=0,y=0,b=0,w=o._imageIndex;if(-1!==w){var x=r[w];v=x.x,A=x.y,y=x.width,b=x.height}var E=v+y,C=A+b,S=Math.floor(f.clamp(l,-Se,Se)+Se)*Oe;S+=(m+1)*Pe,S+=(g+1)*De,S+=(_?1:0)*Be;var T=Math.floor(f.clamp(c,-Se,Se)+Se)*Me,I=Math.floor(f.clamp(d,-Se,Se)+Se)*Me,M=(f.clamp(p,-Se,Se)+Se)*Le,O=Math.floor(M),D=Math.floor((M-O)*Me);T+=O,I+=D,Ce.x=v,Ce.y=A;var B=e.compressTextureCoordinates(Ce);Ce.x=E;var N=e.compressTextureCoordinates(Ce);Ce.y=C;var R=e.compressTextureCoordinates(Ce);Ce.x=v;var k=e.compressTextureCoordinates(Ce);t._instanced?(a=o._index,s(a,S,T,I,B)):(a=4*o._index,s(a+0,S+Ne,T,I,B),s(a+1,S+Re,T,I,N),s(a+2,S+ke,T,I,R),s(a+3,S+Fe,T,I,k))}function Q(t,n,i,o,u){var l,c=o[ne.compressedAttribute1],h=u.alignedAxis;r.equals(h,r.ZERO)||(t._shaderAlignedAxis=!0);var d=0,p=1,m=1,g=1,_=u.translucencyByDistance;s(_)&&(d=_.near,p=_.nearValue,m=_.far,g=_.farValue,1===p&&1===g||(t._shaderTranslucencyByDistance=!0));var v=0,A=u._imageIndex;if(-1!==A){v=i[A].width}var y=t._textureAtlas.texture.width,b=Math.round(a(u.width,y*v));t._maxSize=Math.max(t._maxSize,b);var w=f.clamp(b,0,Te),x=0;Math.abs(r.magnitudeSquared(h)-1)<f.EPSILON6&&(x=e.octEncodeFloat(h)),p=f.clamp(p,0,1),p=1===p?255:255*p|0,w=w*Me+p,g=f.clamp(g,0,1),g=1===g?255:255*g|0,x=x*Me+g,t._instanced?(l=u._index,c(l,w,x,d,m)):(l=4*u._index,c(l+0,w,x,d,m),c(l+1,w,x,d,m),c(l+2,w,x,d,m),c(l+3,w,x,d,m))}function G(e,t,n,o,u){var l,c=o[ne.compressedAttribute2],h=u.color,d=s(e._batchTable)?i.WHITE:u.getPickId(t).color,p=u.sizeInMeters?1:0,m=Math.abs(r.magnitudeSquared(u.alignedAxis)-1)<f.EPSILON6?1:0;e._allSizedInMeters=e._allSizedInMeters&&1===p;var g=0,_=u._imageIndex;if(-1!==_){g=n[_].height}var v=e._textureAtlas.texture.dimensions,A=Math.round(a(u.height,v.y*g));e._maxSize=Math.max(e._maxSize,A);var y=a(u._labelHorizontalOrigin,-2);y+=2;var b=A*Be+y,w=i.floatToByte(h.red),x=i.floatToByte(h.green),E=i.floatToByte(h.blue),C=w*Te+x*Me+E;w=i.floatToByte(d.red),x=i.floatToByte(d.green),E=i.floatToByte(d.blue);var S=w*Te+x*Me+E,T=i.floatToByte(h.alpha)*Te+i.floatToByte(d.alpha)*Me;T+=2*p+m,e._instanced?(l=u._index,c(l,C,S,T,b)):(l=4*u._index,c(l+0,C,S,T,b),c(l+1,C,S,T,b),c(l+2,C,S,T,b),c(l+3,C,S,T,b))}function W(t,n,r,i,o){var a,s=i[ne.eyeOffset],u=o.eyeOffset,l=u.z;if(o._heightReference!==O.NONE&&(l*=1.005),t._maxEyeOffset=Math.max(t._maxEyeOffset,Math.abs(u.x),Math.abs(u.y),Math.abs(l)),t._instanced){var c=0,h=0,d=o._imageIndex;if(-1!==d){var f=r[d];c=f.width,h=f.height}Ce.x=c,Ce.y=h;var p=e.compressTextureCoordinates(Ce);a=o._index,s(a,u.x,u.y,l,p)}else a=4*o._index,s(a+0,u.x,u.y,l,0),s(a+1,u.x,u.y,l,0),s(a+2,u.x,u.y,l,0),s(a+3,u.x,u.y,l,0)}function q(e,t,n,r,i){var o,a=r[ne.scaleByDistance],u=0,l=1,c=1,h=1,d=i.scaleByDistance;s(d)&&(u=d.near,l=d.nearValue,c=d.far,h=d.farValue,1===l&&1===h||(e._shaderScaleByDistance=!0)),e._instanced?(o=i._index,a(o,u,l,c,h)):(o=4*i._index,a(o+0,u,l,c,h),a(o+1,u,l,c,h),a(o+2,u,l,c,h),a(o+3,u,l,c,h))}function Y(e,t,n,r,i){var o,a=r[ne.pixelOffsetScaleByDistance],u=0,l=1,c=1,h=1,d=i.pixelOffsetScaleByDistance;s(d)&&(u=d.near,l=d.nearValue,c=d.far,h=d.farValue,1===l&&1===h||(e._shaderPixelOffsetScaleByDistance=!0)),e._instanced?(o=i._index,a(o,u,l,c,h)):(o=4*i._index,a(o+0,u,l,c,h),a(o+1,u,l,c,h),a(o+2,u,l,c,h),a(o+3,u,l,c,h))}function K(e,t,n,r,i){var o,u=r[ne.compressedAttribute3],l=0,c=Number.MAX_VALUE,h=i.distanceDisplayCondition;s(h)&&(l=h.near,c=h.far,l*=l,c*=c,e._shaderDistanceDisplayCondition=!0);var d=i.disableDepthTestDistance,p=i.heightReference===O.CLAMP_TO_GROUND&&e._scene.context.depthTexture;s(d)||(d=p?5e3:0),d*=d,(p||d>0)&&(e._shaderDisableDepthDistance=!0,d===Number.POSITIVE_INFINITY&&(d=-1));var m,g;if(s(i._labelDimensions))g=i._labelDimensions.x,m=i._labelDimensions.y;else{var _=0,v=0,A=i._imageIndex;if(-1!==A){var y=n[A];_=y.height,v=y.width}m=Math.round(a(i.height,e._textureAtlas.texture.dimensions.y*_));var b=e._textureAtlas.texture.width;g=Math.round(a(i.width,b*v))}var w=Math.floor(f.clamp(g,0,Ie)),x=Math.floor(f.clamp(m,0,Ie)),E=w*Ie+x;e._instanced?(o=i._index,u(o,l,c,d,E)):(o=4*i._index,u(o+0,l,c,d,E),u(o+1,l,c,d,E),u(o+2,l,c,d,E),u(o+3,l,c,d,E))}function X(e,t,n,r,i){i.heightReference===O.CLAMP_TO_GROUND&&(e._shaderClampToGround=e._scene.context.depthTexture);var o,a=r[ne.textureCoordinateBoundsOrLabelTranslate];if(v.maximumVertexTextureImageUnits>0){var u=0,l=0;return s(i._labelTranslate)&&(u=i._labelTranslate.x,l=i._labelTranslate.y),void(e._instanced?(o=i._index,a(o,u,l,0,0)):(o=4*i._index,a(o+0,u,l,0,0),a(o+1,u,l,0,0),a(o+2,u,l,0,0),a(o+3,u,l,0,0)))}var c=0,h=0,d=0,f=0,p=i._imageIndex;if(-1!==p){var m=n[p];c=m.x,h=m.y,d=m.width,f=m.height}var g=c+d,_=h+f;e._instanced?(o=i._index,a(o,c,h,g,_)):(o=4*i._index,a(o+0,c,h,g,_),a(o+1,c,h,g,_),a(o+2,c,h,g,_),a(o+3,c,h,g,_))}function Z(e,t,n,r,i){if(s(e._batchTable)){var o,a=r[ne.a_batchId],u=i._batchIndex;e._instanced?(o=i._index,a(o,u)):(o=4*i._index,a(o+0,u),a(o+1,u),a(o+2,u),a(o+3,u))}}function J(e,t,n,r,i){H(e,t,n,r,i),V(e,t,n,r,i),Q(e,t,n,r,i),G(e,t,n,r,i),W(e,t,n,r,i),q(e,t,n,r,i),Y(e,t,n,r,i),K(e,t,n,r,i),X(e,t,n,r,i),Z(e,t,n,r,i)}function $(e,n,r,i,o,a){var u;i.mode===D.SCENE3D?(u=e._baseVolume,e._boundingVolumeDirty=!0):u=e._baseVolume2D;for(var l=[],c=0;c<r;++c){var h=n[c],d=h.position,f=T._computeActualPosition(h,d,i,o);s(f)&&(h._setActualPosition(f),a?l.push(f):t.expand(u,f,u))}a&&t.fromPoints(l,u)}function ee(e,t){var n=t.mode,r=e._billboards,i=e._billboardsToUpdate,o=e._modelMatrix;e._createVertexArray||e._mode!==n||n!==D.SCENE3D&&!p.equals(o,e.modelMatrix)?(e._mode=n,p.clone(e.modelMatrix,o),e._createVertexArray=!0,n!==D.SCENE3D&&n!==D.SCENE2D&&n!==D.COLUMBUS_VIEW||$(e,r,r.length,t,o,!0)):n===D.MORPHING?$(e,r,r.length,t,o,!0):n!==D.SCENE2D&&n!==D.COLUMBUS_VIEW||$(e,i,e._billboardsToUpdateIndex,t,o,!1)}function te(e,t,n){var r=1;e._allSizedInMeters&&0===e._maxPixelOffset||(r=t.camera.getPixelSize(n,t.context.drawingBufferWidth,t.context.drawingBufferHeight));var i=r*e._maxScale*e._maxSize*2;e._allHorizontalCenter&&e._allVerticalCenter&&(i*=.5);var o=r*e._maxPixelOffset+e._maxEyeOffset;n.radius+=i+o}var ne,re=T.SHOW_INDEX,ie=T.POSITION_INDEX,oe=T.PIXEL_OFFSET_INDEX,ae=T.EYE_OFFSET_INDEX,se=T.HORIZONTAL_ORIGIN_INDEX,ue=T.VERTICAL_ORIGIN_INDEX,le=T.SCALE_INDEX,ce=T.IMAGE_INDEX_INDEX,he=T.COLOR_INDEX,de=T.ROTATION_INDEX,fe=T.ALIGNED_AXIS_INDEX,pe=T.SCALE_BY_DISTANCE_INDEX,me=T.TRANSLUCENCY_BY_DISTANCE_INDEX,ge=T.PIXEL_OFFSET_SCALE_BY_DISTANCE_INDEX,_e=T.DISTANCE_DISPLAY_CONDITION,ve=T.DISABLE_DEPTH_DISTANCE,Ae=T.TEXTURE_COORDINATE_BOUNDS,ye=T.NUMBER_OF_PROPERTIES,be={positionHighAndScale:0,positionLowAndRotation:1,compressedAttribute0:2,compressedAttribute1:3,compressedAttribute2:4,eyeOffset:5,scaleByDistance:6,pixelOffsetScaleByDistance:7,compressedAttribute3:8,textureCoordinateBoundsOrLabelTranslate:9,a_batchId:10},we={direction:0,positionHighAndScale:1,positionLowAndRotation:2,compressedAttribute0:3,compressedAttribute1:4,compressedAttribute2:5,eyeOffset:6,scaleByDistance:7,pixelOffsetScaleByDistance:8,compressedAttribute3:9,textureCoordinateBoundsOrLabelTranslate:10,a_batchId:11};u(N.prototype,{length:{get:function(){return k(this),this._billboards.length}},textureAtlas:{get:function(){return this._textureAtlas},set:function(e){this._textureAtlas!==e&&(this._textureAtlas=this._destroyTextureAtlas&&this._textureAtlas&&this._textureAtlas.destroy(),this._textureAtlas=e,this._createVertexArray=!0)}},destroyTextureAtlas:{get:function(){return this._destroyTextureAtlas},set:function(e){this._destroyTextureAtlas=e}}}),N.prototype.add=function(e){var t=new T(e,this);return t._index=this._billboards.length,this._billboards.push(t),this._createVertexArray=!0,t},N.prototype.remove=function(e){return!!this.contains(e)&&(this._billboards[e._index]=null,this._billboardsRemoved=!0,this._createVertexArray=!0,e._destroy(),!0)},N.prototype.removeAll=function(){R(this._billboards),this._billboards=[],this._billboardsToUpdate=[],this._billboardsToUpdateIndex=0,this._billboardsRemoved=!1,this._createVertexArray=!0},N.prototype._updateBillboard=function(e,t){e._dirty||(this._billboardsToUpdate[this._billboardsToUpdateIndex++]=e),++this._propertiesChanged[t]},N.prototype.contains=function(e){return s(e)&&e._billboardCollection===this},N.prototype.get=function(e){return k(this),this._billboards[e]};var xe;N.prototype.computeNewBuffersUsage=function(){for(var e=this._buffersUsage,t=!1,n=this._propertiesChanged,r=0;r<ye;++r){var i=0===n[r]?_.STATIC_DRAW:_.STREAM_DRAW;t=t||e[r]!==i,e[r]=i}return t};var Ee=new h,Ce=new n,Se=32768,Te=65536,Ie=4096,Me=256,Oe=128,Pe=32,De=8,Be=4,Le=1/256,Ne=0,Re=2,ke=3,Fe=1,Ue=[];return N.prototype.update=function(e){k(this);var n=this._billboards,r=n.length,i=e.context;this._instanced=i.instancedArrays,ne=this._instanced?we:be,xe=this._instanced?U:F;var o=this._textureAtlas;if(!s(o)){o=this._textureAtlas=new B({context:i});for(var a=0;a<r;++a)n[a]._loadImage()}var u=o.textureCoordinates;if(0!==u.length){ee(this,e),n=this._billboards,r=n.length;var l=this._billboardsToUpdate,c=this._billboardsToUpdateIndex,h=this._propertiesChanged,d=o.guid,f=this._createVertexArray||this._textureAtlasGUID!==d;this._textureAtlasGUID=d;var g,_=e.passes,E=_.pick;if(f||!E&&this.computeNewBuffersUsage()){this._createVertexArray=!1;for(var T=0;T<ye;++T)h[T]=0;if(this._vaf=this._vaf&&this._vaf.destroy(),r>0){this._vaf=j(i,r,this._buffersUsage,this._instanced,this._batchTable),g=this._vaf.writers;for(var O=0;O<r;++O){var P=this._billboards[O];P._dirty=!1,J(this,i,u,g,P)}this._vaf.commit(xe(i))}this._billboardsToUpdateIndex=0}else if(c>0){var L=Ue;L.length=0,(h[ie]||h[de]||h[le])&&L.push(H),(h[ce]||h[oe]||h[se]||h[ue]||h[re])&&(L.push(V),this._instanced&&L.push(W)),(h[ce]||h[fe]||h[me])&&(L.push(Q),L.push(G)),(h[ce]||h[he])&&L.push(G),h[ae]&&L.push(W),h[pe]&&L.push(q),h[ge]&&L.push(Y),(h[_e]||h[ve]||h[ce]||h[ie])&&L.push(K),(h[ce]||h[ie])&&L.push(X);var N=L.length;if(g=this._vaf.writers,c/r>.1){for(var R=0;R<c;++R){var z=l[R];z._dirty=!1;for(var Z=0;Z<N;++Z)L[Z](this,i,u,g,z)}this._vaf.commit(xe(i))}else{for(var $=0;$<c;++$){var Ae=l[$];Ae._dirty=!1;for(var Ee=0;Ee<N;++Ee)L[Ee](this,i,u,g,Ae);this._instanced?this._vaf.subCommit(Ae._index,1):this._vaf.subCommit(4*Ae._index,4)}this._vaf.endSubCommits()}this._billboardsToUpdateIndex=0}if(c>1.5*r&&(l.length=r),s(this._vaf)&&s(this._vaf.va)){this._boundingVolumeDirty&&(this._boundingVolumeDirty=!1,t.transform(this._baseVolume,this.modelMatrix,this._baseVolumeWC));var Ce,Se=p.IDENTITY;e.mode===D.SCENE3D?(Se=this.modelMatrix,Ce=t.clone(this._baseVolumeWC,this._boundingVolume)):Ce=t.clone(this._baseVolume2D,this._boundingVolume),te(this,e,Ce);var Te=this._blendOption!==this.blendOption;if(this._blendOption=this.blendOption,Te){this._blendOption===M.OPAQUE||this._blendOption===M.OPAQUE_AND_TRANSLUCENT?this._rsOpaque=b.fromCache({depthTest:{enabled:!0,func:m.LESS},depthMask:!0}):this._rsOpaque=void 0;var Ie=this._blendOption===M.TRANSLUCENT;this._blendOption===M.TRANSLUCENT||this._blendOption===M.OPAQUE_AND_TRANSLUCENT?this._rsTranslucent=b.fromCache({depthTest:{enabled:!0,func:Ie?m.LEQUAL:m.LESS},depthMask:Ie,blending:I.ALPHA_BLEND}):this._rsTranslucent=void 0}this._shaderDisableDepthDistance=this._shaderDisableDepthDistance||0!==e.minimumDisableDepthTestDistance;var Me,Oe,Pe,De,Be,Le=v.maximumVertexTextureImageUnits>0;if(Te||this._shaderRotation!==this._compiledShaderRotation||this._shaderAlignedAxis!==this._compiledShaderAlignedAxis||this._shaderScaleByDistance!==this._compiledShaderScaleByDistance||this._shaderTranslucencyByDistance!==this._compiledShaderTranslucencyByDistance||this._shaderPixelOffsetScaleByDistance!==this._compiledShaderPixelOffsetScaleByDistance||this._shaderDistanceDisplayCondition!==this._compiledShaderDistanceDisplayCondition||this._shaderDisableDepthDistance!==this._compiledShaderDisableDepthDistance||this._shaderClampToGround!==this._compiledShaderClampToGround){Me=S,Oe=C,Be=[],s(this._batchTable)&&(Be.push("VECTOR_TILE"),Me=this._batchTable.getVertexShaderCallback(!1,"a_batchId",void 0)(Me),Oe=this._batchTable.getFragmentShaderCallback(!1,void 0)(Oe)),Pe=new x({defines:Be,sources:[Me]}),this._instanced&&Pe.defines.push("INSTANCED"),this._shaderRotation&&Pe.defines.push("ROTATION"),this._shaderAlignedAxis&&Pe.defines.push("ALIGNED_AXIS"),this._shaderScaleByDistance&&Pe.defines.push("EYE_DISTANCE_SCALING"),this._shaderTranslucencyByDistance&&Pe.defines.push("EYE_DISTANCE_TRANSLUCENCY"),this._shaderPixelOffsetScaleByDistance&&Pe.defines.push("EYE_DISTANCE_PIXEL_OFFSET"),this._shaderDistanceDisplayCondition&&Pe.defines.push("DISTANCE_DISPLAY_CONDITION"),this._shaderDisableDepthDistance&&Pe.defines.push("DISABLE_DEPTH_DISTANCE"),this._shaderClampToGround&&(Le?Pe.defines.push("VERTEX_DEPTH_CHECK"):Pe.defines.push("FRAGMENT_DEPTH_CHECK"));var Ne=s(this._batchTable)?"VECTOR_TILE":"";this._blendOption===M.OPAQUE_AND_TRANSLUCENT&&(De=new x({defines:["OPAQUE",Ne],sources:[Oe]}),this._shaderClampToGround&&(Le?De.defines.push("VERTEX_DEPTH_CHECK"):De.defines.push("FRAGMENT_DEPTH_CHECK")),this._sp=w.replaceCache({context:i,shaderProgram:this._sp,vertexShaderSource:Pe,fragmentShaderSource:De,attributeLocations:ne}),De=new x({defines:["TRANSLUCENT",Ne],sources:[Oe]}),this._shaderClampToGround&&(Le?De.defines.push("VERTEX_DEPTH_CHECK"):De.defines.push("FRAGMENT_DEPTH_CHECK")),this._spTranslucent=w.replaceCache({context:i,shaderProgram:this._spTranslucent,vertexShaderSource:Pe,fragmentShaderSource:De,attributeLocations:ne})),this._blendOption===M.OPAQUE&&(De=new x({defines:[Ne],sources:[Oe]}),this._shaderClampToGround&&(Le?De.defines.push("VERTEX_DEPTH_CHECK"):De.defines.push("FRAGMENT_DEPTH_CHECK")),this._sp=w.replaceCache({context:i,shaderProgram:this._sp,vertexShaderSource:Pe,fragmentShaderSource:De,attributeLocations:ne})),this._blendOption===M.TRANSLUCENT&&(De=new x({defines:[Ne],sources:[Oe]}),this._shaderClampToGround&&(Le?De.defines.push("VERTEX_DEPTH_CHECK"):De.defines.push("FRAGMENT_DEPTH_CHECK")),this._spTranslucent=w.replaceCache({context:i,shaderProgram:this._spTranslucent,vertexShaderSource:Pe,fragmentShaderSource:De,attributeLocations:ne})),this._compiledShaderRotation=this._shaderRotation,this._compiledShaderAlignedAxis=this._shaderAlignedAxis,this._compiledShaderScaleByDistance=this._shaderScaleByDistance,this._compiledShaderTranslucencyByDistance=this._shaderTranslucencyByDistance,this._compiledShaderPixelOffsetScaleByDistance=this._shaderPixelOffsetScaleByDistance,this._compiledShaderDistanceDisplayCondition=this._shaderDistanceDisplayCondition,this._compiledShaderDisableDepthDistance=this._shaderDisableDepthDistance,this._compiledShaderClampToGround=this._shaderClampToGround}var Re=e.commandList;if(_.render||_.pick){var ke,Fe=this._colorCommands,ze=this._blendOption===M.OPAQUE,je=this._blendOption===M.OPAQUE_AND_TRANSLUCENT,He=this._vaf.va,Ve=He.length,Qe=this._uniforms;s(this._batchTable)?(Qe=this._batchTable.getUniformMapCallback()(Qe),ke=this._batchTable.getPickId()):ke="v_pickColor",Fe.length=Ve;for(var Ge=je?2*Ve:Ve,We=0;We<Ge;++We){var qe=Fe[We];s(qe)||(qe=Fe[We]=new A);var Ye=ze||je&&We%2==0;qe.pass=Ye||!je?y.OPAQUE:y.TRANSLUCENT,qe.owner=this;var Ke=je?Math.floor(We/2):We;qe.boundingVolume=Ce,qe.modelMatrix=Se,qe.count=He[Ke].indicesCount,qe.shaderProgram=Ye?this._sp:this._spTranslucent,qe.uniformMap=Qe,qe.vertexArray=He[Ke].va,qe.renderState=Ye?this._rsOpaque:this._rsTranslucent,qe.debugShowBoundingVolume=this.debugShowBoundingVolume,qe.pickId=ke,this._instanced&&(qe.count=6,qe.instanceCount=r),Re.push(qe)}}}}},N.prototype.isDestroyed=function(){return!1},N.prototype.destroy=function(){return s(this._removeCallbackFunc)&&(this._removeCallbackFunc(),this._removeCallbackFunc=void 0),this._textureAtlas=this._destroyTextureAtlas&&this._textureAtlas&&this._textureAtlas.destroy(),this._sp=this._sp&&this._sp.destroy(),this._spTranslucent=this._spTranslucent&&this._spTranslucent.destroy(),this._vaf=this._vaf&&this._vaf.destroy(),R(this._billboards),l(this)},N}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({OPAQUE:0,TRANSLUCENT:1,OPAQUE_AND_TRANSLUCENT:2})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(99),n(17),n(25),n(1),n(0),n(2),n(21),n(3),n(20),n(446),n(345),n(346),n(153),n(158),n(560),n(297),n(559),n(132)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_){"use strict";function v(){this.textureInfo=void 0,this.dimensions=void 0,this.billboard=void 0}function A(e,t,n){this.labelCollection=e,this.index=t,this.dimensions=n}function y(e,t){var n=document.createElement("canvas");n.width=P.x,n.height=P.y;var r=n.getContext("2d");r.fillStyle="#fff",r.fillRect(0,0,n.width,n.height),e.addImage(O,n).then(function(e){t._whitePixelIndex=e})}function b(e,t,n,r,i,o,a){return B.font=t,B.fillColor=n,B.strokeColor=r,B.strokeWidth=i,a===_.CENTER?B.textBaseline="middle":a===_.TOP?B.textBaseline="top":B.textBaseline="bottom",B.fill=o===m.FILL||o===m.FILL_AND_OUTLINE,B.stroke=o===m.OUTLINE||o===m.FILL_AND_OUTLINE,l(e,B)}function w(e,t){t.textureInfo=void 0,t.dimensions=void 0;var n=t.billboard;i(n)&&(n.show=!1,n.image=void 0,i(n._removeCallbackFunc)&&(n._removeCallbackFunc(),n._removeCallbackFunc=void 0),e._spareBillboards.push(n),t.billboard=void 0)}function x(e,t,n,r){e.addImage(t,n).then(function(e){r.index=e})}function E(e,n){var r,o,a,s=n._renderedText,u=s.length,l=n._glyphs,c=l.length;if(u<c)for(o=u;o<c;++o)w(e,l[o]);l.length=u;var h=n._showBackground&&s.split("\n").join("").length>0,d=n._backgroundBillboard,p=e._backgroundBillboardCollection;h?(i(d)||(d=p.add({collection:e,image:O,imageSubRegion:D}),n._backgroundBillboard=d),d.color=n._backgroundColor,d.show=n._show,d.position=n._position,d.eyeOffset=n._eyeOffset,d.pixelOffset=n._pixelOffset,d.horizontalOrigin=f.LEFT,d.verticalOrigin=n._verticalOrigin,d.heightReference=n._heightReference,d.scale=n._scale,d.pickPrimitive=n,d.id=n._id,d.translucencyByDistance=n._translucencyByDistance,d.pixelOffsetScaleByDistance=n._pixelOffsetScaleByDistance,d.scaleByDistance=n._scaleByDistance,d.distanceDisplayCondition=n._distanceDisplayCondition,d.disableDepthTestDistance=n._disableDepthTestDistance):i(d)&&(p.remove(d),n._backgroundBillboard=d=void 0);var m=e._glyphTextureCache;for(a=0;a<u;++a){var g=s.charAt(a),_=n._font,y=n._fillColor,E=n._outlineColor,C=n._outlineWidth,S=n._style,T=n._verticalOrigin,I=JSON.stringify([g,_,y.toRgba(),E.toRgba(),C,+S,+T]),M=m[I];if(!i(M)){var P=b(g,_,y,E,C,S,T);M=new A(e,-1,P.dimensions),m[I]=M,P.width>0&&P.height>0&&x(e._textureAtlas,I,P,M)}if(r=l[a],i(r)?-1===M.index?w(e,r):i(r.textureInfo)&&(r.textureInfo=void 0):(r=new v,l[a]=r),r.textureInfo=M,r.dimensions=M.dimensions,-1!==M.index){var B=r.billboard,L=e._spareBillboards;i(B)||(L.length>0?B=L.pop():(B=e._billboardCollection.add({collection:e}),B._labelDimensions=new t,B._labelTranslate=new t),r.billboard=B),B.show=n._show,B.position=n._position,B.eyeOffset=n._eyeOffset,B.pixelOffset=n._pixelOffset,B.horizontalOrigin=f.LEFT,B.verticalOrigin=n._verticalOrigin,B.heightReference=n._heightReference,B.scale=n._scale,B.pickPrimitive=n,B.id=n._id,B.image=I,B.translucencyByDistance=n._translucencyByDistance,B.pixelOffsetScaleByDistance=n._pixelOffsetScaleByDistance,B.scaleByDistance=n._scaleByDistance,B.distanceDisplayCondition=n._distanceDisplayCondition,B.disableDepthTestDistance=n._disableDepthTestDistance,B._batchIndex=n._batchIndex}}n._repositionAllGlyphs=!0}function C(e,t,n){return t===f.CENTER?-e/2:t===f.RIGHT?-(e+n.x):n.x}function S(e,n){var r,o,a,s=e._glyphs,u=e._renderedText,l=0,c=0,h=[],p=Number.NEGATIVE_INFINITY,m=0,g=1,v=s.length,A=e._backgroundBillboard,y=t.clone(i(A)?e._backgroundPadding:t.ZERO,N);for(a=0;a<v;++a)"\n"===u.charAt(a)?(h.push(l),++g,l=0):(r=s[a],o=r.dimensions,m=Math.max(m,o.height-o.descent),p=Math.max(p,o.descent),l+=o.width-o.bounds.minx,a<v-1&&(l+=s[a+1].dimensions.bounds.minx),c=Math.max(c,l));h.push(l);var b=m+p,w=e._scale,x=e._horizontalOrigin,E=e._verticalOrigin,S=0,T=h[S],I=C(T,x,y),O=M*b,P=O*(g-1),D=c,B=b+P;i(A)&&(D+=2*y.x,B+=2*y.y,A._labelHorizontalOrigin=x),L.x=I*w*n,L.y=0;var R=0;for(a=0;a<v;++a)if("\n"===u.charAt(a))++S,R+=O,T=h[S],I=C(T,x,y),L.x=I*w*n;else if(r=s[a],o=r.dimensions,E===_.TOP?L.y=o.height-m-y.y:E===_.CENTER?L.y=(P+o.height-m)/2:E===_.BASELINE?L.y=P:L.y=P+p+y.y,L.y=(L.y-o.descent-R)*w*n,i(r.billboard)&&(r.billboard._setTranslate(L),r.billboard._labelDimensions.x=D,r.billboard._labelDimensions.y=B,r.billboard._labelHorizontalOrigin=x),a<v-1){var k=s[a+1];L.x+=(o.width-o.bounds.minx+k.dimensions.bounds.minx)*w*n}if(i(A)&&u.split("\n").join("").length>0&&(I=x===f.CENTER?-c/2-y.x:x===f.RIGHT?-(c+2*y.x):0,L.x=I*w*n,E===_.TOP?L.y=b-m-p:E===_.CENTER?L.y=(b-m)/2-p:E===_.BASELINE?L.y=-y.y-p:L.y=0,L.y=L.y*w*n,A.width=D,A.height=B,A._setTranslate(L),A._labelTranslate=t.clone(L,A._labelTranslate)),e.heightReference===d.CLAMP_TO_GROUND)for(a=0;a<v;++a){r=s[a];var F=r.billboard;i(F)&&(F._labelTranslate=t.clone(L,F._labelTranslate))}}function T(e,t){for(var n=t._glyphs,r=0,o=n.length;r<o;++r)w(e,n[r]);i(t._backgroundBillboard)&&(e._backgroundBillboardCollection.remove(t._backgroundBillboard),t._backgroundBillboard=void 0),t._labelCollection=void 0,i(t._removeCallbackFunc)&&t._removeCallbackFunc(),a(t)}function I(e){e=r(e,r.EMPTY_OBJECT),this._scene=e.scene,this._batchTable=e.batchTable,this._textureAtlas=void 0,this._backgroundTextureAtlas=void 0,this._whitePixelIndex=void 0,this._backgroundBillboardCollection=new c({scene:this._scene}),this._backgroundBillboardCollection.destroyTextureAtlas=!1,this._billboardCollection=new c({scene:this._scene,batchTable:this._batchTable}),this._billboardCollection.destroyTextureAtlas=!1,this._spareBillboards=[],this._glyphTextureCache={},this._labels=[],this._labelsToUpdate=[],this._totalGlyphCount=0,this._resolutionScale=void 0,this._highlightColor=n.clone(n.WHITE),this.modelMatrix=u.clone(r(e.modelMatrix,u.IDENTITY)),this.debugShowBoundingVolume=r(e.debugShowBoundingVolume,!1),this.blendOption=r(e.blendOption,h.OPAQUE_AND_TRANSLUCENT)}var M=1.2,O="ID_WHITE_PIXEL",P=new t(4,4),D=new e(1,1,1,1),B={},L=new t,N=new t;return o(I.prototype,{length:{get:function(){return this._labels.length}}}),I.prototype.add=function(e){var t=new p(e,this);return this._labels.push(t),this._labelsToUpdate.push(t),t},I.prototype.remove=function(e){if(i(e)&&e._labelCollection===this){var t=this._labels.indexOf(e);if(-1!==t)return this._labels.splice(t,1),T(this,e),!0}return!1},I.prototype.removeAll=function(){for(var e=this._labels,t=0,n=e.length;t<n;++t)T(this,e[t]);e.length=0},I.prototype.contains=function(e){return i(e)&&e._labelCollection===this},I.prototype.get=function(e){return this._labels[e]},I.prototype.update=function(e){var t=this._billboardCollection,n=this._backgroundBillboardCollection;t.modelMatrix=this.modelMatrix,t.debugShowBoundingVolume=this.debugShowBoundingVolume,n.modelMatrix=this.modelMatrix,n.debugShowBoundingVolume=this.debugShowBoundingVolume;var r=e.context;i(this._textureAtlas)||(this._textureAtlas=new g({context:r}),t.textureAtlas=this._textureAtlas),i(this._backgroundTextureAtlas)||(this._backgroundTextureAtlas=new g({context:r,initialSize:P}),n.textureAtlas=this._backgroundTextureAtlas,y(this._backgroundTextureAtlas,this));var o=r.uniformState,a=o.resolutionScale,s=this._resolutionScale!==a;this._resolutionScale=a;var u;u=s?this._labels:this._labelsToUpdate;for(var l=u.length,c=0;c<l;++c){var d=u[c];if(!d.isDestroyed()){var f=d._glyphs.length;d._rebindAllGlyphs&&(E(this,d),d._rebindAllGlyphs=!1),(s||d._repositionAllGlyphs)&&(S(d,a),d._repositionAllGlyphs=!1);var p=d._glyphs.length-f;this._totalGlyphCount+=p}}var m=n.length>0?h.TRANSLUCENT:this.blendOption;t.blendOption=m,n.blendOption=m,t._highlightColor=this._highlightColor,n._highlightColor=this._highlightColor,this._labelsToUpdate.length=0,n.update(e),t.update(e)},I.prototype.isDestroyed=function(){return!1},I.prototype.destroy=function(){return this.removeAll(),this._billboardCollection=this._billboardCollection.destroy(),this._textureAtlas=this._textureAtlas&&this._textureAtlas.destroy(),this._backgroundBillboardCollection=this._backgroundBillboardCollection.destroy(),this._backgroundTextureAtlas=this._backgroundTextureAtlas&&this._backgroundTextureAtlas.destroy(),a(this)},I}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e,t){var n,r,o=i(e),a=0;if(2===t)for(r=0;r<e.length;r++)n=e[r]-o,a+=n*n;else for(r=0;r<e.length;r++)a+=Math.pow(e[r]-o,t);return a}var i=n(123);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e.slice();if(Array.isArray(t)){o(n,t);for(var r=[],a=0;a<t.length;a++)r[a]=u(n,t[a]);return r}return i(n,s(n.length,t),0,n.length-1),u(n,t)}function i(e,t,n,r){t%1==0?l(e,t,n,r):(t=Math.floor(t),l(e,t,n,r),l(e,t+1,t+1,r))}function o(e,t){for(var n=[0],r=0;r<t.length;r++)n.push(s(e.length,t[r]));n.push(e.length-1),n.sort(a);for(var o=[0,n.length-1];o.length;){var u=Math.ceil(o.pop()),l=Math.floor(o.pop());if(!(u-l<=1)){var c=Math.floor((l+u)/2);i(e,n[c],n[l],n[u]),o.push(l,c,c,u)}}}function a(e,t){return e-t}function s(e,t){var n=e*t;return 1===t?e-1:0===t?0:n%1!=0?Math.ceil(n)-1:e%2==0?n-.5:n}var u=n(350),l=n(1194);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e.length*t;if(0===e.length)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return 1===t?e[e.length-1]:0===t?e[0]:n%1!=0?e[Math.ceil(n)-1]:e.length%2==0?(e[n-1]+e[n])/2:e[n]}e.exports=r},function(e,t,n){"use strict";function r(e){if(e.length<2)throw new Error("sampleVariance requires at least two data points");return i(e,2)/(e.length-1)}var i=n(348);e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(13),o=function(e){this.id=e,this.name=e,this.isSelectable=void 0,this.items=void 0,this.isOpen=void 0,this.isActive=void 0,this.isVisible=!0,this.color=void 0,i.track(this,["name","isSelectable","isVisible","color"])};r(o.prototype,{hasChildren:{get:function(){return this.items&&this.items.some(function(e){return e.isVisible})}}}),o.prototype.toggleOpen=function(){this.isOpen=!this.isOpen},o.prototype.toggleActive=function(){this.isActive=!this.isActive},e.exports=o},function(e,t,n){(function(e){var t;!function(t,n){e.exports=n()}(0,function(){"use strict";function n(){return ti.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(o(e,t))return!1;return!0}function s(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function h(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return St(e,t,n,r,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function p(e){return null==e._pf&&(e._pf=f()),e._pf}function m(e){if(null==e._isValid){var t=p(e),n=ni.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function g(e){var t=d(NaN);return null!=e?h(p(t),e):p(t).userInvalidated=!0,t}function _(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=p(t)),s(t._locale)||(e._locale=t._locale),ri.length>0)for(n=0;n<ri.length;n++)r=ri[n],i=t[r],s(i)||(e[r]=i);return e}function v(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ii&&(ii=!0,n.updateOffset(this),ii=!1)}function A(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function y(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function b(e,t){var r=!0;return h(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){var i,a,s,u=[];for(a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(s in arguments[0])o(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}y(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}function w(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),oi[e]||(y(t),oi[e]=!0)}function x(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(e){var t,n;for(n in e)o(e,n)&&(t=e[n],x(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(e,t){var n,r=h({},e);for(n in t)o(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)o(e,n)&&!o(t,n)&&i(e[n])&&(r[n]=h({},r[n]));return r}function S(e){null!=e&&this.set(e)}function T(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return x(r)?r.call(t,n):r}function I(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function M(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(di[e]=i),t&&(di[t[0]]=function(){return I(i.apply(this,arguments),t[1],t[2])}),n&&(di[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function O(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function P(e){var t,n,r=e.match(li);for(t=0,n=r.length;t<n;t++)di[r[t]]?r[t]=di[r[t]]:r[t]=O(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=x(r[i])?r[i].call(t,e):r[i];return o}}function D(e,t){return e.isValid()?(t=B(t,e.localeData()),hi[t]=hi[t]||P(t),hi[t](e)):e.localeData().invalidDate()}function B(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(ci.lastIndex=0;r>=0&&ci.test(e);)e=e.replace(ci,n),ci.lastIndex=0,r-=1;return e}function L(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(li).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}function N(){return this._invalidDate}function R(e){return this._ordinal.replace("%d",e)}function k(e,t,n,r){var i=this._relativeTime[n];return x(i)?i(e,t,n,r):i.replace(/%d/i,e)}function F(e,t){var n=this._relativeTime[e>0?"future":"past"];return x(n)?n(t):n.replace(/%s/i,t)}function U(e,t){var n=e.toLowerCase();gi[n]=gi[n+"s"]=gi[t]=e}function z(e){return"string"==typeof e?gi[e]||gi[e.toLowerCase()]:void 0}function j(e){var t,n,r={};for(n in e)o(e,n)&&(t=z(n))&&(r[t]=e[n]);return r}function H(e,t){_i[e]=t}function V(e){var t,n=[];for(t in e)o(e,t)&&n.push({unit:t,priority:_i[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}function Q(e){return e%4==0&&e%100!=0||e%400==0}function G(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function W(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=G(t)),n}function q(e,t){return function(r){return null!=r?(K(this,e,r),n.updateOffset(this,t),this):Y(this,e)}}function Y(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function K(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Q(e.year())&&1===e.month()&&29===e.date()?(n=W(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ae(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function X(e){return e=z(e),x(this[e])?this[e]():this}function Z(e,t){if("object"==typeof e){e=j(e);var n,r=V(e);for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(e=z(e),x(this[e]))return this[e](t);return this}function J(e,t,n){si[e]=x(t)?t:function(e,r){return e&&n?n:t}}function $(e,t){return o(si,e)?si[e](t._strict,t._locale):new RegExp(ee(e))}function ee(e){return te(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function te(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ne(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=W(e)}),n=0;n<e.length;n++)Ri[e[n]]=r}function re(e,t){ne(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ie(e,t,n){null!=t&&o(Ri,e)&&Ri[e](t,n._a,n,e)}function oe(e,t){return(e%t+t)%t}function ae(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=oe(t,12);return e+=(t-n)/12,1===n?Q(e)?29:28:31-n%7%2}function se(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Yi).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone}function ue(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Yi.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function le(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=Ni.call(this._shortMonthsParse,a),-1!==i?i:null):(i=Ni.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?-1!==(i=Ni.call(this._shortMonthsParse,a))?i:(i=Ni.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=Ni.call(this._longMonthsParse,a))?i:(i=Ni.call(this._shortMonthsParse,a),-1!==i?i:null)}function ce(e,t,n){var r,i,o;if(this._monthsParseExact)return le.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function he(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=W(t);else if(t=e.localeData().monthsParse(t),!u(t))return e;return n=Math.min(e.date(),ae(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function de(e){return null!=e?(he(this,e),n.updateOffset(this,!0),this):Y(this,"Month")}function fe(){return ae(this.year(),this.month())}function pe(e){return this._monthsParseExact?(o(this,"_monthsRegex")||ge.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Ki),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function me(e){return this._monthsParseExact?(o(this,"_monthsRegex")||ge.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Xi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ge(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=te(r[t]),i[t]=te(i[t]);for(t=0;t<24;t++)o[t]=te(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function _e(e){return Q(e)?366:365}function ve(){return Q(this.year())}function Ae(e,t,n,r,i,o,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function ye(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function be(e,t,n){var r=7+t-n;return-(7+ye(e,0,r).getUTCDay()-t)%7+r-1}function we(e,t,n,r,i){var o,a,s=(7+n-r)%7,u=be(e,r,i),l=1+7*(t-1)+s+u;return l<=0?(o=e-1,a=_e(o)+l):l>_e(e)?(o=e+1,a=l-_e(e)):(o=e,a=l),{year:o,dayOfYear:a}}function xe(e,t,n){var r,i,o=be(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+Ee(i,t,n)):a>Ee(e.year(),t,n)?(r=a-Ee(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Ee(e,t,n){var r=be(e,t,n),i=be(e+1,t,n);return(_e(e)-r+i)/7}function Ce(e){return xe(e,this._week.dow,this._week.doy).week}function Se(){return this._week.dow}function Te(){return this._week.doy}function Ie(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Me(e){var t=xe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Oe(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Pe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function De(e,t){return e.slice(t,7).concat(e.slice(0,t))}function Be(e,t){var n=r(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?De(n,this._week.dow):e?n[e.day()]:n}function Le(e){return!0===e?De(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ne(e){return!0===e?De(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Re(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=Ni.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=Ni.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=Ni.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?-1!==(i=Ni.call(this._weekdaysParse,a))?i:-1!==(i=Ni.call(this._shortWeekdaysParse,a))?i:(i=Ni.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===t?-1!==(i=Ni.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ni.call(this._weekdaysParse,a))?i:(i=Ni.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=Ni.call(this._minWeekdaysParse,a))?i:-1!==(i=Ni.call(this._weekdaysParse,a))?i:(i=Ni.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function ke(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Re.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Oe(e,this.localeData()),this.add(e-t,"d")):t}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ze(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function je(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=no),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function He(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ro),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ve(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=io),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qe(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=te(this.weekdaysMin(n,"")),i=te(this.weekdaysShort(n,"")),o=te(this.weekdays(n,"")),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);a.sort(e),s.sort(e),u.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ge(){return this.hours()%12||12}function We(){return this.hours()||24}function qe(e,t){M(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ye(e,t){return t._meridiemParse}function Ke(e){return"p"===(e+"").toLowerCase().charAt(0)}function Xe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ze(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function Je(e){return e?e.toLowerCase().replace("_","-"):e}function $e(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Je(e[o]).split("-"),t=i.length,n=Je(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=et(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&Ze(i,n)>=t-1)break;t--}o++}return oo}function et(n){var r=null;if(void 0===lo[n]&&void 0!==e&&e&&e.exports)try{r=oo._abbr,t,function(){var e=new Error('Cannot find module "./locale"');throw e.code="MODULE_NOT_FOUND",e}(),tt(r)}catch(e){lo[n]=null}return lo[n]}function tt(e,t){var n;return e&&(n=s(t)?it(e):nt(e,t),n?oo=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),oo._abbr}function nt(e,t){if(null!==t){var n,r=uo;if(t.abbr=e,null!=lo[e])w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=lo[e]._config;else if(null!=t.parentLocale)if(null!=lo[t.parentLocale])r=lo[t.parentLocale]._config;else{if(null==(n=et(t.parentLocale)))return co[t.parentLocale]||(co[t.parentLocale]=[]),co[t.parentLocale].push({name:e,config:t}),null;r=n._config}return lo[e]=new S(C(r,t)),co[e]&&co[e].forEach(function(e){nt(e.name,e.config)}),tt(e),lo[e]}return delete lo[e],null}function rt(e,t){if(null!=t){var n,r,i=uo;null!=lo[e]&&null!=lo[e].parentLocale?lo[e].set(C(lo[e]._config,t)):(r=et(e),null!=r&&(i=r._config),t=C(i,t),null==r&&(t.abbr=e),n=new S(t),n.parentLocale=lo[e],lo[e]=n),tt(e)}else null!=lo[e]&&(null!=lo[e].parentLocale?(lo[e]=lo[e].parentLocale,e===tt()&&tt(e)):null!=lo[e]&&delete lo[e]);return lo[e]}function it(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return oo;if(!r(e)){if(t=et(e))return t;e=[e]}return $e(e)}function ot(){return ai(lo)}function at(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[Fi]<0||n[Fi]>11?Fi:n[Ui]<1||n[Ui]>ae(n[ki],n[Fi])?Ui:n[zi]<0||n[zi]>24||24===n[zi]&&(0!==n[ji]||0!==n[Hi]||0!==n[Vi])?zi:n[ji]<0||n[ji]>59?ji:n[Hi]<0||n[Hi]>59?Hi:n[Vi]<0||n[Vi]>999?Vi:-1,p(e)._overflowDayOfYear&&(t<ki||t>Ui)&&(t=Ui),p(e)._overflowWeeks&&-1===t&&(t=Qi),p(e)._overflowWeekday&&-1===t&&(t=Gi),p(e).overflow=t),e}function st(e){var t,n,r,i,o,a,s=e._i,u=ho.exec(s)||fo.exec(s);if(u){for(p(e).iso=!0,t=0,n=mo.length;t<n;t++)if(mo[t][1].exec(u[1])){i=mo[t][0],r=!1!==mo[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=go.length;t<n;t++)if(go[t][1].exec(u[3])){o=(u[2]||" ")+go[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!po.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),At(e)}else e._isValid=!1}function ut(e,t,n,r,i,o){var a=[lt(e),qi.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function lt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ct(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ht(e,t,n){if(e){if(eo.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function dt(e,t,n){if(e)return Ao[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function ft(e){var t,n=vo.exec(ct(e._i));if(n){if(t=ut(n[4],n[3],n[2],n[5],n[6],n[7]),!ht(n[1],t,e))return;e._a=t,e._tzm=dt(n[8],n[9],n[10]),e._d=ye.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function pt(e){var t=_o.exec(e._i);if(null!==t)return void(e._d=new Date(+t[1]));st(e),!1===e._isValid&&(delete e._isValid,ft(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:n.createFromInputFallback(e)))}function mt(e,t,n){return null!=e?e:null!=t?t:n}function gt(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function _t(e){var t,n,r,i,o,a=[];if(!e._d){for(r=gt(e),e._w&&null==e._a[Ui]&&null==e._a[Fi]&&vt(e),null!=e._dayOfYear&&(o=mt(e._a[ki],r[ki]),(e._dayOfYear>_e(o)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=ye(o,0,e._dayOfYear),e._a[Fi]=n.getUTCMonth(),e._a[Ui]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[zi]&&0===e._a[ji]&&0===e._a[Hi]&&0===e._a[Vi]&&(e._nextDay=!0,e._a[zi]=0),e._d=(e._useUTC?ye:Ae).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[zi]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(p(e).weekdayMismatch=!0)}}function vt(e){var t,n,r,i,o,a,s,u,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=mt(t.GG,e._a[ki],xe(Tt(),1,4).year),r=mt(t.W,1),((i=mt(t.E,1))<1||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,l=xe(Tt(),o,a),n=mt(t.gg,e._a[ki],l.year),r=mt(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>Ee(n,o,a)?p(e)._overflowWeeks=!0:null!=u?p(e)._overflowWeekday=!0:(s=we(n,r,i,o,a),e._a[ki]=s.year,e._dayOfYear=s.dayOfYear)}function At(e){if(e._f===n.ISO_8601)return void st(e);if(e._f===n.RFC_2822)return void ft(e);e._a=[],p(e).empty=!0;var t,r,i,o,a,s,u=""+e._i,l=u.length,c=0;for(i=B(e._f,e._locale).match(li)||[],t=0;t<i.length;t++)o=i[t],r=(u.match($(o,e))||[])[0],r&&(a=u.substr(0,u.indexOf(r)),a.length>0&&p(e).unusedInput.push(a),u=u.slice(u.indexOf(r)+r.length),c+=r.length),di[o]?(r?p(e).empty=!1:p(e).unusedTokens.push(o),ie(o,r,e)):e._strict&&!r&&p(e).unusedTokens.push(o);p(e).charsLeftOver=l-c,u.length>0&&p(e).unusedInput.push(u),e._a[zi]<=12&&!0===p(e).bigHour&&e._a[zi]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[zi]=yt(e._locale,e._a[zi],e._meridiem),s=p(e).era,null!==s&&(e._a[ki]=e._locale.erasConvertYear(s,e._a[ki])),_t(e),at(e)}function yt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function bt(e){var t,n,r,i,o,a,s=!1;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,a=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],At(t),m(t)&&(a=!0),o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,s?o<r&&(r=o,n=t):(null==r||o<r||a)&&(r=o,n=t,a&&(s=!0));h(e,n||t)}function wt(e){if(!e._d){var t=j(e._i),n=void 0===t.day?t.date:t.day;e._a=c([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),_t(e)}}function xt(e){var t=new v(at(Et(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Et(e){var t=e._i,n=e._f;return e._locale=e._locale||it(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),A(t)?new v(at(t)):(l(t)?e._d=t:r(n)?bt(e):n?At(e):Ct(e),m(e)||(e._d=null),e))}function Ct(e){var t=e._i;s(t)?e._d=new Date(n.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?pt(e):r(t)?(e._a=c(t.slice(0),function(e){return parseInt(e,10)}),_t(e)):i(t)?wt(e):u(t)?e._d=new Date(t):n.createFromInputFallback(e)}function St(e,t,n,o,s){var u={};return!0!==t&&!1!==t||(o=t,t=void 0),!0!==n&&!1!==n||(o=n,n=void 0),(i(e)&&a(e)||r(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=n,u._i=e,u._f=t,u._strict=o,xt(u)}function Tt(e,t,n,r){return St(e,t,n,r,!1)}function It(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function Mt(){return It("isBefore",[].slice.call(arguments,0))}function Ot(){return It("isAfter",[].slice.call(arguments,0))}function Pt(e){var t,n,r=!1;for(t in e)if(o(e,t)&&(-1===Ni.call(xo,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<xo.length;++n)if(e[xo[n]]){if(r)return!1;parseFloat(e[xo[n]])!==W(e[xo[n]])&&(r=!0)}return!0}function Dt(){return this._isValid}function Bt(){return $t(NaN)}function Lt(e){var t=j(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=Pt(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=it(),this._bubble()}function Nt(e){return e instanceof Lt}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function kt(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&W(e[r])!==W(t[r]))&&a++;return a+o}function Ft(e,t){M(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}function Ut(e,t){var n,r,i,o=(t||"").match(e);return null===o?null:(n=o[o.length-1]||[],r=(n+"").match(Eo)||["-",0,0],i=60*r[1]+W(r[2]),0===i?0:"+"===r[0]?i:-i)}function zt(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(A(e)||l(e)?e.valueOf():Tt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Tt(e).local()}function jt(e){return-Math.round(e._d.getTimezoneOffset())}function Ht(e,t,r){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ut(Di,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=jt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?on(this,$t(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:jt(this)}function Vt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Qt(e){return this.utcOffset(0,e)}function Gt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(jt(this),"m")),this}function Wt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ut(Pi,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function qt(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Yt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kt(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),t=Et(t),t._a?(e=t._isUTC?d(t._a):Tt(t._a),this._isDSTShifted=this.isValid()&&kt(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Xt(){return!!this.isValid()&&!this._isUTC}function Zt(){return!!this.isValid()&&this._isUTC}function Jt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function $t(e,t){var n,r,i,a=e,s=null;return Nt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(s=Co.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:W(s[Ui])*n,h:W(s[zi])*n,m:W(s[ji])*n,s:W(s[Hi])*n,ms:W(Rt(1e3*s[Vi]))*n}):(s=So.exec(e))?(n="-"===s[1]?-1:1,a={y:en(s[2],n),M:en(s[3],n),w:en(s[4],n),d:en(s[5],n),h:en(s[6],n),m:en(s[7],n),s:en(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=nn(Tt(a.from),Tt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new Lt(a),Nt(e)&&o(e,"_locale")&&(r._locale=e._locale),Nt(e)&&o(e,"_isValid")&&(r._isValid=e._isValid),r}function en(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tn(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nn(e,t){var n;return e.isValid()&&t.isValid()?(t=zt(t,e),e.isBefore(t)?n=tn(e,t):(n=tn(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function rn(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(w(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=$t(n,r),on(this,i,e),this}}function on(e,t,r,i){var o=t._milliseconds,a=Rt(t._days),s=Rt(t._months);e.isValid()&&(i=null==i||i,s&&he(e,Y(e,"Month")+s*r),a&&K(e,"Date",Y(e,"Date")+a*r),o&&e._d.setTime(e._d.valueOf()+o*r),i&&n.updateOffset(e,a||s))}function an(e){return"string"==typeof e||e instanceof String}function sn(e){return A(e)||l(e)||an(e)||u(e)||ln(e)||un(e)||null===e||void 0===e}function un(e){var t,n,r=i(e)&&!a(e),s=!1,u=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<u.length;t+=1)n=u[t],s=s||o(e,n);return r&&s}function ln(e){var t=r(e),n=!1;return t&&(n=0===e.filter(function(t){return!u(t)&&an(e)}).length),t&&n}function cn(e){var t,n,r=i(e)&&!a(e),s=!1,u=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<u.length;t+=1)n=u[t],s=s||o(e,n);return r&&s}function hn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function dn(e,t){1===arguments.length&&(arguments[0]?sn(arguments[0])?(e=arguments[0],t=void 0):cn(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Tt(),i=zt(r,this).startOf("day"),o=n.calendarFormat(this,i)||"sameElse",a=t&&(x(t[o])?t[o].call(this,r):t[o]);return this.format(a||this.localeData().calendar(o,this,Tt(r)))}function fn(){return new v(this)}function pn(e,t){var n=A(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&(t=z(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function mn(e,t){var n=A(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&(t=z(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function gn(e,t,n,r){var i=A(e)?e:Tt(e),o=A(t)?t:Tt(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(r=r||"()",("("===r[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))}function _n(e,t){var n,r=A(e)?e:Tt(e);return!(!this.isValid()||!r.isValid())&&(t=z(t)||"millisecond","millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function vn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function An(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function yn(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=zt(e,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=z(t)){case"year":o=bn(this,r)/12;break;case"month":o=bn(this,r);break;case"quarter":o=bn(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:G(o)}function bn(e,t){if(e.date()<t.date())return-bn(t,e);var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function wn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xn(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?D(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):x(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",D(n,"Z")):D(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function En(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function Cn(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=D(this,e);return this.localeData().postformat(t)}function Sn(e,t){return this.isValid()&&(A(e)&&e.isValid()||Tt(e).isValid())?$t({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Tn(e){return this.from(Tt(),e)}function In(e,t){return this.isValid()&&(A(e)&&e.isValid()||Tt(e).isValid())?$t({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Mn(e){return this.to(Tt(),e)}function On(e){var t;return void 0===e?this._locale._abbr:(t=it(e),null!=t&&(this._locale=t),this)}function Pn(){return this._locale}function Dn(e,t){return(e%t+t)%t}function Bn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Bo:new Date(e,t,n).valueOf()}function Ln(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Bo:Date.UTC(e,t,n)}function Nn(e){var t,r;if(void 0===(e=z(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?Ln:Bn,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Dn(t+(this._isUTC?0:this.utcOffset()*Po),Do);break;case"minute":t=this._d.valueOf(),t-=Dn(t,Po);break;case"second":t=this._d.valueOf(),t-=Dn(t,Oo)}return this._d.setTime(t),n.updateOffset(this,!0),this}function Rn(e){var t,r;if(void 0===(e=z(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?Ln:Bn,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Do-Dn(t+(this._isUTC?0:this.utcOffset()*Po),Do)-1;break;case"minute":t=this._d.valueOf(),t+=Po-Dn(t,Po)-1;break;case"second":t=this._d.valueOf(),t+=Oo-Dn(t,Oo)-1}return this._d.setTime(t),n.updateOffset(this,!0),this}function kn(){return this._d.valueOf()-6e4*(this._offset||0)}function Fn(){return Math.floor(this.valueOf()/1e3)}function Un(){return new Date(this.valueOf())}function zn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function jn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Hn(){return this.isValid()?this.toISOString():null}function Vn(){return m(this)}function Qn(){return h({},p(this))}function Gn(){return p(this).overflow}function Wn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function qn(e,t){var r,i,o,a=this._eras||it("en")._eras;for(r=0,i=a.length;r<i;++r){switch(typeof a[r].since){case"string":o=n(a[r].since).startOf("day"),a[r].since=o.valueOf()}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":o=n(a[r].until).startOf("day").valueOf(),a[r].until=o.valueOf()}}return a}function Yn(e,t,n){var r,i,o,a,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[r];break;case"NNNN":if(o===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([o,a,s].indexOf(e)>=0)return u[r]}function Kn(e,t){var r=e.since<=e.until?1:-1;return void 0===t?n(e.since).year():n(e.since).year()+(t-e.offset)*r}function Xn(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Zn(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Jn(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function $n(){var e,t,r,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(r=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-n(o[e].since).year())*r+o[e].offset;return this.year()}function er(e){return o(this,"_erasNameRegex")||sr.call(this),e?this._erasNameRegex:this._erasRegex}function tr(e){return o(this,"_erasAbbrRegex")||sr.call(this),e?this._erasAbbrRegex:this._erasRegex}function nr(e){return o(this,"_erasNarrowRegex")||sr.call(this),e?this._erasNarrowRegex:this._erasRegex}function rr(e,t){return t.erasAbbrRegex(e)}function ir(e,t){return t.erasNameRegex(e)}function or(e,t){return t.erasNarrowRegex(e)}function ar(e,t){return t._eraYearOrdinalRegex||Mi}function sr(){var e,t,n=[],r=[],i=[],o=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(te(a[e].name)),n.push(te(a[e].abbr)),i.push(te(a[e].narrow)),o.push(te(a[e].name)),o.push(te(a[e].abbr)),o.push(te(a[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function ur(e,t){M(0,[e,e.length],0,t)}function lr(e){return mr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function cr(e){return mr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function hr(){return Ee(this.year(),1,4)}function dr(){return Ee(this.isoWeekYear(),1,4)}function fr(){var e=this.localeData()._week;return Ee(this.year(),e.dow,e.doy)}function pr(){var e=this.localeData()._week;return Ee(this.weekYear(),e.dow,e.doy)}function mr(e,t,n,r,i){var o;return null==e?xe(this,r,i).year:(o=Ee(e,r,i),t>o&&(t=o),gr.call(this,e,t,n,r,i))}function gr(e,t,n,r,i){var o=we(e,t,n,r,i),a=ye(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function _r(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function vr(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Ar(e,t){t[Vi]=W(1e3*("0."+e))}function yr(){return this._isUTC?"UTC":""}function br(){return this._isUTC?"Coordinated Universal Time":""}function wr(e){return Tt(1e3*e)}function xr(){return Tt.apply(null,arguments).parseZone()}function Er(e){return e}function Cr(e,t,n,r){var i=it(),o=d().set(r,t);return i[n](o,e)}function Sr(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return Cr(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Cr(e,r,n,"month");return i}function Tr(e,t,n,r){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var i,o=it(),a=e?o._week.dow:0,s=[];if(null!=n)return Cr(t,(n+a)%7,r,"day");for(i=0;i<7;i++)s[i]=Cr(t,(i+a)%7,r,"day");return s}function Ir(e,t){return Sr(e,t,"months")}function Mr(e,t){return Sr(e,t,"monthsShort")}function Or(e,t,n){return Tr(e,t,n,"weekdays")}function Pr(e,t,n){return Tr(e,t,n,"weekdaysShort")}function Dr(e,t,n){return Tr(e,t,n,"weekdaysMin")}function Br(){var e=this._data;return this._milliseconds=jo(this._milliseconds),this._days=jo(this._days),this._months=jo(this._months),e.milliseconds=jo(e.milliseconds),e.seconds=jo(e.seconds),e.minutes=jo(e.minutes),e.hours=jo(e.hours),e.months=jo(e.months),e.years=jo(e.years),this}function Lr(e,t,n,r){var i=$t(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Nr(e,t){return Lr(this,e,t,1)}function Rr(e,t){return Lr(this,e,t,-1)}function kr(e){return e<0?Math.floor(e):Math.ceil(e)}function Fr(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*kr(zr(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=G(o/1e3),u.seconds=e%60,t=G(e/60),u.minutes=t%60,n=G(t/60),u.hours=n%24,a+=G(n/24),i=G(Ur(a)),s+=i,a-=kr(zr(i)),r=G(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function Ur(e){return 4800*e/146097}function zr(e){return 146097*e/4800}function jr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=z(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ur(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(zr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Hr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*W(this._months/12):NaN}function Vr(e){return function(){return this.as(e)}}function Qr(){return $t(this)}function Gr(e){return e=z(e),this.isValid()?this[e+"s"]():NaN}function Wr(e){return function(){return this.isValid()?this._data[e]:NaN}}function qr(){return G(this.days()/7)}function Yr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Kr(e,t,n,r){var i=$t(e).abs(),o=ia(i.as("s")),a=ia(i.as("m")),s=ia(i.as("h")),u=ia(i.as("d")),l=ia(i.as("M")),c=ia(i.as("w")),h=ia(i.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),d=d||l<=1&&["M"]||l<n.M&&["MM",l]||h<=1&&["y"]||["yy",h],d[2]=t,d[3]=+e>0,d[4]=r,Yr.apply(null,d)}function Xr(e){return void 0===e?ia:"function"==typeof e&&(ia=e,!0)}function Zr(e,t){return void 0!==oa[e]&&(void 0===t?oa[e]:(oa[e]=t,"s"===e&&(oa.ss=t-1),!0))}function Jr(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=oa;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(o=Object.assign({},oa,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),n=this.localeData(),r=Kr(this,!i,o,n),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}function $r(e){return(e>0)-(e<0)||+e}function ei(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,a,s,u=aa(this._milliseconds)/1e3,l=aa(this._days),c=aa(this._months),h=this.asSeconds();return h?(e=G(u/60),t=G(e/60),u%=60,e%=60,n=G(c/12),c%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=$r(this._months)!==$r(h)?"-":"",a=$r(this._days)!==$r(h)?"-":"",s=$r(this._milliseconds)!==$r(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(l?a+l+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var ti,ni;ni=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var ri=n.momentProperties=[],ii=!1,oi={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var ai;ai=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};var si,ui={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},li=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ci=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,hi={},di={},fi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},pi=/\d{1,2}/,mi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},gi={},_i={},vi=/\d/,Ai=/\d\d/,yi=/\d{3}/,bi=/\d{4}/,wi=/[+-]?\d{6}/,xi=/\d\d?/,Ei=/\d\d\d\d?/,Ci=/\d\d\d\d\d\d?/,Si=/\d{1,3}/,Ti=/\d{1,4}/,Ii=/[+-]?\d{1,6}/,Mi=/\d+/,Oi=/[+-]?\d+/,Pi=/Z|[+-]\d\d:?\d\d/gi,Di=/Z|[+-]\d\d(?::?\d\d)?/gi,Bi=/[+-]?\d+(\.\d{1,3})?/,Li=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;si={};var Ni,Ri={},ki=0,Fi=1,Ui=2,zi=3,ji=4,Hi=5,Vi=6,Qi=7,Gi=8;Ni=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},M("M",["MM",2],"Mo",function(){return this.month()+1}),M("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),M("MMMM",0,0,function(e){return this.localeData().months(this,e)}),U("month","M"),H("month",8),J("M",xi),J("MM",xi,Ai),J("MMM",function(e,t){return t.monthsShortRegex(e)}),J("MMMM",function(e,t){return t.monthsRegex(e)}),ne(["M","MM"],function(e,t){t[Fi]=W(e)-1}),ne(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Fi]=i:p(n).invalidMonth=e});var Wi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Yi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ki=Li,Xi=Li;M("Y",0,0,function(){var e=this.year();return e<=9999?I(e,4):"+"+e}),M(0,["YY",2],0,function(){return this.year()%100}),M(0,["YYYY",4],0,"year"),M(0,["YYYYY",5],0,"year"),M(0,["YYYYYY",6,!0],0,"year"),U("year","y"),H("year",1),J("Y",Oi),J("YY",xi,Ai),J("YYYY",Ti,bi),J("YYYYY",Ii,wi),J("YYYYYY",Ii,wi),ne(["YYYYY","YYYYYY"],ki),ne("YYYY",function(e,t){t[ki]=2===e.length?n.parseTwoDigitYear(e):W(e)}),ne("YY",function(e,t){t[ki]=n.parseTwoDigitYear(e)}),ne("Y",function(e,t){t[ki]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return W(e)+(W(e)>68?1900:2e3)};var Zi=q("FullYear",!0);M("w",["ww",2],"wo","week"),M("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),H("week",5),H("isoWeek",5),J("w",xi),J("ww",xi,Ai),J("W",xi),J("WW",xi,Ai),re(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=W(e)});var Ji={dow:0,doy:6};M("d",0,"do","day"),M("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),M("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),M("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),M("e",0,0,"weekday"),M("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),J("d",xi),J("e",xi),J("E",xi),J("dd",function(e,t){return t.weekdaysMinRegex(e)}),J("ddd",function(e,t){return t.weekdaysShortRegex(e)}),J("dddd",function(e,t){return t.weekdaysRegex(e)}),re(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),re(["d","e","E"],function(e,t,n,r){t[r]=W(e)});var $i="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),eo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),to="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),no=Li,ro=Li,io=Li;M("H",["HH",2],0,"hour"),M("h",["hh",2],0,Ge),M("k",["kk",2],0,We),M("hmm",0,0,function(){return""+Ge.apply(this)+I(this.minutes(),2)}),M("hmmss",0,0,function(){return""+Ge.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),M("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),M("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),qe("a",!0),qe("A",!1),U("hour","h"),H("hour",13),J("a",Ye),J("A",Ye),J("H",xi),J("h",xi),J("k",xi),J("HH",xi,Ai),J("hh",xi,Ai),J("kk",xi,Ai),J("hmm",Ei),J("hmmss",Ci),J("Hmm",Ei),J("Hmmss",Ci),ne(["H","HH"],zi),ne(["k","kk"],function(e,t,n){var r=W(e);t[zi]=24===r?0:r}),ne(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ne(["h","hh"],function(e,t,n){t[zi]=W(e),p(n).bigHour=!0}),ne("hmm",function(e,t,n){var r=e.length-2;t[zi]=W(e.substr(0,r)),t[ji]=W(e.substr(r)),p(n).bigHour=!0}),ne("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[zi]=W(e.substr(0,r)),t[ji]=W(e.substr(r,2)),t[Hi]=W(e.substr(i)),p(n).bigHour=!0}),ne("Hmm",function(e,t,n){var r=e.length-2;t[zi]=W(e.substr(0,r)),t[ji]=W(e.substr(r))}),ne("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[zi]=W(e.substr(0,r)),t[ji]=W(e.substr(r,2)),t[Hi]=W(e.substr(i))});var oo,ao=/[ap]\.?m?\.?/i,so=q("Hours",!0),uo={calendar:ui,longDateFormat:fi,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:pi,relativeTime:mi,months:Wi,monthsShort:qi,week:Ji,weekdays:$i,weekdaysMin:to,weekdaysShort:eo,meridiemParse:ao},lo={},co={},ho=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,po=/Z|[+-]\d\d(?::?\d\d)?/,mo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],go=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_o=/^\/?Date\((-?\d+)/i,vo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ao={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};n.createFromInputFallback=b("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var yo=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),bo=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}),wo=function(){return Date.now?Date.now():+new Date},xo=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ft("Z",":"),Ft("ZZ",""),J("Z",Di),J("ZZ",Di),ne(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ut(Di,e)});var Eo=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Co=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,So=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;$t.fn=Lt.prototype,$t.invalid=Bt;var To=rn(1,"add"),Io=rn(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Mo=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),Oo=1e3,Po=60*Oo,Do=60*Po,Bo=3506328*Do;M("N",0,0,"eraAbbr"),M("NN",0,0,"eraAbbr"),M("NNN",0,0,"eraAbbr"),M("NNNN",0,0,"eraName"),M("NNNNN",0,0,"eraNarrow"),M("y",["y",1],"yo","eraYear"),M("y",["yy",2],0,"eraYear"),M("y",["yyy",3],0,"eraYear"),M("y",["yyyy",4],0,"eraYear"),J("N",rr),J("NN",rr),J("NNN",rr),J("NNNN",ir),J("NNNNN",or),ne(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?p(n).era=i:p(n).invalidEra=e}),J("y",Mi),J("yy",Mi),J("yyy",Mi),J("yyyy",Mi),J("yo",ar),ne(["y","yy","yyy","yyyy"],ki),ne(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ki]=n._locale.eraYearOrdinalParse(e,i):t[ki]=parseInt(e,10)}),M(0,["gg",2],0,function(){return this.weekYear()%100}),M(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ur("gggg","weekYear"),ur("ggggg","weekYear"),ur("GGGG","isoWeekYear"),ur("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),J("G",Oi),J("g",Oi),J("GG",xi,Ai),J("gg",xi,Ai),J("GGGG",Ti,bi),J("gggg",Ti,bi),J("GGGGG",Ii,wi),J("ggggg",Ii,wi),re(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=W(e)}),re(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),M("Q",0,"Qo","quarter"),U("quarter","Q"),H("quarter",7),J("Q",vi),ne("Q",function(e,t){t[Fi]=3*(W(e)-1)}),M("D",["DD",2],"Do","date"),U("date","D"),H("date",9),J("D",xi),J("DD",xi,Ai),J("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ne(["D","DD"],Ui),ne("Do",function(e,t){t[Ui]=W(e.match(xi)[0])});var Lo=q("Date",!0);M("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),H("dayOfYear",4),J("DDD",Si),J("DDDD",yi),ne(["DDD","DDDD"],function(e,t,n){n._dayOfYear=W(e)}),M("m",["mm",2],0,"minute"),U("minute","m"),H("minute",14),J("m",xi),J("mm",xi,Ai),ne(["m","mm"],ji);var No=q("Minutes",!1);M("s",["ss",2],0,"second"),U("second","s"),H("second",15),J("s",xi),J("ss",xi,Ai),ne(["s","ss"],Hi);var Ro=q("Seconds",!1);M("S",0,0,function(){return~~(this.millisecond()/100)}),M(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),M(0,["SSS",3],0,"millisecond"),M(0,["SSSS",4],0,function(){return 10*this.millisecond()}),M(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),M(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),M(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),M(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),M(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),U("millisecond","ms"),H("millisecond",16),J("S",Si,vi),J("SS",Si,Ai),J("SSS",Si,yi);var ko,Fo;for(ko="SSSS";ko.length<=9;ko+="S")J(ko,Mi);for(ko="S";ko.length<=9;ko+="S")ne(ko,Ar);Fo=q("Milliseconds",!1),M("z",0,0,"zoneAbbr"),M("zz",0,0,"zoneName");var Uo=v.prototype;Uo.add=To,Uo.calendar=dn,Uo.clone=fn,Uo.diff=yn,Uo.endOf=Rn,Uo.format=Cn,Uo.from=Sn,Uo.fromNow=Tn,Uo.to=In,Uo.toNow=Mn,Uo.get=X,Uo.invalidAt=Gn,Uo.isAfter=pn,Uo.isBefore=mn,Uo.isBetween=gn,Uo.isSame=_n,Uo.isSameOrAfter=vn,Uo.isSameOrBefore=An,Uo.isValid=Vn,Uo.lang=Mo,Uo.locale=On,Uo.localeData=Pn,Uo.max=bo,Uo.min=yo,Uo.parsingFlags=Qn,Uo.set=Z,Uo.startOf=Nn,Uo.subtract=Io,Uo.toArray=zn,Uo.toObject=jn,Uo.toDate=Un,Uo.toISOString=xn,Uo.inspect=En,"undefined"!=typeof Symbol&&null!=Symbol.for&&(Uo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Uo.toJSON=Hn,Uo.toString=wn,Uo.unix=Fn,Uo.valueOf=kn,Uo.creationData=Wn,Uo.eraName=Xn,Uo.eraNarrow=Zn,Uo.eraAbbr=Jn,Uo.eraYear=$n,Uo.year=Zi,Uo.isLeapYear=ve,Uo.weekYear=lr,Uo.isoWeekYear=cr,Uo.quarter=Uo.quarters=_r,Uo.month=de,Uo.daysInMonth=fe,Uo.week=Uo.weeks=Ie,Uo.isoWeek=Uo.isoWeeks=Me,Uo.weeksInYear=fr,Uo.weeksInWeekYear=pr,Uo.isoWeeksInYear=hr,Uo.isoWeeksInISOWeekYear=dr,Uo.date=Lo,Uo.day=Uo.days=Fe,Uo.weekday=Ue,Uo.isoWeekday=ze,Uo.dayOfYear=vr,Uo.hour=Uo.hours=so,Uo.minute=Uo.minutes=No,Uo.second=Uo.seconds=Ro,Uo.millisecond=Uo.milliseconds=Fo,Uo.utcOffset=Ht,Uo.utc=Qt,Uo.local=Gt,Uo.parseZone=Wt,Uo.hasAlignedHourOffset=qt,Uo.isDST=Yt,Uo.isLocal=Xt,Uo.isUtcOffset=Zt,Uo.isUtc=Jt,Uo.isUTC=Jt,Uo.zoneAbbr=yr,Uo.zoneName=br,Uo.dates=b("dates accessor is deprecated. Use date instead.",Lo),Uo.months=b("months accessor is deprecated. Use month instead",de),Uo.years=b("years accessor is deprecated. Use year instead",Zi),Uo.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Vt),Uo.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kt);var zo=S.prototype;zo.calendar=T,zo.longDateFormat=L,zo.invalidDate=N,zo.ordinal=R,zo.preparse=Er,zo.postformat=Er,zo.relativeTime=k,zo.pastFuture=F,zo.set=E,zo.eras=qn,zo.erasParse=Yn,zo.erasConvertYear=Kn,zo.erasAbbrRegex=tr,zo.erasNameRegex=er,zo.erasNarrowRegex=nr,zo.months=se,zo.monthsShort=ue,zo.monthsParse=ce,zo.monthsRegex=me,zo.monthsShortRegex=pe,zo.week=Ce,zo.firstDayOfYear=Te,zo.firstDayOfWeek=Se,zo.weekdays=Be,zo.weekdaysMin=Ne,zo.weekdaysShort=Le,zo.weekdaysParse=ke,zo.weekdaysRegex=je,zo.weekdaysShortRegex=He,zo.weekdaysMinRegex=Ve,zo.isPM=Ke,zo.meridiem=Xe,tt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===W(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=b("moment.lang is deprecated. Use moment.locale instead.",tt),n.langData=b("moment.langData is deprecated. Use moment.localeData instead.",it);var jo=Math.abs,Ho=Vr("ms"),Vo=Vr("s"),Qo=Vr("m"),Go=Vr("h"),Wo=Vr("d"),qo=Vr("w"),Yo=Vr("M"),Ko=Vr("Q"),Xo=Vr("y"),Zo=Wr("milliseconds"),Jo=Wr("seconds"),$o=Wr("minutes"),ea=Wr("hours"),ta=Wr("days"),na=Wr("months"),ra=Wr("years"),ia=Math.round,oa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},aa=Math.abs,sa=Lt.prototype;
//! moment.js
return sa.isValid=Dt,sa.abs=Br,sa.add=Nr,sa.subtract=Rr,sa.as=jr,sa.asMilliseconds=Ho,sa.asSeconds=Vo,sa.asMinutes=Qo,sa.asHours=Go,sa.asDays=Wo,sa.asWeeks=qo,sa.asMonths=Yo,sa.asQuarters=Ko,sa.asYears=Xo,sa.valueOf=Hr,sa._bubble=Fr,sa.clone=Qr,sa.get=Gr,sa.milliseconds=Zo,sa.seconds=Jo,sa.minutes=$o,sa.hours=ea,sa.days=ta,sa.weeks=qr,sa.months=na,sa.years=ra,sa.humanize=Jr,sa.toISOString=ei,sa.toString=ei,sa.toJSON=ei,sa.locale=On,sa.localeData=Pn,sa.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ei),sa.lang=Mo,M("X",0,0,"unix"),M("x",0,0,"valueOf"),J("x",Oi),J("X",Bi),ne("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),ne("x",function(e,t,n){n._d=new Date(W(e))}),n.version="2.29.1",function(e){ti=e}(Tt),n.fn=Uo,n.min=Mt,n.max=Ot,n.now=wo,n.utc=d,n.unix=wr,n.months=Ir,n.isDate=l,n.locale=tt,n.invalid=g,n.duration=$t,n.isMoment=A,n.weekdays=Or,n.parseZone=xr,n.localeData=it,n.isDuration=Nt,n.monthsShort=Mr,n.weekdaysMin=Dr,n.defineLocale=nt,n.updateLocale=rt,n.locales=ot,n.weekdaysShort=Pr,n.normalizeUnits=z,n.relativeTimeRounding=Xr,n.relativeTimeThreshold=Zr,n.calendarFormat=hn,n.prototype=Uo,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n})}).call(t,n(311)(e))},function(e,t,n){"use strict";function r(e,t,n){return u(e.status_uri).then(function(i){if("finished"!==i.queueing_status){if(o(i.stage_description)&&(t.loadingMessage=i.stage_description),"failed"===i.queueing_status)throw new l({title:"Service invocation failed",message:'An error occurred on the server while computing "'+t.name+'".'});if(t.isEnabled)return c(r.bind(void 0,e,t,n),d)}return u(e.uri).then(function(r){return t.isEnabled=!1,{startDate:n,finishDate:a.now(),url:e.uri,result:r}})})}var i=n(173),o=n(0),a=n(36),s=n(105),u=n(44),l=n(22),c=n(81),h=function(e,t,n,o){var u=new i(e);u.name=t;var l=a.now(),c=s({url:n,method:"POST",data:JSON.stringify(o)}).then(function(e){return r(JSON.parse(e),u,l)});return u.loadPromise=c,u.isEnabled=!0,c},d=1e3;e.exports=h},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(2),a=n(3),s=n(86),u=n(14),l=n(13),c=n(1236),h=n(205),d=function(e){if(!i(e)||!i(e.regionProvider))throw new a("options.regionProvider is required.");s.call(this,e),this._regionProvider=e.regionProvider,this.singleSelect=r(e.singleSelect,!1),l.track(this,["_regionProvider"])};u(s,d),o(d.prototype,{type:{get:function(){return"regionData"}},regionProvider:{get:function(){return h.resolveRegionProvider(this._regionProvider)}}}),d.prototype.getEnabledItemsWithMatchingRegionType=function(){for(var e=[],t=this.terria.nowViewing.items,n=this.regionProvider,r=0;r<t.length;++r){var o=t[r];i(o.regionMapping)&&i(o.regionMapping.regionDetails)&&o.regionMapping.regionDetails.length>0&&o.regionMapping.regionDetails[0].regionProvider===n&&e.push(o)}return e},d.prototype.getRegionDataValue=function(){var e,t,n,r=this.regionProvider,o=[],a={},s=[],u=this.value;for(var l in u)if(u.hasOwnProperty(l)){if(!(e=u[l])||e.regionProvider!==r)continue;s.push(l),n=e.regionColumn.values;for(var h=0;h<n.length;++h)t=a[n[h]],i(t)||(t=a[n[h]]=o.length,o.push(n[h]))}var d,f,p,m,g,_,v;if(this.singleSelect){for(f=[],p=0;p<s.length;++p)if((e=u[s[p]])&&e.regionProvider===r)for(g=e.regionColumn,n=g.values,_=e.valueColumn,v=_.values,m=0;m<o.length;++m)t=a[n[m]],f[t]=v[m]||0}else for(d=[],p=0;p<s.length;++p)if(e=u[s[p]])for(g=e.regionColumn,n=g.values,_=e.valueColumn,v=_.values,m=0;m<o.length;++m){t=a[n[m]];var A=d[t];i(A)||(A=d[t]=[]),A[p]=v[m]||0}return new c(o,s,d,f)},e.exports=d},function(e,t){e.exports=function e(t,n){"use strict";var r,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,l=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},h=c(t).replace(a,"")||"",d=c(n).replace(a,"")||"",f=h.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=d.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(h.match(u),16)||1!==f.length&&h.match(s)&&Date.parse(h),g=parseInt(d.match(u),16)||m&&d.match(s)&&Date.parse(d)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var _=0,v=Math.max(f.length,p.length);_<v;_++){if(r=!(f[_]||"").match(l)&&parseFloat(f[_])||f[_]||0,i=!(p[_]||"").match(l)&&parseFloat(p[_])||p[_]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!=typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";var t={};return t.defaultKey=void 0,t.getKey=function(n){return e(n)?n:t.defaultKey},t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({AERIAL:"Aerial",AERIAL_WITH_LABELS:"AerialWithLabels",ROAD:"Road",CANVAS_DARK:"CanvasDark",CANVAS_LIGHT:"CanvasLight",CANVAS_GRAY:"CanvasGray",ORDNANCE_SURVEY:"OrdnanceSurvey",COLLINS_BART:"CollinsBart"})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({SCALAR:"SCALAR",VEC2:"VEC2",VEC3:"VEC3",VEC4:"VEC4",MAT2:"MAT2",MAT3:"MAT3",MAT4:"MAT4"})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(31),n(1),n(0)],void 0!==(i=function(e,t,n){"use strict";function r(e,t){this.json=e,this.buffer=t,this._cachedTypedArrays={},this.featuresLength=0}function i(t,r,i,o,a,s){var u=t._cachedTypedArrays,l=u[r];return n(l)||(l=e.createArrayBufferView(i,t.buffer.buffer,t.buffer.byteOffset+s,a*o),u[r]=l),l}function o(t,r,i,o){var a=t._cachedTypedArrays,s=a[r];return n(s)||(s=e.createTypedArray(i,o),a[r]=s),s}return r.prototype.getGlobalProperty=function(r,o,a){var s=this.json[r];if(n(s))return n(s.byteOffset)?(o=t(o,e.UNSIGNED_INT),a=t(a,1),i(this,r,o,a,1,s.byteOffset)):s},r.prototype.getPropertyArray=function(t,r,a){var s=this.json[t];if(n(s))return n(s.byteOffset)?(n(s.componentType)&&(r=e.fromName(s.componentType)),i(this,t,r,a,this.featuresLength,s.byteOffset)):o(this,t,r,s)},r.prototype.getProperty=function(e,t,r,i,o){var a=this.json[e];if(n(a)){var s=this.getPropertyArray(e,t,r);if(1===r)return s[i];for(var u=0;u<r;++u)o[u]=s[r*i+u];return o}},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(25),n(31),n(1),n(0),n(2),n(21),n(49),n(20),n(54),n(93),n(64),n(60),n(47),n(68),n(77),n(52),n(115),n(528),n(1265),n(70),n(163),n(159),n(302),n(1266),n(304),n(305),n(265)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T){"use strict";function I(n){n=r(n,r.EMPTY_OBJECT),this._batchTable=n.batchTable,this._batchIds=n.batchIds,this._positions=n.positions,this._vertexBatchIds=n.vertexBatchIds,this._indices=n.indices,this._indexCounts=n.indexCounts,this._indexOffsets=n.indexOffsets,this._batchedIndices=n.batchedIndices,this._boundingVolume=n.boundingVolume,this._boundingVolumes=n.boundingVolumes,this._center=r(n.center,e.ZERO),this._va=void 0,this._sp=void 0,this._spStencil=void 0,this._spPick=void 0,this._uniformMap=void 0,this._vaSwap=void 0,this._rsStencilPreloadPass=void 0,this._rsStencilDepthPass=void 0,this._rsColorPass=void 0,this._rsPickPass=void 0,this._rsWireframe=void 0,this._commands=[],this._commandsIgnoreShow=[],this._pickCommands=[],this._constantColor=t.clone(t.WHITE),this._highlightColor=this._constantColor,this._batchDirty=!0,this._pickCommandsDirty=!0,this._framesSinceLastRebatch=0,this._updatingAllCommands=!1,this._trianglesLength=this._indices.length/3,this._geometryByteLength=this._indices.byteLength+this._positions.byteLength+this._vertexBatchIds.byteLength,this.debugWireframe=!1,this._debugWireframe=this.debugWireframe,this._wireframeDirty=!1,this.forceRebatch=!1,this.classificationType=r(n.classificationType,w.BOTH),this._vertexShaderSource=n._vertexShaderSource,this._fragmentShaderSource=n._fragmentShaderSource,this._attributeLocations=n._attributeLocations,this._uniformMap=n._uniformMap,this._pickId=n._pickId,this._modelMatrix=n._modelMatrix,this._boundingSphere=n._boundingSphere,this._batchIdLookUp={};for(var i=this._batchIds.length,o=0;o<i;++o){var a=this._batchIds[o];this._batchIdLookUp[a]=o}}function M(e,t){if(!i(e._va)){var r=c.createVertexBuffer({context:t,typedArray:e._positions,usage:h.STATIC_DRAW}),o=c.createVertexBuffer({context:t,typedArray:e._vertexBatchIds,usage:h.STATIC_DRAW}),a=c.createIndexBuffer({context:t,typedArray:e._indices,usage:h.DYNAMIC_DRAW,indexDatatype:2===e._indices.BYTES_PER_ELEMENT?s.UNSIGNED_SHORT:s.UNSIGNED_INT}),u=[{index:0,vertexBuffer:r,componentDatatype:n.fromTypedArray(e._positions),componentsPerAttribute:3},{index:1,vertexBuffer:o,componentDatatype:n.fromTypedArray(e._vertexBatchIds),componentsPerAttribute:1}];e._va=new _({context:t,attributes:u,indexBuffer:a}),t.webgl2&&(e._vaSwap=new _({context:t,attributes:u,indexBuffer:c.createIndexBuffer({context:t,sizeInBytes:a.sizeInBytes,usage:h.DYNAMIC_DRAW,indexDatatype:a.indexDatatype})})),e._batchedPositions=void 0,e._transferrableBatchIds=void 0,e._vertexBatchIds=void 0,e._verticesPromise=void 0}}function O(e,t){if(!i(e._sp)){var n=e._batchTable,o=r(e._attributeLocations,W),a=e._pickId,s=e._vertexShaderSource,u=e._fragmentShaderSource;if(i(s))return e._sp=m.fromCache({context:t,vertexShaderSource:s,fragmentShaderSource:u,attributeLocations:o}),e._spStencil=e._sp,u=g.replaceMain(u,"czm_non_pick_main"),u=u+"void main() \n{ \n    czm_non_pick_main(); \n    gl_FragColor = "+a+"; \n} \n",void(e._spPick=m.fromCache({context:t,vertexShaderSource:s,fragmentShaderSource:u,attributeLocations:o}));var l=n.getVertexShaderCallback(!1,"a_batchId",void 0)(A),c=n.getFragmentShaderCallback()(v,!1,void 0);a=n.getPickId();var h=new g({sources:[l]}),d=new g({defines:["VECTOR_TILE"],sources:[c]});e._sp=m.fromCache({context:t,vertexShaderSource:h,fragmentShaderSource:d,attributeLocations:o}),h=new g({sources:[A]}),d=new g({defines:["VECTOR_TILE"],sources:[v]}),e._spStencil=m.fromCache({context:t,vertexShaderSource:h,fragmentShaderSource:d,attributeLocations:o}),c=g.replaceMain(c,"czm_non_pick_main"),c=c+"\nvoid main() \n{ \n    czm_non_pick_main(); \n    gl_FragColor = "+a+"; \n} \n";var f=new g({sources:[l]}),p=new g({defines:["VECTOR_TILE"],sources:[c]});e._spPick=m.fromCache({context:t,vertexShaderSource:f,fragmentShaderSource:p,attributeLocations:o})}}function P(e){i(e._rsStencilPreloadPass)||(e._rsStencilPreloadPass=p.fromCache(q),e._rsStencilDepthPass=p.fromCache(Y),e._rsColorPass=p.fromCache(K),e._rsPickPass=p.fromCache(X))}function D(e,t){if(!i(e._uniformMap)){var n={u_modifiedModelViewProjection:function(){var n=t.uniformState.view,r=t.uniformState.projection;return u.clone(n,Z),u.multiplyByPoint(Z,e._center,J),u.setTranslation(Z,J,Z),u.multiply(r,Z,Z),Z},u_highlightColor:function(){return e._highlightColor}};e._uniformMap=e._batchTable.getUniformMapCallback()(n)}}function B(e,t,n,r,i,o,a){for(var s=e.constructor.BYTES_PER_ELEMENT,u=o.length,l=0;l<u;++l){var c=o[l],h=a[c],d=r[h],f=i[h],p=new e.constructor(e.buffer,s*d,f);t.set(p,n),r[h]=n,n+=f}return n}function L(e,n){var r=e._indices,i=e._indexOffsets,o=e._indexCounts,a=e._batchIdLookUp,s=new r.constructor(r.length),u=n.pop(),l=[u],c=B(r,s,0,i,o,u.batchIds,a);for(u.offset=0,u.count=c;n.length>0;){var h=n.pop();if(t.equals(h.color,u.color))c=B(r,s,c,i,o,h.batchIds,a),u.batchIds=u.batchIds.concat(h.batchIds),u.count=c-u.offset;else{var d=c;c=B(r,s,c,i,o,h.batchIds,a),h.offset=d,h.count=c-d,l.push(h),u=h}}e._va.indexBuffer.copyFromArrayView(s),e._indices=s,e._batchedIndices=l}function N(e,t,n,r,i,o,a){for(var s=e.bytesPerIndex,u=o.length,l=0;l<u;++l){var c=o[l],h=a[c],d=r[h],f=i[h];t.copyFromBuffer(e,d*s,n*s,f*s),r[h]=n,n+=f}return n}function R(e,n){var r=e._indexOffsets,i=e._indexCounts,o=e._batchIdLookUp,a=n.pop(),s=[a],u=e._va.indexBuffer,l=e._vaSwap.indexBuffer,c=N(u,l,0,r,i,a.batchIds,o);for(a.offset=0,a.count=c;n.length>0;){var h=n.pop();if(t.equals(h.color,a.color))c=N(u,l,c,r,i,h.batchIds,o),a.batchIds=a.batchIds.concat(h.batchIds),a.count=c-a.offset;else{var d=c;c=N(u,l,c,r,i,h.batchIds,o),h.offset=d,h.count=c-d,s.push(h),a=h}}var f=e._va;e._va=e._vaSwap,e._vaSwap=f,e._batchedIndices=s}function k(e,t){return t.color.toRgba()-e.color.toRgba()}function F(e,t){if(!e._batchDirty)return!1;for(var n=e._batchedIndices,r=n.length,o=!1,a={},s=0;s<r;++s){var u=n[s].color,l=u.toRgba();if(i(a[l])){o=!0;break}a[l]=!0}return o?o&&!e.forceRebatch&&e._framesSinceLastRebatch<120?void++e._framesSinceLastRebatch:(n.sort(k),t.webgl2?R(e,n):L(e,n),e._framesSinceLastRebatch=0,e._batchDirty=!1,e._pickCommandsDirty=!0,e._wireframeDirty=!0,!0):(e._batchDirty=!1,!1)}function U(e,t){var n=F(e,t),o=e._commands,a=e._batchedIndices,s=a.length,l=3*s;if(!i(o)||n||o.length!==l){o.length=l;for(var c=e._va,h=e._sp,f=r(e._modelMatrix,u.IDENTITY),p=e._uniformMap,m=e._boundingVolume,g=0;g<s;++g){var _=a[g].offset,v=a[g].count,A=o[3*g];i(A)||(A=o[3*g]=new d({owner:e})),A.vertexArray=c,A.modelMatrix=f,A.offset=_,A.count=v,A.renderState=e._rsStencilPreloadPass,A.shaderProgram=h,A.uniformMap=p,A.boundingVolume=m,A.cull=!1;var y=o[3*g+1];i(y)||(y=o[3*g+1]=new d({owner:e})),y.vertexArray=c,y.modelMatrix=f,y.offset=_,y.count=v,y.renderState=e._rsStencilDepthPass,y.shaderProgram=h,y.uniformMap=p,y.boundingVolume=m,y.cull=!1;var b=o[3*g+2];i(b)||(b=o[3*g+2]=new d({owner:e})),b.vertexArray=c,b.modelMatrix=f,b.offset=_,b.count=v,b.renderState=e._rsColorPass,b.shaderProgram=h,b.uniformMap=p,b.boundingVolume=m,b.cull=!1}e._commandsDirty=!0}}function z(e,t){if(e.classificationType!==w.TERRAIN&&t.invertClassification&&(!i(e._commandsIgnoreShow)||e._commandsDirty)){for(var n=e._commands,r=e._commandsIgnoreShow,o=e._spStencil,a=n.length,s=r.length=a/3*2,u=0,l=0;l<s;l+=2){var c=r[l]=d.shallowClone(n[u],r[l]);c.shaderProgram=o,c.pass=f.CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW,c=r[l+1]=d.shallowClone(n[u+1],r[l+1]),c.shaderProgram=o,c.pass=f.CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW,u+=3}e._commandsDirty=!1}}function j(e){if(e._pickCommandsDirty){var t=e._indexOffsets.length,n=e._pickCommands;n.length=3*t;for(var o=e._va,a=e._spStencil,s=e._spPick,l=r(e._modelMatrix,u.IDENTITY),c=e._uniformMap,h=0;h<t;++h){var f=e._indexOffsets[h],p=e._indexCounts[h],m=i(e._boundingVolumes)?e._boundingVolumes[h]:e.boundingVolume,g=n[3*h];i(g)||(g=n[3*h]=new d({owner:e,pickOnly:!0})),g.vertexArray=o,g.modelMatrix=l,g.offset=f,g.count=p,g.renderState=e._rsStencilPreloadPass,g.shaderProgram=a,g.uniformMap=c,g.boundingVolume=m;var _=n[3*h+1];i(_)||(_=n[3*h+1]=new d({owner:e,pickOnly:!0})),_.vertexArray=o,_.modelMatrix=l,_.offset=f,_.count=p,_.renderState=e._rsStencilDepthPass,_.shaderProgram=a,_.uniformMap=c,_.boundingVolume=m;var v=n[3*h+2];i(v)||(v=n[3*h+2]=new d({owner:e,pickOnly:!0})),v.vertexArray=o,v.modelMatrix=l,v.offset=f,v.count=p,v.renderState=e._rsPickPass,v.shaderProgram=s,v.uniformMap=c,v.boundingVolume=m}e._pickCommandsDirty=!1}}function H(e,n){e._updatingAllCommands=!0;var r,i=e._batchIds,o=i.length;for(r=0;r<o;++r){var a=i[r],s=n[a];s.show=!0,s.color=t.WHITE}var u=e._batchedIndices;for(o=u.length,r=0;r<o;++r)u[r].color=t.clone(t.WHITE);e._updatingAllCommands=!1,e._batchDirty=!0}function V(e,t,n,r){var o,a=e.commandList,s=n.length;for(o=0;o<s;++o){var u=n[o];u.pass=t,a.push(u)}if(e.invertClassification&&i(r))for(s=r.length,o=0;o<s;++o)a.push(r[o])}function Q(e,t){for(var n=e.commandList,r=t.length,i=0;i<r;i+=3){var o=t[i+2];o.pass=f.OPAQUE,n.push(o)}}function G(e){var t=e.debugWireframe===e._debugWireframe;if(!(t=t&&!(e.debugWireframe&&e._wireframeDirty))){i(e._rsWireframe)||(e._rsWireframe=p.fromCache({}));var n,r;e.debugWireframe?(n=e._rsWireframe,r=l.LINES):(n=e._rsColorPass,r=l.TRIANGLES);for(var o=e._commands,a=o.length,s=0;s<a;s+=3){var u=o[s+2];u.renderState=n,u.primitiveType=r}e._debugWireframe=e.debugWireframe,e._wireframeDirty=!1}}o(I.prototype,{trianglesLength:{get:function(){return this._trianglesLength}},geometryByteLength:{get:function(){return this._geometryByteLength}}});var W={position:0,a_batchId:1},q={colorMask:{red:!1,green:!1,blue:!1,alpha:!1},stencilTest:{enabled:!0,frontFunction:C.ALWAYS,frontOperation:{fail:S.KEEP,zFail:S.DECREMENT_WRAP,zPass:S.DECREMENT_WRAP},backFunction:C.ALWAYS,backOperation:{fail:S.KEEP,zFail:S.INCREMENT_WRAP,zPass:S.INCREMENT_WRAP},reference:0,mask:15},depthTest:{enabled:!1},depthMask:!1},Y={colorMask:{red:!1,green:!1,blue:!1,alpha:!1},stencilTest:{enabled:!0,frontFunction:C.ALWAYS,frontOperation:{fail:S.KEEP,zFail:S.KEEP,zPass:S.INCREMENT_WRAP},backFunction:C.ALWAYS,backOperation:{fail:S.KEEP,zFail:S.KEEP,zPass:S.DECREMENT_WRAP},reference:0,mask:15},depthTest:{enabled:!0,func:x.LESS_OR_EQUAL},depthMask:!1},K={stencilTest:{enabled:!0,frontFunction:C.NOT_EQUAL,frontOperation:{fail:S.KEEP,zFail:S.KEEP,zPass:S.DECREMENT_WRAP},backFunction:C.NOT_EQUAL,backOperation:{fail:S.KEEP,zFail:S.KEEP,zPass:S.DECREMENT_WRAP},reference:0,mask:15},depthTest:{enabled:!1},depthMask:!1,blending:y.ALPHA_BLEND},X={stencilTest:{enabled:!0,frontFunction:C.NOT_EQUAL,frontOperation:{fail:S.KEEP,zFail:S.KEEP,zPass:S.DECREMENT_WRAP},backFunction:C.NOT_EQUAL,backOperation:{fail:S.KEEP,zFail:S.KEEP,zPass:S.DECREMENT_WRAP},reference:0,mask:15},depthTest:{enabled:!1},depthMask:!1},Z=new u,J=new e;I.prototype.createFeatures=function(e,t){for(var n=this._batchIds,r=n.length,i=0;i<r;++i){var o=n[i];t[o]=new b(e,o)}},I.prototype.applyDebugSettings=function(e,t){this._highlightColor=e?t:this._constantColor};var $=new t,ee=t.WHITE,te=/\$/;return I.prototype.applyStyle=function(e,n){if(!i(e))return void H(this,n);var r=e.color,o=r instanceof E&&!te.test(r.expression);this._updatingAllCommands=o;var a,s=this._batchIds,u=s.length;for(a=0;a<u;++a){var l=s[a],c=n[l];c.color=i(e.color)?e.color.evaluateColor(c,$):ee,c.show=!i(e.show)||e.show.evaluate(c)}if(o){var h=this._batchedIndices;for(u=h.length,a=0;a<u;++a)h[a].color=t.clone(t.WHITE);this._updatingAllCommands=!1,this._batchDirty=!0}},I.prototype.updateCommands=function(e,n){if(!this._updatingAllCommands){var r=this._batchIdLookUp,o=r[e];if(i(o)){var a,s=this._indexOffsets,u=this._indexCounts,l=s[o],c=u[o],h=this._batchedIndices,d=h.length;for(a=0;a<d;++a){var f=h[a].offset,p=h[a].count;if(l>=f&&l<f+p)break}h.push(new T({color:t.clone(n),offset:l,count:c,batchIds:[e]}));for(var m=[],g=[],_=h[a].batchIds,v=_.length,A=0;A<v;++A){var y=_[A];if(y!==e){s[r[y]]<l?m.push(y):g.push(y)}}0!==g.length&&h.push(new T({color:t.clone(h[a].color),offset:l+c,count:h[a].offset+h[a].count-(l+c),batchIds:g})),0!==m.length?(h[a].count=l-h[a].offset,h[a].batchIds=m):h.splice(a,1),this._batchDirty=!0}}},I.prototype.update=function(e){var t=e.context;M(this,t),O(this,t),P(this),D(this,t);var n;switch(this.classificationType){case w.TERRAIN:n=f.TERRAIN_CLASSIFICATION;break;case w.CESIUM_3D_TILE:n=f.CESIUM_3D_TILE_CLASSIFICATION;break;default:n=f.CLASSIFICATION}var r=e.passes;r.render&&(U(this,t),z(this,e),G(this),this._debugWireframe?Q(e,this._commands):V(e,n,this._commands,this._commandsIgnoreShow)),r.pick&&(j(this),V(e,n,this._pickCommands))},I.prototype.isDestroyed=function(){return!1},I.prototype.destroy=function(){return this._va=this._va&&this._va.destroy(),this._sp=this._sp&&this._sp.destroy(),this._spPick=this._spPick&&this._spPick.destroy(),this._vaSwap=this._vaSwap&&this._vaSwap.destroy(),a(this)},I}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(3),n(9)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(){this.times=void 0,this.points=void 0,r.throwInstantiationError()}return o.prototype.evaluate=r.throwInstantiationError,o.prototype.findTimeInterval=function(e,n){var r=this.times,i=r.length;if(n=t(n,0),e>=r[n]){if(n+1<i&&e<r[n+1])return n;if(n+2<i&&e<r[n+2])return n+1}else if(n-1>=0&&e>=r[n-1])return n-1;var o;if(e>r[n])for(o=n;o<i-1&&!(e>=r[o]&&e<r[o+1]);++o);else for(o=n-1;o>=0&&!(e>=r[o]&&e<r[o+1]);--o);return o===i-1&&(o=i-2),o},o.prototype.wrapTime=function(e){var t,n=this.times,r=n[n.length-1],i=n[0],o=r-i;return e<i&&(t=Math.floor((i-e)/o)+1,e+=t*o),e>r&&(t=Math.floor((e-r)/o)+1,e-=t*o),e},o.prototype.clampTime=function(e){var t=this.times;return i.clamp(e,t[0],t[t.length-1])},o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({NOT_COMPUTED:-1,USE_OPTIMIZATION:1,SKIP_OPTIMIZATION:0})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(38),n(760),n(10),n(12),n(150),n(2),n(128),n(40),n(20),n(118),n(152),n(183)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h){"use strict";function d(t,n){this._orientedBoundingBox=new l(t,n),this._boundingSphere=e.fromOrientedBoundingBox(this._orientedBoundingBox)}return o(d.prototype,{boundingVolume:{get:function(){return this._orientedBoundingBox}},boundingSphere:{get:function(){return this._boundingSphere}}}),d.prototype.distanceToCamera=function(e){return Math.sqrt(this._orientedBoundingBox.distanceSquaredTo(e.camera.positionWC))},d.prototype.intersectPlane=function(e){return this._orientedBoundingBox.intersectPlane(e)},d.prototype.update=function(t,r){n.clone(t,this._orientedBoundingBox.center),s.clone(r,this._orientedBoundingBox.halfAxes),e.fromOrientedBoundingBox(this._orientedBoundingBox,this._boundingSphere)},d.prototype.createDebugVolume=function(e){var r=new t({minimum:new n(-1,-1,-1),maximum:new n(1,1,1)}),o=u.fromRotationTranslation(this.boundingVolume.halfAxes,this.boundingVolume.center),s=new a({geometry:r,id:"outline",modelMatrix:o,attributes:{color:i.fromColor(e)}});return new h({geometryInstances:s,appearance:new c({translucent:!1,flat:!0}),asynchronous:!1})},d}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(92),n(7),n(169),n(38),n(10),n(53),n(1),n(0),n(2),n(94),n(3),n(15),n(65),n(619),n(49),n(9),n(118),n(1308),n(29),n(26),n(255),n(1309),n(119)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w){"use strict";function x(e){this.resource=e.resource,this.version=e.version,this.isHeightmap=e.isHeightmap,this.tileUrlTemplates=e.tileUrlTemplates,this.availability=e.availability,this.hasVertexNormals=e.hasVertexNormals,this.hasWaterMask=e.hasWaterMask,this.littleEndianExtensionSize=e.littleEndianExtensionSize}function E(n){function r(e){var n;if(!e.format)return n="The tile format is not specified in the layer.json file.",void(A=w.handleError(A,E,E._errorEvent,n,void 0,void 0,void 0,f));if(!e.tiles||0===e.tiles.length)return n="The layer.json file does not specify any tile URL templates.",void(A=w.handleError(A,E,E._errorEvent,n,void 0,void 0,void 0,f));var o=!1,a=!1,u=!0,l=!1;if("heightmap-1.0"===e.format)l=!0,s(E._heightmapStructure)||(E._heightmapStructure={heightScale:.2,heightOffset:-1e3,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1,lowestEncodedHeight:0,highestEncodedHeight:65535}),a=!0,E._requestWaterMask=!0;else if(0!==e.format.indexOf("quantized-mesh-1."))return n='The tile format "'+e.format+'" is invalid or not supported.',void(A=w.handleError(A,E,E._errorEvent,n,void 0,void 0,void 0,f));var c,h=e.tiles,d=e.available;if(s(d)){c=new b(E._tilingScheme,d.length);for(var p=0;p<d.length;++p){var m=d[p],v=E._tilingScheme.getNumberOfYTilesAtLevel(p);s(T[p])||(T[p]=[]);for(var y=0;y<m.length;++y){var I=m[y],M=v-I.endY-1,O=v-I.startY-1;T[p].push([I.startX,M,I.endX,O]),c.addAvailableTileRange(p,I.startX,M,I.endX,O)}}}s(e.extensions)&&-1!==e.extensions.indexOf("octvertexnormals")?o=!0:s(e.extensions)&&-1!==e.extensions.indexOf("vertexnormals")&&(o=!0,u=!1),s(e.extensions)&&-1!==e.extensions.indexOf("watermask")&&(a=!0),E._hasWaterMask=E._hasWaterMask||a,E._hasVertexNormals=E._hasVertexNormals||o,s(e.attribution)&&(S.length>0&&(S+=" "),S+=e.attribution),C.push(new x({resource:g,version:e.version,isHeightmap:l,tileUrlTemplates:h,availability:c,hasVertexNormals:o,hasWaterMask:a,littleEndianExtensionSize:u}));var P=e.parentUrl;if(s(P)){if(!s(c))return console.log("A layer.json can't have a parentUrl if it does't have an available array."),t.resolve();g=g.getDerivedResource({url:P}),g.appendForwardSlash(),_=g.getDerivedResource({url:"layer.json"});var D=_.fetchJson();return t(D,r,i)}return t.resolve()}function i(e){var t="An error occurred while accessing "+_.url+".";A=w.handleError(A,E,E._errorEvent,t,void 0,void 0,void 0,f)}function u(e){r(e).then(function(){if(!s(A)){var e=T.length;if(e>0)for(var t=E._availability=new b(E._tilingScheme,e),n=0;n<e;++n)for(var r=T[n],i=0;i<r.length;++i){var a=r[i];t.addAvailableTileRange(n,a[0],a[1],a[2],a[3])}if(S.length>0){var u=new o(S);s(E._tileCredits)?E._tileCredits.push(u):E._tileCredits=[u]}E._ready=!0,E._readyPromise.resolve(!0)}})}function c(e){if(s(e)&&404===e.statusCode)return void u({tilejson:"2.1.0",format:"heightmap-1.0",version:"1.0.0",scheme:"tms",tiles:["{z}/{x}/{y}.terrain?v={version}"]});i(e)}function f(){t(_.fetchJson()).then(u).otherwise(c)}this._tilingScheme=new d({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:1,ellipsoid:n.ellipsoid}),this._heightmapWidth=65,this._levelZeroMaximumGeometricError=y.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,this._heightmapWidth,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._heightmapStructure=void 0,this._hasWaterMask=!1,this._hasVertexNormals=!1,this._requestVertexNormals=a(n.requestVertexNormals,!1),this._requestWaterMask=a(n.requestWaterMask,!1),this._errorEvent=new h;var p=n.credit;"string"==typeof p&&(p=new o(p)),this._credit=p,this._availability=void 0;var m=t.defer();this._ready=!1,this._readyPromise=m,this._tileCredits=void 0;var g,_,A,E=this,C=this._layers=[],S="",T=[];t(n.url).then(function(t){var n=v.createIfNeeded(t);if(n.appendForwardSlash(),g=n,_=g.getDerivedResource({url:"layer.json"}),"assets.agi.com"===new e(_.url).authority){var r="STK World Terrain at assets.agi.com was shut down on October 1, 2018.",i="Check out the new high-resolution Cesium World Terrain for migration instructions.",a="https://cesium.com/blog/2018/03/01/introducing-cesium-world-terrain/";E._tileCredits=[new o("<span><b>"+r+'</b></span> <a href="'+a+'">'+i+"</a>",!0)],l("assets.agi.com",r+" "+i+" "+a)}else E._tileCredits=n.credits;f()}).otherwise(function(e){m.reject(e)})}function C(e){return s(e)&&0!==e.length?{Accept:"application/vnd.quantized-mesh;extensions="+e.join("-")+",application/octet-stream;q=0.9,*/*;q=0.01"}:{Accept:"application/vnd.quantized-mesh,application/octet-stream;q=0.9,*/*;q=0.01"}}function S(e,t,n,r,i,o){var a=new Uint16Array(t,0,e._heightmapWidth*e._heightmapWidth);return new f({buffer:a,childTileMask:new Uint8Array(t,a.byteLength,1)[0],waterMask:new Uint8Array(t,a.byteLength+1,t.byteLength-a.byteLength-1),width:e._heightmapWidth,height:e._heightmapWidth,structure:e._heightmapStructure,credits:e._tileCredits})}function T(e,t,o,a,s,u,l){var c=0,h=3*Float64Array.BYTES_PER_ELEMENT,d=4*Float64Array.BYTES_PER_ELEMENT,f=3*Uint16Array.BYTES_PER_ELEMENT,v=Uint16Array.BYTES_PER_ELEMENT,A=3*v,y=new DataView(t),b=new i(y.getFloat64(c,!0),y.getFloat64(c+8,!0),y.getFloat64(c+16,!0));c+=h;var w=y.getFloat32(c,!0);c+=Float32Array.BYTES_PER_ELEMENT;var x=y.getFloat32(c,!0);c+=Float32Array.BYTES_PER_ELEMENT;var E=new r(new i(y.getFloat64(c,!0),y.getFloat64(c+8,!0),y.getFloat64(c+16,!0)),y.getFloat64(c+h,!0));c+=d;var C=new i(y.getFloat64(c,!0),y.getFloat64(c+8,!0),y.getFloat64(c+16,!0));c+=h;var S=y.getUint32(c,!0);c+=Uint32Array.BYTES_PER_ELEMENT;var T=new Uint16Array(t,c,3*S);c+=S*f,S>65536&&(v=Uint32Array.BYTES_PER_ELEMENT,A=3*v);var M=T.subarray(0,S),O=T.subarray(S,2*S),P=T.subarray(2*S,3*S);n.zigZagDeltaDecode(M,O,P),c%v!=0&&(c+=v-c%v);var D=y.getUint32(c,!0);c+=Uint32Array.BYTES_PER_ELEMENT;var B=p.createTypedArrayFromArrayBuffer(S,t,c,3*D);c+=D*A;for(var L=0,N=B.length,R=0;R<N;++R){var k=B[R];B[R]=L-k,0===k&&++L}var F=y.getUint32(c,!0);c+=Uint32Array.BYTES_PER_ELEMENT;var U=p.createTypedArrayFromArrayBuffer(S,t,c,F);c+=F*v;var z=y.getUint32(c,!0);c+=Uint32Array.BYTES_PER_ELEMENT;var j=p.createTypedArrayFromArrayBuffer(S,t,c,z);c+=z*v;var H=y.getUint32(c,!0);c+=Uint32Array.BYTES_PER_ELEMENT;var V=p.createTypedArrayFromArrayBuffer(S,t,c,H);c+=H*v;var Q=y.getUint32(c,!0);c+=Uint32Array.BYTES_PER_ELEMENT;var G=p.createTypedArrayFromArrayBuffer(S,t,c,Q);c+=Q*v;for(var W,q;c<y.byteLength;){var Y=y.getUint8(c,!0);c+=Uint8Array.BYTES_PER_ELEMENT;var K=y.getUint32(c,l);c+=Uint32Array.BYTES_PER_ELEMENT,Y===I.OCT_VERTEX_NORMALS&&e._requestVertexNormals?W=new Uint8Array(t,c,2*S):Y===I.WATER_MASK&&e._requestWaterMask&&(q=new Uint8Array(t,c,K)),c+=K}var X,Z=5*e.getLevelMaximumGeometricError(o),J=e._tilingScheme.tileXYToRectangle(a,s,o);return J.width<m.PI_OVER_TWO+m.EPSILON5&&(X=g.fromRectangle(J,w,x,e._tilingScheme.ellipsoid)),new _({center:b,minimumHeight:w,maximumHeight:x,boundingSphere:E,orientedBoundingBox:X,horizonOcclusionPoint:C,quantizedVertices:T,encodedNormals:W,indices:B,westIndices:U,southIndices:j,eastIndices:V,northIndices:G,westSkirtHeight:Z,southSkirtHeight:Z,eastSkirtHeight:Z,northSkirtHeight:Z,childTileMask:e.availability.computeChildMaskForTile(o,a,s),waterMask:q,credits:e._tileCredits})}var I={OCT_VERTEX_NORMALS:1,WATER_MASK:2};return E.prototype.requestTileGeometry=function(e,n,r,i){var o,a=this._layers,u=a.length;if(1===u)o=a[0];else for(var l=0;l<u;++l){var c=a[l];if(!s(c.availability)||c.availability.isTileAvailable(r,e,n)){o=c;break}}if(!s(o))return t.reject(new A("Terrain tile doesn't exist"));var h=o.tileUrlTemplates;if(0!==h.length){var d=this._tilingScheme.getNumberOfYTilesAtLevel(r),f=d-n-1,p=[];this._requestVertexNormals&&o.hasVertexNormals&&p.push(o.littleEndianExtensionSize?"octvertexnormals":"vertexnormals"),this._requestWaterMask&&o.hasWaterMask&&p.push("watermask");var m,g,_=h[(e+f+r)%h.length],v=o.resource;s(v._ionEndpoint)&&!s(v._ionEndpoint.externalType)?(0!==p.length&&(g={extensions:p.join("-")}),m=C(void 0)):m=C(p);var y=v.getDerivedResource({url:_,templateValues:{version:o.version,z:r,x:e,y:f},queryParameters:g,headers:m,request:i}).fetchArrayBuffer();if(s(y)){var b=this;return y.then(function(t){return s(b._heightmapStructure)?S(b,t,r,e,n,f):T(b,t,r,e,n,f,o.littleEndianExtensionSize)})}}},u(E.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},hasWaterMask:{get:function(){return this._hasWaterMask&&this._requestWaterMask}},hasVertexNormals:{get:function(){return this._hasVertexNormals&&this._requestVertexNormals}},requestVertexNormals:{get:function(){return this._requestVertexNormals}},requestWaterMask:{get:function(){return this._requestWaterMask}},availability:{get:function(){return this._availability}}}),E.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},E.prototype.getTileDataAvailable=function(e,t,n){if(s(this._availability))return this._availability.isTileAvailable(n,e,t)},E}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(169),n(17),n(10),n(31),n(1),n(0),n(9),n(20),n(772)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(e,t,r,a,l,d){var g,_,v,A;if(o(e)&&o(t)&&o(r)&&o(a)){var y=e.minimum,b=e.maximum,w=n.subtract(b,y,h),x=r-t;g=Math.max(n.maximumComponent(w),x)<m-1?u.BITS12:u.NONE,_=e.center,v=s.inverseTransformation(a,new s);var E=n.negate(y,c);s.multiply(s.fromTranslation(E,f),v,v);var C=c;C.x=1/w.x,C.y=1/w.y,C.z=1/w.z,s.multiply(s.fromScale(C,f),v,v),A=s.clone(a),s.setTranslation(A,n.ZERO,A),a=s.clone(a,new s);var S=s.fromTranslation(y,f),T=s.fromScale(w,p),I=s.multiply(S,T,f);s.multiply(a,I,a),s.multiply(A,I,A)}this.quantization=g,this.minimumHeight=t,this.maximumHeight=r,this.center=_,this.toScaledENU=v,this.fromScaledENU=a,this.matrix=A,this.hasVertexNormals=l,this.hasWebMercatorT=i(d,!1)}var c=new n,h=new n,d=new t,f=new s,p=new s,m=Math.pow(2,12);l.prototype.encode=function(r,i,o,l,h,f,p){var m=l.x,g=l.y;if(this.quantization===u.BITS12){o=s.multiplyByPoint(this.toScaledENU,o,c),o.x=a.clamp(o.x,0,1),o.y=a.clamp(o.y,0,1),o.z=a.clamp(o.z,0,1);var _=this.maximumHeight-this.minimumHeight,v=a.clamp((h-this.minimumHeight)/_,0,1);t.fromElements(o.x,o.y,d);var A=e.compressTextureCoordinates(d);t.fromElements(o.z,v,d);var y=e.compressTextureCoordinates(d);t.fromElements(m,g,d);var b=e.compressTextureCoordinates(d);if(r[i++]=A,r[i++]=y,r[i++]=b,this.hasWebMercatorT){t.fromElements(p,0,d);var w=e.compressTextureCoordinates(d);r[i++]=w}}else n.subtract(o,this.center,c),r[i++]=c.x,r[i++]=c.y,r[i++]=c.z,r[i++]=h,r[i++]=m,r[i++]=g,this.hasWebMercatorT&&(r[i++]=p);return this.hasVertexNormals&&(r[i++]=e.octPackFloat(f)),i},l.prototype.decodePosition=function(t,r,i){if(o(i)||(i=new n),r*=this.getStride(),this.quantization===u.BITS12){var a=e.decompressTextureCoordinates(t[r],d);i.x=a.x,i.y=a.y;var l=e.decompressTextureCoordinates(t[r+1],d);return i.z=l.x,s.multiplyByPoint(this.fromScaledENU,i,i)}return i.x=t[r],i.y=t[r+1],i.z=t[r+2],n.add(i,this.center,i)},l.prototype.decodeTextureCoordinates=function(n,r,i){return o(i)||(i=new t),r*=this.getStride(),this.quantization===u.BITS12?e.decompressTextureCoordinates(n[r+2],i):t.fromElements(n[r+4],n[r+5],i)},l.prototype.decodeHeight=function(t,n){if(n*=this.getStride(),this.quantization===u.BITS12){return e.decompressTextureCoordinates(t[n+1],d).y*(this.maximumHeight-this.minimumHeight)+this.minimumHeight}return t[n+3]},l.prototype.getOctEncodedNormal=function(e,n,r){n=(n+1)*this.getStride()-1;var i=e[n]/256,o=Math.floor(i),a=256*(i-o);return t.fromElements(o,a,r)},l.prototype.getStride=function(){var e;switch(this.quantization){case u.BITS12:e=3;break;default:e=6}return this.hasWebMercatorT&&++e,this.hasVertexNormals&&++e,e};var g={position3DAndHeight:0,textureCoordAndEncodedNormals:1},_={compressed0:0,compressed1:1};return l.prototype.getAttributes=function(e){var t,n=r.FLOAT,i=r.getSizeInBytes(n);if(this.quantization===u.NONE){var o=2;return this.hasWebMercatorT&&++o,this.hasVertexNormals&&++o,t=(4+o)*i,[{index:g.position3DAndHeight,vertexBuffer:e,componentDatatype:n,componentsPerAttribute:4,offsetInBytes:0,strideInBytes:t},{index:g.textureCoordAndEncodedNormals,vertexBuffer:e,componentDatatype:n,componentsPerAttribute:o,offsetInBytes:4*i,strideInBytes:t}]}var a=3,s=0;return(this.hasWebMercatorT||this.hasVertexNormals)&&++a,this.hasWebMercatorT&&this.hasVertexNormals?(++s,t=(a+s)*i,[{index:_.compressed0,vertexBuffer:e,componentDatatype:n,componentsPerAttribute:a,offsetInBytes:0,strideInBytes:t},{index:_.compressed1,vertexBuffer:e,componentDatatype:n,componentsPerAttribute:s,offsetInBytes:a*i,strideInBytes:t}]):[{index:_.compressed0,vertexBuffer:e,componentDatatype:n,componentsPerAttribute:a}]},l.prototype.getAttributeLocations=function(){return this.quantization===u.NONE?g:_},l.clone=function(e,t){return o(t)||(t=new l),t.quantization=e.quantization,t.minimumHeight=e.minimumHeight,t.maximumHeight=e.maximumHeight,t.center=n.clone(e.center),t.toScaledENU=s.clone(e.toScaledENU),t.fromScaledENU=s.clone(e.fromScaledENU),t.matrix=s.clone(e.matrix),t.hasVertexNormals=e.hasVertexNormals,t.hasWebMercatorT=e.hasWebMercatorT,t},l}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){return function(t,n,r,o){i(n[e])&&(t[e]=new RegExp(n[e],"i"))}}var i=n(0);e.exports=r},function(e,t,n){"use strict";function r(e){return function(t,n,r,o){i(t[e])&&(n[e]=t[e].source)}}var i=n(0);e.exports=r},function(e,t,n){"use strict";function r(e){e.clock=e._dataSource.clock,e.terria.currentViewer.notifyRepaintRequired()}function i(e){var t=e.terria;throw new h({sender:e,title:"Error loading CZML",message:"An error occurred while loading a CZML file.  This may indicate that the file is invalid or that it is not supported by "+t.appName+'.  If you would like assistance or further information, please email us at <a href="mailto:'+t.supportEmail+'">'+t.supportEmail+"</a>."})}var o=n(0),a=n(2),s=n(13),u=n(7),l=n(330),c=n(74),h=n(22),d=n(14),f=n(334),p=n(32),m=n(335),g=function(e,t){l.call(this,e),this._dataSource=void 0,this.url=t,this.data=void 0,this.dataSourceUrl=void 0,s.track(this,["data","dataSourceUrl"])};d(l,g),a(g.prototype,{type:{get:function(){return"czml"}},typeName:{get:function(){return"Cesium Language (CZML)"}},metadata:{get:function(){var e=new c;return e.isLoading=!1,e.dataSourceErrorMessage="This data source does not have any details available.",e.serviceErrorMessage="This service does not have any details available.",e}},dataSource:{get:function(){return this._dataSource}}}),g.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.data]},g.prototype._load=function(){var e=u.defer(),t=this;return n.e(0).then(function(){var a=n(798);f(e,function(){var e=!1;o(t._dataSource)&&(e=t.terria.dataSources.remove(t._dataSource,!0));var n=new a;return t._dataSource=n,e&&t.terria.dataSources.add(t._dataSource),o(t.data)?u(t.data,function(e){return"undefined"!=typeof Blob&&e instanceof Blob?m(e).then(function(e){return n.load(e,p(t,t.dataSourceUrl,"1d")).then(function(){r(t)})}).otherwise(function(){i(t)}):e instanceof String||"string"==typeof e?n.load(JSON.parse(e),p(t,t.dataSourceUrl,"1d")).then(function(){r(t)}):n.load(e,p(t,t.dataSourceUrl,"1d")).then(function(){r(t)})}).otherwise(function(){i(t)}):n.load(p(t,t.url,"1d")).then(function(){r(t)}).otherwise(function(){i(t)})})}.bind(null,n)).catch(n.oe),e.promise},e.exports=g},function(e,t,n){"use strict";function r(e,t){if(c(e))for(var n=0;n<e.length;++n)if(e[n].name===t)return e[n]}function i(e,t){var n=new u(t);n.search("");var r=n.toString();return A(e,r,"1d")}function o(e,t,n,r,i,o){if(c(t)){t instanceof Array||(t=[t]);for(var s=0;s<t.length;++s){var u=t[s];e.blacklist&&e.blacklist[u.Title]?console.log("Provider Feedback: Filtering out "+u.Title+" ("+u.Name+") because it is blacklisted."):e.add(a(e,u,i,o))}}}function a(e,t,n,r){var i=new b(e.terria);i.name=t.Title,i.description=c(t.Abstract)&&t.Abstract.length>0?t.Abstract:e.description,i.dataCustodian=r,i.url=e.url,i.typeNames=t.Name,i.description="";var o=c(e.description)&&e.description.length>0,a=c(t.Abstract)&&t.Abstract.length>0;o&&(i.description+=e.description),o&&a&&(i.description+="<br/>"),a&&(i.description+=t.Abstract),i.requestGeoJson=n,i.requestGml=!0;var u,l=t.WGS84BoundingBox;if(l instanceof Array){u=s(l[0]);for(var h=1;h<l.length;++h)u=y(u,s(l[h]))}else u=c(l)?s(l):m.MAX_VALUE;return i.rectangle=u,i}function s(e){if(!c(e))return m.MAX_VALUE;var t=e.LowerCorner,n=e.UpperCorner;if(!c(t)||!c(n))return m.MAX_VALUE;var r=t.split(" "),i=n.split(" ");return 2!==r.length||2!==i.length?m.MAX_VALUE:m.fromDegrees(r[0],r[1],i[0],i[1])}var u=n(33),l=n(27),c=n(0),h=n(2),d=n(6),f=n(13),p=n(97),m=n(16),g=n(22),_=n(55),v=n(14),A=n(32),y=n(588),b=n(270),w=n(84),x=function(e){_.call(this,e,"wfs-getCapabilities"),this.url="",this.dataCustodian=void 0,this.blacklist=void 0,f.track(this,["url","dataCustodian","blacklist"])};v(_,x),h(x.prototype,{type:{get:function(){return"wfs-getCapabilities"}},typeName:{get:function(){return"Web Feature Service (WFS) Server"}},serializers:{get:function(){return x.defaultSerializers}}}),x.defaultSerializers=l(_.defaultSerializers),x.defaultSerializers.items=_.enabledShareableItemsSerializer,x.defaultSerializers.isLoading=function(e,t,n,r){},d(x.defaultSerializers),x.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.blacklist]},x.prototype._load=function(){var e=i(this,this.url)+"?service=WFS&version=1.1.0&request=GetCapabilities",t=this;return p(e).then(function(e){if(!e||!e.documentElement||"WFS_Capabilities"!==e.documentElement.localName)throw new g({title:"Invalid WFS server",message:"An error occurred while invoking GetCapabilities on the WFS server.  The server's response does not appear to be a valid GetCapabilities document.  <p>If you entered the link manually, please verify that the link is correct.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href=\"mailto:"+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>.</p>"});var n=w(e),i=!1;if(c(n.OperationsMetadata)){var a=r(n.OperationsMetadata.Operation,"GetFeature");if(c(a)){var s=r(a.Parameter,"outputFormat");c(s)&&c(s.Value)&&(i=s.Value.indexOf("json")>=0||s.Value.indexOf("JSON")>=0||s.Value.indexOf("application/json")>=0)}}var u=t.dataCustodian;!c(u)&&c(n.ServiceProvider)&&c(n.ServiceProvider.ProviderName)&&(u=n.ServiceProvider.ProviderName,c(n.ServiceProvider.ProviderSite)&&c(n.ServiceProvider.ProviderSite.href)&&(u="["+u+"]("+n.ServiceProvider.ProviderSite.href+")"),c(n.ServiceProvider.ServiceContact)&&c(n.ServiceProvider.ServiceContact.Address)&&c(n.ServiceProvider.ServiceContact.Address.ElectronicMailAddress)&&(u+="<br/>",u+="["+n.ServiceProvider.ServiceContact.Address.ElectronicMailAddress+"](mailto:"+n.ServiceProvider.ServiceContact.Address.ElectronicMailAddress+")<br/>")),c(n.FeatureTypeList)&&o(t,n.FeatureTypeList.FeatureType,t.items,void 0,i,u)}).otherwise(function(e){throw new g({title:"Group is not available",message:'An error occurred while invoking GetCapabilities on the WFS server.  <p>If you entered the link manually, please verify that the link is correct.</p><p>This error may also indicate that the server does not support <a href="http://enable-cors.org/" target="_blank">CORS</a>.  If this is your server, verify that CORS is enabled and enable it if it is not.  If you do not control the server, please contact the administrator of the server and ask them to enable CORS.  Or, contact the '+t.terria.appName+' Map team by emailing <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a> and ask us to add this server to the list of non-CORS-supporting servers that may be proxied by "+t.terria.appName+' itself.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>.</p>"})})},e.exports=x},function(e,t,n){"use strict";function r(e,t){return d(e,i(t))}function i(e){var t=new o(e);return t.search(""),t.toString()}var o=n(33),a=n(0),s=n(139),u=n(2),l=n(13),c=n(121),h=n(14),d=n(32),f=n(63),p=function(e){c.call(this,e),this.fileExtension="png",this.maximumLevel=25,this.attribution=void 0,this.subdomains=void 0,l.track(this,["fileExtension","maximumLevel","attribution"])};h(c,p),u(p.prototype,{type:{get:function(){return"open-street-map"}},typeName:{get:function(){return"Open Street Map"}}}),p.prototype._createImageryProvider=function(){var e=new o(this.url);a(this.subdomains)&&this.url.indexOf("{s}")<0&&e.hostname("{s}."+e.hostname());var t=e.toString();return"/"!==t[t.length-1]&&(t+="/"),t+="{z}/{x}/{y}."+this.fileExtension,new s({url:r(this,t),credit:this.attribution,tilingScheme:new f,tileWidth:256,tileHeight:256,minimumLevel:0,maximumLevel:this.maximumLevel,rectangle:this.clipToRectangle?this.rectangle:void 0,subdomains:this.subdomains})},e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if((0,d.default)(e)&&(0,d.default)(e.loadIntoTableStructure))return e.loadIntoTableStructure(t);var n=new I.default("feature info");return t=(0,S.default)(e,t,"0d"),(0,v.default)(t).then(n.loadFromCsv.bind(n))}var o=n(4),a=r(o),s=n(5),u=r(s),l=n(8),c=r(l),h=n(0),d=r(h),f=n(1),p=r(f),m=n(3),g=r(m),_=n(172),v=r(_),A=n(7),y=r(A),b=n(481),w=r(b),x=n(1346),E=r(x),C=n(32),S=r(C),T=n(124),I=r(T),M=n(85),O=r(M),P=n(1515),D=r(P),B=(0,c.default)({displayName:"Chart",_element:void 0,_promise:void 0,_tooltipId:void 0,propTypes:{domain:u.default.object,styling:u.default.string,height:u.default.number,axisLabel:u.default.object,catalogItem:u.default.object,transitionDuration:u.default.number,highlightX:u.default.oneOfType([u.default.string,u.default.number]),updateCounter:u.default.any,pollSeconds:u.default.any,data:u.default.array,url:u.default.string,xColumn:u.default.oneOfType([u.default.string,u.default.number]),yColumns:u.default.array,colors:u.default.array,pollUrl:u.default.string,tableStructure:u.default.object},chartDataArrayFromTableStructure:function(e){var t=e.getColumnWithNameIdOrIndex(this.props.xColumn||0),n=[];if((0,d.default)(this.props.yColumns))n=this.props.yColumns.map(function(t){return e.getColumnWithNameIdOrIndex(t)});else{if(n=e.columns.filter(function(e){return e!==t&&e.type===O.default.SCALAR}),!(n.length>0))throw new g.default("No y-column available.");n=[n[0]]}var r=e.toPointArrays(t,n),i=this.props.colors;return r.map(function(e,t){return new w.default(e,{id:t,name:n[t].name,units:n[t].units,color:i&&i.length>0?i[t%i.length]:void 0})})},getChartDataPromise:function(e,t,n){var r=this;return(0,d.default)(e)?(0,y.default)(e):(0,d.default)(t)?i(n,t).then(r.chartDataArrayFromTableStructure).otherwise(function(e){return[]}):void 0},componentDidMount:function(){var e=this,t=e.getChartParameters(),n=e.getChartDataPromise(t.data,e.props.url,e.props.catalogItem);n.then(function(n){t.data=n,E.default.create(e._element,t)}),e._promise=n.then(function(){var n=function(){if(!e._element)throw new g.default("Missing chart DOM element "+e.url);var n=e.getChartParameters();(0,d.default)(t.data)&&(n.transitionDuration=1,E.default.update(e._element,n))};return window.addEventListener("resize",n),n})},componentDidUpdate:function(){var e=this._element,t=this.getChartParameters();if((0,d.default)(t.data))E.default.update(e,t);else if(this.props.updateCounter>0){var n=this.props.pollUrl||this.props.url,r=this.getChartDataPromise(t.data,n,this.props.catalogItem);r.then(function(n){t.data=n,E.default.update(e,t)})}},componentWillUnmount:function(){var e=this;this._promise.then(function(t){window.removeEventListener("resize",t),E.default.destroy(e._element,e.getChartParameters()),e._element=void 0}),this._promise=void 0},getChartParameters:function(){var e=void 0,t=void 0,n=void 0,r=void 0;"feature-info"!==this.props.styling&&((0,d.default)(this._tooltipId)||(this._tooltipId="d3-tooltip-"+Math.random().toString().substr(2)),e={top:0,right:20,bottom:20,left:0},t={className:D.default.toolTip,id:this._tooltipId,align:"prefer-right",offset:{top:40,left:66,right:30,bottom:5}},n={type:"legend",height:30},r={x:!0,y:!0}),(0,d.default)(this.props.highlightX)&&(t=void 0),"histogram"===this.props.styling&&(n=void 0,e={top:0,right:0,bottom:0,left:0});var i=void 0;return(0,d.default)(this.props.data)?i=this.props.data:(0,d.default)(this.props.tableStructure)&&(i=this.chartDataArrayFromTableStructure(this.props.tableStructure)),{data:i,domain:this.props.domain,width:"100%",height:(0,p.default)(this.props.height,100),axisLabel:this.props.axisLabel,mini:"feature-info"===this.props.styling,transitionDuration:this.props.transitionDuration,margin:e,tooltipSettings:t,titleSettings:n,grid:r,highlightX:this.props.highlightX}},render:function(){var e=this;return a.default.createElement("div",{className:D.default.chart,ref:function(t){e._element=t}})}});e.exports=B},function(e,t,n){"use strict";var r=n(374);t.a=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.a.hasOwnProperty(t)?{space:r.a[t],local:e}:e}},function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";t.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(e,t,n){"use strict";function r(){}t.a=function(e){return null==e?r:function(){return this.querySelector(e)}}},function(e,t,n){"use strict";t.a=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}},function(e,t,n){"use strict";function r(e,t,n){return e=i(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function i(e,t,n){return function(r){var i=c;c=r;try{e.call(this,this.__data__,t,n)}finally{c=i}}}function o(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function a(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function s(e,t,n){var o=l.hasOwnProperty(e.type)?r:i;return function(r,i,a){var s,u=this.__on,l=o(t,i,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function u(e,t,n,r){var i=c;e.sourceEvent=c,c=e;try{return t.apply(n,r)}finally{c=i}}n.d(t,"c",function(){return c}),t.a=u;var l={},c=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(l={mouseenter:"mouseover",mouseleave:"mouseout"})}t.b=function(e,t,n){var r,i,u=o(e+""),l=u.length;{if(!(arguments.length<2)){for(c=t?s:a,null==n&&(n=!1),r=0;r<l;++r)this.each(c(u[r],t,n));return this}var c=this.node().__on;if(c)for(var h,d=0,f=c.length;d<f;++d)for(r=0,h=c[d];r<l;++r)if((i=u[r]).type===h.type&&i.name===h.name)return h.value}}},function(e,t,n){"use strict";var r=n(377);t.a=function(){for(var e,t=r.c;e=t.sourceEvent;)t=e;return t}},function(e,t,n){"use strict";var r=n(207),i=n(146),o=n(274),a=n(380);t.a=function(){function e(e){var i,o,a,h=e.length,d=!1;for(null==u&&(c=l(a=Object(r.a)())),i=0;i<=h;++i)!(i<h&&s(o=e[i],i,e))===d&&((d=!d)?c.lineStart():c.lineEnd()),d&&c.point(+t(o,i,e),+n(o,i,e));if(a)return c=null,a+""||null}var t=a.a,n=a.b,s=Object(i.a)(!0),u=null,l=o.a,c=null;return e.x=function(n){return arguments.length?(t="function"==typeof n?n:Object(i.a)(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(+t),e):n},e.defined=function(t){return arguments.length?(s="function"==typeof t?t:Object(i.a)(!!t),e):s},e.curve=function(t){return arguments.length?(l=t,null!=u&&(c=l(u)),e):l},e.context=function(t){return arguments.length?(null==t?u=c=null:c=l(u=t),e):u},e}},function(e,t,n){"use strict";function r(e){return e[0]}function i(e){return e[1]}t.a=r,t.b=i},function(e,t,n){"use strict";function r(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>o.f){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>o.f){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/h,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/h}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function i(e,t){this._context=e,this._alpha=t}t.b=r;var o=n(208),a=n(277);i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:r(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.a=function e(t){function n(e){return t?new i(e,t):new a.a(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},function(e,t,n){"use strict";function r(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}t.b=r;var i=n(210);t.a=function(e){var t=e.map(r);return Object(i.a)(e).sort(function(e,n){return t[e]-t[n]})}},function(e,t,n){"use strict";function r(){return A||(w(i),A=b.now()+y)}function i(){A=0}function o(){this._call=this._time=this._next=null}function a(e,t,n){var r=new o;return r.restart(e,t,n),r}function s(){r(),++p;for(var e,t=d;t;)(e=A-t._time)>=0&&t._call.call(null,e),t=t._next;--p}function u(){A=(v=b.now())+y,p=m=0;try{s()}finally{p=0,c(),A=0}}function l(){var e=b.now(),t=e-v;t>_&&(y-=t,v=e)}function c(){for(var e,t,n=d,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:d=t);f=e,h(r)}function h(e){if(!p){m&&(m=clearTimeout(m));e-A>24?(e<1/0&&(m=setTimeout(u,e-b.now()-y)),g&&(g=clearInterval(g))):(g||(v=b.now(),g=setInterval(l,_)),p=1,w(u))}}t.b=r,t.a=o,t.c=a;var d,f,p=0,m=0,g=0,_=1e3,v=0,A=0,y=0,b="object"==typeof performance&&performance.now?performance:Date,w="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};o.prototype=a.prototype={constructor:o,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==t?0:+t),this._next||f===this||(f?f._next=this:d=this,f=this),this._call=e,this._time=n,h()},stop:function(){this._call&&(this._call=null,this._time=1/0,h())}}},function(e,t,n){"use strict";var r=n(111),i=n(665),o=n(668),a=n(669),s=n(278),u=n(670),l=n(671),c=n(667),h=n(388);t.a=function(e,t){var n,d=typeof t;return null==t||"boolean"===d?Object(c.a)(t):("number"===d?s.a:"string"===d?(n=Object(r.a)(t))?(t=n,i.a):l.a:t instanceof r.a?i.a:t instanceof Date?a.a:Object(h.b)(t)?h.a:Array.isArray(t)?o.a:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?u.a:s.a)(e,t)}},function(e,t,n){"use strict";function r(){}function i(){return this.rgb().formatHex()}function o(){return _(this).formatHsl()}function a(){return this.rgb().formatRgb()}function s(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=T.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?u(t):3===n?new d(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?l(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?l(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=I.exec(e))?new d(t[1],t[2],t[3],1):(t=M.exec(e))?new d(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=O.exec(e))?l(t[1],t[2],t[3],t[4]):(t=P.exec(e))?l(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=D.exec(e))?g(t[1],t[2]/100,t[3]/100,1):(t=B.exec(e))?g(t[1],t[2]/100,t[3]/100,t[4]):L.hasOwnProperty(e)?u(L[e]):"transparent"===e?new d(NaN,NaN,NaN,0):null}function u(e){return new d(e>>16&255,e>>8&255,255&e,1)}function l(e,t,n,r){return r<=0&&(e=t=n=NaN),new d(e,t,n,r)}function c(e){return e instanceof r||(e=s(e)),e?(e=e.rgb(),new d(e.r,e.g,e.b,e.opacity)):new d}function h(e,t,n,r){return 1===arguments.length?c(e):new d(e,t,n,null==r?1:r)}function d(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function f(){return"#"+m(this.r)+m(this.g)+m(this.b)}function p(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function m(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function g(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new A(e,t,n,r)}function _(e){if(e instanceof A)return new A(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=s(e)),!e)return new A;if(e instanceof A)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),a=Math.max(t,n,i),u=NaN,l=a-o,c=(a+o)/2;return l?(u=t===a?(n-i)/l+6*(n<i):n===a?(i-t)/l+2:(t-n)/l+4,l/=c<.5?a+o:2-a-o,u*=60):l=c>0&&c<1?0:u,new A(u,l,c,e.opacity)}function v(e,t,n,r){return 1===arguments.length?_(e):new A(e,t,n,null==r?1:r)}function A(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function y(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t.a=r,n.d(t,"d",function(){return w}),n.d(t,"c",function(){return x}),t.e=s,t.h=c,t.g=h,t.b=d,t.f=v;var b=n(386),w=.7,x=1/w,E="\\s*([+-]?\\d+)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",S="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",T=/^#([0-9a-f]{3,8})$/,I=new RegExp("^rgb\\("+[E,E,E]+"\\)$"),M=new RegExp("^rgb\\("+[S,S,S]+"\\)$"),O=new RegExp("^rgba\\("+[E,E,E,C]+"\\)$"),P=new RegExp("^rgba\\("+[S,S,S,C]+"\\)$"),D=new RegExp("^hsl\\("+[C,S,S]+"\\)$"),B=new RegExp("^hsla\\("+[C,S,S,C]+"\\)$"),L={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(b.a)(r,s,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:i,formatHex:i,formatHsl:o,formatRgb:a,toString:a}),Object(b.a)(d,h,Object(b.b)(r,{brighter:function(e){return e=null==e?x:Math.pow(x,e),new d(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?w:Math.pow(w,e),new d(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f,formatHex:f,formatRgb:p,toString:p})),Object(b.a)(A,v,Object(b.b)(r,{brighter:function(e){return e=null==e?x:Math.pow(x,e),new A(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?w:Math.pow(w,e),new A(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new d(y(e>=240?e-240:e+120,i,r),y(e,i,r),y(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}t.b=r,t.a=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}t.a=r,t.b=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[i],a=e[i+1],s=i>0?e[i-1]:2*o-a,u=i<t-1?e[i+2]:2*a-o;return r((n-i/t)*t,s,o,a,u)}}},function(e,t,n){"use strict";function r(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}t.b=r,t.a=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1467);n.d(t,"nest",function(){return r.a});var i=n(1468);n.d(t,"set",function(){return i.a});var o=n(390);n.d(t,"map",function(){return o.a});var a=n(1469);n.d(t,"keys",function(){return a.a});var s=n(1470);n.d(t,"values",function(){return s.a});var u=n(1471);n.d(t,"entries",function(){return u.a})},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var i,o=-1,a=e.length;if(null==t)for(;++o<a;)n.set(o,e[o]);else for(;++o<a;)n.set(t(i=e[o],o,e),i)}else if(e)for(var s in e)n.set(s,e[s]);return n}n.d(t,"b",function(){return o});var o="$";r.prototype=i.prototype={constructor:r,has:function(e){return o+e in this},get:function(e){return this[o+e]},set:function(e,t){return this[o+e]=t,this},remove:function(e){var t=o+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===o&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===o&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===o&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===o&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===o&&++e;return e},empty:function(){for(var e in this)if(e[0]===o)return!1;return!0},each:function(e){for(var t in this)t[0]===o&&e(this[t],t.slice(1),this)}},t.a=i},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=(n(58),n(1489));n.d(t,"c",function(){return r.a}),n.d(t,"n",function(){return r.a});var i=n(1490);n.d(t,"g",function(){return i.a}),n.d(t,"r",function(){return i.a});var o=n(1491);n.d(t,"d",function(){return o.a});var a=n(1492);n.d(t,"b",function(){return a.a});var s=n(1493);n.d(t,"a",function(){return s.a});var u=n(1494);n.d(t,"j",function(){return u.b}),n.d(t,"h",function(){return u.b}),n.d(t,"e",function(){return u.a}),n.d(t,"i",function(){return u.c});var l=n(1495);n.d(t,"f",function(){return l.a});var c=n(1496);n.d(t,"k",function(){return c.a});var h=n(1497);n.d(t,"o",function(){return h.a});var d=n(1498);n.d(t,"m",function(){return d.a});var f=n(1499);n.d(t,"l",function(){return f.a});var p=n(1500);n.d(t,"u",function(){return p.b}),n.d(t,"s",function(){return p.b}),n.d(t,"p",function(){return p.a}),n.d(t,"t",function(){return p.c});var m=n(1501);n.d(t,"q",function(){return m.a});var g=n(1502);n.d(t,"v",function(){return g.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});var r,i,o,a,s,u=n(683);!function(e){r=Object(u.a)(e),i=r.format,o=r.parse,a=r.utcFormat,s=r.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(5),u=r(s),l=n(8),c=r(l),h=n(0),d=r(h),f=n(28),p=r(f),m=n(1517),g=r(m),_=(0,c.default)({displayName:"Dropdown",propTypes:{theme:u.default.object,options:u.default.array,selected:u.default.object,selectOption:u.default.func,textProperty:u.default.string,matchWidth:u.default.bool,children:u.default.any},getDefaultProps:function(){return{options:[],selected:void 0,textProperty:"name",align:"left",theme:{}}},getInitialState:function(){return{isOpen:!1}},UNSAFE_componentWillMount:function(){this.buttonElement=void 0,this.resetDownloadDropdownPosition()},resetDownloadDropdownPosition:function(){var e=this;setTimeout(function(){e.dismounted||e.setState({dropdownPosition:{top:"inherit",left:"inherit",right:"inherit"}})},100)},componentWillUnmount:function(){this.removeListeners(),this.dismounted=!0},hideList:function(){this.setState({isOpen:!1}),this.resetDownloadDropdownPosition(),this.removeListeners()},removeListeners:function(){var e=this;document.body.removeEventListener("click",this.hideList),this.buttonElement.removeEventListener("click",this.nativeButtonListener),this.nativeButtonListener=void 0,(this.scrollListeners||[]).forEach(function(t){return t.removeEventListener("scroll",e.hideList)}),this.scrollListeners=void 0},showList:function(){var e=this;this.scrollListeners=function t(n,r){return n.scrollHeight>n.clientHeight&&(n.addEventListener("scroll",e.hideList),r.push(n)),n!==document.body?t(n.parentNode,r):r}(this.buttonElement,[]);var t=this.buttonElement.getBoundingClientRect(),n={top:t.bottom+"px",right:window.innerWidth-t.right+"px"};this.props.matchWidth&&(n.left=t.left+"px"),this.setState({dropdownPosition:n,isOpen:!0}),document.body.addEventListener("click",this.hideList),this.nativeButtonListener=function(t){t.stopPropagation(),e.hideList()},this.buttonElement.addEventListener("click",this.nativeButtonListener)},select:function(e,t){this.props.selectOption(e,t),this.hideList()},onButtonClicked:function(){this.state.isOpen?this.hideList():this.showList()},render:function(){var e=this,t=g.default.isOpen+" "+(this.props.theme.isOpen||"");return a.default.createElement("div",{className:(0,p.default)(g.default.dropdown,this.props.theme.dropdown)},a.default.createElement("button",{type:"button",onClick:this.onButtonClicked,className:(0,p.default)(this.props.theme.button,g.default.btnDropdown),ref:function(t){e.buttonElement=t}},(0,d.default)(this.props.selected)?this.props.selected[this.props.textProperty]:this.props.children,(0,d.default)(this.props.theme.icon)?this.props.theme.icon:null),a.default.createElement("ul",{className:(0,p.default)(g.default.list,this.props.theme.list,i({},t,this.state.isOpen)),style:this.state.dropdownPosition},this.props.options.map(function(e,t){var n=this;return a.default.createElement("li",{key:e[this.props.textProperty]},e.href?a.default.createElement("a",{href:e.href,className:(0,p.default)(g.default.btnOption,this.props.theme.btnOption||"",i({},g.default.isSelected,e===this.props.selected)),download:e.download},e[this.props.textProperty]):a.default.createElement("button",{type:"button",className:(0,p.default)(g.default.btnOption,this.props.theme.btnOption||"",i({},g.default.isSelected,e===this.props.selected)),onClick:function(){return n.select(e,t)}},e[this.props.textProperty]))},this)))}});e.exports=_},function(e,t,n){"use strict";function r(e,t,n,r,a){var s;return v(t.share)&&(v(e.shareDataService)?s=e.shareDataService.resolveData(t.share):v(e.urlShortener)&&(s=e.urlShortener.expand(t.share).then(function(e){return e&&w(new d(e).fragment())}))),E(s,function(s){Object.keys(t).forEach(function(s){var u=t[s];if("clean"===s)r.length=0,a.length=0;else if("start"===s){var l=JSON.parse(u);i(e,l,r,a)}else if(v(u)&&u.length>0)n[s]=u,b.track(n,[s]);else{var c=o(s);r.push(c),a.push(c)}}),s&&i(e,s,r,a)})}function i(e,t,n,r){if(v(t.version)&&t.version!==Y&&l(t),v(e.filterStartDataCallback)&&(t=e.filterStartDataCallback(t)||t),v(t.initSources))for(var i=0;i<t.initSources.length;++i){var o=t.initSources[i];r.indexOf(o)<0&&(r.push(o),"string"==typeof o&&n.indexOf(o)<0&&n.push(o))}}function o(e){return".json"!==e.toLowerCase().substring(e.length-5)?{initFragment:e}:e}function a(e,t){return t.reduce(function(t,n){return t.then(s.bind(void 0,e,n)).then(function(t){if(v(t))return e.addInitSource(t)})},E())}function s(e,t){var n=void 0,r=void 0;if("string"==typeof t)n=t,r=R(e.corsProxy.getURLProxyIfNecessary(t));else if("object"===(void 0===t?"undefined":h(t))&&"string"==typeof t.initFragment){var i=function(){var i=t.initFragment,o=e.configParameters.initFragmentPaths;if(0===o.length)return e.error.raiseEvent({title:"Error loading initialization source",message:"Could not load initialization information from "+i+" because no initFragmentPaths are defined."}),{v:void 0};n=o.map(function(e){return u(e,i)}).join(", "),r=R(e.corsProxy.getURLProxyIfNecessary(u(o[0],i)));for(var a=1;a<o.length;++a)!function(t){r=r.otherwise(function(){return R(e.corsProxy.getURLProxyIfNecessary(u(o[t],i)))})}(a)}();if("object"===(void 0===i?"undefined":h(i)))return i.v}return r?r.then(function(e){return e.isFromExternalFile=!0,e}).otherwise(function(){e.error.raiseEvent({title:"Error loading initialization source",message:"An error occurred while loading initialization information from "+n+".  This may indicate that you followed an invalid link or that there is a problem with your Internet connection."})}):t}function u(e,t){return e+t+".json"}function l(e){if("0.0.03"===e.version)for(var t=0;t<e.initSources.length;++t)v(e.initSources[t].camera)&&(e.initSources[t].initialCamera=e.initSources[t].camera,e.initSources[t].camera=void 0)}function c(e,t,n){if(v(e.configParameters.globalDisclaimer)&&v(t)){var r=e.configParameters.globalDisclaimer,i=window.location.hostname;if((!v(r.enabled)||r.enabled)&&(r.enableOnLocalhost||-1===i.indexOf("localhost"))){var o="";v(n)&&(v(r.devHostRegex)&&i.match(r.devHostRegex)||v(r.prodHostRegex)&&!i.match(r.prodHostRegex))&&(o+=n),o+=t;var a={title:void 0!==r.title?r.title:"Disclaimer",confirmText:r.buttonTitle||"I Agree",width:r.width||600,height:r.height||550,message:o,hideUi:r.hideUi};e.error.raiseEvent(a)}}}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n(33),f=n(103),p=n(15),m=n(42),g=n(1579),_=n(1),v=n(0),A=n(94),y=n(3),b=n(13),w=n(299),x=n(16),E=n(7),C=n(180),S=C.addMarker,T=n(1581),I=n(1582),M=n(1583),O=n(687),P=n(1584),D=n(224),B=n(455),L=n(688),N=n(1585),R=n(1586),k=n(690),F=n(1587),U=n(1588),z=n(81),j=n(1589),H=n(1590),V=n(1591),Q=n(133),G={defaultMaximumShownFeatureInfos:100,regionMappingDefinitionsUrl:"data/regionMapping.json",conversionServiceBaseUrl:"convert/",proj4ServiceBaseUrl:"proj4/",corsProxyBaseUrl:"proxy/",proxyableDomainsUrl:"proxyabledomains/",shareUrl:"share",feedbackUrl:void 0,initFragmentPaths:["init/"],interceptBrowserPrint:!0,useCesiumIonTerrain:!0,useCesiumIonBingImagery:void 0,cesiumIonAccessToken:void 0,cesiumTerrainUrl:void 0},W=["baseMapName","fogSettings","splitPosition"],q=function(e){if(void 0===window.console&&(window.console={log:function(){},warn:function(){},error:function(){}}),v(window.Promise)||(A("promise-polyfill","This browser does not have Promise support. It will be polyfilled automatically, but an external polyfill (e.g. polyfill.io) will be required starting in TerriaJS v7.0"),window.Promise=U),!v(e)||!v(e.baseUrl))throw new y("options.baseUrl is required.");this.baseUrl=_(e.baseUrl,"build/TerriaJS/"),this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&(this.baseUrl+="/");var t=_(e.cesiumBaseUrl,this.baseUrl+"build/Cesium/build/");t.lastIndexOf("/")!==t.length-1&&(t+="/"),this.cesiumBaseUrl=t,f.setBaseUrl(t),this.analytics=e.analytics,v(this.analytics)||("undefined"!=typeof window&&v(window.ga)?this.analytics=new B:this.analytics=new O),this.appName=_(e.appName,"TerriaJS App"),this.supportEmail=_(e.supportEmail,"support@terria.io"),this.autoPlay=!1,this.batchGeocoder=e.batchGeocoder,this.error=new p,this.viewerMode=_(e.viewerMode,Q.CesiumTerrain),this.baseMap=void 0,this.fogSettings=void 0,this.baseMapName=void 0,this.baseMapContrastColor="#ffffff",this.beforeViewerChanged=new p,this.afterViewerChanged=new p,this.dataSources=new g,this.clock=new M({shouldAnimate:!1}),this.timeSeriesStack=new V(this.clock),this._initialView=void 0,this.homeView=new T(x.MAX_VALUE),this.zoomWhenInitialViewChanges=!0,this.corsProxy=new P,this.cesium=void 0,this.leaflet=void 0,this._noViewer=new k(this),this.currentViewer=this._noViewer,this.userProperties={},this.initSources=[],this.locationMarker=void 0,this.pickedFeatures=void 0,this.mapInteractionModeStack=[],this.catalog=new I(this),this.services=new H(this),this.nowViewing=new F(this),this.selectedFeature=void 0,this.configParameters=G,this.urlShortener=void 0,this.shareDataService=void 0,this.serverConfig=void 0,this.tileLoadProgressEvent=new p,this.disclaimerListener=function(e,t){window.alert(e.initialMessage.content),t()},this.selectBox=!1,this.filterStartDataCallback=void 0,this.showSplitter=!1,this.splitPosition=.5,this.splitPositionVertical=.5,b.track(this,["viewerMode","baseMap","baseMapName","fogSettings","_initialView","homeView","locationMarker","pickedFeatures","selectedFeature","mapInteractionModeStack","configParameters","catalog","selectBox","currentViewer","showSplitter","splitPosition","splitPositionVertical","baseMapContrastColor"]),b.defineProperty(this,"initialView",{get:function(){return this._initialView?this._initialView:this.homeView},set:function(e){this._initialView=e}}),b.getObservable(this,"initialView").subscribe(function(){this.zoomWhenInitialViewChanges&&v(this.currentViewer)&&this.currentViewer.zoomTo(this.initialView,2)},this)};q.prototype.start=function(e){function t(e){return e&&"/"!==e[e.length-1]?e+"/":e}this.catalog.isLoading=!0;var n=_(e.applicationUrl,"");this.urlShortener=e.urlShortener,this.shareDataService=e.shareDataService;var r=this;return R(e.configUrl).then(function(i){v(i.parameters)&&(r.configParameters=m(i.parameters,r.configParameters));var a=r.configParameters;a.conversionServiceBaseUrl=t(a.conversionServiceBaseUrl),a.proj4ServiceBaseUrl=t(a.proj4ServiceBaseUrl),a.corsProxyBaseUrl=t(a.corsProxyBaseUrl),r.appName=_(a.appName,_(e.appName,r.appName)),r.supportEmail=_(a.supportEmail,_(e.supportEmail,r.supportEmail)),v(a.autoPlay)&&(r.autoPlay=a.autoPlay),r.analytics.start(r.configParameters),r.analytics.logEvent("launch","url",v(n.href)?n.href:"empty");var s=i.initializationUrls;if(v(s))for(var u=0;u<s.length;u++)r.initSources.push(o(s[u]));c(r,e.globalDisclaimerHtml,e.developmentDisclaimerPreambleHtml),r.serverConfig=new j;var l=void 0;return r.serverConfig.init(a.serverConfigUrl).then(function(){var e=r.configParameters.proxyableDomainsUrl;if(e)return R(e)}).then(function(e){e&&(e.allowProxyFor=e.allowProxyFor||e.proxyableDomains),"object"===h(r.serverConfig)&&(l=r.serverConfig.config),r.shareDataService&&r.shareDataService.init(l),r.corsProxy.init(e||l,a.corsProxyBaseUrl,i.proxyDomains)}).otherwise(function(e){console.error(e),r.error.raiseEvent({title:"Failed to initialize services",message:"A problem occurred with the Terria server. This may cause some layers or the conversion service to be unavailable."})}).then(function(){return r.updateApplicationUrl(n,r.urlShortener)}).then(function(){if(_(e.persistViewerMode,!0)&&v(r.getLocalProperty("viewermode")))r.viewerMode=parseInt(r.getLocalProperty("viewermode"),10);else{if(N()&&!v(r.userProperties.map)&&(r.viewerMode=Q.Leaflet,v(r.configParameters.mobileDefaultViewerMode)&&"string"==typeof r.configParameters.mobileDefaultViewerMode)){var t=r.configParameters.mobileDefaultViewerMode.toLowerCase();"3dterrain"===t?r.viewerMode=Q.CesiumTerrain:"3dsmooth"===t?r.viewerMode=Q.CesiumEllipsoid:"2d"===t&&(r.viewerMode=Q.Leaflet)}e.defaultTo2D&&!v(r.userProperties.map)&&(r.viewerMode=Q.Leaflet)}r.catalog.isLoading=!1}).otherwise(function(e){console.error("Error from updateApplicationUrl: ",e),r.error.raiseEvent({title:"Problem loading URL",message:"A problem occurred while initialising Terria with URL parameters."})})})},q.prototype.updateApplicationUrl=function(e){var t=new d(e),n=t.fragment(),i=w(n),o=this.initSources.slice(),s=r(this,i,this.userProperties,this.initSources,o),u=this;return E(s).then(function(){var e=(u.userProperties.map||"").toLowerCase();return"2d"===e?u.viewerMode=Q.Leaflet:"3d"===e?u.viewerMode=Q.CesiumTerrain:"3dsmooth"===e&&(u.viewerMode=Q.CesiumEllipsoid),a(u,o)})},q.prototype.updateFromStartData=function(e){var t=this.initSources.slice();return i(this,e,this.initSources,t),a(this,t)},q.prototype.getUserProperty=function(e){return b.getObservable(this.userProperties,e)||(this.userProperties[e]=void 0,b.track(this.userProperties,[e])),this.userProperties[e]},q.prototype.addInitSource=function(e){var t=E(),n=this;if(v(e.corsDomains)&&this.corsProxy.corsDomains.push.apply(this.corsProxy.corsDomains,e.corsDomains),v(e.homeCamera)&&(this.homeView=T.fromJson(e.homeCamera)),v(e.initialCamera)&&(this.initialView=T.fromJson(e.initialCamera)),W.forEach(function(t){v(e[t])&&(n[t]=e[t])}),v(e.showSplitter)&&z(function(){n.showSplitter=e.showSplitter}),v(e.viewerMode)&&!v(this.userProperties.map)){var r=(e.viewerMode||"").toLowerCase();"2d"===r?this.viewerMode=Q.Leaflet:"3d"===r?this.viewerMode=Q.CesiumTerrain:"3dsmooth"===r&&(this.viewerMode=Q.CesiumEllipsoid)}if(v(e.currentTime)){this.autoPlay=!1;var i=e.currentTime;this.clock.currentTime.dayNumber=parseInt(i.dayNumber,10),this.clock.currentTime.secondsOfDay=parseInt(i.secondsOfDay,10)}if(v(e.services)&&this.services.services.push.apply(this.services,e.services),v(e.catalog)){var o=!e.isFromExternalFile;t=t.then(this.catalog.updateFromJson.bind(this.catalog,e.catalog,{isUserSupplied:o}))}if(v(e.sharedCatalogMembers)&&(t=t.then(this.catalog.updateByShareKeys.bind(this.catalog,e.sharedCatalogMembers))),v(e.locationMarker)){var a={name:e.locationMarker.name,location:{latitude:e.locationMarker.latitude,longitude:e.locationMarker.longitude}};S(this,a)}return v(e.pickedFeatures)&&t.then(function(){var t,r=function(){v(t)&&t();var r,i={},o=e.pickedFeatures.entities;if(o){n.nowViewing.items.filter(function(e){return e.isEnabled&&e.isShown&&v(e.dataSource)&&v(e.dataSource.entities)}).forEach(function(e){(e.dataSource.entities.values||[]).forEach(function(e){var t=L(e,n.clock),r=D.fromEntityCollectionOrEntity(e);i[t]=i[t]?i[t].concat([r]):[r]})}),r=o.map(function(e){var t=_(i[e.hash],[]).filter(function(t){return t.name===e.name});return t.length&&t[0]}).filter(function(e){return v(e)})}n.currentViewer.pickFromLocation(e.pickedFeatures.pickCoords,e.pickedFeatures.providerCoords,r),n.pickedFeatures.allFeaturesAvailablePromise.then(function(){if(n.pickedFeatures.features.forEach(function(e){var t=L(e,n.clock),r=e;i[t]=i[t]?i[t].concat([r]):[r]}),v(e.pickedFeatures.current)){var t=_(i[e.pickedFeatures.current.hash],[]).filter(function(t){return t.name===e.pickedFeatures.current.name});n.selectedFeature=t.length&&t[0]}})};n.currentViewer!==n._noViewer?r():t=n.afterViewerChanged.addEventListener(r)}),t},q.prototype.getLocalProperty=function(e){try{if(!v(window.localStorage))return}catch(e){return}var t=window.localStorage.getItem(this.appName+"."+e);return"true"===t||"false"!==t&&t},q.prototype.setLocalProperty=function(e,t){try{if(!v(window.localStorage))return}catch(e){return}return window.localStorage.setItem(this.appName+"."+e,t),!0};var Y="0.0.05";e.exports=q},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r={},i=(0,u.default)(n,{}),o=(0,u.default)(i.digits,5);return r.latitude=Math.abs(t).toFixed(o)+"°"+(t<0?"S":"N"),r.longitude=Math.abs(e).toFixed(o)+"°"+(e<0?"W":"E"),(0,a.default)(i.height)?r.elevation=Math.round(i.height)+((0,a.default)(i.errorBar)?"±"+Math.round(i.errorBar):"")+"m":r.elevation=void 0,r}var o=n(0),a=r(o),s=n(1),u=r(s);e.exports=i},function(e,t,n){"use strict";function r(e){for(;(0,o.default)(e.parent);){if(e.parent.name===a)return!0;e=e.parent}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.USER_ADDED_CATEGORY_NAME=void 0;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a="User-Added Data";t.default=r,t.USER_ADDED_CATEGORY_NAME=a},function(e,t,n){(function(t){function n(e,t,n){function i(t){var n=m,r=g;return m=g=void 0,E=t,v=e.apply(r,n)}function o(e){return E=e,A=setTimeout(c,t),C?i(e):v}function u(e){var n=e-x,r=e-E,i=t-n;return S?b(i,_-r):i}function l(e){var n=e-x,r=e-E;return void 0===x||n>=t||n<0||S&&r>=_}function c(){var e=w();if(l(e))return h(e);A=setTimeout(c,u(e))}function h(e){return A=void 0,T&&m?i(e):(m=g=void 0,v)}function d(){void 0!==A&&clearTimeout(A),E=0,m=x=g=A=void 0}function f(){return void 0===A?v:h(w())}function p(){var e=w(),n=l(e);if(m=arguments,g=this,x=e,n){if(void 0===A)return o(x);if(S)return A=setTimeout(c,t),i(x)}return void 0===A&&(A=setTimeout(c,t)),v}var m,g,_,v,A,x,E=0,C=!1,S=!1,T=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,r(n)&&(C=!!n.leading,S="maxWait"in n,_=S?y(a(n.maxWait)||0,t):_,T="trailing"in n?!!n.trailing:T),p.cancel=d,p.flush=f,p}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==typeof e}function o(e){return"symbol"==typeof e||i(e)&&A.call(e)==l}function a(e){if("number"==typeof e)return e;if(o(e))return u;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=d.test(e);return n||f.test(e)?p(e.slice(2),n?2:8):h.test(e)?u:+e}var s="Expected a function",u=NaN,l="[object Symbol]",c=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,m="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,_=m||g||Function("return this")(),v=Object.prototype,A=v.toString,y=Math.max,b=Math.min,w=function(){return _.Date.now()};e.exports=n}).call(t,n(48))},function(e,t,n){"use strict";var r=n(204),i=n(1620),o=n(3),a=n(0),s=n(1),u=n(25),l=n(454),c=n(164),h=n(219),d=n(296),f=n(13),p=n(156),m=n(7),g=n(10),_=function(e){if(e=s(e,s.EMPTY_OBJECT),!a(e.terria))throw new o("Terria instance is required.");this.messageHeader=s(e.messageHeader,"Draw on Map"),this.allowPolygon=s(e.allowPolygon,!0),this.onPointClicked=e.onPointClicked,this.onPointMoved=e.onPointMoved,this.onCleanUp=e.onCleanUp,this.onMakeDialogMessage=e.onMakeDialogMessage,this.terria=e.terria,this.pointEntities=new c("Points"),this.otherEntities=new c("Lines and polygons"),this.polygon=void 0,this.inDrawMode=!1,this.closeLoop=!1;this.svgPoint='data:image/svg+xml,<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" xml:space="preserve"><circle cx="10" cy="10" r="5" stroke="rgb(0,170,215)" stroke-width="4" fill="white" /> </svg>';var t=this;this.dragHelper=new i(e.terria,function(e){"function"==typeof t.onPointMoved&&t.onPointMoved(e),t._prepareToAddNewPoint()})};_.prototype.enterDrawMode=function(){if(this.dragHelper.setUp(),!this.inDrawMode&&!this.closeLoop){this.inDrawMode=!0,a(this.terria.cesium)?this.terria.cesium.viewer.canvas.setAttribute("style","cursor: crosshair"):a(this.terria.leaflet)&&document.getElementById("cesiumContainer").setAttribute("style","cursor: crosshair"),this.terria.pickedFeatures=void 0;var e=this;this.otherEntities.entities.add({name:"Line",polyline:{positions:new h(function(t,n){var r=e._getPointsForShape();return e.closeLoop&&r.push(r[0]),r},!1),material:new l({color:new u(0,0,0,.1),glowPower:.25}),width:20}}),this.terria.dataSources.add(this.pointEntities),this.terria.dataSources.add(this.otherEntities);var t=new r({message:this._getDialogMessage(),buttonText:this._getButtonText(),onCancel:function(){e.terria.mapInteractionModeStack.pop(),e._cleanUp()}});this.terria.mapInteractionModeStack.push(t),f.getObservable(t,"pickedFeatures").subscribe(function(t){m(t.allFeaturesAvailablePromise,function(){if(a(t.pickPosition)){var n=t.pickPosition;e._addPointToPointEntities("First Point",n),e._prepareToAddNewPoint()}})})}},_.prototype._getDialogMessage=function(){var e="<strong>"+this.messageHeader+"</strong></br>",t="";"function"==typeof this.onMakeDialogMessage&&(t=this.onMakeDialogMessage()),""!==t&&(e+=t+"</br>");var n="a";return this.pointEntities.entities.values.length>0&&(n="another"),"<div>"+(e+="<i>Click to add "+n+" point</i>")+"</div>"},_.prototype._getButtonText=function(){var e="Cancel";return this.pointEntities.entities.values.length>=2&&(e="Done"),e},_.prototype._cleanUp=function(){this.terria.dataSources.remove(this.pointEntities),this.pointEntities=new c("Points"),this.terria.dataSources.remove(this.otherEntities),this.otherEntities=new c("Lines and polygons"),this.inDrawMode=!1,this.closeLoop=!1,a(this.terria.cesium)?this.terria.cesium.viewer.canvas.setAttribute("style","cursor: auto"):a(this.terria.leaflet)&&document.getElementById("cesiumContainer").setAttribute("style","cursor: auto"),"function"==typeof this.onCleanUp&&this.onCleanUp()},_.prototype._mapInteractionModeUpdate=function(){this.terria.mapInteractionModeStack.pop();var e=this,t=new r({message:this._getDialogMessage(),buttonText:this._getButtonText(),onCancel:function(){e.terria.mapInteractionModeStack.pop(),e._cleanUp()}});return this.terria.mapInteractionModeStack.push(t),t},_.prototype._prepareToAddNewPoint=function(){var e=this._mapInteractionModeUpdate(),t=this;f.getObservable(e,"pickedFeatures").subscribe(function(e){m(e.allFeaturesAvailablePromise,function(){if(a(e.pickPosition)){var n=e.pickPosition;t.dragHelper.getDragCount()<10&&!t._clickedExistingPoint(e.features)?t._addPointToPointEntities("Another Point",n):t.dragHelper.resetDragCount(),t._prepareToAddNewPoint()}})})},_.prototype._getPointsForShape=function(){if(a(this.pointEntities.entities)){for(var e=[],t=0;t<this.pointEntities.entities.values.length;t++){var n=this.pointEntities.entities.values[t];if(a(n.position)){var r=n.position.getValue(this.terria.clock.currentTime);e.push(r)}}return e}},_.prototype._clickedExistingPoint=function(e){var t=this,n=!1;if(e.length<1)return n;var r=this;return e.forEach(function(e){for(var i=-1,o=0;o<t.pointEntities.entities.values.length;o++){if(t.pointEntities.entities.values[o].id===e.id){i=o;break}}return-1===i?void 0:0===i&&!t.closeLoop&&t.allowPolygon?(t.polygon=t.otherEntities.entities.add({name:"User polygon",polygon:{hierarchy:new h(function(e,t){return new d(r._getPointsForShape())},!1),material:new u(0,.666,.843,.25),outlineColor:new u(1,1,1,1),perPositionHeight:!0}}),t.closeLoop=!0,"function"==typeof r.onPointClicked&&r.onPointClicked(r.pointEntities),void(n=!0)):(t.pointEntities.entities.removeById(e.id),t.pointEntities.entities.values.length<2&&t.closeLoop&&(t.closeLoop=!1,t.otherEntities.entities.remove(t.polygon)),"function"==typeof r.onPointClicked&&r.onPointClicked(r.pointEntities),void(n=!0))}),n},_.prototype._addPointToPointEntities=function(e,t){var n=new p({name:e,position:t,billboard:{image:this.svgPoint,eyeOffset:new g(0,0,-50)}});this.pointEntities.entities.add(n),this.dragHelper.updateDraggableObjects(this.pointEntities),"function"==typeof this.onPointClicked&&this.onPointClicked(this.pointEntities)},e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return a.default.createElement("div",{className:c.default.root},e.href?a.default.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",onClick:e.onClick,className:c.default.link},e.caption):a.default.createElement("button",{onClick:e.onClick,className:c.default.link},e.caption))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(4),a=r(o),s=n(5),u=r(s),l=n(1626),c=r(l);i.propTypes={href:u.default.string,onClick:u.default.func,caption:u.default.string},i.defaultProps={onClick:function(){}}},function(e,t,n){"use strict";function r(e){function t(t){return{shouldProcessNode:t.shouldProcessNode,processNode:t.processNode.bind(null,e)}}for(var n=[],r=l.values(),i=0;i<r.length;i++)!function(i){var o=r[i];n.push({shouldProcessNode:function(e){return e.name===o.name},processNode:o.processNode.bind(null,e)});var a=o.furtherProcessing;u(a)&&(n=n.concat(a.map(t)))}(i);return n.push({shouldProcessNode:function(e){return"a"===e.name},processNode:function(e,t){return o.createElement("a",s({key:"anchor-"+p++,target:"_blank",rel:"noreferrer noopener"},e.attribs),e.data,t)}}),n.push({shouldProcessNode:f,processNode:h.processDefaultNode}),n}function i(e,t){return u(e)&&0!==e.length?c.parseWithInstructions(e,d,r(t||{})):e}var o=n(4),a=n(1638),s=n(42),u=n(0),l=n(283),c=new a.Parser({decodeEntities:!0}),h=new a.ProcessNodeDefinitions(o),d=function(){return!0},f=function(e){return"text"!==e.type||e.data.trim()},p=0;e.exports=i},function(e,t,n){var r=n(699),i=n(1641);e.exports=function(e,t,n){return function(){if(0===arguments.length)return n();var o=Array.prototype.slice.call(arguments,0),a=o.pop();if(!r(a)){for(var s=0;s<e.length;){if("function"==typeof a[e[s]])return a[e[s]].apply(a,o);s+=1}if(i(a)){return t.apply(null,o)(a)}}return n.apply(this,arguments)}}},function(e,t){e.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},function(e,t,n){var r=n(1649),i=n(1651),o=n(1652);e.exports=function(){function e(e,t,n){for(var r=0,i=n.length;r<i;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}function t(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function n(e,t,n,r){return e["@@transducer/result"](n[r](o(e["@@transducer/step"],e),t))}var a="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(o,s,u){if("function"==typeof o&&(o=i(o)),r(u))return e(o,s,u);if("function"==typeof u["fantasy-land/reduce"])return n(o,s,u,"fantasy-land/reduce");if(null!=u[a])return t(o,s,u[a]());if("function"==typeof u.next)return t(o,s,u);if("function"==typeof u.reduce)return n(o,s,u,"reduce");throw new TypeError("reduce: list must be array or iterable")}}()},function(e,t){e.exports=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,a){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,a,s){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,a,s,u){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,a,s,u,l){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,a,s,u,l,c){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(e,t){e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)}},function(e,t){e.exports=function(e){return null==e?"":""+e}},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(7),a=n(22),s=function(e,t,n){return n=r(n,r.EMPTY_OBJECT),o(t,function(t){if(i(t))return t.isUserSupplied=!0,e.catalog.userAddedDataGroup.add(t),r(n.open,!0)&&i(t.isOpen)&&(t.isOpen=!0),r(n.enable,!0)&&i(t.isEnabled)&&(t.isEnabled=!0),r(n.zoomTo,!0)&&i(t.zoomToAndUseClock)&&t.zoomToAndUseClock(),e.catalog.userAddedDataGroup.isOpen=!0,t}).otherwise(function(t){return t instanceof a||(t=new a({title:"Data could not be added",message:"The specified data could not be added because it is invalid or does not have the expected format."})),e.error.raiseEvent(t),t})};e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(372),o=r(i),a=n(410),s=r(a),u=n(1751),l=r(u),c=n(1753),h=r(c),d=n(1767),f=r(d),p=n(11),m=r(p),g=n(4),_=r(g),v=n(8),A=r(v),y=n(5),b=r(y),w=n(413),x=r(w),E=(0,A.default)({displayName:"DataPreview",mixins:[m.default],propTypes:{terria:b.default.object.isRequired,viewState:b.default.object,previewed:b.default.object},backToMap:function(){this.props.viewState.explorerPanelIsVisible=!1},render:function(){var e=this.props.previewed,t=void 0;return e&&!e.isMappable&&e.tableStructure&&(t=e.chartData()),_.default.createElement("div",{className:x.default.preview},e&&e.isMappable?_.default.createElement("div",{className:x.default.previewInner},_.default.createElement(f.default,{previewed:e,terria:this.props.terria,viewState:this.props.viewState})):t?_.default.createElement("div",{className:x.default.previewInner},_.default.createElement("h3",{className:x.default.h3},e.name),_.default.createElement("p",null,"This file does not contain geospatial data."),_.default.createElement("div",{className:x.default.previewChart},_.default.createElement(o.default,{data:t,axisLabel:{x:e.xAxis.units,y:void 0},height:216})),_.default.createElement(s.default,{item:e})):e&&void 0!==e.invoke?_.default.createElement(h.default,{previewed:e,terria:this.props.terria,viewState:this.props.viewState}):e&&e.isGroup?_.default.createElement("div",{className:x.default.previewInner},_.default.createElement(l.default,{previewed:e,terria:this.props.terria,viewState:this.props.viewState})):_.default.createElement("div",{className:x.default.placeholder},_.default.createElement("p",null,"Select a dataset to see a preview"),_.default.createElement("p",null,"- OR -"),_.default.createElement("button",{className:x.default.btnBackToMap,onClick:this.backToMap},"Go to the map")))}});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if((0,f.default)(e)){var t=e.indexOf("/"),n=e.indexOf(",");if(t<n&&n<40)return e.slice(t+1,n)}}function o(e,t,n){var r=t,i="."+n;return r.indexOf(i)!==r.length-i.length&&(r+=i),"local"===e&&(r="processed "+r),r}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(0),f=r(d),p=n(686),m=r(p),g=n(718),_=r(g),v=n(258),A=r(v),y=n(1749),b=r(y),w=n(11),x=r(w),E=n(127),C=r(E),S=n(414),T=r(S),I=(0,l.default)({displayName:"Description",mixins:[x.default],propTypes:{item:h.default.object.isRequired,printView:h.default.bool},render:function(){var e=this.props.item,t=e.dataUrlType,n=void 0,r=void 0,a=void 0;return"data-uri"!==t&&"local"!==t||(n=A.default.checkCompatibility())&&(r=e.dataUrl)&&(a=i(r)),s.default.createElement("div",{className:T.default.description},e.description&&e.description.length>0?s.default.createElement("div",null,s.default.createElement("h4",{className:T.default.h4},"Description"),(0,C.default)(e.description,{catalogItem:e})):null,"local"===e.dataUrlType?s.default.createElement("p",null,"This file only exists in your browser. To share it, you must load it onto a public web server."):null,"local"===e.dataUrlType||e.hasDescription?null:s.default.createElement("p",null,"Please contact the provider of this data for more information, including information about usage rights and constraints."),s.default.createElement(_.default,{metadataItem:e}),e.dataCustodian&&e.dataCustodian.length>0?s.default.createElement("div",null,s.default.createElement("h4",{className:T.default.h4},"Data Custodian"),(0,C.default)(e.dataCustodian,{catalogItem:e})):null,e.hideSource?null:[e.url?[s.default.createElement("h4",{className:T.default.h4,key:"0-0"},e.typeName," URL"),"wms"===e.type?s.default.createElement("p",{key:"wms-description"},"This is a ",s.default.createElement("a",{href:"https://en.wikipedia.org/wiki/Web_Map_Service",target:"_blank",rel:"noopener noreferrer"},"WMS service"),", which generates map images on request. It can be used in GIS software with this URL:"):"wfs"===e.type?s.default.createElement("p",{key:"wfs-description"},"This is a ",s.default.createElement("a",{href:"https://en.wikipedia.org/wiki/Web_Feature_Service",target:"_blank",rel:"noopener noreferrer"},"WFS service"),", which transfers raw spatial data on request. It can be used in GIS software with this URL:"):null,this.props.printView?s.default.createElement("code",{key:"0-2"},e.url):s.default.createElement("input",{readOnly:!0,className:T.default.field,type:"text",value:e.url,onClick:function(e){return e.target.select()},key:"0-2"}),"wms"===e.type||"esri-mapServer"===e.type&&(0,f.default)(e.layers)?s.default.createElement("p",{key:"wms-layers"},"Layer name",e.layers.split(",").length>1?"s":"",": ",e.layers):"wfs"===e.type?s.default.createElement("p",{key:"wfs-typeNames"},"Type name",e.typeNames.split(",").length>1?"s":"",": ",e.typeNames):null]:null,e.metadataUrl?[s.default.createElement("h4",{className:T.default.h4,key:"1-0"},"Metadata URL"),s.default.createElement("p",{key:"1-1"},s.default.createElement("a",{href:e.metadataUrl,target:"_blank",rel:"noopener noreferrer",className:T.default.link},e.metadataUrl))]:null,e.dataUrlType&&"none"!==e.dataUrlType&&e.dataUrl?[s.default.createElement("h4",{className:T.default.h4,key:"2-0"},"Data URL"),s.default.createElement("p",{key:"2-1"},0===e.dataUrlType.indexOf("wfs")||0===e.dataUrlType.indexOf("wcs")?["Use the link below to download the data. See the"," ",0===e.dataUrlType.indexOf("wfs")&&s.default.createElement("a",{href:"http://docs.geoserver.org/latest/en/user/services/wfs/reference.html",target:"_blank",rel:"noopener noreferrer",key:"wfs"},"Web Feature Service (WFS) documentation"),0===e.dataUrlType.indexOf("wcs")&&s.default.createElement("a",{href:"http://docs.geoserver.org/latest/en/user/services/wcs/reference.html",target:"_blank",rel:"noopener noreferrer",key:"wms"},"Web Coverage Service (WCS) documentation")," "," for more information on customising URL query parameters.",s.default.createElement("br",{key:"6"}),s.default.createElement(M,{url:e.dataUrl,text:e.dataUrl,key:"7"})]:"data-uri"===t||"local"===t?[n?s.default.createElement(M,{url:r,text:"Download the currently selected data in "+a.toUpperCase()+" format",download:o(t,e.name,a),key:"0"}):null,n?null:"Unfortunately your browser does not support the functionality needed to download this data as a file. Please use Chrome, Firefox or Safari to download this data."]:["Use the link below to download the data directly.",s.default.createElement("br",{key:"1"}),s.default.createElement(M,{url:e.dataUrl,text:e.dataUrl,key:"2"})])]:null,!this.props.printView&&(0,f.default)(e.metadata)?[(0,f.default)(e.metadata.dataSourceMetadata)&&e.metadata.dataSourceMetadata.items.length>0?s.default.createElement("div",{className:T.default.metadata,key:"3-0"},s.default.createElement(m.default,{title:"Data Source Details",isInverse:!0},s.default.createElement(b.default,{metadataItem:e.metadata.dataSourceMetadata}))):null,(0,f.default)(e.metadata.dataSourceMetadata)&&e.metadata.dataSourceMetadata.items.length>0?s.default.createElement("div",{className:T.default.metadata,key:"3-1"},s.default.createElement(m.default,{title:"Data Service Details",isInverse:!0},s.default.createElement(b.default,{metadataItem:e.metadata.serviceMetadata}))):null]:null])}}),M=(0,l.default)({displayName:"Link",mixins:[x.default],propTypes:{url:h.default.string.isRequired,text:h.default.string.isRequired,download:h.default.string},render:function(){return s.default.createElement("a",{href:this.props.url,className:T.default.link,download:this.props.download,target:"_blank",rel:"noopener noreferrer"},this.props.text)}});t.default=I},function(e,t,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},r.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))})})},r.prototype.at=function(e,t,n){var r=this.__find__(e),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=i.alt||[],this.__cache__=null},r.prototype.before=function(e,t,n,r){var i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},r.prototype.after=function(e,t,n,r){var i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},r.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},r.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},r.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},r.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(t=this.attrs,n=0,r=t.length;n<r;n++)if(t[n][0]===e)return n;return-1},r.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},r.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},r.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=r},function(e,t){e.exports={preview:"tjs-data-preview__preview tjs-_base__scrollbars",placeholder:"tjs-data-preview__placeholder","btn--back-to-map":"tjs-data-preview__btn--back-to-map tjs-_buttons__btn tjs-_buttons__btn--tertiary",btnBackToMap:"tjs-data-preview__btn--back-to-map tjs-_buttons__btn tjs-_buttons__btn--tertiary",preview__inner:"tjs-data-preview__preview__inner tjs-_base__scrollbars",previewInner:"tjs-data-preview__preview__inner tjs-_base__scrollbars","preview-chart":"tjs-data-preview__preview-chart",previewChart:"tjs-data-preview__preview-chart",field:"tjs-data-preview__field tjs-_form__field tjs-_form__input",h4:"tjs-data-preview__h4 tjs-_base__h4",h3:"tjs-data-preview__h3 tjs-_base__h3"}},function(e,t){e.exports={description:"tjs-mappable-preview__description","btn--add":"tjs-mappable-preview__btn--add tjs-_buttons__btn tjs-_buttons__btn-primary",btnAdd:"tjs-mappable-preview__btn--add tjs-_buttons__btn tjs-_buttons__btn-primary","previewed--info":"tjs-mappable-preview__previewed--info",previewedInfo:"tjs-mappable-preview__previewed--info",field:"tjs-mappable-preview__field tjs-_form__field tjs-_form__input",link:"tjs-mappable-preview__link",h3:"tjs-mappable-preview__h3 tjs-_base__h3",h4:"tjs-mappable-preview__h4 tjs-_base__h4",error:"tjs-mappable-preview__error",metadata:"tjs-mappable-preview__metadata"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(5),s=r(a),u=n(8),l=r(u),c=n(398),h=r(c),d=n(30),f=r(d),p=n(1778),m=r(p);t.default=(0,l.default)({displayName:"SearchBox",propTypes:{onSearchTextChanged:s.default.func.isRequired,onDoSearch:s.default.func.isRequired,searchText:s.default.string.isRequired,onFocus:s.default.func,placeholder:s.default.string,onClear:s.default.func,alwaysShowClear:s.default.bool,autoFocus:s.default.bool},getDefaultProps:function(){return{placeholder:"Search",alwaysShowClear:!1,autoFocus:!1}},UNSAFE_componentWillMount:function(){this.searchWithDebounce=(0,h.default)(this.search,2e3)},componentWillUnmount:function(){this.removeDebounce()},hasValue:function(){return this.props.searchText.length>0},search:function(){this.removeDebounce(),this.props.onDoSearch()},removeDebounce:function(){this.searchWithDebounce.cancel()},handleChange:function(e){var t=e.target.value;this.props.onSearchTextChanged(t),this.searchWithDebounce()},clearSearch:function(){this.props.onSearchTextChanged(""),this.search(),this.props.onClear&&this.props.onClear()},onKeyDown:function(e){13===e.keyCode&&this.search()},render:function(){var e=o.default.createElement("button",{type:"button",className:m.default.searchClear,onClick:this.clearSearch},o.default.createElement(f.default,{glyph:f.default.GLYPHS.close}));return o.default.createElement("form",{className:m.default.searchData,autoComplete:"off",onSubmit:function(e){return e.preventDefault()}},o.default.createElement("label",{htmlFor:"search",className:m.default.formLabel},o.default.createElement(f.default,{glyph:f.default.GLYPHS.search})),o.default.createElement("input",{id:"search",type:"text",name:"search",value:this.props.searchText,onChange:this.handleChange,onFocus:this.props.onFocus,onKeyDown:this.onKeyDown,className:m.default.searchField,placeholder:this.props.placeholder,autoComplete:"off",autoFocus:this.props.autoFocus}),(this.props.alwaysShowClear||this.hasValue())&&e)}})},function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s=o[1],u=o[2],l=o[3],c={css:s,media:u,sourceMap:l};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}function o(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=A[A.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),A.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=g(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=A.indexOf(e);t>=0&&A.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),o(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),o(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var l=v++;n=_||(_=s(t)),r=h.bind(null,n,l,!1),i=h.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=f.bind(null,n,t),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=d.bind(null,n),i=function(){a(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function h(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function d(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=y(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){if(void 0===t[n]){var r=e.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[n]=r}return t[n]}}(function(e){return document.querySelector(e)}),_=null,v=0,A=[],y=n(1825);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=p[s.id];u.refs--,o.push(u)}if(e){r(i(e,t),t)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete p[u.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(5),u=r(s),l=n(8),c=r(l),h=n(30),d=r(h),f=n(1859),p=r(f),m=n(28),g=r(m),_=(0,c.default)({displayName:"SearchResult",propTypes:{name:u.default.string.isRequired,clickAction:u.default.func.isRequired,icon:u.default.string,theme:u.default.string},getDefaultProps:function(){return{icon:!1,theme:"dark"}},render:function(){var e;return a.default.createElement("li",{className:(0,g.default)(p.default.searchResult,(e={},i(e,p.default.dark,"dark"===this.props.theme),i(e,p.default.light,"light"===this.props.theme),e))},a.default.createElement("button",{type:"button",onClick:this.props.clickAction,className:p.default.btn},this.props.icon&&a.default.createElement("span",{className:p.default.icon},a.default.createElement(d.default,{glyph:d.default.GLYPHS[this.props.icon]})),a.default.createElement("span",{className:p.default.resultName},this.props.name),a.default.createElement("span",{className:p.default.arrowIcon},a.default.createElement(d.default,{glyph:d.default.GLYPHS.right}))))}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return e.parent.items.every(function(t){return t===e?t.isActive:!t.isActive})}var a=n(28),s=r(a),u=n(30),l=r(u),c=n(11),h=r(c),d=n(4),f=r(d),p=n(8),m=r(p),g=n(5),_=r(g),v=n(739),A=r(v),y=(0,m.default)({displayName:"Concept",mixins:[h.default],propTypes:{concept:_.default.object.isRequired,hideName:_.default.bool,isLoading:_.default.bool},toggleOpen:function(){this.props.concept.toggleOpen()},toggleActive:function(){this.props.isLoading||this.props.concept.toggleActive()},getColorStyle:function(){if(this.props.concept.color)return{color:this.props.concept.color}},getFillStyle:function(){if(this.props.concept.color)return{fill:this.props.concept.color}},render:function(){var e,t=this.props.concept,n=t.parent&&t.parent.allowMultiple,r=(0,s.default)(A.default.header,(e={},i(e,A.default.hasChildren,t.hasChildren),i(e,A.default.isSelectable,t.isSelectable),i(e,A.default.isLoading,this.props.isLoading),i(e,A.default.unSelectable,t.parent&&t.parent.requireSomeActive&&o(t)),e));return f.default.createElement("li",{style:this.getColorStyle()},!this.props.hideName&&t.name?f.default.createElement("div",{className:r},f.default.createElement("div",{className:A.default.btnGroup},t.hasChildren?f.default.createElement("button",{type:"button",onClick:this.toggleOpen,style:this.getColorStyle(),className:A.default.btnToggleOpen,title:"open variable selection"},t.isOpen?f.default.createElement(l.default,{glyph:l.default.GLYPHS.showLess}):f.default.createElement(l.default,{glyph:l.default.GLYPHS.showMore})):null,t.isSelectable?f.default.createElement("button",{type:"button",onClick:this.toggleActive,style:this.getColorStyle(),className:A.default.btnToggleActive,title:"select variable"},t.isActive&&n&&f.default.createElement(l.default,{style:this.getFillStyle(),glyph:l.default.GLYPHS.checkboxOn}),!t.isActive&&n&&f.default.createElement(l.default,{style:this.getFillStyle(),glyph:l.default.GLYPHS.checkboxOff}),t.isActive&&!n&&f.default.createElement(l.default,{style:this.getFillStyle(),glyph:l.default.GLYPHS.radioOn}),!t.isActive&&!n&&f.default.createElement(l.default,{style:this.getFillStyle(),glyph:l.default.GLYPHS.radioOff})):null),t.name):null,t.isOpen?f.default.createElement("ul",{className:A.default.items},t.items.filter(function(e){return e.isVisible}).map(function(e,n){return f.default.createElement(y,{key:n,concept:e,allowMultiple:t.allowMultiple,isLoading:this.props.isLoading})},this)):null)}});e.exports=y},function(e,t){e.exports={btnClose:"tjs-summary-concept__btnClose tjs-_buttons__btn",btnOpen:"tjs-summary-concept__btnOpen tjs-_buttons__btn",root:"tjs-summary-concept__root",title:"tjs-summary-concept__title",section:"tjs-summary-concept__section",controls:"tjs-summary-concept__controls","is-loading":"tjs-summary-concept__is-loading",isLoading:"tjs-summary-concept__is-loading",heading:"tjs-summary-concept__heading",condition:"tjs-summary-concept__condition","children-list":"tjs-summary-concept__children-list tjs-concept-viewer__children-list tjs-_base__list-reset tjs-_base__clearfix",childrenList:"tjs-summary-concept__children-list tjs-concept-viewer__children-list tjs-_base__list-reset tjs-_base__clearfix",btnRemove:"tjs-summary-concept__btnRemove tjs-_buttons__btn",btnEdit:"tjs-summary-concept__btnEdit tjs-_buttons__btn","no-conditions":"tjs-summary-concept__no-conditions tjs-summary-concept__heading",noConditions:"tjs-summary-concept__no-conditions tjs-summary-concept__heading",btnAddOpen:"tjs-summary-concept__btnAddOpen tjs-summary-concept__btnOpen tjs-_buttons__btn",indented:"tjs-summary-concept__indented",btnBack:"tjs-summary-concept__btnBack tjs-_buttons__btn",items:"tjs-summary-concept__items tjs-concept-viewer__items tjs-_base__list-reset","list-reset":"tjs-summary-concept__list-reset tjs-_base__list-reset",listReset:"tjs-summary-concept__list-reset tjs-_base__list-reset",btnAddNew:"tjs-summary-concept__btnAddNew tjs-summary-concept__btnOpen tjs-_buttons__btn tjs-summary-concept__heading",text:"tjs-summary-concept__text"}},function(e,t,n){var r,i;r=[n(25),n(0),n(2),n(15),n(43),n(89)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e){this._definitionChanged=new r,this._color=void 0,this._colorSubscription=void 0,this.color=e}return n(a.prototype,{isConstant:{get:function(){return o.isConstant(this._color)}},definitionChanged:{get:function(){return this._definitionChanged}},color:i("color")}),a.prototype.getType=function(e){return"Color"},a.prototype.getValue=function(n,r){return t(r)||(r={}),r.color=o.getValueOrClonedDefault(this._color,n,e.WHITE,r.color),r},a.prototype.equals=function(e){return this===e||e instanceof a&&o.equals(this._color,e._color)},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(2),n(21),n(3),n(69),n(61),n(91)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(e,t,n){var r=e._gl;r.framebufferTexture2D(r.FRAMEBUFFER,t,n._target,n._texture,0)}function c(e,t,n){var r=e._gl;r.framebufferRenderbuffer(r.FRAMEBUFFER,t,r.RENDERBUFFER,n._getRenderbuffer())}function h(e){e=t(e,t.EMPTY_OBJECT);var r=e.context,i=r._gl;s.maximumColorAttachments;this._gl=i,this._framebuffer=i.createFramebuffer(),this._colorTextures=[],this._colorRenderbuffers=[],this._activeColorAttachments=[],this._depthTexture=void 0,this._depthRenderbuffer=void 0,this._stencilRenderbuffer=void 0,this._depthStencilTexture=void 0,this._depthStencilRenderbuffer=void 0,this.destroyAttachments=t(e.destroyAttachments,!0);n(e.depthTexture)||n(e.depthRenderbuffer),n(e.depthStencilTexture)||n(e.depthStencilRenderbuffer);this._bind();var o,a,u,h,d;if(n(e.colorTextures)){var f=e.colorTextures;for(h=this._colorTextures.length=this._activeColorAttachments.length=f.length,u=0;u<h;++u)o=f[u],d=this._gl.COLOR_ATTACHMENT0+u,l(this,d,o),this._activeColorAttachments[u]=d,this._colorTextures[u]=o}if(n(e.colorRenderbuffers)){var p=e.colorRenderbuffers;for(h=this._colorRenderbuffers.length=this._activeColorAttachments.length=p.length,u=0;u<h;++u)a=p[u],d=this._gl.COLOR_ATTACHMENT0+u,c(this,d,a),this._activeColorAttachments[u]=d,this._colorRenderbuffers[u]=a}n(e.depthTexture)&&(o=e.depthTexture,l(this,this._gl.DEPTH_ATTACHMENT,o),this._depthTexture=o),n(e.depthRenderbuffer)&&(a=e.depthRenderbuffer,c(this,this._gl.DEPTH_ATTACHMENT,a),this._depthRenderbuffer=a),n(e.stencilRenderbuffer)&&(a=e.stencilRenderbuffer,c(this,this._gl.STENCIL_ATTACHMENT,a),this._stencilRenderbuffer=a),n(e.depthStencilTexture)&&(o=e.depthStencilTexture,l(this,this._gl.DEPTH_STENCIL_ATTACHMENT,o),this._depthStencilTexture=o),n(e.depthStencilRenderbuffer)&&(a=e.depthStencilRenderbuffer,c(this,this._gl.DEPTH_STENCIL_ATTACHMENT,a),this._depthStencilRenderbuffer=a),this._unBind()}return r(h.prototype,{status:{get:function(){this._bind();var e=this._gl.checkFramebufferStatus(this._gl.FRAMEBUFFER);return this._unBind(),e}},numberOfColorAttachments:{get:function(){return this._activeColorAttachments.length}},depthTexture:{get:function(){return this._depthTexture}},depthRenderbuffer:{get:function(){return this._depthRenderbuffer}},stencilRenderbuffer:{get:function(){return this._stencilRenderbuffer}},depthStencilTexture:{get:function(){return this._depthStencilTexture}},depthStencilRenderbuffer:{get:function(){return this._depthStencilRenderbuffer}},hasDepthAttachment:{get:function(){return!!(this.depthTexture||this.depthRenderbuffer||this.depthStencilTexture||this.depthStencilRenderbuffer)}}}),h.prototype._bind=function(){var e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer)},h.prototype._unBind=function(){var e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},h.prototype._getActiveColorAttachments=function(){return this._activeColorAttachments},h.prototype.getColorTexture=function(e){return this._colorTextures[e]},h.prototype.getColorRenderbuffer=function(e){return this._colorRenderbuffers[e]},h.prototype.isDestroyed=function(){return!1},h.prototype.destroy=function(){if(this.destroyAttachments){for(var e=0,t=this._colorTextures,r=t.length;e<r;++e){var o=t[e];n(o)&&o.destroy()}var a=this._colorRenderbuffers;for(r=a.length,e=0;e<r;++e){var s=a[e];n(s)&&s.destroy()}this._depthTexture=this._depthTexture&&this._depthTexture.destroy(),this._depthRenderbuffer=this._depthRenderbuffer&&this._depthRenderbuffer.destroy(),this._stencilRenderbuffer=this._stencilRenderbuffer&&this._stencilRenderbuffer.destroy(),this._depthStencilTexture=this._depthStencilTexture&&this._depthStencilTexture.destroy(),this._depthStencilRenderbuffer=this._depthStencilRenderbuffer&&this._depthStencilRenderbuffer.destroy()}return this._gl.deleteFramebuffer(this._framebuffer),i(this)},h}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(25),n(1),n(6)],void 0!==(i=function(e,t,n){"use strict";function r(e){e=t(e,t.EMPTY_OBJECT),this.color=e.color,this.depth=e.depth,this.stencil=e.stencil,this.renderState=e.renderState,this.framebuffer=e.framebuffer,this.owner=e.owner,this.pass=e.pass}return r.ALL=n(new r({color:new e(0,0,0,0),depth:1,stencil:0})),r.prototype.execute=function(e,t){e.clear(this,t)},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(41),n(221),n(1),n(0),n(2),n(3),n(9),n(20)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(e){e=r(e,r.EMPTY_OBJECT),this.left=e.left,this._left=void 0,this.right=e.right,this._right=void 0,this.top=e.top,this._top=void 0,this.bottom=e.bottom,this._bottom=void 0,this.near=r(e.near,1),this._near=this.near,this.far=r(e.far,5e8),this._far=this.far,this._cullingVolume=new n,this._orthographicMatrix=new u}function c(e){e.top===e._top&&e.bottom===e._bottom&&e.left===e._left&&e.right===e._right&&e.near===e._near&&e.far===e._far||(e._left=e.left,e._right=e.right,e._top=e.top,e._bottom=e.bottom,e._near=e.near,e._far=e.far,e._orthographicMatrix=u.computeOrthographicOffCenter(e.left,e.right,e.bottom,e.top,e.near,e.far,e._orthographicMatrix))}o(l.prototype,{projectionMatrix:{get:function(){return c(this),this._orthographicMatrix}}});var h=new e,d=new e,f=new e,p=new e;return l.prototype.computeCullingVolume=function(n,r,o){var a=this._cullingVolume.planes,s=this.top,u=this.bottom,l=this.right,c=this.left,m=this.near,g=this.far,_=e.cross(r,o,h);e.normalize(_,_);var v=d;e.multiplyByScalar(r,m,v),e.add(n,v,v);var A=f;e.multiplyByScalar(_,c,A),e.add(v,A,A);var y=a[0];return i(y)||(y=a[0]=new t),y.x=_.x,y.y=_.y,y.z=_.z,y.w=-e.dot(_,A),e.multiplyByScalar(_,l,A),e.add(v,A,A),y=a[1],i(y)||(y=a[1]=new t),y.x=-_.x,y.y=-_.y,y.z=-_.z,y.w=-e.dot(e.negate(_,p),A),e.multiplyByScalar(o,u,A),e.add(v,A,A),y=a[2],i(y)||(y=a[2]=new t),y.x=o.x,y.y=o.y,y.z=o.z,y.w=-e.dot(o,A),e.multiplyByScalar(o,s,A),e.add(v,A,A),y=a[3],i(y)||(y=a[3]=new t),y.x=-o.x,y.y=-o.y,y.z=-o.z,y.w=-e.dot(e.negate(o,p),A),y=a[4],i(y)||(y=a[4]=new t),y.x=r.x,y.y=r.y,y.z=r.z,y.w=-e.dot(r,v),e.multiplyByScalar(r,g,A),e.add(n,A,A),y=a[5],i(y)||(y=a[5]=new t),y.x=-r.x,y.y=-r.y,y.z=-r.z,y.w=-e.dot(e.negate(r,p),A),this._cullingVolume},l.prototype.getPixelDimensions=function(e,t,n,r){c(this);var i=this.right-this.left,o=this.top-this.bottom,a=i/e,s=o/t;return r.x=a,r.y=s,r},l.prototype.clone=function(e){return i(e)||(e=new l),e.left=this.left,e.right=this.right,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e._left=void 0,e._right=void 0,e._top=void 0,e._bottom=void 0,e._near=void 0,e._far=void 0,e},l.prototype.equals=function(e){return i(e)&&e instanceof l&&this.right===e.right&&this.left===e.left&&this.top===e.top&&this.bottom===e.bottom&&this.near===e.near&&this.far===e.far},l.prototype.equalsEpsilon=function(e,t,n){return e===this||i(e)&&e instanceof l&&s.equalsEpsilon(this.right,e.right,t,n)&&s.equalsEpsilon(this.left,e.left,t,n)&&s.equalsEpsilon(this.top,e.top,t,n)&&s.equalsEpsilon(this.bottom,e.bottom,t,n)&&s.equalsEpsilon(this.near,e.near,t,n)&&s.equalsEpsilon(this.far,e.far,t,n)},l}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(15)],void 0!==(i=function(e,t,n){"use strict";function r(e){this._value=void 0,this._hasClone=!1,this._hasEquals=!1,this._definitionChanged=new n,this.setValue(e)}return t(r.prototype,{isConstant:{value:!0},definitionChanged:{get:function(){return this._definitionChanged}}}),r.prototype.getValue=function(e,t){return this._hasClone?this._value.clone(t):this._value},r.prototype.setValue=function(t){var n=this._value;if(n!==t){var r=e(t),i=r&&"function"==typeof t.clone,o=r&&"function"==typeof t.equals;(!o||!t.equals(n))&&(this._hasClone=i,this._hasEquals=o,this._value=i?t.clone(this._value):t,this._definitionChanged.raiseEvent(this))}},r.prototype.equals=function(e){return this===e||e instanceof r&&(!this._hasEquals&&this._value===e._value||this._hasEquals&&this._value.equals(e._value))},r.prototype.valueOf=function(){return this._value},r.prototype.toString=function(){return String(this._value)},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(525),n(17),n(10),n(41),n(12),n(1),n(0),n(2),n(3),n(23),n(157),n(20),n(79),n(186),n(50)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p){"use strict";function m(e,t){t=o(t,l.WGS84),e=t.scaleToGeodeticSurface(e);var r=p.eastNorthUpToFixedFrame(e,t);this._ellipsoid=t,this._origin=e,this._xAxis=n.fromCartesian4(h.getColumn(r,0,g)),this._yAxis=n.fromCartesian4(h.getColumn(r,1,g));var i=n.fromCartesian4(h.getColumn(r,2,g));this._plane=d.fromPointNormal(e,i)}var g=new r;s(m.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},origin:{get:function(){return this._origin}},plane:{get:function(){return this._plane}},xAxis:{get:function(){return this._xAxis}},yAxis:{get:function(){return this._yAxis}},zAxis:{get:function(){return this._plane.normal}}});var _=new e;m.fromPoints=function(t,n){return new m(e.fromPoints(t,_).center,n)};var v=new f,A=new n;m.prototype.projectPointOntoPlane=function(e,r){var i=v;i.origin=e,n.normalize(e,i.direction);var o=c.rayPlane(i,this._plane,A);if(a(o)||(n.negate(i.direction,i.direction),o=c.rayPlane(i,this._plane,A)),a(o)){var s=n.subtract(o,this._origin,o),u=n.dot(this._xAxis,s),l=n.dot(this._yAxis,s);return a(r)?(r.x=u,r.y=l,r):new t(u,l)}},m.prototype.projectPointsOntoPlane=function(e,t){a(t)||(t=[]);for(var n=0,r=e.length,i=0;i<r;i++){var o=this.projectPointOntoPlane(e[i],t[n]);a(o)&&(t[n]=o,n++)}return t.length=n,t},m.prototype.projectPointToNearestOnPlane=function(e,r){a(r)||(r=new t);var i=v;i.origin=e,n.clone(this._plane.normal,i.direction);var o=c.rayPlane(i,this._plane,A);a(o)||(n.negate(i.direction,i.direction),o=c.rayPlane(i,this._plane,A));var s=n.subtract(o,this._origin,o),u=n.dot(this._xAxis,s),l=n.dot(this._yAxis,s);return r.x=u,r.y=l,r},m.prototype.projectPointsToNearestOnPlane=function(e,t){a(t)||(t=[]);var n=e.length;t.length=n;for(var r=0;r<n;r++)t[r]=this.projectPointToNearestOnPlane(e[r],t[r]);return t};var y=new n;return m.prototype.projectPointOntoEllipsoid=function(e,t){a(t)||(t=new n);var r=this._ellipsoid,i=this._origin,o=this._xAxis,s=this._yAxis,u=y;return n.multiplyByScalar(o,e.x,u),t=n.add(i,u,t),n.multiplyByScalar(s,e.y,u),n.add(t,u,t),r.scaleToGeocentricSurface(t,t),t},m.prototype.projectPointsOntoEllipsoid=function(e,t){var n=e.length;a(t)?t.length=n:t=new Array(n);for(var r=0;r<n;++r)t[r]=this.projectPointOntoEllipsoid(e[r],t[r]);return t},m}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(99),n(17),n(10),n(41),n(24),n(0),n(3),n(9),n(20),n(289),n(424),n(50),n(46)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d){"use strict";function f(e,t,i,o){var a=i.viewMatrix,s=u.multiplyByVector(a,r.fromElements(e.x,e.y,e.z,1,y),y),l=n.multiplyComponents(t,n.normalize(s,b),b);return s.x+=t.x+l.x,s.y+=t.y+l.y,s.z+=l.z,u.multiplyByVector(i.frustum.projectionMatrix,s,o)}var p={},m=new r(0,0,0,1),g=new r,_=new e,v=new t,A=new t;p.wgs84ToWindowCoordinates=function(e,t,r){return p.wgs84WithEyeOffsetToWindowCoordinates(e,t,n.ZERO,r)};var y=new r,b=new n,w=new i(Math.PI,s.PI_OVER_TWO),x=new n,E=new n;p.wgs84WithEyeOffsetToWindowCoordinates=function(e,r,i,a){var y=e.frameState,b=p.computeActualWgs84Position(y,r,m);if(o(b)){var C=e.canvas,S=_;S.x=0,S.y=0,S.width=C.clientWidth,S.height=C.clientHeight;var T=e.camera,I=!1;if(y.mode===d.SCENE2D){var M=e.mapProjection,O=w,P=M.project(O,x),D=n.clone(T.position,E),B=T.frustum.clone(),L=u.computeViewportTransformation(S,0,1,new u),N=T.frustum.projectionMatrix,R=T.positionWC.y,k=n.fromElements(s.sign(R)*P.x-R,0,-T.positionWC.x),F=h.pointToGLWindowCoordinates(N,L,k);if(0===R||F.x<=0||F.x>=C.clientWidth)I=!0;else{if(F.x>.5*C.clientWidth){S.width=F.x,T.frustum.right=P.x-R,g=f(b,i,T,g),p.clipToGLWindowCoordinates(S,g,v),S.x+=F.x,T.position.x=-T.position.x;var U=T.frustum.right;T.frustum.right=-T.frustum.left,T.frustum.left=-U,g=f(b,i,T,g),p.clipToGLWindowCoordinates(S,g,A)}else{S.x+=F.x,S.width-=F.x,T.frustum.left=-P.x-R,g=f(b,i,T,g),p.clipToGLWindowCoordinates(S,g,v),S.x=S.x-S.width,T.position.x=-T.position.x;var z=T.frustum.left;T.frustum.left=-T.frustum.right,T.frustum.right=-z,g=f(b,i,T,g),p.clipToGLWindowCoordinates(S,g,A)}n.clone(D,T.position),T.frustum=B.clone(),a=t.clone(v,a),(a.x<0||a.x>C.clientWidth)&&(a.x=A.x)}}if(y.mode!==d.SCENE2D||I){if(g=f(b,i,T,g),g.z<0&&!(T.frustum instanceof l)&&!(T.frustum instanceof c))return;a=p.clipToGLWindowCoordinates(S,g,a)}return a.y=C.clientHeight-a.y,a}},p.wgs84ToDrawingBufferCoordinates=function(e,t,n){if(n=p.wgs84ToWindowCoordinates(e,t,n),o(n))return p.transformWindowToDrawingBuffer(e,n,n)};var C=new n,S=new i;p.computeActualWgs84Position=function(e,t,r){var i=e.mode;if(i===d.SCENE3D)return n.clone(t,r);var a=e.mapProjection,u=a.ellipsoid.cartesianToCartographic(t,S);if(o(u)){if(a.project(u,C),i===d.COLUMBUS_VIEW)return n.fromElements(C.z,C.x,C.y,r);if(i===d.SCENE2D)return n.fromElements(0,C.x,C.y,r);var l=e.morphTime;return n.fromElements(s.lerp(C.z,t.x,l),s.lerp(C.x,t.y,l),s.lerp(C.y,t.z,l),r)}};var T=new n,I=new n,M=new u;p.clipToGLWindowCoordinates=function(e,r,i){return n.divideByScalar(r,r.w,T),u.computeViewportTransformation(e,0,1,M),u.multiplyByPoint(M,T,I),t.fromCartesian3(I,i)},p.transformWindowToDrawingBuffer=function(e,n,r){var i=e.canvas,o=e.drawingBufferWidth/i.clientWidth,a=e.drawingBufferHeight/i.clientHeight;return t.fromElements(n.x*o,n.y*a,r)};var O=new r,P=new r;return p.drawingBufferToWgs84Coordinates=function(e,t,i,a){var l=e.context,c=l.uniformState,h=c.currentFrustum,d=h.x,f=h.y;e.frameState.useLogDepth&&(i=Math.pow(2,i*s.log2(f+1))-1,i=f*(1-d/i)/(f-d));var p=e._view.passState.viewport,m=r.clone(r.UNIT_W,O);m.x=(t.x-p.x)/p.width*2-1,m.y=(t.y-p.y)/p.height*2-1,m.z=2*i-1,m.w=1;var g,_=e.camera.frustum;if(o(_.fovy)){g=u.multiplyByVector(c.inverseViewProjection,m,P);var v=1/g.w;n.multiplyByScalar(g,v,g)}else o(_._offCenterFrustum)&&(_=_._offCenterFrustum),g=P,g.x=.5*(m.x*(_.right-_.left)+_.left+_.right),g.y=.5*(m.y*(_.top-_.bottom)+_.bottom+_.top),g.z=.5*(m.z*(d-f)-d-f),g.w=1,g=u.multiplyByVector(c.inverseView,g,g);return n.fromCartesian4(g,a)},p}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(3)],void 0!==(i=function(e,t,n){"use strict";function r(n,r){t(i[n])||(i[n]=!0,console.warn(e(r,n)))}var i={};return r.geometryOutlines="Entity geometry outlines are unsupported on terrain. Outlines will be disabled. To enable outlines, disable geometry terrain clamping by explicitly setting height to 0.",r.geometryZIndex="Entity geometry with zIndex are unsupported when height or extrudedHeight are defined.  zIndex will be ignored",r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._show=void 0,this._showSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._depthFailMaterial=void 0,this._depthFailMaterialSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._followSurface=void 0,this._followSurfaceSubscription=void 0,this._clampToGround=void 0,this._clampToGroundSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._widthSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:a("show"),material:o("material"),depthFailMaterial:o("depthFailMaterial"),positions:a("positions"),width:a("width"),followSurface:a("followSurface"),clampToGround:a("clampToGround"),granularity:a("granularity"),shadows:a("shadows"),distanceDisplayCondition:a("distanceDisplayCondition"),zIndex:a("zIndex")}),s.prototype.clone=function(e){return t(e)?(e.show=this.show,e.material=this.material,e.depthFailMaterial=this.depthFailMaterial,e.positions=this.positions,e.width=this.width,e.followSurface=this.followSurface,e.clampToGround=this.clampToGround,e.granularity=this.granularity,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e.zIndex=this.zIndex,e):new s(this)},s.prototype.merge=function(t){this.show=e(this.show,t.show),this.material=e(this.material,t.material),this.depthFailMaterial=e(this.depthFailMaterial,t.depthFailMaterial),this.positions=e(this.positions,t.positions),this.width=e(this.width,t.width),this.followSurface=e(this.followSurface,t.followSurface),this.clampToGround=e(this.clampToGround,t.clampToGround),this.granularity=e(this.granularity,t.granularity),this.shadows=e(this.shadows,t.shadows),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition),this.zIndex=e(this.zIndex,t.zIndex)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(99),n(17),n(10),n(1),n(0),n(2),n(447),n(15),n(20),n(344),n(345),n(560),n(347),n(561),n(1171),n(46),n(1174)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g){"use strict";function _(e){e=r(e,r.EMPTY_OBJECT),this._enabled=r(e.enabled,!1),this._pixelRange=r(e.pixelRange,80),this._minimumClusterSize=r(e.minimumClusterSize,2),this._clusterBillboards=r(e.clusterBillboards,!0),this._clusterLabels=r(e.clusterLabels,!0),this._clusterPoints=r(e.clusterPoints,!0),this._labelCollection=void 0,this._billboardCollection=void 0,this._pointCollection=void 0,this._clusterBillboardCollection=void 0,this._clusterLabelCollection=void 0,this._clusterPointCollection=void 0,this._collectionIndicesByEntity={},this._unusedLabelIndices=[],this._unusedBillboardIndices=[],this._unusedPointIndices=[],this._previousClusters=[],this._previousHeight=void 0,this._enabledDirty=!1,this._clusterDirty=!1,this._cluster=void 0,this._removeEventListener=void 0,this._clusterEvent=new s}function v(e){return e.coord.x}function A(e){return e.coord.y}function y(e,t){e.x-=t,e.y-=t,e.width+=2*t,e.height+=2*t}function b(t,n,r,o,a){if(i(t._labelCollection)&&o._clusterLabels?a=h.getScreenSpaceBoundingBox(t,n,a):i(t._billboardCollection)&&o._clusterBillboards?a=l.getScreenSpaceBoundingBox(t,n,a):i(t._pointPrimitiveCollection)&&o._clusterPoints&&(a=f.getScreenSpaceBoundingBox(t,n,a)),y(a,r),o._clusterLabels&&!i(t._labelCollection)&&i(t.id)&&E(o,t.id)&&i(t.id._label)){var s=o._collectionIndicesByEntity[t.id],u=o._labelCollection.get(s),c=h.getScreenSpaceBoundingBox(u,n,P);y(c,r),a=e.union(a,c,a)}return a}function w(e,t){if(e.clusterShow=!0,!i(e._labelCollection)&&i(e.id)&&E(t,e.id)&&i(e.id._label)){var n=t._collectionIndicesByEntity[e.id];t._labelCollection.get(n).clusterShow=!0}}function x(e,t,n,r){var i={billboard:r._clusterBillboardCollection.add(),label:r._clusterLabelCollection.add(),point:r._clusterPointCollection.add()};i.billboard.show=!1,i.point.show=!1,i.label.show=!0,i.label.text=t.toLocaleString(),i.label.id=n,i.billboard.position=i.label.position=i.point.position=e,r._clusterEvent.raiseEvent(n,i)}function E(e,t){return i(e)&&i(e._collectionIndicesByEntity[t])&&i(e._collectionIndicesByEntity[t].labelIndex)}function C(e,t,n,r,o){if(i(e))for(var a=e.length,s=0;s<a;++s){var u=e.get(s);if(u.clusterShow=!1,u.show&&(o._scene.mode!==m.SCENE3D||r.isPointVisible(u.position))){var l=o._clusterLabels&&i(u._labelCollection),c=o._clusterBillboards&&i(u.id._billboard),h=o._clusterPoints&&i(u.id._point);if(!l||!h&&!c){var d=u.computeScreenSpacePosition(n);i(d)&&t.push({index:s,collection:e,clustered:!1,coord:d})}}}}function S(r){return function(o){if(!(i(o)&&o<.05)&&r.enabled){var s=r._scene,h=r._labelCollection,f=r._billboardCollection,m=r._pointCollection;if((i(h)||i(f)||i(m))&&(r._clusterBillboards||r._clusterLabels||r._clusterPoints)){var _=r._clusterLabelCollection,y=r._clusterBillboardCollection,E=r._clusterPointCollection;i(_)?_.removeAll():_=r._clusterLabelCollection=new d({scene:s}),i(y)?y.removeAll():y=r._clusterBillboardCollection=new c({scene:s}),i(E)?E.removeAll():E=r._clusterPointCollection=new p;var S=r._pixelRange,T=r._minimumClusterSize,I=r._previousClusters,M=[],O=r._previousHeight,P=s.camera.positionCartographic.height,N=s.mapProjection.ellipsoid,R=s.camera.positionWC,k=new a(N,R),F=[];r._clusterLabels&&C(h,F,s,k,r),r._clusterBillboards&&C(f,F,s,k,r),r._clusterPoints&&C(m,F,s,k,r);var U,z,j,H,V,Q,G,W,q,Y,K,X,Z=g(F,v,A,64,Int32Array);if(P<O)for(j=I.length,U=0;U<j;++U){var J=I[U];if(k.isPointVisible(J.position)){var $=l._computeScreenSpacePosition(u.IDENTITY,J.position,n.ZERO,t.ZERO,s);if(i($)){var ee=1-P/O,te=J.width=J.width*ee,ne=J.height=J.height*ee;te=Math.max(te,J.minimumWidth),ne=Math.max(ne,J.minimumHeight);var re=$.x-.5*te,ie=$.y-.5*ne,oe=$.x+te,ae=$.y+ne;for(V=Z.range(re,ie,oe,ae),Q=V.length,Y=0,q=[],z=0;z<Q;++z)G=V[z],W=F[G],W.clustered||(++Y,K=W.collection,X=W.index,q.push(K.get(X).id));if(Y>=T)for(x(J.position,Y,q,r),M.push(J),z=0;z<Q;++z)F[V[z]].clustered=!0}}}for(j=F.length,U=0;U<j;++U){var se=F[U];if(!se.clustered){se.clustered=!0,K=se.collection,X=se.index;var ue=K.get(X);H=b(ue,se.coord,S,r,D);var le=e.clone(H,B);V=Z.range(H.x,H.y,H.x+H.width,H.y+H.height),Q=V.length;var ce=n.clone(ue.position);for(Y=1,q=[ue.id],z=0;z<Q;++z)if(G=V[z],W=F[G],!W.clustered){var he=W.collection.get(W.index),de=b(he,W.coord,S,r,L);n.add(he.position,ce,ce),e.union(le,de,le),++Y,q.push(he.id)}if(Y>=T){var fe=n.multiplyByScalar(ce,1/Y,ce);for(x(fe,Y,q,r),M.push({position:fe,width:le.width,height:le.height,minimumWidth:H.width,minimumHeight:H.height}),z=0;z<Q;++z)F[V[z]].clustered=!0}else w(ue,r)}}0===_.length&&(_.destroy(),r._clusterLabelCollection=void 0),0===y.length&&(y.destroy(),r._clusterBillboardCollection=void 0),0===E.length&&(E.destroy(),r._clusterPointCollection=void 0),r._previousClusters=M,r._previousHeight=P}}}}function T(e,t,n,r){return function(o){var a=this[e];i(this._collectionIndicesByEntity)||(this._collectionIndicesByEntity={});var s=this._collectionIndicesByEntity[o.id];if(i(s)||(s=this._collectionIndicesByEntity[o.id]={billboardIndex:void 0,labelIndex:void 0,pointIndex:void 0}),i(a)&&i(s[r]))return a.get(s[r]);i(a)||(a=this[e]=new t({scene:this._scene}));var u,l,c=this[n];return c.length>0?(u=c.pop(),l=a.get(u)):(l=a.add(),u=a.length-1),s[r]=u,this._clusterDirty=!0,l}}function I(e,t){var n=e._collectionIndicesByEntity[t];i(n.billboardIndex)||i(n.labelIndex)||i(n.pointIndex)||delete e._collectionIndicesByEntity[t]}function M(e){if(i(e))for(var t=e.length,n=0;n<t;++n)e.get(n).clusterShow=!0}function O(e){e.enabled||(i(e._clusterLabelCollection)&&e._clusterLabelCollection.destroy(),i(e._clusterBillboardCollection)&&e._clusterBillboardCollection.destroy(),i(e._clusterPointCollection)&&e._clusterPointCollection.destroy(),e._clusterLabelCollection=void 0,e._clusterBillboardCollection=void 0,e._clusterPointCollection=void 0,M(e._labelCollection),M(e._billboardCollection),M(e._pointCollection))}var P=new e,D=new e,B=new e,L=new e;return _.prototype._initialize=function(e){this._scene=e;var t=S(this);this._cluster=t,this._removeEventListener=e.camera.changed.addEventListener(t)},o(_.prototype,{enabled:{get:function(){return this._enabled},set:function(e){this._enabledDirty=e!==this._enabled,this._enabled=e}},pixelRange:{get:function(){return this._pixelRange},set:function(e){this._clusterDirty=this._clusterDirty||e!==this._pixelRange,this._pixelRange=e}},minimumClusterSize:{get:function(){return this._minimumClusterSize},set:function(e){this._clusterDirty=this._clusterDirty||e!==this._minimumClusterSize,this._minimumClusterSize=e}},clusterEvent:{get:function(){return this._clusterEvent}},clusterBillboards:{get:function(){return this._clusterBillboards},set:function(e){this._clusterDirty=this._clusterDirty||e!==this._clusterBillboards,this._clusterBillboards=e}},clusterLabels:{get:function(){return this._clusterLabels},set:function(e){this._clusterDirty=this._clusterDirty||e!==this._clusterLabels,this._clusterLabels=e}},clusterPoints:{get:function(){return this._clusterPoints},set:function(e){this._clusterDirty=this._clusterDirty||e!==this._clusterPoints,this._clusterPoints=e}}}),_.prototype.getLabel=T("_labelCollection",d,"_unusedLabelIndices","labelIndex"),_.prototype.removeLabel=function(e){var t=this._collectionIndicesByEntity&&this._collectionIndicesByEntity[e.id];if(i(this._labelCollection)&&i(t)&&i(t.labelIndex)){var n=t.labelIndex;t.labelIndex=void 0,I(this,e.id);var r=this._labelCollection.get(n);r.show=!1,r.text="",r.id=void 0,this._unusedLabelIndices.push(n),this._clusterDirty=!0}},_.prototype.getBillboard=T("_billboardCollection",c,"_unusedBillboardIndices","billboardIndex"),_.prototype.removeBillboard=function(e){var t=this._collectionIndicesByEntity&&this._collectionIndicesByEntity[e.id];if(i(this._billboardCollection)&&i(t)&&i(t.billboardIndex)){var n=t.billboardIndex;t.billboardIndex=void 0,I(this,e.id);var r=this._billboardCollection.get(n);r.id=void 0,r.show=!1,r.image=void 0,this._unusedBillboardIndices.push(n),this._clusterDirty=!0}},_.prototype.getPoint=T("_pointCollection",p,"_unusedPointIndices","pointIndex"),_.prototype.removePoint=function(e){var t=this._collectionIndicesByEntity&&this._collectionIndicesByEntity[e.id];if(i(this._pointCollection)&&i(t)&&i(t.pointIndex)){var n=t.pointIndex;t.pointIndex=void 0,I(this,e.id);var r=this._pointCollection.get(n);r.show=!1,r.id=void 0,this._unusedPointIndices.push(n),this._clusterDirty=!0}},_.prototype.update=function(e){var t;i(this._labelCollection)&&this._labelCollection.length>0&&0===this._labelCollection.get(0)._glyphs.length&&(t=e.commandList,e.commandList=[],this._labelCollection.update(e),e.commandList=t),i(this._billboardCollection)&&this._billboardCollection.length>0&&!i(this._billboardCollection.get(0).width)&&(t=e.commandList,e.commandList=[],this._billboardCollection.update(e),e.commandList=t),this._enabledDirty&&(this._enabledDirty=!1,O(this),this._clusterDirty=!0),this._clusterDirty&&(this._clusterDirty=!1,this._cluster()),i(this._clusterLabelCollection)&&this._clusterLabelCollection.update(e),i(this._clusterBillboardCollection)&&this._clusterBillboardCollection.update(e),i(this._clusterPointCollection)&&this._clusterPointCollection.update(e),i(this._labelCollection)&&this._labelCollection.update(e),i(this._billboardCollection)&&this._billboardCollection.update(e),i(this._pointCollection)&&this._pointCollection.update(e)},_.prototype.destroy=function(){this._labelCollection=this._labelCollection&&this._labelCollection.destroy(),this._billboardCollection=this._billboardCollection&&this._billboardCollection.destroy(),this._pointCollection=this._pointCollection&&this._pointCollection.destroy(),this._clusterLabelCollection=this._clusterLabelCollection&&this._clusterLabelCollection.destroy(),this._clusterBillboardCollection=this._clusterBillboardCollection&&this._clusterBillboardCollection.destroy(),this._clusterPointCollection=this._clusterPointCollection&&this._clusterPointCollection.destroy(),i(this._removeEventListener)&&(this._removeEventListener(),this._removeEventListener=void 0),this._labelCollection=void 0,this._billboardCollection=void 0,this._pointCollection=void 0,this._clusterBillboardCollection=void 0,this._clusterLabelCollection=void 0,this._clusterPointCollection=void 0,this._collectionIndicesByEntity=void 0,this._unusedLabelIndices=[],this._unusedBillboardIndices=[],this._unusedPointIndices=[],this._previousClusters=[],this._previousHeight=void 0,this._enabledDirty=!1,this._pixelRangeDirty=!1,this._minimumClusterSizeDirty=!1},_}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(182),n(101),n(0),n(2),n(3),n(15),n(215),n(36),n(26),n(78),n(156)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c){"use strict";function h(e){if(e._firing)return void(e._refire=!0);if(0===e._suspendCount){var t=e._addedEntities,n=e._removedEntities,r=e._changedEntities;if(0!==r.length||0!==t.length||0!==n.length){e._firing=!0;do{e._refire=!1;var i=t.values.slice(0),o=n.values.slice(0),a=r.values.slice(0);t.removeAll(),n.removeAll(),r.removeAll(),e._collectionChanged.raiseEvent(e,i,o,a)}while(e._refire);e._firing=!1}}}function d(n){this._owner=n,this._entities=new e,this._addedEntities=new e,this._removedEntities=new e,this._changedEntities=new e,this._suspendCount=0,this._collectionChanged=new o,this._id=t(),this._show=!0,this._firing=!1,this._refire=!1}var f={id:void 0};return d.prototype.suspendEvents=function(){this._suspendCount++},d.prototype.resumeEvents=function(){this._suspendCount--,h(this)},d.collectionChangedEventCallback=void 0,r(d.prototype,{collectionChanged:{get:function(){return this._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._entities.values}},show:{get:function(){return this._show},set:function(e){if(e!==this._show){this.suspendEvents();var t,n=[],r=this._entities.values,i=r.length;for(t=0;t<i;t++)n.push(r[t].isShowing);for(this._show=e,t=0;t<i;t++){var o=n[t],a=r[t];o!==a.isShowing&&a.definitionChanged.raiseEvent(a,"isShowing",a.isShowing,o)}this.resumeEvents()}}},owner:{get:function(){return this._owner}}}),d.prototype.computeAvailability=function(){for(var e=a.MAXIMUM_VALUE,t=a.MINIMUM_VALUE,r=this._entities.values,i=0,o=r.length;i<o;i++){var u=r[i],c=u.availability;if(n(c)){var h=c.start,d=c.stop;s.lessThan(h,e)&&!h.equals(a.MINIMUM_VALUE)&&(e=h),s.greaterThan(d,t)&&!d.equals(a.MAXIMUM_VALUE)&&(t=d)}}return a.MAXIMUM_VALUE.equals(e)&&(e=a.MINIMUM_VALUE),a.MINIMUM_VALUE.equals(t)&&(t=a.MAXIMUM_VALUE),new l({start:e,stop:t})},d.prototype.add=function(e){e instanceof c||(e=new c(e));var t=e.id,n=this._entities;if(n.contains(t))throw new u("An entity with id "+t+" already exists in this collection.");return e.entityCollection=this,n.set(t,e),this._removedEntities.remove(t)||this._addedEntities.set(t,e),e.definitionChanged.addEventListener(d.prototype._onEntityDefinitionChanged,this),h(this),e},d.prototype.remove=function(e){return!!n(e)&&this.removeById(e.id)},d.prototype.contains=function(e){return this._entities.get(e.id)===e},d.prototype.removeById=function(e){if(!n(e))return!1;var t=this._entities,r=t.get(e);return!!this._entities.remove(e)&&(this._addedEntities.remove(e)||(this._removedEntities.set(e,r),this._changedEntities.remove(e)),this._entities.remove(e),r.definitionChanged.removeEventListener(d.prototype._onEntityDefinitionChanged,this),h(this),!0)},d.prototype.removeAll=function(){for(var e=this._entities,t=e.length,r=e.values,i=this._addedEntities,o=this._removedEntities,a=0;a<t;a++){var s=r[a],u=s.id,l=i.get(u);n(l)||(s.definitionChanged.removeEventListener(d.prototype._onEntityDefinitionChanged,this),o.set(u,s))}e.removeAll(),i.removeAll(),this._changedEntities.removeAll(),h(this)},d.prototype.getById=function(e){return this._entities.get(e)},d.prototype.getOrCreateEntity=function(e){var t=this._entities.get(e);return n(t)||(f.id=e,t=new c(f),this.add(t)),t},d.prototype._onEntityDefinitionChanged=function(e){var t=e.id;this._addedEntities.contains(t)||this._changedEntities.set(t,e),h(this)},d}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(182),n(17),n(1),n(0),n(21),n(3),n(39),n(117),n(298),n(222)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l){"use strict";function c(e,t,n){var r=e._element;if(r===document)return n.x=t.clientX,n.y=t.clientY,n;var i=r.getBoundingClientRect();return n.x=t.clientX-i.left,n.y=t.clientY-i.top,n}function h(e,t){var n=e;return r(t)&&(n+="+"+t),n}function d(e){return e.shiftKey?u.SHIFT:e.ctrlKey?u.CTRL:e.altKey?u.ALT:void 0}function f(e,t,n,r){function i(t){r(e,t)}n.addEventListener(t,i,!1),e._removalFunctions.push(function(){n.removeEventListener(t,i,!1)})}function p(e){var t=e._element,n=r(t.disableRootEvents)?t:document;a.supportsPointerEvents()?(f(e,"pointerdown",t,I),f(e,"pointerup",t,M),f(e,"pointermove",t,O),f(e,"pointercancel",t,M)):(f(e,"mousedown",t,v),f(e,"mouseup",n,A),f(e,"mousemove",n,y),f(e,"touchstart",t,x),f(e,"touchend",n,E),f(e,"touchmove",n,S),f(e,"touchcancel",n,E)),f(e,"dblclick",t,b);var i;i="onwheel"in t?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",f(e,i,t,w)}function m(e){for(var t=e._removalFunctions,n=0;n<t.length;++n)t[n]()}function g(e){e._lastSeenTouchEvent=s()}function _(e){return s()-e._lastSeenTouchEvent>P.mouseEmulationIgnoreMilliseconds}function v(e,n){if(_(e)){var i=n.button;e._buttonDown=i;var o;if(i===D.LEFT)o=l.LEFT_DOWN;else if(i===D.MIDDLE)o=l.MIDDLE_DOWN;else{if(i!==D.RIGHT)return;o=l.RIGHT_DOWN}var a=c(e,n,e._primaryPosition);t.clone(a,e._primaryStartPosition),t.clone(a,e._primaryPreviousPosition);var s=d(n),u=e.getInputAction(o,s);r(u)&&(t.clone(a,B.position),u(B),n.preventDefault())}}function A(e,n){if(_(e)){var i=n.button;e._buttonDown=void 0;var o,a;if(i===D.LEFT)o=l.LEFT_UP,a=l.LEFT_CLICK;else if(i===D.MIDDLE)o=l.MIDDLE_UP,a=l.MIDDLE_CLICK;else{if(i!==D.RIGHT)return;o=l.RIGHT_UP,a=l.RIGHT_CLICK}var s=d(n),u=e.getInputAction(o,s),h=e.getInputAction(a,s);if(r(u)||r(h)){var f=c(e,n,e._primaryPosition);if(r(u)&&(t.clone(f,L.position),u(L)),r(h)){var p=e._primaryStartPosition,m=p.x-f.x,g=p.y-f.y;Math.sqrt(m*m+g*g)<e._clickPixelTolerance&&(t.clone(f,N.position),h(N))}}}}function y(e,n){if(_(e)){var i=d(n),o=c(e,n,e._primaryPosition),a=e._primaryPreviousPosition,s=e.getInputAction(l.MOUSE_MOVE,i);r(s)&&(t.clone(a,R.startPosition),t.clone(o,R.endPosition),s(R)),t.clone(o,a),r(e._buttonDown)&&n.preventDefault()}}function b(e,t){var n,i=t.button;if(i===D.LEFT){n=l.LEFT_DOUBLE_CLICK;var o=d(t),a=e.getInputAction(n,o);r(a)&&(c(e,t,k.position),a(k))}}function w(e,t){var n;if(r(t.deltaY)){var i=t.deltaMode;n=i===t.DOM_DELTA_PIXEL?-t.deltaY:i===t.DOM_DELTA_LINE?40*-t.deltaY:120*-t.deltaY}else n=t.detail>0?-120*t.detail:t.wheelDelta;if(r(n)){var o=d(t),a=e.getInputAction(l.WHEEL,o);r(a)&&(a(n),t.preventDefault())}}function x(e,n){g(e);var r,i,o,a=n.changedTouches,s=a.length,u=e._positions;for(r=0;r<s;++r)i=a[r],o=i.identifier,u.set(o,c(e,i,new t));C(e,n);var l=e._previousPositions;for(r=0;r<s;++r)i=a[r],o=i.identifier,l.set(o,t.clone(u.get(o)))}function E(e,t){g(e);var n,r,i,o=t.changedTouches,a=o.length,s=e._positions;for(n=0;n<a;++n)r=o[n],i=r.identifier,s.remove(i);C(e,t);var u=e._previousPositions;for(n=0;n<a;++n)r=o[n],i=r.identifier,u.remove(i)}function C(e,n){var i,o,a=d(n),s=e._positions,u=e._previousPositions,c=s.length,h=e._isPinching;if(1!==c&&e._buttonDown===D.LEFT&&(e._buttonDown=void 0,i=e.getInputAction(l.LEFT_UP,a),r(i)&&(t.clone(e._primaryPosition,z.position),i(z)),0===c&&(o=e.getInputAction(l.LEFT_CLICK,a),r(o)))){var f=e._primaryStartPosition,p=u.values[0],m=f.x-p.x,g=f.y-p.y;Math.sqrt(m*m+g*g)<e._clickPixelTolerance&&(t.clone(e._primaryPosition,j.position),o(j))}if(0===c&&h&&(e._isPinching=!1,i=e.getInputAction(l.PINCH_END,a),r(i)&&i()),1===c&&!h){var _=s.values[0];t.clone(_,e._primaryPosition),t.clone(_,e._primaryStartPosition),t.clone(_,e._primaryPreviousPosition),e._buttonDown=D.LEFT,i=e.getInputAction(l.LEFT_DOWN,a),r(i)&&(t.clone(_,F.position),i(F)),n.preventDefault()}2!==c||h||(e._isPinching=!0,i=e.getInputAction(l.PINCH_START,a),r(i)&&(t.clone(s.values[0],U.position1),t.clone(s.values[1],U.position2),i(U),n.preventDefault()))}function S(e,n){g(e);var i,o,a,s=n.changedTouches,u=s.length,l=e._positions;for(i=0;i<u;++i){o=s[i],a=o.identifier;var h=l.get(a);r(h)&&c(e,o,h)}T(e,n);var d=e._previousPositions;for(i=0;i<u;++i)o=s[i],a=o.identifier,t.clone(l.get(a),d.get(a))}function T(e,n){var i,o=d(n),a=e._positions,s=e._previousPositions,u=a.length;if(1===u&&e._buttonDown===D.LEFT){var c=a.values[0];t.clone(c,e._primaryPosition);var h=e._primaryPreviousPosition;i=e.getInputAction(l.MOUSE_MOVE,o),r(i)&&(t.clone(h,H.startPosition),t.clone(c,H.endPosition),i(H)),t.clone(c,h),n.preventDefault()}else if(2===u&&e._isPinching&&(i=e.getInputAction(l.PINCH_MOVE,o),r(i))){var f=a.values[0],p=a.values[1],m=s.values[0],g=s.values[1],_=p.x-f.x,v=p.y-f.y,A=.25*Math.sqrt(_*_+v*v),y=g.x-m.x,b=g.y-m.y,w=.25*Math.sqrt(y*y+b*b),x=.125*(p.y+f.y),E=.125*(g.y+m.y),C=Math.atan2(v,_),S=Math.atan2(b,y);t.fromElements(0,w,V.distance.startPosition),t.fromElements(0,A,V.distance.endPosition),t.fromElements(S,E,V.angleAndHeight.startPosition),t.fromElements(C,x,V.angleAndHeight.endPosition),i(V)}}function I(e,n){if(n.target.setPointerCapture(n.pointerId),"touch"===n.pointerType){var r=e._positions,i=n.pointerId;r.set(i,c(e,n,new t)),C(e,n);e._previousPositions.set(i,t.clone(r.get(i)))}else v(e,n)}function M(e,t){if("touch"===t.pointerType){var n=e._positions,r=t.pointerId;n.remove(r),C(e,t);e._previousPositions.remove(r)}else A(e,t)}function O(e,n){if("touch"===n.pointerType){var i=e._positions,o=n.pointerId,a=i.get(o);if(!r(a))return;c(e,n,a),T(e,n);var s=e._previousPositions;t.clone(i.get(o),s.get(o))}else y(e,n)}function P(r){this._inputEvents={},this._buttonDown=void 0,this._isPinching=!1,this._lastSeenTouchEvent=-P.mouseEmulationIgnoreMilliseconds,this._primaryStartPosition=new t,this._primaryPosition=new t,this._primaryPreviousPosition=new t,this._positions=new e,this._previousPositions=new e,this._removalFunctions=[],this._clickPixelTolerance=5,this._element=n(r,document),p(this)}var D={LEFT:0,MIDDLE:1,RIGHT:2},B={position:new t},L={position:new t},N={position:new t},R={startPosition:new t,endPosition:new t},k={position:new t},F={position:new t},U={position1:new t,position2:new t},z={position:new t},j={position:new t},H={startPosition:new t,endPosition:new t},V={distance:{startPosition:new t,endPosition:new t},angleAndHeight:{startPosition:new t,endPosition:new t}};return P.prototype.setInputAction=function(e,t,n){var r=h(t,n);this._inputEvents[r]=e},P.prototype.getInputAction=function(e,t){var n=h(e,t);return this._inputEvents[n]},P.prototype.removeInputAction=function(e,t){var n=h(e,t);delete this._inputEvents[n]},P.prototype.isDestroyed=function(){return!1},P.prototype.destroy=function(){return m(this),i(this)},P.mouseEmulationIgnoreMilliseconds=800,P}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(439),n(1),n(0),n(2),n(3),n(15),n(36),n(496)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(){this._startTime=void 0,this._stopTime=void 0,this._currentTime=void 0,this._clockRange=void 0,this._clockStep=void 0,this._multiplier=void 0,this._definitionChanged=new o}return r(u.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},startTime:s("startTime"),stopTime:s("stopTime"),currentTime:s("currentTime"),clockRange:s("clockRange"),clockStep:s("clockStep"),multiplier:s("multiplier")}),u.prototype.clone=function(e){return n(e)||(e=new u),e.startTime=this.startTime,e.stopTime=this.stopTime,e.currentTime=this.currentTime,e.clockRange=this.clockRange,e.clockStep=this.clockStep,e.multiplier=this.multiplier,e},u.prototype.equals=function(e){return this===e||n(e)&&a.equals(this.startTime,e.startTime)&&a.equals(this.stopTime,e.stopTime)&&a.equals(this.currentTime,e.currentTime)&&this.clockRange===e.clockRange&&this.clockStep===e.clockStep&&this.multiplier===e.multiplier},u.prototype.merge=function(e){this.startTime=t(this.startTime,e.startTime),this.stopTime=t(this.stopTime,e.stopTime),this.currentTime=t(this.currentTime,e.currentTime),this.clockRange=t(this.clockRange,e.clockRange),this.clockStep=t(this.clockStep,e.clockStep),this.multiplier=t(this.multiplier,e.multiplier)},u.prototype.getValue=function(r){return n(r)||(r=new e),r.startTime=t(this.startTime,r.startTime),r.stopTime=t(this.stopTime,r.stopTime),r.currentTime=t(this.currentTime,r.currentTime),r.clockRange=t(this.clockRange,r.clockRange),r.multiplier=t(this.multiplier,r.multiplier),r.clockStep=t(this.clockStep,r.clockStep),r},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({TICK_DEPENDENT:0,SYSTEM_CLOCK_MULTIPLIER:1,SYSTEM_CLOCK:2})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(1),n(0),n(2),n(23),n(15),n(65),n(619),n(255)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(r){r=t(r,{}),this._tilingScheme=r.tilingScheme,n(this._tilingScheme)||(this._tilingScheme=new a({ellipsoid:t(r.ellipsoid,i.WGS84)})),this._levelZeroMaximumGeometricError=u.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,64,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._errorEvent=new o,this._readyPromise=e.resolve(!0)}return r(l.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return!0}},readyPromise:{get:function(){return this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}}}),l.prototype.requestTileGeometry=function(t,n,r,i){return e.resolve(new s({buffer:new Uint8Array(256),width:16,height:16}))},l.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},l.prototype.getTileDataAvailable=function(e,t,n){},l}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(3)],void 0!==(i=function(e){"use strict";function t(e){if("string"==typeof e){e=document.getElementById(e)}return e}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(41),n(221),n(1),n(0),n(2),n(3),n(9),n(20)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(e){e=r(e,r.EMPTY_OBJECT),this.left=e.left,this._left=void 0,this.right=e.right,this._right=void 0,this.top=e.top,this._top=void 0,this.bottom=e.bottom,this._bottom=void 0,this.near=r(e.near,1),this._near=this.near,this.far=r(e.far,5e8),this._far=this.far,this._cullingVolume=new n,this._perspectiveMatrix=new u,this._infinitePerspective=new u}function c(e){var t=e.top,n=e.bottom,r=e.right,i=e.left,o=e.near,a=e.far;t===e._top&&n===e._bottom&&i===e._left&&r===e._right&&o===e._near&&a===e._far||(e._left=i,e._right=r,e._top=t,e._bottom=n,e._near=o,e._far=a,e._perspectiveMatrix=u.computePerspectiveOffCenter(i,r,n,t,o,a,e._perspectiveMatrix),e._infinitePerspective=u.computeInfinitePerspectiveOffCenter(i,r,n,t,o,e._infinitePerspective))}o(l.prototype,{projectionMatrix:{get:function(){return c(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return c(this),this._infinitePerspective}}});var h=new e,d=new e,f=new e,p=new e;return l.prototype.computeCullingVolume=function(n,r,o){var a=this._cullingVolume.planes,s=this.top,u=this.bottom,l=this.right,c=this.left,m=this.near,g=this.far,_=e.cross(r,o,h),v=d;e.multiplyByScalar(r,m,v),e.add(n,v,v);var A=f;e.multiplyByScalar(r,g,A),e.add(n,A,A);var y=p;e.multiplyByScalar(_,c,y),e.add(v,y,y),e.subtract(y,n,y),e.normalize(y,y),e.cross(y,o,y),e.normalize(y,y);var b=a[0];return i(b)||(b=a[0]=new t),b.x=y.x,b.y=y.y,b.z=y.z,b.w=-e.dot(y,n),e.multiplyByScalar(_,l,y),e.add(v,y,y),e.subtract(y,n,y),e.cross(o,y,y),e.normalize(y,y),b=a[1],i(b)||(b=a[1]=new t),b.x=y.x,b.y=y.y,b.z=y.z,b.w=-e.dot(y,n),e.multiplyByScalar(o,u,y),e.add(v,y,y),e.subtract(y,n,y),e.cross(_,y,y),e.normalize(y,y),b=a[2],i(b)||(b=a[2]=new t),b.x=y.x,b.y=y.y,b.z=y.z,b.w=-e.dot(y,n),e.multiplyByScalar(o,s,y),e.add(v,y,y),e.subtract(y,n,y),e.cross(y,_,y),e.normalize(y,y),b=a[3],i(b)||(b=a[3]=new t),b.x=y.x,b.y=y.y,b.z=y.z,b.w=-e.dot(y,n),b=a[4],i(b)||(b=a[4]=new t),b.x=r.x,b.y=r.y,b.z=r.z,b.w=-e.dot(r,v),e.negate(r,y),b=a[5],i(b)||(b=a[5]=new t),b.x=y.x,b.y=y.y,b.z=y.z,b.w=-e.dot(y,A),this._cullingVolume},l.prototype.getPixelDimensions=function(e,t,n,r){c(this);var i=1/this.near,o=this.top*i,a=2*n*o/t;o=this.right*i;var s=2*n*o/e;return r.x=s,r.y=a,r},l.prototype.clone=function(e){return i(e)||(e=new l),e.right=this.right,e.left=this.left,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e._left=void 0,e._right=void 0,e._top=void 0,e._bottom=void 0,e._near=void 0,e._far=void 0,e},l.prototype.equals=function(e){return i(e)&&e instanceof l&&this.right===e.right&&this.left===e.left&&this.top===e.top&&this.bottom===e.bottom&&this.near===e.near&&this.far===e.far},l.prototype.equalsEpsilon=function(e,t,n){return e===this||i(e)&&e instanceof l&&s.equalsEpsilon(this.right,e.right,t,n)&&s.equalsEpsilon(this.left,e.left,t,n)&&s.equalsEpsilon(this.top,e.top,t,n)&&s.equalsEpsilon(this.bottom,e.bottom,t,n)&&s.equalsEpsilon(this.near,e.near,t,n)&&s.equalsEpsilon(this.far,e.far,t,n)},l}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(92),n(7),n(12),n(1),n(0),n(2),n(15),n(815),n(460),n(458),n(190)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c){"use strict";function h(e,t){return e.priority-t.priority}function d(){}function f(e){i(e.priorityFunction)&&(e.priority=e.priorityFunction())}function p(e){var t=r(d.requestsByServer[e],d.maximumRequestsPerServer);return S[e]<t}function m(e){return e.state===c.UNISSUED&&(e.state=c.ISSUED,e.deferred=t.defer()),e.deferred.promise}function g(e){return function(t){e.state!==c.CANCELLED&&(--w.numberOfActiveRequests,--S[e.serverKey],I.raiseEvent(),e.state=c.RECEIVED,e.deferred.resolve(t))}}function _(e){return function(t){e.state!==c.CANCELLED&&(++w.numberOfFailedRequests,--w.numberOfActiveRequests,--S[e.serverKey],I.raiseEvent(t),e.state=c.FAILED,e.deferred.reject(t))}}function v(e){var t=m(e);e.state=c.ACTIVE,C.push(e),++w.numberOfActiveRequests,++w.numberOfActiveRequestsEver,++S[e.serverKey];try{e.requestFunction().then(g(e)).otherwise(_(e))}catch(t){_(e)(t)}return t}function A(e){var t=e.state===c.ACTIVE;e.state=c.CANCELLED,++w.numberOfCancelledRequests,e.deferred.reject(),t&&(--w.numberOfActiveRequests,--S[e.serverKey],++w.numberOfCancelledActiveRequests),i(e.cancelFunction)&&e.cancelFunction()}function y(){w.numberOfAttemptedRequests=0,w.numberOfCancelledRequests=0,w.numberOfCancelledActiveRequests=0}function b(){d.debugShowStatistics&&(w.numberOfAttemptedRequests>0&&console.log("Number of attempted requests: "+w.numberOfAttemptedRequests),w.numberOfActiveRequests>0&&console.log("Number of active requests: "+w.numberOfActiveRequests),w.numberOfCancelledRequests>0&&console.log("Number of cancelled requests: "+w.numberOfCancelledRequests),w.numberOfCancelledActiveRequests>0&&console.log("Number of cancelled active requests: "+w.numberOfCancelledActiveRequests),w.numberOfFailedRequests>0&&console.log("Number of failed requests: "+w.numberOfFailedRequests),y())}var w={numberOfAttemptedRequests:0,numberOfActiveRequests:0,numberOfCancelledRequests:0,numberOfCancelledActiveRequests:0,numberOfFailedRequests:0,numberOfActiveRequestsEver:0},x=20,E=new s({comparator:h});E.maximumLength=x,E.reserve(x);var C=[],S={},T="undefined"!=typeof document?new e(document.location.href):new e,I=new a;return d.maximumRequests=50,d.maximumRequestsPerServer=6,d.requestsByServer={"api.cesium.com:443":18,"assets.cesium.com:443":18},d.throttleRequests=!0,d.debugShowStatistics=!1,d.requestCompletedEvent=I,o(d,{statistics:{get:function(){return w}},priorityHeapLength:{get:function(){return x},set:function(e){if(e<x)for(;E.length>e;){var t=E.pop();A(t)}x=e,E.maximumLength=e,E.reserve(e)}}}),d.update=function(){var e,t,n=0,r=C.length;for(e=0;e<r;++e)t=C[e],t.cancelled&&A(t),t.state===c.ACTIVE?n>0&&(C[e-n]=t):++n;C.length-=n;var i=E.internalArray,o=E.length;for(e=0;e<o;++e)f(i[e]);E.resort();for(var a=Math.max(d.maximumRequests-C.length,0),s=0;s<a&&E.length>0;)t=E.pop(),t.cancelled?A(t):!t.throttleByServer||p(t.serverKey)?(v(t),++s):A(t);b()},d.getServerKey=function(t){var n=new e(t).resolve(T);n.normalize();var r=n.authority;/:/.test(r)||(r=r+":"+("https"===n.scheme?"443":"80"));var o=S[r];return i(o)||(S[r]=0),r},d.request=function(e){if(l(e.url)||u(e.url))return I.raiseEvent(),e.state=c.RECEIVED,e.requestFunction();if(++w.numberOfAttemptedRequests,i(e.serverKey)||(e.serverKey=d.getServerKey(e.url)),!d.throttleRequests||!e.throttle)return v(e);if(!(C.length>=d.maximumRequests)&&(!e.throttleByServer||p(e.serverKey))){f(e);var t=E.insert(e);if(i(t)){if(t===e)return;A(t)}return m(e)}},d.clearForSpecs=function(){for(;E.length>0;){A(E.pop())}for(var e=C.length,t=0;t<e;++t)A(C[t]);C.length=0,S={},w.numberOfAttemptedRequests=0,w.numberOfActiveRequests=0,w.numberOfCancelledRequests=0,w.numberOfCancelledActiveRequests=0,w.numberOfFailedRequests=0,w.numberOfActiveRequestsEver=0},d.numberOfActiveRequestsByServer=function(e){return S[e]},d.requestHeap=E,d}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(160),n(434),n(1),n(0),n(2),n(3),n(15),n(117),n(36)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(i){i=n(i,n.EMPTY_OBJECT);var o=i.currentTime,l=i.startTime,c=i.stopTime;o=r(o)?u.clone(o):r(l)?u.clone(l):r(c)?u.addDays(c,-1,new u):u.now(),l=r(l)?u.clone(l):u.clone(o),c=r(c)?u.clone(c):u.addDays(l,1,new u),this.startTime=l,this.stopTime=c,this.clockRange=n(i.clockRange,e.UNBOUNDED),this.canAnimate=n(i.canAnimate,!0),this.onTick=new a,this._currentTime=void 0,this._multiplier=void 0,this._clockStep=void 0,this._shouldAnimate=void 0,this._lastSystemTime=s(),this.currentTime=o,this.multiplier=n(i.multiplier,1),this.shouldAnimate=n(i.shouldAnimate,!1),this.clockStep=n(i.clockStep,t.SYSTEM_CLOCK_MULTIPLIER)}return i(l.prototype,{currentTime:{get:function(){return this._currentTime},set:function(e){u.equals(this._currentTime,e)||(this._clockStep===t.SYSTEM_CLOCK&&(this._clockStep=t.SYSTEM_CLOCK_MULTIPLIER),this._currentTime=e)}},multiplier:{get:function(){return this._multiplier},set:function(e){this._multiplier!==e&&(this._clockStep===t.SYSTEM_CLOCK&&(this._clockStep=t.SYSTEM_CLOCK_MULTIPLIER),this._multiplier=e)}},clockStep:{get:function(){return this._clockStep},set:function(e){e===t.SYSTEM_CLOCK&&(this._multiplier=1,this._shouldAnimate=!0,this._currentTime=u.now()),this._clockStep=e}},shouldAnimate:{get:function(){return this._shouldAnimate},set:function(e){this._shouldAnimate!==e&&(this._clockStep===t.SYSTEM_CLOCK&&(this._clockStep=t.SYSTEM_CLOCK_MULTIPLIER),this._shouldAnimate=e)}}}),l.prototype.tick=function(){var n=s(),r=u.clone(this._currentTime);if(this.canAnimate&&this._shouldAnimate){var i=this._clockStep;if(i===t.SYSTEM_CLOCK)r=u.now(r);else{var o=this._multiplier;if(i===t.TICK_DEPENDENT)r=u.addSeconds(r,o,r);else{var a=n-this._lastSystemTime;r=u.addSeconds(r,o*(a/1e3),r)}var l=this.clockRange,c=this.startTime,h=this.stopTime;if(l===e.CLAMPED)u.lessThan(r,c)?r=u.clone(c,r):u.greaterThan(r,h)&&(r=u.clone(h,r));else if(l===e.LOOP_STOP)for(u.lessThan(r,c)&&(r=u.clone(c,r));u.greaterThan(r,h);)r=u.addSeconds(c,u.secondsDifference(r,h),r)}}return this._currentTime=r,this._lastSystemTime=n,this.onTick.raiseEvent(this),r},l.clone=function(e,t){if(r(e))return r(t)||(t=new l),t.startTime=e.startTime,t.stopTime=e.stopTime,t.currentTime=e.currentTime,t.multiplier=e.multiplier,t.clockStep=e.clockStep,t.clockRange=e.clockRange,t.canAnimate=e.canAnimate,t.shouldAnimate=e.shouldAnimate,t},l}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(117)],void 0!==(i=function(e,t){"use strict";function n(e){return r(e)}if("undefined"!=typeof window){var r=window.requestAnimationFrame;return function(){if(!e(r))for(var n=["webkit","moz","ms","o"],i=0,o=n.length;i<o&&!e(r);)r=window[n[i]+"RequestAnimationFrame"],++i;if(!e(r)){var a=0;r=function(e){var n=t(),r=Math.max(1e3/60-(n-a),0);return a=n+r,setTimeout(function(){e(a)},r)}}}(),n}}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({NONE:0,TRIANGLES:1,LINES:2,POLYLINES:3})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(24),n(17),n(10),n(9),n(12),n(31),n(1),n(0),n(2),n(135),n(531),n(20),n(16),n(50),n(52),n(152),n(1082)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g){"use strict";function _(e,t,n){var r=new A;r.requiresTextureCoordinates=e,r.requiresEC=!n.flat;var i=new A;if(i.requiresTextureCoordinates=e,n instanceof m)r.requiresNormalEC=!n.flat;else{var o=n.material.shaderSource+"\n"+n.fragmentShaderSource;r.normalEC=-1!==o.indexOf("materialInput.normalEC")||-1!==o.indexOf("czm_getDefaultMaterial"),r.positionToEyeEC=-1!==o.indexOf("materialInput.positionToEyeEC"),r.tangentToEyeMatrix=-1!==o.indexOf("materialInput.tangentToEyeMatrix"),r.st=-1!==o.indexOf("materialInput.st")}this._colorShaderDependencies=r,this._pickShaderDependencies=i,this._appearance=n,this._extentsCulling=e,this._planarExtents=t}function v(e,t,n,i,o,a,u){var c=i.slice();if(""===S.eastMostYhighDefine){var h=I;h.longitude=r.PI,h.latitude=0,h.height=0;var d=u.project(h,T),f=l.encode(d.x,M);S.eastMostYhighDefine="EAST_MOST_X_HIGH "+f.high.toFixed((f.high+"").length+1),S.eastMostYlowDefine="EAST_MOST_X_LOW "+f.low.toFixed((f.low+"").length+1);var g=I;g.longitude=-r.PI,g.latitude=0,g.height=0;var _=u.project(g,T);f=l.encode(_.x,M),S.westMostYhighDefine="WEST_MOST_X_HIGH "+f.high.toFixed((f.high+"").length+1),S.westMostYlowDefine="WEST_MOST_X_LOW "+f.low.toFixed((f.low+"").length+1)}return n&&(c.push(S.eastMostYhighDefine),c.push(S.eastMostYlowDefine),c.push(S.westMostYhighDefine),c.push(S.westMostYlowDefine)),s(a)&&a instanceof m&&c.push("PER_INSTANCE_COLOR"),e.requiresTextureCoordinates&&(c.push("TEXTURE_COORDINATES"),t||n||c.push("SPHERICAL"),n&&c.push("COLUMBUS_VIEW_2D")),new p({defines:c,sources:[o]})}function A(){this._requiresEC=!1,this._requiresWC=!1,this._requiresNormalEC=!1,this._requiresTextureCoordinates=!1,this._usesNormalEC=!1,this._usesPositionToEyeEC=!1,this._usesTangentToEyeMat=!1,this._usesSt=!1}function y(e,n,r){return Math.abs((n.y-e.y)*r.x-(n.x-e.x)*r.y+n.x*e.y-n.y*e.x)/t.distance(n,e)}function b(e,n){var r=O,i=t.unpack(n,0,r[0]),a=t.unpack(n,2,r[1]),s=t.unpack(n,4,r[2]);e.uMaxVmax=new c({componentDatatype:o.FLOAT,componentsPerAttribute:4,normalize:!1,value:[a.x,a.y,s.x,s.y]});var u=1/y(i,a,s),l=1/y(i,s,a);e.uvMinAndExtents=new c({componentDatatype:o.FLOAT,componentsPerAttribute:4,normalize:!1,value:[i.x,i.y,u,l]})}function w(e,t,n){var r=P;r.height=0,r.longitude=e.west,r.latitude=e.south;var i=t.project(r,D);r.latitude=e.north;var a=t.project(r,B);r.longitude=e.east,r.latitude=e.south;var s=t.project(r,L),u=[0,0,0,0],h=[0,0,0,0],d=l.encode(i.x,N);u[0]=d.high,h[0]=d.low,d=l.encode(i.y,N),u[1]=d.high,h[1]=d.low,d=l.encode(a.y,N),u[2]=d.high,h[2]=d.low,d=l.encode(s.x,N),u[3]=d.high,h[3]=d.low,n.planes2D_HIGH=new c({componentDatatype:o.FLOAT,componentsPerAttribute:4,normalize:!1,value:u}),n.planes2D_LOW=new c({componentDatatype:o.FLOAT,componentsPerAttribute:4,normalize:!1,value:h})}function x(t,r,i,o,a,s){var u=d.center(t,U);u.height=i;var l=e.toCartesian(u,r,F),c=f.eastNorthUpToFixedFrame(l,r,R),p=h.inverse(c,k),m=t.west,g=t.east,_=t.north,v=t.south,A=z;A[0].latitude=v,A[0].longitude=m,A[1].latitude=_,A[1].longitude=m,A[2].latitude=_,A[2].longitude=g,A[3].latitude=v,A[3].longitude=g;var y=.5*(m+g),b=.5*(_+v);A[4].latitude=v,A[4].longitude=y,A[5].latitude=_,A[5].longitude=y,A[6].latitude=b,A[6].longitude=m,A[7].latitude=b,A[7].longitude=g;for(var w=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY,S=0;S<8;S++){A[S].height=i;var T=e.toCartesian(A[S],r,F);h.multiplyByPoint(p,T,T),T.z=0,w=Math.min(w,T.x),x=Math.max(x,T.x),E=Math.min(E,T.y),C=Math.max(C,T.y)}var I=o;I.x=w,I.y=E,I.z=0,h.multiplyByPoint(c,I,I);var M=a;M.x=x,M.y=E,M.z=0,h.multiplyByPoint(c,M,M),n.subtract(M,I,a);var O=s;O.x=w,O.y=C,O.z=0,h.multiplyByPoint(c,O,O),n.subtract(O,I,s)}function E(t,n,i,o){var a=P;a.latitude=t,a.longitude=n,a.height=0;var s=e.toCartesian(a,i,Q),u=Math.sqrt(s.x*s.x+s.y*s.y),l=r.fastApproximateAtan2(u,s.z),c=r.fastApproximateAtan2(s.x,s.y);return o.x=l,o.y=c,o}function C(e){return Math.max(e.width,e.height)>_.MAX_WIDTH_FOR_PLANAR_EXTENTS}var S={eastMostYhighDefine:"",eastMostYlowDefine:"",westMostYhighDefine:"",westMostYlowDefine:""};_.prototype.createFragmentShader=function(e){var t=this._appearance,n=this._colorShaderDependencies,r=[];e||this._planarExtents||r.push("SPHERICAL"),n.requiresEC&&r.push("REQUIRES_EC"),n.requiresWC&&r.push("REQUIRES_WC"),n.requiresTextureCoordinates&&r.push("TEXTURE_COORDINATES"),this._extentsCulling&&r.push("CULL_FRAGMENTS"),n.requiresNormalEC&&r.push("NORMAL_EC"),t instanceof m&&r.push("PER_INSTANCE_COLOR"),n.normalEC&&r.push("USES_NORMAL_EC"),n.positionToEyeEC&&r.push("USES_POSITION_TO_EYE_EC"),n.tangentToEyeMatrix&&r.push("USES_TANGENT_TO_EYE"),n.st&&r.push("USES_ST"),t.flat&&r.push("FLAT");var i="";return t instanceof m||(i=t.material.shaderSource),new p({defines:r,sources:[i,g]})},_.prototype.createPickFragmentShader=function(e){var t=this._pickShaderDependencies,n=["PICK"];return e||this._planarExtents||n.push("SPHERICAL"),t.requiresEC&&n.push("REQUIRES_EC"),t.requiresWC&&n.push("REQUIRES_WC"),t.requiresTextureCoordinates&&n.push("TEXTURE_COORDINATES"),this._extentsCulling&&n.push("CULL_FRAGMENTS"),new p({defines:n,sources:[g],pickColorQualifier:"varying"})},_.prototype.createVertexShader=function(e,t,n,r){return v(this._colorShaderDependencies,this._planarExtents,n,e,t,this._appearance,r)},_.prototype.createPickVertexShader=function(e,t,n,r){return v(this._pickShaderDependencies,this._planarExtents,n,e,t,void 0,r)};var T=new n,I=new e,M={high:0,low:0};u(A.prototype,{requiresEC:{get:function(){return this._requiresEC},set:function(e){this._requiresEC=e||this._requiresEC}},requiresWC:{get:function(){return this._requiresWC},set:function(e){this._requiresWC=e||this._requiresWC,this.requiresEC=this._requiresWC}},requiresNormalEC:{get:function(){return this._requiresNormalEC},set:function(e){this._requiresNormalEC=e||this._requiresNormalEC,this.requiresEC=this._requiresNormalEC}},requiresTextureCoordinates:{get:function(){return this._requiresTextureCoordinates},set:function(e){this._requiresTextureCoordinates=e||this._requiresTextureCoordinates,this.requiresWC=this._requiresTextureCoordinates}},normalEC:{set:function(e){this.requiresNormalEC=e,this._usesNormalEC=e},get:function(){return this._usesNormalEC}},tangentToEyeMatrix:{set:function(e){this.requiresWC=e,this.requiresNormalEC=e,this._usesTangentToEyeMat=e},get:function(){return this._usesTangentToEyeMat}},positionToEyeEC:{set:function(e){this.requiresEC=e,this._usesPositionToEyeEC=e},get:function(){return this._usesPositionToEyeEC}},st:{set:function(e){this.requiresTextureCoordinates=e,this._usesSt=e},get:function(){return this._usesSt}}});var O=[new t,new t,new t,new t],P=new e,D=new n,B=new n,L=new n,N={high:0,low:0},R=new h,k=new h,F=new n,U=new e,z=[new e,new e,new e,new e,new e,new e,new e,new e],j=new n,H=new n,V=new l;_.getPlanarTextureCoordinateAttributes=function(e,t,r,i,s){var u=D,h=j,d=H;x(e,r,a(s,0),u,h,d);var f={};b(f,t);var p=l.fromCartesian(u,V);return f.southWest_HIGH=new c({componentDatatype:o.FLOAT,componentsPerAttribute:3,normalize:!1,value:n.pack(p.high,[0,0,0])}),f.southWest_LOW=new c({componentDatatype:o.FLOAT,componentsPerAttribute:3,normalize:!1,value:n.pack(p.low,[0,0,0])}),f.eastward=new c({componentDatatype:o.FLOAT,componentsPerAttribute:3,normalize:!1,value:n.pack(h,[0,0,0])}),f.northward=new c({componentDatatype:o.FLOAT,componentsPerAttribute:3,normalize:!1,value:n.pack(d,[0,0,0])}),w(e,i,f),f};var Q=new n,G=new t;return _.getSphericalExtentGeometryInstanceAttributes=function(e,t,n,i){var a=E(e.south,e.west,n,G),s=a.x,u=a.y,l=E(e.north,e.east,n,G),h=l.x,d=l.y,f=0;u>d&&(f=r.PI-u,u=-r.PI,d+=f),s-=r.EPSILON5,u-=r.EPSILON5,h+=r.EPSILON5,d+=r.EPSILON5;var p=1/(d-u),m=1/(h-s),g={sphericalExtents:new c({componentDatatype:o.FLOAT,componentsPerAttribute:4,normalize:!1,value:[s,u,m,p]}),longitudeRotation:new c({componentDatatype:o.FLOAT,componentsPerAttribute:1,normalize:!1,value:[f]})};return b(g,t),w(e,i,g),g},_.hasAttributesForTextureCoordinatePlanes=function(e){return s(e.southWest_HIGH)&&s(e.southWest_LOW)&&s(e.northward)&&s(e.eastward)&&s(e.planes2D_HIGH)&&s(e.planes2D_LOW)&&s(e.uMaxVmax)&&s(e.uvMinAndExtents)},_.hasAttributesForSphericalExtents=function(e){return s(e.sphericalExtents)&&s(e.longitudeRotation)&&s(e.planes2D_HIGH)&&s(e.planes2D_LOW)&&s(e.uMaxVmax)&&s(e.uvMinAndExtents)},_.shouldUseSphericalCoordinates=function(e){return C(e)},_.MAX_WIDTH_FOR_PLANAR_EXTENTS=r.toRadians(1),_}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(425),n(43),n(89)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e){return new o(e)}function l(e,t){var n=e._propertyNames,r=t._propertyNames,i=n.length;if(i!==r.length)return!1;for(var o=0;o<i;++o){var a=n[o];if(-1===r.indexOf(a))return!1;if(!s.equals(e[a],t[a]))return!1}return!0}var c=function(e,n){this._propertyNames=[],this._definitionChanged=new i,t(e)&&this.merge(e,n)};return n(c.prototype,{propertyNames:{get:function(){return this._propertyNames}},isConstant:{get:function(){for(var e=this._propertyNames,t=0,n=e.length;t<n;t++)if(!s.isConstant(this[e[t]]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}}}),c.prototype.hasProperty=function(e){return-1!==this._propertyNames.indexOf(e)},c.prototype.addProperty=function(n,r,i){this._propertyNames.push(n),Object.defineProperty(this,n,a(n,!0,e(i,u))),t(r)&&(this[n]=r),this._definitionChanged.raiseEvent(this)},c.prototype.removeProperty=function(e){var t=this._propertyNames,n=t.indexOf(e);this._propertyNames.splice(n,1),delete this[e],this._definitionChanged.raiseEvent(this)},c.prototype.getValue=function(e,n){t(n)||(n={});for(var r=this._propertyNames,i=0,o=r.length;i<o;i++){var a=r[i];n[a]=s.getValueOrUndefined(this[a],e,n[a])}return n},c.prototype.merge=function(e,n){for(var r=this._propertyNames,i=t(e._propertyNames)?e._propertyNames:Object.keys(e),o=0,a=i.length;o<a;o++){var s=i[o],u=this[s],l=e[s];void 0===u&&-1===r.indexOf(s)&&this.addProperty(s,void 0,n),void 0!==l&&(void 0!==u?t(u)&&t(u.merge)&&u.merge(l):t(l)&&t(l.merge)&&t(l.clone)?this[s]=l.clone():this[s]=l)}},c.prototype.equals=function(e){return this===e||e instanceof c&&l(this,e)},c}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(43)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(t){this._color=void 0,this._colorSubscription=void 0,this._pixelSize=void 0,this._pixelSizeSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._show=void 0,this._showSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(a.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},color:o("color"),pixelSize:o("pixelSize"),outlineColor:o("outlineColor"),outlineWidth:o("outlineWidth"),show:o("show"),scaleByDistance:o("scaleByDistance"),translucencyByDistance:o("translucencyByDistance"),heightReference:o("heightReference"),distanceDisplayCondition:o("distanceDisplayCondition"),disableDepthTestDistance:o("disableDepthTestDistance")}),a.prototype.clone=function(e){return t(e)?(e.color=this.color,e.pixelSize=this.pixelSize,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.show=this.show,e.scaleByDistance=this.scaleByDistance,e.translucencyByDistance=this._translucencyByDistance,e.heightReference=this.heightReference,e.distanceDisplayCondition=this.distanceDisplayCondition,e.disableDepthTestDistance=this.disableDepthTestDistance,e):new a(this)},a.prototype.merge=function(t){this.color=e(this.color,t.color),this.pixelSize=e(this.pixelSize,t.pixelSize),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.show=e(this.show,t.show),this.scaleByDistance=e(this.scaleByDistance,t.scaleByDistance),this.translucencyByDistance=e(this._translucencyByDistance,t.translucencyByDistance),this.heightReference=e(this.heightReference,t.heightReference),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition),this.disableDepthTestDistance=e(this.disableDepthTestDistance,t.disableDepthTestDistance)},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(25),i=n(0),o=n(3),a=n(23),s=n(329),u=n(324),l=n(518),c=n(51),h=n(224),d=n(758),f=n(562);n(1179);var p=function(e){this.terria=e,this.canShowSplitter=!1,this._tilesLoadingCountMax=0,this._removeHighlightCallback=void 0,this._highlightPromise=void 0};p._featureHighlightName="___$FeatureHighlight&__",p.prototype._createFeatureFromImageryLayerFeature=function(e){var t=new h({id:e.name});return t.name=e.name,t.description=e.description,t.properties=e.properties,t.data=e.data,t.imageryLayer=e.imageryLayer,t.position=a.WGS84.cartographicToCartesian(e.position),t.coords=e.coords,t},p.prototype.updateTilesLoadingCount=function(e){e>this._tilesLoadingCountMax?this._tilesLoadingCountMax=e:0===e&&(this._tilesLoadingCountMax=0),this.terria.tileLoadProgressEvent.raiseEvent(e,this._tilesLoadingCountMax)},p.prototype.isDestroyed=function(){return!1},p.prototype.pickFromLocation=function(e,t,n){throw new o("pickFromLocation must be implemented in the derived class.")},p.prototype.destroy=function(){throw new o("destroy must be implemented in the derived class.")},p.prototype.getCurrentExtent=function(){throw new o("getCurrentExtent must be implemented in the derived class.")},p.prototype.getContainer=function(){throw new o("getContainer must be implemented in the derived class.")},p.prototype.zoomTo=function(e,t){throw new o("zoomTo must be implemented in the derived class.")},p.prototype.captureScreenshot=function(){throw new o("captureScreenshot must be implemented in the derived class.")},p.prototype.notifyRepaintRequired=function(){throw new o("notifyRepaintRequired must be implemented in the derived class.")},p.prototype.computePositionOnScreen=function(e,t){throw new o("computePositionOnScreen must be implemented in the derived class.")},p.prototype.addAttribution=function(e){throw new o("addAttribution must be implemented in the derived class.")},p.prototype.removeAttribution=function(e){throw new o("removeAttribution must be implemented in the derived class.")},p.prototype.getAllAttribution=function(){return[]},p.prototype.updateLayerOrderAfterReorder=function(){throw new o("updateLayerOrderAfterReorder must be implemented in the derived class.")},p.prototype.raise=function(e){throw new o("raise must be implemented in the derived class.")},p.prototype.lower=function(e){throw new o("lower must be implemented in the derived class.")},p.prototype.lowerToBottom=function(e){throw new o("lowerToBottom must be implemented in the derived class.")},p.prototype._highlightFeature=function(e){if(i(this._removeHighlightCallback)&&(this._removeHighlightCallback(),this._removeHighlightCallback=void 0,this._highlightPromise=void 0),i(e)){var t=!1;if(i(e.polygon)){t=!0;var n=e.polygon.outline,o=e.polygon.outlineColor,a=e.polygon.material;e.polygon.outline=!0,e.polygon.outlineColor=r.fromCssColorString(this.terria.baseMapContrastColor),e.polygon.material=r.fromCssColorString(this.terria.baseMapContrastColor).withAlpha(.75),this._removeHighlightCallback=function(){e.polygon.outline=n,e.polygon.outlineColor=o,e.polygon.material=a}}if(i(e.polyline)){t=!0;var h=e.polyline.material,m=e.polyline.width;e.polyline.material=r.fromCssColorString(this.terria.baseMapContrastColor),e.polyline.width=2,this._removeHighlightCallback=function(){e.polyline.material=h,e.polyline.width=m}}if(!t)if(e.imageryLayer&&e.imageryLayer.imageryProvider instanceof u){if(i(this.terria.cesium)){var g=new d(e.imageryLayer.imageryProvider.createHighlightImageryProvider(e.data.id),{show:!0,alpha:1}),_=this.terria.cesium.scene;_.imageryLayers.add(g),this._removeHighlightCallback=function(){_.imageryLayers.remove(g)}}else if(i(this.terria.leaflet)){var v=this.terria.leaflet.map,A={async:!0,opacity:1,bounds:f(e.imageryLayer.imageryProvider.rectangle)};i(v.options.maxZoom)&&(A.maxZoom=v.options.maxZoom);var y=new l(e.imageryLayer.imageryProvider.createHighlightImageryProvider(e.data.id),A);y.addTo(v),y.bringToFront(),this._removeHighlightCallback=function(){v.removeLayer(y)}}}else{var b=s(e.data);if(b&&b.geometry&&"Point"!==b.geometry.type){var w=new c(this.terria);w.name=p._featureHighlightName,w.data=b,w.style={"stroke-width":2,stroke:this.terria.baseMapContrastColor,"fill-opacity":0,"marker-color":this.terria.baseMapContrastColor};var x=this,E=this._removeHighlightCallback=function(){x._highlightPromise.then(function(){E===x._removeHighlightCallback&&(w._hide(),w._disable())}).otherwise(function(){})};x._highlightPromise=w.load().then(function(){E===x._removeHighlightCallback&&(w._enable(),w._show())})}}}},p.prototype.addImageryProvider=function(e){throw new o("addImageryProvider must be implemented in the derived class.")},p.prototype.removeImageryLayer=function(e){throw new o("removeImageryLayer must be implemented in the derived class.")},p.prototype.showImageryLayer=function(e){throw new o("showImageryLayer must be implemented in the derived class.")},p.prototype.hideImageryLayer=function(e){throw new o("hideImageryLayer must be implemented in the derived class.")},p.prototype.isImageryLayerShown=function(e){throw new o("isImageryLayerShown must be implemented in the derived class.")},p.prototype.addDataSource=function(e){this.terria.dataSources.add(e.dataSource)},p.prototype.removeDataSource=function(e){this.terria.dataSources.remove(e.dataSource,!1)},p.prototype.updateAllItemsForSplitter=function(){var e=this;this.terria.nowViewing.items.forEach(function(t){e.updateItemForSplitter(t)}),this.notifyRepaintRequired()},p.prototype.updateItemForSplitter=function(e){},p.prototype.pauseMapInteraction=function(){},p.prototype.resumeMapInteraction=function(){},p.disposeCommonListeners=function(e){i(e._removeHighlightCallback)&&(e._removeHighlightCallback(),e._removeHighlightCallback=void 0,e._highlightPromise=void 0),i(e._disclaimerShiftSubscription)&&(e._disclaimerShiftSubscription.dispose(),e._disclaimerShiftSubscription=void 0)},e.exports=p},function(e,t,n){var r,i;r=[n(1168),n(25),n(1),n(0),n(3)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(i,o){if(""!==i){o=n(o,n.EMPTY_OBJECT);var s=n(o.font,"10px sans-serif"),u=n(o.stroke,!1),l=n(o.fill,!0),c=n(o.strokeWidth,1),h=n(o.backgroundColor,t.TRANSPARENT),d=n(o.padding,0),f=2*d,p=document.createElement("canvas");p.width=1,p.height=1,p.style.font=s;var m=p.getContext("2d");r(a)||(r(m.imageSmoothingEnabled)?a="imageSmoothingEnabled":r(m.mozImageSmoothingEnabled)?a="mozImageSmoothingEnabled":r(m.webkitImageSmoothingEnabled)?a="webkitImageSmoothingEnabled":r(m.msImageSmoothingEnabled)&&(a="msImageSmoothingEnabled")),m.font=s,m.lineJoin="round",m.lineWidth=c,m[a]=!1,m.textBaseline=n(o.textBaseline,"bottom"),p.style.visibility="hidden",document.body.appendChild(p);var g=e(m,i,u,l);p.dimensions=g,document.body.removeChild(p),p.style.visibility="";var _=-g.bounds.minx,v=Math.ceil(g.width)+_+f,A=g.height+f,y=A-g.ascent+f,b=A-y+f;if(p.width=v,p.height=A,m.font=s,m.lineJoin="round",m.lineWidth=c,m[a]=!1,h!==t.TRANSPARENT&&(m.fillStyle=h.toCssColorString(),m.fillRect(0,0,p.width,p.height)),u){var w=n(o.strokeColor,t.BLACK);m.strokeStyle=w.toCssColorString(),m.strokeText(i,_+d,b)}if(l){var x=n(o.fillColor,t.WHITE);m.fillStyle=x.toCssColorString(),m.fillText(i,_+d,b)}return p}}var a;return o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(38),n(10),n(12),n(1),n(0),n(2),n(16)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e,n){this._ellipsoid=e,this._cameraPosition=new t,this._cameraPositionInScaledSpace=new t,this._distanceToLimbInScaledSpaceSquared=0,i(n)&&(this.cameraPosition=n)}function u(e,n,r){var i=e.transformPositionToScaledSpace(n,p),o=t.magnitudeSquared(i),a=Math.sqrt(o),s=t.divideByScalar(i,a,m);o=Math.max(1,o),a=Math.max(1,a);var u=t.dot(s,r),l=t.magnitude(t.cross(s,r,s)),c=1/a;return 1/(u*c-l*(Math.sqrt(o-1)*c))}function l(e,n,r){if(!(n<=0||n===1/0||n!==n))return t.multiplyByScalar(e,n,r)}function c(e,n){return t.equals(n,t.ZERO)?n:(e.transformPositionToScaledSpace(n,g),t.normalize(g,g))}o(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},cameraPosition:{get:function(){return this._cameraPosition},set:function(e){var n=this._ellipsoid,r=n.transformPositionToScaledSpace(e,this._cameraPositionInScaledSpace),i=t.magnitudeSquared(r)-1;t.clone(e,this._cameraPosition),this._cameraPositionInScaledSpace=r,this._distanceToLimbInScaledSpaceSquared=i}}});var h=new t;s.prototype.isPointVisible=function(e){var t=this._ellipsoid,n=t.transformPositionToScaledSpace(e,h);return this.isScaledSpacePointVisible(n)},s.prototype.isScaledSpacePointVisible=function(e){var n=this._cameraPositionInScaledSpace,r=this._distanceToLimbInScaledSpaceSquared,i=t.subtract(e,n,h),o=-t.dot(i,n);return!(r<0?o>0:o>r&&o*o/t.magnitudeSquared(i)>r)},s.prototype.computeHorizonCullingPoint=function(e,n,r){i(r)||(r=new t);for(var o=this._ellipsoid,a=c(o,e),s=0,h=0,d=n.length;h<d;++h){var f=n[h],p=u(o,f,a);s=Math.max(s,p)}return l(a,s,r)};var d=new t;s.prototype.computeHorizonCullingPointFromVertices=function(e,n,o,a,s){i(s)||(s=new t),a=r(a,t.ZERO);for(var h=this._ellipsoid,f=c(h,e),p=0,m=0,g=n.length;m<g;m+=o){d.x=n[m]+a.x,d.y=n[m+1]+a.y,d.z=n[m+2]+a.z;var _=u(h,d,f);p=Math.max(p,_)}return l(f,p,s)};var f=[];s.prototype.computeHorizonCullingPointFromRectangle=function(n,r,i){var o=a.subsample(n,r,0,f),s=e.fromPoints(o);if(!(t.magnitude(s.center)<.1*r.minimumRadius))return this.computeHorizonCullingPoint(s.center,o,i)};var p=new t,m=new t,g=new t;return s}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(13),i=function(){this.allFeaturesAvailablePromise=void 0,this.isLoading=!0,this.pickPosition=void 0,this.features=[],this.error=void 0,r.track(this,["isLoading","features","error"])};e.exports=i},function(e,t,n){var r,i;r=[n(197),n(1),n(0),n(2),n(3),n(15),n(792),n(36),n(793)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(e,t,n){var r,i=e.length,o=n.length,a=i+o;if(e.length=a,i!==t){var s=i-1;for(r=a-1;r>=t;r--)e[r]=e[s--]}for(r=0;r<o;r++)e[t++]=n[r]}function c(e,t){return e instanceof s?e:"string"==typeof e?s.fromIso8601(e):s.addSeconds(t,e,new s)}function h(t,r,i,o,a){for(var u,h,d,f,g,_,v=0;v<o.length;){g=c(o[v],t),d=e(r,g,s.compare);var A=0,y=0;if(d<0){for(d=~d,f=d*a,h=void 0,_=r[d];v<o.length&&(g=c(o[v],t),!(n(h)&&s.compare(h,g)>=0||n(_)&&s.compare(g,_)>=0));){for(p[A++]=g,v+=1,u=0;u<a;u++)m[y++]=o[v],v+=1;h=g}A>0&&(m.length=y,l(i,f,m),p.length=A,l(r,d,p))}else{for(u=0;u<a;u++)v++,i[d*a+u]=o[v];v++}}}function d(e,r){var i=e;i===Number&&(i=f);var s,l=i.packedLength,c=t(i.packedInterpolationLength,l),h=0;if(n(r)){var d=r.length;s=new Array(d);for(var p=0;p<d;p++){var m=r[p];m===Number&&(m=f);var g=m.packedLength;l+=g,c+=t(m.packedInterpolationLength,g),s[p]=m}h=d}this._type=e,this._innerType=i,this._interpolationDegree=1,this._interpolationAlgorithm=u,this._numberOfPoints=0,this._times=[],this._values=[],this._xTable=[],this._yTable=[],this._packedLength=l,this._packedInterpolationLength=c,this._updateTableLength=!0,this._interpolationResult=new Array(c),this._definitionChanged=new o,this._derivativeTypes=r,this._innerDerivativeTypes=s,this._inputOrder=h,this._forwardExtrapolationType=a.NONE,this._forwardExtrapolationDuration=0,this._backwardExtrapolationType=a.NONE,this._backwardExtrapolationDuration=0}var f={packedLength:1,pack:function(e,n,r){r=t(r,0),n[r]=e},unpack:function(e,n,r){return n=t(n,0),e[n]}},p=[],m=[];return r(d.prototype,{isConstant:{get:function(){return 0===this._values.length}},definitionChanged:{get:function(){return this._definitionChanged}},type:{get:function(){return this._type}},derivativeTypes:{get:function(){return this._derivativeTypes}},interpolationDegree:{get:function(){return this._interpolationDegree}},interpolationAlgorithm:{get:function(){return this._interpolationAlgorithm}},forwardExtrapolationType:{get:function(){return this._forwardExtrapolationType},set:function(e){this._forwardExtrapolationType!==e&&(this._forwardExtrapolationType=e,this._definitionChanged.raiseEvent(this))}},forwardExtrapolationDuration:{get:function(){return this._forwardExtrapolationDuration},set:function(e){this._forwardExtrapolationDuration!==e&&(this._forwardExtrapolationDuration=e,this._definitionChanged.raiseEvent(this))}},backwardExtrapolationType:{get:function(){return this._backwardExtrapolationType},set:function(e){this._backwardExtrapolationType!==e&&(this._backwardExtrapolationType=e,this._definitionChanged.raiseEvent(this))}},backwardExtrapolationDuration:{get:function(){return this._backwardExtrapolationDuration},set:function(e){this._backwardExtrapolationDuration!==e&&(this._backwardExtrapolationDuration=e,this._definitionChanged.raiseEvent(this))}}}),d.prototype.getValue=function(t,r){var i=this._times,o=i.length;if(0!==o){var u,l=this._innerType,c=this._values,h=e(i,t,s.compare);if(h<0){if(0===(h=~h)){var d=i[h];if(u=this._backwardExtrapolationDuration,this._backwardExtrapolationType===a.NONE||0!==u&&s.secondsDifference(d,t)>u)return;if(this._backwardExtrapolationType===a.HOLD)return l.unpack(c,0,r)}if(h>=o){h=o-1;var f=i[h];if(u=this._forwardExtrapolationDuration,this._forwardExtrapolationType===a.NONE||0!==u&&s.secondsDifference(t,f)>u)return;if(this._forwardExtrapolationType===a.HOLD)return h=o-1,l.unpack(c,h*l.packedLength,r)}var p=this._xTable,m=this._yTable,g=this._interpolationAlgorithm,_=this._packedInterpolationLength,v=this._inputOrder;if(this._updateTableLength){this._updateTableLength=!1;var A=Math.min(g.getRequiredDataPoints(this._interpolationDegree,v),o);A!==this._numberOfPoints&&(this._numberOfPoints=A,p.length=A,m.length=A*_)}var y=this._numberOfPoints-1;if(y<1)return;var b=0,w=o-1;if(w-b+1>=y+1){var x=h-(y/2|0)-1;x<b&&(x=b);var E=x+y;E>w&&(E=w,(x=E-y)<b&&(x=b)),b=x,w=E}for(var C=w-b+1,S=0;S<C;++S)p[S]=s.secondsDifference(i[b+S],i[w]);if(n(l.convertPackedArrayForInterpolation))l.convertPackedArrayForInterpolation(c,b,w,m);else for(var T=0,I=this._packedLength,M=b*I,O=(w+1)*I;M<O;)m[T]=c[M],M++,T++;var P,D=s.secondsDifference(t,i[w]);if(0!==v&&n(g.interpolate)){var B=Math.floor(_/(v+1));P=g.interpolate(D,p,m,B,v,v,this._interpolationResult)}else P=g.interpolateOrderZero(D,p,m,_,this._interpolationResult);return n(l.unpackInterpolationResult)?l.unpackInterpolationResult(P,c,b,w,r):l.unpack(P,0,r)}return l.unpack(c,h*this._packedLength,r)}},d.prototype.setInterpolationOptions=function(e){if(n(e)){var t=!1,r=e.interpolationAlgorithm,i=e.interpolationDegree;n(r)&&this._interpolationAlgorithm!==r&&(this._interpolationAlgorithm=r,t=!0),n(i)&&this._interpolationDegree!==i&&(this._interpolationDegree=i,t=!0),t&&(this._updateTableLength=!0,this._definitionChanged.raiseEvent(this))}},d.prototype.addSample=function(e,t,r){var i=this._innerDerivativeTypes,o=n(i),a=this._innerType,s=[];if(s.push(e),a.pack(t,s,s.length),o)for(var u=i.length,l=0;l<u;l++)i[l].pack(r[l],s,s.length);h(void 0,this._times,this._values,s,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},d.prototype.addSamples=function(e,t,r){for(var i=this._innerDerivativeTypes,o=n(i),a=this._innerType,s=e.length,u=[],l=0;l<s;l++)if(u.push(e[l]),a.pack(t[l],u,u.length),o)for(var c=r[l],d=i.length,f=0;f<d;f++)i[f].pack(c[f],u,u.length);h(void 0,this._times,this._values,u,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},d.prototype.addSamplesPackedArray=function(e,t){h(t,this._times,this._values,e,this._packedLength),this._updateTableLength=!0,this._definitionChanged.raiseEvent(this)},d.prototype.equals=function(e){if(this===e)return!0;if(!n(e))return!1;if(this._type!==e._type||this._interpolationDegree!==e._interpolationDegree||this._interpolationAlgorithm!==e._interpolationAlgorithm)return!1;var t=this._derivativeTypes,r=n(t),i=e._derivativeTypes;if(r!==n(i))return!1;var o,a;if(r){if((a=t.length)!==i.length)return!1;for(o=0;o<a;o++)if(t[o]!==i[o])return!1}var u=this._times,l=e._times;if((a=u.length)!==l.length)return!1;for(o=0;o<a;o++)if(!s.equals(u[o],l[o]))return!1;var c=this._values,h=e._values;for(o=0;o<a;o++)if(c[o]!==h[o])return!1;return!0},d._mergeNewSamples=h,d}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(2)],void 0!==(i=function(e){"use strict";function t(){this._array=[],this._offset=0,this._length=0}return e(t.prototype,{length:{get:function(){return this._length}}}),t.prototype.enqueue=function(e){this._array.push(e),this._length++},t.prototype.dequeue=function(){if(0!==this._length){var e=this._array,t=this._offset,n=e[t];return e[t]=void 0,t++,t>10&&2*t>e.length&&(this._array=e.slice(t),t=0),this._offset=t,this._length--,n}},t.prototype.peek=function(){if(0!==this._length)return this._array[this._offset]},t.prototype.contains=function(e){return-1!==this._array.indexOf(e)},t.prototype.clear=function(){this._array.length=this._offset=this._length=0},t.prototype.sort=function(e){this._offset>0&&(this._array=this._array.slice(this._offset),this._offset=0),this._array.sort(e)},t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(38),n(10),n(41),n(24),n(27),n(25),n(42),n(101),n(1),n(0),n(2),n(21),n(3),n(154),n(39),n(226),n(175),n(108),n(49),n(318),n(1269),n(319),n(9),n(40),n(20),n(69),n(54),n(59),n(29),n(50),n(34),n(93),n(64),n(60),n(47),n(68),n(114),n(77),n(52),n(100),n(102),n(185),n(115),n(603),n(605),n(57),n(145),n(177),n(110),n(604),n(1270),n(606),n(7),n(174),n(70),n(307),n(769),n(612),n(613),n(452),n(153),n(794),n(1272),n(1276),n(608),n(1278),n(1279),n(1280),n(178),n(609),n(611),n(46),n(184)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L,N,R,k,F,U,z,j,H,V,Q,G,W,q,Y,K,X,Z,J,$,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,he,de,fe,pe,me,ge,_e,ve){"use strict";function Ae(e,t){e._cachedGltf=t}function ye(e){this._gltf=e.gltf,this.ready=e.ready,this.modelsToLoad=[],this.count=0}function be(t){t=u(t,u.EMPTY_OBJECT);var n=t.cacheKey;this._cacheKey=n,this._cachedGltf=void 0,this._releaseGltfJson=u(t.releaseGltfJson,!1);var r;if(l(n)&&l(fn[n])&&fn[n].ready)r=fn[n],++r.count;else{var i=t.gltf;if(l(i)){if(i instanceof ArrayBuffer&&(i=new Uint8Array(i)),i instanceof Uint8Array){r=new ye({gltf:K(i),ready:!0})}else r=new ye({gltf:t.gltf,ready:!0});r.count=1,l(n)&&(fn[n]=r)}}Ae(this,r);var a=u(t.basePath,"");this._resource=I.createIfNeeded(a),this.show=u(t.show,!0),this.silhouetteColor=u(t.silhouetteColor,o.RED),this._silhouetteColor=new o,this._silhouetteColorPreviousAlpha=1,this._normalAttributeName=void 0,this.silhouetteSize=u(t.silhouetteSize,0),this.modelMatrix=E.clone(u(t.modelMatrix,E.IDENTITY)),this._modelMatrix=E.clone(this.modelMatrix),this._clampedModelMatrix=void 0,this.scale=u(t.scale,1),this._scale=this.scale,this.minimumPixelSize=u(t.minimumPixelSize,0),this._minimumPixelSize=this.minimumPixelSize,this.maximumScale=t.maximumScale,this._maximumScale=this.maximumScale,this.id=t.id,this._id=t.id,this.heightReference=u(t.heightReference,ae.NONE),this._heightReference=this.heightReference,this._heightChanged=!1,this._removeUpdateHeightCallback=void 0;var s=t.scene;this._scene=s,l(s)&&l(s.terrainProviderChanged)&&(this._terrainProviderChangedCallback=s.terrainProviderChanged.addEventListener(function(){this._heightChanged=!0},this)),this._pickObject=t.pickObject,this._allowPicking=u(t.allowPicking,!0),this._ready=!1,this._readyPromise=J.defer(),this.activeAnimations=new le(this),this.clampAnimations=u(t.clampAnimations,!0),this._defaultTexture=void 0,this._incrementallyLoadTextures=u(t.incrementallyLoadTextures,!0),this._asynchronous=u(t.asynchronous,!0),this.shadows=u(t.shadows,ve.ENABLED),this._shadows=this.shadows,this.color=u(t.color,o.WHITE),this._color=new o,this._colorPreviousAlpha=1,this.colorBlendMode=u(t.colorBlendMode,ne.HIGHLIGHT),this.colorBlendAmount=u(t.colorBlendAmount,.5),this._colorShadingEnabled=!1,this._clippingPlanes=void 0,this.clippingPlanes=t.clippingPlanes,this._clippingPlanesState=0,this.clippingPlaneOffsetMatrix=void 0,this.debugShowBoundingVolume=u(t.debugShowBoundingVolume,!1),this._debugShowBoundingVolume=!1,this.debugWireframe=u(t.debugWireframe,!1),this._debugWireframe=!1,this._distanceDisplayCondition=t.distanceDisplayCondition,this._addBatchIdToGeneratedShaders=t.addBatchIdToGeneratedShaders,this._precreatedAttributes=t.precreatedAttributes,this._vertexShaderLoaded=t.vertexShaderLoaded,this._fragmentShaderLoaded=t.fragmentShaderLoaded,this._uniformMapLoaded=t.uniformMapLoaded,this._pickIdLoaded=t.pickIdLoaded,this._ignoreCommands=u(t.ignoreCommands,!1),this._requestType=t.requestType,this._upAxis=u(t.upAxis,$.Y),this._gltfForwardAxis=$.Z,this._forwardAxis=t.forwardAxis,this.cull=u(t.cull,!0),this.opaquePass=u(t.opaquePass,L.OPAQUE),this._computedModelMatrix=new E,this._clippingPlaneModelViewMatrix=E.clone(E.IDENTITY),this._initialRadius=void 0,this._boundingSphere=void 0,this._scaledBoundingSphere=new e,this._state=dn.NEEDS_LOAD,this._loadResources=void 0,this._mode=void 0,this._perNodeShowDirty=!1,this._cesiumAnimationsDirty=!1,this._dirty=!1,this._maxDirtyNumber=0,this._runtime={animations:void 0,rootNodes:void 0,nodes:void 0,nodesByName:void 0,skinnedNodes:void 0,meshesByName:void 0,materialsByName:void 0,materialsById:void 0},this._uniformMaps={},this._extensionsUsed=void 0,this._extensionsRequired=void 0,this._quantizedUniforms={},this._programPrimitives={},this._rendererResources={buffers:{},vertexArrays:{},programs:{},sourceShaders:{},silhouettePrograms:{},textures:{},samplers:{},renderStates:{}},this._cachedRendererResources=void 0,this._loadRendererResourcesFromCache=!1,this._dequantizeInShader=u(t.dequantizeInShader,!0),this._decodedData={},this._cachedGeometryByteLength=0,this._cachedTexturesByteLength=0,this._geometryByteLength=0,this._texturesByteLength=0,this._trianglesLength=0,this._sourceTechniques={},this._sourcePrograms={},this._quantizedVertexShaders={},this._nodeCommands=[],this._pickIds=[],this._rtcCenter=void 0,this._rtcCenterEye=void 0,this._rtcCenter3D=void 0,this._rtcCenter2D=void 0}function we(e){return e.stencilBuffer}function xe(e){return!o.equals(e.color,o.WHITE)||e.colorBlendMode!==ne.HIGHLIGHT}function Ee(e){var t=e._clippingPlanes;return l(t)&&t.enabled}function Ce(e){return"glTF"===g(e)}function Se(e,t,n){return e._runtime[t][n]}function Te(e){var t=e.gltf,n=e._loadResources;G.buffer(t,function(e,t){n.buffers[t]=e.extras._pipeline.source})}function Ie(e,t){return function(n){var r=e._loadResources,i=new Uint8Array(n);--r.pendingBufferLoads,e.gltf.buffers[t].extras._pipeline.source=i}}function Me(e){var t=e.gltf.bufferViews,n=e._loadResources.vertexBuffersToCreate;G.bufferView(e.gltf,function(e,t){e.target===O.ARRAY_BUFFER&&n.enqueue(t)});var r=e._loadResources.indexBuffersToCreate,i={};G.accessor(e.gltf,function(e){var n=e.bufferView;if(l(n)){t[n].target!==O.ELEMENT_ARRAY_BUFFER||l(i[n])||(i[n]=!0,r.enqueue({id:n,componentType:e.componentType}))}})}function Oe(e){var t=e.gltf;if(q(t,"KHR_techniques_webgl")){var n=e._sourcePrograms,r=e._sourceTechniques,o=t.extensions.KHR_techniques_webgl.programs;G.technique(t,function(e,t){r[t]=i(e);var a=e.program;l(n[a])||(n[a]=i(o[a]))})}}function Pe(e,t,n){return function(r){var i=e._loadResources;i.shaders[n]={source:r,type:t,bufferView:void 0},--i.pendingShaderLoads,e._rendererResources.sourceShaders[n]=r}}function De(e){var t=e.gltf,n=t.buffers,r=t.bufferViews,i=e._rendererResources.sourceShaders;G.shader(t,function(t,o){if(l(t.bufferView)){var a=t.bufferView,s=r[a],u=s.buffer,c=n[u],h=_(c.extras._pipeline.source,s.byteOffset,s.byteLength);i[o]=h}else if(l(t.extras._pipeline.source))i[o]=t.extras._pipeline.source;else{++e._loadResources.pendingShaderLoads;var d=e._resource.getDerivedResource({url:t.uri});d.fetchText().then(Pe(e,t.type,o)).otherwise(pe.getFailedLoadFunction(e,"shader",d.url))}})}function Be(e){var t=e._sourceTechniques;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e._loadResources.programsToCreate.enqueue({programId:r.program,techniqueId:n})}}function Le(e,t){return function(n){var r=e._loadResources;--r.pendingTextureLoads,r.texturesToCreate.enqueue({id:t,image:n,bufferView:n.bufferView,width:n.width,height:n.height,internalFormat:n.internalFormat})}}function Ne(e,t){var n,r=e.gltf,i=r.images;G.texture(r,function(r,o){var a=r.source,s=i[a],u=s.extras,c=s.bufferView,h=s.mimeType;if(n=s.uri,l(u)&&l(u.compressedImage3DTiles)){var d=u.compressedImage3DTiles.crunch,f=u.compressedImage3DTiles.s3tc,p=u.compressedImage3DTiles.pvrtc1,m=u.compressedImage3DTiles.etc1;t.s3tc&&l(d)?(h=d.mimeType,l(d.bufferView)?c=d.bufferView:n=d.uri):t.s3tc&&l(f)?(h=f.mimeType,l(f.bufferView)?c=f.bufferView:n=f.uri):t.pvrtc&&l(p)?(h=p.mimeType,l(p.bufferView)?c=p.bufferView:n=p.uri):t.etc1&&l(m)&&(h=m.mimeType,l(m.bufferView)?c=m.bufferView:n=m.uri)}if(l(c))e._loadResources.texturesToCreateFromBufferView.enqueue({id:o,image:void 0,bufferView:c,mimeType:h});else{++e._loadResources.pendingTextureLoads;var g,_=e._resource.getDerivedResource({url:n});g=mn.test(n)?b(_):gn.test(n)?A(_):_.fetchImage(),g.then(Le(e,o,a)).otherwise(pe.getFailedLoadFunction(e,"image",_.url))}})}function Re(e){var t={},n={},r=[],i=e._loadResources.skinnedNodesIds;G.node(e.gltf,function(o,a){var s={matrix:void 0,translation:void 0,rotation:void 0,scale:void 0,computedShow:!0,transformToRoot:new E,computedMatrix:new E,dirtyNumber:0,commands:[],inverseBindMatrices:void 0,bindShapeMatrix:void 0,joints:[],computedJointMatrices:[],jointName:o.jointName,weights:[],children:[],parents:[],publicNode:void 0};s.publicNode=new fe(e,o,s,a,pe.getTransform(o)),t[a]=s,n[o.name]=s,l(o.skin)&&(i.push(a),r.push(s))}),e._runtime.nodes=t,e._runtime.nodesByName=n,e._runtime.skinnedNodes=r}function ke(e){var t=e.gltf,n=e._sourceTechniques,r={},o={},a=e._uniformMaps;G.material(t,function(t,s){a[s]={uniformMap:void 0,values:void 0,jointMatrixUniformName:void 0,morphWeightsUniformName:void 0};var u=new he(e,t,s);if(l(t.extensions)&&l(t.extensions.KHR_techniques_webgl)){var c=t.extensions.KHR_techniques_webgl.technique;u._technique=c,u._program=n[c].program,G.materialValue(t,function(e,t){l(u._values)||(u._values={}),u._values[t]=i(e)})}r[t.name]=u,o[s]=u}),e._runtime.materialsByName=r,e._runtime.materialsById=o}function Fe(e){var t={},n=e._runtime.materialsById;G.mesh(e.gltf,function(r,i){t[r.name]=new de(r,n,i),(l(e.extensionsUsed.WEB3D_quantized_attributes)||e._dequantizeInShader)&&G.meshPrimitive(r,function(t,n){var r=He(e,t),o=e._programPrimitives[r];l(o)||(o={},e._programPrimitives[r]=o),o[i+".primitive."+n]=t})}),e._runtime.meshesByName=t}function Ue(e,t,n){var r=t._loadResources,i=t.gltf.bufferViews,o=i[e];l(o)||(o=r.createdBufferViews[e]);var a=P.createVertexBuffer({context:n,typedArray:r.getBuffer(o),usage:D.STATIC_DRAW});a.vertexArrayDestroyable=!1,t._rendererResources.buffers[e]=a,t._geometryByteLength+=a.sizeInBytes}function ze(e,t,n,r){var i=n._loadResources,o=n.gltf.bufferViews,a=o[e];l(a)||(a=i.createdBufferViews[e]);var s=P.createIndexBuffer({context:r,typedArray:i.getBuffer(a),usage:D.STATIC_DRAW,indexDatatype:t});s.vertexArrayDestroyable=!1,n._rendererResources.buffers[e]=s,n._geometryByteLength+=s.sizeInBytes}function je(e,t){var n=e._loadResources;if(0===n.pendingBufferLoads){var r,i=t.context,o=n.vertexBuffersToCreate,a=n.indexBuffersToCreate;if(e.asynchronous){for(;o.length>0&&(An.set(o.peek(),e,i),t.jobScheduler.execute(An,se.BUFFER));)o.dequeue();for(;a.length>0&&(r=a.peek(),yn.set(r.id,r.componentType,e,i),t.jobScheduler.execute(yn,se.BUFFER));)a.dequeue()}else{for(;o.length>0;)Ue(o.dequeue(),e,i);for(;a.length>0;)r=a.dequeue(),ze(r.id,r.componentType,e,i)}}}function He(e,t){var n=e._runtime.materialsById[t.material];if(l(n))return n._program}function Ve(e,t,n){var r,i=n._programPrimitives[t];if(!l(i))return e;var o;for(o in i)if(i.hasOwnProperty(o)&&(r=i[o],He(n,r)===t))break;var a=e;if(n.extensionsUsed.WEB3D_quantized_attributes)a=pe.modifyShaderForQuantizedAttributes(n.gltf,r,e),n._quantizedUniforms[t]=a.uniforms;else{var s=n._decodedData[o];l(s)&&(a=pe.modifyShaderForDracoQuantizedAttributes(n.gltf,r,e,s.attributes))}return n._programPrimitives[t]=void 0,a.shader}function Qe(e){return e=F.replaceMain(e,"gltf_blend_main"),e+="uniform vec4 gltf_color; \nuniform float gltf_colorBlend; \nvoid main() \n{ \n    gltf_blend_main(); \n    gl_FragColor.rgb = mix(gl_FragColor.rgb, gltf_color.rgb, gltf_colorBlend); \n    float highlight = ceil(gltf_colorBlend); \n    gl_FragColor.rgb *= mix(gltf_color.rgb, vec3(1.0), highlight); \n    gl_FragColor.a *= gltf_color.a; \n} \n"}function Ge(e,t,n){return l(n)&&(e=n(e,t)),e}function We(e,t,n){var r=e.programId,i=e.techniqueId,o=t._sourcePrograms[r],a=t._rendererResources.sourceShaders,s=a[o.vertexShader],u=a[o.fragmentShader],c=t._quantizedVertexShaders,h=t._toClipCoordinatesGLSL[r];if(t.extensionsUsed.WEB3D_quantized_attributes||t._dequantizeInShader){var d=c[r];l(d)||(d=Ve(s,r,t),c[r]=d),s=d}var f=Ge(s,r,t._vertexShaderLoaded),m=Ge(u,r,t._fragmentShaderLoaded);p.isInternetExplorer()||(f=pe.modifyVertexShaderForLogDepth(f,h),m=pe.modifyFragmentShaderForLogDepth(m)),l(t._uniformMapLoaded)||(m="uniform vec4 czm_pickColor;\n"+m),Ye(r,i,m,f,t,n)}function qe(e,t,n){var r=e.programId,i=e.techniqueId,o=t._sourcePrograms[r],a=t._rendererResources.sourceShaders,s=t._quantizedVertexShaders,u=t._toClipCoordinatesGLSL[r],c=t.clippingPlanes,h=Ee(t),d=a[o.vertexShader],f=a[o.fragmentShader];(t.extensionsUsed.WEB3D_quantized_attributes||t._dequantizeInShader)&&(d=s[r]);var m=f;xe(t)&&(m=be._modifyShaderForColor(m)),h&&(m=Xt(m,c,n));var g=Ge(d,r,t._vertexShaderLoaded),_=Ge(m,r,t._fragmentShaderLoaded);p.isInternetExplorer()||(g=pe.modifyVertexShaderForLogDepth(g,u),_=pe.modifyFragmentShaderForLogDepth(_)),l(t._uniformMapLoaded)||(_="uniform vec4 czm_pickColor;\n"+_),Ye(r,i,_,g,t,n)}function Ye(e,t,n,r,i,o){var a=i._sourceTechniques[t],s=pe.createAttributeLocations(a,i._precreatedAttributes);i._rendererResources.programs[e]=k.fromCache({context:o,vertexShaderSource:r,fragmentShaderSource:n,attributeLocations:s})}function Ke(e,t){var n=e._loadResources,r=n.programsToCreate;if(0===n.pendingShaderLoads&&0===n.pendingBufferLoads){var i=t.context;if(e.asynchronous)for(;r.length>0&&(wn.set(r.peek(),e,i),t.jobScheduler.execute(wn,se.PROGRAM));)r.dequeue();else for(;r.length>0;)We(r.dequeue(),e,i)}}function Xe(e,t){return function(n){e.texturesToCreate.enqueue({id:t.id,image:n,bufferView:void 0}),--e.pendingBufferViewToImage}}function Ze(e){var t=e._loadResources;if(0===t.pendingBufferLoads)for(;t.texturesToCreateFromBufferView.length>0;){var n=t.texturesToCreateFromBufferView.dequeue(),r=e.gltf,i=r.bufferViews[n.bufferView],o=r.textures[n.id].source,a=pe.getFailedLoadFunction(e,"image","id: "+n.id+", bufferView: "+n.bufferView);if("image/ktx"===n.mimeType)b(t.getBuffer(i)).then(Le(e,n.id,o)).otherwise(a),++e._loadResources.pendingTextureLoads;else if("image/crn"===n.mimeType)A(t.getBuffer(i)).then(Le(e,n.id,o)).otherwise(a),++e._loadResources.pendingTextureLoads;else{var s=Xe(t,n);y(t.getBuffer(i),n.mimeType).then(s).otherwise(a),++t.pendingBufferViewToImage}}}function Je(e){var t=e._loadResources;if(t.createSamplers){t.createSamplers=!1;var n=e._rendererResources.samplers;G.sampler(e.gltf,function(e,t){n[t]=new R({wrapS:e.wrapS,wrapT:e.wrapT,minificationFilter:e.minFilter,magnificationFilter:e.magFilter})})}}function $e(e,t,n){var r=t.gltf.textures,i=r[e.id],o=t._rendererResources.samplers,a=o[i.sampler];a=u(a,new R({wrapS:j.REPEAT,wrapT:j.REPEAT}));var s,c=e.internalFormat,h=!(l(c)&&C.isCompressedFormat(c)||a.minificationFilter!==z.NEAREST_MIPMAP_NEAREST&&a.minificationFilter!==z.NEAREST_MIPMAP_LINEAR&&a.minificationFilter!==z.LINEAR_MIPMAP_NEAREST&&a.minificationFilter!==z.LINEAR_MIPMAP_LINEAR),d=h||a.wrapS===j.REPEAT||a.wrapS===j.MIRRORED_REPEAT||a.wrapT===j.REPEAT||a.wrapT===j.MIRRORED_REPEAT,f=e.image;if(l(c))s=new U({context:n,source:{arrayBufferView:e.bufferView},width:e.width,height:e.height,pixelFormat:c,sampler:a});else if(l(f)){var p=!w.isPowerOfTwo(f.width)||!w.isPowerOfTwo(f.height);if(d&&p){var m=document.createElement("canvas");m.width=w.nextPowerOfTwo(f.width),m.height=w.nextPowerOfTwo(f.height);var g=m.getContext("2d");g.drawImage(f,0,0,f.width,f.height,0,0,m.width,m.height),f=m}s=new U({context:n,source:f,pixelFormat:i.internalFormat,pixelDatatype:i.type,sampler:a,flipY:!1}),h&&s.generateMipmap()}l(s)&&(t._rendererResources.textures[e.id]=s,t._texturesByteLength+=s.sizeInBytes)}function et(e,t){var n=t.context,r=e._loadResources.texturesToCreate;if(e.asynchronous)for(;r.length>0&&(En.set(r.peek(),e,n),t.jobScheduler.execute(En,se.TEXTURE));)r.dequeue();else for(;r.length>0;)$e(r.dequeue(),e,n)}function tt(e,t){var n,r,i=e._sourceTechniques,o={},a=e._runtime.materialsById[t.material];if(!l(a))return o;var s=i[a._technique];if(!l(s))return o;var u=s.attributes,c=e._rendererResources.programs[s.program],h=c.vertexAttributes,d=c._attributeLocations;for(n in h)if(h.hasOwnProperty(n)){var f=u[n];l(f)&&(r=d[n],o[f.semantic]=r)}var p=e._precreatedAttributes;if(l(p))for(n in p)p.hasOwnProperty(n)&&(r=d[n],o[n]=r);return o}function nt(e,t){for(var n=e.length,r={},i=0;i<n;++i)for(var o=[e[i]];o.length>0;){var a=o.pop(),s=t[a];l(s)&&(r[a]=a);var u=s.children;if(l(u))for(var c=u.length,h=0;h<c;++h)o.push(u[h])}return r}function rt(e,t){for(var n=e.gltf,r=n.skins,i=n.nodes,o=e._runtime.nodes,a=e._loadResources.skinnedNodesIds,s=a.length,u=0;u<s;++u){var c=a[u],h=o[c],d=i[c],f=t[d.skin];h.inverseBindMatrices=f.inverseBindMatrices,h.bindShapeMatrix=f.bindShapeMatrix;var p=[],m=r[d.skin];l(m.skeleton)&&p.push(m.skeleton);for(var g=nt(p,i),_=r[d.skin].joints,v=_.length,A=0;A<v;++A){var y=_[A],b=g[y],w=o[b];h.joints.push(w)}}}function it(e){var t=e._loadResources;if(0===t.pendingBufferLoads&&t.createSkins){t.createSkins=!1;var n=e.gltf,r=n.accessors,i={};G.skin(n,function(t,n){var o,a=r[t.inverseBindMatrices];E.equals(t.bindShapeMatrix,E.IDENTITY)||(o=E.clone(t.bindShapeMatrix)),i[n]={inverseBindMatrices:ue.getSkinInverseBindMatrices(e,a),bindShapeMatrix:o}}),rt(e,i)}}function ot(e,t,n,r){return function(i){l(r)&&(i=e.clampAnimations?r.clampTime(i):r.wrapTime(i),t[n]=r.evaluate(i,t[n]),t.dirtyNumber=e._maxDirtyNumber)}}function at(e){var t=e._loadResources;if(t.finishedPendingBufferLoads()&&t.createRuntimeAnimations){t.createRuntimeAnimations=!1,e._runtime.animations=[];var n=e._runtime.nodes,r=e.gltf.accessors;G.animation(e.gltf,function(t,i){for(var o=t.channels,a=t.samplers,s=Number.MAX_VALUE,u=-Number.MAX_VALUE,l=o.length,c=new Array(l),h=0;h<l;++h){var d=o[h],f=d.target,p=f.path,m=a[d.sampler],g=ue.getAnimationParameterValues(e,r[m.input]),_=ue.getAnimationParameterValues(e,r[m.output]);s=Math.min(s,g[0]),u=Math.max(u,g[g.length-1]);var v=ue.getAnimationSpline(e,i,t,d.sampler,m,g,p,_);c[h]=ot(e,n[f.node],f.path,v)}e._runtime.animations[i]={name:t.name,startTime:s,stopTime:u,channelEvaluators:c}})}}function st(e,t){var n=e._loadResources;if(n.finishedBuffersCreation()&&n.finishedProgramCreation()&&n.createVertexArrays){n.createVertexArrays=!1;var r=e._rendererResources.buffers,i=e._rendererResources.vertexArrays,o=e.gltf,a=o.accessors;G.mesh(o,function(n,s){G.meshPrimitive(n,function(n,u){var c,h=[],d=tt(e,n),f=e._decodedData[s+".primitive."+u];G.meshPrimitiveAttribute(n,function(e,t){if(c=d[t],l(c)){if(l(f)){var n=f.attributes;if(n.hasOwnProperty(t)){var i=n[t];return void h.push({index:c,vertexBuffer:r[i.bufferView],componentsPerAttribute:i.componentsPerAttribute,componentDatatype:i.componentDatatype,normalize:i.normalized,offsetInBytes:i.byteOffset,strideInBytes:i.byteStride})}}var s=a[e],u=l(s.normalized)&&s.normalized;h.push({index:c,vertexBuffer:r[s.bufferView],componentsPerAttribute:Y(s.type),componentDatatype:s.componentType,normalize:u,offsetInBytes:s.byteOffset,strideInBytes:W(o,s)})}});var p,m,g=e._precreatedAttributes;if(l(g))for(m in g)g.hasOwnProperty(m)&&(c=d[m],l(c)&&(p=g[m],p.index=c,h.push(p)));var _;if(l(n.indices)){var v=a[n.indices],A=v.bufferView;l(f)&&(A=f.bufferView),_=r[A]}i[s+".primitive."+u]=new H({context:t,attributes:h,indexBuffer:_})})})}}function ut(e){var t=e._loadResources;t.createRenderStates&&(t.createRenderStates=!1,G.material(e.gltf,function(t,n){lt(e,t,n)}))}function lt(e,t,n){var r=e._rendererResources.renderStates,i=[O.FUNC_ADD,O.FUNC_ADD],o=[O.ONE,O.ONE_MINUS_SRC_ALPHA,O.ONE,O.ONE_MINUS_SRC_ALPHA];l(t.extensions)&&l(t.extensions.KHR_blend)&&(i=t.extensions.KHR_blend.blendEquation,o=t.extensions.KHR_blend.blendFactors);var a=!t.doubleSided,s="BLEND"===t.alphaMode;r[n]=N.fromCache({cull:{enabled:a},depthTest:{enabled:!0},depthMask:!s,blending:{enabled:s,equationRgb:i[0],equationAlpha:i[1],functionSourceRgb:o[0],functionDestinationRgb:o[1],functionSourceAlpha:o[2],functionDestinationAlpha:o[3]}})}function ct(e,t,n,r){var i=t._runtime.nodes[e];return Cn[n](r,t,i)}function ht(e,t,n,r,i,o,a){var s,c,h={},d={};return G.techniqueUniform(n,function(n,f){var p;if(l(r)&&l(r[f]))p=pe.createUniformFunction(n.type,r[f],o,a),h[f]=p.func,d[f]=p;else if(l(n.node))h[f]=ct(n.node,e,n.semantic,i.uniformState);else if(l(n.semantic))if("JOINTMATRIX"===n.semantic)s=f;else if("MORPHWEIGHTS"===n.semantic)c=f;else if("ALPHACUTOFF"===n.semantic){var m=t.alphaMode;if(l(m)&&"MASK"===m){var g=u(t.alphaCutoff,.5);p=pe.createUniformFunction(n.type,g,o,a),h[f]=p.func,d[f]=p}}else h[f]=pe.getGltfSemanticUniforms()[n.semantic](i.uniformState,e);else if(l(n.value)){var _=pe.createUniformFunction(n.type,n.value,o,a);h[f]=_.func,d[f]=_}}),{map:h,values:d,jointMatrixUniformName:s,morphWeightsUniformName:c}}function dt(e,t){var n=e._loadResources;if(n.finishedProgramCreation()&&n.createUniformMaps){n.createUniformMaps=!1;var r=e.gltf,i=e._sourceTechniques,o=e._uniformMaps,a=e._rendererResources.textures,s=e._defaultTexture;G.material(r,function(n,r){var u=e._runtime.materialsById[r],l=i[u._technique],c=u._values,h=ht(e,n,l,c,t,a,s),d=o[r];d.uniformMap=h.map,d.values=h.values,d.jointMatrixUniformName=h.jointMatrixUniformName,d.morphWeightsUniformName=h.morphWeightsUniformName})}}function ft(e){return pe.createUniformsForDracoQuantizedAttributes(e.attributes)}function pt(e,t){var n=He(e,t),r=e._quantizedUniforms[n];return pe.createUniformsForQuantizedAttributes(e.gltf,t,r)}function mt(e){return function(){return e}}function gt(e){return function(){return e.computedJointMatrices}}function _t(e){return function(){return e.weights}}function vt(e){return function(){return e.silhouetteColor}}function At(e){return function(){return e.silhouetteSize}}function yt(e){return function(){return e.color}}function bt(e){return function(){var t=e.clippingPlanes;return l(t)?E.multiply(e._clippingPlaneModelViewMatrix,t.modelMatrix,Sn):E.IDENTITY}}function wt(e){return function(){var t=e.clippingPlanes;return l(t)&&t.enabled?t.texture:e._defaultTexture}}function xt(e){return function(){var t=e.clippingPlanes;if(!l(t))return o.WHITE.withAlpha(0);var n=o.clone(t.edgeColor);return n.alpha=t.edgeWidth,n}}function Et(e){return function(){return ne.getColorBlend(e.colorBlendMode,e.colorBlendAmount)}}function Ct(e,t){switch(e.mode){case S.TRIANGLES:return t/3;case S.TRIANGLE_STRIP:case S.TRIANGLE_FAN:return Math.max(t-2,0);default:return 0}}function St(n,r,i,o,s){for(var u=n._nodeCommands,c=n._pickIds,h=n.allowPicking,d=n._runtime.meshesByName,f=n._rendererResources,p=f.vertexArrays,m=f.programs,g=f.renderStates,_=n._uniformMaps,A=n.gltf,y=A.accessors,b=A.meshes,w=r.mesh,x=b[w],C=x.primitives,S=C.length,T=0;T<S;++T){var I,M=C[T],O=y[M.indices],P=n._runtime.materialsById[M.material],D=P._program,N=n._decodedData[w+".primitive."+T],R=M.attributes.POSITION;if(l(R)){var k=pe.getAccessorMinMax(A,R);I=e.fromCornerPoints(t.fromArray(k.min),t.fromArray(k.max))}var F,U,z=p[w+".primitive."+T];if(l(N))U=N.numberOfIndices,F=0;else if(l(O))U=O.count,F=O.byteOffset/v.getSizeInBytes(O.componentType);else{var j=y[M.attributes.POSITION];U=j.count,F=0}n._trianglesLength+=Ct(M,U);var H=_[M.material],V=H.uniformMap;if(l(H.jointMatrixUniformName)){var Q={};Q[H.jointMatrixUniformName]=gt(i),V=a(V,Q)}if(l(H.morphWeightsUniformName)){var G={};G[H.morphWeightsUniformName]=_t(i),V=a(V,G)}V=a(V,{gltf_color:yt(n),gltf_colorBlend:Et(n),gltf_clippingPlanes:wt(n),gltf_clippingPlanesEdgeStyle:xt(n),gltf_clippingPlanesMatrix:bt(n)}),l(n._uniformMapLoaded)&&(V=n._uniformMapLoaded(V,D,i));var W={};n.extensionsUsed.WEB3D_quantized_attributes?W=pt(n,M):n._dequantizeInShader&&l(N)&&(W=ft(N)),V=a(V,W);var q=g[M.material],Y=q.blending.enabled,K=n._pickObject;l(K)||(K={primitive:n,id:n.id,node:i.publicNode,mesh:d[x.name]});var X,Z=ve.castShadows(n._shadows),J=ve.receiveShadows(n._shadows);if(h&&!l(n._uniformMapLoaded)){X=o.createPickId(K),c.push(X);var $={czm_pickColor:mt(X.color)};V=a(V,$)}h&&(X=l(n._pickIdLoaded)&&l(n._uniformMapLoaded)?n._pickIdLoaded():"czm_pickColor");var ee,te=new B({boundingVolume:new e,cull:n.cull,modelMatrix:new E,primitiveType:M.mode,vertexArray:z,count:U,offset:F,shaderProgram:m[D],castShadows:Z,receiveShadows:J,uniformMap:V,renderState:q,owner:K,pass:Y?L.TRANSLUCENT:n.opaquePass,pickId:X});s||(ee=B.shallowClone(te),ee.boundingVolume=new e,ee.modelMatrix=new E);var ne={show:!0,boundingSphere:I,command:te,command2D:ee,silhouetteModelCommand:void 0,silhouetteModelCommand2D:void 0,silhouetteColorCommand:void 0,silhouetteColorCommand2D:void 0,translucentCommand:void 0,translucentCommand2D:void 0,programId:D};i.commands.push(ne),u.push(ne)}}function Tt(e,n,r){var i=e._loadResources;if(i.finishedEverythingButTextureCreation()&&i.createRuntimeNodes){i.createRuntimeNodes=!1;for(var o=[],a=e._runtime.nodes,s=e.gltf,u=s.nodes,c=s.skins,h=s.scenes[s.scene],d=h.nodes,f=d.length,p=[],m={},g=0;g<f;++g){p.push({parentRuntimeNode:void 0,gltfNode:u[d[g]],id:d[g]});for(var _=[];p.length>0;){var v=p.pop();m[v.id]=!0;var A=v.parentRuntimeNode,y=v.gltfNode,b=a[v.id];if(0===b.parents.length)if(l(y.matrix))b.matrix=E.fromColumnMajorArray(y.matrix);else{var w=y.rotation;b.translation=t.fromArray(y.translation),b.rotation=T.unpack(w),b.scale=t.fromArray(y.scale)}l(A)?(A.children.push(b),b.parents.push(A)):o.push(b),l(y.mesh)&&St(e,y,b,n,r);var x=y.children;if(l(x))for(var C=x.length,S=0;S<C;S++){var I=x[S];m[I]||p.push({parentRuntimeNode:b,gltfNode:u[I],id:x[S]})}var M=y.skin;if(l(M)&&_.push(c[M].skeleton),0===p.length)for(var O=0;O<_.length;O++){var P=_[O];m[P]||p.push({parentRuntimeNode:void 0,gltfNode:u[P],id:P})}}}e._runtime.rootNodes=o,e._runtime.nodes=a}}function It(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&(t+=e[n].sizeInBytes);return t}function Mt(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&(t+=e[n].sizeInBytes);return t}function Ot(e,t){var n=t.context,r=t.scene3DOnly,i=e._quantizedVertexShaders,o=e._toClipCoordinatesGLSL={},a=e._sourceTechniques,s=e._sourcePrograms,u=e._rendererResources,c=u.sourceShaders;e._loadRendererResourcesFromCache&&(c=u.sourceShaders=e._cachedRendererResources.sourceShaders);for(var h in a)if(a.hasOwnProperty(h)){var d=a[h].program,f=s[d],p=c[f.vertexShader];if(pe.checkSupportedGlExtensions(f.glExtensions,n),e.extensionsUsed.WEB3D_quantized_attributes||e._dequantizeInShader){var m=i[d];l(m)||(m=Ve(p,d,e),i[d]=m),p=m}p=Ge(p,d,e._vertexShaderLoaded),o[d]=pe.toClipCoordinatesGLSL(e.gltf,p)}if(e._loadRendererResourcesFromCache){var g=e._cachedRendererResources;u.buffers=g.buffers,u.vertexArrays=g.vertexArrays,u.programs=g.programs,u.silhouettePrograms=g.silhouettePrograms,u.textures=g.textures,u.samplers=g.samplers,u.renderStates=g.renderStates,l(e._precreatedAttributes)&&st(e,n),e._cachedGeometryByteLength+=It(g.buffers),e._cachedTexturesByteLength+=Mt(g.textures)}else je(e,t),Ke(e,t),Je(e,n),Ze(e),et(e,t);it(e),at(e),e._loadRendererResourcesFromCache||(st(e,n),ut(e)),dt(e,n),Tt(e,n,r)}function Pt(e,t){var n=e.publicNode,r=n.matrix;n.useMatrix&&l(r)?E.clone(r,t):l(e.matrix)?E.clone(e.matrix,t):(E.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t),n.setMatrix(t))}function Dt(r,i,o,a){var s=r._maxDirtyNumber,u=r._runtime.rootNodes,c=u.length,h=Tn,d=r._computedModelMatrix;if(r._mode!==_e.SCENE3D&&!r._ignoreCommands){var f=E.getColumn(d,3,In);if(n.equals(f,n.UNIT_W)){var p=r.boundingSphere.center,m=M.wgs84To2DModelMatrix(a,p,Mn);d=E.multiply(m,d,Mn),l(r._rtcCenter)&&(E.setTranslation(d,n.UNIT_W,d),r._rtcCenter=r._rtcCenter2D)}else d=M.basisTo2D(a,d,Mn),r._rtcCenter=r._rtcCenter3D}for(var g=0;g<c;++g){var _=u[g];for(Pt(_,_.transformToRoot),h.push(_);h.length>0;){_=h.pop();var v=_.transformToRoot,A=_.commands;if(_.dirtyNumber===s||i||o){var y=E.multiplyTransformation(d,v,_.computedMatrix),b=A.length;if(b>0)for(var x=0;x<b;++x){var C=A[x],S=C.command;E.clone(y,S.modelMatrix),e.transform(C.boundingSphere,S.modelMatrix,S.boundingVolume),l(r._rtcCenter)&&t.add(r._rtcCenter,S.boundingVolume.center,S.boundingVolume.center),S=C.command2D,l(S)&&r._mode===_e.SCENE2D&&(E.clone(y,S.modelMatrix),S.modelMatrix[13]-=2*w.sign(S.modelMatrix[13])*w.PI*a.ellipsoid.maximumRadius,e.transform(C.boundingSphere,S.modelMatrix,S.boundingVolume))}}var T=_.children;if(l(T))for(var I=T.length,O=0;O<I;++O){var P=T[O];P.dirtyNumber=Math.max(P.dirtyNumber,_.dirtyNumber),(P.dirtyNumber===s||o)&&(Pt(P,P.transformToRoot),E.multiplyTransformation(v,P.transformToRoot,P.transformToRoot)),h.push(P)}}}++r._maxDirtyNumber}function Bt(e){for(var t=e._runtime.skinnedNodes,n=t.length,r=0;r<n;++r){var i=t[r];On=E.inverseTransformation(i.transformToRoot,On);for(var o=i.computedJointMatrices,a=i.joints,s=i.bindShapeMatrix,u=i.inverseBindMatrices,c=u.length,h=0;h<c;++h)l(o[h])||(o[h]=new E),o[h]=E.multiplyTransformation(On,a[h].transformToRoot,o[h]),o[h]=E.multiplyTransformation(o[h],u[h],o[h]),l(s)&&(o[h]=E.multiplyTransformation(o[h],s,o[h]))}}function Lt(e){for(var t=e._runtime.rootNodes,n=t.length,r=Tn,i=0;i<n;++i){var o=t[i];for(o.computedShow=o.publicNode.show,r.push(o);r.length>0;){o=r.pop();for(var a=o.computedShow,s=o.commands,u=s.length,c=0;c<u;++c)s[c].show=a;var h=o.children;if(l(h))for(var d=h.length,f=0;f<d;++f){var p=h[f];p.computedShow=a&&p.publicNode.show,r.push(p)}}}}function Nt(e,t){var n=e.id;if(e._id!==n){e._id=n;for(var r=e._pickIds,i=r.length,o=0;o<i;++o)r[o].object.id=n}}function Rt(e){if(e._debugWireframe!==e.debugWireframe){e._debugWireframe=e.debugWireframe;for(var t=e.debugWireframe?S.LINES:S.TRIANGLES,n=e._nodeCommands,r=n.length,i=0;i<r;++i)n[i].command.primitiveType=t}}function kt(e){if(e.debugShowBoundingVolume!==e._debugShowBoundingVolume){e._debugShowBoundingVolume=e.debugShowBoundingVolume;for(var t=e.debugShowBoundingVolume,n=e._nodeCommands,r=n.length,i=0;i<r;++i)n[i].command.debugShowBoundingVolume=t}}function Ft(e){if(e.shadows!==e._shadows){e._shadows=e.shadows;for(var t=ve.castShadows(e.shadows),n=ve.receiveShadows(e.shadows),r=e._nodeCommands,i=r.length,o=0;o<i;o++){var a=r[o];a.command.castShadows=t,a.command.receiveShadows=n}}}function Ut(e){var t=i(e,!0);return t.cull.enabled=!1,t.depthTest.enabled=!0,t.depthMask=!1,t.blending=ee.ALPHA_BLEND,N.fromCache(t)}function zt(e){var t=B.shallowClone(e);return t.pass=L.TRANSLUCENT,t.renderState=Ut(e.renderState),t}function jt(e,t,n){var r=t.scene3DOnly,i=e.color.alpha;if(i>0&&i<1){var o=e._nodeCommands,a=o.length;if(!l(o[0].translucentCommand)||n)for(var s=0;s<a;++s){var u=o[s],c=u.command;if(u.translucentCommand=zt(c),!r){var h=u.command2D;u.translucentCommand2D=zt(h)}}}}function Ht(e,t){var n=e._rendererResources.programs;for(var r in n)if(n.hasOwnProperty(r)&&n[r]===t)return r}function Vt(e,t,n){var r=t.vertexShaderSource.sources[0],i=t._attributeLocations,o=e._normalAttributeName;r=F.replaceMain(r,"gltf_silhouette_main"),r+="uniform float gltf_silhouetteSize; \nvoid main() \n{ \n    gltf_silhouette_main(); \n    vec3 n = normalize(czm_normal3D * "+o+"); \n    n.x *= czm_projection[0][0]; \n    n.y *= czm_projection[1][1]; \n    vec4 clip = gl_Position; \n    clip.xy += n.xy * clip.w * gltf_silhouetteSize / czm_viewport.z; \n    gl_Position = clip; \n}";return k.fromCache({context:n.context,vertexShaderSource:r,fragmentShaderSource:"uniform vec4 gltf_silhouetteColor; \nvoid main() \n{ \n    gl_FragColor = gltf_silhouetteColor; \n}",attributeLocations:i})}function Qt(e,t){return we(t.context)&&e.silhouetteSize>0&&e.silhouetteColor.alpha>0&&l(e._normalAttributeName)}function Gt(e){for(var t=e._nodeCommands,n=t.length,r=0;r<n;++r){if(t[r].command.pass===L.TRANSLUCENT)return!0}return!1}function Wt(e){return e.color.alpha>0&&e.color.alpha<1}function qt(e){return 0===e.color.alpha}function Yt(e,t){return Math.floor(e)!==Math.floor(t)||Math.ceil(e)!==Math.ceil(t)}function Kt(e,t){for(var n=++Pn%255,r=Gt(e)||Wt(e)||e.silhouetteColor.alpha<1,o=e._rendererResources.silhouettePrograms,s=t.scene3DOnly,u=e._nodeCommands,c=u.length,h=0;h<c;++h){var d=u[h],f=d.command,p=Wt(e)?d.translucentCommand:f,m=B.shallowClone(p),g=i(p.renderState);g.stencilTest={enabled:!0,frontFunction:O.ALWAYS,backFunction:O.ALWAYS,reference:n,mask:-1,frontOperation:{fail:O.KEEP,zFail:O.KEEP,zPass:O.REPLACE},backOperation:{fail:O.KEEP,zFail:O.KEEP,zPass:O.REPLACE}},qt(e)&&(g.colorMask={red:!1,green:!1,blue:!1,alpha:!1},g.depthMask=!1),g=N.fromCache(g),m.renderState=g,d.silhouetteModelCommand=m;var _=B.shallowClone(f);g=i(f.renderState,!0),g.depthTest.enabled=!0,g.cull.enabled=!1,r&&(_.pass=L.TRANSLUCENT,g.depthMask=!1,g.blending=ee.ALPHA_BLEND),g.stencilTest={enabled:!0,frontFunction:O.NOTEQUAL,backFunction:O.NOTEQUAL,reference:n,mask:-1,frontOperation:{fail:O.KEEP,zFail:O.KEEP,zPass:O.KEEP},backOperation:{fail:O.KEEP,zFail:O.KEEP,zPass:O.KEEP}},g=N.fromCache(g);var v=f.shaderProgram,A=Ht(e,v),y=o[A];l(y)||(y=Vt(e,v,t),o[A]=y);var b=a(f.uniformMap,{gltf_silhouetteColor:vt(e),gltf_silhouetteSize:At(e)});if(_.renderState=g,_.shaderProgram=y,_.uniformMap=b,_.castShadows=!1,_.receiveShadows=!1,d.silhouetteColorCommand=_,!s){var w=d.command2D,x=B.shallowClone(m);x.boundingVolume=w.boundingVolume,x.modelMatrix=w.modelMatrix,d.silhouetteModelCommand2D=x;var E=B.shallowClone(_);x.boundingVolume=w.boundingVolume,x.modelMatrix=w.modelMatrix,d.silhouetteColorCommand2D=E}}}function Xt(e,t,n){return e=F.replaceMain(e,"gltf_clip_main"),e+=be._getClippingFunction(t,n)+"\n",e+="uniform sampler2D gltf_clippingPlanes; \nuniform mat4 gltf_clippingPlanesMatrix; \nuniform vec4 gltf_clippingPlanesEdgeStyle; \nvoid main() \n{ \n    gltf_clip_main(); \n"+ie("gltf_clippingPlanes","gltf_clippingPlanesMatrix","gltf_clippingPlanesEdgeStyle")+"} \n"}function Zt(e,t,n){if(Qt(e,t)){var r=e._nodeCommands,i=Yt(e.color.alpha,e._colorPreviousAlpha)||Yt(e.silhouetteColor.alpha,e._silhouetteColorPreviousAlpha)||!l(r[0].silhouetteModelCommand);e._colorPreviousAlpha=e.color.alpha,e._silhouetteColorPreviousAlpha=e.silhouetteColor.alpha,(i||n)&&Kt(e,t)}}function Jt(e,t){var n=e._clippingPlanes;l(n)&&n.owner===e&&n.enabled&&n.update(t)}function $t(e,t,n){return Dn.center=e,Dn.radius=t,n.camera.getPixelSize(Dn,n.context.drawingBufferWidth,n.context.drawingBufferHeight)}function en(e,n){var r=e.scale;if(0!==e.minimumPixelSize){var i=n.context,o=Math.max(i.drawingBufferWidth,i.drawingBufferHeight),a=l(e._clampedModelMatrix)?e._clampedModelMatrix:e.modelMatrix;if(Bn.x=a[12],Bn.y=a[13],Bn.z=a[14],l(e._rtcCenter)&&t.add(e._rtcCenter,Bn,Bn),e._mode!==_e.SCENE3D){var s=n.mapProjection,u=s.ellipsoid.cartesianToCartographic(Bn,Ln);s.project(u,Bn),t.fromElements(Bn.z,Bn.x,Bn.y,Bn)}var c=e.boundingSphere.radius,h=$t(Bn,c,n),d=1/h;Math.min(d*(2*c),o)<e.minimumPixelSize&&(r=e.minimumPixelSize*h/(2*e._initialRadius))}return l(e.maximumScale)?Math.min(e.maximumScale,r):r}function tn(e){l(e._cacheKey)&&l(e._cachedGltf)&&0==--e._cachedGltf.count&&delete fn[e._cacheKey],e._cachedGltf=void 0}function nn(e,t){this.buffers=void 0,this.vertexArrays=void 0,this.programs=void 0,this.sourceShaders=void 0,this.silhouettePrograms=void 0,this.textures=void 0,this.samplers=void 0,this.renderStates=void 0,this.ready=!1,this.context=e,this.cacheKey=t,this.count=0}function rn(e){for(var t in e)e.hasOwnProperty(t)&&e[t].destroy()}function on(e){rn(e.buffers),rn(e.vertexArrays),rn(e.programs),rn(e.silhouettePrograms),rn(e.textures)}function an(e,t,n){return function(r){if(e.heightReference===ae.RELATIVE_TO_GROUND){var i=t.cartesianToCartographic(r,Ln);i.height+=n.height,t.cartographicToCartesian(i,r)}var o=e._clampedModelMatrix;E.clone(e.modelMatrix,o),o[12]=r.x,o[13]=r.y,o[14]=r.z,e._heightChanged=!0}}function sn(e){l(e._removeUpdateHeightCallback)&&(e._removeUpdateHeightCallback(),e._removeUpdateHeightCallback=void 0);var t=e._scene;if(!l(t)||!l(t.globe)||e.heightReference===ae.NONE)return void(e._clampedModelMatrix=void 0);var n=t.globe,i=n.ellipsoid,o=e.modelMatrix;Bn.x=o[12],Bn.y=o[13],Bn.z=o[14];var a=i.cartesianToCartographic(Bn);l(e._clampedModelMatrix)||(e._clampedModelMatrix=E.clone(o,new E));var s=n._surface;e._removeUpdateHeightCallback=s.updateHeight(a,an(e,i,a));var u=n.getHeight(a);if(l(u)){var c=an(e,i,a);r.clone(a,Ln),Ln.height=u,i.cartographicToCartesian(Ln,Bn),c(Bn)}}function un(e,n){var r,i=e.distanceDisplayCondition,o=i.near*i.near,a=i.far*i.far;if(n.mode===_e.SCENE2D){r=.5*(n.camera.frustum.right-n.camera.frustum.left),r*=r}else{var s=E.getTranslation(e.modelMatrix,Nn);if(n.mode===_e.COLUMBUS_VIEW){var u=n.mapProjection,l=u.ellipsoid,c=l.cartesianToCartographic(s,Rn);s=u.project(c,s),t.fromElements(s.z,s.x,s.y,s)}r=t.distanceSquared(s,n.camera.positionWC)}return r>=o&&r<=a}function ln(e,t){e.programs!==t.programs&&rn(e.programs),e.silhouettePrograms!==t.silhouettePrograms&&rn(e.silhouettePrograms)}function cn(e,t){var n=e._rendererResources,r=e._cachedRendererResources;ln(n,r);var i;if(Ee(e)||xe(e)){n.programs={},n.silhouettePrograms={};var o,a={},s=e._sourceTechniques;for(var u in s)s.hasOwnProperty(u)&&(o=s[u],i=o.program,a[i]||(a[i]=!0,qe({programId:i,techniqueId:u},e,t.context)))}else n.programs=r.programs,n.silhouettePrograms=r.silhouettePrograms;for(var c=n.programs,h=e._nodeCommands,d=h.length,f=0;f<d;++f){var p=h[f];i=p.programId;var m=c[i];p.command.shaderProgram=m,l(p.command2D)&&(p.command2D.shaderProgram=m)}jt(e,t,!0),Zt(e,t,!0)}if(!p.supportsTypedArrays())return{};var hn=new t,dn=pe.ModelState;c(ye.prototype,{gltf:{set:function(e){this._gltf=e},get:function(){return this._gltf}}}),ye.prototype.makeReady=function(e){this.gltf=e;for(var t=this.modelsToLoad,n=t.length,r=0;r<n;++r){var i=t[r];i.isDestroyed()||Ae(i,this)}this.modelsToLoad=void 0,this.ready=!0};var fn={},pn={};c(be.prototype,{gltf:{get:function(){return l(this._cachedGltf)?this._cachedGltf.gltf:void 0}},releaseGltfJson:{get:function(){return this._releaseGltfJson}},cacheKey:{get:function(){return this._cacheKey}},basePath:{get:function(){return this._resource.url}},boundingSphere:{get:function(){var e=this.modelMatrix;this.heightReference!==ae.NONE&&this._clampedModelMatrix&&(e=this._clampedModelMatrix);var n=E.getScale(e,hn),r=l(this.maximumScale)?Math.min(this.maximumScale,this.scale):this.scale;t.multiplyByScalar(n,r,n);var i=this._scaledBoundingSphere;return i.center=t.multiplyComponents(this._boundingSphere.center,n,i.center),i.radius=t.maximumComponent(n)*this._initialRadius,l(this._rtcCenter)&&t.add(this._rtcCenter,i.center,i.center),i}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},asynchronous:{get:function(){return this._asynchronous}},allowPicking:{get:function(){return this._allowPicking}},incrementallyLoadTextures:{get:function(){return this._incrementallyLoadTextures}},pendingTextureLoads:{get:function(){return l(this._loadResources)?this._loadResources.pendingTextureLoads:0}},dirty:{get:function(){return this._dirty}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){this._distanceDisplayCondition=f.clone(e,this._distanceDisplayCondition)}},extensionsUsed:{get:function(){return l(this._extensionsUsed)||(this._extensionsUsed=pe.getUsedExtensions(this.gltf)),this._extensionsUsed}},extensionsRequired:{get:function(){return l(this._extensionsRequired)||(this._extensionsRequired=pe.getRequiredExtensions(this.gltf)),this._extensionsRequired}},upAxis:{get:function(){return this._upAxis}},forwardAxis:{get:function(){return l(this._forwardAxis)?this._forwardAxis:this._gltfForwardAxis}},trianglesLength:{get:function(){return this._trianglesLength}},geometryByteLength:{get:function(){return this._geometryByteLength}},texturesByteLength:{get:function(){return this._texturesByteLength}},cachedGeometryByteLength:{get:function(){return this._cachedGeometryByteLength}},cachedTexturesByteLength:{get:function(){return this._cachedTexturesByteLength}},clippingPlanes:{get:function(){return this._clippingPlanes},set:function(e){e!==this._clippingPlanes&&te.setOwner(e,this,"_clippingPlanes")}},pickIds:{get:function(){return this._pickIds}}}),be.silhouetteSupported=function(e){return we(e.context)},be.fromGltf=function(e){var t=e.url;e=i(e);var n=I.createIfNeeded(t),r=u(e.basePath,n.clone()),o=I.createIfNeeded(r),a=u(e.cacheKey,pn[m(n.url)]);l(a)||(a=s(),pn[m(n.url)]=a),l(e.basePath)&&!l(e.cacheKey)&&(a+=o.url),e.cacheKey=a,e.basePath=o;var c=new be(e),h=fn[a];return l(h)?h.ready||(++h.count,h.modelsToLoad.push(c)):(h=new ye({ready:!1}),h.count=1,h.modelsToLoad.push(c),Ae(c,h),fn[a]=h,l(n.headers.Accept)||(n.headers.Accept="model/gltf-binary,model/gltf+json;q=0.8,application/json;q=0.2,*/*;q=0.01"),n.fetchArrayBuffer().then(function(e){var t=new Uint8Array(e);if(Ce(t)){var n=K(t);h.makeReady(n)}else{var r=_(t);h.makeReady(JSON.parse(r))}}).otherwise(pe.getFailedLoadFunction(c,"model",t))),c},be._gltfCache=fn,be.prototype.getNode=function(e){var t=Se(this,"nodesByName",e);return l(t)?t.publicNode:void 0},be.prototype.getMesh=function(e){return Se(this,"meshesByName",e)},be.prototype.getMaterial=function(e){return Se(this,"materialsByName",e)};var mn=/(^data:image\/ktx)|(\.ktx$)/i,gn=/(^data:image\/crn)|(\.crn$)/i,_n=function(){this.id=void 0,this.model=void 0,this.context=void 0};_n.prototype.set=function(e,t,n){this.id=e,this.model=t,this.context=n},_n.prototype.execute=function(){Ue(this.id,this.model,this.context)};var vn=function(){this.id=void 0,this.componentType=void 0,this.model=void 0,this.context=void 0};vn.prototype.set=function(e,t,n,r){this.id=e,this.componentType=t,this.model=n,this.context=r},vn.prototype.execute=function(){ze(this.id,this.componentType,this.model,this.context)};var An=new _n,yn=new vn,bn=function(){this.programToCreate=void 0,this.model=void 0,this.context=void 0};bn.prototype.set=function(e,t,n){this.programToCreate=e,this.model=t,this.context=n},bn.prototype.execute=function(){We(this.programToCreate,this.model,this.context)};var wn=new bn,xn=function(){this.gltfTexture=void 0,this.model=void 0,this.context=void 0};xn.prototype.set=function(e,t,n){this.gltfTexture=e,this.model=t,this.context=n},xn.prototype.execute=function(){$e(this.gltfTexture,this.model,this.context)};var En=new xn,Cn={MODEL:function(e,t,n){return function(){return n.computedMatrix}},VIEW:function(e,t,n){return function(){return e.view}},PROJECTION:function(e,t,n){return function(){return e.projection}},MODELVIEW:function(e,t,n){var r=new E;return function(){return E.multiplyTransformation(e.view,n.computedMatrix,r)}},CESIUM_RTC_MODELVIEW:function(e,t,n){var r=new E;return function(){return E.multiplyTransformation(e.view,n.computedMatrix,r),E.setTranslation(r,t._rtcCenterEye,r)}},MODELVIEWPROJECTION:function(e,t,n){var r=new E;return function(){return E.multiplyTransformation(e.view,n.computedMatrix,r),E.multiply(e._projection,r,r)}},MODELINVERSE:function(e,t,n){var r=new E;return function(){return E.inverse(n.computedMatrix,r)}},VIEWINVERSE:function(e,t){return function(){return e.inverseView}},PROJECTIONINVERSE:function(e,t,n){return function(){return e.inverseProjection}},MODELVIEWINVERSE:function(e,t,n){var r=new E,i=new E;return function(){return E.multiplyTransformation(e.view,n.computedMatrix,r),E.inverse(r,i)}},MODELVIEWPROJECTIONINVERSE:function(e,t,n){var r=new E,i=new E;return function(){return E.multiplyTransformation(e.view,n.computedMatrix,r),E.multiply(e._projection,r,r),E.inverse(r,i)}},MODELINVERSETRANSPOSE:function(e,t,n){var r=new E,i=new x;return function(){return E.inverse(n.computedMatrix,r),E.getRotation(r,i),x.transpose(i,i)}},MODELVIEWINVERSETRANSPOSE:function(e,t,n){var r=new E,i=new E,o=new x;return function(){return E.multiplyTransformation(e.view,n.computedMatrix,r),E.inverse(r,i),E.getRotation(i,o),x.transpose(o,o)}},VIEWPORT:function(e,t,n){return function(){return e.viewportCartesian4}}},Sn=new E,Tn=[],In=new n,Mn=new E,On=new E,Pn=0,Dn=new e,Bn=new t,Ln=new r;nn.prototype.release=function(){if(0==--this.count)return l(this.cacheKey)&&delete this.context.cache.modelRendererResourceCache[this.cacheKey],on(this),h(this)};var Nn=new t,Rn=new r;return be.prototype.update=function(e){if(e.mode!==_e.MORPHING){var n=e.context;if(this._defaultTexture=n.defaultTexture,this._state===dn.NEEDS_LOAD&&l(this.gltf)){var r,i=this.cacheKey;if(l(i)){n.cache.modelRendererResourceCache=u(n.cache.modelRendererResourceCache,{});var o=n.cache.modelRendererResourceCache;if(r=o[this.cacheKey],l(r)){if(!r.ready)return;++r.count,this._loadRendererResourcesFromCache=!0}else r=new nn(n,i),r.count=1,o[this.cacheKey]=r;this._cachedRendererResources=r}else r=new nn(n),r.count=1,this._cachedRendererResources=r;if(this._state=dn.LOADING,this._state!==dn.FAILED){var a=this.gltf.extensions;if(l(a)&&l(a.CESIUM_RTC)){var s=t.fromArray(a.CESIUM_RTC.center);if(!t.equals(s,t.ZERO)){this._rtcCenter3D=s;var c=e.mapProjection,h=c.ellipsoid,d=h.cartesianToCartographic(this._rtcCenter3D),f=c.project(d);t.fromElements(f.z,f.x,f.y,f),this._rtcCenter2D=f,this._rtcCenterEye=new t,this._rtcCenter=this._rtcCenter3D}}Q(this.gltf),this._loadResources=new ce,this._loadRendererResourcesFromCache||pe.parseBuffers(this,Ie)}}var p=this._loadResources,m=this._incrementallyLoadTextures,g=!1;if(this._state===dn.LOADING){if(0===p.pendingBufferLoads){if(!p.initialized){if(e.brdfLutGenerator.update(e),pe.checkSupportedExtensions(this.extensionsRequired),pe.updateForwardAxis(this),!this._loadRendererResourcesFromCache){var _=this.gltf;_.extras.sourceVersion=pe.getAssetVersion(_),Z(_),V(_);var v={addBatchIdToGeneratedShaders:this._addBatchIdToGeneratedShaders};me(_,v),ge(_,v)}this._dequantizeInShader=this._dequantizeInShader&&re.hasExtension(this),Te(this),Oe(this),this._loadRendererResourcesFromCache||(Me(this),De(this),Be(this),Ne(this,n)),ke(this),Fe(this),Re(this),re.parse(this,n),p.initialized=!0}p.finishedDecoding()||re.decodeModel(this,n).otherwise(pe.getFailedLoadFunction(this,"model",this.basePath)),p.finishedDecoding()&&!p.resourcesParsed&&(this._boundingSphere=pe.computeBoundingSphere(this),this._initialRadius=this._boundingSphere.radius,re.cacheDataForModel(this),p.resourcesParsed=!0),p.resourcesParsed&&0===p.pendingShaderLoads&&Ot(this,e)}(p.finished()||m&&p.finishedEverythingButTextureCreation())&&(this._state=dn.LOADED,g=!0)}if(l(p)&&this._state===dn.LOADED&&(m&&!g&&Ot(this,e),p.finished())){X(this.gltf),this._loadResources=void 0;var A=this._rendererResources,y=this._cachedRendererResources;y.buffers=A.buffers,y.vertexArrays=A.vertexArrays,y.programs=A.programs,y.sourceShaders=A.sourceShaders,y.silhouettePrograms=A.silhouettePrograms,y.textures=A.textures,y.samplers=A.samplers,y.renderStates=A.renderStates,y.ready=!0,this._normalAttributeName=pe.getAttributeOrUniformBySemantic(this.gltf,"NORMAL"),l(this._precreatedAttributes)&&(y.vertexArrays={}),this.releaseGltfJson&&tn(this)}var b=Qt(this,e),x=Wt(this),C=qt(this),S=!l(this.distanceDisplayCondition)||un(this,e),T=this.show&&S&&0!==this.scale&&(!C||b);if(T&&this._state===dn.LOADED||g){var I=this.activeAnimations.update(e)||this._cesiumAnimationsDirty;this._cesiumAnimationsDirty=!1,this._dirty=!1;var M=this.modelMatrix,O=e.mode!==this._mode;this._mode=e.mode;var P=!E.equals(this._modelMatrix,M)||this._scale!==this.scale||this._minimumPixelSize!==this.minimumPixelSize||0!==this.minimumPixelSize||this._maximumScale!==this.maximumScale||this._heightReference!==this.heightReference||this._heightChanged||O;if(P||g){E.clone(M,this._modelMatrix),sn(this),l(this._clampedModelMatrix)&&(M=this._clampedModelMatrix),this._scale=this.scale,this._minimumPixelSize=this.minimumPixelSize,this._maximumScale=this.maximumScale,this._heightReference=this.heightReference,this._heightChanged=!1;var D=en(this,e),B=this._computedModelMatrix;E.multiplyByUniformScale(M,D,B),this._upAxis===$.Y?E.multiplyTransformation(B,$.Y_UP_TO_Z_UP,B):this._upAxis===$.X&&E.multiplyTransformation(B,$.X_UP_TO_Z_UP,B),this.forwardAxis===$.Z&&E.multiplyTransformation(B,$.Z_UP_TO_X_UP,B)}(I||P||g)&&(Dt(this,P,g,e.mapProjection),this._dirty=!0,(I||g)&&Bt(this)),this._perNodeShowDirty&&(this._perNodeShowDirty=!1,Lt(this)),Nt(this,n),Rt(this),kt(this),Ft(this),Jt(this,e);var L=this._clippingPlanes,N=0;if(l(L)&&L.enabled){var R=u(this.clippingPlaneOffsetMatrix,M);E.multiply(n.uniformState.view3D,R,this._clippingPlaneModelViewMatrix),N=L.clippingPlanesState}var k=this._clippingPlanesState!==N;this._clippingPlanesState=N;var F=xe(this);F!==this._colorShadingEnabled&&(this._colorShadingEnabled=F,k=!0),k?cn(this,e):(jt(this,e,!1),Zt(this,e,!1))}if(g){var U=this;return void e.afterRender.push(function(){U._ready=!0,U._readyPromise.resolve(U)})}if(T&&!this._ignoreCommands){var z,j,H,G=e.commandList,W=e.passes,q=this._nodeCommands,Y=q.length,K=e.mapProjection.ellipsoid.maximumRadius*w.PI;if(W.render||W.pick&&this.allowPicking){for(z=0;z<Y;++z)if(j=q[z],j.show){var J=x?j.translucentCommand:j.command;if(J=b?j.silhouetteModelCommand:J,G.push(J),H=j.command.boundingVolume,e.mode===_e.SCENE2D&&(H.center.y+H.radius>K||H.center.y-H.radius<K)){var ee=x?j.translucentCommand2D:j.command2D;ee=b?j.silhouetteModelCommand2D:ee,G.push(ee)}}if(b&&!W.pick)for(z=0;z<Y;++z)j=q[z],j.show&&(G.push(j.silhouetteColorCommand),H=j.command.boundingVolume,e.mode===_e.SCENE2D&&(H.center.y+H.radius>K||H.center.y-H.radius<K)&&G.push(j.silhouetteColorCommand2D))}}}},be.prototype.isDestroyed=function(){return!1},be.prototype.destroy=function(){l(this._precreatedAttributes)&&rn(this._rendererResources.vertexArrays),l(this._removeUpdateHeightCallback)&&(this._removeUpdateHeightCallback(),this._removeUpdateHeightCallback=void 0),l(this._terrainProviderChangedCallback)&&(this._terrainProviderChangedCallback(),this._terrainProviderChangedCallback=void 0),l(this._cachedRendererResources)&&ln(this._rendererResources,this._cachedRendererResources),this._rendererResources=void 0,this._cachedRendererResources=this._cachedRendererResources&&this._cachedRendererResources.release(),re.destroyCachedDataForModel(this);for(var e=this._pickIds,t=e.length,n=0;n<t;++n)e[n].destroy();tn(this),this._quantizedVertexShaders=void 0;var r=this._clippingPlanes;return l(r)&&!r.isDestroyed()&&r.owner===this&&r.destroy(),this._clippingPlanes=void 0,h(this)},be._getClippingFunction=oe,be._modifyShaderForColor=Qe,be}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(12),n(91),n(307)],void 0!==(i=function(e,t,n,r){"use strict";function i(e,t){var n=e.unionClippingRegions,i=e.length,c=r.useFloatTexture(t),h=r.getTextureResolution(e,t,l),d=h.x,f=h.y,p=c?s(d,f):u(d,f);return p+="\n",p+=n?o(i):a(i)}function o(e){return"float clip(vec4 fragCoord, sampler2D clippingPlanes, mat4 clippingPlanesMatrix)\n{\n    vec4 position = czm_windowToEyeCoordinates(fragCoord);\n    vec3 clipNormal = vec3(0.0);\n    vec3 clipPosition = vec3(0.0);\n    float clipAmount;\n    float pixelWidth = czm_metersPerPixel(position);\n    bool breakAndDiscard = false;\n    for (int i = 0; i < "+e+"; ++i)\n    {\n        vec4 clippingPlane = getClippingPlane(clippingPlanes, i, clippingPlanesMatrix);\n        clipNormal = clippingPlane.xyz;\n        clipPosition = -clippingPlane.w * clipNormal;\n        float amount = dot(clipNormal, (position.xyz - clipPosition)) / pixelWidth;\n        clipAmount = czm_branchFreeTernary(i == 0, amount, min(amount, clipAmount));\n        if (amount <= 0.0)\n        {\n           breakAndDiscard = true;\n           break;\n        }\n    }\n    if (breakAndDiscard) {\n        discard;\n    }\n    return clipAmount;\n}\n"}function a(e){return"float clip(vec4 fragCoord, sampler2D clippingPlanes, mat4 clippingPlanesMatrix)\n{\n    bool clipped = true;\n    vec4 position = czm_windowToEyeCoordinates(fragCoord);\n    vec3 clipNormal = vec3(0.0);\n    vec3 clipPosition = vec3(0.0);\n    float clipAmount = 0.0;\n    float pixelWidth = czm_metersPerPixel(position);\n    for (int i = 0; i < "+e+"; ++i)\n    {\n        vec4 clippingPlane = getClippingPlane(clippingPlanes, i, clippingPlanesMatrix);\n        clipNormal = clippingPlane.xyz;\n        clipPosition = -clippingPlane.w * clipNormal;\n        float amount = dot(clipNormal, (position.xyz - clipPosition)) / pixelWidth;\n        clipAmount = max(amount, clipAmount);\n        clipped = clipped && (amount <= 0.0);\n    }\n    if (clipped)\n    {\n        discard;\n    }\n    return clipAmount;\n}\n"}function s(e,t){var n=1/e,r=1/t,i=n+"";-1===i.indexOf(".")&&(i+=".0");var o=r+"";return-1===o.indexOf(".")&&(o+=".0"),"vec4 getClippingPlane(sampler2D packedClippingPlanes, int clippingPlaneNumber, mat4 transform)\n{\n    int pixY = clippingPlaneNumber / "+e+";\n    int pixX = clippingPlaneNumber - (pixY * "+e+");\n    float u = (float(pixX) + 0.5) * "+i+";\n    float v = (float(pixY) + 0.5) * "+o+";\n    vec4 plane = texture2D(packedClippingPlanes, vec2(u, v));\n    return czm_transformPlane(plane, transform);\n}\n"}function u(e,t){var n=1/e,r=1/t,i=n+"";-1===i.indexOf(".")&&(i+=".0");var o=r+"";return-1===o.indexOf(".")&&(o+=".0"),"vec4 getClippingPlane(sampler2D packedClippingPlanes, int clippingPlaneNumber, mat4 transform)\n{\n    int clippingPlaneStartIndex = clippingPlaneNumber * 2;\n    int pixY = clippingPlaneStartIndex / "+e+";\n    int pixX = clippingPlaneStartIndex - (pixY * "+e+");\n    float u = (float(pixX) + 0.5) * "+i+";\n    float v = (float(pixY) + 0.5) * "+o+";\n    vec4 oct32 = texture2D(packedClippingPlanes, vec2(u, v)) * 255.0;\n    vec2 oct = vec2(oct32.x * 256.0 + oct32.y, oct32.z * 256.0 + oct32.w);\n    vec4 plane;\n    plane.xyz = czm_octDecode(oct, 65535.0);\n    plane.w = czm_unpackFloat(texture2D(packedClippingPlanes, vec2(u + "+i+", v)));\n    return czm_transformPlane(plane, transform);\n}\n"}var l=new e;return i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({NONE:0,REPEAT:1,MIRRORED_REPEAT:2})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(25),n(1),n(0),n(2),n(15),n(43),n(89)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e){e=t(e,t.EMPTY_OBJECT),this._definitionChanged=new i,this._color=void 0,this._colorSubscription=void 0,this._glowPower=void 0,this._glowPowerSubscription=void 0,this.color=e.color,this.glowPower=e.glowPower}var u=e.WHITE;return r(s.prototype,{isConstant:{get:function(){return a.isConstant(this._color)&&a.isConstant(this._glow)}},definitionChanged:{get:function(){return this._definitionChanged}},color:o("color"),glowPower:o("glowPower")}),s.prototype.getType=function(e){return"PolylineGlow"},s.prototype.getValue=function(e,t){return n(t)||(t={}),t.color=a.getValueOrClonedDefault(this._color,e,u,t.color),t.glowPower=a.getValueOrDefault(this._glowPower,e,.25,t.glowPower),t},s.prototype.equals=function(e){return this===e||e instanceof s&&a.equals(this._color,e._color)&&a.equals(this._glowPower,e._glowPower)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){if(!o(window.ga)){if(!o(e.key))return console.log("Google Analytics tracking is disabled because terria.configParameters.googleAnalyticsKey is not specified"),void(window.ga=function(){});!function(e,t,n,r,i,o,a){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(o,a)}(window,document,"script",0,"ga"),ga("create",e.key,i(e.options,"auto")),ga("send","pageview")}}var i=n(1),o=n(0),a=function(){this.key=void 0,this.options=void 0};a.prototype.start=function(e){this.key=e.googleAnalyticsKey,this.options=e.googleAnalyticsOptions},a.prototype.logEvent=function(e,t,n,i){r(this),ga("send","event",e,t,n,i)},e.exports=a},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=l}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+h>=1?d/u:d*Math.pow(2,1-h),t*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+f]=255&a,f+=p,a/=256,l-=8);e[n+f-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r,i;r=[n(12)],void 0!==(i=function(e){"use strict";function t(e){return n.test(e)}var n=/^data:/i;return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(92),n(0),n(3)],void 0!==(i=function(e,t,n){"use strict";function r(n,r){var i="",o=n.lastIndexOf("/");return-1!==o&&(i=n.substring(0,o+1)),r?(n=new e(n),t(n.query)&&(i+="?"+n.query),t(n.fragment)&&(i+="#"+n.fragment),i):i}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12)],void 0!==(i=function(e){"use strict";function t(e){return n.test(e)}var n=/^blob:/i;return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";function t(t){e(n)||(n=document.createElement("a")),n.href=window.location.href;var r=n.host,i=n.protocol;return n.href=t,n.href=n.href,i!==n.protocol||r!==n.host}var n;return t}.apply(t,r))&&(e.exports=i)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){var r,i;r=[n(0),n(814)],void 0!==(i=function(e,t){"use strict";function n(e,n,r){this.statusCode=e,this.response=n,this.responseHeaders=r,"string"==typeof this.responseHeaders&&(this.responseHeaders=t(this.responseHeaders))}return n.prototype.toString=function(){var t="Request has failed.";return e(this.statusCode)&&(t+=" Status Code: "+this.statusCode),t},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){(function(e,r){var i;!function(o){function a(e){throw RangeError(D[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(P,"."),r+s(e.split("."),t).join(".")}function l(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=N(e>>>10&1023|55296),e=56320|1023&e),t+=N(e)}).join("")}function h(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:b}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,n){var r=0;for(e=n?L(e/C):e>>1,e+=L(e/t);e>B*x>>1;r+=b)e=L(e/B);return L(r+(B+1)*e/(e+E))}function p(e){var t,n,r,i,o,s,u,l,d,p,m=[],g=e.length,_=0,v=T,A=S;for(n=e.lastIndexOf(I),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&a("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=_,s=1,u=b;i>=g&&a("invalid-input"),l=h(e.charCodeAt(i++)),(l>=b||l>L((y-_)/s))&&a("overflow"),_+=l*s,d=u<=A?w:u>=A+x?x:u-A,!(l<d);u+=b)p=b-d,s>L(y/p)&&a("overflow"),s*=p;t=m.length+1,A=f(_-o,t,0==o),L(_/t)>y-v&&a("overflow"),v+=L(_/t),_%=t,m.splice(_++,0,v)}return c(m)}function m(e){var t,n,r,i,o,s,u,c,h,p,m,g,_,v,A,E=[];for(e=l(e),g=e.length,t=T,n=0,o=S,s=0;s<g;++s)(m=e[s])<128&&E.push(N(m));for(r=i=E.length,i&&E.push(I);r<g;){for(u=y,s=0;s<g;++s)(m=e[s])>=t&&m<u&&(u=m);for(_=r+1,u-t>L((y-n)/_)&&a("overflow"),n+=(u-t)*_,t=u,s=0;s<g;++s)if(m=e[s],m<t&&++n>y&&a("overflow"),m==t){for(c=n,h=b;p=h<=o?w:h>=o+x?x:h-o,!(c<p);h+=b)A=c-p,v=b-p,E.push(N(d(p+A%v,0))),c=L(A/v);E.push(N(d(c,0))),o=f(n,_,r==i),n=0,++r}++n,++t}return E.join("")}function g(e){return u(e,function(e){return M.test(e)?p(e.slice(4).toLowerCase()):e})}function _(e){return u(e,function(e){return O.test(e)?"xn--"+m(e):e})}var v=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof r&&r);var A,y=2147483647,b=36,w=1,x=26,E=38,C=700,S=72,T=128,I="-",M=/^xn--/,O=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=b-w,L=Math.floor,N=String.fromCharCode;A={version:"1.3.2",ucs2:{decode:l,encode:c},decode:p,encode:m,toASCII:_,toUnicode:g},void 0!==(i=function(){return A}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(311)(e),n(48))},function(e,t,n){(function(e){var r=n(822),i=n(467),o=n(832),a=n(833),s=n(310),u=t;u.request=function(t,n){t="string"==typeof t?s.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||i,u=t.hostname||t.host,l=t.port,c=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?a+"//"+u:"")+(l?":"+l:"")+c,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new r(t);return n&&h.on("response",n),h},u.get=function(e,t){var n=u.request(e,t);return n.end(),n},u.ClientRequest=r,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=a,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(t,n(48))},function(e,t,n){(function(e){function n(){if(void 0!==o)return o;if(e.XMLHttpRequest){o=new e.XMLHttpRequest;try{o.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){o=null}}else o=null;return o}function r(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function i(e){return"function"==typeof e}t.fetch=i(e.fetch)&&i(e.ReadableStream),t.writableStream=i(e.WritableStream),t.abortController=i(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var o,a=void 0!==e.ArrayBuffer,s=a&&i(e.ArrayBuffer.prototype.slice);t.arraybuffer=t.fetch||a&&r("arraybuffer"),t.msstream=!t.fetch&&s&&r("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a&&r("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&i(n().overrideMimeType),t.vbArray=i(e.VBArray),o=null}).call(t,n(48))},function(e,t,n){(function(e,r,i){var o=n(466),a=n(95),s=n(191),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=t.IncomingMessage=function(t,n,a,u){function l(){d.read().then(function(e){if(!c._destroyed){if(e.done)return i.clearTimeout(u),void c.push(null);c.push(new r(e.value)),l()}}).catch(function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)})}var c=this;if(s.Readable.call(c),c._mode=a,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){e.nextTick(function(){c.emit("close")})}),"fetch"===a){if(c._fetchResponse=n,c.url=n.url,c.statusCode=n.status,c.statusMessage=n.statusText,n.headers.forEach(function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)}),o.writableStream){var h=new WritableStream({write:function(e){return new Promise(function(t,n){c._destroyed?n():c.push(new r(e))?t():c._resumeFetch=t})},close:function(){i.clearTimeout(u),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void n.body.pipeTo(h).catch(function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)})}catch(e){}}var d=n.body.getReader();l()}else{c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText;if(t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===c.headers[n]&&(c.headers[n]=[]),c.headers[n].push(t[2])):void 0!==c.headers[n]?c.headers[n]+=", "+t[2]:c.headers[n]=t[2],c.rawHeaders.push(t[1],t[2])}}),c._charset="x-user-defined",!o.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var p=f.match(/;\s*charset=([^;])(;|$)/);p&&(c._charset=p[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};a(l,s.Readable),l.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())},l.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{n=new i.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var o=n.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new r(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;n=t.response,e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==u.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==u.LOADING)break;var l=new i.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){e.push(null)},l.readAsArrayBuffer(n)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(t,n(73),n(80).Buffer,n(48))},function(e,t,n){"use strict";(function(t,r){function i(e){return k.from(e)}function o(e){return k.isBuffer(e)||e instanceof F}function a(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?L(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function s(e,t){B=B||n(137),e=e||{};var r=t instanceof B;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new V,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(H||(H=n(471).StringDecoder),this.decoder=new H(e.encoding),this.encoding=e.encoding)}function u(e){if(B=B||n(137),!(this instanceof u))return new u(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),R.call(this)}function l(e,t,n,r,o){var a=e._readableState;if(null===t)a.reading=!1,m(e,a);else{var s;o||(s=h(a,t)),s?e.emit("error",s):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===k.prototype||(t=i(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):c(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?c(e,a,t,!1):v(e,a)):c(e,a,t,!1))):r||(a.reading=!1)}return d(a)}function c(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&g(e)),v(e,t)}function h(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function d(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function f(e){return e>=W?e=W:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function p(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=f(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,g(e)}}function g(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(j("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?D.nextTick(_,e):_(e))}function _(e){j("emit readable"),e.emit("readable"),E(e)}function v(e,t){t.readingMore||(t.readingMore=!0,D.nextTick(A,e,t))}function A(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(j("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function y(e){return function(){var t=e._readableState;j("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&N(e,"data")&&(t.flowing=!0,E(e))}}function b(e){j("readable nexttick read 0"),e.read(0)}function w(e,t){t.resumeScheduled||(t.resumeScheduled=!0,D.nextTick(x,e,t))}function x(e,t){t.reading||(j("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(j("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=S(e,t.buffer,t.decoder),n}function S(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?T(e,t):I(e,t),r}function T(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}function I(e,t){var n=k.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,D.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var D=n(227);e.exports=u;var B,L=n(457);u.ReadableState=s;var N=(n(228).EventEmitter,function(e,t){return e.listeners(t).length}),R=n(469),k=n(312).Buffer,F=t.Uint8Array||function(){},U=Object.create(n(192));U.inherits=n(95);var z=n(823),j=void 0;j=z&&z.debuglog?z.debuglog("stream"):function(){};var H,V=n(824),Q=n(470);U.inherits(u,R);var G=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),u.prototype.destroy=Q.destroy,u.prototype._undestroy=Q.undestroy,u.prototype._destroy=function(e,t){this.push(null),t(e)},u.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=k.from(e,t),t=""),n=!0),l(this,e,t,!1,n)},u.prototype.unshift=function(e){return l(this,e,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(e){return H||(H=n(471).StringDecoder),this._readableState.decoder=new H(e),this._readableState.encoding=e,this};var W=8388608;u.prototype.read=function(e){j("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return j("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):g(this),null;if(0===(e=p(e,t))&&t.ended)return 0===t.length&&M(this),null;var r=t.needReadable;j("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,j("length less than watermark",r)),t.ended||t.reading?(r=!1,j("reading or ended",r)):r&&(j("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=p(n,t)));var i;return i=e>0?C(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==i&&this.emit("data",i),i},u.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(e,t){function n(e,t){j("onunpipe"),e===d&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){j("onend"),e.end()}function o(){j("cleanup"),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("drain",g),e.removeListener("error",u),e.removeListener("unpipe",n),d.removeListener("end",i),d.removeListener("end",h),d.removeListener("data",s),_=!0,!f.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function s(t){j("ondata"),v=!1,!1!==e.write(t)||v||((1===f.pipesCount&&f.pipes===e||f.pipesCount>1&&-1!==P(f.pipes,e))&&!_&&(j("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,v=!0),d.pause())}function u(t){j("onerror",t),h(),e.removeListener("error",u),0===N(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",c),h()}function c(){j("onfinish"),e.removeListener("close",l),h()}function h(){j("unpipe"),d.unpipe(e)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,j("pipe count=%d opts=%j",f.pipesCount,t);var p=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr,m=p?i:h;f.endEmitted?D.nextTick(m):d.once("end",m),e.on("unpipe",n);var g=y(d);e.on("drain",g);var _=!1,v=!1;return d.on("data",s),a(e,"error",u),e.once("close",l),e.once("finish",c),e.emit("pipe",d),f.flowing||(j("pipe resume"),d.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=P(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},u.prototype.on=function(e,t){var n=R.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&g(this):D.nextTick(b,this))}return n},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(j("resume"),e.flowing=!0,w(this,e)),this},u.prototype.pause=function(){return j("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(j("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;e.on("end",function(){if(j("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){if(j("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){t.push(i)||(r=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<G.length;o++)e.on(G[o],this.emit.bind(this,G[o]));return this._read=function(t){j("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),u._fromList=C}).call(t,n(48),n(73))},function(e,t,n){e.exports=n(228).EventEmitter},function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a.nextTick(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var a=n(227);e.exports={destroy:r,undestroy:i}},function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(v.isEncoding===A||!A(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=d,this.end=f,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=p,this.end=m,t=3;break;default:return this.write=g,void(this.end=_)}this.lastNeed=0,this.lastTotal=0,this.lastChar=v.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0)}function u(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}function l(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){var n=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function d(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function f(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function p(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function _(e){return e&&e.length?this.write(e):""}var v=n(829).Buffer,A=v.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=h,o.prototype.text=c,o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";function r(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);s.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){a(e,t,n)}):a(this,null,null)}function a(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var s=n(137),u=Object.create(n(192));u.inherits=n(95),u.inherits(i,s),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;s.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";(function(t){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function o(e){return Object.prototype.toString.call(e)}function a(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function s(e){if(w.isFunction(e)){if(C)return e.name;var t=e.toString(),n=t.match(T);return n&&n[1]}}function u(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function l(e){if(C||!w.isFunction(e))return w.inspect(e);var t=s(e);return"[Function"+(t?": "+t:"")+"]"}function c(e){return u(l(e.actual),128)+" "+e.operator+" "+u(l(e.expected),128)}function h(e,t,n,r,i){throw new S.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function d(e,t){e||h(e,!0,t,"==",S.ok)}function f(e,t,n,s){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(w.isDate(e)&&w.isDate(t))return e.getTime()===t.getTime();if(w.isRegExp(e)&&w.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(a(e)&&a(t)&&o(e)===o(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;s=s||{actual:[],expected:[]};var u=s.actual.indexOf(e);return-1!==u&&u===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),m(e,t,n,s))}return n?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function m(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(w.isPrimitive(e)||w.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=p(e),o=p(t);if(i&&!o||!i&&o)return!1;if(i)return e=E.call(e),t=E.call(t),f(e,t,n);var a,s,u=I(e),l=I(t);if(u.length!==l.length)return!1;for(u.sort(),l.sort(),s=u.length-1;s>=0;s--)if(u[s]!==l[s])return!1;for(s=u.length-1;s>=0;s--)if(a=u[s],!f(e[a],t[a],n,r))return!1;return!0}function g(e,t,n){f(e,t,!0)&&h(e,t,n,"notDeepStrictEqual",g)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function v(e){var t;try{e()}catch(e){t=e}return t}function A(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=v(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&h(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!e&&w.isError(i),s=!e&&i&&!n;if((a&&o&&_(i,n)||s)&&h(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}function y(e,t){e||h(e,!0,t,"==",y)}var b=n(193),w=n(474),x=Object.prototype.hasOwnProperty,E=Array.prototype.slice,C=function(){return"foo"===function(){}.name}(),S=e.exports=d,T=/\s*function\s+([^\(\s]*)\s*/;S.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var t=e.stackStartFunction||h;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=s(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},w.inherits(S.AssertionError,Error),S.fail=h,S.ok=d,S.equal=function(e,t,n){e!=t&&h(e,t,n,"==",S.equal)},S.notEqual=function(e,t,n){e==t&&h(e,t,n,"!=",S.notEqual)},S.deepEqual=function(e,t,n){f(e,t,!1)||h(e,t,n,"deepEqual",S.deepEqual)},S.deepStrictEqual=function(e,t,n){f(e,t,!0)||h(e,t,n,"deepStrictEqual",S.deepStrictEqual)},S.notDeepEqual=function(e,t,n){f(e,t,!1)&&h(e,t,n,"notDeepEqual",S.notDeepEqual)},S.notDeepStrictEqual=g,S.strictEqual=function(e,t,n){e!==t&&h(e,t,n,"===",S.strictEqual)},S.notStrictEqual=function(e,t,n){e===t&&h(e,t,n,"!==",S.notStrictEqual)},S.throws=function(e,t,n){A(!0,e,t,n)},S.doesNotThrow=function(e,t,n){A(!1,e,t,n)},S.ifError=function(e){if(e)throw e},S.strict=b(y,S,{equal:S.strictEqual,deepEqual:S.deepStrictEqual,notEqual:S.notStrictEqual,notDeepEqual:S.notDeepStrictEqual}),S.strict.strict=S.strict;var I=Object.keys||function(e){var t=[];for(var n in e)x.call(e,n)&&t.push(n);return t}}).call(t,n(48))},function(e,t,n){(function(e){function r(e,n){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),s(r,e,r.depth)}function i(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function o(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function s(e,n,r){if(e.customInspect&&n&&C(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=s(e,i,r)),i}var o=u(e,n);if(o)return o;var p=Object.keys(n),m=a(p);if(e.showHidden&&(p=Object.getOwnPropertyNames(n)),E(n)&&(p.indexOf("message")>=0||p.indexOf("description")>=0))return l(n);if(0===p.length){if(C(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return l(n)}var _="",A=!1,y=["{","}"];if(f(n)&&(A=!0,y=["[","]"]),C(n)){_=" [Function"+(n.name?": "+n.name:"")+"]"}if(b(n)&&(_=" "+RegExp.prototype.toString.call(n)),x(n)&&(_=" "+Date.prototype.toUTCString.call(n)),E(n)&&(_=" "+l(n)),0===p.length&&(!A||0==n.length))return y[0]+_+y[1];if(r<0)return b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var w;return w=A?c(e,n,r,m,p):p.map(function(t){return h(e,n,r,m,t,A)}),e.seen.pop(),d(w,_,y)}function u(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return _(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)O(t,String(a))?o.push(h(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}function h(e,t,n,r,i,o){var a,u,l;if(l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},l.get?u=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(u=e.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),u||(e.seen.indexOf(l.value)<0?(u=m(n)?s(e,l.value,null):s(e,l.value,n-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return u;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function d(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return null==e}function _(e){return"number"==typeof e}function v(e){return"string"==typeof e}function A(e){return"symbol"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===T(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===T(e)}function E(e){return w(e)&&("[object Error]"===T(e)||e instanceof Error)}function C(e){return"function"==typeof e}function S(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}function M(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function P(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function D(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then(function(t){e.nextTick(a,null,t)},function(t){e.nextTick(P,t,a)})}if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,B(t)),n}var B=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},L=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(r(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,o=i.length,a=String(e).replace(L,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),s=i[n];n<o;s=i[++n])m(s)||!w(s)?a+=" "+s:a+=" "+r(s);return a},t.deprecate=function(n,r){function i(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return i};var N,R={};t.debuglog=function(n){if(y(N)&&(N=Object({NODE_ENV:"production"}).NODE_DEBUG||""),n=n.toUpperCase(),!R[n])if(new RegExp("\\b"+n+"\\b","i").test(N)){var r=e.pid;R[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else R[n]=function(){};return R[n]},t.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=g,t.isNumber=_,t.isString=v,t.isSymbol=A,t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=x,t.isError=E,t.isFunction=C,t.isPrimitive=S,t.isBuffer=n(841);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=n(95),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var F="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;t.promisify=function(e){function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(e){n(e)}return r}if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(F&&e[F]){var t=e[F];if("function"!=typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,F,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),F&&Object.defineProperty(t,F,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,B(e))},t.promisify.custom=F,t.callbackify=D}).call(t,n(73))},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=r},function(e,t,n){var r;void 0!==(r=function(){"use strict";function e(e,t,n,r,i,o,a,s){this.year=e,this.month=t,this.day=n,this.hour=r,this.minute=i,this.second=o,this.millisecond=a,this.isLeapSecond=s}return e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(3)],void 0!==(i=function(e){"use strict";function t(e){return e%4==0&&e%100!=0||e%400==0}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";function e(e,t){this.julianDate=e,this.offset=t}return e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(10),n(0),n(3),n(9)],void 0!==(i=function(e,t,n,r){"use strict";function i(n,i,s,u,l){var c=n.x,h=n.y,d=n.z,f=i.x,p=i.y,m=i.z,g=c*c*f*f,_=h*h*p*p,v=d*d*m*m,A=g+_+v,y=Math.sqrt(1/A),b=e.multiplyByScalar(n,y,o);if(A<u)return isFinite(y)?e.clone(b,l):void 0;var w=s.x,x=s.y,E=s.z,C=a;C.x=b.x*w*2,C.y=b.y*x*2,C.z=b.z*E*2;var S,T,I,M,O,P,D,B,L,N,R,k=(1-y)*e.magnitude(n)/(.5*e.magnitude(C)),F=0;do{k-=F,I=1/(1+k*w),M=1/(1+k*x),O=1/(1+k*E),P=I*I,D=M*M,B=O*O,L=P*I,N=D*M,R=B*O,S=g*P+_*D+v*B-1,T=g*L*w+_*N*x+v*R*E;F=S/(-2*T)}while(Math.abs(S)>r.EPSILON12);return t(l)?(l.x=c*I,l.y=h*M,l.z=d*O,l):new e(c*I,h*M,d*O)}var o=new e,a=new e;return i}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(82),i=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e,t){t=(0,o.default)(t,o.default.EMPTY_OBJECT),this.points=(0,o.default)(e,[]),this.point=void 0,this.id=t.id,this.categoryName=t.categoryName,this.name=t.name,this.units=t.units,this.color=t.color,this.yAxisMin=t.yAxisMin,this.yAxisMax=t.yAxisMax};a.prototype.getDomain=function(){var e=this.points;if(0!==e.length)return{x:[(0,r.min)(e,function(e){return e.x}),(0,r.max)(e,function(e){return e.x})],y:[(0,r.min)(e,function(e){return e.y}),(0,r.max)(e,function(e){return e.y})]}},e.exports=a},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n(166),i=n(483),o=Object(i.a)(r.a),a=o.right,s=o.left;t.c=a},function(e,t,n){"use strict";function r(e){return function(t,n){return Object(i.a)(e(t),n)}}var i=n(166);t.a=function(e){return 1===e.length&&(e=r(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}},function(e,t,n){"use strict";function r(e,t){return[e,t]}t.b=r,t.a=function(e,t){null==t&&(t=r);for(var n=0,i=e.length-1,o=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(o,o=e[++n]);return a}},function(e,t,n){"use strict";var r=n(486);t.a=function(e,t){var n=Object(r.a)(e,t);return n?Math.sqrt(n):n}},function(e,t,n){"use strict";var r=n(199);t.a=function(e,t){var n,i,o=e.length,a=0,s=-1,u=0,l=0;if(null==t)for(;++s<o;)isNaN(n=Object(r.a)(e[s]))||(i=n-u,u+=i/++a,l+=i*(n-u));else for(;++s<o;)isNaN(n=Object(r.a)(t(e[s],s,e)))||(i=n-u,u+=i/++a,l+=i*(n-u));if(a>1)return l/(a-1)}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=Array.prototype,i=r.slice,o=r.map},function(e,t,n){"use strict";t.a=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}},function(e,t,n){"use strict";function r(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),u=r/Math.pow(10,i);return i>=0?(u>=o?10:u>=a?5:u>=s?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=o?10:u>=a?5:u>=s?2:1)}function i(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),u=r/i;return u>=o?i*=10:u>=a?i*=5:u>=s&&(i*=2),t<e?-i:i}t.b=r,t.c=i;var o=Math.sqrt(50),a=Math.sqrt(10),s=Math.sqrt(2);t.a=function(e,t,n){var i,o,a,s,u=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(o=e,e=t,t=o),0===(s=r(e,t,n))||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),a=new Array(o=Math.ceil(t-e+1));++u<o;)a[u]=(e+u)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),a=new Array(o=Math.ceil(e-t+1));++u<o;)a[u]=(e-u)/s;return i&&a.reverse(),a}},function(e,t,n){"use strict";t.a=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&r>n&&(r=n);return r}},function(e,t,n){"use strict";function r(e){return e.length}var i=n(492);t.a=function(e){if(!(a=e.length))return[];for(var t=-1,n=Object(i.a)(e,r),o=new Array(n);++t<n;)for(var a,s=-1,u=o[t]=new Array(a);++s<a;)u[s]=e[s][t];return o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1),o=r(i),a=n(231),s=r(a),u=n(196),l=r(u),c=function(e){e=(0,o.default)(e,o.default.EMPTY_OBJECT),this.seconds=e.seconds,this.url=e.url,this.replace=e.replace};c.prototype.updateFromJson=function(e,t){return(0,l.default)(this,e,t)},c.prototype.serializeToJson=function(e){return(0,s.default)(this,void 0,e)},e.exports=c},function(e,t,n){var r,i;r=[n(0),n(2)],void 0!==(i=function(e,t){"use strict";function n(e,t,n,r){this._format=e,this._width=t,this._height=n,this._buffer=r}return t(n.prototype,{internalFormat:{get:function(){return this._format}},width:{get:function(){return this._width}},height:{get:function(){return this._height}},bufferView:{get:function(){return this._buffer}}}),n.clone=function(t){if(e(t))return new n(t._format,t._width,t._height,t._buffer)},n.prototype.clone=function(){return n.clone(this)},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(43)],void 0!==(i=function(e){"use strict";function t(e){return e}function n(n,r){return e(n,r,t)}return n}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(27),i=n(1),o=n(0),a=n(2),s=n(6),u=n(13),l=n(26),c=n(7),h=n(14),d=n(83),f=n(56),p=n(96),m=function(e,t){f.call(this,e),this.items=o(t)?t.slice():[],u.track(this,["items"]),d(this,"legendUrls",{get:function(){if(!o(this._legendUrls)||0===this._legendUrls.length){this._legendUrls=[];for(var e=0;e<this.items.length;++e)this.items[e].legendUrls&&(this._legendUrls=this._legendUrls.concat(this.items[e].legendUrls))}return this._legendUrls}}),u.getObservable(this,"items").subscribe(function(){for(var e=0;e<this.items.length;++e)this.items[e].showInNowViewingWhenEnabled=!1},this)};h(f,m),a(m.prototype,{type:{get:function(){return"composite"}},typeName:{get:function(){return"Composite"}},updaters:{get:function(){return m.defaultUpdaters}},serializers:{get:function(){return m.defaultSerializers}},propertiesForSharing:{get:function(){return m.defaultPropertiesForSharing}},supportsReordering:{get:function(){for(var e=!0,t=0;t<this.items.length;++t){var n=this.items[t];e=e&&n.supportsReordering}return e}}}),m.defaultUpdaters=r(f.defaultUpdaters),m.defaultUpdaters.items=function(e,t,n,r){return c(e.load(),function(){var n=[];r=i(r,i.EMPTY_OBJECT);for(var a=t.items,s=0;s<a.length;++s){var u=a[s];if(!o(u.type))throw new l("Each item must have a type.");if("composite"===u.type)throw new l("Composites cannot include composite items.");var h=p(u.type,e.terria);e.add(h),n.push(h.updateFromJson(u,r))}return c.all(n)})},m.defaultUpdaters.isLoading=function(e,t,n){},s(m.defaultUpdaters),m.defaultSerializers=r(f.defaultSerializers),m.defaultSerializers.items=function(e,t,n,r){for(var i=t.items=[],a=0;a<e.items.length;++a){var s=e.items[a].serializeToJson(r);o(s)&&i.push(s)}},m.defaultSerializers.isLoading=function(e,t,n,r){},s(m.defaultSerializers),m.defaultPropertiesForSharing=r(f.defaultPropertiesForSharing),m.defaultPropertiesForSharing.push("items"),s(m.defaultPropertiesForSharing),m.prototype._load=function(){return c.all(this.items.map(function(e){return e.load()}))},m.prototype._getValuesThatInfluenceLoad=function(){for(var e=[],t=0;t<this.items.length;++t)e.push.apply(e,this.items[t]._getValuesThatInfluenceLoad());return e},m.prototype._enable=function(){var e;try{for(e=0;e<this.items.length;++e)this.items[e]._enable()}catch(n){for(var t=0;t<e;++t)this.items[t]._disable();throw this.isEnabled=!1,n}},m.prototype._disable=function(){for(var e=0;e<this.items.length;++e)this.items[e]._disable()},m.prototype._show=function(){var e;try{for(e=0;e<this.items.length;++e)this.items[e]._show()}catch(n){for(var t=0;t<e;++t)this.items[t]._hide();throw this.isShown=!1,n}},m.prototype._hide=function(){for(var e=0;e<this.items.length;++e)this.items[e]._hide()},m.prototype.add=function(e){this.items.push(e)},e.exports=m},function(e,t,n){"use strict";function r(e,t,n,r){var s=i.loadImage,u=void 0;try{i.loadImage=function(e,t){return"string"==typeof t||t instanceof String?u=t:t&&t.url&&(u=t.url,t._ionEndpoint&&t._ionEndpoint.accessToken&&(u=new o(u).addQuery("access_token",t._ionEndpoint.accessToken).toString())),a()},e.requestImage(t,n,r)}finally{i.loadImage=s}return u}var i=n(140),o=n(33),a=n(7);e.exports=r},function(e,t,n){(function(e,r){var i;!function(o){function a(e){throw new RangeError(D[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(P,"."),r+s(e.split("."),t).join(".")}function l(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=N(e>>>10&1023|55296),e=56320|1023&e),t+=N(e)}).join("")}function h(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:b}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,n){var r=0;for(e=n?L(e/C):e>>1,e+=L(e/t);e>B*x>>1;r+=b)e=L(e/B);return L(r+(B+1)*e/(e+E))}function p(e){var t,n,r,i,o,s,u,l,d,p,m=[],g=e.length,_=0,v=T,A=S;for(n=e.lastIndexOf(I),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&a("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=_,s=1,u=b;i>=g&&a("invalid-input"),l=h(e.charCodeAt(i++)),(l>=b||l>L((y-_)/s))&&a("overflow"),_+=l*s,d=u<=A?w:u>=A+x?x:u-A,!(l<d);u+=b)p=b-d,s>L(y/p)&&a("overflow"),s*=p;t=m.length+1,A=f(_-o,t,0==o),L(_/t)>y-v&&a("overflow"),v+=L(_/t),_%=t,m.splice(_++,0,v)}return c(m)}function m(e){var t,n,r,i,o,s,u,c,h,p,m,g,_,v,A,E=[];for(e=l(e),g=e.length,t=T,n=0,o=S,s=0;s<g;++s)(m=e[s])<128&&E.push(N(m));for(r=i=E.length,i&&E.push(I);r<g;){for(u=y,s=0;s<g;++s)(m=e[s])>=t&&m<u&&(u=m);for(_=r+1,u-t>L((y-n)/_)&&a("overflow"),n+=(u-t)*_,t=u,s=0;s<g;++s)if(m=e[s],m<t&&++n>y&&a("overflow"),m==t){for(c=n,h=b;p=h<=o?w:h>=o+x?x:h-o,!(c<p);h+=b)A=c-p,v=b-p,E.push(N(d(p+A%v,0))),c=L(A/v);E.push(N(d(c,0))),o=f(n,_,r==i),n=0,++r}++n,++t}return E.join("")}function g(e){return u(e,function(e){return M.test(e)?p(e.slice(4).toLowerCase()):e})}function _(e){return u(e,function(e){return O.test(e)?"xn--"+m(e):e})}var v=("object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType,"object"==typeof r&&r);var A,y=2147483647,b=36,w=1,x=26,E=38,C=700,S=72,T=128,I="-",M=/^xn--/,O=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=b-w,L=Math.floor,N=String.fromCharCode;A={version:"1.3.2",ucs2:{decode:l,encode:c},decode:p,encode:m,toASCII:_,toUnicode:g},void 0!==(i=function(){return A}.call(t,n,t,e))&&(e.exports=i)}()}).call(t,n(311)(e),n(48))},function(e,t,n){var r,i;/*!
 * URI.js - Mutating URLs
 * IPv6 Support
 *
 * Version: 1.19.2
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(o,a){"use strict";"object"==typeof e&&e.exports?e.exports=a():(r=a,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i))}(0,function(e){"use strict";function t(e){var t=e.toLowerCase(),n=t.split(":"),r=n.length,i=8;""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[r-1]&&""===n[r-2]&&n.pop(),r=n.length,-1!==n[r-1].indexOf(".")&&(i=7);var o;for(o=0;o<r&&""!==n[o];o++);if(o<i)for(n.splice(o,1,"0000");n.length<i;)n.splice(o,0,"0000");for(var a,s=0;s<i;s++){a=n[s].split("");for(var u=0;u<3&&("0"===a[0]&&a.length>1);u++)a.splice(0,1);n[s]=a.join("")}var l=-1,c=0,h=0,d=-1,f=!1;for(s=0;s<i;s++)f?"0"===n[s]?h+=1:(f=!1,h>c&&(l=d,c=h)):"0"===n[s]&&(f=!0,d=s,h=1);h>c&&(l=d,c=h),c>1&&n.splice(l,c,""),r=n.length;var p="";for(""===n[0]&&(p=":"),s=0;s<r&&(p+=n[s],s!==r-1);s++)p+=":";return""===n[r-1]&&(p+=":"),p}function n(){return e.IPv6===this&&(e.IPv6=r),this}var r=e&&e.IPv6;return{best:t,noConflict:n}})},function(e,t,n){var r,i;/*!
 * URI.js - Mutating URLs
 * Second Level Domain (SLD) Support
 *
 * Version: 1.19.2
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(o,a){"use strict";"object"==typeof e&&e.exports?e.exports=a():(r=a,void 0!==(i="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=i))}(0,function(e){"use strict";var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return!1;var i=n.list[e.slice(t+1)];return!!i&&i.indexOf(" "+e.slice(r+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return null;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n})},function(e,t,n){"use strict";function r(e,t,n){o(t)&&(o(e.terria.cesium)&&(t.alpha=n),o(e.terria.leaflet)&&t.setOpacity(n))}function i(e,t,n){if(o(t)&&o(n)&&o(e.terria.cesium)){var r=e.terria.cesium.scene.imageryLayers,i=r.indexOf(t),a=r.indexOf(n);if(i<0||a<0)return;for(;a<i-1;)r.raise(n),++a;for(;a>i+1;)r.lower(n),--a}}var o=n(0);e.exports={setOpacity:r,fixNextLayerOrder:i}},function(e,t,n){"use strict";function r(e,t,n){n=a(n,e.stopTime),s.lessThan(t,e.startTime)?e.currentTime=e.startTime.clone(e.currentTime):s.greaterThan(t,n)?e.currentTime=n.clone(e.currentTime):e.currentTime=t.clone(e.currentTime)}function i(e,t,n){if(o(e)){switch(r(e,s.now(),n),t=a(t,"present")){case"start":e.currentTime=e.startTime.clone(e.currentTime);break;case"end":e.currentTime=e.stopTime.clone(e.currentTime);break;case"present":break;default:var i;try{if(i=s.fromIso8601(t),isNaN(s.toDate(i)))throw new Error("Invalid Date")}catch(e){throw new u("Invalid initialTimeSource specified in config file: "+t)}o(i)&&r(e,i)}}}var o=n(0),a=n(1),s=n(36),u=n(22);e.exports=i},function(e,t,n){"use strict";function r(e){return e.className&&e.className.indexOf&&e.className.indexOf("tjs-splitter__thumb")>=0}function i(e,t){b(e.imageryLayer)&&b(e.imageryLayer.setZIndex)&&(e.supportsReordering?e.imageryLayer.setZIndex(t.reorderable++):e.imageryLayer.setZIndex(t.fixed++))}function o(e){var t="",n="",r=void 0,i=void 0;if(e.terria.showSplitter){var o=e.map,a=o.getSize(),s=o.containerPointToLayerPoint([0,0]),u=o.containerPointToLayerPoint(a);r=a.x*e.terria.splitPosition,i=Math.round(s.x+r),t="rect("+[s.y,i,u.y,s.x].join("px,")+"px)",n="rect("+[s.y,u.x,u.y,i].join("px,")+"px)"}return{left:t,right:n,clipPositionWithinMap:r,clipX:i}}function a(e){return e.element}function s(e,t,n){if(u(e,n.latlng),!(t&&t.entityCollection&&t.entityCollection.owner&&t.entityCollection.owner.name===N._featureHighlightName)){var r=L.fromEntityCollectionOrEntity(t);e._pickedFeatures.features.push(r),t.position&&(e._pickedFeatures.pickPosition=t.position._value)}}function u(e,t,n,r){if(!b(e._pickedFeatures)){e._pickedFeatures=new U,b(r)&&(e._pickedFeatures.features=r);var i=j(function(){var t=C.WGS84.cartographicToCartesian(a),n=e.terria.mapInteractionModeStack;b(n)&&n.length>0?n[n.length-1].pickedFeatures.pickPosition=t:b(e.terria.pickedFeatures)&&(e.terria.pickedFeatures.pickPosition=t),e._pickedFeatures=void 0}),o=e.terria.nowViewing.items;n=D(n,{});var a=g.fromDegrees(t.lng,t.lat);e._pickedFeatures.pickPosition=C.WGS84.cartographicToCartesian(a);var s=[i].concat(o.filter(function(e){return e.isEnabled&&e.isShown&&b(e.imageryLayer)&&b(e.imageryLayer.pickFeatures)}).map(function(r){var i=r.imageryLayer.imageryProvider.url,o=_.toRadians(t.lng),a=_.toRadians(t.lat);return P(n[i]||r.imageryLayer.getFeaturePickingCoords(e.map,o,a)).then(function(e){return r.imageryLayer.pickFeatures(e.x,e.y,e.level,o,a).then(function(t){return{features:t,imageryLayer:r.imageryLayer,coords:e}})})})),u=e._pickedFeatures;u.allFeaturesAvailablePromise=P.all(s).then(function(t){var n=t.slice(1);u.isLoading=!1,u.providerCoords={};var r=n.filter(function(e){return b(e.features)&&e.features.length>0});u.providerCoords=r.reduce(function(e,t){return e[t.imageryLayer.imageryProvider.url]=t.coords,e},{}),u.features=r.reduce(function(t,n){return t.concat(n.features.map(function(t){return t.imageryLayer=n.imageryLayer,b(t.position)||(t.position=a),e._createFeatureFromImageryLayerFeature(t)}))},u.features)}).otherwise(function(e){throw u.isLoading=!1,u.error="An unknown error occurred while picking features.",e});var l=e.terria.mapInteractionModeStack;b(l)&&l.length>0?l[l.length-1].pickedFeatures=e._pickedFeatures:e.terria.pickedFeatures=e._pickedFeatures}}function l(e){var t=e.terria.selectedFeature;if(e._highlightFeature(t),b(t)&&b(t.position)){var n=C.WGS84.cartesianToCartographic(t.position.getValue(e.terria.clock.currentTime),G);e._selectionIndicator.setLatLng([_.toDegrees(n.latitude),_.toDegrees(n.longitude)]),h(e)}else d(e)}function c(e){if(!e._tweensAreRunning){var t=e.terria.selectedFeature;if(b(t)&&b(t.position)){var n=C.WGS84.cartesianToCartographic(t.position.getValue(e.terria.clock.currentTime),G);e._selectionIndicator.setLatLng([_.toDegrees(n.latitude),_.toDegrees(n.longitude)])}e._tweens.length>0&&e._tweens.update(),(0!==e._tweens.length||b(t)&&b(t.position))&&M(c.bind(void 0,e))}}function h(e){if(b(e._selectionIndicatorTween)){if(e._selectionIndicatorIsAppearing)return;e._selectionIndicatorTween.cancelTween(),e._selectionIndicatorTween=void 0}var t=e._selectionIndicatorDomElement.style;e._selectionIndicatorIsAppearing=!0,e._selectionIndicatorTween=e._tweens.add({startObject:{scale:2,opacity:0,rotate:-180},stopObject:{scale:1,opacity:1,rotate:0},duration:.8,easingFunction:E.EXPONENTIAL_OUT,update:function(e){t.opacity=e.opacity,t.transform="scale("+e.scale+") rotate("+e.rotate+"deg)"},complete:function(){e._selectionIndicatorTween=void 0},cancel:function(){e._selectionIndicatorTween=void 0}}),c(e)}function d(e){if(b(e._selectionIndicatorTween)){if(!e._selectionIndicatorIsAppearing)return;e._selectionIndicatorTween.cancelTween(),e._selectionIndicatorTween=void 0}var t=e._selectionIndicatorDomElement.style;e._selectionIndicatorIsAppearing=!1,e._selectionIndicatorTween=e._tweens.add({startObject:{scale:1,opacity:1},stopObject:{scale:1.5,opacity:0},duration:.8,easingFunction:E.EXPONENTIAL_OUT,update:function(e){t.opacity=e.opacity,t.transform="scale("+e.scale+") rotate(0deg)"},complete:function(){e._selectionIndicatorTween=void 0},cancel:function(){e._selectionIndicatorTween=void 0}}),c(e)}var f=n(142),p=n(886),m=n(17),g=n(24),_=n(9),v=n(916),A=n(518),y=n(324),b=n(0),w=n(21),x=n(3),E=n(294),C=n(23),S=n(162),T=n(13),I=n(16),M=n(440),O=n(762),P=n(7),D=n(1),B=n(39),L=n(224),N=n(445),R=n(14),k=n(1180),F=n(1181),U=n(448),z=n(562),j=n(81),H=n(791);window.html2canvas=p,k.initialize(f);var V=f.Canvas.prototype._destroyContainer;f.Canvas.prototype._destroyContainer=function(){f.Util.cancelAnimFrame(this._redrawRequest),V.apply(this,arguments)},f.Canvas.prototype._onClick=function(e){for(var t,n=this._map.mouseEventToLayerPoint(e),r=[],i=this._drawFirst;i;i=i.next)t=i.layer,t.options.interactive&&t._containsPoint(n)&&!this._map._draggableMoved(t)&&(f.DomEvent.fakeStop(e),r.push(t));r.length&&this._fireEvent(r,e)};var Q=function(e,t){N.call(this,e),this.map=t,this.scene=new F(t),this.canShowSplitter=!0,this._tweens=new O,this._tweensAreRunning=!1,this._selectionIndicatorTween=void 0,this._selectionIndicatorIsAppearing=void 0,this._pickedFeatures=void 0,this._selectionIndicator=f.marker([0,0],{icon:f.divIcon({className:"",html:'<img src="'+H+'" width="50" height="50" alt="" />',iconSize:f.point(50,50)}),zIndexOffset:1,interactive:!1,keyboard:!1}),this._selectionIndicator.addTo(this.map),this._selectionIndicatorDomElement=this._selectionIndicator._icon.children[0],this._dragboxcompleted=!1,this._pauseMapInteractionCount=0,this.scene.featureClicked.addEventListener(s.bind(void 0,this));var n=this;t.on("dragboxend",function(e){var t=n.terria.mapInteractionModeStack;if(b(t)&&t.length>0&&t[t.length-1].drawRectangle&&b(e.dragBoxBounds)){var r=e.dragBoxBounds;t[t.length-1].pickedFeatures=I.fromDegrees(r.getWest(),r.getSouth(),r.getEast(),r.getNorth())}n._dragboxcompleted=!0}),t.on("click",function(e){!n._dragboxcompleted&&n.map.dragging.enabled()&&u(n,e.latlng),n._dragboxcompleted=!1}),this._selectedFeatureSubscription=T.getObservable(this.terria,"selectedFeature").subscribe(function(){l(this)},this),this._splitterPositionSubscription=T.getObservable(this.terria,"splitPosition").subscribe(function(){this.updateAllItemsForSplitter()},this),this._showSplitterSubscription=T.getObservable(e,"showSplitter").subscribe(function(){this.updateAllItemsForSplitter()},this),t.on("layeradd",function(e){n.updateAllItemsForSplitter()}),t.on("move",function(e){n.updateAllItemsForSplitter()}),this._initProgressEvent(),l(this)};R(N,Q),Q.prototype._initProgressEvent=function(){var e=function(){var e=0;this.map.eachLayer(function(t){t._tiles&&(e+=Object.keys(t._tiles).filter(function(e){return!t._tiles[e].loaded}).length)}),this.updateTilesLoadingCount(e)}.bind(this);this.map.on("layeradd",function(t){void 0!==t.layer._tiles&&t.layer.on("tileloadstart tileload load",e)}.bind(this)),this.map.on("layerremove",function(t){t.layer.off("tileloadstart tileload load",e)}.bind(this))},Q.prototype.destroy=function(){return b(this._selectedFeatureSubscription)&&(this._selectedFeatureSubscription.dispose(),this._selectedFeatureSubscription=void 0),b(this._splitterPositionSubscription)&&(this._splitterPositionSubscription.dispose(),this._splitterPositionSubscription=void 0),b(this._showSplitterSubscription)&&(this._showSplitterSubscription.dispose(),this._showSplitterSubscription=void 0),this.map.clearAllEventListeners(),this.map.eachLayer(function(e){return e.clearAllEventListeners()}),N.disposeCommonListeners(this),w(this)},Q.prototype.getCurrentExtent=function(){var e=this.map.getBounds();return I.fromDegrees(e.getWest(),e.getSouth(),e.getEast(),e.getNorth())},Q.prototype.getContainer=function(){return this.map.getContainer()},Q.prototype.zoomTo=function(e,t){if(!b(e))throw new x("viewOrExtent is required.");var n;n=e instanceof I?e:e.rectangle,n.east<n.west&&(n=I.clone(n),n.east+=_.TWO_PI),this.map.flyToBounds(z(n),{animate:t>0,duration:t})},Q.prototype.captureScreenshot=function(){var e=this;this.map.attributionControl.remove();var t=this,n=void 0,i=void 0;try{var a=void 0;if(this.terria.showSplitter){var s=o(this),u=s.left.replace(/ /g,""),l=s.right.replace(/ /g,"");a=p(this.map.getContainer(),{useCORS:!0,ignoreElements:function(e){return e.style&&e.style.clip.replace(/ /g,"")===l||r(e)}}).then(function(t){return p(e.map.getContainer(),{useCORS:!0,ignoreElements:function(e){return e.style&&e.style.clip.replace(/ /g,"")===u||r(e)}}).then(function(e){var n=document.createElement("canvas");n.width=t.width,n.height=t.height;var r=n.getContext("2d"),i=s.clipPositionWithinMap*window.devicePixelRatio;return r.drawImage(t,0,0,i,n.height,0,0,i,n.height),r.drawImage(e,i,0,n.width-i,n.height,i,0,n.width-i,n.height),n})})}else a=p(this.map.getContainer(),{useCORS:!0});return P(a).then(function(e){return e.toDataURL("image/png")}).always(function(e){return t.map.attributionControl.addTo(t.map),n&&n(),i&&i(),e})}catch(e){return t.map.attributionControl.addTo(t.map),n&&n(),i&&i(),P.reject(e)}},Q.prototype.notifyRepaintRequired=function(){};var G=new g;Q.prototype.computePositionOnScreen=function(e,t){var n=C.WGS84.cartesianToCartographic(e,G),r=this.map.latLngToContainerPoint(f.latLng(_.toDegrees(n.latitude),_.toDegrees(n.longitude)));return b(t)?(t.x=r.x,t.y=r.y):t=new m(r.x,r.y),t},Q.prototype.addAttribution=function(e){e&&this.map.attributionControl.addAttribution(a(e))},Q.prototype.removeAttribution=function(e){e&&this.map.attributionControl.removeAttribution(a(e))},Q.prototype.getAllAttribution=function(){return Object.keys(this.map.attributionControl._attributions)},Q.prototype.updateLayerOrder=function(){var e,t,n,r,o=this.terria.nowViewing.items,a={reorderable:100,fixed:1e6};for(e=o.length-1;e>=0;--e){if(n=o[e],b(n.items))for(t=n.items.length-1;t>=0;--t)r=n.items[t],i(r,a);i(n,a)}},Q.prototype.updateLayerOrderAfterReorder=function(){this.updateLayerOrder()},Q.prototype.raise=function(e){},Q.prototype.lower=function(e){},Q.prototype.lowerToBottom=function(e){if(b(e.items))for(var t=e.items.length-1;t>=0;--t){var n=e.items[t];this.lowerToBottom(n)}b(e._imageryLayer)&&e._imageryLayer.setZIndex(0)},Q.prototype.pickFromLocation=function(e,t,n){u(this,e,t,n)},Q.prototype.addImageryProvider=function(e){var t={opacity:e.opacity,bounds:e.clipToRectangle&&e.rectangle?z(e.rectangle):void 0};b(this.map.options.maxZoom)&&(t.maxZoom=this.map.options.maxZoom);var n;e.imageryProvider instanceof y?(t.async=!0,t.bounds=z(e.imageryProvider.rectangle),n=new A(e.imageryProvider,t)):n=new v(e.imageryProvider,t),n.errorEvent.addEventListener(function(t,r){b(e.onProjectionError)&&e.onProjectionError(),n.initialized=!1});var r=e.imageryProvider.errorEvent;return b(e.onLoadError)&&b(r)&&r.addEventListener(e.onLoadError),n},Q.prototype.removeImageryLayer=function(e){this.map.removeLayer(e.layer)},Q.prototype.showImageryLayer=function(e){this.map.hasLayer(e.layer)||this.map.addLayer(e.layer),this.updateLayerOrder()},Q.prototype.hideImageryLayer=function(e){this.map.removeLayer(e.layer)},Q.prototype.isImageryLayerShown=function(e){return this.map.hasLayer(e.layer)};var W=B.isInternetExplorer()||B.isEdge();Q.prototype.updateItemForSplitter=function(e,t){if(b(e.splitDirection)&&b(e.imageryLayer)){var n=e.imageryLayer,r=n.getContainer&&n.getContainer();if(r){var i=t||o(this),a=i.left,s=i.right;if(r){var u=void 0;W&&(u=r.style.display,r.style.display="none",r.getBoundingClientRect()),e.splitDirection===S.LEFT?r.style.clip=a:e.splitDirection===S.RIGHT?r.style.clip=s:r.style.clip="auto",e._nextLayer&&e._nextLayer.getContainer&&e._nextLayer.getContainer()&&(e._nextLayer.getContainer().style.clip=r.style.clip),W&&(r.style.display=u)}}}},Q.prototype.updateAllItemsForSplitter=function(){var e=this,t=o(this);this.terria.nowViewing.items.forEach(function(n){e.updateItemForSplitter(n,t)})},Q.prototype.pauseMapInteraction=function(){1===++this._pauseMapInteractionCount&&this.map.dragging.disable()},Q.prototype.resumeMapInteraction=function(){var e=this;0===--this._pauseMapInteractionCount&&setTimeout(function(){0===e._pauseMapInteractionCount&&e.map.dragging.enable()},0)},e.exports=Q},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(238),a=n(320),s=function(e,t){var n=Math.max.apply(null,e.colorStops.map(function(e){return e.stop})),r=1/Math.max(1,n);e.colorStops.forEach(function(e){t.addColorStop(r*e.stop,e.color.toString())})},u=function(){function e(t){r(this,e),this.canvas=t||document.createElement("canvas")}return i(e,[{key:"render",value:function(e){this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x,-e.y),this.ctx.textBaseline="bottom",e.logger.log("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+this.options.scale)}},{key:"clip",value:function(e,t){var n=this;e.length&&(this.ctx.save(),e.forEach(function(e){n.path(e),n.ctx.clip()})),t(),e.length&&this.ctx.restore()}},{key:"drawImage",value:function(e,t,n){this.ctx.drawImage(e,t.left,t.top,t.width,t.height,n.left,n.top,n.width,n.height)}},{key:"drawShape",value:function(e,t){this.path(e),this.ctx.fillStyle=t.toString(),this.ctx.fill()}},{key:"fill",value:function(e){this.ctx.fillStyle=e.toString(),this.ctx.fill()}},{key:"getTarget",value:function(){return this.canvas.getContext("2d").setTransform(1,0,0,1,0,0),Promise.resolve(this.canvas)}},{key:"path",value:function(e){var t=this;this.ctx.beginPath(),Array.isArray(e)?e.forEach(function(e,n){var r=e.type===o.PATH.VECTOR?e:e.start;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),e.type===o.PATH.BEZIER_CURVE&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}):this.ctx.arc(e.x+e.radius,e.y+e.radius,e.radius,0,2*Math.PI,!0),this.ctx.closePath()}},{key:"rectangle",value:function(e,t,n,r,i){this.ctx.fillStyle=i.toString(),this.ctx.fillRect(e,t,n,r)}},{key:"renderLinearGradient",value:function(e,t){var n=this.ctx.createLinearGradient(e.left+t.direction.x1,e.top+t.direction.y1,e.left+t.direction.x0,e.top+t.direction.y0);s(t,n),this.ctx.fillStyle=n,this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRadialGradient",value:function(e,t){var n=this,r=e.left+t.center.x,i=e.top+t.center.y,o=this.ctx.createRadialGradient(r,i,0,r,i,t.radius.x);if(o)if(s(t,o),this.ctx.fillStyle=o,t.radius.x!==t.radius.y){var a=e.left+.5*e.width,u=e.top+.5*e.height,l=t.radius.y/t.radius.x,c=1/l;this.transform(a,u,[1,0,0,l,0,0],function(){return n.ctx.fillRect(e.left,c*(e.top-u)+u,e.width,e.height*c)})}else this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRepeat",value:function(e,t,n,r,i){this.path(e),this.ctx.fillStyle=this.ctx.createPattern(this.resizeImage(t,n),"repeat"),this.ctx.translate(r,i),this.ctx.fill(),this.ctx.translate(-r,-i)}},{key:"renderTextNode",value:function(e,t,n,r,i){var o=this;this.ctx.font=[n.fontStyle,n.fontVariant,n.fontWeight,n.fontSize,n.fontFamily].join(" "),e.forEach(function(e){if(o.ctx.fillStyle=t.toString(),i&&e.text.trim().length?i.slice(0).reverse().forEach(function(t){o.ctx.shadowColor=t.color.toString(),o.ctx.shadowOffsetX=t.offsetX*o.options.scale,o.ctx.shadowOffsetY=t.offsetY*o.options.scale,o.ctx.shadowBlur=t.blur,o.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)}):o.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height),null!==r){var s=r.textDecorationColor||t;r.textDecorationLine.forEach(function(t){switch(t){case a.TEXT_DECORATION_LINE.UNDERLINE:var r=o.options.fontMetrics.getMetrics(n),i=r.baseline;o.rectangle(e.bounds.left,Math.round(e.bounds.top+i),e.bounds.width,1,s);break;case a.TEXT_DECORATION_LINE.OVERLINE:o.rectangle(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1,s);break;case a.TEXT_DECORATION_LINE.LINE_THROUGH:var u=o.options.fontMetrics.getMetrics(n),l=u.middle;o.rectangle(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1,s)}})}})}},{key:"resizeImage",value:function(e,t){if(e.width===t.width&&e.height===t.height)return e;var n=this.canvas.ownerDocument.createElement("canvas");return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),n}},{key:"setOpacity",value:function(e){this.ctx.globalAlpha=e}},{key:"transform",value:function(e,t,n,r){this.ctx.save(),this.ctx.translate(e,t),this.ctx.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.ctx.translate(-e,-t),r(),this.ctx.restore()}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n,i){r(this,e),this.enabled="undefined"!=typeof window&&t,this.start=i||Date.now(),this.id=n}return i(e,[{key:"child",value:function(t){return new e(this.enabled,t,this.start)}},{key:"log",value:function(){if(this.enabled&&window.console&&window.console.log){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}},{key:"error",value:function(){if(this.enabled&&window.console&&window.console.error){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Function.prototype.bind.call(window.console.error,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadding=t.PADDING_SIDES=void 0;var r=n(143),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=(t.PADDING_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},["top","right","bottom","left"]);t.parsePadding=function(e){return o.map(function(t){return new i.default(e.getPropertyValue("padding-"+t))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW_WRAP={NORMAL:0,BREAK_WORD:1};t.parseOverflowWrap=function(e){switch(e){case"break-word":return r.BREAK_WORD;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.POSITION={STATIC:0,RELATIVE:1,ABSOLUTE:2,FIXED:3,STICKY:4};t.parsePosition=function(e){switch(e){case"relative":return r.RELATIVE;case"absolute":return r.ABSOLUTE;case"fixed":return r.FIXED;case"sticky":return r.STICKY}return r.STATIC}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.TEXT_TRANSFORM={NONE:0,LOWERCASE:1,UPPERCASE:2,CAPITALIZE:3};t.parseTextTransform=function(e){switch(e){case"uppercase":return r.UPPERCASE;case"lowercase":return r.LOWERCASE;case"capitalize":return r.CAPITALIZE}return r.NONE}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reformatInputBounds=t.inlineSelectElement=t.inlineTextAreaElement=t.inlineInputElement=t.getInputBorderRadius=t.INPUT_BACKGROUND=t.INPUT_BORDERS=t.INPUT_COLOR=void 0;var i=n(241),o=r(i),a=n(200),s=n(321),u=n(909),l=r(u),c=n(239),h=r(c),d=n(122),f=r(d),p=n(143),m=r(p),g=(n(144),n(512),n(168)),_=(t.INPUT_COLOR=new f.default([42,42,42]),new f.default([165,165,165])),v=new f.default([222,222,222]),A={borderWidth:1,borderColor:_,borderStyle:s.BORDER_STYLE.SOLID},y=(t.INPUT_BORDERS=[A,A,A,A],t.INPUT_BACKGROUND={backgroundColor:v,backgroundImage:[],backgroundClip:a.BACKGROUND_CLIP.PADDING_BOX,backgroundOrigin:a.BACKGROUND_ORIGIN.PADDING_BOX},new m.default("50%")),b=[y,y],w=[b,b,b,b],x=new m.default("3px"),E=[x,x],C=[E,E,E,E],S=(t.getInputBorderRadius=function(e){return"radio"===e.type?w:C},t.inlineInputElement=function(e,t){if("radio"===e.type||"checkbox"===e.type){if(e.checked){var n=Math.min(t.bounds.width,t.bounds.height);t.childNodes.push("checkbox"===e.type?[new h.default(t.bounds.left+.39363*n,t.bounds.top+.79*n),new h.default(t.bounds.left+.16*n,t.bounds.top+.5549*n),new h.default(t.bounds.left+.27347*n,t.bounds.top+.44071*n),new h.default(t.bounds.left+.39694*n,t.bounds.top+.5649*n),new h.default(t.bounds.left+.72983*n,t.bounds.top+.23*n),new h.default(t.bounds.left+.84*n,t.bounds.top+.34085*n),new h.default(t.bounds.left+.39363*n,t.bounds.top+.79*n)]:new l.default(t.bounds.left+n/4,t.bounds.top+n/4,n/4))}}else S(T(e),e,t,!1)},t.inlineTextAreaElement=function(e,t){S(e.value,e,t,!0)},t.inlineSelectElement=function(e,t){var n=e.options[e.selectedIndex||0];S(n?n.text||"":"",e,t,!1)},t.reformatInputBounds=function(e){return e.width>e.height?(e.left+=(e.width-e.height)/2,e.width=e.height):e.width<e.height&&(e.top+=(e.height-e.width)/2,e.height=e.width),e},function(e,t,n,r){var i=t.ownerDocument.body;if(e.length>0&&i){var a=t.ownerDocument.createElement("html2canvaswrapper");(0,g.copyCSSStyles)(t.ownerDocument.defaultView.getComputedStyle(t,null),a),a.style.position="absolute",a.style.left=n.bounds.left+"px",a.style.top=n.bounds.top+"px",r||(a.style.whiteSpace="nowrap");var s=t.ownerDocument.createTextNode(e);a.appendChild(s),i.appendChild(a),n.childNodes.push(o.default.fromTextNode(s,n)),i.removeChild(a)}}),T=function(e){var t="password"===e.type?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextBounds=t.TextBounds=void 0;var i=n(144),o=n(320),a=n(242),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=n(514),l=t.TextBounds=function e(t,n){r(this,e),this.text=t,this.bounds=n},c=(t.parseTextBounds=function(e,t,n){for(var r=0!==t.style.letterSpacing,i=r?(0,u.toCodePoints)(e).map(function(e){return(0,u.fromCodePoint)(e)}):(0,u.breakWords)(e,t),a=i.length,d=n.parentNode?n.parentNode.ownerDocument.defaultView:null,f=d?d.pageXOffset:0,p=d?d.pageYOffset:0,m=[],g=0,_=0;_<a;_++){var v=i[_];if(t.style.textDecoration!==o.TEXT_DECORATION.NONE||v.trim().length>0)if(s.default.SUPPORT_RANGE_BOUNDS)m.push(new l(v,h(n,g,v.length,f,p)));else{var A=n.splitText(v.length);m.push(new l(v,c(n,f,p))),n=A}else s.default.SUPPORT_RANGE_BOUNDS||(n=n.splitText(v.length));g+=v.length}return m},function(e,t,n){var r=e.ownerDocument.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var o=e.parentNode;if(o){o.replaceChild(r,e);var a=(0,i.parseBounds)(r,t,n);return r.firstChild&&o.replaceChild(r.firstChild,r),a}return new i.Bounds(0,0,0,0)}),h=function(e,t,n,r,o){var a=e.ownerDocument.createRange();return a.setStart(e,t),a.setEnd(e,t+n),i.Bounds.fromClientRect(a.getBoundingClientRect(),r,o)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.element=t}return i(e,[{key:"render",value:function(e){var t=this;this.options=e,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(e.width)*e.scale,this.canvas.height=Math.floor(e.height)*e.scale,this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",e.logger.log("ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale);var n=a(Math.max(e.windowWidth,e.width)*e.scale,Math.max(e.windowHeight,e.height)*e.scale,e.scrollX*e.scale,e.scrollY*e.scale,this.element);return s(n).then(function(n){return e.backgroundColor&&(t.ctx.fillStyle=e.backgroundColor.toString(),t.ctx.fillRect(0,0,e.width*e.scale,e.height*e.scale)),t.ctx.drawImage(n,-e.x*e.scale,-e.y*e.scale),t.canvas})}}]),e}();t.default=o;var a=t.createForeignObjectSVG=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttributeNS(null,"width",e),a.setAttributeNS(null,"height",t),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n),s.setAttributeNS(null,"y",r),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(i),a},s=t.loadSerializedSVG=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.breakWords=t.fromCodePoint=t.toCodePoints=void 0;var r=n(905);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});var i=n(167),o=(function(e){e&&e.__esModule}(i),n(508));t.breakWords=function(e,t){for(var n=(0,r.LineBreaker)(e,{lineBreak:t.style.lineBreak,wordBreak:t.style.overflowWrap===o.OVERFLOW_WRAP.BREAK_WORD?"break-word":t.style.wordBreak}),i=[],a=void 0;!(a=n.next()).done;)i.push(a.value.slice());return i}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.FontMetrics=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(168);t.FontMetrics=function(){function e(t){r(this,e),this._data={},this._document=t}return i(e,[{key:"_parseMetrics",value:function(e){var t=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),i=this._document.body;if(!i)throw new Error("");t.style.visibility="hidden",t.style.fontFamily=e.fontFamily,t.style.fontSize=e.fontSize,t.style.margin="0",t.style.padding="0",i.appendChild(t),n.src=o.SMALL_IMAGE,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=e.fontFamily,r.style.fontSize=e.fontSize,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode("Hidden Text")),t.appendChild(r),t.appendChild(n);var a=n.offsetTop-r.offsetTop+2;t.removeChild(r),t.appendChild(this._document.createTextNode("Hidden Text")),t.style.lineHeight="normal",n.style.verticalAlign="super";var s=n.offsetTop-t.offsetTop+2;return i.removeChild(t),{baseline:a,middle:s}}},{key:"getMetrics",value:function(e){var t=e.fontFamily+" "+e.fontSize;return void 0===this._data[t]&&(this._data[t]=this._parseMetrics(e)),this._data[t]}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Proxy=void 0;var r=n(242),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.Proxy=function(e,t){if(!t.proxy)return Promise.reject(null);var n=t.proxy;return new Promise(function(r,o){var a=i.default.SUPPORT_CORS_XHR&&i.default.SUPPORT_RESPONSE_TYPE?"blob":"text",s=i.default.SUPPORT_CORS_XHR?new XMLHttpRequest:new XDomainRequest;if(s.onload=function(){if(s instanceof XMLHttpRequest)if(200===s.status)if("text"===a)r(s.response);else{var e=new FileReader;e.addEventListener("load",function(){return r(e.result)},!1),e.addEventListener("error",function(e){return o(e)},!1),e.readAsDataURL(s.response)}else o("");else r(s.responseText)},s.onerror=o,s.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+a),"text"!==a&&s instanceof XMLHttpRequest&&(s.responseType=a),t.imageTimeout){var u=t.imageTimeout;s.timeout=u,s.ontimeout=function(){return o("")}}s.send()})}},function(e,t,n){"use strict";var r=n(1),i=n(117),o=n(7),a=function(e,t){function n(){e()?u.resolve():i()>c?u.reject():setTimeout(n,a)}t=r(t,r.EMPTY_OBJECT);var a=r(t.pollInterval,1),s=r(t.timeout,5e3),u=o.defer(),l=i(),c=l+s;return n(),u.promise};e.exports=a},function(e,t,n){"use strict";var r=n(142),i=n(9),o=n(15),a=n(24),s=n(517),u=r.GridLayer.extend({initialize:function(e,t){this.imageryProvider=e,t.tileSize=256,this.errorEvent=new o,this.initialized=!1,this._usable=!1,this._delayedUpdate=void 0,this._zSubtract=0,this._previousCredits=[];var n=this;this._ipReady=s(function(){return n.imageryProvider.ready}),r.GridLayer.prototype.initialize.call(this,t)},createTile:function(e,t){var n=r.DomUtil.create("canvas","leaflet-tile"),o=this.getTileSize();n.width=o.x,n.height=o.y;var a=this;return this._ipReady.then(function(){var t=a.imageryProvider.tilingScheme.getNumberOfXTilesAtLevel(e.z);return a.imageryProvider._requestImage(i.mod(e.x,t),e.y,e.z,n)}).then(function(e){t(void 0,e)}),n},getFeaturePickingCoords:function(e,t,n){var r=new a(i.negativePiToPi(t),n,0),o=Math.round(e.getZoom()),u=this;return s(function(){return u.imageryProvider.ready}).then(function(){var e=u.imageryProvider.tilingScheme,t=e.positionToTileXY(r,o);return{x:t.x,y:t.y,level:o}})},pickFeatures:function(e,t,n,r,i){var o=this;return s(function(){return o.imageryProvider.ready}).then(function(){return o.imageryProvider.pickFeatures(e,t,n,r,i)})}});e.exports=u},function(e,t,n){"use strict";function r(e){for(var t=e.length,n=e[t-1].x*(e[0].y-e[t-2].y)+e[0].x*(e[1].y-e[t-1].y),r=1;r<=t-2;r++)n+=e[r].x*(e[r+1].y-e[r-1].y);if(isNaN(n))throw new o("Expected points of type {x:number, y:number}");return n>0?i.COUNTER_CLOCKWISE:i.CLOCKWISE}var i=n(155),o=n(3);e.exports=r},function(e,t,n){"use strict";function r(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(i,this,t),this.length=this._features.length}function i(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(o(n))}function o(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}var a=n(521);e.exports=r,r.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,t,this.extent,this._keys,this._values)}},function(e,t,n){"use strict";function r(e,t,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=o,e.readFields(i,this,t)}function i(e,t,n){1==e?t.id=n.readVarint():2==e?o(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function o(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}function a(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=s(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}function s(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)t=e[i],n=e[a],r+=(n.x-t.x)*(t.y+n.y);return r}var u=n(325);e.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,a=0,s=[];e.pos<n;){if(i<=0){var l=e.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)o+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new u(o,a));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=e.readSVarint(),o+=e.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},r.prototype.toGeoJSON=function(e,t,n){function i(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+c)/u;e[t]=[360*(n.x+l)/u-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var o,s,u=this.extent*Math.pow(2,n),l=this.extent*e,c=this.extent*t,h=this.loadGeometry(),d=r.types[this.type];switch(this.type){case 1:var f=[];for(o=0;o<h.length;o++)f[o]=h[o][0];h=f,i(h);break;case 2:for(o=0;o<h.length;o++)i(h[o]);break;case 3:for(h=a(h),o=0;o<h.length;o++)for(s=0;s<h[o].length;s++)i(h[o][s])}1===h.length?h=h[0]:d="Multi"+d;var p={type:"Feature",geometry:{type:d,coordinates:h},properties:this.properties};return"id"in this&&(p.id=this.id),p}},function(e,t,n){"use strict";function r(e){return i.createIfNeeded(e).fetchArrayBuffer()}var i=n(29);e.exports=r},function(e,t,n){var r;void 0!==(r=function(){"use strict";function e(e,t,n,r,i){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=n,this.yPoleOffset=r,this.ut1MinusUtc=i}return e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";function e(e,t,n){this.x=e,this.y=t,this.s=n}return e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(10),n(12),n(1),n(0),n(71)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(t,i,o){this.minimum=e.clone(n(t,e.ZERO)),this.maximum=e.clone(n(i,e.ZERO)),o=r(o)?e.clone(o):e.midpoint(this.minimum,this.maximum,new e),this.center=o}o.fromPoints=function(t,n){if(r(n)||(n=new o),!r(t)||0===t.length)return n.minimum=e.clone(e.ZERO,n.minimum),n.maximum=e.clone(e.ZERO,n.maximum),n.center=e.clone(e.ZERO,n.center),n;for(var i=t[0].x,a=t[0].y,s=t[0].z,u=t[0].x,l=t[0].y,c=t[0].z,h=t.length,d=1;d<h;d++){var f=t[d],p=f.x,m=f.y,g=f.z;i=Math.min(p,i),u=Math.max(p,u),a=Math.min(m,a),l=Math.max(m,l),s=Math.min(g,s),c=Math.max(g,c)}var _=n.minimum;_.x=i,_.y=a,_.z=s;var v=n.maximum;return v.x=u,v.y=l,v.z=c,n.center=e.midpoint(_,v,n.center),n},o.clone=function(t,n){if(r(t))return r(n)?(n.minimum=e.clone(t.minimum,n.minimum),n.maximum=e.clone(t.maximum,n.maximum),n.center=e.clone(t.center,n.center),n):new o(t.minimum,t.maximum,t.center)},o.equals=function(t,n){return t===n||r(t)&&r(n)&&e.equals(t.center,n.center)&&e.equals(t.minimum,n.minimum)&&e.equals(t.maximum,n.maximum)};var a=new e;return o.intersectPlane=function(t,n){a=e.subtract(t.maximum,t.minimum,a);var r=e.multiplyByScalar(a,.5,a),o=n.normal,s=r.x*Math.abs(o.x)+r.y*Math.abs(o.y)+r.z*Math.abs(o.z),u=e.dot(t.center,o)+n.distance;return u-s>0?i.INSIDE:u+s<0?i.OUTSIDE:i.INTERSECTING},o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.intersectPlane=function(e){return o.intersectPlane(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(24),n(0),n(3),n(72),n(9),n(120),n(16)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(t,n,r,i,o,s,u){var l=Math.cos(n),c=i*l,h=r*l,d=Math.sin(n),m=i*d,v=r*d;p=_.project(t,p),p=e.subtract(p,g,p);var A=a.fromRotation(n,f);p=a.multiplyByVector(A,p,p),p=e.add(p,g,p),t=_.unproject(p,t),s-=1,u-=1;var y=t.latitude,b=y+s*v,w=y-c*u,x=y-c*u+s*v,E=Math.max(y,b,w,x),C=Math.min(y,b,w,x),S=t.longitude,T=S+s*h,I=S+u*m,M=S+u*m+s*h;return{north:E,south:C,east:Math.max(S,T,I,M),west:Math.min(S,T,I,M),granYCos:c,granYSin:m,granXCos:h,granXSin:v,nwCorner:t}}var l=Math.cos,c=Math.sin,h=Math.sqrt,d={};d.computePosition=function(e,t,r,i,o,a,s){var u=t.radiiSquared,d=e.nwCorner,f=e.boundingRectangle,p=d.latitude-e.granYCos*i+o*e.granXSin,m=l(p),g=c(p),_=u.z*g,v=d.longitude+i*e.granYSin+o*e.granXCos,A=m*l(v),y=m*c(v),b=u.x*A,w=u.y*y,x=h(b*A+w*y+_*g);if(a.x=b/x,a.y=w/x,a.z=_/x,r){var E=e.stNwCorner;n(E)?(p=E.latitude-e.stGranYCos*i+o*e.stGranXSin,v=E.longitude+i*e.stGranYSin+o*e.stGranXCos,s.x=(v-e.stWest)*e.lonScalar,s.y=(p-e.stSouth)*e.latScalar):(s.x=(v-f.west)*e.lonScalar,s.y=(p-f.south)*e.latScalar)}};var f=new a,p=new e,m=new t,g=new e,_=new i;return d.computeOptions=function(e,t,n,r,i,a,l){var c,h,d,f,p,v=e.east,A=e.west,y=e.north,b=e.south,w=y-b;A>v?(p=o.TWO_PI-A+v,c=Math.ceil(p/t)+1,h=Math.ceil(w/t)+1,d=p/(c-1),f=w/(h-1)):(p=v-A,c=Math.ceil(p/t)+1,h=Math.ceil(w/t)+1,d=p/(c-1),f=w/(h-1));var x=s.northwest(e,a),E=s.center(e,m);0===n&&0===r||(E.longitude<x.longitude&&(E.longitude+=o.TWO_PI),g=_.project(E,g));var C=f,S=d,T=s.clone(e,i),I={granYCos:C,granYSin:0,granXCos:S,granXSin:0,nwCorner:x,boundingRectangle:T,width:c,height:h};if(0!==n){var M=u(x,n,d,f,E,c,h);y=M.north,b=M.south,v=M.east,A=M.west,I.granYCos=M.granYCos,I.granYSin=M.granYSin,I.granXCos=M.granXCos,I.granXSin=M.granXSin,T.north=y,T.south=b,T.east=v,T.west=A}if(0!==r){n-=r;var O=s.northwest(T,l),P=u(O,n,d,f,E,c,h);I.stGranYCos=P.granYCos,I.stGranXCos=P.granXCos,I.stGranYSin=P.granYSin,I.stGranXSin=P.granXSin,I.stNwCorner=O,I.stWest=P.west,I.stSouth=P.south}return I},d}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(9),n(20),n(34)],void 0!==(i=function(e,t,n,r){"use strict";function i(e){this._size=e.size,this._datatype=e.datatype,this.getValue=e.getValue}var o=new e;if("undefined"==typeof WebGLRenderingContext)return{};var a={};return a[r.FLOAT]="float",a[r.FLOAT_VEC2]="vec2",a[r.FLOAT_VEC3]="vec3",a[r.FLOAT_VEC4]="vec4",a[r.INT]="int",a[r.INT_VEC2]="ivec2",a[r.INT_VEC3]="ivec3",a[r.INT_VEC4]="ivec4",a[r.BOOL]="bool",a[r.BOOL_VEC2]="bvec2",a[r.BOOL_VEC3]="bvec3",a[r.BOOL_VEC4]="bvec4",a[r.FLOAT_MAT2]="mat2",a[r.FLOAT_MAT3]="mat3",a[r.FLOAT_MAT4]="mat4",a[r.SAMPLER_2D]="sampler2D",a[r.SAMPLER_CUBE]="samplerCube",i.prototype.getDeclaration=function(e){var t="uniform "+a[this._datatype]+" "+e,n=this._size;return t+=1===n?";":"["+n.toString()+"];"},{czm_viewport:new i({size:1,datatype:r.FLOAT_VEC4,getValue:function(e){return e.viewportCartesian4}}),czm_viewportOrthographic:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.viewportOrthographic}}),czm_viewportTransformation:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.viewportTransformation}}),czm_globeDepthTexture:new i({size:1,datatype:r.SAMPLER_2D,getValue:function(e){return e.globeDepthTexture}}),czm_model:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.model}}),czm_inverseModel:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.inverseModel}}),czm_view:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.view}}),czm_view3D:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.view3D}}),czm_viewRotation:new i({size:1,datatype:r.FLOAT_MAT3,getValue:function(e){return e.viewRotation}}),czm_viewRotation3D:new i({size:1,datatype:r.FLOAT_MAT3,getValue:function(e){return e.viewRotation3D}}),czm_inverseView:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.inverseView}}),czm_inverseView3D:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.inverseView3D}}),czm_inverseViewRotation:new i({size:1,datatype:r.FLOAT_MAT3,getValue:function(e){return e.inverseViewRotation}}),czm_inverseViewRotation3D:new i({size:1,datatype:r.FLOAT_MAT3,getValue:function(e){return e.inverseViewRotation3D}}),czm_projection:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.projection}}),czm_inverseProjection:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.inverseProjection}}),czm_infiniteProjection:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.infiniteProjection}}),czm_modelView:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.modelView}}),czm_modelView3D:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.modelView3D}}),czm_modelViewRelativeToEye:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.modelViewRelativeToEye}}),czm_inverseModelView:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.inverseModelView}}),czm_inverseModelView3D:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.inverseModelView3D}}),czm_viewProjection:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.viewProjection}}),czm_inverseViewProjection:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.inverseViewProjection}}),czm_modelViewProjection:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.modelViewProjection}}),czm_inverseModelViewProjection:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.inverseModelViewProjection}}),czm_modelViewProjectionRelativeToEye:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.modelViewProjectionRelativeToEye}}),czm_modelViewInfiniteProjection:new i({size:1,datatype:r.FLOAT_MAT4,getValue:function(e){return e.modelViewInfiniteProjection}}),czm_orthographicIn3D:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.orthographicIn3D?1:0}}),czm_normal:new i({size:1,datatype:r.FLOAT_MAT3,getValue:function(e){return e.normal}}),czm_normal3D:new i({size:1,datatype:r.FLOAT_MAT3,getValue:function(e){return e.normal3D}}),czm_inverseNormal:new i({size:1,datatype:r.FLOAT_MAT3,getValue:function(e){return e.inverseNormal}}),czm_inverseNormal3D:new i({size:1,datatype:r.FLOAT_MAT3,getValue:function(e){return e.inverseNormal3D}}),czm_eyeHeight2D:new i({size:1,datatype:r.FLOAT_VEC2,getValue:function(e){return e.eyeHeight2D}}),czm_entireFrustum:new i({size:1,datatype:r.FLOAT_VEC2,getValue:function(e){return e.entireFrustum}}),czm_currentFrustum:new i({size:1,datatype:r.FLOAT_VEC2,getValue:function(e){return e.currentFrustum}}),czm_frustumPlanes:new i({size:1,datatype:r.FLOAT_VEC4,getValue:function(e){return e.frustumPlanes}}),czm_log2FarDistance:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.log2FarDistance}}),czm_log2FarPlusOne:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.log2FarPlusOne}}),czm_log2NearDistance:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.log2NearDistance}}),czm_sunPositionWC:new i({size:1,datatype:r.FLOAT_VEC3,getValue:function(e){return e.sunPositionWC}}),czm_sunPositionColumbusView:new i({size:1,datatype:r.FLOAT_VEC3,getValue:function(e){return e.sunPositionColumbusView}}),czm_sunDirectionEC:new i({size:1,datatype:r.FLOAT_VEC3,getValue:function(e){return e.sunDirectionEC}}),czm_sunDirectionWC:new i({size:1,datatype:r.FLOAT_VEC3,getValue:function(e){return e.sunDirectionWC}}),czm_moonDirectionEC:new i({size:1,datatype:r.FLOAT_VEC3,getValue:function(e){return e.moonDirectionEC}}),czm_encodedCameraPositionMCHigh:new i({size:1,datatype:r.FLOAT_VEC3,getValue:function(e){return e.encodedCameraPositionMCHigh}}),czm_encodedCameraPositionMCLow:new i({size:1,datatype:r.FLOAT_VEC3,getValue:function(e){return e.encodedCameraPositionMCLow}}),czm_viewerPositionWC:new i({size:1,datatype:r.FLOAT_VEC3,getValue:function(e){return n.getTranslation(e.inverseView,o)}}),czm_frameNumber:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.frameState.frameNumber}}),czm_morphTime:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.frameState.morphTime}}),czm_sceneMode:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.frameState.mode}}),czm_pass:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.pass}}),czm_backgroundColor:new i({size:1,datatype:r.FLOAT_VEC4,getValue:function(e){return e.backgroundColor}}),czm_brdfLut:new i({size:1,datatype:r.SAMPLER_2D,getValue:function(e){return e.brdfLut}}),czm_environmentMap:new i({size:1,datatype:r.SAMPLER_CUBE,getValue:function(e){return e.environmentMap}}),czm_temeToPseudoFixed:new i({size:1,datatype:r.FLOAT_MAT3,getValue:function(e){return e.temeToPseudoFixedMatrix}}),czm_resolutionScale:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.resolutionScale}}),czm_fogDensity:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.fogDensity}}),czm_imagerySplitPosition:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.imagerySplitPosition}}),czm_geometricToleranceOverMeter:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.geometricToleranceOverMeter}}),czm_minimumDisableDepthTestDistance:new i({size:1,datatype:r.FLOAT,getValue:function(e){return e.minimumDisableDepthTestDistance}}),czm_invertClassificationColor:new i({size:1,datatype:r.FLOAT_VEC4,getValue:function(e){return e.invertClassificationColor}})}}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n#endif\n\n#ifdef VECTOR_TILE\nuniform vec4 u_highlightColor;\n#endif\n\nvoid main(void)\n{\n#ifdef VECTOR_TILE\n    gl_FragColor = u_highlightColor;\n#else\n    gl_FragColor = vec4(1.0);\n#endif\n    czm_writeDepthClampedToFarPlane();\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"varying vec4 v_color;\n\nvoid main()\n{\n    gl_FragColor = v_color;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(17),n(10),n(41),n(42),n(31),n(0),n(2),n(21),n(3),n(39),n(9),n(69),n(61),n(91),n(114),n(100),n(116),n(102)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_){"use strict";function v(t,r,i){if(this._attributes=r,this._numberOfInstances=i,0!==r.length){var o=A(r),a=t.floatingPointTexture,s=o===f.FLOAT&&!a,u=b(r,s),l=w(u,r,s),c=Math.floor(d.maximumTextureSize/l),h=Math.min(i,c),p=l*h,m=Math.ceil(i/h),g=1/p,_=.5*g,v=1/m,y=.5*v;this._textureDimensions=new e(p,m),this._textureStep=new n(g,_,v,y),this._pixelDatatype=s?f.UNSIGNED_BYTE:o,this._packFloats=s,this._offsets=u,this._stride=l,this._texture=void 0;var x=4*p*m;this._batchValues=o!==f.FLOAT||s?new Uint8Array(x):new Float32Array(x),this._batchValuesDirty=!1}}function A(e){for(var t=!1,n=e.length,r=0;r<n;++r)if(e[r].componentDatatype!==i.UNSIGNED_BYTE){t=!0;break}return t?f.FLOAT:f.UNSIGNED_BYTE}function y(r,i){var o=r[i].componentsPerAttribute;return 2===o?e:3===o?t:4===o?n:Number}function b(e,t){for(var n=new Array(e.length),r=0,o=e.length,a=0;a<o;++a){var s=e[a],u=s.componentDatatype;n[a]=r,u!==i.UNSIGNED_BYTE&&t?r+=4:++r}return n}function w(e,t,n){var r=e.length,o=e[r-1];return t[r-1].componentDatatype!==i.UNSIGNED_BYTE&&n?o+4:o+1}function x(e,t,r){var i=n.unpack(e,t,P),o=n.unpackFloat(i);i=n.unpack(e,t+4,P);var a=n.unpackFloat(i);i=n.unpack(e,t+8,P);var s=n.unpackFloat(i);i=n.unpack(e,t+12,P);var u=n.unpackFloat(i);return n.fromElements(o,a,s,u,r)}function E(e,t,r){var i=n.packFloat(e.x,P);n.pack(i,t,r),i=n.packFloat(e.y,i),n.pack(i,t,r+4),i=n.packFloat(e.z,i),n.pack(i,t,r+8),i=n.packFloat(e.w,i),n.pack(i,t,r+12)}function C(e,t){var n=e._textureDimensions;e._texture=new m({context:t,pixelFormat:h.RGBA,pixelDatatype:e._pixelDatatype,width:n.x,height:n.y,sampler:new p({minificationFilter:_.NEAREST,magnificationFilter:g.NEAREST}),flipY:!1})}function S(e){var t=e._textureDimensions;e._texture.copyFrom({width:t.x,height:t.y,arrayBufferView:e._batchValues})}function T(e){var t=e._stride;return 1===e._textureDimensions.y?"uniform vec4 batchTextureStep; \nvec2 computeSt(float batchId) \n{ \n    float stepX = batchTextureStep.x; \n    float centerX = batchTextureStep.y; \n    float numberOfAttributes = float("+t+"); \n    return vec2(centerX + (batchId * numberOfAttributes * stepX), 0.5); \n} \n":"uniform vec4 batchTextureStep; \nuniform vec2 batchTextureDimensions; \nvec2 computeSt(float batchId) \n{ \n    float stepX = batchTextureStep.x; \n    float centerX = batchTextureStep.y; \n    float stepY = batchTextureStep.z; \n    float centerY = batchTextureStep.w; \n    float numberOfAttributes = float("+t+"); \n    float xId = mod(batchId * numberOfAttributes, batchTextureDimensions.x); \n    float yId = floor(batchId * numberOfAttributes / batchTextureDimensions.x); \n    return vec2(centerX + (xId * stepX), centerY + (yId * stepY)); \n} \n"}function I(e){return 1===e?"float":"vec"+e}function M(e){return 1===e?".x":2===e?".xy":3===e?".xyz":""}function O(e,t){var n=e._attributes,r=n[t],o=r.componentsPerAttribute,a=r.functionName,s=I(o),u=M(o),l=e._offsets[t],c=s+" "+a+"(float batchId) \n{ \n    vec2 st = computeSt(batchId); \n    st.x += batchTextureStep.x * float("+l+"); \n";return e._packFloats&&r.componentDatatype!==f.UNSIGNED_BYTE?c+="vec4 textureValue; \ntextureValue.x = czm_unpackFloat(texture2D(batchTexture, st)); \ntextureValue.y = czm_unpackFloat(texture2D(batchTexture, st + vec2(batchTextureStep.x, 0.0))); \ntextureValue.z = czm_unpackFloat(texture2D(batchTexture, st + vec2(batchTextureStep.x * 2.0, 0.0))); \ntextureValue.w = czm_unpackFloat(texture2D(batchTexture, st + vec2(batchTextureStep.x * 3.0, 0.0))); \n":c+="    vec4 textureValue = texture2D(batchTexture, st); \n",c+="    "+s+" value = textureValue"+u+"; \n",e._pixelDatatype!==f.UNSIGNED_BYTE||r.componentDatatype!==i.UNSIGNED_BYTE||r.normalize?e._pixelDatatype===f.FLOAT&&r.componentDatatype===i.UNSIGNED_BYTE&&r.normalize&&(c+="value /= 255.0; \n"):c+="value *= 255.0; \n",c+="    return value; \n} \n"}a(v.prototype,{attributes:{get:function(){return this._attributes}},numberOfInstances:{get:function(){return this._numberOfInstances}}});var P=new n;if(l.supportsTypedArrays()){var D=new n;v.prototype.getBatchedAttribute=function(e,t,r){var i,a=this._attributes,s=this._offsets[t],u=this._stride,l=4*u*e+4*s;i=this._packFloats&&a[t].componentDatatype!==f.UNSIGNED_BYTE?x(this._batchValues,l,D):n.unpack(this._batchValues,l,D);var c=y(a,t);return o(c.fromCartesian4)?c.fromCartesian4(i,r):o(c.clone)?c.clone(i,r):i.x};var B=[void 0,void 0,new e,new t,new n],L=new n;return v.prototype.setBatchedAttribute=function(e,t,r){var i=this._attributes,a=B[i[t].componentsPerAttribute],s=this.getBatchedAttribute(e,t,a),u=y(this._attributes,t);if(!(o(u.equals)?u.equals(s,r):s===r)){var l=L;l.x=o(r.x)?r.x:r,l.y=o(r.y)?r.y:0,l.z=o(r.z)?r.z:0,l.w=o(r.w)?r.w:0;var c=this._offsets[t],h=this._stride,d=4*h*e+4*c;this._packFloats&&i[t].componentDatatype!==f.UNSIGNED_BYTE?E(l,this._batchValues,d):n.pack(l,this._batchValues,d),this._batchValuesDirty=!0}},v.prototype.update=function(e){o(this._texture)&&!this._batchValuesDirty||0===this._attributes.length||(this._batchValuesDirty=!1,o(this._texture)||C(this,e.context),S(this))},v.prototype.getUniformMapCallback=function(){var e=this;return function(t){return 0===e._attributes.length?t:r(t,{batchTexture:function(){return e._texture},batchTextureDimensions:function(){return e._textureDimensions},batchTextureStep:function(){return e._textureStep}})}},v.prototype.getVertexShaderCallback=function(){var e=this._attributes;if(0===e.length)return function(e){return e};var t="uniform sampler2D batchTexture; \n";t+=T(this)+"\n";for(var n=e.length,r=0;r<n;++r)t+=O(this,r);return function(e){var n=e.indexOf("void main"),r=e.substring(0,n),i=e.substring(n);return r+"\n"+t+"\n"+i}},v.prototype.isDestroyed=function(){return!1},v.prototype.destroy=function(){return this._texture=this._texture&&this._texture.destroy(),s(this)},v}}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(3)],void 0!==(i=function(e,t,n){"use strict";function r(t){t=e(t,e.EMPTY_OBJECT),this.componentDatatype=t.componentDatatype,this.componentsPerAttribute=t.componentsPerAttribute,this.normalize=e(t.normalize,!1),this.value=t.value}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"#ifdef VECTOR_TILE\nuniform vec4 u_highlightColor;\n#endif\n\nvarying vec2 v_st;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n\n    materialInput.s = v_st.s;\n    materialInput.st = v_st;\n    materialInput.str = vec3(v_st, 0.0);\n\n    czm_material material = czm_getMaterial(materialInput);\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#ifdef VECTOR_TILE\n    gl_FragColor *= u_highlightColor;\n#endif\n\n    czm_writeLogDepth();\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(10),n(1),n(0),n(59)],void 0!==(i=function(e,t,n,r){"use strict";var i=new e(1,1,1),o=e.ZERO,a=r.IDENTITY,s=function(n,s,u){this.translation=e.clone(t(n,o)),this.rotation=r.clone(t(s,a)),this.scale=e.clone(t(u,i))};return s.prototype.equals=function(t){return this===t||n(t)&&e.equals(this.translation,t.translation)&&r.equals(this.rotation,t.rotation)&&e.equals(this.scale,t.scale)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){return i.createIfNeeded(e).fetchBlob()}var i=n(29);e.exports=r},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./deflate":536,"./deflate.js":536,"./draco_decoder":537,"./draco_decoder.js":537,"./draco_wasm_wrapper":538,"./draco_wasm_wrapper.js":538,"./inflate":539,"./inflate.js":539};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=535},function(e,t,n){e.exports=function(){return new Worker(n.p+"c2107e8fe359a1184895.worker.js")}},function(e,t,n){e.exports=function(){return new Worker(n.p+"3a2454c491cfe6b26f39.worker.js")}},function(e,t,n){e.exports=function(){return new Worker(n.p+"c6de0cce80600665512e.worker.js")}},function(e,t,n){e.exports=function(){return new Worker(n.p+"ec0f9ba781fda5581d50.worker.js")}},function(e,t,n){"use strict";function r(e,t){return"number"==typeof e?o(e,t):"string"!=typeof e||/<[a-z][\s\S]*>/i.test(e)?e:i(e)}var i=n(1109),o=n(245);e.exports=r},function(e,t,n){"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function i(e){return Object.prototype.toString.call(e)}function o(e){return"[object String]"===i(e)}function a(e){return"[object Object]"===i(e)}function s(e){return"[object RegExp]"===i(e)}function u(e){return"[object Function]"===i(e)}function l(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function c(e){return Object.keys(e||{}).reduce(function(e,t){return e||v.hasOwnProperty(t)},!1)}function h(e){e.__index__=-1,e.__text_cache__=""}function d(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function f(){return function(e,t){t.normalize(e)}}function p(e){function t(e){return e.replace("%TLDS%",i.src_tlds)}function r(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}var i=e.re=n(1110)(e.__opts__),c=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||c.push(y),c.push(i.src_xn),i.src_tlds=c.join("|"),i.email_fuzzy=RegExp(t(i.tpl_email_fuzzy),"i"),i.link_fuzzy=RegExp(t(i.tpl_link_fuzzy),"i"),i.link_no_ip_fuzzy=RegExp(t(i.tpl_link_no_ip_fuzzy),"i"),i.host_fuzzy_test=RegExp(t(i.tpl_host_fuzzy_test),"i");var p=[];e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var n=e.__schemas__[t];if(null!==n){var i={validate:null,link:null};return e.__compiled__[t]=i,a(n)?(s(n.validate)?i.validate=d(n.validate):u(n.validate)?i.validate=n.validate:r(t,n),void(u(n.normalize)?i.normalize=n.normalize:n.normalize?r(t,n):i.normalize=f())):o(n)?void p.push(t):void r(t,n)}}),p.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:f()};var m=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(l).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+i.src_ZPCc+"))("+m+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+i.src_ZPCc+"))("+m+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),h(e)}function m(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function g(e,t){var n=new m(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function _(e,t){if(!(this instanceof _))return new _(e,t);t||c(e)&&(t=e,e={}),this.__opts__=r({},v,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},A,e),this.__compiled__={},this.__tlds__=b,this.__tlds_replaced__=!1,this.re={},p(this)}var v={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},A={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]?0:t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},y="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",b="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");_.prototype.add=function(e,t){return this.__schemas__[e]=t,p(this),this},_.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},_.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,i,o,a,s,u;if(this.re.schema_test.test(e))for(s=this.re.schema_search,s.lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),this.__index__>=0},_.prototype.pretest=function(e){return this.re.pretest.test(e)},_.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},_.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(g(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(g(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},_.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),p(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,p(this),this)},_.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},_.prototype.onCompile=function(){},e.exports=_},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t,n){var r=t;r.parse=function(){"use strict";var e,t,n,r,i,o,a={"'":"'",'"':'"',"\\":"\\","/":"/","\n":"",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=[" ","\t","\r","\n","\v","\f"," ","\ufeff"],u=function(e){return""===e?"EOF":"'"+e+"'"},l=function(r){var o=new SyntaxError;throw o.message=r+" at line "+t+" column "+n+" of the JSON5 data. Still to read: "+JSON.stringify(i.substring(e-1,e+19)),o.at=e,o.lineNumber=t,o.columnNumber=n,o},c=function(o){return o&&o!==r&&l("Expected "+u(o)+" instead of "+u(r)),r=i.charAt(e),e++,n++,("\n"===r||"\r"===r&&"\n"!==h())&&(t++,n=0),r},h=function(){return i.charAt(e)},d=function(){var e=r;for("_"!==r&&"$"!==r&&(r<"a"||r>"z")&&(r<"A"||r>"Z")&&l("Bad identifier as unquoted key");c()&&("_"===r||"$"===r||r>="a"&&r<="z"||r>="A"&&r<="Z"||r>="0"&&r<="9");)e+=r;return e},f=function(){var e,t="",n="",i=10;if("-"!==r&&"+"!==r||(t=r,c(r)),"I"===r)return e=A(),("number"!=typeof e||isNaN(e))&&l("Unexpected word for number"),"-"===t?-e:e;if("N"===r)return e=A(),isNaN(e)||l("expected word to be NaN"),e;switch("0"===r&&(n+=r,c(),"x"===r||"X"===r?(n+=r,c(),i=16):r>="0"&&r<="9"&&l("Octal literal")),i){case 10:for(;r>="0"&&r<="9";)n+=r,c();if("."===r)for(n+=".";c()&&r>="0"&&r<="9";)n+=r;if("e"===r||"E"===r)for(n+=r,c(),"-"!==r&&"+"!==r||(n+=r,c());r>="0"&&r<="9";)n+=r,c();break;case 16:for(;r>="0"&&r<="9"||r>="A"&&r<="F"||r>="a"&&r<="f";)n+=r,c()}if(e="-"===t?-n:+n,isFinite(e))return e;l("Bad number")},p=function(){var e,t,n,i,o="";if('"'===r||"'"===r)for(n=r;c();){if(r===n)return c(),o;if("\\"===r)if(c(),"u"===r){for(i=0,t=0;t<4&&(e=parseInt(c(),16),isFinite(e));t+=1)i=16*i+e;o+=String.fromCharCode(i)}else if("\r"===r)"\n"===h()&&c();else{if("string"!=typeof a[r])break;o+=a[r]}else{if("\n"===r)break;o+=r}}l("Bad string")},m=function(){"/"!==r&&l("Not an inline comment");do{if(c(),"\n"===r||"\r"===r)return void c()}while(r)},g=function(){"*"!==r&&l("Not a block comment");do{for(c();"*"===r;)if(c("*"),"/"===r)return void c("/")}while(r);l("Unterminated block comment")},_=function(){"/"!==r&&l("Not a comment"),c("/"),"/"===r?m():"*"===r?g():l("Unrecognized comment")},v=function(){for(;r;)if("/"===r)_();else{if(!(s.indexOf(r)>=0))return;c()}},A=function(){switch(r){case"t":return c("t"),c("r"),c("u"),c("e"),!0;case"f":return c("f"),c("a"),c("l"),c("s"),c("e"),!1;case"n":return c("n"),c("u"),c("l"),c("l"),null;case"I":return c("I"),c("n"),c("f"),c("i"),c("n"),c("i"),c("t"),c("y"),1/0;case"N":return c("N"),c("a"),c("N"),NaN}l("Unexpected "+u(r))},y=function(){var e=[];if("["===r)for(c("["),v();r;){if("]"===r)return c("]"),e;if(","===r?l("Missing array element"):e.push(o()),v(),","!==r)return c("]"),e;c(","),v()}l("Bad array")},b=function(){var e,t={};if("{"===r)for(c("{"),v();r;){if("}"===r)return c("}"),t;if(e='"'===r||"'"===r?p():d(),v(),c(":"),t[e]=o(),v(),","!==r)return c("}"),t;c(","),v()}l("Bad object")};return o=function(){switch(v(),r){case"{":return b();case"[":return y();case'"':case"'":return p();case"-":case"+":case".":return f();default:return r>="0"&&r<="9"?f():A()}},function(a,s){var u;return i=String(a),e=0,t=1,n=1,r=" ",u=o(),v(),r&&l("Syntax error"),"function"==typeof s?function e(t,n){var r,i,o=t[n];if(o&&"object"==typeof o)for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i=e(o,r),void 0!==i?o[r]=i:delete o[r]);return s.call(t,n,o)}({"":u},""):u}}(),r.stringify=function(e,t,n){function i(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"_"===e||"$"===e}function o(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||"_"===e||"$"===e}function a(e){if("string"!=typeof e)return!1;if(!o(e[0]))return!1;for(var t=1,n=e.length;t<n;){if(!i(e[t]))return!1;t++}return!0}function s(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function u(e){return"[object Date]"===Object.prototype.toString.call(e)}function l(e){for(var t=0;t<m.length;t++)if(m[t]===e)throw new TypeError("Converting circular structure to JSON")}function c(e,t,n){if(!e)return"";e.length>10&&(e=e.substring(0,10));for(var r=n?"":"\n",i=0;i<t;i++)r+=e;return r}function h(e){return g.lastIndex=0,g.test(e)?'"'+e.replace(g,function(e){var t=_[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function d(e,t,n){var r,i,o=f(e,t,n);switch(o&&!u(o)&&(o=o.valueOf()),typeof o){case"boolean":return o.toString();case"number":return isNaN(o)||!isFinite(o)?"null":o.toString();case"string":return h(o.toString());case"object":if(null===o)return"null";if(s(o)){l(o),r="[",m.push(o);for(var g=0;g<o.length;g++)i=d(o,g,!1),r+=c(p,m.length),r+=null===i||void 0===i?"null":i,g<o.length-1?r+=",":p&&(r+="\n");m.pop(),o.length&&(r+=c(p,m.length,!0)),r+="]"}else{l(o),r="{";var _=!1;m.push(o);for(var v in o)if(o.hasOwnProperty(v)){var A=d(o,v,!1);n=!1,void 0!==A&&null!==A&&(r+=c(p,m.length),_=!0,t=a(v)?v:h(v),r+=t+":"+(p?" ":"")+A+",")}m.pop(),r=_?r.substring(0,r.length-1)+c(p,m.length)+"}":"{}"}return r;default:return}}if(t&&"function"!=typeof t&&!s(t))throw new Error("Replacer must be a function or an array");var f=function(e,n,r){var i=e[n];return i&&i.toJSON&&"function"==typeof i.toJSON&&(i=i.toJSON()),"function"==typeof t?t.call(e,n,i):t?r||s(e)||t.indexOf(n)>=0?i:void 0:i};r.isWord=a;var p,m=[];n&&("string"==typeof n?p=n:"number"==typeof n&&n>=0&&(p=c(" ",n,!0)));var g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},v={"":e};return void 0===e?f(v,"",!0):d(v,"",!0)}},function(e,t,n){"use strict";function r(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?r[e]=Object(o.a)(arguments[1]):r[e]=Object(a.a)(arguments[1]):r[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?r.apply(t,e):r(e)});if("string"==typeof e){if(e in r)return r[e]}else"EPSG"in e?r["EPSG:"+e.EPSG]=e:"ESRI"in e?r["ESRI:"+e.ESRI]=e:"IAU2000"in e?r["IAU2000:"+e.IAU2000]=e:console.log(e);return}}var i=n(1113),o=n(547),a=n(548);Object(i.a)(r),t.a=r},function(e,t,n){"use strict";var r=n(35),i=n(1114),o=n(1115),a=n(247);t.a=function(e){var t,n,s,u={},l=e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e},{}),c={proj:"projName",datum:"datumCode",rf:function(e){u.rf=parseFloat(e)},lat_0:function(e){u.lat0=e*r.a},lat_1:function(e){u.lat1=e*r.a},lat_2:function(e){u.lat2=e*r.a},lat_ts:function(e){u.lat_ts=e*r.a},lon_0:function(e){u.long0=e*r.a},lon_1:function(e){u.long1=e*r.a},lon_2:function(e){u.long2=e*r.a},alpha:function(e){u.alpha=parseFloat(e)*r.a},lonc:function(e){u.longc=e*r.a},x_0:function(e){u.x0=parseFloat(e)},y_0:function(e){u.y0=parseFloat(e)},k_0:function(e){u.k0=parseFloat(e)},k:function(e){u.k0=parseFloat(e)},a:function(e){u.a=parseFloat(e)},b:function(e){u.b=parseFloat(e)},r_a:function(){u.R_A=!0},zone:function(e){u.zone=parseInt(e,10)},south:function(){u.utmSouth=!0},towgs84:function(e){u.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){u.to_meter=parseFloat(e)},units:function(e){u.units=e;var t=Object(a.a)(o.a,e);t&&(u.to_meter=t.to_meter)},from_greenwich:function(e){u.from_greenwich=e*r.a},pm:function(e){var t=Object(a.a)(i.a,e);u.from_greenwich=(t||parseFloat(e))*r.a},nadgrids:function(e){"@null"===e?u.datumCode="none":u.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(u.axis=e)}};for(t in l)n=l[t],t in c?(s=c[t],"function"==typeof s?s(n):u[s]=n):u[t]=n;return"string"==typeof u.datumCode&&"WGS84"!==u.datumCode&&(u.datumCode=u.datumCode.toLowerCase()),u}},function(e,t,n){"use strict";function r(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],3===t.length&&(e[n]=t[2](e[n])))}function i(e){return e*u}function o(e){function t(t){return t*(e.to_meter||1)}if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var n="",o=0,a=e.AXIS.length;o<a;++o){var s=e.AXIS[o],u=s[0].toLowerCase();-1!==u.indexOf("north")?n+="n":-1!==u.indexOf("south")?n+="s":-1!==u.indexOf("east")?n+="e":-1!==u.indexOf("west")&&(n+="w")}2===n.length&&(n+="u"),3===n.length&&(e.axis=n)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var l=e.GEOGCS;"GEOGCS"===e.type&&(l=e),l&&(l.DATUM?e.datumCode=l.DATUM.name.toLowerCase():e.datumCode=l.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),l.DATUM&&l.DATUM.SPHEROID&&(e.ellps=l.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=l.DATUM.SPHEROID.a,e.rf=parseFloat(l.DATUM.SPHEROID.rf,10)),l.DATUM&&l.DATUM.TOWGS84&&(e.datum_params=l.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",i],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",i],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",i],["lat0","latitude_of_origin",i],["lat0","standard_parallel_1",i],["lat1","standard_parallel_1",i],["lat2","standard_parallel_2",i],["azimuth","Azimuth"],["alpha","azimuth",i],["srsCode","name"]].forEach(function(t){return r(e,t)}),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=i(e.lat1>0?90:-90),e.lat_ts=e.lat1)}var a=n(1116),s=n(1117),u=.017453292519943295;t.a=function(e){var t=Object(a.a)(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var i={};return Object(s.a)(t,i),o(i),i}},function(e,t,n){"use strict";function r(e,t){return(e.datum.datum_type===o.e||e.datum.datum_type===o.f)&&"WGS84"!==t.datumCode||(t.datum.datum_type===o.e||t.datum.datum_type===o.f)&&"WGS84"!==e.datumCode}function i(e,t,n){var h;if(Array.isArray(n)&&(n=Object(l.a)(n)),Object(c.a)(n),e.datum&&t.datum&&r(e,t)&&(h=new u.a("WGS84"),n=i(e,h,n),e=h),"enu"!==e.axis&&(n=Object(s.a)(e,!1,n)),"longlat"===e.projName)n={x:n.x*o.a,y:n.y*o.a,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),!(n=e.inverse(n)))return;return e.from_greenwich&&(n.x+=e.from_greenwich),n=Object(a.a)(e.datum,t.datum,n),t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*o.i,y:n.y*o.i,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),"enu"!==t.axis?Object(s.a)(t,!0,n):n}t.a=i;var o=n(35),a=n(1126),s=n(1127),u=n(338),l=n(551),c=n(1128)},function(e,t,n){"use strict";function r(e,t){return e.datum_type===t.datum_type&&(!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===u.e?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==u.f||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]))}function i(e,t,n){var r,i,o,a,s=e.x,l=e.y,c=e.z?e.z:0;if(l<-u.d&&l>-1.001*u.d)l=-u.d;else if(l>u.d&&l<1.001*u.d)l=u.d;else{if(l<-u.d)return{x:-1/0,y:-1/0,z:e.z};if(l>u.d)return{x:1/0,y:1/0,z:e.z}}return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(l),a=Math.cos(l),o=i*i,r=n/Math.sqrt(1-t*o),{x:(r+c)*a*Math.cos(s),y:(r+c)*a*Math.sin(s),z:(r*(1-t)+c)*i}}function o(e,t,n,r){var i,o,a,s,l,c,h,d,f,p,m,g,_,v,A,y,b=e.x,w=e.y,x=e.z?e.z:0;if(i=Math.sqrt(b*b+w*w),o=Math.sqrt(b*b+w*w+x*x),i/n<1e-12){if(v=0,o/n<1e-12)return A=u.d,y=-r,{x:e.x,y:e.y,z:e.z}}else v=Math.atan2(w,b);a=x/o,s=i/o,l=1/Math.sqrt(1-t*(2-t)*s*s),d=s*(1-t)*l,f=a*l,_=0;do{_++,h=n/Math.sqrt(1-t*f*f),y=i*d+x*f-h*(1-t*f*f),c=t*h/(h+y),l=1/Math.sqrt(1-c*(2-c)*s*s),p=s*(1-c)*l,m=a*l,g=m*d-p*f,d=p,f=m}while(g*g>1e-24&&_<30);return A=Math.atan(m/Math.abs(p)),{x:v,y:A,z:y}}function a(e,t,n){if(t===u.e)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===u.f){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6];return{x:c*(e.x-l*e.y+s*e.z)+r,y:c*(l*e.x+e.y-a*e.z)+i,z:c*(-s*e.x+a*e.y+e.z)+o}}}function s(e,t,n){if(t===u.e)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===u.f){var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],h=(e.x-r)/c,d=(e.y-i)/c,f=(e.z-o)/c;return{x:h+l*d-s*f,y:-l*h+d+a*f,z:s*h-a*d+f}}}t.a=r,t.e=i,t.c=o,t.d=a,t.b=s;var u=n(35)},function(e,t,n){"use strict";t.a=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}},function(e,t,n){"use strict";function r(e,t){return t=t||5,h(u({lat:e[1],lon:e[0]}),t)}function i(e){var t=l(m(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function o(e){var t=l(m(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function a(e){return e*(Math.PI/180)}function s(e){return e/Math.PI*180}function u(e){var t,n,r,i,o,s,u,l,h,d=e.lat,f=e.lon,p=6378137,m=a(d),g=a(f);h=Math.floor((f+180)/6)+1,180===f&&(h=60),d>=56&&d<64&&f>=3&&f<12&&(h=32),d>=72&&d<84&&(f>=0&&f<9?h=31:f>=9&&f<21?h=33:f>=21&&f<33?h=35:f>=33&&f<42&&(h=37)),t=6*(h-1)-180+3,l=a(t),n=.006739496752268451,r=p/Math.sqrt(1-.00669438*Math.sin(m)*Math.sin(m)),i=Math.tan(m)*Math.tan(m),o=n*Math.cos(m)*Math.cos(m),s=Math.cos(m)*(g-l),u=p*(.9983242984503243*m-.002514607064228144*Math.sin(2*m)+2639046602129982e-21*Math.sin(4*m)-3.418046101696858e-9*Math.sin(6*m));var _=.9996*r*(s+(1-i+o)*s*s*s/6+(5-18*i+i*i+72*o-58*n)*s*s*s*s*s/120)+5e5,v=.9996*(u+r*Math.tan(m)*(s*s/2+(5-i+9*o+4*o*o)*s*s*s*s/24+(61-58*i+i*i+600*o-330*n)*s*s*s*s*s*s/720));return d<0&&(v+=1e7),{northing:Math.round(v),easting:Math.round(_),zoneNumber:h,zoneLetter:c(d)}}function l(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var o,a,u,c,h,d,f,p,m,g,_=6378137,v=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),A=n-5e5,y=t;r<"N"&&(y-=1e7),p=6*(i-1)-180+3,o=.006739496752268451,f=y/.9996,m=f/6367449.145945056,g=m+(3*v/2-27*v*v*v/32)*Math.sin(2*m)+(21*v*v/16-55*v*v*v*v/32)*Math.sin(4*m)+151*v*v*v/96*Math.sin(6*m),a=_/Math.sqrt(1-.00669438*Math.sin(g)*Math.sin(g)),u=Math.tan(g)*Math.tan(g),c=o*Math.cos(g)*Math.cos(g),h=.99330562*_/Math.pow(1-.00669438*Math.sin(g)*Math.sin(g),1.5),d=A/(.9996*a);var b=g-a*Math.tan(g)/h*(d*d/2-(5+3*u+10*c-4*c*c-9*o)*d*d*d*d/24+(61+90*u+298*c+45*u*u-252*o-3*c*c)*d*d*d*d*d*d/720);b=s(b);var w=(d-(1+2*u+c)*d*d*d/6+(5-2*c+28*u-3*c*c+8*o+24*u*u)*d*d*d*d*d/120)/Math.cos(g);w=p+s(w);var x;if(e.accuracy){var E=l({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});x={top:E.lat,right:E.lon,bottom:b,left:w}}else x={lat:b,lon:w};return x}function c(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function h(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+d(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function d(e,t,n){var r=f(n);return p(Math.floor(e/1e5),Math.floor(t/1e5)%20,r)}function f(e){var t=e%A;return 0===t&&(t=A),t}function p(e,t,n){var r=n-1,i=y.charCodeAt(r),o=b.charCodeAt(r),a=i+e-1,s=o+t,u=!1;return a>S&&(a=a-S+w-1,u=!0),(a===x||i<x&&a>x||(a>x||i<x)&&u)&&a++,(a===E||i<E&&a>E||(a>E||i<E)&&u)&&++a===x&&a++,a>S&&(a=a-S+w-1),s>C?(s=s-C+w-1,u=!0):u=!1,(s===x||o<x&&s>x||(s>x||o<x)&&u)&&s++,(s===E||o<E&&s>E||(s>E||o<E)&&u)&&++s===x&&s++,s>C&&(s=s-C+w-1),String.fromCharCode(a)+String.fromCharCode(s)}function m(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,i="",o=0;!/[A-Z]/.test(t=e.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+e;i+=t,o++}var a=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+e;var s=e.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+e;r=e.substring(o,o+=2);for(var u=f(a),l=g(r.charAt(0),u),c=_(r.charAt(1),u);c<v(s);)c+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var d,p,m,A,y,b=h/2,w=0,x=0;return b>0&&(d=1e5/Math.pow(10,b),p=e.substring(o,o+b),w=parseFloat(p)*d,m=e.substring(o+b),x=parseFloat(m)*d),A=w+l,y=x+c,{easting:A,northing:y,zoneLetter:s,zoneNumber:a,accuracy:d}}function g(e,t){for(var n=y.charCodeAt(t-1),r=1e5,i=!1;n!==e.charCodeAt(0);){if(n++,n===x&&n++,n===E&&n++,n>S){if(i)throw"Bad character: "+e;n=w,i=!0}r+=1e5}return r}function _(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var n=b.charCodeAt(t-1),r=0,i=!1;n!==e.charCodeAt(0);){if(n++,n===x&&n++,n===E&&n++,n>C){if(i)throw"Bad character: "+e;n=w,i=!0}r+=1e5}return r}function v(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}t.b=r,t.c=o;var A=6,y="AJSAJS",b="AFAFAF",w=65,x=73,E=79,C=86,S=90;t.a={forward:r,inverse:i,toPoint:o}},function(e,t,n){"use strict";var r=.01068115234375;t.a=function(e){var t=[];t[0]=1-e*(.25+e*(.046875+e*(.01953125+e*r))),t[1]=e*(.75-e*(.046875+e*(.01953125+e*r)));var n=e*e;return t[2]=n*(.46875-e*(.013020833333333334+.007120768229166667*e)),n*=e,t[3]=n*(.3645833333333333-.005696614583333333*e),t[4]=n*e*.3076171875,t}},function(e,t,n){"use strict";var r=n(339),i=n(35);t.a=function(e,t,n){for(var o=1/(1-t),a=e,s=20;s;--s){var u=Math.sin(a),l=1-t*u*u;if(l=(Object(r.a)(a,u,Math.cos(a),n)-e)*(l*Math.sqrt(l))*o,a-=l,Math.abs(l)<i.b)return a}return a}},function(e,t,n){"use strict";function r(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var r=Object(l.a)(this.cbg,this.lat0);this.Zb=-this.Qn*(r+Object(c.a)(this.gtu,2*r))}function i(e){var t=Object(d.a)(e.x-this.long0),n=e.y;n=Object(l.a)(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(t),a=Math.cos(t);n=Math.atan2(r,a*i),t=Math.atan2(o*i,Object(s.a)(r,i*a)),t=Object(u.a)(Math.tan(t));var c=Object(h.a)(this.gtu,2*n,2*t);n+=c[0],t+=c[1];var f,p;return Math.abs(t)<=2.623395162778?(f=this.a*(this.Qn*t)+this.x0,p=this.a*(this.Qn*n+this.Zb)+this.y0):(f=1/0,p=1/0),e.x=f,e.y=p,e}function o(e){var t=(e.x-this.x0)*(1/this.a),n=(e.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,t/=this.Qn;var r,i;if(Math.abs(t)<=2.623395162778){var o=Object(h.a)(this.utg,2*n,2*t);n+=o[0],t+=o[1],t=Math.atan(Object(a.a)(t));var u=Math.sin(n),c=Math.cos(n),f=Math.sin(t),p=Math.cos(t);n=Math.atan2(u*p,Object(s.a)(f,p*c)),t=Math.atan2(f,p*c),r=Object(d.a)(t+this.long0),i=Object(l.a)(this.cgb,n)}else r=1/0,i=1/0;return e.x=r,e.y=i,e}var a=n(556),s=n(340),u=n(1132),l=n(1134),c=n(1135),h=n(1136),d=n(45),f=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"];t.a={init:r,forward:i,inverse:o,names:f}},function(e,t,n){"use strict";t.a=function(e){var t=Math.exp(e);return t=(t-1/t)/2}},function(e,t,n){"use strict";var r={"EPSG:4326":"EPSG:4326",WGS84:"WGS84","EPSG:4269":"EPSG:4269","EPSG:3857":"EPSG:3857","EPSG:3785":"EPSG:3785",GOOGLE:"GOOGLE","EPSG:900913":"EPSG:900913","EPSG:102113":"EPSG:102113","EPSG:3006":"+proj=utm +zone=33 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:4283":"+proj=longlat +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +no_defs","EPSG:3577":"+proj=aea +lat_1=-18 +lat_2=-36 +lat_0=0 +lon_0=132 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:3107":"+proj=lcc +lat_1=-28 +lat_2=-36 +lat_0=-32 +lon_0=135 +x_0=1000000 +y_0=2000000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:3112":"+proj=lcc +lat_1=-18 +lat_2=-36 +lat_0=0 +lon_0=134 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:28349":"+proj=utm +zone=49 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:28350":"+proj=utm +zone=50 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:28351":"+proj=utm +zone=51 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:28352":"+proj=utm +zone=52 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:28353":"+proj=utm +zone=53 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:28354":"+proj=utm +zone=54 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:28355":"+proj=utm +zone=55 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:28356":"+proj=utm +zone=56 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:28357":"+proj=utm +zone=57 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:28358":"+proj=utm +zone=58 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs","EPSG:20248":"+proj=utm +zone=48 +south +ellps=aust_SA +units=m +no_defs","EPSG:20249":"+proj=utm +zone=49 +south +ellps=aust_SA +units=m +no_defs","EPSG:20250":"+proj=utm +zone=50 +south +ellps=aust_SA +units=m +no_defs","EPSG:20251":"+proj=utm +zone=51 +south +ellps=aust_SA +units=m +no_defs","EPSG:20252":"+proj=utm +zone=52 +south +ellps=aust_SA +units=m +no_defs","EPSG:20253":"+proj=utm +zone=53 +south +ellps=aust_SA +units=m +no_defs","EPSG:20254":"+proj=utm +zone=54 +south +ellps=aust_SA +units=m +no_defs","EPSG:20255":"+proj=utm +zone=55 +south +ellps=aust_SA +units=m +no_defs","EPSG:20256":"+proj=utm +zone=56 +south +ellps=aust_SA +units=m +no_defs","EPSG:20257":"+proj=utm +zone=57 +south +ellps=aust_SA +units=m +no_defs","EPSG:20258":"+proj=utm +zone=58 +south +ellps=aust_SA +units=m +no_defs","EPSG:102100":"EPSG:3857","EPSG:27700":"+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +towgs84=446.448,-125.157,542.06,0.15,0.247,0.842,-20.489 +units=m +no_defs"};e.exports=r},function(e,t,n){var r,i;r=[n(12),n(31),n(1),n(0),n(21),n(3),n(9),n(93),n(64),n(115)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l){"use strict";function c(e,i,o,a){function s(e,n){return t.getSizeInBytes(n.componentDatatype)-t.getSizeInBytes(e.componentDatatype)}var u=c._verifyAttributes(i);o=n(o,0);for(var l,h,d=[],f={},p=u.length,m=0;m<p;++m){var g=u[m];g.vertexBuffer?d.push(g):(h=g.usage,l=f[h],r(l)||(l=f[h]=[]),l.push(g))}this._allBuffers=[];for(h in f)if(f.hasOwnProperty(h)){l=f[h],l.sort(s);var _=c._vertexSizeInBytes(l),v=l[0].usage,A={vertexSizeInBytes:_,vertexBuffer:void 0,usage:v,needsCommit:!1,arrayBuffer:void 0,arrayViews:c._createArrayViews(l,_)};this._allBuffers.push(A)}this._size=0,this._instanced=n(a,!1),this._precreated=d,this._context=e,this.writers=void 0,this.va=void 0,this.resize(o)}function h(e,t){if(t.needsCommit&&t.vertexSizeInBytes>0){t.needsCommit=!1;var n=t.vertexBuffer,i=e._size*t.vertexSizeInBytes,o=r(n);if(!o||n.sizeInBytes<i)return o&&n.destroy(),t.vertexBuffer=s.createVertexBuffer({context:e._context,typedArray:t.arrayBuffer,usage:t.usage}),t.vertexBuffer.vertexArrayDestroyable=!1,!0;t.vertexBuffer.copyFromArrayView(t.arrayBuffer)}return!1}function d(e,t,n){if(e.needsCommit&&e.vertexSizeInBytes>0){var r=e.vertexSizeInBytes*t,i=e.vertexSizeInBytes*n;e.vertexBuffer.copyFromArrayView(new Uint8Array(e.arrayBuffer,r,i),r)}}function f(e){var t=e.va;if(r(t)){for(var n=t.length,i=0;i<n;++i)t[i].va.destroy();e.va=void 0}}c._verifyAttributes=function(e){for(var r=[],i=0;i<e.length;++i){var o=e[i],a={index:n(o.index,i),enabled:n(o.enabled,!0),componentsPerAttribute:o.componentsPerAttribute,componentDatatype:n(o.componentDatatype,t.FLOAT),normalize:n(o.normalize,!1),vertexBuffer:o.vertexBuffer,usage:n(o.usage,u.STATIC_DRAW)};r.push(a)}for(var s=new Array(r.length),l=0;l<r.length;++l){s[r[l].index]=!0}return r},c._vertexSizeInBytes=function(e){for(var n=0,r=e.length,i=0;i<r;++i){var o=e[i];n+=o.componentsPerAttribute*t.getSizeInBytes(o.componentDatatype)}var a=r>0?t.getSizeInBytes(e[0].componentDatatype):0,s=a>0?n%a:0;return n+=0===s?0:a-s},c._createArrayViews=function(e,n){for(var r=[],i=0,o=e.length,a=0;a<o;++a){var s=e[a],u=s.componentDatatype;r.push({index:s.index,enabled:s.enabled,componentsPerAttribute:s.componentsPerAttribute,componentDatatype:u,normalize:s.normalize,offsetInBytes:i,vertexSizeInComponentType:n/t.getSizeInBytes(u),view:void 0}),i+=s.componentsPerAttribute*t.getSizeInBytes(u)}return r},c.prototype.resize=function(e){this._size=e;var t=this._allBuffers;this.writers=[];for(var n=0,r=t.length;n<r;++n){var i=t[n];c._resize(i,this._size),c._appendWriters(this.writers,i)}f(this)},c._resize=function(e,n){if(e.vertexSizeInBytes>0){var i=new ArrayBuffer(n*e.vertexSizeInBytes);if(r(e.arrayBuffer))for(var o=new Uint8Array(i),a=new Uint8Array(e.arrayBuffer),s=a.length,u=0;u<s;++u)o[u]=a[u];for(var l=e.arrayViews,c=l.length,h=0;h<c;++h){var d=l[h];d.view=t.createArrayBufferView(d.componentDatatype,i,d.offsetInBytes)}e.arrayBuffer=i}};var p=[function(e,t,n){return function(r,i){t[r*n]=i,e.needsCommit=!0}},function(e,t,n){return function(r,i,o){var a=r*n;t[a]=i,t[a+1]=o,e.needsCommit=!0}},function(e,t,n){return function(r,i,o,a){var s=r*n;t[s]=i,t[s+1]=o,t[s+2]=a,e.needsCommit=!0}},function(e,t,n){return function(r,i,o,a,s){var u=r*n;t[u]=i,t[u+1]=o,t[u+2]=a,t[u+3]=s,e.needsCommit=!0}}];return c._appendWriters=function(e,t){for(var n=t.arrayViews,r=n.length,i=0;i<r;++i){var o=n[i];e[o.index]=p[o.componentsPerAttribute-1](t,o.view,o.vertexSizeInComponentType)}},c.prototype.commit=function(e){var t,n,i,o=!1,s=this._allBuffers;for(n=0,i=s.length;n<i;++n)t=s[n],o=h(this,t)||o;if(o||!r(this.va)){f(this);for(var u=this.va=[],d=r(e)?Math.ceil(this._size/(a.SIXTY_FOUR_KILOBYTES-1)):1,p=0;p<d;++p){var m=[];for(n=0,i=s.length;n<i;++n){t=s[n];var g=p*(t.vertexSizeInBytes*(a.SIXTY_FOUR_KILOBYTES-1));c._appendAttributes(m,t,g,this._instanced)}m=m.concat(this._precreated),u.push({va:new l({context:this._context,attributes:m,indexBuffer:e}),indicesCount:1.5*(p!==d-1?a.SIXTY_FOUR_KILOBYTES-1:this._size%(a.SIXTY_FOUR_KILOBYTES-1))})}}},c._appendAttributes=function(e,t,n,r){for(var i=t.arrayViews,o=i.length,a=0;a<o;++a){var s=i[a];e.push({index:s.index,enabled:s.enabled,componentsPerAttribute:s.componentsPerAttribute,componentDatatype:s.componentDatatype,normalize:s.normalize,vertexBuffer:t.vertexBuffer,offsetInBytes:n+s.offsetInBytes,strideInBytes:t.vertexSizeInBytes,instanceDivisor:r?1:0})}},c.prototype.subCommit=function(e,t){for(var n=this._allBuffers,r=0,i=n.length;r<i;++r)d(n[r],e,t)},c.prototype.endSubCommits=function(){for(var e=this._allBuffers,t=0,n=e.length;t<n;++t)e[t].needsCommit=!1},c.prototype.isDestroyed=function(){return!1},c.prototype.destroy=function(){for(var e=this._allBuffers,t=0,n=e.length;t<n;++t){var r=e[t];r.vertexBuffer=r.vertexBuffer&&r.vertexBuffer.destroy()}return f(this),i(this)},c}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(99),n(17),n(101),n(1),n(0),n(2),n(21),n(3),n(69),n(29),n(26),n(422),n(100),n(7)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f){"use strict";function p(e,n,i,o,a){this.bottomLeft=r(e,t.ZERO),this.topRight=r(n,t.ZERO),this.childNode1=i,this.childNode2=o,this.imageIndex=a}function m(e){e=r(e,r.EMPTY_OBJECT);var t=r(e.borderWidthInPixels,1),i=r(e.initialSize,A);this._context=e.context,this._pixelFormat=r(e.pixelFormat,u.RGBA),this._borderWidthInPixels=t,this._textureCoordinates=[],this._guid=n(),this._idHash={},this._initialSize=i,this._root=void 0}function g(e,n){var r=e._context,o=e.numberOfImages,a=e._borderWidthInPixels;if(o>0){for(var s=e._texture.width,u=e._texture.height,l=2*(s+n.width+a),c=2*(u+n.height+a),f=s/l,m=u/c,g=new p(new t(s+a,a),new t(l,u)),_=new p(new t,new t(l,u),e._root,g),v=new p(new t(a,u+a),new t(l,c)),A=new p(new t,new t(l,c),_,v),y=0;y<e._textureCoordinates.length;y++){var b=e._textureCoordinates[y];i(b)&&(b.x*=f,b.y*=m,b.width*=f,b.height*=m)}var w=new d({context:e._context,width:l,height:c,pixelFormat:e._pixelFormat}),x=new h({context:r,colorTextures:[e._texture],destroyAttachments:!1});x._bind(),w.copyFromFramebuffer(0,0,0,0,l,c),x._unBind(),x.destroy(),e._texture=e._texture&&e._texture.destroy(),e._texture=w,e._root=A}else{var E=2*(n.width+2*a),C=2*(n.height+2*a);E<e._initialSize.x&&(E=e._initialSize.x),C<e._initialSize.y&&(C=e._initialSize.y),e._texture=e._texture&&e._texture.destroy(),e._texture=new d({context:e._context,width:E,height:C,pixelFormat:e._pixelFormat}),e._root=new p(new t(a,a),new t(E,C))}}function _(e,n,r){if(i(n)){if(!i(n.childNode1)&&!i(n.childNode2)){if(i(n.imageIndex))return;var o=n.topRight.x-n.bottomLeft.x,a=n.topRight.y-n.bottomLeft.y,s=o-r.width,u=a-r.height;if(s<0||u<0)return;if(0===s&&0===u)return n;if(s>u){n.childNode1=new p(new t(n.bottomLeft.x,n.bottomLeft.y),new t(n.bottomLeft.x+r.width,n.topRight.y));var l=n.bottomLeft.x+r.width+e._borderWidthInPixels;l<n.topRight.x&&(n.childNode2=new p(new t(l,n.bottomLeft.y),new t(n.topRight.x,n.topRight.y)))}else{n.childNode1=new p(new t(n.bottomLeft.x,n.bottomLeft.y),new t(n.topRight.x,n.bottomLeft.y+r.height));var c=n.bottomLeft.y+r.height+e._borderWidthInPixels;c<n.topRight.y&&(n.childNode2=new p(new t(n.bottomLeft.x,c),new t(n.topRight.x,n.topRight.y)))}return _(e,n.childNode1,r)}return _(e,n.childNode1,r)||_(e,n.childNode2,r)}}function v(t,r,o){var a=_(t,t._root,r);if(i(a)){a.imageIndex=o;var s=t._texture.width,u=t._texture.height,l=a.topRight.x-a.bottomLeft.x,c=a.topRight.y-a.bottomLeft.y,h=a.bottomLeft.x/s,d=a.bottomLeft.y/u,f=l/s,p=c/u;t._textureCoordinates[o]=new e(h,d,f,p),t._texture.copyFrom(r,a.bottomLeft.x,a.bottomLeft.y)}else g(t,r),v(t,r,o);t._guid=n()}var A=new t(16,16);return o(m.prototype,{borderWidthInPixels:{get:function(){return this._borderWidthInPixels}},textureCoordinates:{get:function(){return this._textureCoordinates}},texture:{get:function(){return i(this._texture)||(this._texture=new d({context:this._context,width:this._initialSize.x,height:this._initialSize.y,pixelFormat:this._pixelFormat})),this._texture}},numberOfImages:{get:function(){return this._textureCoordinates.length}},guid:{get:function(){return this._guid}}}),m.prototype.addImage=function(e,t){var n=this._idHash[e];if(i(n))return n;if("function"==typeof t)t=t(e);else if("string"==typeof t||t instanceof l){var r=l.createIfNeeded(t);t=r.fetchImage()}var o=this;return n=f(t,function(e){if(o.isDestroyed())return-1;var t=o.numberOfImages;return v(o,e,t),t}),this._idHash[e]=n,n},m.prototype.addSubRegion=function(t,r){var o=this._idHash[t];if(!i(o))throw new c('image with id "'+t+'" not found in the atlas.');var a=this;return f(o,function(t){if(-1===t)return-1;var i=a._texture.width,o=a._texture.height,s=a.numberOfImages,u=a._textureCoordinates[t],l=u.x+r.x/i,c=u.y+r.y/o,h=r.width/i,d=r.height/o;return a._textureCoordinates.push(new e(l,c,h,d)),a._guid=n(),s})},m.prototype.isDestroyed=function(){return!1},m.prototype.destroy=function(){return this._texture=this._texture&&this._texture.destroy(),a(this)},m}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(99),n(17),n(10),n(25),n(1),n(0),n(2),n(3),n(154),n(6),n(218),n(344),n(153),n(158),n(297),n(132)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m){"use strict";function g(e){e._rebindAllGlyphs||e._repositionAllGlyphs||e._labelCollection._labelsToUpdate.push(e),e._rebindAllGlyphs=!0}function _(e){e._rebindAllGlyphs||e._repositionAllGlyphs||e._labelCollection._labelsToUpdate.push(e),e._repositionAllGlyphs=!0}function v(e,a){e=i(e,i.EMPTY_OBJECT);var s=e.translucencyByDistance,l=e.pixelOffsetScaleByDistance,h=e.scaleByDistance,g=e.distanceDisplayCondition;o(s)&&(s=c.clone(s)),o(l)&&(l=c.clone(l)),o(h)&&(h=c.clone(h)),o(g)&&(g=u.clone(g)),this._renderedText=void 0,this._text=void 0,this._show=i(e.show,!0),this._font=i(e.font,"30px sans-serif"),this._fillColor=r.clone(i(e.fillColor,r.WHITE)),this._outlineColor=r.clone(i(e.outlineColor,r.BLACK)),this._outlineWidth=i(e.outlineWidth,1),this._showBackground=i(e.showBackground,!1),this._backgroundColor=i(e.backgroundColor,new r(.165,.165,.165,.8)),this._backgroundPadding=i(e.backgroundPadding,new t(7,5)),this._style=i(e.style,p.FILL),this._verticalOrigin=i(e.verticalOrigin,m.BASELINE),this._horizontalOrigin=i(e.horizontalOrigin,f.LEFT),this._pixelOffset=t.clone(i(e.pixelOffset,t.ZERO)),this._eyeOffset=n.clone(i(e.eyeOffset,n.ZERO)),this._position=n.clone(i(e.position,n.ZERO)),this._scale=i(e.scale,1),this._id=e.id,this._translucencyByDistance=s,this._pixelOffsetScaleByDistance=l,this._scaleByDistance=h,this._heightReference=i(e.heightReference,d.NONE),this._distanceDisplayCondition=g,this._disableDepthTestDistance=e.disableDepthTestDistance,this._labelCollection=a,this._glyphs=[],this._backgroundBillboard=void 0,this._batchIndex=void 0,this._rebindAllGlyphs=!0,this._repositionAllGlyphs=!0,this._actualClampedPosition=void 0,this._removeCallbackFunc=void 0,this._mode=void 0,this._clusterShow=!0,this.text=i(e.text,""),this._updateClamping()}function A(e,t){for(var n=/[a-zA-Z0-9]/,r=/[()[\]{}<>]/,i=[],o="",a=E.LTR,s="",u=e.length,l=0;l<u;++l){var c=e.charAt(l);s=t.test(c)?E.RTL:n.test(c)?E.LTR:r.test(c)?E.BRACKETS:E.WEAK,0===l&&(a=s),a===s&&s!==E.BRACKETS?o+=c:(""!==o&&i.push({Type:a,Word:o}),a=s,o=c)}return i.push({Type:s,Word:o}),i}function y(e){return e.split("").reverse().join("")}function b(e,t,n){return e.slice(0,t)+n+e.slice(t)}function w(e){switch(e){case"(":return")";case")":return"(";case"[":return"]";case"]":return"[";case"{":return"}";case"}":return"{";case"<":return">";case">":return"<"}}function x(e){for(var t=e.split("\n"),n="",r=0;r<t.length;r++){for(var i=t[r],o=C.test(i.charAt(0)),a=A(i,C),s=0,u="",l=0;l<a.length;++l){var c=a[l],h=c.Type===E.BRACKETS?w(c.Word):c.Word;o?c.Type===E.RTL?(u=y(c.Word)+u,s=0):c.Type===E.LTR?(u=b(u,s,c.Word),s+=c.Word.length):c.Type!==E.WEAK&&c.Type!==E.BRACKETS||(c.Type===E.WEAK&&a[l-1].Type===E.BRACKETS?u=y(c.Word)+u:a[l-1].Type===E.RTL?(u=h+u,s=0):a.length>l+1?a[l+1].Type===E.RTL?(u=h+u,s=0):(u=b(u,s,c.Word),s+=c.Word.length):u=b(u,0,h)):c.Type===E.RTL?u=b(u,s,y(c.Word)):c.Type===E.LTR?(u+=c.Word,s=u.length):c.Type!==E.WEAK&&c.Type!==E.BRACKETS||(l>0&&a[l-1].Type===E.RTL?a.length>l+1?a[l+1].Type===E.RTL?u=b(u,s,h):(u+=c.Word,s=u.length):u+=c.Word:(u+=c.Word,s=u.length))}n+=u,r<t.length-1&&(n+="\n")}return n}var E=l({LTR:0,RTL:1,WEAK:2,BRACKETS:3});a(v.prototype,{show:{get:function(){return this._show},set:function(e){if(this._show!==e){this._show=e;for(var t=this._glyphs,n=0,r=t.length;n<r;n++){var i=t[n].billboard;o(i)&&(i.show=e)}var a=this._backgroundBillboard;o(a)&&(a.show=e)}}},position:{get:function(){return this._position},set:function(e){var t=this._position;if(!n.equals(t,e)){n.clone(e,t);for(var r=this._glyphs,i=0,a=r.length;i<a;i++){var s=r[i].billboard;o(s)&&(s.position=e)}var u=this._backgroundBillboard;o(u)&&(u.position=e),this._updateClamping()}}},heightReference:{get:function(){return this._heightReference},set:function(e){if(e!==this._heightReference){this._heightReference=e;for(var t=this._glyphs,n=0,r=t.length;n<r;n++){var i=t[n].billboard;o(i)&&(i.heightReference=e)}var a=this._backgroundBillboard;o(a)&&(a.heightReference=e),_(this),this._updateClamping()}}},text:{get:function(){return this._text},set:function(e){this._text!==e&&(this._text=e,this._renderedText=v.enableRightToLeftDetection?x(e):e,g(this))}},font:{get:function(){return this._font},set:function(e){this._font!==e&&(this._font=e,g(this))}},fillColor:{get:function(){return this._fillColor},set:function(e){var t=this._fillColor;r.equals(t,e)||(r.clone(e,t),g(this))}},outlineColor:{get:function(){return this._outlineColor},set:function(e){var t=this._outlineColor;r.equals(t,e)||(r.clone(e,t),g(this))}},outlineWidth:{get:function(){return this._outlineWidth},set:function(e){this._outlineWidth!==e&&(this._outlineWidth=e,g(this))}},showBackground:{get:function(){return this._showBackground},set:function(e){this._showBackground!==e&&(this._showBackground=e,g(this))}},backgroundColor:{get:function(){return this._backgroundColor},set:function(e){var t=this._backgroundColor;if(!r.equals(t,e)){r.clone(e,t);var n=this._backgroundBillboard;o(n)&&(n.color=t)}}},backgroundPadding:{get:function(){return this._backgroundPadding},set:function(e){var n=this._backgroundPadding;t.equals(n,e)||(t.clone(e,n),_(this))}},style:{get:function(){return this._style},set:function(e){this._style!==e&&(this._style=e,g(this))}},pixelOffset:{get:function(){return this._pixelOffset},set:function(e){var n=this._pixelOffset;if(!t.equals(n,e)){t.clone(e,n);for(var r=this._glyphs,i=0,a=r.length;i<a;i++){var s=r[i];o(s.billboard)&&(s.billboard.pixelOffset=e)}var u=this._backgroundBillboard;o(u)&&(u.pixelOffset=e)}}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(e){var t=this._translucencyByDistance;if(!c.equals(t,e)){this._translucencyByDistance=c.clone(e,t);for(var n=this._glyphs,r=0,i=n.length;r<i;r++){var a=n[r];o(a.billboard)&&(a.billboard.translucencyByDistance=e)}var s=this._backgroundBillboard;o(s)&&(s.translucencyByDistance=e)}}},pixelOffsetScaleByDistance:{get:function(){return this._pixelOffsetScaleByDistance},set:function(e){var t=this._pixelOffsetScaleByDistance;if(!c.equals(t,e)){this._pixelOffsetScaleByDistance=c.clone(e,t);for(var n=this._glyphs,r=0,i=n.length;r<i;r++){var a=n[r];o(a.billboard)&&(a.billboard.pixelOffsetScaleByDistance=e)}var s=this._backgroundBillboard;o(s)&&(s.pixelOffsetScaleByDistance=e)}}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(e){var t=this._scaleByDistance;if(!c.equals(t,e)){this._scaleByDistance=c.clone(e,t);for(var n=this._glyphs,r=0,i=n.length;r<i;r++){var a=n[r];o(a.billboard)&&(a.billboard.scaleByDistance=e)}var s=this._backgroundBillboard;o(s)&&(s.scaleByDistance=e)}}},eyeOffset:{get:function(){return this._eyeOffset},set:function(e){var t=this._eyeOffset;if(!n.equals(t,e)){n.clone(e,t);for(var r=this._glyphs,i=0,a=r.length;i<a;i++){var s=r[i];o(s.billboard)&&(s.billboard.eyeOffset=e)}var u=this._backgroundBillboard;o(u)&&(u.eyeOffset=e)}}},horizontalOrigin:{get:function(){return this._horizontalOrigin},set:function(e){this._horizontalOrigin!==e&&(this._horizontalOrigin=e,_(this))}},verticalOrigin:{get:function(){return this._verticalOrigin},set:function(e){if(this._verticalOrigin!==e){this._verticalOrigin=e;for(var t=this._glyphs,n=0,r=t.length;n<r;n++){var i=t[n];o(i.billboard)&&(i.billboard.verticalOrigin=e)}var a=this._backgroundBillboard;o(a)&&(a.verticalOrigin=e),_(this)}}},scale:{get:function(){return this._scale},set:function(e){if(this._scale!==e){this._scale=e;for(var t=this._glyphs,n=0,r=t.length;n<r;n++){var i=t[n];o(i.billboard)&&(i.billboard.scale=e)}var a=this._backgroundBillboard;o(a)&&(a.scale=e),_(this)}}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){if(!u.equals(e,this._distanceDisplayCondition)){this._distanceDisplayCondition=u.clone(e,this._distanceDisplayCondition);for(var t=this._glyphs,n=0,r=t.length;n<r;n++){var i=t[n];o(i.billboard)&&(i.billboard.distanceDisplayCondition=e)}var a=this._backgroundBillboard;o(a)&&(a.distanceDisplayCondition=e)}}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(e){if(this._disableDepthTestDistance!==e){this._disableDepthTestDistance=e;for(var t=this._glyphs,n=0,r=t.length;n<r;n++){var i=t[n];o(i.billboard)&&(i.billboard.disableDepthTestDistance=e)}var a=this._backgroundBillboard;o(a)&&(a.disableDepthTestDistance=e)}}},id:{get:function(){return this._id},set:function(e){if(this._id!==e){this._id=e;for(var t=this._glyphs,n=0,r=t.length;n<r;n++){var i=t[n];o(i.billboard)&&(i.billboard.id=e)}var a=this._backgroundBillboard;o(a)&&(a.id=e)}}},pickId:{get:function(){if(0!==this._glyphs.length&&o(this._glyphs[0].billboard))return this._glyphs[0].billboard.pickId}},_clampedPosition:{get:function(){return this._actualClampedPosition},set:function(e){this._actualClampedPosition=n.clone(e,this._actualClampedPosition);for(var t=this._glyphs,r=0,i=t.length;r<i;r++){var a=t[r];o(a.billboard)&&(a.billboard._clampedPosition=e)}var s=this._backgroundBillboard;o(s)&&(s._clampedPosition=e)}},clusterShow:{get:function(){return this._clusterShow},set:function(e){if(this._clusterShow!==e){this._clusterShow=e;for(var t=this._glyphs,n=0,r=t.length;n<r;n++){var i=t[n];o(i.billboard)&&(i.billboard.clusterShow=e)}var a=this._backgroundBillboard;o(a)&&(a.clusterShow=e)}}}}),v.prototype._updateClamping=function(){h._updateClamping(this._labelCollection,this)},v.prototype.computeScreenSpacePosition=function(e,n){o(n)||(n=new t);var r=this._labelCollection,i=r.modelMatrix,a=o(this._actualClampedPosition)?this._actualClampedPosition:this._position;return h._computeScreenSpacePosition(i,a,this._eyeOffset,this._pixelOffset,e,n)},v.getScreenSpaceBoundingBox=function(t,n,r){var i=0,a=0,s=0,u=0,l=t.scale,c=t._labelCollection._resolutionScale,h=t._backgroundBillboard;if(o(h))i=n.x+h._translate.x/c,a=n.y-h._translate.y/c,s=h.width*l,u=h.height*l,t.verticalOrigin===m.BOTTOM||t.verticalOrigin===m.BASELINE?a-=u:t.verticalOrigin===m.CENTER&&(a-=.5*u);else{i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;for(var d=0,f=0,p=t._glyphs,g=p.length,_=0;_<g;++_){var v=p[_],A=v.billboard;if(o(A)){var y=n.x+A._translate.x/c,b=n.y-A._translate.y/c,w=A.width*l,x=A.height*l;t.verticalOrigin===m.BOTTOM||t.verticalOrigin===m.BASELINE?b-=x:t.verticalOrigin===m.CENTER&&(b-=.5*x),i=Math.min(i,y),a=Math.min(a,b),d=Math.max(d,y+w),f=Math.max(f,b+x)}}s=d-i,u=f-a}return o(r)||(r=new e),r.x=i,r.y=a,r.width=s,r.height=u,r},v.prototype.equals=function(e){return this===e||o(e)&&this._show===e._show&&this._scale===e._scale&&this._outlineWidth===e._outlineWidth&&this._showBackground===e._showBackground&&this._style===e._style&&this._verticalOrigin===e._verticalOrigin&&this._horizontalOrigin===e._horizontalOrigin&&this._heightReference===e._heightReference&&this._renderedText===e._renderedText&&this._font===e._font&&n.equals(this._position,e._position)&&r.equals(this._fillColor,e._fillColor)&&r.equals(this._outlineColor,e._outlineColor)&&r.equals(this._backgroundColor,e._backgroundColor)&&t.equals(this._backgroundPadding,e._backgroundPadding)&&t.equals(this._pixelOffset,e._pixelOffset)&&n.equals(this._eyeOffset,e._eyeOffset)&&c.equals(this._translucencyByDistance,e._translucencyByDistance)&&c.equals(this._pixelOffsetScaleByDistance,e._pixelOffsetScaleByDistance)&&c.equals(this._scaleByDistance,e._scaleByDistance)&&u.equals(this._distanceDisplayCondition,e._distanceDisplayCondition)&&this._disableDepthTestDistance===e._disableDepthTestDistance&&this._id===e._id},v.prototype.isDestroyed=function(){return!1},v.enableRightToLeftDetection=!1;var C=new RegExp("[א-ת؀-ۿݐ-ݿࢠ-ࣿ]");return v}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(99),n(17),n(10),n(41),n(25),n(1),n(0),n(2),n(3),n(154),n(20),n(218),n(46),n(427)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f){"use strict";function p(e,t){e=o(e,o.EMPTY_OBJECT);var r=e.translucencyByDistance,s=e.scaleByDistance,u=e.distanceDisplayCondition;a(r)&&(r=h.clone(r)),a(s)&&(s=h.clone(s)),a(u)&&(u=l.clone(u)),this._show=o(e.show,!0),this._position=n.clone(o(e.position,n.ZERO)),this._actualPosition=n.clone(this._position),this._color=i.clone(o(e.color,i.WHITE)),this._outlineColor=i.clone(o(e.outlineColor,i.TRANSPARENT)),this._outlineWidth=o(e.outlineWidth,0),this._pixelSize=o(e.pixelSize,10),this._scaleByDistance=s,this._translucencyByDistance=r,this._distanceDisplayCondition=u,this._disableDepthTestDistance=o(e.disableDepthTestDistance,0),this._id=e.id,this._collection=o(e.collection,t),this._clusterShow=!0,this._pickId=void 0,this._pointPrimitiveCollection=t,this._dirty=!1,this._index=-1}function m(e,t){var n=e._pointPrimitiveCollection;a(n)&&(n._updatePointPrimitive(e,t),e._dirty=!0)}var g=p.SHOW_INDEX=0,_=p.POSITION_INDEX=1,v=p.COLOR_INDEX=2,A=p.OUTLINE_COLOR_INDEX=3,y=p.OUTLINE_WIDTH_INDEX=4,b=p.PIXEL_SIZE_INDEX=5,w=p.SCALE_BY_DISTANCE_INDEX=6,x=p.TRANSLUCENCY_BY_DISTANCE_INDEX=7,E=p.DISTANCE_DISPLAY_CONDITION_INDEX=8,C=p.DISABLE_DEPTH_DISTANCE_INDEX=9;p.NUMBER_OF_PROPERTIES=10,s(p.prototype,{show:{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,m(this,g))}},position:{get:function(){return this._position},set:function(e){var t=this._position;n.equals(t,e)||(n.clone(e,t),n.clone(e,this._actualPosition),m(this,_))}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(e){var t=this._scaleByDistance;h.equals(t,e)||(this._scaleByDistance=h.clone(e,t),m(this,w))}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(e){var t=this._translucencyByDistance;h.equals(t,e)||(this._translucencyByDistance=h.clone(e,t),m(this,x))}},pixelSize:{get:function(){return this._pixelSize},set:function(e){this._pixelSize!==e&&(this._pixelSize=e,m(this,b))}},color:{get:function(){return this._color},set:function(e){var t=this._color;i.equals(t,e)||(i.clone(e,t),m(this,v))}},outlineColor:{get:function(){return this._outlineColor},set:function(e){var t=this._outlineColor;i.equals(t,e)||(i.clone(e,t),m(this,A))}},outlineWidth:{get:function(){return this._outlineWidth},set:function(e){this._outlineWidth!==e&&(this._outlineWidth=e,m(this,y))}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){l.equals(this._distanceDisplayCondition,e)||(this._distanceDisplayCondition=l.clone(e,this._distanceDisplayCondition),m(this,E))}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(e){this._disableDepthTestDistance!==e&&(this._disableDepthTestDistance=e,m(this,C))}},id:{get:function(){return this._id},set:function(e){this._id=e,a(this._pickId)&&(this._pickId.object.id=e)}},pickId:{get:function(){return this._pickId}},clusterShow:{get:function(){return this._clusterShow},set:function(e){this._clusterShow!==e&&(this._clusterShow=e,m(this,g))}}}),p.prototype.getPickId=function(e){return a(this._pickId)||(this._pickId=e.createPickId({primitive:this,collection:this._collection,id:this._id})),this._pickId},p.prototype._getActualPosition=function(){return this._actualPosition},p.prototype._setActualPosition=function(e){n.clone(e,this._actualPosition),m(this,_)};var S=new r;p._computeActualPosition=function(e,t,n){return t.mode===d.SCENE3D?e:(c.multiplyByPoint(n,e,S),f.computeActualWgs84Position(t,S))};var T=new r;return p._computeScreenSpacePosition=function(e,t,n,i){var o=c.multiplyByVector(e,r.fromElements(t.x,t.y,t.z,1,T),T);return f.wgs84ToWindowCoordinates(n,o,i)},p.prototype.computeScreenSpacePosition=function(e,n){var r=this._pointPrimitiveCollection;a(n)||(n=new t);var i=r.modelMatrix,o=p._computeScreenSpacePosition(i,this._actualPosition,e,n);if(a(o))return o.y=e.canvas.clientHeight-o.y,o},p.getScreenSpaceBoundingBox=function(t,n,r){var i=t.pixelSize,o=.5*i,s=n.x-o,u=n.y-o,l=i,c=i;return a(r)||(r=new e),r.x=s,r.y=u,r.width=l,r.height=c,r},p.prototype.equals=function(e){return this===e||a(e)&&this._id===e._id&&n.equals(this._position,e._position)&&i.equals(this._color,e._color)&&this._pixelSize===e._pixelSize&&this._outlineWidth===e._outlineWidth&&this._show===e._show&&i.equals(this._outlineColor,e._outlineColor)&&h.equals(this._scaleByDistance,e._scaleByDistance)&&h.equals(this._translucencyByDistance,e._translucencyByDistance)&&l.equals(this._distanceDisplayCondition,e._distanceDisplayCondition)&&this._disableDepthTestDistance===e._disableDepthTestDistance},p.prototype._destroy=function(){this._pickId=this._pickId&&this._pickId.destroy(),this._pointPrimitiveCollection=void 0},p}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(142),i=n(9),o=function(e){var t=i.toDegrees(e.west),n=i.toDegrees(e.south),o=i.toDegrees(e.east),a=i.toDegrees(e.north);return r.latLngBounds([n,t],[a,o])};e.exports=o},function(e,t,n){"use strict";function r(e,t){var n;if(b(e)&&b(t.columns))if(b(t.columns[e.id]))n=v(t.columns[e.id]);else{var r=e.parent,i=r.columns.indexOf(e);b(t.columns[i])&&(n=v(t.columns[i]))}if(!b(n))return t;for(var o in t)t.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(b(n[o])||(n[o]=t[o]));return n}function i(e){var t;if(b(e.tableColumn)&&b(e.tableColumn.values))if(e.tableColumn.isEnum){var n=e.tableColumnStyle,r=e.tableColumn.uniqueValues;e._binColors=o(e,r,n.colorBinMethod,n.colorBins),t=a(e,r)}else{var i=y(e.tableColumnStyle.colorMap,I),s=y(e.tableColumnStyle.colorBins,N);e._colorGradient=c(i),e._binColors=f(e,s),t=_(e,i)}else e.regionProvider?(e._binColors=o(e,e.regionProvider.regions,"top",void 0),t=a(e,e.regionProvider.regions)):t=b(e.name)?{items:[{title:e.name,color:m(e._noColumnColorArray)}]}:void 0;b(t)?e._legend=new C(t):e._legend=null}function o(e,t,n,r){r=y(r,t.length),e._cycleEnumValues=!1,e._otherColor=l(O[O.length-1]);var i,o={};if(Array.isArray(r))for(i=0;i<r.length;i++){var a=r[i];b(a.value)?t.indexOf(a.value)>=0&&(o[a.value]=l(a.color)):e._otherColor=l(a.color)}else{var s=Math.min(r,t.length,O.length),u=s<=M.length?M:O;u=u.slice(0,s).map(function(e){return l(e)}),n=n.toLowerCase(),"auto"===n&&(n="top");var c=0;for("top"===n?c=t.length<=u.length?t.length:u.length-1:"cycle"===n&&(c=t.length)>u.length&&(e._cycleEnumValues=!0,e._cycleColors=u),i=0;i<c;i++)o[t[i]]=u[i%u.length]}return o}function a(e,t){var n,r=e.tableColumn,i=e.tableColumnStyle,o=e._binColors,a=y(i.nullLabel,B),s=r.name;if(e._cycleEnumValues)n=[{title:g(r),multipleColors:e._cycleColors.map(function(e){return m(e)})}];else{n=[];var u=0;for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n.push({title:y(l,a),color:m(o[l])}),u++);t.length>u&&n.push({title:t.length-u+" other values",color:m(e._otherColor)})}n.reverse();var c={title:s,itemSpacing:2,items:n};return b(r)&&r.values.indexOf(null)>=0&&c.items.unshift({title:a,color:m(e._nullColorArray),spacingAbove:0}),c}function s(e,t){var n=d(e.tableColumn,e.tableColumnStyle),r=n.maximum===n.minimum?0:(t-n.minimum)/(n.maximum-n.minimum);return e.tableColumnStyle.clampDisplayValue&&(r=Math.max(0,Math.min(1,r))),r}function u(e){return new A(e[0]/255,e[1]/255,e[2]/255,e[3]/255)}function l(e,t){var n=document.createElement("canvas");if(!b(n))return P;var r=n.getContext("2d");r.fillStyle=e,r.fillRect(0,0,2,2);var i=r.getImageData(0,0,1,1).data;return b(t)&&(i[3]=Math.round(255*t)),i}function c(e){if(b(e)){var t=document.createElement("canvas");if(b(t)){for(var n=t.width=64,r=t.height=256,i=t.getContext("2d"),o=i.createLinearGradient(0,0,0,r-1),a=0;a<e.length;a++)o.addColorStop(e[a].offset,e[a].color);i.fillStyle=o,i.fillRect(0,0,n,r);return i.getImageData(0,0,1,256)}}}function h(e,t){var n=4*Math.floor(t*(e.data.length/4-1));return[e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]]}function d(e,t){if(!b(e))return{};var n=e.minimumValue,r=e.maximumValue;return n!==r&&b(t)&&(b(t.maxDisplayValue)&&(r=t.maxDisplayValue),b(t.minDisplayValue)&&(n=t.minDisplayValue)),{minimum:n,maximum:r}}function f(e,t){var n=e.tableColumn,r=e.tableColumnStyle,i=e._colorGradient,o=d(n,r);if(Array.isArray(t)&&b(o.minimum)&&b(o.maximum)){t[t.length-1]<o.maximum&&(t=t.concat(o.maximum));var a=t.length,s=t.filter(function(e,n){return e>o.minimum&&(0===n||t[n-1]<o.maximum)}),u=t.indexOf(s[0]);return s.map(function(e,t){return{upperBound:Math.min(e,o.maximum),colorArray:h(i,(u+t)/(a-1))}})}if(!(t<=0||r.colorBinMethod.match(/none/i))){var l,c=[],f=n.numericalValues;if(0===f.length)return[];var p=Math.min(t,f.length),m=r.colorBinMethod.toLowerCase();if("auto"===m&&(m=f.length>1e3?"quantile":"ckmeans"),"quantile"===m)for(l=0;l<p;l++)c.push({upperBound:T.quantile(f,(l+1)/p),colorArray:h(i,l/(p-1))});else if("ckmeans"===m){var g=T.ckmeans(f,p);for(l=0;l<g.length;l++)l>0&&1===g[l].length&&g[l][0]===g[l-1][g[l-1].length-1]||c.push({upperBound:g[l][g[l].length-1]});if(c.length>1)for(l=0;l<c.length;l++)c[l].colorArray=h(i,l/(c.length-1));else c[0].colorArray=h(i,.5)}return c}}function p(e,t){var n;return b(t.format)?(n=v(t.format),n.maximumFractionDigits=y(t.format.maximumFractionDigits,2)):n={maximumFractionDigits:2},E(e,n)}function m(e){return"rgba("+e[0]+","+e[1]+","+e[2]+", "+e[3]/255+")"}function g(e){return e.uniqueValues.length+" values"}function _(e,t){var n,r=e.tableColumn,i=e.tableColumnStyle,o=e._binColors,a=d(r,i),s=y(i.nullLabel,B),u=y(e.tableColumnStyle.legendName,r.name);return o?(n={title:u,itemSpacing:0,items:o.map(function(e,t){return{titleAbove:0===t||t<o.length-1||e.upperBound>o[t-1].upperBound?p(e.upperBound,i):void 0,titleBelow:0===t&&e.upperBound!==a.minimum?p(a.minimum,i):void 0,color:m(e.colorArray)}})},r.values.indexOf(null)>=0&&n.items.unshift({title:s,color:m(e._nullColorArray),spacingAbove:8}),n):{title:u,barHeightMin:130,gradientColorMap:t,labelTickColor:"darkgray",items:function(t){for(var n=[],o=2+t,u=1;u<=o;u++)n.push({titleAbove:p(a.minimum+(a.maximum-a.minimum)*(u/o),i),titleBelow:1===u?p(a.minimum,i):void 0});return r.values.indexOf(null)>=0&&n.unshift({title:s,color:m(e._nullColorArray),spacingAbove:8}),n}(i.legendTicks)}}var v=n(27),A=n(25),y=n(1),b=n(0),w=n(331),x=n(333),E=n(245),C=n(564),S=n(203),T=n(1184),I=[{offset:0,color:"rgba(239,210,193,1.0)"},{offset:.25,color:"rgba(221,139,116,1.0)"},{offset:.5,color:"rgba(255,127,46,1.0)"},{offset:.75,color:"rgba(255,65,43,1.0)"},{offset:1,color:"rgba(111,0,54,1.0)"}],M=w.brewer9ClassSet1,O=w.highContrast,P=[32,32,32,128],D=[0,0,0,0],B="(No value)",L=w.highContrast,N=7,R=function(e,t,n,i){this.tableColumn=e,this.tableStyle=b(t)?t:new S,this.tableColumnStyle=r(e,this.tableStyle),this.name=i;var o=x(i||"")%L.length;this._noColumnColorArray=l(L[o],1),this._legend=void 0,this._colorGradient=void 0,this._binColors=void 0,this._regionProvider=n,b(this.tableColumnStyle.nullColor)?this._nullColorArray=l(this.tableColumnStyle.nullColor):this._nullColorArray=b(n)?D:P,this._cycleEnumValues=!1,this._cycleColors=void 0,this.tableColumnStyle.legendTicks=y(this.tableColumnStyle.legendTicks,0),this.tableColumnStyle.scale=y(this.tableColumnStyle.scale,1)};R.prototype.legendUrl=function(){if(b(this._legend)||i(this),b(this._legend))return this._legend.getLegendUrl()},R.prototype.getScaleFromValue=function(e){var t=this.tableColumnStyle.scale;if(this.tableColumnStyle.scaleByValue){var n=b(e)?s(this,e):0;b(n)&&n===n?t*=n+.5:t=.5}return t},R.prototype.getColorArrayFromValue=function(e){if(!b(this.tableColumn))return this._noColumnColorArray;if(!b(e))return this._nullColorArray;if(0===this.tableColumnStyle.colorBins)return h(this._colorGradient,s(this,e));if(this.tableColumn.isEnum)return Object.prototype.hasOwnProperty.call(this._binColors,e)?this._binColors[e]:this._otherColor;if(!b(this._binColors)||0===this._binColors.length)return this._nullColorArray;for(var t=0;t<this._binColors.length-1&&e>this._binColors[t].upperBound;)t++;return b(this._binColors[t])?this._binColors[t].colorArray:(console.log("Bad bin "+t),[0,0,0,0])},R.prototype.getColorFromValue=function(e){return u(this.getColorArrayFromValue(e))},e.exports=R},function(e,t,n){"use strict";function r(e){e._svgns="http://www.w3.org/2000/svg",e._svg=document.createElementNS(e._svgns,"svg"),e._svg.setAttribute("version","1.1"),e._svg.setAttribute("width",e.width),e._svg.setAttribute("class","generated-legend now-viewing-legend-image-background")}function i(e,t,n){t.setAttribute("height",n),e._svg.setAttribute("height",n),e._svg.setAttribute("style","height: "+n+"px");var r=document.createElement("div"),i=e._svg.cloneNode(!0);return r.appendChild(i),r.innerHTML}function o(e,t,n,r,i){return e._svg.appendChild(a(e,t,n,r,i))}function a(e,t,n,r,i){var o=document.createElementNS(e._svgns,t);return Object.keys(n).forEach(function(e){0===e.indexOf("xlink:")?o.setAttributeNS("http://www.w3.org/1999/xlink",e.substring("xlink:".length),n[e]):o.setAttribute(e,n[e])}),m(i)&&(o.textContent=i),m(r)&&o.setAttribute("class",r),o}function s(e){var t=document.createElement("span");t.className=e.cssClass,t.style.opacity=0,t.style.position="fixed",document.body.appendChild(t);for(var n=(e.title||"").split(" "),r=0,i=n.length,a=e.variableNameTop;r<n.length;){var s=n.slice(r,i).join(" ");t.textContent=s;var u=t.getBoundingClientRect();u.width<=e.width||r===i-1?(o(e,"text",{x:e.variableNameLeft,y:a},"variable-label",s),a+=u.height,r=i,i=n.length):--i}return document.body.removeChild(t),a}function u(e,t,n){var r="terriajs-legend-gradient"+ ++v,i=o(e,"defs",{}),s=a(e,"linearGradient",{x1:"0",x2:"0",y1:"1",y2:"0",id:r});e.gradientColorMap.forEach(function(t,n){s.appendChild(a(e,"stop",{offset:t.offset,"stop-color":t.color}))}),i.appendChild(s);var u=e.items.filter(function(e){return!m(e.color)}),l=u.reduce(function(e,t){return e+(t.spacingAbove||0)},0),c=Math.max((e.computedItemHeight+e.itemSpacing)*u.length+l,e.barHeightMin);return o(e,"rect",{x:e.barLeft,y:n,width:e.itemWidth,height:c,fill:"url(#"+r+")"},"gradient-bar"),c}function l(e,t){e.items.forEach(function(n,r){var i=c(e,r);if(m(n.imageUrl))return void t.appendChild(a(e,"image",{"xlink:href":n.imageUrl,x:0,y:i,width:Math.min(n.imageWidth,e.itemWidth+4),height:Math.min(n.imageHeight,e.computedItemHeight+4)},"item-icon"));if(m(n.multipleColors))for(var o=0|Math.sqrt(n.multipleColors.length),s=0|Math.ceil(n.multipleColors.length/o),u=n.multipleColors.length,l=0,h=i,d=0;l<u&&d<s;++d){for(var f=d===s-1?e.computedItemHeight-(h-i):e.computedItemHeight/s,p=0,g=0;l<u&&g<o;++g){var _=n.multipleColors[l++],v=g===o-1?e.itemWidth-p:e.itemWidth/o;t.appendChild(a(e,"rect",{fill:_,x:p,y:h,width:v,height:f},"item-box")),p+=v}h+=f}else m(n.color)&&t.appendChild(a(e,"rect",{fill:n.color,x:0,y:i,width:e.itemWidth,height:e.computedItemHeight},"item-box"))})}function c(e,t){var n=e.items.slice(t).reduce(function(e,t){return e+(t.spacingAbove||0)},0);return(e.items.length-t-1)*(e.computedItemHeight+e.itemSpacing)+n}function h(e,t){function n(n){t.appendChild(a(e,"line",{x1:e.itemWidth,x2:e.itemWidth+5,y1:n,y2:n},"tick-mark"))}function r(n,r){t.appendChild(a(e,"text",{x:e.itemWidth+7,y:n+3},"item-label"+(e.items.length>6?"-small":""),r))}return e.items.forEach(function(t,i){var o=c(e,i);m(t.titleAbove)&&(r(o,t.titleAbove),n(o)),m(t.title)&&r(o+e.computedItemHeight/2,t.title),m(t.titleBelow)&&(r(o+e.computedItemHeight,t.titleBelow),n(o+e.computedItemHeight))}),c(e,-1)}function d(e){return o(e,"rect",{x:0,y:0,width:e.width,height:1},"background")}var f=n(1),p=n(2),m=n(0),g=n(165),_=function(e){e=f(e,{}),this.title=e.title,this.items=f(e.items,[]),this.gradientColorMap=e.gradientColorMap,this.barHeightMax=f(e.barHeightMax,130),this.barHeightMin=f(e.barHeightMax,30),this.itemWidth=f(e.itemWidth,30),this.itemHeightMin=f(e.itemHeightMin,12),this.itemHeight=e.itemHeight,this.itemSpacing=f(e.itemSpacing,0),this.barLeft=f(e.barLeft,5),this.barTop=f(e.barTop,5),this.width=f(e.width,315),this.variableNameLeft=f(e.variableNameLeft,5),this.variableNameTop=f(e.variableNameTop,17),this.cssClass=f(e.cssClass,"tjs-legend__legend"),this._svg=void 0};p(_.prototype,{computedItemHeight:{get:function(){return f(this.itemHeight,Math.max(Math.min(this.barHeightMax/this.items.length,30),this.itemHeightMin))},set:function(e){this.itemHeight=e}}});var v=0;_.prototype.drawSvg=function(){r(this);var e=d(this),t=s(this),n=o(this,"g",{transform:"translate("+this.barLeft+","+(t+this.barTop)+")"},"legend-bar-group"),a=t+this.barTop,c=t+this.barTop;return m(this.gradientColorMap)&&(a+=u(this,n,a)),this.items.length>0&&(l(this,n),c+=h(this,n)),t=Math.max(a,c),i(this,e,t+this.computedItemHeight/2)},_.prototype.asSvgUrl=function(){return"data:image/svg+xml,"+this.drawSvg()},_.prototype.getLegendUrl=function(){var e=this.drawSvg(),t=new g("data:image/svg+xml,"+e,"image/svg+xml");return t.safeSvgContent=e,t},e.exports=_},function(e,t,n){"use strict";function r(e){if(1===e.length)return 0;var t=i(e);return Math.sqrt(t)}var i=n(566);e.exports=r},function(e,t,n){"use strict";function r(e){if(0===e.length)throw new Error("variance requires at least one data point");return i(e,2)/e.length}var i=n(348);e.exports=r},function(e,t,n){"use strict";function r(e){if(0===e.length)return 0;for(var t,n=e[0],r=0,i=1;i<e.length;i++)t=n+e[i],Math.abs(n)>=Math.abs(e[i])?r+=n-t+e[i]:r+=e[i]-t+n,n=t;return n+r}e.exports=r},function(e,t,n){"use strict";function r(e){return e.slice().sort(function(e,t){return e-t})}e.exports=r},function(e,t,n){"use strict";function r(e){if(0===e.length)throw new Error("mode requires at least one data point");if(1===e.length)return e[0];for(var t=e[0],n=NaN,r=0,i=1,o=1;o<e.length+1;o++)e[o]!==t?(i>r&&(r=i,n=t),i=1,t=e[o]):i++;return n}e.exports=r},function(e,t,n){"use strict";function r(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t}e.exports=r},function(e,t,n){"use strict";function r(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t}e.exports=r},function(e,t,n){"use strict";function r(e){return+i(e,.5)}var i=n(349);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e.slice();return i(n.slice(),t)}var i=n(574);e.exports=r},function(e,t,n){"use strict";function r(e,t){t=t||Math.random;for(var n,r,i=e.length;i>0;)r=Math.floor(t()*i--),n=e[i],e[i]=e[r],e[r]=n;return e}e.exports=r},function(e,t,n){"use strict";function r(e){for(var t,n=0,r=0;r<e.length;r++)0!==r&&e[r]===t||(t=e[r],n++);return n}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(e.length!==t.length)throw new Error("sampleCovariance requires samples with equal lengths");if(e.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var n=i(e),r=i(t),o=0,a=0;a<e.length;a++)o+=(e[a]-n)*(t[a]-r);return o/(e.length-1)}var i=n(123);e.exports=r},function(e,t,n){"use strict";function r(e){var t=i(e);return Math.sqrt(t)}var i=n(351);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return(e*t+n*r)/(t+r)}e.exports=r},function(e,t,n){"use strict";for(var r=Math.sqrt(2*Math.PI),i=[],o=0;o<=3.09;o+=.01)i.push(function(e){for(var t=e,n=e,i=1;i<15;i++)n*=e*e/(2*i+1),t+=n;return Math.round(1e4*(.5+t/r*Math.exp(-e*e/2)))/1e4}(o));e.exports=i},function(e,t,n){"use strict";function r(e){var t=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),n=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*t)+Math.log(1-e*e)/2,2)-Math.log(1-e*e)/t)-(2/(Math.PI*t)+Math.log(1-e*e)/2));return e>=0?n:-n}e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(44),o=n(3),a=n(582),s=function(e){this.regionProviders=[],this.corsProxy=e};s.metaList={},s.fromUrl=function(e,t){return r(s.metaList[e])||(s.metaList[e]=i(e).then(function(e){return new s(t).initFromObject(e)})),s.metaList[e]},s.prototype.initFromObject=function(e){var t=this;return Object.keys(e.regionWmsMap).forEach(function(n){t.regionProviders.push(new a(n,e.regionWmsMap[n],t.corsProxy))}),Object.keys(e.regionWmsMap).forEach(function(n){var r=t.getRegionProvider(n);e.regionWmsMap[n].disambigRegionId&&r.setDisambigProperties(t.getRegionProvider(e.regionWmsMap[n].disambigRegionId))}),this},s.prototype.getRegionDetails=function(e,t,n){var i=[],o=e.indexOf(t);if(o>=0)if(e=e.slice(),e.splice(o,1),r(n)){var a=this.getRegionProvider(n);i.push({regionProvider:a,variableName:t,disambigVariableName:a.findDisambigVariable(e)})}else e.unshift(t);for(var s=0;s<this.regionProviders.length;s++){var u=this.regionProviders[s].findRegionVariable(e);u&&i.push({regionProvider:this.regionProviders[s],variableName:u,disambigVariableName:this.regionProviders[s].findDisambigVariable(e)})}return i},s.prototype.getRegionProvider=function(e){var t=this.regionProviders.filter(function(t){return t.regionType.toLowerCase()===e.toLowerCase()});if(t.length>1)throw new o("More than one definition of region provider: "+e);if(0!==t.length)return t[0]},e.exports=s},function(e,t,n){"use strict";function r(e,t){if("WMS"!==e.serverType)throw new h("Cannot fetch region ids for region providers that are not WMS");var n=A(e.server).addQuery({service:"wfs",version:"2.0",request:"getPropertyValue",typenames:e.layerName}),r=e.corsProxy.getURLProxyIfNecessary(n.setQuery("valueReference",t).toString());return f(r).then(function(e){var n=v(e);if(!l(n.member)){console.log(e);var r=l(n.Exception)?"<br/><br/>"+n.Exception.ExceptionText:"";throw new _({title:"CSV region mapping",message:"Couldn't load region boundaries for region "+t+r})}if(n.member instanceof Array||(n.member=[n.member]),1===n.member.length&&!l(n.member[0]))throw new _({title:"CSV region mapping",message:"Zero region boundaries found for region "+t});return{values:n.member.map(function(e){return e[t]})}})}function i(e,t,n,r){var i="number"==typeof t[0],a=l(n);a||(n="id"),t.forEach(function(t,s){l(e.regions[s])||(e.regions[s]={}),i||(t=t.toLowerCase(),t=o(e,t,r)),e.regions[s][n]=t,a||(l(e._idIndex[t])?"object"===u(e._idIndex[t])?e._idIndex[t].push(s):e._idIndex[t]=[e._idIndex[t],s]:e._idIndex[t]=s,e.regions[s][e.uniqueIdProp]=s)})}function o(e,t,n){if(l(t)){var r;r="number"==typeof t?String(t):t.toLowerCase().trim();var i=e[n];return void 0===i||0===i.length?r:void 0!==e._appliedReplacements[n][r]?e._appliedReplacements[n][r]:(i.forEach(function(e){r=r.replace(e[2],e[1])}),e._appliedReplacements[n][t]=r,r)}}function a(e,t,n){if(!l(t)||""===t)return-1;var r=o(e,t,"dataReplacements"),i=e._idIndex[r];if(!l(i))return-1;if("number"==typeof i)return i;var a=i;if(!l(n))return console.warn("Ambiguous value found in region mapping: "+r),a[0];for(var s=o(e,n,"disambigDataReplacements"),u=0;u<a.length;u++)if(e.regions[a[u]][e.disambigProp]===s)return a[u];return-1}function s(e,t){for(var n=0;n<t.length;n++)for(var r=new RegExp("^"+t[n]+"$","i"),i=0;i<e.length;i++)if(r.test(e[i]))return e[i]}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=n(0),c=n(1),h=n(3),d=n(36),f=n(172),p=n(44),m=n(78),g=n(7),_=n(22),v=n(84),A=n(33),y=function(e,t,n){t=c(t,c.EMPTY_OBJECT),this.regionType=e,this.regionProp=t.regionProp,this.nameProp=t.nameProp,this.description=t.description,this.layerName=t.layerName,this.server=t.server,this.serverType=c(t.serverType,"WMS"),this.analyticsWmsServer=c(t.analyticsWmsServer,"WMS"===this.serverType?this.server:void 0),this.analyticsWmsLayerName=c(t.analyticsWmsLayerName,"WMS"===this.serverType?this.layerName:void 0),this.serverSubdomains=t.serverSubdomains,this.serverMinZoom=c(t.serverMinZoom,0),this.serverMaxZoom=c(t.serverMaxZoom,1/0),this.serverMaxNativeZoom=c(t.serverMaxNativeZoom,this.serverMaxZoom),this.bbox=t.bbox,this.aliases=c(t.aliases,[this.regiontype]),this.serverReplacements=t.serverReplacements instanceof Array?t.serverReplacements.map(function(e){return[e[0],e[1].toLowerCase(),new RegExp(e[0].toLowerCase(),"gi")]}):[],this.dataReplacements=t.dataReplacements instanceof Array?t.dataReplacements.map(function(e){return[e[0],e[1].toLowerCase(),new RegExp(e[0].toLowerCase(),"gi")]}):[],this._appliedReplacements={serverReplacements:{},dataReplacements:{},disambigDataReplacements:{}},this.disambigProp=t.disambigProp,this.uniqueIdProp=c(t.uniqueIdProp,"FID"),this.nameProp=t.nameProp,this.textCode=c(t.textCodes,!1),this.regions=[],this.regionNames=[],this._idIndex={},this.regionIdsFile=t.regionIdsFile,this.regionDisambigIdsFile=t.regionDisambigIdsFile,this._loadRegionIDsPromises=void 0,this._loadRegionNamesPromise=void 0,this.corsProxy=n};y.prototype.setDisambigProperties=function(e){this.disambigDataReplacements=e.dataReplacements,this.disambigServerReplacements=e.serverReplacements,this.disambigAliases=e.aliases},y.prototype.loadRegionIDs=function(){function e(e,n,o,a){if(!l(e)&&!l(n))return g();var s;return s=l(e)?p(e):r(t,n),s.then(function(e){i(t,e.values,o,a)}).otherwise(function(e){throw console.log(e),e}),s}var t=this;if(this.regions.length>0)return g();if(void 0===this.server)throw new h("No server for region mapping defined: "+this.regionType);return l(this._loadRegionIDsPromises)||(this._loadRegionIDsPromises=[e(this.regionIdsFile,this.regionProp,void 0,"serverReplacements"),e(this.regionDisambigIdsFile,this.disambigProp,this.disambigProp,"disambigServerReplacements")]),g.all(this._loadRegionIDsPromises)},y.prototype.loadRegionNames=function(){if(l(this._loadRegionNamesPromise))return this._loadRegionNamesPromise;var e=this.nameProp||this.regionProp,t=A(this.analyticsWmsServer).addQuery({service:"wfs",version:"2.0",request:"getPropertyValue",typenames:this.analyticsWmsLayerName}),n=t.setQuery("valueReference",e).toString();this.corsProxy.shouldUseProxy(n)&&(n=this.corsProxy.getURL(n));var r=this;return this._loadRegionNamesPromise=f(n).then(function(t){var n=v(t);if(!l(n.member)){console.log(t);var i=l(n.Exception)?"<br/><br/>"+n.Exception.ExceptionText:"";throw new _({title:"CSV region mapping",message:"Couldn't load region names for region type "+r.regionType+i})}if(n.member instanceof Array||(n.member=[n.member]),1===n.member.length&&!l(n.member[0]))throw new _({title:"CSV region mapping",message:"Zero region names found for region type "+r.regionType});return r.regionNames=n.member.map(function(t){return t[e]}),r.regionNames}),this._loadRegionNamesPromise},y.prototype.mapRegionsToIndicesInto=function(e,t,n,r,i,o){if(this.regions.length<1)throw new h("Region provider is not ready to match regions.");l(t)||(t=[]);for(var s=l(i)&&l(o),u=new Array(this.regions.length),c=0;c<e.length;c++)if(l(e[c])){if(s){var f=i[c];if(!l(f))continue;if(!m.contains(f,o))continue}var p=a(this,e[c],t[c]);if(p<0)l(n)&&n.push(c);else if(l(u[p])){if(s){var g=i[u[p]],_=i[c];if(d.greaterThan(_.start,g.start)){u[p]=c;continue}if(d.lessThan(_.start,g.start))continue}l(r)&&r.push(c)}else u[p]=c}return u},y.prototype.getColorLookupFunc=function(e,t){var n=e.map(t);return function(e){return n[e]}},y.prototype.findRegionVariable=function(e){return s(e,this.aliases)},y.prototype.findDisambigVariable=function(e){if(l(this.disambigAliases)&&0!==this.disambigAliases.length)return s(e,this.disambigAliases)},y.prototype.getRegionFeature=function(e,t,n){if(!l(t))return g(void 0);if(l(n)&&n.id===t.id)return g(n);var r=this.analyticsWmsServer||this.server;return e.corsProxy.shouldUseProxy(r)&&(r=e.corsProxy.getURL(r)),r=new A(r).search("").addQuery({service:"WFS",version:"1.1.0",request:"GetFeature",typeName:this.layerName,outputFormat:"JSON",cql_filter:"FID="+t.FID}).toString(),p(r).then(function(e){return l(e)&&l(e.features)?e.features[0]:void 0})},e.exports=y},function(e,t,n){"use strict";function r(e){return i(e,[])}function i(e,t){for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?i(r,t):t.push(r)}return t}e.exports=r},function(e,t,n){"use strict";var r={YEAR:1};e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r={url:t,method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({url:n})};return o(r).then(function(t){var n=JSON.parse(t);if(!i(n.token))throw new a({title:"Token Error",message:'<p>The token server responded with an invalid token.</p><p>Please report it by sending an email to <a href="mailto:'+e.supportEmail+'">'+e.supportEmail+"</a>.</p>"});return n.token}).otherwise(function(){throw new a({title:"Token Error",message:'<p>Unable to request a token from the token server.</p><p>Please report it by sending an email to <a href="mailto:'+e.supportEmail+'">'+e.supportEmail+"</a>.</p>"})})}var i=n(0),o=n(105),a=n(22);e.exports=r},function(e,t,n){"use strict";var r=n(0),i=function(e,t){if(!r(e))return!1;for(var n=0;n<t.length;++n)if(e.indexOf(t[n])>=0)return!0;return!1};e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(16),o=n(588),a=function(e){for(var t,n=0;n<e.length;++n)if(r(e[n]))if(r(t)){var a=e[n];r(a)&&(t=o(t,a,t))}else t=i.clone(e[n]);return t};e.exports=a},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(16),a=function(e,t,n){if(!r(e))throw new i("first is required");if(!r(t))throw new i("second is required");var a=Math.min(e.west,t.west),s=Math.min(e.south,t.south),u=Math.max(e.east,t.east),l=Math.max(e.north,t.north);return r(n)?(n.west=a,n.south=s,n.east=u,n.north=l):n=new o(a,s,u,l),n};e.exports=a},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(3),a=n(86),s=n(14),u=n(205),l=function(e){if(!r(e)||!r(e.regionProvider))throw new o("options.regionProvider is required.");a.call(this,e),this._regionProvider=e.regionProvider};s(a,l),i(l.prototype,{type:{get:function(){return"region"}},value:{get:a.defaultValueGetter,set:function(e){"string"!=typeof e&&"number"!=typeof e||(e=this.findRegionByID(e)),a.defaultValueSetter.call(this,e)}},regionProvider:{get:function(){return u.resolveRegionProvider(this._regionProvider)}},regionTypeParameter:{get:function(){if(this._regionProvider instanceof u)return this._regionProvider}}}),l.prototype.findRegionByID=function(e){var t=this.regionProvider;if("string"==typeof e&&t.regions[0]&&"number"==typeof t.regions[0].id)e=parseInt(e,10);else if("string"==typeof e){e=e.toLowerCase();var n=t._appliedReplacements.serverReplacements[e];r(n)&&(e=n)}return t.regions.filter(function(t){return t.id===e})[0]},e.exports=l},function(e,t,n){"use strict";var r=n(2),i=n(86),o=n(14),a=function(e){i.call(this,e),this.trueName=e.trueName,this.trueDescription=e.trueDescription,this.falseName=e.falseName,this.falseDescription=e.falseDescription};o(i,a),r(a.prototype,{type:{get:function(){return"boolean"}},hasNamedStates:{get:function(){return this.trueName&&this.falseName}}}),e.exports=a},function(e,t,n){"use strict";function r(e,t){throw new z({sender:e,title:"Item is not available",message:"An error occurred while invoking "+t+' on the ABS ITT server.  <p>This error may indicate that the item you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href="mailto:'+e.terria.supportEmail+'">'+e.terria.supportEmail+"</a>.</p>"})}function i(e,t){throw new z({sender:e,title:"Unexpected data format",message:'An error occurred while invoking GetGenericData on the ABS ITT server: the data format has changed. <p>Please report this error by sending an email to <a href="mailto:'+e.terria.supportEmail+'">'+e.terria.supportEmail+"</a>.</p>"})}function o(e){throw new z({sender:e,title:"Data cannot be merged",message:'An error occurred while invoking GetGenericData on the ABS ITT server: the individual data files cannot be merged. <p>Please report this error by sending an email to <a href="mailto:'+e.terria.supportEmail+'">'+e.terria.supportEmail+"</a>.</p>"})}function a(e){if(!b(e._loadConceptIdsAndNameMapPromise)){var t={method:"GetDatasetConcepts",datasetid:e.datasetId,format:"json"},n=e._baseUrl+"?"+I(t),i=S(n).then(function(t){if(e._conceptIds=t.concepts,-1===t.concepts.indexOf(e.regionConcept)||-1===t.concepts.indexOf("REGIONTYPE"))throw new x("datasetId "+e.datasetId+" concepts ["+t.concepts.join(", ")+'] do not include "'+e.regionConcept+'" and "REGIONTYPE".')}).otherwise(r.bind(null,e,"GetDatasetConcepts")),o=S(e.conceptNamesUrl).then(function(t){e._conceptNamesMap=t});e._loadConceptIdsAndNameMapPromise=M.all([o,i])}return e._loadConceptIdsAndNameMapPromise}function s(e){return b(e._regionMapping)?(e._regionMapping.isLoading=!0,a(e).then(function(){return u(e)}).then(function(){return d(e)}).then(function(t){return e._tableStructure.columns=p(e,t),0===e._tableStructure.columns.length&&(e._regionMapping.hideImageryLayer(),e.terria.currentViewer.notifyRepaintRequired()),e._regionMapping.loadRegionDetails()}).then(function(t){return t&&(e._regionMapping.setRegionColumnType(),e._regionMapping.isLoading=!1),M()})):M()}function u(e){if(!b(e._loadConceptsPromise)){var t=[],n=e._conceptIds.filter(function(t){return-1===e.conceptsNotToLoad.indexOf(t)}).map(function(n){var i={method:"GetCodeListValue",datasetid:e.datasetId,concept:n,format:"json"},o=e._baseUrl+"?"+I(i);return S(o).then(function(r){var i=r.codes;n===e.regionTypeConcept&&(i=i.filter(function(e){return V.indexOf(e.code)>=0}));var o=new O({id:n,codes:i,filter:e.filter,allowMultiple:!(n===e.regionTypeConcept||e.uniqueValuedConcepts.indexOf(n)>=0),activeItemsChangedCallback:function(){e.terria.pickedFeatures=void 0,s(e)}});o.name=l(e._conceptNamesMap,o),t.push(o)}).otherwise(r.bind(null,e,"GetCodeListValue"))});e._loadConceptsPromise=M.all(n).then(function(){var n=e.regionTypeConcept;t.sort(function(e,t){return e.id===n?-1:t.id===n?1:e.name>t.name?1:-1}),e._concepts=t})}return e._loadConceptsPromise}function l(e,t){if(!b(e[t.name]))return t.name;if("string"==typeof e[t.name])return e[t.name];for(var n=e[t.name],r=0;r<t.items.length;r++)if(b(n[t.items[r].name]))return n[t.items[r].name];return n["*"]||t.name}function c(e){var t=e._concepts[0].activeItems;if(1===t.length)return t[0].code}function h(e,t){var n=new U("ABS_ITT");return n.loadFromCsv(t),n}function d(e){for(var t=e._concepts.map(function(e){return e.activeItems}),n=t.length-1;n>=0;n--)if(0===t[n].length)return M();if(!b(c(e)))return M();var r=P(t),i=r.map(function(e){return e.map(function(e,t){return e.concept.id+"."+e.code}).join(",")}),o=i.map(function(t){if(!b(e._loadDataFilePromise[t])){var n={method:"GetGenericData",datasetid:e.datasetId,and:t,or:e.regionConcept,format:"csv"},r=e._baseUrl+"?"+I(n);e._loadDataFilePromise[t]=T(r).then(h.bind(void 0,e))}return e._loadDataFilePromise[t]}),a=e.regionPopulationsUrlPrefix+c(e)+".csv";return o.push(T(a).then(h.bind(void 0,e))),M.all(o).then(function(e){return{tableStructures:e,activeCombinations:r}})}function f(e,t,n){return t.map(function(t,o){var a=t.getColumnNames();0===a.length?r(e,"GetGenericData"):D(a,["Time","Value",e.regionConcept,"Description"])||i(e,a);var s=n[o],u=t.columns[a.indexOf("Value")],l=s.filter(function(t){return t.concept.id!==e.regionTypeConcept}).map(function(e){return e.name.trim()}).reverse().join(" ");return u=new F(l,u.values,u.options)})}function p(e,t){if(!b(t))return[];var n=t.tableStructures,i=t.activeCombinations;n.length<=1&&r(e,"GetGenericData");var a=n.pop(),s=n[0],u=s.columns[0],l=s.columns[2],c=b(u)&&u.minimumValue!==u.maximumValue;c?(e.canDisplayPercent=!1,e.displayPercent=!1):e.canDisplayPercent=!0;var h=f(e,n,i),d=new F("Total selected",F.sumValues(h),{active:!e.displayPercent});if(h.length>1?h.push(d):e.displayPercent||(h[0].isActive=!0),!c){var p=a.columns;if(D(p[0].values.slice(0,l.values.length),l.values)){var g=new F("Total population",p[p.length-1].values.slice(0,l.values.length));h.push(g);var _=F.divideValues(d,g,0).map(function(e){return e<.01?Math.round(1e3*e)/10:Math.round(1e4*e)/100});h.push(new F("Total selected percent",_,{active:e.displayPercent}))}else console.error("Region ordering is different between total population data file and ABS data set."),e.canDisplayPercent=!1,e.displayPercent=!1,h[h.length-1].isActive=!0}var v=i[0].filter(function(t){return t.concept.id===e.regionTypeConcept})[0],A=m(v.code,u);return c||(u.options.type=H.SCALAR),u=new F("Year",u.values,u.options),l=new F(A,l.values,l.options),n.slice(1).forEach(function(t){D(t.columns[0],u)&&D(t.columns[2],l)||o(e)}),h.unshift(u),h.unshift(l),h}function m(e,t){var n=e.toLowerCase();return"aus"===n?n:t.subtype===j.YEAR&&t.minimumValue===t.maximumValue?n+"_code_"+t.minimumValue:n+"_code"}function g(e){var t=new v(e);return t.search(""),t.toString()}function _(e,t){return N(e,g(t))}var v=n(33),A=n(27),y=n(1),b=n(0),w=n(2),x=n(3),E=n(6),C=n(13),S=n(44),T=n(172),I=n(189),M=n(7),O=n(1242),P=n(592),D=n(195),B=n(14),L=n(83),N=n(32),R=n(316),k=n(234),F=n(261),U=n(124),z=n(22),j=n(584),H=n(85),V=["AUS","STE","SA4","SA3","SA2","SA1","CED","LGA","POA","SED"],Q=function(e,t){k.call(this,e,t),this.datasetId=void 0,this.canDisplayPercent=!0,this.displayPercent=!0,this.regionTypeConcept=void 0,this.regionConcept=void 0,this.conceptNamesUrl=void 0,this.regionPopulationsUrlPrefix=void 0,this.filter=[],this.conceptsNotToLoad=void 0,this.uniqueValuedConcepts=[],this._baseUrl=void 0,this._conceptIds=void 0,this._conceptNamesMap=void 0,this._conceptCodes=[],this._loadConceptsPromise=void 0,this._loadConceptIdsAndNameMapPromise=void 0,this._loadDataFilePromise={},this._concepts=[],C.track(this,["datasetId","displayPercent","canDisplayPercent","_concepts"]),L(this,"concepts",{get:function(){return this._concepts}}),C.getObservable(this,"displayPercent").subscribe(s.bind(null,this),this)};B(k,Q),w(Q.prototype,{type:{get:function(){return"abs-itt"}},typeName:{get:function(){return"ABS.Stat"}},propertiesForSharing:{get:function(){return Q.defaultPropertiesForSharing}},serializers:{get:function(){return Q.defaultSerializers}}}),Q.defaultPropertiesForSharing=A(k.defaultPropertiesForSharing),Q.defaultPropertiesForSharing.push("filter"),Q.defaultPropertiesForSharing.push("regionConcept"),Q.defaultPropertiesForSharing.push("regionTypeConcept"),Q.defaultPropertiesForSharing.push("displayPercent"),E(Q.defaultPropertiesForSharing),Q.defaultSerializers=A(k.defaultSerializers),Q.defaultSerializers.filter=function(e,t){var n=e._concepts.map(function(e){return e.toFilter()});t.filter=n.reduce(function(e,t){return e.concat(t)},[])},E(Q.defaultSerializers),Q.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.datasetId]},Q.prototype._load=function(){var e=this;return this._baseUrl=_(this,this.url),this.conceptNamesUrl=y(this.conceptNamesUrl,"data/abs_names.json"),this.regionPopulationsUrlPrefix=y(this.regionPopulationsUrlPrefix,"data/2011Census_TOT_"),this.regionTypeConcept=y(this.regionTypeConcept,"REGIONTYPE"),this.regionConcept=y(this.regionConcept,"REGION"),this.conceptsNotToLoad=["STATE","FREQUENCY",this.regionConcept],e._tableStructure=new U(e.name,{displayDuration:e._tableStyle.displayDuration}),e._regionMapping=new R(e,e._tableStructure,e._tableStyle),s(e)},Q.prototype.startPolling=function(){},e.exports=Q},function(e,t,n){"use strict";function r(e){var t=[[]];return e.forEach(function(e){t=i(t.map(function(t){return e.map(function(e){return t.concat(e)})}))}),t}var i=n(1244);e.exports=r},function(e,t,n){"use strict";function r(e){var t,n;return t=e.filter(function(e){return o(e)}).reduce(function(e,t){return t._filterIndex?t._filterIndex.forEach(i.bind(void 0,e)):i(e,t),e},[]),n=function(){var e=arguments;return!t.some(function(t){return!t.apply(this,e)},this)},n._filterIndex=t,n}function i(e,t){-1===e.indexOf(t)&&e.push(t)}var o=n(0);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.terria,n=new s(e.url).addQuery("f","json");return p(f(v(e,n.toString(),"1d"))).then(function(n){if(!n||!n.layers)throw new m({title:"Invalid ArcGIS Feature Service",message:"An error occurred while invoking the ArcGIS Feature Service.  The server's response does not appear to be a valid Feature Service document.  <p>If you entered the link manually, please verify that the link is correct.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href=\"mailto:"+t.supportEmail+'">'+t.supportEmail+"</a>.</p>"});if(l(n.documentInfo)){var r=e.dataCustodian;!l(r)&&l(n.documentInfo.Author)&&(r=n.documentInfo.Author),"Unnamed Item"===e.name&&l(n.documentInfo.Title)&&n.documentInfo.Title.length>0&&(e.name=n.documentInfo.Title)}i(e,-1,n.layers,e,r)}).otherwise(function(n){throw new m({sender:e,title:"Group is not available",message:'An error occurred while invoking the ArcGIS Feature Service. <p>If you entered the link manually, please verify that the link is correct.</p><p>This error may also indicate that the server does not support <a href="http://enable-cors.org/" target="_blank">CORS</a>.  If this is your server, verify that CORS is enabled and enable it if it is not.  If you do not control the server, please contact the administrator of the server and ask them to enable CORS.  Or, contact the '+t.appName+' team by emailing <a href="mailto:'+t.supportEmail+'">'+t.supportEmail+"</a> and ask us to add this server to the list of non-CORS-supporting servers that may be proxied by "+t.appName+' itself.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href="mailto:'+t.supportEmail+'">'+t.supportEmail+"</a>.</p>"})})}function i(e,t,n,r,i){n instanceof Array||(n=[n]);for(var a=0;a<n.length;++a){var s=n[a];-1===t&&null!==s.parentLayer&&l(s.parentLayer)||(-1===t||s.parentLayer&&s.parentLayer.id===t)&&(e.blacklist&&e.blacklist[s.name]?console.log("Provider Feedback: Filtering out "+s.name+" ("+s.id+") because it is blacklisted."):r.add(o(e,s,i)))}}function o(e,t,n){var r=new y(e.terria);r.name=A(t.name),r.dataCustodian=n;var i=new s(e.url).segment(t.id+"");return r.url=i.toString(),r.layers=t.id.toString(),r.maximumScale=t.maxScale,"object"===a(e.itemProperties)&&r.updateFromJson(e.itemProperties),r}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(33),u=n(27),l=n(0),c=n(2),h=n(6),d=n(13),f=n(44),p=n(7),m=n(22),g=n(55),_=n(14),v=n(32),A=n(262),y=n(263),b=function(e){g.call(this,e,"esri-featureServer-group"),this.url="",this.dataCustodian=void 0,this.blacklist=void 0,this.itemProperties=void 0,d.track(this,["url","dataCustodian","blacklist","itemProperties"])};_(g,b),c(b.prototype,{type:{get:function(){return"esri-featureServer-group"}},typeName:{get:function(){return"ArcGIS Feature Server Group"}},serializers:{get:function(){return b.defaultSerializers}}}),b.defaultSerializers=u(g.defaultSerializers),b.defaultSerializers.items=g.enabledShareableItemsSerializer,b.defaultSerializers.isLoading=function(e,t,n,r){},h(b.defaultSerializers),b.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.blacklist]},b.prototype._load=function(){return r(this)},b.loadFeatureServer=function(e){return r(e)},e.exports=b},function(e,t,n){"use strict";function r(e){function t(t){var n=new s(e.url).segment(t).addQuery("f","json");return f(v(e,n.toString(),"1d"))}var n=e.terria;return p.all([t(""),t("layers"),t("legend")]).then(function(t){var r=t[0],o=t[1],a=t[2];if(!(r&&r.layers&&o&&o.layers))throw new m({title:"Invalid ArcGIS Map Service",message:"An error occurred while invoking the ArcGIS Map Service.  The server's response does not appear to be a valid Map Service document.  <p>If you entered the link manually, please verify that the link is correct.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href=\"mailto:"+n.supportEmail+'">'+n.supportEmail+"</a>.</p>"});var s=e.dataCustodian;!l(s)&&l(r.documentInfo)&&l(r.documentInfo.Author)&&(s=r.documentInfo.Author),"Unnamed Item"===e.name&&l(r.mapName)&&r.mapName.length>0&&(e.name=r.mapName),i(e,r,o,a,-1,o.layers,e,s)}).otherwise(function(t){throw new m({sender:e,title:"Group is not available",message:'An error occurred while invoking the ArcGIS Map Service. <p>If you entered the link manually, please verify that the link is correct.</p><p>This error may also indicate that the server does not support <a href="http://enable-cors.org/" target="_blank">CORS</a>.  If this is your server, verify that CORS is enabled and enable it if it is not.  If you do not control the server, please contact the administrator of the server and ask them to enable CORS.  Or, contact the '+n.appName+' team by emailing <a href="mailto:'+n.supportEmail+'">'+n.supportEmail+"</a> and ask us to add this server to the list of non-CORS-supporting servers that may be proxied by "+n.appName+' itself.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href="mailto:'+n.supportEmail+'">'+n.supportEmail+"</a>.</p>"})})}function i(e,t,n,r,a,s,u,c){s instanceof Array||(s=[s]);for(var h=0;h<s.length;++h){var d=s[h];if((-1!==a||null===d.parentLayer||!l(d.parentLayer))&&(-1===a||d.parentLayer&&d.parentLayer.id===a))if(e.blacklist&&e.blacklist[d.name])console.log("Provider Feedback: Filtering out "+d.name+" ("+d.id+") because it is blacklisted.");else if("Group Layer"===d.type){var f=new g(e.terria);f.name=A(d.name),u.add(f),i(e,t,n,r,d.id,s,f,c)}else"Feature Layer"!==d.type&&"Raster Layer"!==d.type&&"Mosaic Layer"!==d.type||u.add(o(e,t,n,r,d,c))}}function o(e,t,n,r,i,o){var s=new y(e.terria);return s.name=A(i.name),s.dataCustodian=o,s.url=e.url,s.layers=i.id.toString(),s.maximumScale=i.maxScale,s.updateFromMetadata(t,n,r,!0,i),"object"===a(e.itemProperties)&&s.updateFromJson(e.itemProperties),s}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(33),u=n(27),l=n(0),c=n(2),h=n(6),d=n(13),f=n(44),p=n(7),m=n(22),g=n(55),_=n(14),v=n(32),A=n(262),y=n(206),b=function(e){g.call(this,e,"esri-mapServer-group"),this.url="",this.dataCustodian=void 0,this.blacklist=void 0,this.itemProperties=void 0,d.track(this,["url","dataCustodian","blacklist","itemProperties"])};_(g,b),c(b.prototype,{type:{get:function(){return"esri-mapServer-group"}},typeName:{get:function(){return"ArcGIS Map Server Group"}},serializers:{get:function(){return b.defaultSerializers}}}),b.defaultSerializers=u(g.defaultSerializers),b.defaultSerializers.items=g.enabledShareableItemsSerializer,b.defaultSerializers.isLoading=function(e,t,n,r){},h(b.defaultSerializers),b.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.blacklist]},b.prototype._load=function(){return r(this)},b.loadMapServer=function(e){return r(e)},e.exports=b},function(e,t,n){var r,i;r=[n(17),n(10),n(24),n(42),n(53),n(1),n(0),n(2),n(3),n(23),n(15),n(72),n(65),n(9),n(189),n(16),n(29),n(26),n(119),n(134),n(63),n(92),n(7),n(597),n(235),n(140)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C){"use strict";function S(n){function s(r){var o=r.tileInfo;if(p._usePreCachedTilesIfAvailable&&a(o)){if(p._tileWidth=o.rows,p._tileHeight=o.cols,102100===o.spatialReference.wkid||102113===o.spatialReference.wkid)p._tilingScheme=new y({ellipsoid:n.ellipsoid});else{if(4326!==r.tileInfo.spatialReference.wkid){var s="Tile spatial reference WKID "+r.tileInfo.spatialReference.wkid+" is not supported.";return void(f=v.handleError(f,p,p._errorEvent,s,void 0,void 0,void 0,l))}p._tilingScheme=new d({ellipsoid:n.ellipsoid})}if(p._maximumLevel=r.tileInfo.lods.length-1,a(r.fullExtent)){if(a(r.fullExtent.spatialReference)&&a(r.fullExtent.spatialReference.wkid))if(102100===r.fullExtent.spatialReference.wkid||102113===r.fullExtent.spatialReference.wkid){var u=new A,c=r.fullExtent,h=u.unproject(new t(Math.max(c.xmin,-p._tilingScheme.ellipsoid.maximumRadius*Math.PI),Math.max(c.ymin,-p._tilingScheme.ellipsoid.maximumRadius*Math.PI),0)),g=u.unproject(new t(Math.min(c.xmax,p._tilingScheme.ellipsoid.maximumRadius*Math.PI),Math.min(c.ymax,p._tilingScheme.ellipsoid.maximumRadius*Math.PI),0));p._rectangle=new m(h.longitude,h.latitude,g.longitude,g.latitude)}else{if(4326!==r.fullExtent.spatialReference.wkid){var _="fullExtent.spatialReference WKID "+r.fullExtent.spatialReference.wkid+" is not supported.";return void(f=v.handleError(f,p,p._errorEvent,_,void 0,void 0,void 0,l))}p._rectangle=m.fromDegrees(r.fullExtent.xmin,r.fullExtent.ymin,r.fullExtent.xmax,r.fullExtent.ymax)}}else p._rectangle=p._tilingScheme.rectangle;a(p._tileDiscardPolicy)||(p._tileDiscardPolicy=new x({missingImageUrl:T(p,0,0,p._maximumLevel).url,pixelsToCheck:[new e(0,0),new e(200,20),new e(20,200),new e(80,110),new e(160,130)],disableCheckIfAllPixelsAreTransparent:!0})),p._useTiles=!0}else p._useTiles=!1;a(r.copyrightText)&&r.copyrightText.length>0&&(p._credit=new i(r.copyrightText)),p._ready=!0,p._readyPromise.resolve(!0),v.handleSuccess(f)}function u(e){var t="An error occurred while accessing "+p._resource.url+".";f=v.handleError(f,p,p._errorEvent,t,void 0,void 0,void 0,l),p._readyPromise.reject(new _(t))}function l(){var e=p._resource.getDerivedResource({queryParameters:{f:"json"}}),t=e.fetchJsonp();w(t,s,u)}n=o(n,{});var h=g.createIfNeeded(n.url);h.appendForwardSlash(),a(n.token)&&h.setQueryParameters({token:n.token}),this._resource=h,this._tileDiscardPolicy=n.tileDiscardPolicy,this._tileWidth=o(n.tileWidth,256),this._tileHeight=o(n.tileHeight,256),this._maximumLevel=n.maximumLevel,this._tilingScheme=o(n.tilingScheme,new d({ellipsoid:n.ellipsoid})),this._credit=void 0,this._usePreCachedTilesIfAvailable=o(n.usePreCachedTilesIfAvailable,!0),this._useTiles=void 0,this._rectangle=o(n.rectangle,this._tilingScheme.rectangle),this._layers=n.layers,this._parameters=r(o(n.parameters,o.EMPTY_OBJECT),S.DefaultParameters),this.enablePickFeatures=o(n.enablePickFeatures,!0),this._errorEvent=new c,this._ready=!1,this._readyPromise=w.defer();var f,p=this;if(a(n.mapServerData)){var b=n.mapServerData;setTimeout(function(){w(b,s,u)})}else this._usePreCachedTilesIfAvailable?l():(this._useTiles=!1,this._ready=!0,this._readyPromise.resolve(!0))}function T(e,t,n,i,o){var a;if(e._useTiles)a=e._resource.getDerivedResource({url:"tile/"+i+"/"+n+"/"+t+(Object.keys(e.parameters).length>0?"?"+p(e.parameters):""),request:o});else{var s=e._tilingScheme.tileXYToNativeRectangle(t,n,i),u=s.west+","+s.south+","+s.east+","+s.north,l=r(e.parameters,{bbox:u,size:e._tileWidth+","+e._tileHeight,format:"png",transparent:!0,f:"image"});e._tilingScheme.projection instanceof h?(l.bboxSR=4326,l.imageSR=4326):(l.bboxSR=3857,l.imageSR=3857),e.layers&&(l.layers="show:"+e.layers),a=e._resource.getDerivedResource({url:"export",request:o,queryParameters:l})}return a}return S.DefaultParameters={},s(S.prototype,{url:{get:function(){return this._resource._url}},token:{get:function(){return this._resource.queryParameters.token}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},usingPrecachedTiles:{get:function(){return this._useTiles}},hasAlphaChannel:{get:function(){return!0}},layers:{get:function(){return this._layers}},parameters:{get:function(){return this._parameters}}}),S.prototype.getTileCredits=function(e,t,n){},S.prototype.requestImage=function(e,t,n,r){return C.loadImage(this,T(this,e,t,n,r))},S.prototype.pickFeatures=function(e,i,o,s,u){if(this.enablePickFeatures){var l,c,d,p=this._tilingScheme.tileXYToNativeRectangle(e,i,o);if(this._tilingScheme.projection instanceof h)l=f.toDegrees(s),c=f.toDegrees(u),d="4326";else{var m=this._tilingScheme.projection.project(new n(s,u,0));l=m.x,c=m.y,d="3857"}var g="visible";a(this._layers)&&(g+=":"+this._layers);var _=r(this.parameters,{f:"json",tolerance:2,geometryType:"esriGeometryPoint",geometry:l+","+c,mapExtent:p.west+","+p.south+","+p.east+","+p.north,imageDisplay:this._tileWidth+","+this._tileHeight+",96",sr:d,layers:g});return this._resource.getDerivedResource({url:"identify",queryParameters:_}).fetchJson().then(function(e){var r=[],i=e.results;if(!a(i))return r;for(var o=0;o<i.length;++o){var s=i[o],u=new E;if(u.data=s,u.name=s.value,u.properties=s.attributes,u.configureDescriptionFromProperties(s.attributes),"esriGeometryPoint"===s.geometryType&&s.geometry){var l=s.geometry.spatialReference&&s.geometry.spatialReference.wkid?s.geometry.spatialReference.wkid:4326;if(4326===l||4283===l)u.position=n.fromDegrees(s.geometry.x,s.geometry.y,s.geometry.z);else if(102100===l||900913===l||3857===l){var c=new A;u.position=c.unproject(new t(s.geometry.x,s.geometry.y,s.geometry.z))}}r.push(u)}return r})}},S}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(3),n(1246),n(29),n(7)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(n){function a(e){t(e.blob)&&(l._missingImageByteLength=e.blob.size);var i=r(e);if(n.disableCheckIfAllPixelsAreTransparent){for(var o=!0,a=e.width,s=n.pixelsToCheck,u=0,c=s.length;o&&u<c;++u){var h=s[u];i[4*h.x+h.y*a+3]>0&&(o=!1)}o&&(i=void 0)}l._missingImagePixels=i,l._isReady=!0}function s(){l._missingImagePixels=void 0,l._isReady=!0}n=e(n,e.EMPTY_OBJECT),this._pixelsToCheck=n.pixelsToCheck,this._missingImagePixels=void 0,this._missingImageByteLength=void 0,this._isReady=!1;var u=i.createIfNeeded(n.missingImageUrl),l=this;o(u.fetchImage(!0),a,s)}return a.prototype.isReady=function(){return this._isReady},a.prototype.shouldDiscardImage=function(e){var n=this._pixelsToCheck,i=this._missingImagePixels;if(!t(i))return!1;if(t(e.blob)&&e.blob.size!==this._missingImageByteLength)return!1;for(var o=r(e),a=e.width,s=0,u=n.length;s<u;++s)for(var l=n[s],c=4*l.x+l.y*a,h=0;h<4;++h){var d=c+h;if(o[d]!==i[d])return!1}return!0},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(599),i=n(358),o=n(53),a=n(2),s=n(13),u=n(121),l=n(14),c=function(e){u.call(this,e),this.mapStyle=i.AERIAL,this.key=void 0,s.track(this,["mapStyle","key"])};l(u,c),a(c.prototype,{type:{get:function(){return"bing-maps"}},typeName:{get:function(){return"Bing Maps"}}}),c.prototype._createImageryProvider=function(){var e=new r({url:"//dev.virtualearth.net",mapStyle:this.mapStyle,key:this.key});return e._credit=new o('<a href="http://www.bing.com" target="_blank">Bing</a>'),e.defaultGamma=1,e},e.exports=c},function(e,t,n){var r,i;r=[n(357),n(103),n(17),n(12),n(53),n(1),n(0),n(2),n(3),n(15),n(9),n(16),n(29),n(26),n(119),n(63),n(7),n(358),n(597),n(140)],void 0!==(i=function(e,t,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y){"use strict";function b(t){function n(e){if(1!==e.resourceSets.length)return void i();var t=e.resourceSets[0].resources[0];x._tileWidth=t.imageWidth,x._tileHeight=t.imageHeight,x._maximumLevel=t.zoomMax-1,x._imageUrlSubdomains=t.imageUrlSubdomains,x._imageUrlTemplate=t.imageUrl;var n=x._tileProtocol;if(!s(n)){var a=document.location.protocol;n=/^http/.test(a)?a:"http:"}x._imageUrlTemplate=x._imageUrlTemplate.replace(/^http:/,n),s(x._tileDiscardPolicy)||(x._tileDiscardPolicy=new A({missingImageUrl:w(x,0,0,x._maximumLevel).url,pixelsToCheck:[new r(0,0),new r(120,140),new r(130,160),new r(200,50),new r(200,200)],disableCheckIfAllPixelsAreTransparent:!0}));var u=x._attributionList=t.imageryProviders;u||(u=x._attributionList=[]);for(var c=0,f=u.length;c<f;++c){var p=u[c];p.credit=new o(p.attribution);for(var g=p.coverageAreas,_=0,v=p.coverageAreas.length;_<v;++_){var y=g[_],b=y.bbox;y.bbox=new d(h.toRadians(b[1]),h.toRadians(b[0]),h.toRadians(b[3]),h.toRadians(b[2]))}}x._ready=!0,x._readyPromise.resolve(!0),m.handleSuccess(l)}function i(e){var t="An error occurred while accessing "+y.url+".";l=m.handleError(l,x,x._errorEvent,t,void 0,void 0,void 0,u),x._readyPromise.reject(new p(t))}function u(){var e=y.fetchJsonp("jsonp");_(e,n,i)}t=a(t,{}),this._key=e.getKey(t.key),this._resource=f.createIfNeeded(t.url),this._resource.appendForwardSlash(),this._tileProtocol=t.tileProtocol,this._mapStyle=a(t.mapStyle,v.AERIAL),this._culture=a(t.culture,""),this._tileDiscardPolicy=t.tileDiscardPolicy,this._proxy=t.proxy,this._credit=new o('<a href="http://www.bing.com"><img src="'+b.logoUrl+'" title="Bing Imagery"/></a>'),this.defaultGamma=1,this._tilingScheme=new g({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,ellipsoid:t.ellipsoid}),this._tileWidth=void 0,this._tileHeight=void 0,this._maximumLevel=void 0,this._imageUrlTemplate=void 0,this._imageUrlSubdomains=void 0,this._errorEvent=new c,this._ready=!1,this._readyPromise=_.defer();var l,y=this._resource.getDerivedResource({url:"REST/v1/Imagery/Metadata/"+this._mapStyle,queryParameters:{incl:"ImageryProviders",key:this._key}}),x=this;u()}function w(e,t,n,r,i){var o=e._imageUrlTemplate,a=e._imageUrlSubdomains,s=(t+n+r)%a.length;return e._resource.getDerivedResource({url:o,request:i,templateValues:{quadkey:b.tileXYToQuadKey(t,n,r),subdomain:a[s],culture:e._culture}})}function x(e,t,n){++t;for(var r=[],i=0,o=e.length;i<o;++i){for(var a=e[i],u=a.coverageAreas,l=!1,c=0,h=a.coverageAreas.length;!l&&c<h;++c){var f=u[c];if(t>=f.zoomMin&&t<=f.zoomMax){var p=d.intersection(n,f.bbox,C);s(p)&&(l=!0)}}l&&r.push(a.credit)}return r}u(b.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},key:{get:function(){return this._key}},mapStyle:{get:function(){return this._mapStyle}},culture:{get:function(){return this._culture}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!1}}});var E=new d;b.prototype.getTileCredits=function(e,t,n){var r=this._tilingScheme.tileXYToRectangle(e,t,n,E);return x(this._attributionList,n,r)},b.prototype.requestImage=function(e,t,n,r){return y.loadImage(this,w(this,e,t,n,r))},b.prototype.pickFeatures=function(e,t,n,r,i){},b.tileXYToQuadKey=function(e,t,n){for(var r="",i=n;i>=0;--i){var o=1<<i,a=0;0!=(e&o)&&(a|=1),0!=(t&o)&&(a|=2),r+=a}return r},b.quadKeyToTileXY=function(e){for(var t=0,n=0,r=e.length-1,i=r;i>=0;--i){var o=1<<i,a=+e[r-i];0!=(1&a)&&(t|=o),0!=(2&a)&&(n|=o)}return{x:t,y:n,level:r}},b._logoUrl=void 0,u(b,{logoUrl:{get:function(){return s(b._logoUrl)||(b._logoUrl=n(1247)),b._logoUrl},set:function(e){b._logoUrl=e}}});var C=new d;return b}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2)],void 0!==(i=function(e,t){"use strict";function n(){this.head=void 0,this.tail=void 0,this._length=0}function r(e,t,n){this.item=e,this.previous=t,this.next=n}function i(t,n){e(n.previous)&&e(n.next)?(n.previous.next=n.next,n.next.previous=n.previous):e(n.previous)?(n.previous.next=void 0,t.tail=n.previous):e(n.next)?(n.next.previous=void 0,t.head=n.next):(t.head=void 0,t.tail=void 0),n.next=void 0,n.previous=void 0}return t(n.prototype,{length:{get:function(){return this._length}}}),n.prototype.add=function(t){var n=new r(t,this.tail,void 0);return e(this.tail)?(this.tail.next=n,this.tail=n):(this.head=n,this.tail=n),++this._length,n},n.prototype.remove=function(t){e(t)&&(i(this,t),--this._length)},n.prototype.splice=function(e,t){if(e!==t){i(this,t);var n=e.next;e.next=t,this.tail===e?this.tail=t:n.previous=t,t.next=n,t.previous=e}},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(2)],void 0!==(i=function(e,t,n){"use strict";function r(e){e=t(e,0),this._array=new Array(e),this._length=e}return n(r.prototype,{length:{get:function(){return this._length},set:function(e){this._length=e,e>this._array.length&&(this._array.length=e)}},values:{get:function(){return this._array}}}),r.prototype.get=function(e){return this._array[e]},r.prototype.set=function(e,t){e>=this.length&&(this.length=e+1),this._array[e]=t},r.prototype.peek=function(){return this._array[this._length-1]},r.prototype.push=function(e){var t=this.length++;this._array[t]=e},r.prototype.pop=function(){return this._array[--this.length]},r.prototype.reserve=function(e){e>this._array.length&&(this._array.length=e)},r.prototype.resize=function(e){this.length=e},r.prototype.trim=function(e){e=t(e,this.length),this._array.length=e},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({HIGHLIGHT:0,REPLACE:1,MIX:2})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(109),n(57),n(145),n(1),n(0),n(34)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(a){t.accessor(a,function(e){i(e.bufferView)&&(e.byteOffset=r(e.byteOffset,0))}),t.bufferView(a,function(e){i(e.buffer)&&(e.byteOffset=r(e.byteOffset,0))}),t.mesh(a,function(n){t.meshPrimitive(n,function(t){if(t.mode=r(t.mode,o.TRIANGLES),!i(t.material)){i(a.materials)||(a.materials=[]);var n={name:"default"};t.material=e(a.materials,n)}})}),t.accessorContainingVertexAttributeData(a,function(e){var t=a.accessors[e],s=t.bufferView;if(t.normalized=r(t.normalized,!1),i(s)){var u=a.bufferViews[s];u.byteStride=n(a,t),u.target=o.ARRAY_BUFFER}}),t.accessorContainingIndexData(a,function(e){var t=a.accessors[e],n=t.bufferView;if(i(n)){a.bufferViews[n].target=o.ELEMENT_ARRAY_BUFFER}}),t.material(a,function(e){var n=r(e.extensions,r.EMPTY_OBJECT),o=n.KHR_materials_common;if(i(o)){var a=o.technique,s=i(o.values)?o.values:{};return o.values=s,s.ambient=i(s.ambient)?s.ambient:[0,0,0,1],s.emission=i(s.emission)?s.emission:[0,0,0,1],s.transparency=r(s.transparency,1),s.transparent=r(s.transparent,!1),s.doubleSided=r(s.doubleSided,!1),void("CONSTANT"!==a&&(s.diffuse=i(s.diffuse)?s.diffuse:[0,0,0,1],"LAMBERT"!==a&&(s.specular=i(s.specular)?s.specular:[0,0,0,1],s.shininess=r(s.shininess,0))))}e.emissiveFactor=r(e.emissiveFactor,[0,0,0]),e.alphaMode=r(e.alphaMode,"OPAQUE"),e.doubleSided=r(e.doubleSided,!1),"MASK"===e.alphaMode&&(e.alphaCutoff=r(e.alphaCutoff,.5));var l=n.KHR_techniques_webgl;i(l)&&t.materialValue(e,function(e){i(e.index)&&u(e)}),u(e.emissiveTexture),u(e.normalTexture),u(e.occlusionTexture);var c=e.pbrMetallicRoughness;i(c)&&(c.baseColorFactor=r(c.baseColorFactor,[1,1,1,1]),c.metallicFactor=r(c.metallicFactor,1),c.roughnessFactor=r(c.roughnessFactor,1),u(c.baseColorTexture),u(c.metallicRoughnessTexture));var h=n.pbrSpecularGlossiness;i(h)&&(h.diffuseFactor=r(h.diffuseFactor,[1,1,1,1]),h.specularFactor=r(h.specularFactor,[1,1,1]),h.glossinessFactor=r(h.glossinessFactor,1),u(h.specularGlossinessTexture))}),t.animation(a,function(e){t.animationSampler(e,function(e){e.interpolation=r(e.interpolation,"LINEAR")})});var l=s(a);return t.node(a,function(e,t){i(l[t])||i(e.translation)||i(e.rotation)||i(e.scale)?(e.translation=r(e.translation,[0,0,0]),e.rotation=r(e.rotation,[0,0,0,1]),e.scale=r(e.scale,[1,1,1])):e.matrix=r(e.matrix,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}),t.sampler(a,function(e){e.wrapS=r(e.wrapS,o.REPEAT),e.wrapT=r(e.wrapT,o.REPEAT)}),i(a.scenes)&&!i(a.scene)&&(a.scene=0),a}function s(e){var n={};return t.animation(e,function(e){t.animationChannel(e,function(e){var t=e.target,r=t.node,i=t.path;"translation"!==i&&"rotation"!==i&&"scale"!==i||(n[r]=!0)})}),n}function u(e){i(e)&&(e.texCoord=r(e.texCoord,0))}return a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(605),n(1255),n(1),n(0),n(175),n(108),n(26)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e){if("glTF"!==i(e))throw new a("File is not valid binary glTF");var t=u(e,0,5),n=t[1];if(1!==n&&2!==n)throw new a("Binary glTF version is not 1 or 2");return 1===n?l(e,t):c(e,t)}function u(e,t,n){for(var r=new DataView(e.buffer),i=new Array(n),o=0;o<n;++o)i[o]=r.getUint32(e.byteOffset+t+o*h,!0);return i}function l(i,s){var u=s[2],l=s[3];if(0!==s[4])throw new a("Binary glTF scene format is not JSON");var c=20+l,h=o(i,20,l),d=JSON.parse(h);e(d);var f=i.subarray(c,u),p=d.buffers;if(r(p)&&Object.keys(p).length>0){var m=n(p.binary_glTF,p.KHR_binary_glTF);r(m)&&(m.extras._pipeline.source=f)}return t(d,"KHR_binary_glTF"),d}function c(t,n){for(var i,a,s=n[2],l=12;l<s;){var c=u(t,l,2),h=c[0],d=c[1];l+=8;var f=t.subarray(l,l+h);if(l+=h,1313821514===d){var p=o(f);i=JSON.parse(p),e(i)}else 5130562===d&&(a=f)}if(r(i)&&r(a)){var m=i.buffers;if(r(m)&&m.length>0){m[0].extras._pipeline.source=a}}return i}var h=4;return s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(57),n(0)],void 0!==(i=function(e,t){"use strict";function n(t){return e.shader(t,function(e){r(e)}),e.buffer(t,function(e){r(e)}),e.image(t,function(t){r(t),e.compressedImage(t,function(e){r(e)})}),r(t),t}function r(e){e.extras=t(e.extras)?e.extras:{},e.extras._pipeline=t(e.extras._pipeline)?e.extras._pipeline:{}}return n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(264),n(109),n(1257),n(57),n(145),n(110),n(1258),n(1259),n(1261),n(1262),n(10),n(41),n(27),n(31),n(1),n(0),n(62),n(20),n(59),n(34)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A){"use strict";function y(e,t){t=p(t,p.EMPTY_OBJECT);var n=t.targetVersion,r=e.version;e.asset=p(e.asset,{version:"1.0"}),e.asset.version=p(e.asset.version,"1.0"),r=p(r,e.asset.version).toString(),Y.hasOwnProperty(r)||(m(r)&&(r=r.substring(0,3)),Y.hasOwnProperty(r)||(r="1.0"));for(var i=Y[r];m(i)&&r!==n;)i(e,t),r=e.asset.version,i=Y[r];return e}function b(e){var t=e.materials;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],i=r.instanceTechnique;m(i)&&(r.technique=i.technique,r.values=i.values,delete r.instanceTechnique)}}function w(e){var t=e.meshes;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],i=r.primitives;if(m(i))for(var o=i.length,a=0;a<o;++a){var s=i[a],u=p(s.primitive,A.TRIANGLES);s.mode=p(s.mode,u),delete s.primitive}}}function x(e){var t=e.nodes,n=new c,r=new v;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(m(o.rotation)){var a=o.rotation;c.fromArray(a,0,n),v.fromAxisAngle(n,a[3],r),o.rotation=[r.x,r.y,r.z,r.w]}var s=o.instanceSkin;m(s)&&(o.skeletons=s.skeletons,o.skin=s.skin,o.meshes=s.meshes,delete o.instanceSkin)}}function E(e){var t=e.animations,n=e.accessors,r=e.bufferViews,i=e.buffers,a={},s=new c,u=new v;for(var l in t)if(t.hasOwnProperty(l)){var h=t[l],d=h.channels,p=h.parameters,g=h.samplers;if(m(d))for(var _=d.length,A=0;A<_;++A){var y=d[A];if("rotation"===y.target.path){var b=p[g[y.sampler].output];if(m(a[b]))continue;a[b]=!0;for(var w=n[b],x=r[w.bufferView],E=i[x.buffer],C=E.extras._pipeline.source,S=C.byteOffset+x.byteOffset+w.byteOffset,T=w.componentType,I=w.count,M=o(w.type),O=w.count*M,P=f.createArrayBufferView(T,C.buffer,S,O),D=0;D<I;D++){var B=D*M;c.unpack(P,B,s);var L=P[B+3];v.fromAxisAngle(s,L,u),v.pack(u,P,B)}}}}}function C(e){var t=e.techniques;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],i=r.passes;if(m(i)){var o=p(r.pass,"defaultPass");if(i.hasOwnProperty(o)){var a=i[o],s=a.instanceProgram;r.attributes=p(r.attributes,s.attributes),r.program=p(r.program,s.program),r.uniforms=p(r.uniforms,s.uniforms),r.states=p(r.states,a.states)}delete r.passes,delete r.pass}}}function S(t){m(t.asset)||(t.asset={});var n=t.asset;if(n.version="1.0","string"==typeof n.profile){var r=n.profile.split(" ");n.profile={api:r[0],version:r[1]}}else n.profile={};if(m(t.version)&&delete t.version,b(t),w(t),x(t),E(t),C(t),m(t.allExtensions)&&(t.extensionsUsed=t.allExtensions,delete t.allExtensions),m(t.lights)){var i=p(t.extensions,{});t.extensions=i;var o=p(i.KHR_materials_common,{});i.KHR_materials_common=o,o.lights=t.lights,delete t.lights,e(t,"KHR_materials_common")}}function T(e){var t=e.animations;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],i=r.parameters;if(m(i)){var o=r.samplers;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];s.input=i[s.input],s.output=i[s.output]}delete r.parameters}}}function I(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];t[r]=n.length,n.push(i),m(i.name)||(i.name=r)}return n}function M(e){var n,i,o={accessors:{},animations:{},buffers:{},bufferViews:{},cameras:{},images:{},materials:{},meshes:{},nodes:{},programs:{},samplers:{},scenes:{},shaders:{},skins:{},textures:{},techniques:{}},a={},s=e.nodes;for(var u in s)s.hasOwnProperty(u)&&(i=s[u].jointName,m(i)&&(a[i]=u));for(var l in e)if(e.hasOwnProperty(l)&&m(o[l])){var c={},h=e[l];e[l]=I(h,c),o[l]=c}for(i in a)a.hasOwnProperty(i)&&(a[i]=o.nodes[a[i]]);m(e.scene)&&(e.scene=o.scenes[e.scene]),r.bufferView(e,function(e){m(e.buffer)&&(e.buffer=o.buffers[e.buffer])}),r.accessor(e,function(e){m(e.bufferView)&&(e.bufferView=o.bufferViews[e.bufferView])}),r.shader(e,function(e){var t=e.extensions;if(m(t)){var n=t.KHR_binary_glTF;m(n)&&(e.bufferView=o.bufferViews[n.bufferView],delete t.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}}),r.program(e,function(e){m(e.vertexShader)&&(e.vertexShader=o.shaders[e.vertexShader]),m(e.fragmentShader)&&(e.fragmentShader=o.shaders[e.fragmentShader])}),r.technique(e,function(e){m(e.program)&&(e.program=o.programs[e.program]),r.techniqueParameter(e,function(e){m(e.node)&&(e.node=o.nodes[e.node]);var t=e.value;"string"==typeof t&&(e.value={index:o.textures[t]})})}),r.mesh(e,function(e){r.meshPrimitive(e,function(e){m(e.indices)&&(e.indices=o.accessors[e.indices]),r.meshPrimitiveAttribute(e,function(t,n){e.attributes[n]=o.accessors[t]}),m(e.material)&&(e.material=o.materials[e.material])})}),r.node(e,function(r){var i=r.children;if(m(i)){var a=i.length;for(n=0;n<a;++n)i[n]=o.nodes[i[n]]}if(m(r.meshes)){var s=r.meshes,u=s.length;if(u>0)for(r.mesh=o.meshes[s[0]],n=1;n<u;++n){var l={mesh:o.meshes[s[n]]},c=t(e.nodes,l);m(i)||(i=[],r.children=i),i.push(c)}delete r.meshes}if(m(r.camera)&&(r.camera=o.cameras[r.camera]),m(r.skin)&&(r.skin=o.skins[r.skin]),m(r.skeletons)){var h=r.skeletons;if(h.length>0&&m(r.skin)){e.skins[r.skin].skeleton=o.nodes[h[0]]}delete r.skeletons}m(r.jointName)&&delete r.jointName}),r.skin(e,function(e){m(e.inverseBindMatrices)&&(e.inverseBindMatrices=o.accessors[e.inverseBindMatrices]);var t=e.jointNames;if(m(t)){var r=[],i=t.length;for(n=0;n<i;++n)r[n]=a[t[n]];e.joints=r,delete e.jointNames}}),r.scene(e,function(e){var t=e.nodes;if(m(t)){var r=t.length;for(n=0;n<r;++n)t[n]=o.nodes[t[n]]}}),r.animation(e,function(e){var t={};e.samplers=I(e.samplers,t),r.animationSampler(e,function(e){e.input=o.accessors[e.input],e.output=o.accessors[e.output]}),r.animationChannel(e,function(e){e.sampler=t[e.sampler];var n=e.target;m(n)&&(n.node=o.nodes[n.id],delete n.id)})}),r.material(e,function(e){m(e.technique)&&(e.technique=o.techniques[e.technique]),r.materialValue(e,function(t,n){"string"==typeof t&&(e.values[n]={index:o.textures[t]})});var t=e.extensions;if(m(t)){var n=t.KHR_materials_common;m(n)&&r.materialValue(n,function(e,t){"string"==typeof e&&(n.values[t]={index:o.textures[e]})})}}),r.image(e,function(e){var t=e.extensions;if(m(t)){var n=t.KHR_binary_glTF;m(n)&&(e.bufferView=o.bufferViews[n.bufferView],e.mimeType=n.mimeType,delete t.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}r.compressedImage(e,function(e){var n=e.extensions;if(m(n)){var r=n.KHR_binary_glTF;m(r)&&(e.bufferView=o.bufferViews[r.bufferView],e.mimeType=r.mimeType,delete n.KHR_binary_glTF),0===Object.keys(t).length&&delete e.extensions}})}),r.texture(e,function(e){m(e.sampler)&&(e.sampler=o.samplers[e.sampler]),m(e.source)&&(e.source=o.images[e.source])})}function O(e){r.animation(e,function(e){r.animationSampler(e,function(e){delete e.name})})}function P(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];g(n)&&0===n.length&&delete e[t]}r.node(e,function(e){m(e.children)&&0===e.children.length&&delete e.children})}function D(e){var t=e.asset;delete t.profile,delete t.premultipliedAlpha}function B(e){var t=e.extensionsUsed;if(e.extensionsRequired=p(e.extensionsRequired,[]),m(t))for(var n=t.length,r=0;r<n;++r){var i=t[r];m(K[i])&&e.extensionsRequired.push(i)}}function L(e){r.buffer(e,function(e){delete e.type})}function N(e){r.texture(e,function(e){delete e.format,delete e.internalFormat,delete e.target,delete e.type})}function R(e){r.mesh(e,function(e){r.meshPrimitive(e,function(e){r.meshPrimitiveAttribute(e,function(t,n){"TEXCOORD"===n?e.attributes.TEXCOORD_0=t:"COLOR"===n&&(e.attributes.COLOR_0=t)}),delete e.attributes.TEXCOORD,delete e.attributes.COLOR})}),r.technique(e,function(e){r.techniqueParameter(e,function(e){var t=e.semantic;m(t)&&("TEXCOORD"===t?e.semantic="TEXCOORD_0":"COLOR"===t&&(e.semantic="COLOR_0"))})})}function k(e){var t={};r.mesh(e,function(e){r.meshPrimitive(e,function(e){r.meshPrimitiveAttribute(e,function(e,n){if("_"!==n.charAt(0)){var r=n.search(/_[0-9]+/g),i=n,o="_0";r>=0&&(i=n.substring(0,r),o=n.substring(r));var a,s=Z[i];m(s)?(a=s+o,t[n]=a):m(X[i])||(a="_"+n,t[n]=a)}});for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],o=e.attributes[n];m(o)&&(delete e.attributes[n],e.attributes[i]=o)}})}),r.technique(e,function(e){r.techniqueParameter(e,function(e){var n=t[e.semantic];m(n)&&(e.semantic=n)})})}function F(e){r.camera(e,function(e){var t=e.perspective;if(m(t)){var n=t.aspectRatio;m(n)&&0===n&&delete t.aspectRatio;var r=t.yfov;m(r)&&0===r&&(t.yfov=1)}})}function U(e,t){return m(t.byteStride)&&0!==t.byteStride?t.byteStride:i(e,t)}function z(e){r.buffer(e,function(e){m(e.byteLength)||(e.byteLength=e.extras._pipeline.source.length)}),r.accessor(e,function(t){var n=t.bufferView;if(m(n)){var r=e.bufferViews[n],i=U(e,t),o=t.byteOffset+t.count*i;r.byteLength=Math.max(p(r.byteLength,0),o)}})}function j(e){var n,i,o,a=e.bufferViews,s={};r.accessorContainingVertexAttributeData(e,function(t){var n=e.accessors[t];m(n.bufferView)&&(s[n.bufferView]=!0)});var l={};r.accessor(e,function(e){m(e.bufferView)&&(l[e.bufferView]=p(l[e.bufferView],[]),l[e.bufferView].push(e))});for(var c in l)if(l.hasOwnProperty(c)){o=a[c];var h=l[c];h.sort(function(e,t){return e.byteOffset-t.byteOffset});var f=0,g=0,_=h.length;for(n=0;n<_;++n){var v=h[n],A=U(e,v),y=v.byteOffset,b=v.count*A;delete v.byteStride;var w=n<_-1,x=w?U(e,h[n+1]):void 0;if(A!==x){var E=d(o,!0);s[c]&&(E.byteStride=A),E.byteOffset+=f,E.byteLength=y+b-f;var C=t(a,E);for(i=g;i<=n;++i)v=h[i],v.bufferView=C,v.byteOffset=v.byteOffset-f;f=w?h[n+1].byteOffset:void 0,g=n+1}}}u(e)}function H(e){r.accessorWithSemantic(e,"POSITION",function(t){var r=e.accessors[t];if(!m(r.min)||!m(r.max)){var i=n(e,r);r.min=i.min,r.max=i.max}})}function V(e){return(!m(e.children)||0===e.children.length)&&(!m(e.meshes)||0===e.meshes.length)&&!m(e.camera)&&!m(e.skin)&&!m(e.skeletons)&&!m(e.jointName)&&(!m(e.translation)||c.fromArray(e.translation).equals(c.ZERO))&&(!m(e.scale)||c.fromArray(e.scale).equals(new c(1,1,1)))&&(!m(e.rotation)||h.fromArray(e.rotation).equals(new h(0,0,0,1)))&&(!m(e.matrix)||_.fromColumnMajorArray(e.matrix).equals(_.IDENTITY))}function Q(e,t){r.scene(e,function(e){var n=e.nodes;if(m(n))for(var r=n.length,i=r;i>=0;--i)if(n[i]===t)return void n.splice(i,1)}),r.node(e,function(n,r){if(m(n.children)){var i=n.children.indexOf(t);i>-1&&(n.children.splice(i,1),V(n)&&Q(e,r))}}),delete e.nodes[t]}function G(e){return r.node(e,function(t,n){V(t)&&Q(e,n)}),e}function W(e){r.animation(e,function(t){r.animationSampler(t,function(t){var r=e.accessors[t.input];if(!m(r.min)||!m(r.max)){var i=n(e,r);r.min=i.min,r.max=i.max}})})}function q(e){e.asset=p(e.asset,{}),e.asset.version="2.0",b(e),T(e),G(e),M(e),O(e),D(e),B(e),z(e),j(e),H(e),W(e),L(e),N(e),R(e),k(e),l(e),F(e),a(e),s(e),P(e)}var Y={.8:S,"1.0":q,"2.0":void 0},K={CESIUM_RTC:!0,KHR_materials_common:!0,WEB3D_quantized_attributes:!0},X={POSITION:!0,NORMAL:!0,TANGENT:!0},Z={COLOR:"COLOR",JOINT:"JOINTS",JOINTS:"JOINTS",TEXCOORD:"TEXCOORD",WEIGHT:"WEIGHTS",WEIGHTS:"WEIGHTS"};return y}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(31)],void 0!==(i=function(e){"use strict";function t(t){switch(t){case e.BYTE:return function(e,t,n,r,i){for(var o=0;o<n;++o)i[o]=e.getInt8(t+o*r)};case e.UNSIGNED_BYTE:return function(e,t,n,r,i){for(var o=0;o<n;++o)i[o]=e.getUint8(t+o*r)};case e.SHORT:return function(e,t,n,r,i){for(var o=0;o<n;++o)i[o]=e.getInt16(t+o*r,!0)};case e.UNSIGNED_SHORT:return function(e,t,n,r,i){for(var o=0;o<n;++o)i[o]=e.getUint16(t+o*r,!0)};case e.INT:return function(e,t,n,r,i){for(var o=0;o<n;++o)i[o]=e.getInt32(t+o*r,!0)};case e.UNSIGNED_INT:return function(e,t,n,r,i){for(var o=0;o<n;++o)i[o]=e.getUint32(t+o*r,!0)};case e.FLOAT:return function(e,t,n,r,i){for(var o=0;o<n;++o)i[o]=e.getFloat32(t+o*r,!0)};case e.DOUBLE:return function(e,t,n,r,i){for(var o=0;o<n;++o)i[o]=e.getFloat64(t+o*r,!0)}}}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(450)],void 0!==(i=function(e){"use strict";function t(){this.initialized=!1,this.resourcesParsed=!1,this.vertexBuffersToCreate=new e,this.indexBuffersToCreate=new e,this.buffers={},this.pendingBufferLoads=0,this.programsToCreate=new e,this.shaders={},this.pendingShaderLoads=0,this.texturesToCreate=new e,this.pendingTextureLoads=0,this.texturesToCreateFromBufferView=new e,this.pendingBufferViewToImage=0,this.createSamplers=!0,this.createSkins=!0,this.createRuntimeAnimations=!0,this.createVertexArrays=!0,this.createRenderStates=!0,this.createUniformMaps=!0,this.createRuntimeNodes=!0,this.createdBufferViews={},this.primitivesToDecode=new e,this.activeDecodingTasks=0,this.pendingDecodingCache=!1,this.skinnedNodesIds=[]}function n(e,t,n){return e.subarray(t,t+n)}return t.prototype.getBuffer=function(e){return n(this.buffers[e.buffer],e.byteOffset,e.byteLength)},t.prototype.finishedPendingBufferLoads=function(){return 0===this.pendingBufferLoads},t.prototype.finishedBuffersCreation=function(){return 0===this.pendingBufferLoads&&0===this.vertexBuffersToCreate.length&&0===this.indexBuffersToCreate.length},t.prototype.finishedProgramCreation=function(){return 0===this.pendingShaderLoads&&0===this.programsToCreate.length},t.prototype.finishedTextureCreation=function(){var e=0===this.pendingTextureLoads,t=0===this.texturesToCreate.length&&0===this.texturesToCreateFromBufferView.length;return e&&t},t.prototype.finishedEverythingButTextureCreation=function(){var e=0===this.pendingBufferLoads&&0===this.pendingShaderLoads,t=0===this.vertexBuffersToCreate.length&&0===this.indexBuffersToCreate.length&&0===this.programsToCreate.length&&0===this.pendingBufferViewToImage;return this.finishedDecoding()&&e&&t},t.prototype.finishedDecoding=function(){return 0===this.primitivesToDecode.length&&0===this.activeDecodingTasks&&!this.pendingDecodingCache},t.prototype.finished=function(){return this.finishedDecoding()&&this.finishedTextureCreation()&&this.finishedEverythingButTextureCreation()},t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(178),n(0),n(1),n(34),n(610),n(109),n(57),n(177),n(110)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(r,i){if(i=n(i,{}),t(r)&&s(r,"KHR_materials_common")){s(r,"KHR_techniques_webgl")||(t(r.extensions)||(r.extensions={}),r.extensions.KHR_techniques_webgl={programs:[],shaders:[],techniques:[]},r.extensionsUsed.push("KHR_techniques_webgl"),r.extensionsRequired.push("KHR_techniques_webgl"));var o=r.extensions.KHR_techniques_webgl;p(r);var u=c(r),l=e.splitIncompatibleMaterials(r),d={},m=!1;return a.material(r,function(e,n){if(t(e.extensions)&&t(e.extensions.KHR_materials_common)){var a=e.extensions.KHR_materials_common,s=l[n],c=f(a,s),p=d[c];t(p)||(p=h(r,o,s,a,u,i.addBatchIdToGeneratedShaders),d[c]=p,m=!0);var g,_={},v=a.values;for(var A in v)v.hasOwnProperty(A)&&"transparent"!==A&&"doubleSided"!==A&&(g="u_"+A.toLowerCase(),_[g]=v[A]);e.extensions.KHR_techniques_webgl={technique:p,values:_},e.alphaMode="OPAQUE",a.transparent&&(e.alphaMode="BLEND"),a.doubleSided&&(e.doubleSided=!0)}}),m?(e.ensureSemanticExistence(r),r):r}}function c(e){var n,i={};if(t(e.extensions)&&t(e.extensions.KHR_materials_common)&&(n=e.extensions.KHR_materials_common.lights),t(n)){var o=e.nodes;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];if(t(s.extensions)&&t(s.extensions.KHR_materials_common)){var u=s.extensions.KHR_materials_common.light;t(u)&&t(n[u])&&(n[u].node=a),delete s.extensions.KHR_materials_common}}var l=0;for(var c in n)if(n.hasOwnProperty(c)){var h=n[c],d=h.type;if("ambient"!==d&&!t(h.node)){delete n[c];continue}var f="light"+l.toString();switch(h.baseName=f,d){case"ambient":var p=h.ambient;i[f+"Color"]={type:r.FLOAT_VEC3,value:p.color};break;case"directional":var m=h.directional;i[f+"Color"]={type:r.FLOAT_VEC3,value:m.color},t(h.node)&&(i[f+"Transform"]={node:h.node,semantic:"MODELVIEW",type:r.FLOAT_MAT4});break;case"point":var g=h.point;i[f+"Color"]={type:r.FLOAT_VEC3,value:g.color},t(h.node)&&(i[f+"Transform"]={node:h.node,semantic:"MODELVIEW",type:r.FLOAT_MAT4}),i[f+"Attenuation"]={type:r.FLOAT_VEC3,value:[g.constantAttenuation,g.linearAttenuation,g.quadraticAttenuation]};break;case"spot":var _=h.spot;i[f+"Color"]={type:r.FLOAT_VEC3,value:_.color},t(h.node)&&(i[f+"Transform"]={node:h.node,semantic:"MODELVIEW",type:r.FLOAT_MAT4},i[f+"InverseTransform"]={node:h.node,semantic:"MODELVIEWINVERSE",type:r.FLOAT_MAT4,useInFragment:!0}),i[f+"Attenuation"]={type:r.FLOAT_VEC3,value:[_.constantAttenuation,_.linearAttenuation,_.quadraticAttenuation]},i[f+"FallOff"]={type:r.FLOAT_VEC2,value:[_.fallOffAngle,_.fallOffExponent]}}++l}}return i}function h(a,l,c,h,f,p){t(h)||(h={}),p=n(p,!1);var m,g=l.techniques,_=l.shaders,v=l.programs,A=h.technique.toUpperCase();t(a.extensions)&&t(a.extensions.KHR_materials_common)&&(m=a.extensions.KHR_materials_common.lights);var y,b=h.values,w=n(h.jointCount,0),x=!1,E=!1;t(c)&&(y=c.skinning,x=y.skinned,E=c.hasVertexColors);var C="precision highp float;\n",S="precision highp float;\n",T="CONSTANT"!==A,I={u_modelViewMatrix:{semantic:s(a,"CESIUM_RTC")?"CESIUM_RTC_MODELVIEW":"MODELVIEW",type:r.FLOAT_MAT4},u_projectionMatrix:{semantic:"PROJECTION",type:r.FLOAT_MAT4}};T&&(I.u_normalMatrix={semantic:"MODELVIEWINVERSETRANSPOSE",type:r.FLOAT_MAT3}),x&&(I.u_jointMatrix={count:w,semantic:"JOINTMATRIX",type:r.FLOAT_MAT4});var M,O=!1;for(var P in b)if(b.hasOwnProperty(P)&&"transparent"!==P&&"doubleSided"!==P){var D=d(P,b[P]);M="u_"+P.toLowerCase(),O||D!==r.SAMPLER_2D||(O=!0),I[M]={type:D}}if(t(I.u_diffuse)&&(I.u_diffuse.semantic="_3DTILESDIFFUSE"),t(f))for(var B in f)f.hasOwnProperty(B)&&(M="u_"+B,I[M]=f[B]);for(M in I)if(I.hasOwnProperty(M)){var L=I[M],N=t(L.count)?"["+L.count+"]":"";L.type!==r.FLOAT_MAT3&&L.type!==r.FLOAT_MAT4||L.useInFragment?(S+="uniform "+i(L.type)+" "+M+N+";\n",delete L.useInFragment):C+="uniform "+i(L.type)+" "+M+N+";\n"}var R="";if(x){var k,F,U=u(y.type),z=!1;if(0===y.type.indexOf("MAT")&&(z=!0,U=Math.sqrt(U)),z)for(k=0;k<U;k++)for(F=0;F<U;F++)R+=0===k&&0===F?"  mat4 skinMat = ":"  skinMat += ",R+="a_weight["+k+"]["+F+"] * u_jointMatrix[int(a_joint["+k+"]["+F+"])];\n";else for(k=0;k<U;k++)R+=0===k?"  mat4 skinMat = ":"  skinMat += ",R+="a_weight["+k+"] * u_jointMatrix[int(a_joint["+k+"])];\n"}var j={a_position:{semantic:"POSITION"}};C+="attribute vec3 a_position;\n",C+="varying vec3 v_positionEC;\n",R+=x?"  vec4 pos = u_modelViewMatrix * skinMat * vec4(a_position,1.0);\n":"  vec4 pos = u_modelViewMatrix * vec4(a_position,1.0);\n",R+="  v_positionEC = pos.xyz;\n",R+="  gl_Position = u_projectionMatrix * pos;\n",S+="varying vec3 v_positionEC;\n",T&&(j.a_normal={semantic:"NORMAL"},C+="attribute vec3 a_normal;\n",C+="varying vec3 v_normal;\n",R+=x?"  v_normal = u_normalMatrix * mat3(skinMat) * a_normal;\n":"  v_normal = u_normalMatrix * a_normal;\n",S+="varying vec3 v_normal;\n");var H;if(O&&(j.a_texcoord_0={semantic:"TEXCOORD_0"},H="v_texcoord_0",C+="attribute vec2 a_texcoord_0;\n",C+="varying vec2 "+H+";\n",R+="  "+H+" = a_texcoord_0;\n",S+="varying vec2 "+H+";\n"),x){var V=e.getShaderVariable(y.type);j.a_joint={semantic:"JOINT"},j.a_weight={semantic:"WEIGHT"},C+="attribute "+V+" a_joint;\n",C+="attribute "+V+" a_weight;\n"}E&&(j.a_vertexColor={semantic:"COLOR_0"},C+="attribute vec4 a_vertexColor;\n",C+="varying vec4 v_vertexColor;\n",R+="  v_vertexColor = a_vertexColor;\n",S+="varying vec4 v_vertexColor;\n"),p&&(j.a_batchId={semantic:"_BATCHID"},C+="attribute float a_batchId;\n");var Q=T&&("BLINN"===A||"PHONG"===A)&&t(I.u_specular)&&t(I.u_shininess)&&I.u_shininess>0,G=!1,W=!1,q="";for(var Y in m)if(m.hasOwnProperty(Y)){var K=m[Y],X=K.type.toLowerCase(),Z=K.baseName;q+="  {\n";var J,$,ee="u_"+Z+"Color";"ambient"===X?(W=!0,q+="    ambientLight += "+ee+";\n"):T&&(G=!0,J="v_"+Z+"Direction",$="v_"+Z+"Position","point"!==X&&(C+="varying vec3 "+J+";\n",S+="varying vec3 "+J+";\n",R+="  "+J+" = mat3(u_"+Z+"Transform) * vec3(0.,0.,1.);\n","directional"===X&&(q+="    vec3 l = normalize("+J+");\n")),"directional"!==X?(C+="varying vec3 "+$+";\n",S+="varying vec3 "+$+";\n",R+="  "+$+" = u_"+Z+"Transform[3].xyz;\n",q+="    vec3 VP = "+$+" - v_positionEC;\n",q+="    vec3 l = normalize(VP);\n",q+="    float range = length(VP);\n",q+="    float attenuation = 1.0 / (u_"+Z+"Attenuation.x + ",q+="(u_"+Z+"Attenuation.y * range) + ",q+="(u_"+Z+"Attenuation.z * range * range));\n"):q+="    float attenuation = 1.0;\n","spot"===X&&(q+="    float spotDot = dot(l, normalize("+J+"));\n",q+="    if (spotDot < cos(u_"+Z+"FallOff.x * 0.5))\n",q+="    {\n",q+="      attenuation = 0.0;\n",q+="    }\n",q+="    else\n",q+="    {\n",q+="        attenuation *= max(0.0, pow(spotDot, u_"+Z+"FallOff.y));\n",q+="    }\n"),q+="    diffuseLight += "+ee+"* max(dot(normal,l), 0.) * attenuation;\n",Q&&("BLINN"===A?(q+="    vec3 h = normalize(l + viewDir);\n",q+="    float specularIntensity = max(0., pow(max(dot(normal, h), 0.), u_shininess)) * attenuation;\n"):(q+="    vec3 reflectDir = reflect(-l, normal);\n",q+="    float specularIntensity = max(0., pow(max(dot(reflectDir, viewDir), 0.), u_shininess)) * attenuation;\n"),q+="    specularLight += "+ee+" * specularIntensity;\n")),q+="  }\n"}if(W||(q+="  ambientLight += vec3(0.2, 0.2, 0.2);\n"),!G&&"CONSTANT"!==A){q+="  vec3 l = normalize(czm_sunDirectionEC);\n";q+="  diffuseLight += vec3(1.0, 1.0, 1.0) * max(dot(normal,l), 0.2);\n",Q&&("BLINN"===A?(q+="  vec3 h = normalize(l + viewDir);\n",q+="  float specularIntensity = max(0., pow(max(dot(normal, h), 0.), u_shininess));\n"):(q+="  vec3 reflectDir = reflect(-l, normal);\n",q+="  float specularIntensity = max(0., pow(max(dot(reflectDir, viewDir), 0.), u_shininess));\n"),q+="  specularLight += vec3(1.0, 1.0, 1.0) * specularIntensity;\n")}C+="void main(void) {\n",C+=R,C+="}\n",S+="void main(void) {\n";var te="  vec3 color = vec3(0.0, 0.0, 0.0);\n";T&&(S+="  vec3 normal = normalize(v_normal);\n",h.doubleSided&&(S+="  if (gl_FrontFacing == false)\n",S+="  {\n",S+="    normal = -normal;\n",S+="  }\n"));var ne;"CONSTANT"!==A?(t(I.u_diffuse)&&(I.u_diffuse.type===r.SAMPLER_2D?S+="  vec4 diffuse = texture2D(u_diffuse, "+H+");\n":S+="  vec4 diffuse = u_diffuse;\n",S+="  vec3 diffuseLight = vec3(0.0, 0.0, 0.0);\n",te+="  color += diffuse.rgb * diffuseLight;\n"),Q&&(I.u_specular.type===r.SAMPLER_2D?S+="  vec3 specular = texture2D(u_specular, "+H+").rgb;\n":S+="  vec3 specular = u_specular.rgb;\n",S+="  vec3 specularLight = vec3(0.0, 0.0, 0.0);\n",te+="  color += specular * specularLight;\n"),ne=t(I.u_transparency)?"  gl_FragColor = vec4(color * diffuse.a * u_transparency, diffuse.a * u_transparency);\n":"  gl_FragColor = vec4(color * diffuse.a, diffuse.a);\n"):ne=t(I.u_transparency)?"  gl_FragColor = vec4(color * u_transparency, u_transparency);\n":"  gl_FragColor = vec4(color, 1.0);\n",E&&(te+="  color *= v_vertexColor.rgb;\n"),t(I.u_emission)&&(I.u_emission.type===r.SAMPLER_2D?S+="  vec3 emission = texture2D(u_emission, "+H+").rgb;\n":S+="  vec3 emission = u_emission.rgb;\n",te+="  color += emission;\n"),(t(I.u_ambient)||"CONSTANT"!==A)&&(t(I.u_ambient)?I.u_ambient.type===r.SAMPLER_2D?S+="  vec3 ambient = texture2D(u_ambient, "+H+").rgb;\n":S+="  vec3 ambient = u_ambient.rgb;\n":S+="  vec3 ambient = diffuse.rgb;\n",te+="  color += ambient * ambientLight;\n"),S+="  vec3 viewDir = -normalize(v_positionEC);\n",S+="  vec3 ambientLight = vec3(0.0, 0.0, 0.0);\n",S+=q,S+=te,S+=ne,S+="}\n";var re=o(_,{type:r.VERTEX_SHADER,extras:{_pipeline:{source:C,extension:".glsl"}}}),ie=o(_,{type:r.FRAGMENT_SHADER,extras:{_pipeline:{source:S,extension:".glsl"}}}),oe=o(v,{fragmentShader:ie,vertexShader:re});return o(g,{attributes:j,program:oe,uniforms:I})}function d(e,n){var i;switch(i=t(n.value)?n.value:t(n.index)?[n.index]:n,e){case"ambient":case"diffuse":case"emission":case"specular":return 1===i.length?r.SAMPLER_2D:r.FLOAT_VEC4;case"shininess":case"transparency":return r.FLOAT;case"transparent":case"doubleSided":return r.BOOL}}function f(e,r){var i="";i+="technique:"+e.technique+";";for(var o=e.values,a=Object.keys(o).sort(),s=a.length,u=0;u<s;++u){var l=a[u];o.hasOwnProperty(l)&&(i+=l+":"+d(l,o[l]),i+=";")}var c=n(e.jointCount,0);if(i+=c.toString()+";",t(r)){var h=r.skinning;c>0&&(i+=h.type+";"),i+=r.hasVertexColors}return i}function p(e){var r=e.extensions.KHR_materials_common;if(t(r)&&t(r.lights))for(var i=r.lights,o=i.length,a=0;a<o;a++){var s=i[a];if("ambient"===s.type){t(s.ambient)||(s.ambient={});var u=s.ambient;t(u.color)||(u.color=[1,1,1])}else if("directional"===s.type){t(s.directional)||(s.directional={});var l=s.directional;t(l.color)||(l.color=[1,1,1])}else if("point"===s.type){t(s.point)||(s.point={});var c=s.point;t(c.color)||(c.color=[1,1,1]),c.constantAttenuation=n(c.constantAttenuation,1),c.linearAttenuation=n(c.linearAttenuation,0),c.quadraticAttenuation=n(c.quadraticAttenuation,0)}else if("spot"===s.type){t(s.spot)||(s.spot={});var h=s.spot;t(h.color)||(h.color=[1,1,1]),h.constantAttenuation=n(h.constantAttenuation,1),h.fallOffAngle=n(h.fallOffAngle,3.14159265),h.fallOffExponent=n(h.fallOffExponent,0),h.linearAttenuation=n(h.linearAttenuation,0),h.quadraticAttenuation=n(h.quadraticAttenuation,0)}}}return l}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(34)],void 0!==(i=function(e){"use strict";function t(t){switch(t){case e.FLOAT:return"float";case e.FLOAT_VEC2:return"vec2";case e.FLOAT_VEC3:return"vec3";case e.FLOAT_VEC4:return"vec4";case e.FLOAT_MAT2:return"mat2";case e.FLOAT_MAT3:return"mat3";case e.FLOAT_MAT4:return"mat4";case e.SAMPLER_2D:return"sampler2D";case e.BOOL:return"bool"}}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(178),n(0),n(1),n(34),n(610),n(109),n(57),n(177),n(110)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(r,i){if(i=n(i,{}),s(r,"KHR_techniques_webgl"))return r;if(!t(r.materials)||0===r.materials.length)return r;t(r.extensions)||(r.extensions={}),t(r.extensionsUsed)||(r.extensionsUsed=[]),t(r.extensionsRequired)||(r.extensionsRequired=[]),r.extensions.KHR_techniques_webgl={programs:[],shaders:[],techniques:[]},r.extensionsUsed.push("KHR_techniques_webgl"),r.extensionsRequired.push("KHR_techniques_webgl");var o=e.splitIncompatibleMaterials(r);return a.material(r,function(e,n){var a={},s=h(r,e,n,a,o,i);t(e.extensions)||(e.extensions={}),e.extensions.KHR_techniques_webgl={values:a,technique:s}}),e.ensureSemanticExistence(r),r}function c(e){return t(e.extensions)&&t(e.extensions.KHR_materials_pbrSpecularGlossiness)}function h(l,h,f,p,m,g){var _,v,A=n(g.addBatchIdToGeneratedShaders,!1),y=l.extensions.KHR_techniques_webgl,b=y.techniques,w=y.shaders,x=y.programs,E=c(h),C=h.pbrMetallicRoughness;if(t(C)&&!E)for(v in C)C.hasOwnProperty(v)&&(_="u_"+v,p[_]=C[v]);if(E){var S=h.extensions.KHR_materials_pbrSpecularGlossiness;for(v in S)S.hasOwnProperty(v)&&(_="u_"+v,p[_]=S[v])}for(var T in h)h.hasOwnProperty(T)&&(T.indexOf("Texture")>=0||T.indexOf("Factor")>=0)&&(_="u_"+T,p[_]=h[T]);var I,M="precision highp float;\n",O="precision highp float;\n";t(l.skins)&&(I=l.skins[0]);var P,D=t(I)?I.joints:[],B=D.length,L=m[f],N=!1,R=!1,k=!1,F=!1,U=!1,z=!1,j=!1;t(L)&&(P=L.skinning,N=P.skinned&&D.length>0,R=L.hasVertexColors,k=L.hasMorphTargets,F=L.hasNormals,U=L.hasTangents,z=L.hasTexCoords);var H;k&&a.mesh(l,function(e){a.meshPrimitive(e,function(e){if(e.material===f){var n=e.targets;t(n)&&(H=n)}})});var V={u_modelViewMatrix:{semantic:s(l,"CESIUM_RTC")?"CESIUM_RTC_MODELVIEW":"MODELVIEW",type:r.FLOAT_MAT4},u_projectionMatrix:{semantic:"PROJECTION",type:r.FLOAT_MAT4}};t(h.extensions)&&t(h.extensions.KHR_materials_unlit)&&(j=!0,F=!1,U=!1),F&&(V.u_normalMatrix={semantic:"MODELVIEWINVERSETRANSPOSE",type:r.FLOAT_MAT3}),N&&(V.u_jointMatrix={count:B,semantic:"JOINTMATRIX",type:r.FLOAT_MAT4}),k&&(V.u_morphWeights={count:H.length,semantic:"MORPHWEIGHTS",type:r.FLOAT});var Q=h.alphaMode;t(Q)&&"MASK"===Q&&(V.u_alphaCutoff={semantic:"ALPHACUTOFF",type:r.FLOAT});for(_ in p)p.hasOwnProperty(_)&&(V[_]={type:d(_)});var G=n(V.u_baseColorTexture,V.u_baseColorFactor);t(G)&&(G.semantic="_3DTILESDIFFUSE");for(_ in V)if(V.hasOwnProperty(_)){var W=V[_],q=t(W.count)?"["+W.count+"]":"";W.type!==r.FLOAT_MAT3&&W.type!==r.FLOAT_MAT4&&"u_morphWeights"!==_||W.useInFragment?(O+="uniform "+i(W.type)+" "+_+q+";\n",delete W.useInFragment):M+="uniform "+i(W.type)+" "+_+q+";\n"}var Y="";if(N){var K,X,Z=u(P.type),J=!1;if(0===P.type.indexOf("MAT")&&(J=!0,Z=Math.sqrt(Z)),J)for(K=0;K<Z;K++)for(X=0;X<Z;X++)Y+=0===K&&0===X?"    mat4 skinMatrix = ":"    skinMatrix += ",Y+="a_weight["+K+"]["+X+"] * u_jointMatrix[int(a_joint["+K+"]["+X+"])];\n";else for(K=0;K<Z;K++)Y+=0===K?"    mat4 skinMatrix = ":"    skinMatrix += ",Y+="a_weight["+K+"] * u_jointMatrix[int(a_joint["+K+"])];\n"}var $={a_position:{semantic:"POSITION"}};if(M+="attribute vec3 a_position;\n",F&&(M+="varying vec3 v_positionEC;\n",M+="varying vec3 v_positionWC;\n"),Y+="    vec3 weightedPosition = a_position;\n",F&&(Y+="    vec3 weightedNormal = a_normal;\n"),U&&(Y+="    vec4 weightedTangent = a_tangent;\n"),k)for(var ee=0;ee<H.length;ee++){var te=H[ee];for(var ne in te)if(te.hasOwnProperty(ne)&&"extras"!==ne){var re="a_"+ne+"_"+ee;$[re]={semantic:ne+"_"+ee},M+="attribute vec3 "+re+";\n","POSITION"===ne?Y+="    weightedPosition += u_morphWeights["+ee+"] * "+re+";\n":"NORMAL"===ne?Y+="    weightedNormal += u_morphWeights["+ee+"] * "+re+";\n":U&&"TANGENT"===ne&&(Y+="    weightedTangent.xyz += u_morphWeights["+ee+"] * "+re+";\n")}}Y+=N?"    vec4 position = skinMatrix * vec4(weightedPosition, 1.0);\n":"    vec4 position = vec4(weightedPosition, 1.0);\n",F&&(Y+="    v_positionWC = (czm_model * position).xyz;\n"),Y+="    position = u_modelViewMatrix * position;\n",F&&(Y+="    v_positionEC = position.xyz;\n"),Y+="    gl_Position = u_projectionMatrix * position;\n",F&&($.a_normal={semantic:"NORMAL"},M+="attribute vec3 a_normal;\n",M+="varying vec3 v_normal;\n",Y+=N?"    v_normal = u_normalMatrix * mat3(skinMatrix) * weightedNormal;\n":"    v_normal = u_normalMatrix * weightedNormal;\n",O+="varying vec3 v_normal;\n",O+="varying vec3 v_positionEC;\n",O+="varying vec3 v_positionWC;\n"),U&&($.a_tangent={semantic:"TANGENT"},M+="attribute vec4 a_tangent;\n",M+="varying vec4 v_tangent;\n",Y+="    v_tangent.xyz = u_normalMatrix * weightedTangent.xyz;\n",Y+="    v_tangent.w = weightedTangent.w;\n",O+="varying vec4 v_tangent;\n");var ie;if(z&&($.a_texcoord_0={semantic:"TEXCOORD_0"},ie="v_texcoord_0",M+="attribute vec2 a_texcoord_0;\n",M+="varying vec2 "+ie+";\n",Y+="    "+ie+" = a_texcoord_0;\n",O+="varying vec2 "+ie+";\n"),N){var oe=e.getShaderVariable(P.type);$.a_joint={semantic:"JOINTS_0"},$.a_weight={semantic:"WEIGHTS_0"},M+="attribute "+oe+" a_joint;\n",M+="attribute "+oe+" a_weight;\n"}R&&($.a_vertexColor={semantic:"COLOR_0"},M+="attribute vec4 a_vertexColor;\n",M+="varying vec4 v_vertexColor;\n",Y+="  v_vertexColor = a_vertexColor;\n",O+="varying vec4 v_vertexColor;\n"),A&&($.a_batchId={semantic:"_BATCHID"},M+="attribute float a_batchId;\n"),M+="void main(void) \n{\n",M+=Y,M+="}\n",F&&(O+="const float M_PI = 3.141592653589793;\n",O+="vec3 lambertianDiffuse(vec3 diffuseColor) \n{\n    return diffuseColor / M_PI;\n}\n\n",O+="vec3 fresnelSchlick2(vec3 f0, vec3 f90, float VdotH) \n{\n    return f0 + (f90 - f0) * pow(clamp(1.0 - VdotH, 0.0, 1.0), 5.0);\n}\n\n",O+="vec3 fresnelSchlick(float metalness, float VdotH) \n{\n    return metalness + (vec3(1.0) - metalness) * pow(1.0 - VdotH, 5.0);\n}\n\n",O+="float smithVisibilityG1(float NdotV, float roughness) \n{\n    float k = (roughness + 1.0) * (roughness + 1.0) / 8.0;\n    return NdotV / (NdotV * (1.0 - k) + k);\n}\n\n",O+="float smithVisibilityGGX(float roughness, float NdotL, float NdotV) \n{\n    return smithVisibilityG1(NdotL, roughness) * smithVisibilityG1(NdotV, roughness);\n}\n\n",O+="float GGX(float roughness, float NdotH) \n{\n    float roughnessSquared = roughness * roughness;\n    float f = (NdotH * roughnessSquared - NdotH) * NdotH + 1.0;\n    return roughnessSquared / (M_PI * f * f);\n}\n\n"),O+="vec3 SRGBtoLINEAR3(vec3 srgbIn) \n{\n    return pow(srgbIn, vec3(2.2));\n}\n\n",O+="vec4 SRGBtoLINEAR4(vec4 srgbIn) \n{\n    vec3 linearOut = pow(srgbIn.rgb, vec3(2.2));\n    return vec4(linearOut, srgbIn.a);\n}\n\n",O+="vec3 LINEARtoSRGB(vec3 linearIn) \n{\n    return pow(linearIn, vec3(1.0/2.2));\n}\n\n",O+="void main(void) \n{\n",F&&(O+="    vec3 ng = normalize(v_normal);\n",t(p.u_normalTexture)?U?(O+="    vec3 t = normalize(v_tangent.xyz);\n",O+="    vec3 b = normalize(cross(ng, t) * v_tangent.w);\n",O+="    mat3 tbn = mat3(t, b, ng);\n",O+="    vec3 n = texture2D(u_normalTexture, "+ie+").rgb;\n",O+="    n = normalize(tbn * (2.0 * n - 1.0));\n"):(O="#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n"+O,O+="#ifdef GL_OES_standard_derivatives\n",O+="    vec3 pos_dx = dFdx(v_positionEC);\n",O+="    vec3 pos_dy = dFdy(v_positionEC);\n",O+="    vec3 tex_dx = dFdx(vec3("+ie+",0.0));\n",O+="    vec3 tex_dy = dFdy(vec3("+ie+",0.0));\n",O+="    vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n",O+="    t = normalize(t - ng * dot(ng, t));\n",O+="    vec3 b = normalize(cross(ng, t));\n",O+="    mat3 tbn = mat3(t, b, ng);\n",O+="    vec3 n = texture2D(u_normalTexture, "+ie+").rgb;\n",O+="    n = normalize(tbn * (2.0 * n - 1.0));\n",O+="#else\n",O+="    vec3 n = ng;\n",O+="#endif\n"):O+="    vec3 n = ng;\n",h.doubleSided&&(O+="    if (!gl_FrontFacing)\n",O+="    {\n",O+="        n = -n;\n",O+="    }\n")),t(p.u_baseColorTexture)?(O+="    vec4 baseColorWithAlpha = SRGBtoLINEAR4(texture2D(u_baseColorTexture, "+ie+"));\n",t(p.u_baseColorFactor)&&(O+="    baseColorWithAlpha *= u_baseColorFactor;\n")):t(p.u_baseColorFactor)?O+="    vec4 baseColorWithAlpha = u_baseColorFactor;\n":O+="    vec4 baseColorWithAlpha = vec4(1.0);\n",R&&(O+="    baseColorWithAlpha *= v_vertexColor;\n"),O+="    vec3 baseColor = baseColorWithAlpha.rgb;\n",F?(E?(t(p.u_specularGlossinessTexture)?(O+="    vec4 specularGlossiness = SRGBtoLINEAR4(texture2D(u_specularGlossinessTexture, "+ie+"));\n",O+="    vec3 specular = specularGlossiness.rgb;\n",O+="    float glossiness = specularGlossiness.a;\n",t(p.u_specularFactor)&&(O+="    specular *= u_specularFactor;\n"),t(p.u_glossinessFactor)&&(O+="    glossiness *= u_glossinessFactor;\n")):(t(p.u_specularFactor)?O+="    vec3 specular = clamp(u_specularFactor, vec3(0.0), vec3(1.0));\n":O+="    vec3 specular = vec3(1.0);\n",t(p.u_glossinessFactor)?O+="    float glossiness = clamp(u_glossinessFactor, 0.0, 1.0);\n":O+="    float glossiness = 1.0;\n"),t(p.u_diffuseTexture)?(O+="    vec4 diffuse = SRGBtoLINEAR4(texture2D(u_diffuseTexture, "+ie+"));\n",t(p.u_diffuseFactor)&&(O+="    diffuse *= u_diffuseFactor;\n")):t(p.u_diffuseFactor)?O+="    vec4 diffuse = clamp(u_diffuseFactor, vec4(0.0), vec4(1.0));\n":O+="    vec4 diffuse = vec4(1.0);\n"):t(p.u_metallicRoughnessTexture)?(O+="    vec3 metallicRoughness = texture2D(u_metallicRoughnessTexture, "+ie+").rgb;\n",O+="    float metalness = clamp(metallicRoughness.b, 0.0, 1.0);\n",O+="    float roughness = clamp(metallicRoughness.g, 0.04, 1.0);\n",t(p.u_metallicFactor)&&(O+="    metalness *= u_metallicFactor;\n"),t(p.u_roughnessFactor)&&(O+="    roughness *= u_roughnessFactor;\n")):(t(p.u_metallicFactor)?O+="    float metalness = clamp(u_metallicFactor, 0.0, 1.0);\n":O+="    float metalness = 1.0;\n",t(p.u_roughnessFactor)?O+="    float roughness = clamp(u_roughnessFactor, 0.04, 1.0);\n":O+="    float roughness = 1.0;\n"),O+="    vec3 v = -normalize(v_positionEC);\n",O+="    vec3 lightColor = vec3(1.5, 1.4, 1.2);\n",O+="    vec3 l = normalize(czm_sunDirectionEC);\n",O+="    vec3 h = normalize(v + l);\n",O+="    vec3 r = normalize(czm_inverseViewRotation * normalize(reflect(v, n)));\n",O+="    czm_ellipsoid ellipsoid = czm_getWgs84EllipsoidEC();\n",O+="    float vertexRadius = length(v_positionWC);\n",O+="    float horizonDotNadir = 1.0 - min(1.0, ellipsoid.radii.x / vertexRadius);\n",O+="    float reflectionDotNadir = dot(r, normalize(v_positionWC));\n",O+="    r.x = -r.x;\n",O+="    r = -normalize(czm_temeToPseudoFixed * r);\n",O+="    r.x = -r.x;\n",O+="    float NdotL = clamp(dot(n, l), 0.001, 1.0);\n",O+="    float NdotV = abs(dot(n, v)) + 0.001;\n",O+="    float NdotH = clamp(dot(n, h), 0.0, 1.0);\n",O+="    float LdotH = clamp(dot(l, h), 0.0, 1.0);\n",O+="    float VdotH = clamp(dot(v, h), 0.0, 1.0);\n",O+="    vec3 f0 = vec3(0.04);\n",E?(O+="    float roughness = 1.0 - glossiness;\n",O+="    vec3 diffuseColor = diffuse.rgb * (1.0 - max(max(specular.r, specular.g), specular.b));\n",O+="    vec3 specularColor = specular;\n"):(O+="    vec3 diffuseColor = baseColor * (1.0 - metalness) * (1.0 - f0);\n",O+="    vec3 specularColor = mix(f0, baseColor, metalness);\n"),O+="    float alpha = roughness * roughness;\n",O+="    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n",O+="    vec3 r90 = vec3(clamp(reflectance * 25.0, 0.0, 1.0));\n",O+="    vec3 r0 = specularColor.rgb;\n",O+="    vec3 F = fresnelSchlick2(r0, r90, VdotH);\n",O+="    float G = smithVisibilityGGX(alpha, NdotL, NdotV);\n",O+="    float D = GGX(alpha, NdotH);\n",O+="    vec3 diffuseContribution = (1.0 - F) * lambertianDiffuse(diffuseColor);\n",O+="    vec3 specularContribution = F * G * D / (4.0 * NdotL * NdotV);\n",O+="    vec3 color = NdotL * lightColor * (diffuseContribution + specularContribution);\n",O+="    float inverseRoughness = 1.04 - roughness;\n",O+="    inverseRoughness *= inverseRoughness;\n",O+="    vec3 sceneSkyBox = textureCube(czm_environmentMap, r).rgb * inverseRoughness;\n",O+="    float atmosphereHeight = 0.05;\n",O+="    float blendRegionSize = 0.1 * ((1.0 - inverseRoughness) * 8.0 + 1.1 - horizonDotNadir);\n",O+="    float blendRegionOffset = roughness * -1.0;\n",O+="    float farAboveHorizon = clamp(horizonDotNadir - blendRegionSize * 0.5 + blendRegionOffset, 1.0e-10 - blendRegionSize, 0.99999);\n",O+="    float aroundHorizon = clamp(horizonDotNadir + blendRegionSize * 0.5, 1.0e-10 - blendRegionSize, 0.99999);\n",O+="    float farBelowHorizon = clamp(horizonDotNadir + blendRegionSize * 1.5, 1.0e-10 - blendRegionSize, 0.99999);\n",O+="    float smoothstepHeight = smoothstep(0.0, atmosphereHeight, horizonDotNadir);\n",O+="    vec3 belowHorizonColor = mix(vec3(0.1, 0.15, 0.25), vec3(0.4, 0.7, 0.9), smoothstepHeight);\n",O+="    vec3 nadirColor = belowHorizonColor * 0.5;\n",O+="    vec3 aboveHorizonColor = mix(vec3(0.9, 1.0, 1.2), belowHorizonColor, roughness * 0.5);\n",O+="    vec3 blueSkyColor = mix(vec3(0.18, 0.26, 0.48), aboveHorizonColor, reflectionDotNadir * inverseRoughness * 0.5 + 0.75);\n",O+="    vec3 zenithColor = mix(blueSkyColor, sceneSkyBox, smoothstepHeight);\n",O+="    vec3 blueSkyDiffuseColor = vec3(0.7, 0.85, 0.9);\n",O+="    float diffuseIrradianceFromEarth = (1.0 - horizonDotNadir) * (reflectionDotNadir * 0.25 + 0.75) * smoothstepHeight;\n",O+="    float diffuseIrradianceFromSky = (1.0 - smoothstepHeight) * (1.0 - (reflectionDotNadir * 0.25 + 0.25));\n",O+="    vec3 diffuseIrradiance = blueSkyDiffuseColor * clamp(diffuseIrradianceFromEarth + diffuseIrradianceFromSky, 0.0, 1.0);\n",O+="    float notDistantRough = (1.0 - horizonDotNadir * roughness * 0.8);\n",O+="    vec3 specularIrradiance = mix(zenithColor, aboveHorizonColor, smoothstep(farAboveHorizon, aroundHorizon, reflectionDotNadir) * notDistantRough);\n",O+="    specularIrradiance = mix(specularIrradiance, belowHorizonColor, smoothstep(aroundHorizon, farBelowHorizon, reflectionDotNadir) * inverseRoughness);\n",O+="    specularIrradiance = mix(specularIrradiance, nadirColor, smoothstep(farBelowHorizon, 1.0, reflectionDotNadir) * inverseRoughness);\n",O+="    vec2 brdfLut = texture2D(czm_brdfLut, vec2(NdotV, 1.0 - roughness)).rg;\n",O+="    vec3 IBLColor = (diffuseIrradiance * diffuseColor) + (specularIrradiance * SRGBtoLINEAR3(specularColor * brdfLut.x + brdfLut.y));\n",O+="    color += IBLColor;\n"):O+="    vec3 color = baseColor;\n",j||(t(p.u_occlusionTexture)&&(O+="    color *= texture2D(u_occlusionTexture, "+ie+").r;\n"),t(p.u_emissiveTexture)?(O+="    vec3 emissive = SRGBtoLINEAR3(texture2D(u_emissiveTexture, "+ie+").rgb);\n",t(p.u_emissiveFactor)&&(O+="    emissive *= u_emissiveFactor;\n"),O+="    color += emissive;\n"):t(p.u_emissiveFactor)&&(O+="    color += u_emissiveFactor;\n")),O+="    color = LINEARtoSRGB(color);\n",t(Q)?"MASK"===Q?(O+="    if (baseColorWithAlpha.a < u_alphaCutoff) {\n",O+="        discard;\n",O+="    }\n",O+="    gl_FragColor = vec4(color, 1.0);\n"):O+="BLEND"===Q?"    gl_FragColor = vec4(color, baseColorWithAlpha.a);\n":"    gl_FragColor = vec4(color, 1.0);\n":O+="    gl_FragColor = vec4(color, 1.0);\n",O+="}\n";var ae=o(w,{type:r.VERTEX_SHADER,extras:{_pipeline:{source:M,extension:".glsl"}}}),se=o(w,{type:r.FRAGMENT_SHADER,extras:{_pipeline:{source:O,extension:".glsl"}}}),ue=o(x,{fragmentShader:se,vertexShader:ae});return o(b,{attributes:$,program:ue,uniforms:V})}function d(e){switch(e){case"u_baseColorFactor":return r.FLOAT_VEC4;case"u_metallicFactor":case"u_roughnessFactor":return r.FLOAT;case"u_baseColorTexture":case"u_metallicRoughnessTexture":case"u_normalTexture":case"u_occlusionTexture":case"u_emissiveTexture":return r.SAMPLER_2D;case"u_emissiveFactor":return r.FLOAT_VEC3;case"u_diffuseFactor":return r.FLOAT_VEC4;case"u_specularFactor":return r.FLOAT_VEC3;case"u_glossinessFactor":return r.FLOAT;case"u_diffuseTexture":case"u_specularGlossinessTexture":return r.SAMPLER_2D}}return l}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(136),n(31),n(0),n(39),n(104),n(57),n(7)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(){}function u(e,t){var n="runtime."+Object.keys(e.createdBufferViews).length,r=e.buffers,i=Object.keys(r).length;return r[i]=t,e.createdBufferViews[n]={buffer:i,byteOffset:0,byteLength:t.byteLength},n}function l(e,t,n){var r=t._loadResources,i=u(r,e);return r.vertexBuffersToCreate.enqueue(i),i}function c(e,n,r){var i=e.typedArray,o=n._loadResources,a=u(o,i);return o.indexBuffersToCreate.enqueue({id:a,componentType:t.fromTypedArray(i)}),{bufferViewId:a,numberOfIndices:e.numberOfIndices}}function h(e,t,r,i){if(s._taskProcessorReady){var o=r.primitivesToDecode.peek();if(n(o)){var a=e.scheduleTask(o,[o.array.buffer]);if(n(a))return r.activeDecodingTasks++,r.primitivesToDecode.dequeue(),a.then(function(e){r.activeDecodingTasks--;var n=c(e.indexArray,t,i),a={},s=e.attributeData;for(var u in s)if(s.hasOwnProperty(u)){var h=s[u],d=h.array,f=l(d,t,i),p=h.data;p.bufferView=f,a[u]=p}t._decodedData[o.mesh+".primitive."+o.primitive]={bufferView:n.bufferViewId,numberOfIndices:n.numberOfIndices,attributes:a}})}}}return s._maxDecodingConcurrency=Math.max(r.hardwareConcurrency-1,1),s._decoderTaskProcessor=void 0,s._taskProcessorReady=!1,s._getDecoderTaskProcessor=function(){if(!n(s._decoderTaskProcessor)){var e=new i("decodeDraco",s._maxDecodingConcurrency);e.initWebAssemblyModule({modulePath:"ThirdParty/Workers/draco_wasm_wrapper.js",wasmBinaryFile:"ThirdParty/draco_decoder.wasm",fallbackModulePath:"ThirdParty/Workers/draco_decoder.js"}).then(function(){s._taskProcessorReady=!0}),s._decoderTaskProcessor=e}return s._decoderTaskProcessor},s.hasExtension=function(e){return n(e.extensionsRequired.KHR_draco_mesh_compression)||n(e.extensionsUsed.KHR_draco_mesh_compression)},s._decodedModelResourceCache=void 0,s.parse=function(t,r){if(s.hasExtension(t)){var i=t._loadResources,a=t.cacheKey;if(n(a)){n(s._decodedModelResourceCache)||(n(r.cache.modelDecodingCache)||(r.cache.modelDecodingCache={}),s._decodedModelResourceCache=r.cache.modelDecodingCache);var u=s._decodedModelResourceCache[a];if(n(u))return u.count++,void(i.pendingDecodingCache=!0)}var l=t._dequantizeInShader,c=t.gltf;o.mesh(c,function(t,r){o.meshPrimitive(t,function(t,o){if(n(t.extensions)){var a=t.extensions.KHR_draco_mesh_compression;if(n(a)){var s=c.bufferViews[a.bufferView],u=e(c.buffers[s.buffer].extras._pipeline.source,s.byteOffset,s.byteOffset+s.byteLength);i.primitivesToDecode.enqueue({mesh:r,primitive:o,array:u,bufferView:s,compressedAttributes:a.attributes,dequantizeInShader:l})}}})})}},s.decodeModel=function(e,t){if(!s.hasExtension(e))return a.resolve();var r=e._loadResources,i=e.cacheKey;if(n(i)&&n(s._decodedModelResourceCache)){var o=s._decodedModelResourceCache[i];if(n(o)&&r.pendingDecodingCache)return a(o.ready,function(){e._decodedData=o.data,r.pendingDecodingCache=!1});s._decodedModelResourceCache[i]={ready:!1,count:1,data:void 0}}if(0===r.primitivesToDecode.length)return a.resolve();for(var u=s._getDecoderTaskProcessor(),l=[],c=h(u,e,r,t);n(c);)l.push(c),c=h(u,e,r,t);return a.all(l)},s.decodePointCloud=function(e){var t=s._getDecoderTaskProcessor();if(s._taskProcessorReady)return t.scheduleTask(e,[e.buffer.buffer])},s.cacheDataForModel=function(e){var t=e.cacheKey;if(n(t)&&n(s._decodedModelResourceCache)){var r=s._decodedModelResourceCache[t];n(r)&&(r.ready=!0,r.data=e._decodedData)}},s.destroyCachedDataForModel=function(e){var t=e.cacheKey;if(n(t)&&n(s._decodedModelResourceCache)){var r=s._decodedModelResourceCache[t];n(r)&&0==--r.count&&delete s._decodedModelResourceCache[t]}},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12)],void 0!==(i=function(e){"use strict";function t(e,t,n){return"    float clipDistance = clip(gl_FragCoord, "+e+", "+t+"); \n    vec4 clippingPlanesEdgeColor = vec4(1.0); \n    clippingPlanesEdgeColor.rgb = "+n+".rgb; \n    float clippingPlanesEdgeWidth = "+n+".a; \n    if (clipDistance > 0.0 && clipDistance < clippingPlanesEdgeWidth) \n    { \n        gl_FragColor = clippingPlanesEdgeColor;\n    } \n"}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({STOPPED:0,ANIMATING:1})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({UNLOADED:0,LOADING:1,PROCESSING:2,READY:3,EXPIRED:4,FAILED:5})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(38),n(10),n(12),n(150),n(2),n(128),n(20),n(771),n(152),n(183)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l){"use strict";function c(t,n){this._boundingSphere=new e(t,n)}return i(c.prototype,{center:{get:function(){return this._boundingSphere.center}},radius:{get:function(){return this._boundingSphere.radius}},boundingVolume:{get:function(){return this._boundingSphere}},boundingSphere:{get:function(){return this._boundingSphere}}}),c.prototype.distanceToCamera=function(e){var n=this._boundingSphere;return Math.max(0,t.distance(n.center,e.camera.positionWC)-n.radius)},c.prototype.intersectPlane=function(t){return e.intersectPlane(this._boundingSphere,t)},c.prototype.update=function(e,n){t.clone(e,this._boundingSphere.center),this._boundingSphere.radius=n},c.prototype.createDebugVolume=function(e){var t=new s({radius:this.radius}),n=a.fromTranslation(this.center,new a.clone(a.IDENTITY)),i=new o({geometry:t,id:"outline",modelMatrix:n,attributes:{color:r.fromColor(e)}});return new l({geometryInstances:i,appearance:new u({translucent:!1,flat:!0}),asynchronous:!1})},c}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(25),n(0),n(21),n(39),n(69),n(54),n(423),n(60),n(422),n(47),n(91),n(68),n(114),n(52),n(100),n(116),n(102),n(185),n(70),n(1304)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y){"use strict";function b(){this._framebuffer=void 0,this._colorGBuffer=void 0,this._depthGBuffer=void 0,this._depthTexture=void 0,this._drawCommand=void 0,this._clearCommand=void 0,this._strength=1,this._radius=1}function w(){return new f({wrapS:v.CLAMP_TO_EDGE,wrapT:v.CLAMP_TO_EDGE,minificationFilter:_.NEAREST,magnificationFilter:g.NEAREST})}function x(e){var t=e._framebuffer;n(t)&&(e._colorGBuffer.destroy(),e._depthGBuffer.destroy(),e._depthTexture.destroy(),t.destroy(),e._framebuffer=void 0,e._colorGBuffer=void 0,e._depthGBuffer=void 0,e._depthTexture=void 0,e._drawCommand=void 0,e._clearCommand=void 0)}function E(e,t){var n=t.drawingBufferWidth,r=t.drawingBufferHeight,i=new m({context:t,width:n,height:r,pixelFormat:o.RGBA,pixelDatatype:h.UNSIGNED_BYTE,sampler:w()}),a=new m({context:t,width:n,height:r,pixelFormat:o.RGBA,pixelDatatype:h.UNSIGNED_BYTE,sampler:w()}),s=new m({context:t,width:n,height:r,pixelFormat:o.DEPTH_COMPONENT,pixelDatatype:h.UNSIGNED_INT,sampler:w()});e._framebuffer=new l({context:t,colorTextures:[i,a],depthTexture:s,destroyAttachments:!1}),e._colorGBuffer=i,e._depthGBuffer=a,e._depthTexture=s}function C(e,n){var r=y,i={u_pointCloud_colorGBuffer:function(){return e._colorGBuffer},u_pointCloud_depthGBuffer:function(){return e._depthGBuffer},u_distancesAndEdlStrength:function(){return M.x=e._radius/n.drawingBufferWidth,M.y=e._radius/n.drawingBufferHeight,M.z=e._strength,M}},o=d.fromCache({blending:A.ALPHA_BLEND,depthMask:!0,depthTest:{enabled:!0}});e._drawCommand=n.createViewportQuadCommand(r,{uniformMap:i,renderState:o,pass:c.CESIUM_3D_TILE,owner:e}),e._clearCommand=new s({framebuffer:e._framebuffer,color:new t(0,0,0,0),depth:1,renderState:d.fromCache(),pass:c.CESIUM_3D_TILE,owner:e})}function S(e,t){var r=t.drawingBufferWidth,i=t.drawingBufferHeight,o=e._colorGBuffer,a=!1,s=n(o)&&(o.width!==r||o.height!==i);return n(o)&&!s||(x(e),E(e,t),C(e,t),a=!0),a}function T(e){return e.drawBuffers&&e.fragmentDepth}function I(e,t){var r=e.shaderCache.getDerivedShaderProgram(t,"EC");if(!n(r)){var i=t._attributeLocations,o=t.fragmentShaderSource.clone();o.sources=o.sources.map(function(e){return e=p.replaceMain(e,"czm_point_cloud_post_process_main"),e=e.replace(/gl_FragColor/g,"gl_FragData[0]")}),o.sources.unshift("#extension GL_EXT_draw_buffers : enable \n"),o.sources.push("void main() \n{ \n    czm_point_cloud_post_process_main(); \n    gl_FragData[1] = czm_packDepth(gl_FragCoord.z); \n}"),r=e.shaderCache.createDerivedShaderProgram(t,"EC",{vertexShaderSource:t.vertexShaderSource,fragmentShaderSource:o,attributeLocations:i})}return r}var M=new e;return b.isSupported=T,b.prototype.update=function(e,t,r){var i=e.passes,o=i.pick&&!i.render;if(T(e.context)&&!o){this._strength=r.eyeDomeLightingStrength,this._radius=r.eyeDomeLightingRadius;var s,l=S(this,e.context),h=e.commandList,d=h.length;for(s=t;s<d;++s){var f=h[s];if(f.primitiveType===a.POINTS&&f.pass!==c.TRANSLUCENT){var p=f.derivedCommands.pointCloudProcessor;(!n(p)||f.dirty||l||p.framebuffer!==this._framebuffer)&&(p=u.shallowClone(f),f.derivedCommands.pointCloudProcessor=p,p.framebuffer=this._framebuffer,p.shaderProgram=I(e.context,f.shaderProgram),p.castShadows=!1,p.receiveShadows=!1),h[s]=p}}var m=this._clearCommand,g=this._drawCommand;h.push(g),h.push(m)}},b.prototype.isDestroyed=function(){return!1},b.prototype.destroy=function(){return x(this),r(this)},b}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(53),n(0),n(29)],void 0!==(i=function(e,t,n){"use strict";var r,i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI0NjcyZDliZC0wOGIzLTRkYTgtODMzZC02ZDgxN2JlOTFlYWMiLCJpZCI6MjU5LCJzY29wZXMiOlsiYXNyIiwiZ2MiXSwiaWF0IjoxNTM4MzI5MzgyfQ.fHaE6XzGnZtUEtSJjF_0X0HkLQyU59bGDD4-9IEePkc",o={};return o.defaultAccessToken=i,o.defaultServer=new n({url:"https://api.cesium.com/"}),o.getDefaultTokenCredit=function(n){if(n===i){if(!t(r)){r=new e('<b>             This application is using Cesium\'s default ion access token. Please set "cesiumIonAccessToken" in config.json             with an access token from your ion account.             You can sign up for a free ion account at <a href="https://cesium.com">https://cesium.com</a>.</b>',!0)}return r}},o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(1),n(0),n(2),n(3),n(72),n(1307),n(9),n(16),n(104),n(366),n(620),n(255)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d){"use strict";function f(e){this._buffer=e.buffer,this._width=e.width,this._height=e.height,this._childTileMask=t(e.childTileMask,15);var r=a.DEFAULT_STRUCTURE,i=e.structure;n(i)?i!==r&&(i.heightScale=t(i.heightScale,r.heightScale),i.heightOffset=t(i.heightOffset,r.heightOffset),i.elementsPerHeight=t(i.elementsPerHeight,r.elementsPerHeight),i.stride=t(i.stride,r.stride),i.elementMultiplier=t(i.elementMultiplier,r.elementMultiplier),i.isBigEndian=t(i.isBigEndian,r.isBigEndian)):i=r,this._structure=i,this._createdByUpsampling=t(e.createdByUpsampling,!1),this._waterMask=e.waterMask,this._skirtHeight=void 0,this._bufferType=this._buffer.constructor,this._mesh=void 0}function p(e,t,n,r,i,o,a,s,u,l){var c=(u-o.west)*(a-1)/(o.east-o.west),h=(l-o.south)*(s-1)/(o.north-o.south),d=0|c,f=d+1;f>=a&&(f=a-1,d=a-2);var p=0|h,m=p+1;m>=s&&(m=s-1,p=s-2);var v=c-d,A=h-p;return p=s-1-p,m=s-1-m,g(v,A,_(e,t,n,r,i,p*a+d),_(e,t,n,r,i,p*a+f),_(e,t,n,r,i,m*a+d),_(e,t,n,r,i,m*a+f))}function m(e,t,n,r,i,o,a,s,u,l,c){var h=(u-o.west)*(a-1)/(o.east-o.west),d=(l-o.south)*(s-1)/(o.north-o.south);i>0&&(h+=1,d+=1,a+=2,s+=2);var f=i>0?a-1:a,p=0|h,m=p+1;m>=f&&(m=a-1,p=a-2);var _=i>0?s-1:s,v=0|d,A=v+1;A>=_&&(A=s-1,v=s-2);var y=h-p,b=d-v;return v=s-1-v,A=s-1-A,g(y,b,(t.decodeHeight(e,v*a+p)/c-n)/r,(t.decodeHeight(e,v*a+m)/c-n)/r,(t.decodeHeight(e,A*a+p)/c-n)/r,(t.decodeHeight(e,A*a+m)/c-n)/r)}function g(e,t,n,r,i,o){return t<e?n+e*(r-n)+t*(o-r):n+e*(o-i)+t*(i-n)}function _(e,t,n,r,i,o){o*=r;var a,s=0;if(i)for(a=0;a<t;++a)s=s*n+e[o+a];else for(a=t-1;a>=0;--a)s=s*n+e[o+a];return s}function v(e,t,n,r,i,o,a,s){a*=i;var u;if(o)for(u=0;u<t-1;++u)e[a+u]=s/r|0,s-=e[a+u]*r,r/=n;else for(u=t-1;u>0;--u)e[a+u]=s/r|0,s-=e[a+u]*r,r/=n;e[a+u]=s}r(f.prototype,{credits:{get:function(){}},waterMask:{get:function(){return this._waterMask}}});var A=new l("createVerticesFromHeightmap");return f.prototype.createMesh=function(r,i,a,s,l){var f=r.ellipsoid,p=r.tileXYToNativeRectangle(i,a,s),m=r.tileXYToRectangle(i,a,s);l=t(l,1);var g=f.cartographicToCartesian(u.center(m)),_=this._structure,v=d.getEstimatedLevelZeroGeometricErrorForAHeightmap(f,this._width,r.getNumberOfXTilesAtLevel(0)),y=v/(1<<s);this._skirtHeight=Math.min(4*y,1e3);var b=A.scheduleTask({heightmap:this._buffer,structure:_,includeWebMercatorT:!0,width:this._width,height:this._height,nativeRectangle:p,rectangle:m,relativeToCenter:g,ellipsoid:f,skirtHeight:this._skirtHeight,isGeographic:r.projection instanceof o,exaggeration:l});if(n(b)){var w=this;return e(b,function(e){return w._mesh=new h(g,new Float32Array(e.vertices),d.getRegularGridIndices(e.gridWidth,e.gridHeight),e.minimumHeight,e.maximumHeight,e.boundingSphere3D,e.occludeePointInScaledSpace,e.numberOfAttributes,e.orientedBoundingBox,c.clone(e.encoding),l),w._buffer=void 0,w._mesh})}},f.prototype.interpolateHeight=function(e,t,r){var i,o=this._width,a=this._height,s=this._structure,u=s.stride,l=s.elementsPerHeight,c=s.elementMultiplier,h=s.isBigEndian,d=s.heightOffset,f=s.heightScale;if(n(this._mesh)){i=m(this._mesh.vertices,this._mesh.encoding,d,f,this._skirtHeight,e,o,a,t,r,this._mesh.exaggeration)}else i=p(this._buffer,l,c,u,h,e,o,a,t,r),i=i*f+d;return i},f.prototype.upsample=function(e,t,r,i,o,a,u){var l=this._width,c=this._height,h=this._structure,d=this._skirtHeight,p=h.stride,g=new this._bufferType(l*c*p),_=this._mesh;if(n(_)){for(var A=_.vertices,y=_.encoding,b=e.tileXYToRectangle(t,r,i),w=e.tileXYToRectangle(o,a,u),x=h.heightOffset,E=h.heightScale,C=_.exaggeration,S=h.elementsPerHeight,T=h.elementMultiplier,I=h.isBigEndian,M=Math.pow(T,S-1),O=0;O<c;++O)for(var P=s.lerp(w.north,w.south,O/(c-1)),D=0;D<l;++D){var B=s.lerp(w.west,w.east,D/(l-1)),L=m(A,y,x,E,d,b,l,c,B,P,C);L=L<h.lowestEncodedHeight?h.lowestEncodedHeight:L,L=L>h.highestEncodedHeight?h.highestEncodedHeight:L,v(g,S,T,M,p,I,O*l+D,L)}return new f({buffer:g,width:l,height:c,childTileMask:0,structure:this._structure,createdByUpsampling:!0})}},f.prototype.isChildAvailable=function(e,t,n,r){var i=2;return n!==2*e&&++i,r!==2*t&&(i-=2),0!=(this._childTileMask&1<<i)},f.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},f}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1)],void 0!==(i=function(e){"use strict";function t(t,n,r,i,o,a,s,u,l,c,h){this.center=t,this.vertices=n,this.stride=e(u,6),this.indices=r,this.minimumHeight=i,this.maximumHeight=o,this.boundingSphere3D=a,this.occludeePointInScaledSpace=s,this.orientedBoundingBox=l,this.encoding=c,this.exaggeration=h}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(0),n(3)],void 0!==(i=function(e,t,n){"use strict";var r={};return r.clipTriangleAtAxisAlignedThreshold=function(e,n,r,i,o,a){t(a)?a.length=0:a=[];var s,u,l;n?(s=r<e,u=i<e,l=o<e):(s=r>e,u=i>e,l=o>e);var c,h,d,f,p,m,g=s+u+l;return 1===g?s?(c=(e-r)/(i-r),h=(e-r)/(o-r),a.push(1),a.push(2),1!==h&&(a.push(-1),a.push(0),a.push(2),a.push(h)),1!==c&&(a.push(-1),a.push(0),a.push(1),a.push(c))):u?(d=(e-i)/(o-i),f=(e-i)/(r-i),a.push(2),a.push(0),1!==f&&(a.push(-1),a.push(1),a.push(0),a.push(f)),1!==d&&(a.push(-1),a.push(1),a.push(2),a.push(d))):l&&(p=(e-o)/(r-o),m=(e-o)/(i-o),a.push(0),a.push(1),1!==m&&(a.push(-1),a.push(2),a.push(1),a.push(m)),1!==p&&(a.push(-1),a.push(2),a.push(0),a.push(p))):2===g?s||r===e?u||i===e?l||o===e||(h=(e-r)/(o-r),d=(e-i)/(o-i),a.push(2),a.push(-1),a.push(0),a.push(2),a.push(h),a.push(-1),a.push(1),a.push(2),a.push(d)):(m=(e-o)/(i-o),c=(e-r)/(i-r),a.push(1),a.push(-1),a.push(2),a.push(1),a.push(m),a.push(-1),a.push(0),a.push(1),a.push(c)):(f=(e-i)/(r-i),p=(e-o)/(r-o),a.push(0),a.push(-1),a.push(1),a.push(0),a.push(f),a.push(-1),a.push(2),a.push(0),a.push(p)):3!==g&&(a.push(0),a.push(1),a.push(2)),a},r.computeBarycentricCoordinates=function(n,r,i,o,a,s,u,l,c){var h=i-u,d=u-a,f=s-l,p=o-l,m=1/(f*h+d*p),g=r-l,_=n-u,v=(f*_+d*g)*m,A=(-p*_+h*g)*m,y=1-v-A;return t(c)?(c.x=v,c.y=A,c.z=y,c):new e(v,A,y)},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){s.call(this,e),this.resourceId=void 0,this.datasetId=void 0,this.allowAnyResourceIfResourceIdNotFound=!0,this.allowWms=!0,this.wmsResourceFormat=/^wms$/i,this.allowWfs=!0,this.wfsResourceFormat=/^wfs$/i,this.allowKml=!0,this.kmlResourceFormat=/^kml$/i,this.allowCsv=!0,this.csvResourceFormat=/^csv-geo-/i,this.allowEsriMapServer=!0,this.allowEsriFeatureServer=!0,this.esriMapServerResourceFormat=/^esri rest$/i,this.esriFeatureServerResourceFormat=/^esri rest$/i,this.allowGeoJson=!0,this.geoJsonResourceFormat=/^geojson$/i,this.allowCzml=!0,this.czmlResourceFormat=/^czml$/i,this.itemProperties=void 0}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(263),a=n(206),s=n(56),u=n(27),l=n(367),c=n(368),h=n(138),d=n(369),f=n(0),p=n(2),m=n(6),g=n(51),_=n(14),v=n(268),A=n(44),y=n(74),b=n(22),w=n(32),x=n(16),E=n(33),C=n(269),S=n(107),T=n(370),I=n(270),M=n(7);_(s,r),p(r.prototype,{type:{get:function(){return"ckan-resource"}},typeName:{get:function(){return"CKAN Resource"}},metadata:{get:function(){var e=new y;return e.isLoading=!1,e.dataSourceErrorMessage="This data source does not have any details available.",e.serviceErrorMessage="This service does not have any details available.",e}},updaters:{get:function(){return r.defaultUpdaters}},serializers:{get:function(){return r.defaultSerializers}}}),r.defaultUpdaters=u(s.defaultUpdaters),r.defaultUpdaters.wmsResourceFormat=l("wmsResourceFormat"),r.defaultUpdaters.wfsResourceFormat=l("wfsResourceFormat"),r.defaultUpdaters.kmlResourceFormat=l("kmlResourceFormat"),r.defaultUpdaters.csvResourceFormat=l("csvResourceFormat"),r.defaultUpdaters.esriMapServerResourceFormat=l("esriMapServerResourceFormat"),r.defaultUpdaters.esriFeatureServerResourceFormat=l("esriFeatureServerResourceFormat"),r.defaultUpdaters.geoJsonResourceFormat=l("geoJsonResourceFormat"),r.defaultUpdaters.czmlResourceFormat=l("czmlResourceFormat"),m(r.defaultUpdaters),r.defaultSerializers=u(s.defaultSerializers),r.defaultSerializers.wmsResourceFormat=c("wmsResourceFormat"),r.defaultSerializers.wfsResourceFormat=c("wfsResourceFormat"),r.defaultSerializers.kmlResourceFormat=c("kmlResourceFormat"),r.defaultSerializers.csvResourceFormat=c("csvResourceFormat"),r.defaultSerializers.esriMapServerResourceFormat=c("esriMapServerResourceFormat"),r.defaultSerializers.esriFeatureServerResourceFormat=c("esriFeatureServerResourceFormat"),r.defaultSerializers.geoJsonResourceFormat=c("geoJsonResourceFormat"),r.defaultSerializers.czmlResourceFormat=c("czmlResourceFormat"),m(r.defaultSerializers),r.createCatalogItemFromResource=function(e){function t(e){return e.match(/^\d\d\d\d-\d\d-\d\d.*/)?e.substr(0,10):e}var n=e.resource,r=e.itemData,s=e.extras,u=e.parent;if(!n.__filtered){if(!f(s)&&(s={},f(r.extras)))for(var l=0;l<r.extras.length;l++)s[r.extras[l].key]=r.extras[l].value;var c=[[e.wmsResourceFormat,S],[e.wfsResourceFormat,I],[e.esriMapServerResourceFormat,a,/MapServer/],[e.esriFeatureServerResourceFormat,o,/FeatureServer/],[e.kmlResourceFormat,v,void 0,/\.zip$/],[e.geoJsonResourceFormat,g],[e.czmlResourceFormat,d],[e.csvResourceFormat,h]].filter(function(e){return f(e[0])}),p=n.wms_url;if(f(p)||(p=n.url,f(p))){var m=c.filter(function(e){return n.format.match(e[0])&&(!f(e[2])||p.match(e[2]))&&(!f(e[3])||!p.match(e[3]))});if(0!==m.length){var _,A=m[0][1]===S,y=m[0][1]===I,b=new E(p),w=b.search(!0),M=p;if(A||y){var O=n.wms_layer||w.LAYERS||w.layers||w.typeName;if(f(O))_=A?new S(e.terria):new I(e.terria),_.layers=O;else if(A&&e.allowWmsGroups)_=new C(e.terria);else{if(!y||!e.allowWfsGroups)return;_=new T(e.terria)}b.search(""),M=b.toString()}else _=new m[0][1](e.terria);if(_){e.useResourceName?_.name=n.name:_.name=r.title,r.notes&&(_.info.push({name:"Dataset Description",content:r.notes}),_.info.push({name:"Data Description",content:""})),f(n.description)&&_.info.push({name:"Resource Description",content:n.description}),f(r.license_url)?_.info.push({name:"Licence",content:"["+(r.license_title||r.license_url)+"]("+r.license_url+")"}):f(r.license_title)&&_.info.push({name:"Licence",content:r.license_title}),f(r.author)&&_.info.push({name:"Author",content:r.author}),f(r.contact_point)&&_.info.push({name:"Contact",content:r.contact_point}),f(r.metadata_created)&&_.info.push({name:"Created",content:t(r.metadata_created)}),f(r.metadata_modified)&&_.info.push({name:"Modified",content:t(r.metadata_modified)}),f(r.update_freq)&&_.info.push({name:"Update Frequency",content:r.update_freq}),_.url=M;var P=r.geo_coverage||s.geo_coverage;if(f(P)){var D=P.split(",");4===D.length&&(_.rectangle=x.fromDegrees(D[0],D[1],D[2],D[3]))}return _.dataUrl=new E(e.ckanBaseUrl).segment("dataset").segment(r.name).toString(),_.dataUrlType="direct",f(e.dataCustodian)?_.dataCustodian=e.dataCustodian:r.organization&&r.organization.title&&(_.dataCustodian=r.organization.description||r.organization.title),"object"===i(e.itemProperties)&&_.updateFromJson(e.itemProperties),f(u)&&(_.id=u.uniqueId+"/"+n.id),_}}}}},r.shortHumanReadableTypeNames={wms:"WMS","wms-getCapabilities":"WMS",wfs:"WFS","wfs-getCapabilities":"WFS","esri-mapServer":"MapServer","esri-featureServer":"FeatureServer",kml:"KML",geojson:"GeoJSON",czml:"CZML",csv:"CSV"},r.prototype._load=function(){var e=new E(this.url).segment("api/3/action");if(!f(this.resourceId)&&!f(this.datasetId))throw new b({sender:this,title:"resourceId or datasetId must be specified",message:"CkanCatalogItem requires that either resourceId or datasetId be specified."});var t,n=this;if(f(this.datasetId))t=M(this.datasetId);else{var i=e.clone().segment("resource_show").addQuery({id:this.resourceId}),o=w(this,i.toString(),"1d");t=A(o).then(function(e){if(!e.success)throw new b({sender:n,title:"Error retrieving CKAN URL",message:"Could not retrieve URL as JSON: "+n.url+"."});if(!f(e.result)||!f(e.result.package_id))throw new b({sender:n,title:"Invalid CKAN resource JSON",message:"The resource returned from the CKAN server does not appear to have a package_id."});return e.result.package_id})}return t.then(function(t){var i=e.clone().segment("package_show").addQuery({id:t}),o=w(n,i.toString(),"1d");return A(o).then(function(e){if(!e.success)throw new b({sender:n,title:"Error retrieving CKAN URL",message:"Could not retrieve URL as JSON: "+o+"."});var t=e.result.resources,i=t;f(n.resourceId)&&(i=t.filter(function(e){return e.id===n.resourceId}),0===i.length&&n.allowAnyResourceIfResourceIdNotFound&&(i=t));for(var a=0;a<i.length;++a){var s=r.createCatalogItemFromResource({terria:n.terria,resource:i[a],itemData:e.result,ckanBaseUrl:n.url,wmsResourceFormat:n.allowWms?n.wmsResourceFormat:void 0,kmlResourceFormat:n.allowKml?n.kmlResourceFormat:void 0,csvResourceFormat:n.allowCsv?n.csvResourceFormat:void 0,esriMapServerResourceFormat:n.allowEsriMapServer?n.esriMapServerResourceFormat:void 0,geoJsonResourceFormat:n.allowGeoJson?n.geoJsonResourceFormat:void 0,czmlResourceFormat:n.allowCzml?n.czmlResourceFormat:void 0,dataCustodian:n.dataCustodian,itemProperties:n.itemProperties});if(f(s))return s.name=n.name,s}throw new b({sender:n,title:"No compatible resources found",message:f(n.resourceId)?"The CKAN dataset does not have a resource with the ID "+n.resourceId+" or it does not have a supported format.":"The CKAN dataset does not have any resources with a supported format."})})})},e.exports=r},function(e,t,n){"use strict";var r=[],i=function e(t,n,i,o){if(!((o=o||0)>=r.length)){if(r[o].matcher&&!r[o].matcher(t)||r[o].requiresLoad&&!i)return e(t,n,i,o+1);var a=new r[o].constructor(n);return i?(a.url=t,a.name=t,a.load().yield(a).otherwise(function(r){return console.log(r),e(t,n,i,o+1)})):a}};i.register=function(e,t,n){r.push({matcher:e,constructor:t,requiresLoad:n})},e.exports=i},function(e,t,n){"use strict";function r(e){o.call(this,e),this.url="",this.executeWithHttpGet=!1,this.itemProperties=void 0,h.track(this,["url","itemProperties","executeWithHttpGet"])}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(55),a=n(27),s=n(0),u=n(2),l=n(6),c=n(14),h=n(13),d=n(97),f=n(32),p=n(33),m=n(625),g=n(84);c(o,r),u(r.prototype,{type:{get:function(){return"wps-getCapabilities"}},typeName:{get:function(){return"Web Processing Service (WPS) Server"}},serializers:{get:function(){return r.defaultSerializers}}}),r.defaultSerializers=a(o.defaultSerializers),r.defaultSerializers.items=function(e,t,n,r){},r.defaultSerializers.isLoading=function(e,t,n,r){},l(r.defaultSerializers),r.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.itemProperties]},r.prototype._load=function(){var e=new p(this.url).search({service:"WPS",request:"GetCapabilities",version:"1.0.0"}),t=f(this,e.toString(),"1d"),n=this;return d(t).then(function(e){var t=g(e),r=t.ProcessOfferings;if(s(r)){var o=r.Process;if(s(o)){Array.isArray(o)||(o=[o]);for(var a=0;a<o.length;++a){var u=o[a],l=new m(n.terria);l.url=n.url,l.name=u.Title,l.identifier=u.Identifier,l.executeWithHttpGet=n.executeWithHttpGet,s(u.Abstract)&&(l.description=u.Abstract),"object"===i(n.itemProperties)&&l.updateFromJson(n.itemProperties),n.items.push(l)}}}})},e.exports=r},function(e,t,n){"use strict";function r(e){p.call(this,e),this._statusSupported=!1,this._storeSupported=!1,this.url=void 0,this.identifier=void 0,this.executeWithHttpGet=void 0,w.track(this,["_parameters","url","identifier","inputs","executeWithHttpGet"])}function i(e,t,n,r){t=t.join(";");var i=new O(e.url).query({service:"WPS",request:"Execute",version:"1.0.0",Identifier:e.identifier,DataInputs:t});e._statusSupported&&i.addQuery("status",!0),e._storeSupported&&i.addQuery("storeExecuteResponse",!0);var o=S(e,i.toString(),r),a=e.getParameterValues();return x(o).then(function(t){return l(e,a,n,t)})}function o(e,t,n,r){var i={identifier:s(e.identifier),storeExecuteResponse:e._storeSupported,status:e._statusSupported,dataInputs:t},o=N.render(R,i),a=new O(e.url).query({service:"WPS",request:"Execute"}),u=S(e,a.toString(),r),c=e.getParameterValues();return E({url:u,method:"POST",data:o,overrideMimeType:"text/xml",responseType:"document"}).then(function(t){return l(e,c,n,t)})}function a(e,t){for(var n=0;n<r.parameterConverters.length;++n){var i=r.parameterConverters[n],o=i.inputToFunctionParameter(e,t);if(_(o))return o.converter=i,o}throw new M({sender:e,title:"Unsupported parameter type",message:"The parameter "+t.Identifier+" is not a supported type of parameter."})}function s(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e){return e.parameters.map(function(t){var n=t.value;if(_(n)&&""!==n){var r=t.converter.functionParameterToInput(e,t,n);return B(r.inputValue).then(function(n){if(_(n)&&""!==n){if(e.executeWithHttpGet)return t.id+"="+n;return{inputIdentifier:s(t.id),inputValue:s(n),inputType:s(r.inputType)}}})}}).filter(function(e){return _(e)})}function l(e,t,n,r){if(!r||!r.documentElement||"ExecuteResponse"!==r.documentElement.localName)throw new M({sender:e,title:"Invalid WPS server response",message:"An error occurred while accessing the status location on the WPS server for process name "+e.name+".  The server's response does not appear to be a valid ExecuteResponse document.  <p>This error may also indicate that the processing server you specified is temporarily unavailable or there is a problem with your internet connection.  If the problem persists, please report it by sending an email to <a href=\"mailto:"+e.terria.supportEmail+'">'+e.terria.supportEmail+"</a>.</p>"});var i=L(r),o=i.Status;if(!_(o))throw new M({sender:e,title:"Invalid response from WPS server",message:"The response from the WPS server does not include a Status element."});if(_(o.ProcessFailed)){var a="The reason for failure is unknown.";_(o.ProcessFailed.ExceptionReport)&&_(o.ProcessFailed.ExceptionReport.Exception)&&(_(o.ProcessFailed.ExceptionReport.Exception.ExceptionText)?a=o.ProcessFailed.ExceptionReport.Exception.ExceptionText:_(o.ProcessFailed.ExceptionReport.Exception.Exception)&&(a=o.ProcessFailed.ExceptionReport.Exception.Exception)),n.isFailed=!0,n.shortReport="Web Processing Service invocation failed.  More details are available on the Info panel.",n.moreFailureDetailsAvailable=!0,n.info.push({name:"Error Details",content:a})}else if(_(o.ProcessSucceeded)){var s=new P(e.terria);s.name=n.name,s.description=n.description,s.parameters=e.parameters,s.parameterValues=t,s.wpsResponseUrl=i.statusLocation,s.wpsResponse=i,s.dataUrl=i.statusLocation,n.isEnabled=!1,s.isEnabled=!0}else if(_(i.statusLocation)&&n.isEnabled)return T(function(){return x(S(e,i.statusLocation,"1d")).then(function(r){return l(e,t,n,r)})},500)}var c=n(173),h=n(626),d=n(627),f=n(628),p=n(194),m=n(9),g=n(629),_=n(0),v=n(2),A=n(630),y=n(631),b=n(14),w=n(13),x=n(97),E=n(105),C=n(632),S=n(32),T=n(81),I=n(232),M=n(22),O=n(33),P=n(633),D=n(336),B=n(7),L=n(84),N=n(271),R=n(1317);b(p,r),v(r.prototype,{type:{get:function(){return"wps"}},typeName:{get:function(){return"Web Processing Service (WPS)"}},parameters:{get:function(){return this._parameters}}}),r.parameterConverters=[{id:"LiteralData",inputToFunctionParameter:function(e,t){if(_(t.LiteralData)){var n=t.LiteralData.AllowedValues;if(_(t.LiteralData.AllowedValue)&&(n=t.LiteralData.AllowedValue),_(n)){var r=n.Value.slice();return"string"==typeof r&&(r=[r]),new A({terria:e.terria,catalogFunction:e,id:t.Identifier,name:t.Title,description:t.Abstract,possibleValues:r,isRequired:(0|t.minOccurs)>0})}return _(t.LiteralData.AnyValue)?new y({terria:e.terria,catalogFunction:e,id:t.Identifier,name:t.Title,description:t.Abstract,isRequired:(0|t.minOccurs)>0}):void 0}},functionParameterToInput:function(e,t,n){return{inputValue:n,inputType:"LiteralData"}}},{id:"DateTime",inputToFunctionParameter:function(e,t){if(_(t.ComplexData)&&_(t.ComplexData.Default)&&_(t.ComplexData.Default.Format)&&_(t.ComplexData.Default.Format.Schema)){if("http://www.w3.org/TR/xmlschema-2/#dateTime"===t.ComplexData.Default.Format.Schema)return new g({terria:e.terria,catalogFunction:e,id:t.Identifier,name:t.Title,description:t.Abstract,isRequired:(0|t.minOccurs)>0})}},functionParameterToInput:function(e,t,n){return{inputType:"ComplexData",inputValue:g.formatValueForUrl(n)}}},{id:"PointGeometry",inputToFunctionParameter:function(e,t){if(_(t.ComplexData)&&_(t.ComplexData.Default)&&_(t.ComplexData.Default.Format)&&_(t.ComplexData.Default.Format.Schema)){var n=t.ComplexData.Default.Format.Schema;if(0===n.indexOf("http://geojson.org/geojson-spec.html#")&&"point"===n.substring(n.lastIndexOf("#")+1))return new C({terria:e.terria,catalogFunction:e,id:t.Identifier,name:t.Title,description:t.Abstract,isRequired:(0|t.minOccurs)>0})}},functionParameterToInput:function(e,t,n){return{inputType:"ComplexData",inputValue:C.formatValueForUrl(n)}}},{id:"LineGeometry",inputToFunctionParameter:function(e,t){if(_(t.ComplexData)&&_(t.ComplexData.Default)&&_(t.ComplexData.Default.Format)&&_(t.ComplexData.Default.Format.Schema)){var n=t.ComplexData.Default.Format.Schema;if(0===n.indexOf("http://geojson.org/geojson-spec.html#")&&"linestring"===n.substring(n.lastIndexOf("#")+1))return new h({terria:e.terria,catalogFunction:e,id:t.Identifier,name:t.Title,description:t.Abstract,isRequired:(0|t.minOccurs)>0})}},functionParameterToInput:function(e,t,n){return{inputType:"ComplexData",inputValue:h.formatValueForUrl(n)}}},{id:"PolygonGeometry",inputToFunctionParameter:function(e,t){if(_(t.ComplexData)&&_(t.ComplexData.Default)&&_(t.ComplexData.Default.Format)&&_(t.ComplexData.Default.Format.Schema)){var n=t.ComplexData.Default.Format.Schema;if(0===n.indexOf("http://geojson.org/geojson-spec.html#")&&"polygon"===n.substring(n.lastIndexOf("#")+1))return new f({terria:e.terria,catalogFunction:e,id:t.Identifier,name:t.Title,description:t.Abstract,isRequired:(0|t.minOccurs)>0})}},functionParameterToInput:function(e,t,n){return{inputType:"ComplexData",inputValue:f.formatValueForUrl(n)}}},{id:"RectangleGeometry",inputToFunctionParameter:function(e,t){if(_(t.BoundingBoxData)&&_(t.BoundingBoxData.Default)&&_(t.BoundingBoxData.Default.CRS)){var n=D.crsStringToCode(t.BoundingBoxData.Default.CRS),r=t.BoundingBoxData.Default.CRS;if(n!==D.TERRIA_CRS)for(var i=0;i<t.BoundingBoxData.Supported.CRS.length;i++)if(D.crsStringToCode(t.BoundingBoxData.Supported.CRS[i])===D.TERRIA_CRS){n=D.TERRIA_CRS,r=t.BoundingBoxData.Supported.CRS[i];break}if(_(n))return new d({terria:e.terria,catalogFunction:e,id:t.Identifier,name:t.Title,description:t.Abstract,isRequired:(0|t.minOccurs)>0,crs:r})}},functionParameterToInput:function(e,t,n){var r,i,o,a,s;return-1!==t.crs.indexOf("crs84")?(r=m.toDegrees(n.west),i=m.toDegrees(n.south),o=m.toDegrees(n.east),a=m.toDegrees(n.north),s="urn:ogc:def:crs:OGC:1.3:CRS84"):(r=m.toDegrees(n.south),i=m.toDegrees(n.west),o=m.toDegrees(n.north),a=m.toDegrees(n.east),s="urn:ogc:def:crs:EPSG:6.6:4326"),{inputType:"BoundingBoxData",inputValue:r+","+i+","+o+","+a+","+s}}}],r.prototype._load=function(){var e=new O(this.url).query({service:"WPS",request:"DescribeProcess",version:"1.0.0",Identifier:this.identifier}),t=S(this,e.toString(),"1d"),n=this;return x(t).then(function(e){function t(){throw new M({sender:n,title:"Process does not have any inputs",message:"This WPS process does not specify any inputs."})}if(!e||!e.documentElement||"ProcessDescriptions"!==e.documentElement.localName)throw new M({title:"Invalid WPS server",message:"An error occurred while invoking DescribeProcess on the WPS server for process name "+n.name+".  The server's response does not appear to be a valid DescribeProcess document.  <p>This error may also indicate that the processing server you specified is temporarily unavailable or there is a problem with your internet connection.  Try opening the processing server again, and if the problem persists, please report it by sending an email to <a href=\"mailto:"+n.terria.supportEmail+'">'+n.terria.supportEmail+"</a>.</p>"});var r=L(e);if(!_(r.ProcessDescription))throw new M({sender:n,title:"Process does not have a process description",message:"The WPS DescribeProcess for this process does not include a ProcessDescription."});n._storeSupported="true"===r.ProcessDescription.storeSupported,n._statusSupported="true"===r.ProcessDescription.statusSupported;var i=r.ProcessDescription.DataInputs;_(i)||t();var o=i.Input;_(o)||t(),Array.isArray(o)||(o=[o]),n._parameters=o.map(a.bind(void 0,n))})},r.prototype.invoke=function(){var e=new Date,t=I("%04d-%02d-%02dT%02d:%02d:%02d",e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),n=new c(this.terria);n.name=this.name+" "+t,n.description="This is the result of invoking the "+this.name+" process or service at "+t+" with the input parameters below.";var r='<table class="cesium-infoBox-defaultTable">'+(this.parameters||[]).reduce(function(e,t){return e+'<tr><td style="vertical-align: middle">'+t.name+"</td><td>"+t.formatValueAsString(t.value)+"</td></tr>"},"")+"</table>";n.info.push({name:"Inputs",content:r});var a=this;B.all(u(this)).then(function(e){var t;return t=a.executeWithHttpGet?i(a,e,n,"1d"):o(a,e,n,"1d"),n.loadPromise=t,n.isEnabled=!0,t})},e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(86),a=n(14),s=n(1),u=function(e){o.call(this,e)};a(o,u),r(u.prototype,{type:{get:function(){return"line"}}}),u.prototype.formatValueAsString=function(e){if(e=s(e,this.value),!i(e))return"-";for(var t="",n=0;n<e.length;n++)t+="["+e[n][0].toFixed(3)+", "+e[n][1].toFixed(3)+"]",n!==e.length-1&&(t+=", ");return t.length>0?t:""},u.prototype.getGeoJsonFeature=function(e){return e=s(e,this.value),{type:"Feature",geometry:{type:"LineString",coordinates:e}}},u.formatValueForUrl=function(e){return JSON.stringify({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:e}}]})},u.formatValueAsString=u.prototype.formatValueAsString,u.getGeoJsonFeature=u.prototype.getGeoJsonFeature,e.exports=u},function(e,t,n){"use strict";var r=n(9),i=n(1),o=n(0),a=n(2),s=n(86),u=n(14),l=n(336),c=n(16),h=n(1315),d=function(e){s.call(this,e),this.crs=i(e.crs,l.TERRIA_CRS)};u(s,d),a(d.prototype,{type:{get:function(){return"rectangle"}}}),d.prototype.formatValueAsString=function(e){if(e=i(e,this.value),!o(e))return"-";var t=c.southwest(e),n=c.northeast(e),a=r.toDegrees(t.longitude),s=r.toDegrees(t.latitude),u=r.toDegrees(n.longitude),l=r.toDegrees(n.latitude);return Math.abs(s).toFixed(2)+"°"+(s<0?"S ":"N ")+Math.abs(a).toFixed(2)+"°"+(a<0?"W":"E")+" to "+Math.abs(l).toFixed(2)+"°"+(l<0?"S ":"N ")+Math.abs(u).toFixed(2)+"°"+(u<0?"W":"E")},d.prototype.getGeoJsonFeature=function(e){return e=i(e,this.value),{type:"Feature",geometry:{type:"Polygon",coordinates:h(e)}}},d.formatValueAsString=d.prototype.formatValueAsString,d.getGeoJsonFeature=d.prototype.getGeoJsonFeature,e.exports=d},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(86),a=n(14),s=n(1),u=function(e){o.call(this,e)};a(o,u),r(u.prototype,{type:{get:function(){return"polygon"}}}),u.prototype.formatValueAsString=function(e){if(e=s(e,this.value),!i(e))return"-";for(var t=e[0],n="",r=0;r<t.length;r++)n+="["+t[r][0].toFixed(3)+", "+t[r][1].toFixed(3)+"]",r!==t.length-1&&(n+=", ");return n.length>0?"["+n+"]":""},u.prototype.getGeoJsonFeature=function(e){return e=s(e,this.value),{type:"Feature",geometry:{type:"Polygon",coordinates:e}}},u.formatValueForUrl=function(e){return JSON.stringify({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:e}}]})},u.formatValueAsString=u.prototype.formatValueAsString,u.getGeoJsonFeature=u.prototype.getGeoJsonFeature,e.exports=u},function(e,t,n){"use strict";var r=n(2),i=n(86),o=n(14),a=function(e){i.call(this,e)};o(i,a),r(a.prototype,{type:{get:function(){return"dateTime"}}}),a.formatValueForUrl=function(e){return JSON.stringify({type:"object",properties:{timestamp:{type:"string",format:"date-time","date-time":e}}})},e.exports=a},function(e,t,n){"use strict";var r=n(27),i=n(1),o=n(0),a=n(2),s=n(86),u=n(14),l=function(e){this.possibleValues=i(e.possibleValues,[]).slice(),e.isRequired||this.possibleValues.unshift(""),!o(e.defaultValue)&&this.possibleValues.length>0&&(e=r(e),e.defaultValue=this.possibleValues[0]),s.call(this,e)};u(s,l),a(l.prototype,{type:{get:function(){return"enumeration"}}}),e.exports=l},function(e,t,n){"use strict";var r=n(2),i=n(86),o=n(14),a=function(e){i.call(this,e),this.value=e.defaultValue};o(i,a),r(a.prototype,{type:{get:function(){return"string"}}}),e.exports=a},function(e,t,n){"use strict";function r(e){return a.toDegrees(e.longitude)+","+a.toDegrees(e.latitude)}function i(e){var t=a.toDegrees(e.longitude);return a.toDegrees(e.latitude)+","+t}function o(e){return JSON.stringify(d.getGeoJsonFeature(e))}var a=n(9),s=n(0),u=n(2),l=n(86),c=n(14),h=n(1),d=function(e){l.call(this,e)};c(l,d),u(d.prototype,{type:{get:function(){return"point"}}}),d.prototype.formatValueAsString=function(e){return e=h(e,this.value),s(e)?Math.abs(a.toDegrees(e.latitude))+"°"+(e.latitude<0?"S ":"N ")+Math.abs(a.toDegrees(e.longitude))+"°"+(e.longitude<0?"W":"E"):"-"},d.prototype.getGeoJsonFeature=function(e){if(e=h(e,this.value),s(e)&&""!==e){var t=[a.toDegrees(e.longitude),a.toDegrees(e.latitude)];return s(e.height)&&t.push(e.height),{type:"Feature",geometry:{type:"Point",coordinates:t}}}},d.formatValueAsString=d.prototype.formatValueAsString,d.getGeoJsonFeature=d.prototype.getGeoJsonFeature,d.formatValueForUrl=function(e){return JSON.stringify({type:"FeatureCollection",features:[d.getGeoJsonFeature(e)]})},d.AvailableFormatters={default:r,longitudeCommaLatitude:r,latitudeCommaLongitude:i,geoJsonFeature:o,geoJsonFeatureCollection:d.formatValueForUrl},e.exports=d},function(e,t,n){"use strict";function r(e){a.call(this,e),this._geoJsonItem=void 0,this.parameters=void 0,this.parameterValues=void 0,this.wpsResponseUrl=void 0,this.wpsResponse=void 0,h.track(this,["wpsResponseUrl","wpsResponse"])}function i(e,t){return s(t)?t.split(",").reduce(function(n,r){return t.match(/[.\/](png|jpg|jpeg|gif|svg)/i)?n+'<a href="'+r+'"><img src="'+r+'" alt="'+e+'" /></a>':0===r.indexOf("http:")||0===r.indexOf("https:")?n+'<a href="'+r+'">'+new m(r).filename()+"</a>":n+r},""):""}function o(e){if(!s(e.parameters)||!s(e.parameterValues))return g(void 0);for(var t=[],n=0;n<e.parameters.length;n++)if("function"==typeof e.parameters[n].getGeoJsonFeature){var r=e.parameters[n].getGeoJsonFeature(e.parameterValues[e.parameters[n].id]);s(r)&&(r instanceof Array?t=t.concat(r):t.push(r))}return g.all(t).then(function(e){return{type:"FeatureCollection",features:e,totalFeatures:e.length}})}var a=n(56),s=n(0),u=n(2),l=n(51),c=n(14),h=n(13),d=n(97),f=n(32),p=n(1316),m=n(33),g=n(7),_=n(84),v=n(96);c(a,r),u(r.prototype,{type:{get:function(){return"wps-result"}},typeName:{get:function(){return"Web Processing Service Result"}},dataSource:{get:function(){return s(this._geoJsonItem)?this._geoJsonItem.dataSource:void 0}}}),r.prototype._getValuesThatInfluenceLoad=function(){return[this.wpsResponseUrl,this.wpsResponse]},r.prototype._load=function(){s(this._geoJsonItem)&&(this._geoJsonItem._hide(),this._geoJsonItem._disable(),this._geoJsonItem=void 0);var e=this;return o(this).then(function(t){var n;return n=s(e.wpsResponse)?g(e.wpsResponse):d(f(e,e.wpsResponseUrl,"1d")),n.then(function(n){var r;r=n instanceof Document?_(n):n;var o=r.ProcessOutputs;if(s(o)){var a=o.Output;if(s(a)){Array.isArray(a)||(a=[a]);for(var u=0;u<a.length;++u)if(s(a[u].Data)&&(!s(a[u].Identifier)||".context"!==a[u].Identifier))if(s(a[u].Data.LiteralData))e.shortReportSections.push(new p({name:a[u].Title,content:i(a[u].Title,a[u].Data.LiteralData)}));else if(s(a[u].Data.ComplexData)){var c=a[u].Data.ComplexData;if("text/csv"===a[u].Data.ComplexData.mimeType)c='<collapsible title="'+a[u].Title+'" open="'+(0===u?"true":"false")+'">',c+='<chart can-download="true" hide-buttons="false" title="'+a[u].Title+"\" data='"+a[u].Data.ComplexData+'\' styling="histogram"></chart>',c+="</collapsible>";else if("application/vnd.terriajs.catalog-member+json"===a[u].Data.ComplexData.mimeType){c="Chart "+a[u].Title+" generated.";var h=JSON.parse(a[u].Data.ComplexData.text),d=v(h.type,e.terria);d.updateFromJson(h)}e.shortReportSections.push(new p({content:c}))}var f='<table class="cesium-infoBox-defaultTable">'+(e.parameters||[]).reduce(function(t,n){return t+'<tr><td style="vertical-align: middle">'+n.name+'</td><td style="padding-left: 4px">'+n.formatValueAsString(e.parameterValues[n.id])+"</td></tr>"},"")+"</table>",m='<table class="cesium-infoBox-defaultTable">'+(a||[]).reduce(function(e,t){if(!s(t.Data)||!s(t.Data.LiteralData)&&!s(t.Data.ComplexData))return e;var n="";return s(t.Data.LiteralData)?n=i(t.Title,t.Data.LiteralData):s(t.Data.ComplexData)&&("text/csv"===t.Data.ComplexData.mimeType?n='<chart can-download="true" hide-buttons="false" title="'+t.Title+"\" data='"+t.Data.ComplexData+'\' styling: "feature-info">':"application/vnd.terriajs.catalog-member+json"===t.Data.ComplexData.mimeType&&(n="Chart "+t.Title+" generated.")),e+'<tr><td style="vertical-align: middle">'+t.Title+"</td><td>"+n+"</td></tr>"},"")+"</table>",g=e.findInfoSection("Inputs");return s(g)||e.info.push({name:"Inputs",content:f}),s(e.featureInfoTemplate)||(e.featureInfoTemplate="#### Inputs\n\n"+f+"\n\n#### Outputs\n\n"+m),s(t)?(e._geoJsonItem=new l(e.terria),e._geoJsonItem.name=e.name,e._geoJsonItem.data=t,e._geoJsonItem.load().then(function(){s(e.rectangle)||(e.rectangle=e._geoJsonItem.rectangle)})):void 0}}})})},r.prototype._enable=function(){s(this._geoJsonItem)&&this._geoJsonItem._enable()},r.prototype._disable=function(){s(this._geoJsonItem)&&this._geoJsonItem._disable()},r.prototype._show=function(){s(this._geoJsonItem)&&this._geoJsonItem._show()},r.prototype._hide=function(){s(this._geoJsonItem)&&this._geoJsonItem._hide()},e.exports=r},function(e,t,n){"use strict";var r=n(800),i=n(2),o=n(121),a=n(14),s=function(e){o.call(this,e),this.ionAssetId=void 0,this.ionAccessToken=void 0,this.ionServer=void 0};a(o,s),i(s.prototype,{type:{get:function(){return"ion-imagery"}},typeName:{get:function(){return"Cesium Ion Imagery"}}}),s.prototype._createImageryProvider=function(){return new r({assetId:this.ionAssetId,accessToken:this.ionAccessToken,server:this.ionServer})},e.exports=s},function(e,t,n){var r,i;r=[n(53),n(1),n(0),n(2),n(3),n(15),n(65),n(16),n(29),n(26),n(119),n(7)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h){"use strict";function d(n){function r(e){v._image=e,v._tileWidth=e.width,v._tileHeight=e.height,v._ready=!0,v._readyPromise.resolve(!0),c.handleSuccess(v._errorEvent)}function i(e){var t="Failed to load image "+f.url+".";_=c.handleError(_,v,v._errorEvent,t,0,0,0,d,e),v._readyPromise.reject(new l(t))}function d(){h(f.fetchImage(),r,i)}n=t(n,{});var f=u.createIfNeeded(n.url),p=t(n.rectangle,s.MAX_VALUE),m=new a({rectangle:p,numberOfLevelZeroTilesX:1,numberOfLevelZeroTilesY:1,ellipsoid:n.ellipsoid});this._tilingScheme=m,this._resource=f,this._image=void 0,this._texture=void 0,this._tileWidth=0,this._tileHeight=0,this._errorEvent=new o,this._ready=!1,this._readyPromise=h.defer();var g=n.credit;"string"==typeof g&&(g=new e(g)),this._credit=g;var _,v=this;d()}return r(d.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return 0}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),d.prototype.getTileCredits=function(e,t,n){},d.prototype.requestImage=function(e,t,n,r){return this._image},d.prototype.pickFeatures=function(e,t,n,r,i){},d}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(24),n(9),n(42),n(53),n(1),n(0),n(2),n(3),n(15),n(6),n(65),n(62),n(189),n(299),n(16),n(29),n(63),n(92),n(7),n(236),n(140),n(1328)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w){"use strict";function x(e){e=o(e,o.EMPTY_OBJECT);var t=g.createIfNeeded(e.url),n=e.style,r=e.tileMatrixSetID;if(t.url.indexOf("{")>=0){var s={style:n,Style:n,TileMatrixSet:r};t.setTemplateValues(s),this._useKvp=!1}else t.setQueryParameters(S),this._useKvp=!0;this._resource=t,this._layer=e.layer,this._style=n,this._tileMatrixSetID=r,this._tileMatrixLabels=e.tileMatrixLabels,this._format=o(e.format,"image/jpeg"),this._tileDiscardPolicy=e.tileDiscardPolicy,this._tilingScheme=a(e.tilingScheme)?e.tilingScheme:new _({ellipsoid:e.ellipsoid}),this._tileWidth=o(e.tileWidth,256),this._tileHeight=o(e.tileHeight,256),this._minimumLevel=o(e.minimumLevel,0),this._maximumLevel=e.maximumLevel,this._rectangle=o(e.rectangle,this._tilingScheme.rectangle),this._dimensions=e.dimensions;var u=this;this._reload=void 0,a(e.times)&&(this._timeDynamicImagery=new w({clock:e.clock,times:e.times,requestImageFunction:function(e,t,n,r,i){return E(u,e,t,n,r,i)},reloadFunction:function(){a(u._reload)&&u._reload()}})),this._enablePickFeatures=o(e.enablePickFeatures,!0),this._getFeatureInfoFormats=o(e.getFeatureInfoFormats,x.DefaultGetFeatureInfoFormats),this._readyPromise=A.resolve(!0);var c=this._tilingScheme.positionToTileXY(m.southwest(this._rectangle),this._minimumLevel),h=this._tilingScheme.positionToTileXY(m.northeast(this._rectangle),this._minimumLevel);Math.abs(h.x-c.x),Math.abs(h.y-c.y);this._errorEvent=new l;var f=e.credit;this._credit="string"==typeof f?new i(f):f,this._subdomains=e.subdomains,d(this._subdomains)?this._subdomains=this._subdomains.slice():a(this._subdomains)&&this._subdomains.length>0?this._subdomains=this._subdomains.split(""):this._subdomains=["a","b","c"]}function E(e,t,n,i,o,s){var u,l=e._tileMatrixLabels,c=a(l)?l[i]:i.toString(),h=e._subdomains,d=e._dimensions,f=a(s)?s.data:void 0;if(e._useKvp){var p={};p.tilematrix=c,p.layer=e._layer,p.style=e._style,p.tilerow=n,p.tilecol=t,p.tilematrixset=e._tileMatrixSetID,p.format=e._format,a(d)&&(p=r(p,d)),a(f)&&(p=r(p,f)),u=e._resource.getDerivedResource({queryParameters:p,request:o})}else{var m={TileMatrix:c,TileRow:n.toString(),TileCol:t.toString(),s:h[(t+n+i)%h.length]};u=e._resource.getDerivedResource({request:o}),u.setTemplateValues(m),a(d)&&u.setTemplateValues(d),a(f)&&u.setTemplateValues(f)}return b.loadImage(e,u)}function C(e,t,n,i,s,u,l){var c=new v(e._url),h=p(o(c.query,""));h=r(x.GetFeatureInfoDefaultParameters,h);var d=e._tileMatrixLabels,m=a(d)?d[s]:s.toString();h.tilematrix=m,h.layer=e._layer,h.style=e._style,h.tilerow=i,h.tilecol=n,h.tilematrixset=e._tileMatrixSetID,h.format=e._format,h.i=u,h.j=l,a(h.infoFormat)||(h.infoFormat=t),c.query=f(h);var g=c.toString(),_=e._proxy;return a(_)&&(g=_.getURL(g)),g}var S=c({service:"WMTS",version:"1.0.0",request:"GetTile"});s(x.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return this._minimumLevel}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},format:{get:function(){return this._format}},ready:{value:!0},readyPromise:{get:function(){return this._readyPromise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}},clock:{get:function(){return this._timeDynamicImagery.clock},set:function(e){this._timeDynamicImagery.clock=e}},times:{get:function(){return this._timeDynamicImagery.times},set:function(e){this._timeDynamicImagery.times=e}},dimensions:{get:function(){return this._dimensions},set:function(e){this._dimensions!==e&&(this._dimensions=e,a(this._reload)&&this._reload())}}}),x.prototype.getTileCredits=function(e,t,n){},x.prototype.requestImage=function(e,t,n,r){var i,o,s=this._timeDynamicImagery;return a(s)&&(o=s.currentInterval,i=s.getFromCache(e,t,n,r)),a(i)||(i=E(this,e,t,n,r,o)),a(i)&&a(s)&&s.checkApproachingInterval(e,t,n,r),i};var T=new t,I=new e;return x.prototype.pickFeatures=function(e,t,r,i,o){function a(e,t){return e.callback(t)}function s(){if(p>=m._getFeatureInfoFormats.length)return A([]);var n=m._getFeatureInfoFormats[p],i=C(m,n.format,e,t,r,d,f);return++p,"json"===n.type?g.fetchJson(i).then(n.callback).otherwise(s):"xml"===n.type?g.fetchXML(i).then(n.callback).otherwise(s):"text"===n.type||"html"===n.type?g.fetchText(i).then(n.callback).otherwise(s):g.fetch({url:i,responseType:n.format}).then(a.bind(void 0,n)).otherwise(s)}if(this._enablePickFeatures&&0!==this._getFeatureInfoFormats.length){var u,l=this._tilingScheme.tileXYToNativeRectangle(e,t,r);if(this._tilingScheme instanceof h)u=I,u.x=n.toDegrees(i),u.y=n.toDegrees(o);else{var c=T;c.longitude=i,c.latitude=o,u=this._tilingScheme.projection.project(c,I)}var d=this._tileWidth*(u.x-l.west)/l.width|0,f=this._tileHeight*(l.north-u.y)/l.height|0,p=0,m=this;return s()}},x.GetFeatureInfoDefaultParameters=c({service:"WMTS",version:"1.0.0",request:"GetFeatureInfo"}),x.DefaultGetFeatureInfoFormats=c([c(new y("json","application/json")),c(new y("xml","text/xml")),c(new y("text","text/html"))]),x}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e,t,n){var r=e.terria,a=new FormData;if(o(t)){var s=1e6;if(o(r.serverConfig)&&o(r.serverConfig.config)&&o(r.serverConfig.config.maxConversionSize)&&(s=r.serverConfig.config.maxConversionSize),t.size>s){return void i(e,"The file size is greater than the "+s/1e6+"MB limit of the "+r.appName+" conversion service.")}a.append("input_file",t)}else o(n)&&(n=new l(n).resolve(new l(document.location.href)).toString(),a.append("input_url",n));return console.log("Attempting to convert file via the Terria-Server ogr2ogr web service"),u({url:e.terria.configParameters.conversionServiceBaseUrl,method:"POST",data:a}).then(function(t){return e._geoJsonItem.data=JSON.parse(t),e._geoJsonItem.load().then(function(){e.rectangle=e._geoJsonItem.rectangle,e.clock=e._geoJsonItem.clock})}).otherwise(function(){i(e)})}function i(e,t){var n=e.terria;throw o(t)||(t="This may indicate that the file is invalid or that it is not supported by the "+n.appName+" conversion service."),new m({sender:e,title:"Error converting file to GeoJson",message:"An error occurred while attempting to convert this file to GeoJson.  "+t+'  If you would like assistance or further information, please email us at <a href="mailto:'+n.supportEmail+'">'+n.supportEmail+"</a>."})}var o=n(0),a=n(2),s=n(13),u=n(105),l=n(92),c=n(7),h=n(56),d=n(51),f=n(14),p=n(74),m=n(22),g=function(e,t){h.call(this,e),this._geoJsonItem=void 0,this.url=t,this.data=void 0,this.dataSourceUrl=void 0,s.track(this,["data","dataSourceUrl"])};f(h,g),a(g.prototype,{type:{get:function(){return"ogr"}},typeName:{get:function(){return"Unknown / Converted to GeoJSON"}},metadata:{get:function(){var e=new p;return e.isLoading=!1,e.dataSourceErrorMessage="This data source does not have any details available.",e.serviceErrorMessage="This service does not have any details available.",e}},dataSource:{get:function(){return o(this._geoJsonItem)?this._geoJsonItem.dataSource:void 0}}}),g.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.data]},g.prototype._load=function(){if("undefined"==typeof FormData)throw new m({sender:this,title:"Legacy browser not supported",message:'Your web browser does not support the "FormData" type, which is required by the '+this.terria.appName+' conversion service.  We recommend you upgrade to the latest version of <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a>, <a href="http://www.mozilla.org/firefox" target="_blank">Mozilla Firefox</a>, <a href="https://www.apple.com/au/osx/how-to-upgrade/" target="_blank">Apple Safari</a>, or <a href="http://www.microsoft.com/ie" target="_blank">Microsoft Internet Explorer</a>.'});if(!1===this.terria.configParameters.conversionServiceBaseUrl)throw new m({title:"Unsupported file type",message:"This file format is not supported by "+this.terria.appName+'. Supported file formats include: <ul><li>.geojson</li><li>.kml, .kmz</li><li>.csv (in <a href="https://github.com/TerriaJS/nationalmap/wiki/csv-geo-au">csv-geo-au format</a>)</li></ul>'});this._geoJsonItem=new d(this.terria);var e=this;return o(e.data)?c(e.data,function(t){return t instanceof Blob||(t=new Blob([t],{type:"application/octet-stream",name:e.dataSourceUrl,lastModifiedDate:new Date})),r(e,t)}):r(e,void 0,e.url)},g.prototype._enable=function(){o(this._geoJsonItem)&&this._geoJsonItem._enable()},g.prototype._disable=function(){o(this._geoJsonItem)&&this._geoJsonItem._disable()},g.prototype._show=function(){o(this._geoJsonItem)&&this._geoJsonItem._show()},g.prototype._hide=function(){o(this._geoJsonItem)&&this._geoJsonItem._hide()},g.prototype.showOnSeparateMap=function(e){if(o(this._geoJsonItem))return this._geoJsonItem.showOnSeparateMap(e)},e.exports=g},function(e,t,n){"use strict";function r(e){e.isOpen=!1,e.items.forEach(function(e){e.items&&r(e)})}var i=n(1),o=n(14),a=n(259),s=function(e,t){e=i(e,"Conditions"),t=i(t,i.EMPTY_OBJECT),a.call(this,e,t)};o(a,s),s.prototype.closeDescendants=function(){r(this)},e.exports=s},function(e,t,n){"use strict";function r(e,t){return B(e,i(t))}function i(e){var t=new f(e);return t.search(""),t.toString()}function o(e){var t=e.WGS84BoundingBox;if(g(t)){var n=t.LowerCorner,r=t.UpperCorner;if(g(n)&&g(r)){var i=n.split(" "),o=r.split(" ");if(2===i.length&&2===o.length)return x.fromDegrees(i[0],i[1],o[0],o[1])}}}function a(e){var t=!1,n=!1,r=!1,i="text/xml",o=e.InfoFormat;g(o)&&("application/json"===o?t=!0:g(o.indexOf)&&o.indexOf("application/json")>=0&&(t=!0),"text/xml"===o||"application/vnd.ogc.gml"===o?(n=!0,i=o):g(o.indexOf)&&o.indexOf("text/xml")>=0?(n=!0,i="text/xml"):g(o.indexOf)&&o.indexOf("application/vnd.ogc.gml")>=0?(n=!0,i="application/vnd.ogc.gml"):g(o.indexOf)&&o.indexOf("text/html")>=0&&(r=!0));var a=[];return t&&a.push(new y("json")),n&&a.push(new y("xml",i)),r&&a.push(new y("html")),a}function s(e){var t=new I;t.isLoading=!0;var n=e._rawMetadata||w(B(e,e.metadataUrl)).then(R.capabilitiesXmlToJson);return t.promise=S(n,function(n){n.ServiceIdentification||n.ServiceProvider?l(t.serviceMetadata,{Identification:n.ServiceIdentification,Provider:n.ServiceProvider}):t.serviceErrorMessage="Service information not found in GetCapabilities operation response.";var r=u(n,e.layer);r?l(t.dataSourceMetadata,r):t.dataSourceErrorMessage="Layer information not found in GetCapabilities operation response.",e.updateFromCapabilities(n,!1,r),t.isLoading=!1}).otherwise(function(){t.dataSourceErrorMessage="An error occurred while invoking the GetCapabilities service.",t.serviceErrorMessage="An error occurred while invoking the GetCapabilities service.",t.isLoading=!1}),t}function u(e,t){if(g(e.Contents)&&g(e.Contents.Layer))for(var n=e.Contents.Layer,r=0;r<n.length;++r){var i=n[r];if(i.Identifier===t||i.Title===t)return i}}function l(e,t){if(!("string"==typeof t||t instanceof String||t instanceof Array))for(var n in t)if(t.hasOwnProperty(n)&&"_parent"!==n){var r,i=t[n];if("BoundingBox"===n&&i instanceof Array)for(var o=0;o<i.length;++o){var a=i[o];r=new M,r.name=n+" ("+a.CRS+")",r.value=a,l(r,a),e.items.push(r)}else r=new M,r.name=n,r.value=i,l(r,i),e.items.push(r)}}function c(e,t,n,r){if(g(r)&&0!==r.length){var i=e.findInfoSection(n);g(i)?t&&(i.content=r):e.info.push({name:n,content:r})}}function h(e,t,n,r){g(r)&&(!t&&g(e[n])||(e[n]=r))}function d(e){if(g(e.ServiceProvider)&&g(e.ServiceProvider.ProviderName)){var t,n,r=e.ServiceProvider.ProviderName;g(e.ServiceProvider.ProviderSite)&&g(e.ServiceProvider.ProviderSite["xlink:href"])&&(t=e.ServiceProvider.ProviderSite.href),g(e.ServiceProvider.ServiceContact)&&g(e.ServiceProvider.ServiceContact.Address)&&g(e.ServiceProvider.ServiceContact.Address.ElectronicMailAddress)&&(n=e.ServiceProvider.ServiceContact.Address.ElectronicMailAddress);var i=g(t)?"["+r+"]("+t+")":r;return g(n)&&(i+="<br/>",i+="["+n+"](mailto:"+n+")"),i}}var f=n(33),p=n(27),m=n(1),g=n(0),_=n(2),v=n(6),A=n(65),y=n(236),b=n(13),w=n(97),x=n(16),E=n(636),C=n(63),S=n(7),T=n(586),I=n(74),M=n(233),O=n(121),P=n(14),D=n(83),B=n(32),L=n(84),N=n(165),R=function(e){O.call(this,e),this._rawMetadata=void 0,this._metadata=void 0,this._dataUrl=void 0,this._dataUrlType=void 0,this._metadataUrl=void 0,this._legendUrl=void 0,this._rectangle=void 0,this._rectangleFromMetadata=void 0,this._intervalsFromMetadata=void 0,this.layer="",this.style=void 0,this.tileMatrixSetID=void 0,this.tileMatrixSetLabels=void 0,this.tilingScheme=void 0,this.getFeatureInfoFormats=void 0,this.populateIntervalsFromTimeDimension=!0,this.minScaleDenominator=void 0,this.format=void 0,b.track(this,["_dataUrl","_dataUrlType","_metadataUrl","_legendUrl","_rectangle","_rectangleFromMetadata","_intervalsFromMetadata","layer","style","tileMatrixSetID","getFeatureInfoFormats","tilingScheme","populateIntervalsFromTimeDimension","minScaleDenominator","format"]),D(this,"metadataUrl",{get:function(){return g(this._metadataUrl)?this._metadataUrl:i(this.url)+"?service=WMTS&request=GetCapabilities&version=1.0.0"},set:function(e){this._metadataUrl=e}}),D(this,"dataUrl",{get:function(){return this._dataUrl},set:function(e){this._dataUrl=e}}),D(this,"dataUrlType",{get:function(){return g(this._dataUrlType)?this._dataUrlType:"none"},set:function(e){this._dataUrlType=e}})};P(O,R),_(R.prototype,{type:{get:function(){return"wmts"}},typeName:{get:function(){return"Web Map Tile Service (WMTS)"}},supportsIntervals:{get:function(){return!0}},metadata:{get:function(){return g(this._metadata)||(this._metadata=s(this)),this._metadata}},updaters:{get:function(){return R.defaultUpdaters}},serializers:{get:function(){return R.defaultSerializers}}}),R.defaultUpdaters=p(O.defaultUpdaters),R.defaultUpdaters.tilingScheme=function(e,t,n,r){"geographic"===t.tilingScheme?e.tilingScheme=new A:"web-mercator"===t.tilingScheme?e.tilingScheme=new C:e.tilingScheme=t.tilingScheme},R.defaultUpdaters.getFeatureInfoFormats=function(e,t,n,r){for(var i=[],o=0;o<t.getFeatureInfoFormats.length;++o){var a=t.getFeatureInfoFormats[o];i.push(new y(a.type,a.format))}e.getFeatureInfoFormats=i},v(R.defaultUpdaters),R.defaultSerializers=p(O.defaultSerializers),R.defaultSerializers.dataUrl=function(e,t,n){t.dataUrl=e._dataUrl},R.defaultSerializers.dataUrlType=function(e,t,n){t.dataUrlType=e._dataUrlType},R.defaultSerializers.metadataUrl=function(e,t,n){t.metadataUrl=e._metadataUrl},R.defaultSerializers.legendUrl=function(e,t,n){t.legendUrl=e._legendUrl},R.defaultSerializers.tilingScheme=function(e,t,n){e.tilingScheme instanceof A?t.tilingScheme="geographic":e.tilingScheme instanceof C?t.tilingScheme="web-mercator":t.tilingScheme=e.tilingScheme},v(R.defaultSerializers),R.abstractsToIgnore=["A compliant implementation of WMTS"],R.prototype.updateFromCapabilities=function(e,t,n){if(g(e.documentElement)&&(e=R.capabilitiesXmlToJson(e),n=void 0),g(n)||(n=u(e,this.layer),g(n))){this._rawMetadata=e,T(n.Abstract,R.abstractsToIgnore)||c(this,t,"Data Description",n.Abstract);var r=g(e.Service)?e.Service:{};T(r.Abstract,R.abstractsToIgnore)||r.Abstract===n.Abstract||c(this,t,"Service Description",r.Abstract),g(r.AccessConstraints)&&!/^none$/i.test(r.AccessConstraints)&&c(this,t,"Access Constraints",r.AccessConstraints),h(this,t,"dataCustodian",d(e)),h(this,t,"minScaleDenominator",n.MinScaleDenominator),h(this,t,"getFeatureInfoFormats",a(n)),h(this,t,"rectangle",o(n));var i=n.Format;if(g(i)){Array.isArray(i)||(i=[i]);var s;i.indexOf("image/png")>=0?s="image/png":(i.indexOf("image/jpeg")>=0||i.indexOf("images/jpg")>=0)&&(s="image/jpeg"),h(this,t,"format",s)}var l,f="urn:ogc:def:wkss:OGC:1.0:GoogleMapsCompatible",p=n.TileMatrixSetLink;Array.isArray(p)||(p=[p]);var m;for(m=0;m<p.length;++m){var _=p[m],v=_.TileMatrixSet;if(e.usableTileMatrixSets[v]){f=v,l=e.usableTileMatrixSets[v];break}}h(this,t,"tileMatrixSetID",f),h(this,t,"tileMatrixSetLabels",l);var A=n.Style;if(g(A)){Array.isArray(A)||(A=[A]);var y;for(m=0;m<A.length;++m){var b=A[m];if(b.isDefault){y=b.Identifier;var w=b.legendURL;g(w)&&(Array.isArray(w)&&(w=w[0]),this.legendUrl=new N(w.href,w.format));break}}g(y)||(y=""),h(this,t,"style",y)}}},R.prototype._load=function(){if(!g(this._rawMetadata)){var e=this;return w(B(this,this.metadataUrl)).then(function(t){return e._rawMetadata=R.capabilitiesXmlToJson(t),e.updateFromCapabilities(e._rawMetadata,!1),e._rawMetadata})}},R.prototype._createImageryProvider=function(){return new E({url:r(this,this.url),layer:this.layer,tileMatrixSetID:this.tileMatrixSetID,tileMatrixLabels:this.tileMatrixSetLabels,style:this.style,getFeatureInfoFormats:this.getFeatureInfoFormats,tilingScheme:g(this.tilingScheme)?this.tilingScheme:new C,format:m(this.format,"image/png")})},R.capabilitiesXmlToJson=function(e){var t=L(e);t.usableTileMatrixSets={"urn:ogc:def:wkss:OGC:1.0:GoogleMapsCompatible":!0};for(var n=new C,r=t.Contents.TileMatrixSet,i=0;i<r.length;++i){var o=r[i];if("urn:ogc:def:crs:EPSG::900913"===o.SupportedCRS||"urn:ogc:def:crs:EPSG:6.18:3:3857"===o.SupportedCRS){var a=o.TileMatrix;if(g(a)&&!(a.length<1)){var s=a[0];if(256==(0|s.TileWidth)&&256==(0|s.TileHeight)&&1==(0|s.MatrixWidth)&&1==(0|s.MatrixHeight)){if(!(Math.abs(s.ScaleDenominator-559082264.0287178)>1)&&g(s.TopLeftCorner)){var u=s.TopLeftCorner.split(" "),l=u[0],c=u[1];Math.abs(l-n._rectangleSouthwestInMeters.x)>1||Math.abs(c-n._rectangleNortheastInMeters.y)>1||(t.usableTileMatrixSets[o.Identifier]=!0,g(o.TileMatrix)&&o.TileMatrix.length>0&&(t.usableTileMatrixSets[o.Identifier]=o.TileMatrix.map(function(e){return e.Identifier})))}}}}}return t},e.exports=R},function(e,t,n){"use strict";var r=n(88);t.a=function(e){return"string"==typeof e?new r.a([[document.querySelector(e)]],[document.documentElement]):new r.a([[e]],r.c)}},function(e,t,n){"use strict";function r(){return[]}t.a=function(e){return null==e?r:function(){return this.querySelectorAll(e)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return this.matches(e)}}},function(e,t,n){"use strict";function r(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}t.a=r;var i=n(644),o=n(88);t.b=function(){return new o.a(this._enter||this._groups.map(i.a),this._parents)},r.prototype={constructor:r,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},function(e,t,n){"use strict";t.a=function(e){return new Array(e.length)}},function(e,t,n){"use strict";function r(e){return function(){this.style.removeProperty(e)}}function i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function o(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function a(e,t){return e.style.getPropertyValue(t)||Object(s.a)(e).getComputedStyle(e,null).getPropertyValue(t)}t.b=a;var s=n(376);t.a=function(e,t,n){return arguments.length>1?this.each((null==t?r:"function"==typeof t?o:i)(e,t,null==n?"":n)):a(this.node(),e)}},function(e,t,n){"use strict";var r=n(207),i=n(146),o=n(274),a=n(379),s=n(380);t.a=function(){function e(e){var t,i,o,a,s,m=e.length,g=!1,_=new Array(m),v=new Array(m);for(null==d&&(p=f(s=Object(r.a)())),t=0;t<=m;++t){if(!(t<m&&h(a=e[t],t,e))===g)if(g=!g)i=t,p.areaStart(),p.lineStart();else{for(p.lineEnd(),p.lineStart(),o=t-1;o>=i;--o)p.point(_[o],v[o]);p.lineEnd(),p.areaEnd()}g&&(_[t]=+n(a,t,e),v[t]=+l(a,t,e),p.point(u?+u(a,t,e):_[t],c?+c(a,t,e):v[t]))}if(s)return p=null,s+""||null}function t(){return Object(a.a)().defined(h).curve(f).context(d)}var n=s.a,u=null,l=Object(i.a)(0),c=s.b,h=Object(i.a)(!0),d=null,f=o.a,p=null;return e.x=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(+t),u=null,e):n},e.x0=function(t){return arguments.length?(n="function"==typeof t?t:Object(i.a)(+t),e):n},e.x1=function(t){return arguments.length?(u=null==t?null:"function"==typeof t?t:Object(i.a)(+t),e):u},e.y=function(t){return arguments.length?(l="function"==typeof t?t:Object(i.a)(+t),c=null,e):l},e.y0=function(t){return arguments.length?(l="function"==typeof t?t:Object(i.a)(+t),e):l},e.y1=function(t){return arguments.length?(c=null==t?null:"function"==typeof t?t:Object(i.a)(+t),e):c},e.lineX0=e.lineY0=function(){return t().x(n).y(l)},e.lineY1=function(){return t().x(n).y(c)},e.lineX1=function(){return t().x(u).y(l)},e.defined=function(t){return arguments.length?(h="function"==typeof t?t:Object(i.a)(!!t),e):h},e.curve=function(t){return arguments.length?(f=t,null!=d&&(p=f(d)),e):f},e.context=function(t){return arguments.length?(null==t?d=p=null:p=f(d=t),e):d},e}},function(e,t,n){"use strict";function r(e){this._curve=e}function i(e){function t(t){return new r(e(t))}return t._curve=e,t}n.d(t,"a",function(){return a}),t.b=i;var o=n(274),a=i(o.a);r.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}},function(e,t,n){"use strict";function r(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(Object(i.b)(e)):t()._curve},e}t.b=r;var i=n(647),o=n(379);t.a=function(){return r(Object(o.a)().curve(i.a))}},function(e,t,n){"use strict";t.a=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Array.prototype.slice},function(e,t,n){"use strict";var r=n(208);t.a={draw:function(e,t){var n=Math.sqrt(t/r.j);e.moveTo(n,0),e.arc(0,0,n,0,r.m)}}},function(e,t,n){"use strict";t.a={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}},function(e,t,n){"use strict";var r=Math.sqrt(1/3),i=2*r;t.a={draw:function(e,t){var n=Math.sqrt(t/i),o=n*r;e.moveTo(0,-n),e.lineTo(o,0),e.lineTo(0,n),e.lineTo(-o,0),e.closePath()}}},function(e,t,n){"use strict";var r=n(208),i=Math.sin(r.j/10)/Math.sin(7*r.j/10),o=Math.sin(r.m/10)*i,a=-Math.cos(r.m/10)*i;t.a={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),i=o*n,s=a*n;e.moveTo(0,-n),e.lineTo(i,s);for(var u=1;u<5;++u){var l=r.m*u/5,c=Math.cos(l),h=Math.sin(l);e.lineTo(h*n,-c*n),e.lineTo(c*i-h*s,h*i+c*s)}e.closePath()}}},function(e,t,n){"use strict";t.a={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}}},function(e,t,n){"use strict";var r=Math.sqrt(3);t.a={draw:function(e,t){var n=-Math.sqrt(t/(3*r));e.moveTo(0,2*n),e.lineTo(-r*n,-n),e.lineTo(r*n,-n),e.closePath()}}},function(e,t,n){"use strict";var r=-.5,i=Math.sqrt(3)/2,o=1/Math.sqrt(12),a=3*(o/2+1);t.a={draw:function(e,t){var n=Math.sqrt(t/a),s=n/2,u=n*o,l=s,c=n*o+n,h=-l,d=c;e.moveTo(s,u),e.lineTo(l,c),e.lineTo(h,d),e.lineTo(r*s-i*u,i*s+r*u),e.lineTo(r*l-i*c,i*l+r*c),e.lineTo(r*h-i*d,i*h+r*d),e.lineTo(r*s+i*u,r*u-i*s),e.lineTo(r*l+i*c,r*c-i*l),e.lineTo(r*h+i*d,r*d-i*h),e.closePath()}}},function(e,t,n){"use strict";function r(e,t){this._context=e,this._k=(1-t)/6}t.a=r;var i=n(275),o=n(277);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Object(o.c)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.b=function e(t){function n(e){return new r(e,t)}return n.tension=function(t){return e(+t)},n}(0)},function(e,t,n){"use strict";function r(e,t){this._context=e,this._k=(1-t)/6}t.a=r;var i=n(277);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(i.c)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.b=function e(t){function n(e){return new r(e,t)}return n.tension=function(t){return e(+t)},n}(0)},function(e,t,n){"use strict";function r(e){for(var t,n=-1,r=0,i=e.length,o=-1/0;++n<i;)(t=+e[n][1])>o&&(o=t,r=n);return r}var i=n(210);t.a=function(e){var t=e.map(r);return Object(i.a)(e).sort(function(e,n){return t[e]-t[n]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n(1412),n(125));n.d(t,"transition",function(){return r.b});var i=n(1463);n.d(t,"active",function(){return i.a});var o=n(662);n.d(t,"interrupt",function(){return o.a})},function(e,t,n){"use strict";var r=n(66);t.a=function(e,t){var n,i,o,a=e.__transition,s=!0;if(a){t=null==t?null:t+"";for(o in a)(n=a[o]).name===t?(i=n.state>r.d&&n.state<r.b,n.state=r.a,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[o]):s=!1;s&&delete e.__transition}}},function(e,t,n){"use strict";var r=n(383);n.d(t,"a",function(){return r.b}),n.d(t,"c",function(){return r.c});var i=n(1416);n.d(t,"b",function(){return i.a});n(1417)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(e,t,n){"use strict";function r(e){return function(t){var n,r,o=t.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)r=Object(i.f)(t[n]),a[n]=r.r||0,s[n]=r.g||0,u[n]=r.b||0;return a=e(a),s=e(s),u=e(u),r.opacity=1,function(e){return r.r=a(e),r.g=s(e),r.b=u(e),r+""}}}var i=n(111),o=n(387),a=n(666),s=n(179);t.a=function e(t){function n(e,t){var n=r((e=Object(i.f)(e)).r,(t=Object(i.f)(t)).r),o=r(e.g,t.g),a=r(e.b,t.b),u=Object(s.a)(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=a(t),e.opacity=u(t),e+""}}var r=Object(s.b)(t);return n.gamma=e,n}(1);r(o.b),r(a.a)},function(e,t,n){"use strict";var r=n(387);t.a=function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),o=e[(i+t-1)%t],a=e[i%t],s=e[(i+1)%t],u=e[(i+2)%t];return Object(r.a)((n-i/t)*t,o,a,s,u)}}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";function r(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,a=new Array(o),s=new Array(r);for(n=0;n<o;++n)a[n]=Object(i.a)(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<o;++n)s[n]=a[n](e);return s}}t.a=r;var i=n(384);n(388)},function(e,t,n){"use strict";t.a=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}},function(e,t,n){"use strict";var r=n(384);t.a=function(e,t){var n,i={},o={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(n in t)n in e?i[n]=Object(r.a)(e[n],t[n]):o[n]=t[n];return function(e){for(n in i)o[n]=i[n](e);return o}}},function(e,t,n){"use strict";function r(e){return function(){return e}}function i(e){return function(t){return e(t)+""}}var o=n(278),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s=new RegExp(a.source,"g");t.a=function(e,t){var n,u,l,c=a.lastIndex=s.lastIndex=0,h=-1,d=[],f=[];for(e+="",t+="";(n=a.exec(e))&&(u=s.exec(t));)(l=u.index)>c&&(l=t.slice(c,l),d[h]?d[h]+=l:d[++h]=l),(n=n[0])===(u=u[0])?d[h]?d[h]+=u:d[++h]=u:(d[++h]=null,f.push({i:h,x:Object(o.a)(n,u)})),c=s.lastIndex;return c<t.length&&(l=t.slice(c),d[h]?d[h]+=l:d[++h]=l),d.length<2?f[0]?i(f[0].x):r(t):(t=f.length,function(e){for(var n,r=0;r<t;++r)d[(n=f[r]).i]=n.x(e);return d.join("")})}},function(e,t,n){"use strict";var r=n(111),i=n(126);t.a=function(e,t){var n;return("number"==typeof t?i.c:t instanceof r.a?i.d:(n=Object(r.a)(t))?(t=n,i.d):i.f)(e,t)}},function(e,t,n){"use strict";function r(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}t.a=r},function(e,t,n){"use strict";function r(e){function t(t){var r=t+"",i=n.get(r);if(!i){if(u!==a)return u;n.set(r,i=s.push(t))}return e[(i-1)%e.length]}var n=Object(i.map)(),s=[],u=a;return e=null==e?[]:o.b.call(e),t.domain=function(e){if(!arguments.length)return s.slice();s=[],n=Object(i.map)();for(var r,o,a=-1,u=e.length;++a<u;)n.has(o=(r=e[a])+"")||n.set(o,s.push(r));return t},t.range=function(n){return arguments.length?(e=o.b.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(u=e,t):u},t.copy=function(){return r().domain(s).range(e).unknown(u)},t}n.d(t,"b",function(){return a}),t.a=r;var i=n(389),o=n(147),a={name:"implicit"}},function(e,t,n){"use strict";t.a=function(e){return+e}},function(e,t,n){"use strict";var r=n(1474);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b});var i=(n(677),n(678));n.d(t,"c",function(){return i.a});var o=n(1481);n.d(t,"d",function(){return o.a});var a=n(1482);n.d(t,"e",function(){return a.a});var s=n(1483);n.d(t,"f",function(){return s.a})},function(e,t,n){"use strict";var r=n(281),i=n(1475),o=n(1476),a=n(678),s=n(1477),u=n(1478),l=n(679),c=n(1480),h=Array.prototype.map,d=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];t.a=function(e){function t(e){function t(e){var t,o,a,u=C,p=S;if("c"===E)p=T(e)+p,e="";else{e=+e;var m=e<0||1/e<0;if(e=isNaN(e)?y:T(Math.abs(e),w),x&&(e=Object(s.a)(e)),m&&0==+e&&"+"!==i&&(m=!1),u=(m?"("===i?i:A:"-"===i||"("===i?"":i)+u,p=("s"===E?d[8+l.b/3]:"")+p+(m&&"("===i?")":""),I)for(t=-1,o=e.length;++t<o;)if(48>(a=e.charCodeAt(t))||a>57){p=(46===a?g+e.slice(t+1):e.slice(t))+p,e=e.slice(0,t);break}}b&&!c&&(e=f(e,1/0));var v=u.length+e.length+p.length,M=v<h?new Array(h-v+1).join(n):"";switch(b&&c&&(e=f(M+e,M.length?h-p.length:1/0),M=""),r){case"<":e=u+e+p+M;break;case"=":e=u+M+e+p;break;case"^":e=M.slice(0,v=M.length>>1)+u+e+p+M.slice(v);break;default:e=M+u+e+p}return _(e)}e=Object(a.a)(e);var n=e.fill,r=e.align,i=e.sign,o=e.symbol,c=e.zero,h=e.width,b=e.comma,w=e.precision,x=e.trim,E=e.type;"n"===E?(b=!0,E="g"):u.a[E]||(void 0===w&&(w=12),x=!0,E="g"),(c||"0"===n&&"="===r)&&(c=!0,n="0",r="=");var C="$"===o?p:"#"===o&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S="$"===o?m:/[%p]/.test(E)?v:"",T=u.a[E],I=/[defgprs%]/.test(E);return w=void 0===w?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),t.toString=function(){return e+""},t}function n(e,n){var i=t((e=Object(a.a)(e),e.type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(n)/3))),s=Math.pow(10,-o),u=d[8+o/3];return function(e){return i(s*e)+u}}var f=void 0===e.grouping||void 0===e.thousands?c.a:Object(i.a)(h.call(e.grouping,Number),e.thousands+""),p=void 0===e.currency?"":e.currency[0]+"",m=void 0===e.currency?"":e.currency[1]+"",g=void 0===e.decimal?".":e.decimal+"",_=void 0===e.numerals?c.a:Object(o.a)(h.call(e.numerals,String)),v=void 0===e.percent?"%":e.percent+"",A=void 0===e.minus?"-":e.minus+"",y=void 0===e.nan?"NaN":e.nan+"";return{format:t,formatPrefix:n}}},function(e,t,n){"use strict";function r(e){if(!(t=o.exec(e)))throw new Error("invalid format: "+e);var t;return new i({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function i(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}t.a=r;var o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;r.prototype=i.prototype,i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},function(e,t,n){"use strict";n.d(t,"b",function(){return r});var r,i=n(282);t.a=function(e,t){var n=Object(i.b)(e,t);if(!n)return e+"";var o=n[0],a=n[1],s=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,u=o.length;return s===u?o:s>u?o+new Array(s-u+1).join("0"):s>0?o.slice(0,s)+"."+o.slice(s):"0."+new Array(1-s).join("0")+Object(i.b)(e,Math.max(0,t+s-1))[0]}},function(e,t,n){"use strict";t.a=function(e,t){e=e.slice();var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}},function(e,t,n){"use strict";function r(e){return new Date(e)}function i(e){return e instanceof Date?+e:+new Date(+e)}function o(e,t,n,u,l,y,b,w,x){function E(r){return(b(r)<r?M:y(r)<r?O:l(r)<r?P:u(r)<r?D:t(r)<r?n(r)<r?B:L:e(r)<r?N:R)(r)}function C(t,n,r,i){if(null==t&&(t=10),"number"==typeof t){var o=Math.abs(r-n)/t,s=Object(a.bisector)(function(e){return e[2]}).right(k,o);s===k.length?(i=Object(a.tickStep)(n/A,r/A,t),t=e):s?(s=k[o/k[s-1][2]<k[s][2]/o?s-1:s],i=s[1],t=s[0]):(i=Math.max(Object(a.tickStep)(n,r,t),1),t=w)}return null==i?t:t.every(i)}var S=Object(h.b)(h.c,s.c),T=S.invert,I=S.domain,M=x(".%L"),O=x(":%S"),P=x("%I:%M"),D=x("%I %p"),B=x("%a %d"),L=x("%b %d"),N=x("%B"),R=x("%Y"),k=[[b,1,f],[b,5,5*f],[b,15,15*f],[b,30,30*f],[y,1,p],[y,5,5*p],[y,15,15*p],[y,30,30*p],[l,1,m],[l,3,3*m],[l,6,6*m],[l,12,12*m],[u,1,g],[u,2,2*g],[n,1,_],[t,1,v],[t,3,3*v],[e,1,A]];return S.invert=function(e){return new Date(T(e))},S.domain=function(e){return arguments.length?I(c.a.call(e,i)):I().map(r)},S.ticks=function(e,t){var n,r=I(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=C(e,i,o,t),n=n?n.range(i,o+1):[],a?n.reverse():n},S.tickFormat=function(e,t){return null==t?E:x(t)},S.nice=function(e,t){var n=I();return(e=C(e,n[0],n[n.length-1],t))?I(Object(d.a)(n,e)):S},S.copy=function(){return Object(h.a)(S,o(e,t,n,u,l,y,b,w,x))},S}t.a=o;var a=n(82),s=n(126),u=n(392),l=n(682),c=n(147),h=n(280),d=n(680),f=1e3,p=60*f,m=60*p,g=24*m,_=7*g,v=30*g,A=365*g;t.b=function(){return o(u.k,u.f,u.j,u.a,u.b,u.d,u.g,u.c,l.a).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}},function(e,t,n){"use strict";var r=n(393);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b});n(683),n(684),n(1503)},function(e,t,n){"use strict";function r(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function a(e){function t(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=be[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}function n(e,t){return function(n){var s,u,l=o(1900,void 0,1),c=a(l,e,n+="",0);if(c!=n.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(1e3*l.s+("L"in l?l.L:0));if(!t||"Z"in l||(l.Z=0),"p"in l&&(l.H=l.H%12+12*l.p),void 0===l.m&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(s=i(o(l.y,0,1)),u=s.getUTCDay(),s=u>4||0===u?ye.p.ceil(s):Object(ye.p)(s),s=ye.l.offset(s,7*(l.V-1)),l.y=s.getUTCFullYear(),l.m=s.getUTCMonth(),l.d=s.getUTCDate()+(l.w+6)%7):(s=r(o(l.y,0,1)),u=s.getDay(),s=u>4||0===u?ye.e.ceil(s):Object(ye.e)(s),s=ye.a.offset(s,7*(l.V-1)),l.y=s.getFullYear(),l.m=s.getMonth(),l.d=s.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),u="Z"in l?i(o(l.y,0,1)).getUTCDay():r(o(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(u+5)%7:l.w+7*l.U-(u+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,i(l)):r(l)}}function a(e,t,n,r){for(var i,o,a=0,s=t.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=it[i in be?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function s(e,t,n){var r=We.exec(t.slice(n));return r?(e.p=qe[r[0].toLowerCase()],n+r[0].length):-1}function u(e,t,n){var r=Xe.exec(t.slice(n));return r?(e.w=Ze[r[0].toLowerCase()],n+r[0].length):-1}function H(e,t,n){var r=Ye.exec(t.slice(n));return r?(e.w=Ke[r[0].toLowerCase()],n+r[0].length):-1}function ue(e,t,n){var r=et.exec(t.slice(n));return r?(e.m=tt[r[0].toLowerCase()],n+r[0].length):-1}function we(e,t,n){var r=Je.exec(t.slice(n));return r?(e.m=$e[r[0].toLowerCase()],n+r[0].length):-1}function xe(e,t,n){return a(e,Fe,t,n)}function Ee(e,t,n){return a(e,Ue,t,n)}function Ce(e,t,n){return a(e,ze,t,n)}function Se(e){return Ve[e.getDay()]}function Te(e){return He[e.getDay()]}function Ie(e){return Ge[e.getMonth()]}function Me(e){return Qe[e.getMonth()]}function Oe(e){return je[+(e.getHours()>=12)]}function Pe(e){return 1+~~(e.getMonth()/3)}function De(e){return Ve[e.getUTCDay()]}function Be(e){return He[e.getUTCDay()]}function Le(e){return Ge[e.getUTCMonth()]}function Ne(e){return Qe[e.getUTCMonth()]}function Re(e){return je[+(e.getUTCHours()>=12)]}function ke(e){return 1+~~(e.getUTCMonth()/3)}var Fe=e.dateTime,Ue=e.date,ze=e.time,je=e.periods,He=e.days,Ve=e.shortDays,Qe=e.months,Ge=e.shortMonths,We=l(je),qe=c(je),Ye=l(He),Ke=c(He),Xe=l(Ve),Ze=c(Ve),Je=l(Qe),$e=c(Qe),et=l(Ge),tt=c(Ge),nt={a:Se,A:Te,b:Ie,B:Me,c:null,d:P,e:P,f:R,g:q,G:K,H:D,I:B,j:L,L:N,m:k,M:F,p:Oe,q:Pe,Q:ve,s:Ae,S:U,u:z,U:j,V:V,w:Q,W:G,x:null,X:null,y:W,Y:Y,Z:X,"%":_e},rt={a:De,A:Be,b:Le,B:Ne,c:null,d:Z,e:Z,f:ne,g:fe,G:me,H:J,I:$,j:ee,L:te,m:re,M:ie,p:Re,q:ke,Q:ve,s:Ae,S:oe,u:ae,U:se,V:le,w:ce,W:he,x:null,X:null,y:de,Y:pe,Z:ge,"%":_e},it={a:u,A:H,b:ue,B:we,c:xe,d:b,e:b,f:T,g:_,G:g,H:x,I:x,j:w,L:S,m:y,M:E,p:s,q:A,Q:M,s:O,S:C,u:d,U:f,V:p,w:h,W:m,x:Ee,X:Ce,y:_,Y:g,Z:v,"%":I};return nt.x=t(Ue,nt),nt.X=t(ze,nt),nt.c=t(Fe,nt),rt.x=t(Ue,rt),rt.X=t(ze,rt),rt.c=t(Fe,rt),{format:function(e){var n=t(e+="",nt);return n.toString=function(){return e},n},parse:function(e){var t=n(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",rt);return n.toString=function(){return e},n},utcParse:function(e){var t=n(e+="",!0);return t.toString=function(){return e},t}}}function s(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function u(e){return e.replace(Ee,"\\$&")}function l(e){return new RegExp("^(?:"+e.map(u).join("|")+")","i")}function c(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function h(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function d(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function f(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function p(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function m(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function g(e,t,n){var r=we.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function v(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function A(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function y(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function b(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function w(e,t,n){var r=we.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function x(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function E(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function C(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function S(e,t,n){var r=we.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function T(e,t,n){var r=we.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function I(e,t,n){var r=xe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function M(e,t,n){var r=we.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function O(e,t,n){var r=we.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function P(e,t){return s(e.getDate(),t,2)}function D(e,t){return s(e.getHours(),t,2)}function B(e,t){return s(e.getHours()%12||12,t,2)}function L(e,t){return s(1+ye.a.count(Object(ye.k)(e),e),t,3)}function N(e,t){return s(e.getMilliseconds(),t,3)}function R(e,t){return N(e,t)+"000"}function k(e,t){return s(e.getMonth()+1,t,2)}function F(e,t){return s(e.getMinutes(),t,2)}function U(e,t){return s(e.getSeconds(),t,2)}function z(e){var t=e.getDay();return 0===t?7:t}function j(e,t){return s(ye.h.count(Object(ye.k)(e)-1,e),t,2)}function H(e){var t=e.getDay();return t>=4||0===t?Object(ye.i)(e):ye.i.ceil(e)}function V(e,t){return e=H(e),s(ye.i.count(Object(ye.k)(e),e)+(4===Object(ye.k)(e).getDay()),t,2)}function Q(e){return e.getDay()}function G(e,t){return s(ye.e.count(Object(ye.k)(e)-1,e),t,2)}function W(e,t){return s(e.getFullYear()%100,t,2)}function q(e,t){return e=H(e),s(e.getFullYear()%100,t,2)}function Y(e,t){return s(e.getFullYear()%1e4,t,4)}function K(e,t){var n=e.getDay();return e=n>=4||0===n?Object(ye.i)(e):ye.i.ceil(e),s(e.getFullYear()%1e4,t,4)}function X(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+s(t/60|0,"0",2)+s(t%60,"0",2)}function Z(e,t){return s(e.getUTCDate(),t,2)}function J(e,t){return s(e.getUTCHours(),t,2)}function $(e,t){return s(e.getUTCHours()%12||12,t,2)}function ee(e,t){return s(1+ye.l.count(Object(ye.v)(e),e),t,3)}function te(e,t){return s(e.getUTCMilliseconds(),t,3)}function ne(e,t){return te(e,t)+"000"}function re(e,t){return s(e.getUTCMonth()+1,t,2)}function ie(e,t){return s(e.getUTCMinutes(),t,2)}function oe(e,t){return s(e.getUTCSeconds(),t,2)}function ae(e){var t=e.getUTCDay();return 0===t?7:t}function se(e,t){return s(ye.s.count(Object(ye.v)(e)-1,e),t,2)}function ue(e){var t=e.getUTCDay();return t>=4||0===t?Object(ye.t)(e):ye.t.ceil(e)}function le(e,t){return e=ue(e),s(ye.t.count(Object(ye.v)(e),e)+(4===Object(ye.v)(e).getUTCDay()),t,2)}function ce(e){return e.getUTCDay()}function he(e,t){return s(ye.p.count(Object(ye.v)(e)-1,e),t,2)}function de(e,t){return s(e.getUTCFullYear()%100,t,2)}function fe(e,t){return e=ue(e),s(e.getUTCFullYear()%100,t,2)}function pe(e,t){return s(e.getUTCFullYear()%1e4,t,4)}function me(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Object(ye.t)(e):ye.t.ceil(e),s(e.getUTCFullYear()%1e4,t,4)}function ge(){return"+0000"}function _e(){return"%"}function ve(e){return+e}function Ae(e){return Math.floor(+e/1e3)}t.a=a;var ye=n(392),be={"-":"",_:" ",0:"0"},we=/^\s*\d+/,xe=/^%/,Ee=/[\\^$*+?|[\]().{}]/g},function(e,t,n){"use strict";function r(e){return e.toISOString()}n.d(t,"a",function(){return o});var i=n(393),o="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Object(i.b)(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(389),o=n(1),a=r(o),s=n(0),u=r(s),l={className:function(e){return e&&e.className?e.className:"linechart-title"},getHeight:function(e){return(0,a.default)((0,u.default)(e)?e.height:0,30)},create:function(e,t){e.append("div").attr("class",l.className(t)).style("opacity",1e-6).style("position","absolute")},enterUpdateAndExit:function(e,t,n,r,o){var a=e.select("."+l.className(t)).style("top",n.top+"px");if(a.transition().duration(o).style("opacity",l.getHeight(t)>0?1:1e-6),(0,u.default)(t)){var s=r;"string"===t.type&&(s=[{id:"_string__",name:t.title}]);var c=a.selectAll(".title-component").data(s,function(e){return e.id}),h=(0,i.nest)().key(function(e){return e.categoryName}).length,d=(0,i.nest)().key(function(e){return e.name}).length,f=function(e,t){return e.categoryName?1===s.length?e.categoryName:1===d?e.categoryName+(0===t?" "+e.name:""):1===h?(0===t?e.categoryName+" ":"")+e.name:e.categoryName+" "+e.name:e.name},p=c.enter().append("span").attr("class","title-component");"legend"===t.type&&p.append("span").attr("class","color"),p.append("span").attr("class","name");var m=p.merge(c);m.select(".color").style("background-color",function(e){return e.color}),m.select(".name").text(f),c.exit().remove()}}};e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(28),a=r(o),s=n(4),u=r(s),l=n(5),c=r(l),h=n(8),d=r(h),f=n(30),p=r(f),m=n(1577),g=r(m),_=(0,d.default)({displayName:"Collapsible",propTypes:{title:c.default.string,startsOpen:c.default.bool,isInverse:c.default.bool,children:c.default.any},getInitialState:function(){return{isOpen:this.props.startsOpen}},toggleOpen:function(){var e=this.state.isOpen;this.setState({isOpen:!e})},render:function(){var e,t=void 0;this.state.isOpen&&(t=u.default.createElement("div",{className:g.default.body},this.props.children));var n=(e={},i(e,g.default.isOpen,this.state.isOpen),i(e,g.default.isInverse,this.props.isInverse),e);return u.default.createElement("div",{className:g.default.root},u.default.createElement("div",{className:g.default.header},u.default.createElement("button",{type:"button",onClick:this.toggleOpen,className:(0,a.default)(g.default.btn,n)},u.default.createElement(p.default,{glyph:this.state.isOpen?p.default.GLYPHS.opened:p.default.GLYPHS.closed})),u.default.createElement("span",null,this.props.title)),t)}});e.exports=_},function(e,t,n){"use strict";var r=n(0),i=function(){this.logToConsole=!1};i.prototype.start=function(e){r(e.logToConsole)&&(this.logToConsole=e.logAnalyticsToConsole)},i.prototype.logEvent=function(e,t,n,i){if(this.logToConsole){var o=r(n)?" Label: "+n:"",a=r(i)?" Value: "+i:"";console.log("** Event ** Category: "+e+" Action: "+t+o+a)}},e.exports=i},function(e,t,n){"use strict";var r=n(333),i=n(689),o=n(1);e.exports=function(e,t){return r(JSON.stringify(i(o(e.properties,{}),t))+e.name)}},function(e,t,n){"use strict";function r(e,t){if(i(e)){var n={};if("function"==typeof e.getValue)return e.getValue(t);for(var r in e)e.hasOwnProperty(r)&&(e[r]&&"function"==typeof e[r].getValue?n[r]=e[r].getValue(t):n[r]=e[r]);return n}}var i=n(0);e.exports=r},function(e,t,n){"use strict";var r=n(445),i=n(14),o=n(16),a=n(7),s=function(e){r.call(this,e)};i(r,s),s.prototype.destroy=function(){},s.prototype.isDestroyed=function(){return!1},s.prototype.getCurrentExtent=function(){return o.MAX_VALUE},s.prototype.getContainer=function(){},s.prototype.zoomTo=function(e,t){this.terria.initialView=e},s.prototype.captureScreenshot=function(){return a.reject()},s.prototype.notifyRepaintRequired=function(){},s.prototype.computePositionOnScreen=function(e,t){},s.prototype.addAttribution=function(e){},s.prototype.removeAttribution=function(e){},s.prototype.updateLayerOrderAfterReorder=function(){},s.prototype.raise=function(e){},s.prototype.lower=function(e){},s.prototype.lowerToBottom=function(e){},s.prototype.addImageryProvider=function(e){},s.prototype.removeImageryLayer=function(e){},s.prototype.showImageryLayer=function(e){},s.prototype.hideImageryLayer=function(e){},s.prototype.isImageryLayerShown=function(e){return!1},e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(397),s=r(a),u=n(27),l=r(u),c=n(0),h=r(c),d=n(1594),f=r(d),p=n(284),m=r(p),g=n(13),_=r(g),v=n(1595),A=r(v),y=n(1599),b=r(y),w=function(){function e(t){var n=this;i(this,e);var r=t.terria;this.mobileViewOptions=Object.freeze({data:"data",preview:"preview",nowViewing:"nowViewing",locationSearchResults:"locationSearchResults"}),this.searchState=new b.default({terria:r,catalogSearchProvider:t.catalogSearchProvider,locationSearchProviders:t.locationSearchProviders}),this.terria=r,this.previewedItem=void 0,this.userDataPreviewedItem=void 0,this.explorerPanelIsVisible=!1,this.activeTabCategory="data-catalog",this.activeTabSubCategory=null,this.isDraggingDroppingFile=!1,this.mobileView=null,this.isMapFullScreen=!1,this.myDataIsUploadView=!0,this.useSmallScreenInterface=!1,this.featureInfoPanelIsVisible=!1,this.featureInfoPanelIsCollapsed=!1,this.firstTimeAddingData=!0,this.notifications=[],this.feedbackFormIsVisible=!1,this.myDataIsUploadView=!0,this.mouseCoords=new A.default,this.mobileMenuVisible=!1,this.panelVisible=void 0,this.explorerPanelAnimating=!1,_.default.track(this,["previewedItem","catalogSearch","explorerPanelIsVisible","activeTabCategory","activeTabIdInCategory","userDataPreviewedItem","isDraggingDroppingFile","mobileView","useSmallScreenInterface","featureInfoPanelIsVisible","featureInfoPanelIsCollapsed","notifications","isMapFullScreen","feedbackFormIsVisible","myDataIsUploadView","mobileMenuVisible","panelVisible","explorerPanelAnimating"]),this._unsubscribeErrorListener=r.error.addEventListener(function(e){0===n.notifications.filter(function(t){return t.title===e.title&&t.message===e.message}).length&&n.notifications.push((0,l.default)(e))}),this._pickedFeaturesSubscription=_.default.getObservable(r,"pickedFeatures").subscribe(function(e){(0,h.default)(e)&&(n.featureInfoPanelIsVisible=!0,n.featureInfoPanelIsCollapsed=!1)},this);var o=function(){n.isMapFullScreen="1"===r.userProperties.hideWorkbench||"1"===r.userProperties.hideExplorerPanel};this.terria.getUserProperty("hideWorkbench"),this.terria.getUserProperty("hideExplorerPanel"),this._userPropertiesHideWorkbenchSubscription=_.default.getObservable(r.userProperties,"hideWorkbench").subscribe(o),this._userPropertiesHideEPSubscription=_.default.getObservable(r.userProperties,"hideExplorerPanel").subscribe(o),this._mobileMenuSubscription=_.default.getObservable(this,"mobileMenuVisible").subscribe(function(e){e&&(n.explorerPanelIsVisible=!1,n.switchMobileView(null))}),this._disclaimerHandler=new f.default(r,this)}return o(e,[{key:"dispose",value:function(){this._pickedFeaturesSubscription.dispose(),this._unsubscribeErrorListener(),this._mobileMenuSubscription.dispose(),this._userPropertiesHideWorkbenchSubscription.dispose(),this._userPropertiesHideEPSubscription.dispose(),this._disclaimerHandler.dispose()}},{key:"openAddData",value:function(){this.explorerPanelIsVisible=!0,this.activeTabCategory="data-catalog"}},{key:"openUserData",value:function(){this.explorerPanelIsVisible=!0,this.activeTabCategory="my-data"}},{key:"closeCatalog",value:function(){this.explorerPanelIsVisible=!1}},{key:"searchInCatalog",value:function(e){this.openAddData(),this.searchState.catalogSearchText=e,this.searchState.searchCatalog()}},{key:"viewCatalogMember",value:function(e){(0,s.default)(e)?(this.userDataPreviewedItem=e,this.openUserData()):(this.previewedItem=e,this.openAddData(),this.terria.configParameters.tabbedCatalog&&(this.activeTabIdInCategory=(0,m.default)(e)[0].name))}},{key:"switchMobileView",value:function(e){this.mobileView=e}},{key:"getNextNotification",value:function(){return this.notifications[0]}},{key:"hideMapUi",value:function(){return this.getNextNotification()&&this.getNextNotification().hideUi}}]),e}();t.default=w},function(e,t,n){"use strict";var r=n(16),i=n(1);e.exports=function(e,t,n){n=i(n,.2);var o=parseFloat(e)-n/2,a=parseFloat(t)-n/2,s=parseFloat(e)+n/2,u=parseFloat(t)+n/2;return r.fromDegrees(a,o,u,s)}},function(e,t,n){"use strict";function r(){}function i(){}function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=r,t.Nav=i,t.ExperimentalMenu=o},function(e,t){e.exports={btn:"tjs-tool_button__btn tjs-_buttons__btn","btn-primary":"tjs-tool_button__btn-primary tjs-_buttons__btn",btnPrimary:"tjs-tool_button__btn-primary tjs-_buttons__btn","btn-blink":"tjs-tool_button__btn-blink tjs-_buttons__btn",btnBlink:"tjs-tool_button__btn-blink tjs-_buttons__btn","btn-primary--hover":"tjs-tool_button__btn-primary--hover",btnPrimaryHover:"tjs-tool_button__btn-primary--hover",blinker:"tjs-tool_button__blinker",toolButton:"tjs-tool_button__toolButton"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(5),s=r(a);t.default=function(e,t){function n(n){return n.smallScreen?o.default.createElement(t,n):o.default.createElement(e,n)}return n.propTypes={smallScreen:s.default.bool},n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=r(o),s=n(5),u=r(s),l=n(8),c=r(l),h=n(28),d=r(h),f=n(0),p=r(f),m=n(148),g=r(m),_=(0,c.default)({displayName:"InnerPanel",propTypes:{doNotCloseFlag:u.default.string,onDismissed:u.default.func,theme:u.default.object,caretOffset:u.default.string,innerRef:u.default.oneOfType([u.default.func,u.default.string]),dropdownOffset:u.default.string,children:u.default.oneOfType([u.default.arrayOf(u.default.element),u.default.element])},getDefaultProps:function(){return{onDismissed:function(){}}},getInitialState:function(){return{}},componentDidMount:function(){var e=this;window.addEventListener("click",this.close),setTimeout(function(){return e.setState({isOpenCss:!0})})},componentWillUnmount:function(){window.removeEventListener("click",this.close)},close:function(e){var t=this;this.props.doNotCloseFlag&&e[this.props.doNotCloseFlag]||(window.removeEventListener("click",this.close),this.setState({isOpenCss:!1}),setTimeout(function(){t.props.onDismissed()},200))},render:function(){return a.default.createElement("div",{className:(0,d.default)(g.default.inner,this.props.theme.inner,i({},g.default.isOpen,this.state.isOpenCss)),ref:this.props.innerRef,onClick:function(e){return e.stopPropagation()},style:{left:this.props.dropdownOffset,transformOrigin:this.props.caretOffset&&this.props.caretOffset+" top"}},(0,p.default)(this.props.caretOffset)?a.default.createElement("span",{className:g.default.caret,style:{left:this.props.caretOffset}}):null,a.default.createElement("div",{className:g.default.content},this.props.children))}});t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={propTypes:{theme:i.default.object,children:i.default.any,btnTitle:i.default.string,btnText:i.default.string,onOpenChanged:i.default.func,isOpen:i.default.bool,forceClosed:i.default.bool},getDefaultProps:function(){return{theme:{},onOpenChanged:void 0}},changeOpenState:function(e){void 0!==this.props.onOpenChanged?this.props.onOpenChanged(e):this.setState({localIsOpen:e})},onDismissed:function(){this.changeOpenState(!1)},isOpen:function(){return void 0!==this.props.isOpen&&void 0!==this.props.onOpenChanged?this.props.isOpen:this.state.localIsOpen},openPanel:function(e){this.isOpen()||(e.nativeEvent[this.getDoNotCloseFlag()]=!0,this.changeOpenState(!0))},getDoNotCloseFlag:function(){return"do-not-react-"+this.props.btnText+"-"+this.props.btnTitle+"-"+this.props.theme.btn}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(401),s=r(a),u=n(4),l=r(u),c=n(5),h=r(c),d=n(8),f=r(d),p=n(1685),m=r(p),g=(0,f.default)({displayName:"Branding",propTypes:{terria:h.default.object.isRequired,version:h.default.string,onClick:h.default.func},render:function(){var e=this.props.terria.configParameters.brandBarElements;(0,o.default)(e)||(e=['<a target="_blank" href="http://terria.io"><img src="images/terria_logo.png" height="52" title="Version: {{ version }}" /></a>']);var t=this.props.version||"Unknown";return l.default.createElement("div",{className:m.default.branding},e.map(function(e,n){return(0,s.default)(e.replace(/\{\{\s*version\s*\}\}/g,t))},this))}});e.exports=g},function(e,t){e.exports=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(149),i=n(406),o=n(1654);e.exports=function(){var e=!{toString:null}.propertyIsEnumerable("toString"),t=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),a=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};return r("function"!=typeof Object.keys||n?function(r){if(Object(r)!==r)return[];var s,u,l=[],c=n&&o(r);for(s in r)!i(s,r)||c&&"length"===s||(l[l.length]=s);if(e)for(u=t.length-1;u>=0;)s=t[u],i(s,r)&&!a(l,s)&&(l[l.length]=s),u-=1;return l}:function(e){return Object(e)!==e?[]:Object.keys(e)})}()},function(e,t,n){var r=n(405),i=n(149),o=n(98),a=n(1657);e.exports=o(function(e,t){return 1===e?i(t):r(e,a(e,[],t))})},function(e,t){e.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},function(e,t,n){"use strict";function r(){var e=new o;return{defaultProcessingInstructions:[{shouldProcessNode:i.shouldProcessEveryNode,processNode:e.processDefaultNode}]}}var i=n(1670),o=n(705);e.exports=r},function(e,t,n){"use strict";function r(){function e(e,t,n){return"text"===e.type?e.data:"comment"!==e.type&&(o.indexOf(e.name)>-1?i.createElement(e,n):i.createElement(e,n,e.data,t))}return{processDefaultNode:e}}var i=n(706),o=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","menuitem","textarea"];e.exports=r},function(e,t,n){"use strict";function r(e){e=e||"";for(var t,n,r,i=e.split(/;(?!base64)/),a={},s=0;s<i.length;++s)t=i[s].split(":"),t.length>2&&(t[1]=t.slice(1).join(":")),n=o(t[0]),r=t[1],"string"==typeof r&&(r=r.trim()),n.length>0&&r.length>0&&(a[n]=r);return a}function i(e,t,n,i){var o={key:t};e.attribs&&(o=s(function(e,t){var n=t[0],i=t[1];return n=l[n.replace(/[-:]/,"")]||n,"style"===n?i=r(i):"class"===n?n="className":"for"===n&&(n="htmlFor"),"string"==typeof i&&(i=i),e[n]=i||n,e},o,a(e.attribs))),i=i||[];var c=null!=n?[n].concat(i):i;return u.createElement.apply(null,[e.name,o].concat(c))}var o=n(1671),a=n(1681),s=n(1682),u=n(4),l=n(1684);e.exports={createElement:i}},function(e,t){e.exports=function(e,t){for(var n=0;n<e.length;n++)t(n,e[n])}},function(e,t,n){"use strict";function r(){return!0}e.exports={alwaysValid:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r||(0,p.default)().localDataType[0];(0,d.default)(e)||t.error.raiseEvent(new y.default({title:"File API not supported",message:"Sorry, your web browser does not support the File API, which "+t.appName+' requires in order to add data from a file on your system.  Please upgrade your web browser.  For the best experience, we recommend <a href="http://www.microsoft.com/ie" target="_blank">Internet Explorer 11</a> or the latest version of <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a> or <a href="http://www.mozilla.org/firefox" target="_blank">Mozilla Firefox</a>.'}));for(var o=[],s=[],l=0;l<e.length;++l)!function(r){var l=e[r],h=new c.default(t);h.name=l.name,h.description="Loading file...",t.catalog.userAddedDataGroup.add(h),t.catalog.userAddedDataGroup.isOpen=!0,t.analytics.logEvent("uploadFile","browse",l.name);var d=void 0;if(-1!==l.name.toUpperCase().indexOf(".JSON")){var f=(0,v.default)(l).then(function(e){if(e.catalog||e.services)return t.addInitSource(e).then(function(){h.isEnabled=!1,s.splice(s.indexOf(h),1),t.catalog.userAddedDataGroup.remove(h)});d=(0,a.default)(t,(0,u.default)(t,n,l,i.value,!0))});d=(0,g.default)(t,f),o.push(d)}else d=(0,a.default)(t,(0,u.default)(t,n,l,i.value,!0)),o.push(d);h.loadPromise=d,h.isEnabled=!0,s.push(h)}(l);return w.default.all(o,function(e){var n=e.filter(function(e){return e&&!(e instanceof y.default)});return s.forEach(function(e){t.catalog.userAddedDataGroup.remove(e)}),n})}var o=n(408),a=r(o),s=n(710),u=r(s),l=n(173),c=r(l),h=n(0),d=r(h),f=n(711),p=r(f),m=n(198),g=r(m),_=n(335),v=r(_),A=n(22),y=r(A),b=n(7),w=r(b);e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r){if(!n)return a(!0);var i=a.defer();return t.notifications.push({confirmText:"Upload",denyText:"Cancel",title:"Use conversion service?",message:r,confirmAction:function(){i.resolve(!0)},denyAction:function(){i.resolve(!1)}}),i.promise}function i(e,t,n){var r=t.lastIndexOf("/");return r>=0&&(t=t.substring(r+1)),e.name=t,"string"==typeof n?e.url=n:(e.data=n,e.dataSourceUrl=n.name,e.dataUrlType="local"),a(e.load()).yield(e)}var o=n(1),a=n(7),s=n(623),u=n(96),l=n(22),c=n(0),h=n(637),d=function(e,t,n,d,f){function p(o){return!1===e.configParameters.conversionServiceBaseUrl?void e.error.raiseEvent(new l({title:"Unsupported file type",message:"This file format is not supported by "+e.appName+'. Supported file formats include: <ul><li>.geojson</li><li>.kml, .kmz</li><li>.csv (in <a href="https://github.com/TerriaJS/nationalmap/wiki/csv-geo-au">csv-geo-au format</a>)</li></ul>'})):g.match(/\.(shp|jpg|jpeg|pdf|xlsx|xls|tif|tiff|png|txt|doc|docx|xml|json)$/)?void e.error.raiseEvent(new l({title:"Unsupported file type",message:"This file format is not supported by "+e.appName+'. Directly supported file formats include: <ul><li>.geojson</li><li>.kml, .kmz</li><li>.csv (in <a href="https://github.com/TerriaJS/nationalmap/wiki/csv-geo-au">csv-geo-au format</a>)</li></ul>File formats supported through the online conversion service include: <ul><li>Shapefile (.zip)</li><li>MapInfo TAB (.zip)</li><li>Possibly other <a href="http://www.gdal.org/ogr_formats.html">OGR Vector Formats</a></li></ul>'})):r(e,t,f,"This file is not directly supported by "+e.appName+".\n\nDo you want to try uploading it to the "+e.appName+" conversion service? This may work for small, zipped Esri Shapefiles or MapInfo TAB files.").then(function(t){return t?i(new h(e),g,n):void 0})}var m="string"==typeof n;d=o(d,"auto");var g=m?n:n.name;return"auto"===d?a(s(g,e,m)).then(function(e){return c(e)?i(e,g,n):p()}):"other"===d?r(e,t,f,"Ready to upload your file to the "+e.appName+" conversion service?").then(function(t){return t?i(u("ogr",e),g,n):void 0}):i(u(d,e),g,n)};e.exports=d},function(e,t,n){"use strict";e.exports=function(){return{remoteDataType:[{value:"auto",name:"Auto-detect (recommended)"},{value:"wms-getCapabilities",name:"Web Map Service (WMS) Server"},{value:"wmts-getCapabilities",name:"Web Map Tile Service (WMTS) Server"},{value:"wfs-getCapabilities",name:"Web Feature Service (WFS) Server"},{value:"esri-group",name:"Esri ArcGIS Server"},{value:"esri-mapServer",name:"Esri ArcGIS MapServer (single layer)"},{value:"esri-featureServer",name:"Esri ArcGIS FeatureServer (single layer)"},{value:"open-street-map",name:"Open Street Map Server"},{value:"geojson",name:"GeoJSON"},{value:"kml",name:"KML or KMZ"},{value:"csv",name:"CSV"},{value:"czml",name:"CZML"},{value:"gpx",name:"GPX"},{value:"other",name:"Other (use conversion service)"}],localDataType:[{value:"auto",name:"Auto-detect (recommended)"},{value:"geojson",name:"GeoJSON",extensions:["geojson"]},{value:"kml",name:"KML or KMZ",extensions:["kml","kmz"]},{value:"csv",name:"CSV",extensions:["csv"]},{value:"czml",name:"CZML",extensions:["czml"]},{value:"gpx",name:"GPX",extensions:["gpx"]},{value:"json",name:"JSON",extensions:["json","json5"]},{value:"other",name:"Other (use conversion service)"}]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(0),h=r(c),d=n(713),f=r(d),p=n(11),m=r(p),g=n(717),_=r(g),v=n(1696),A=r(v),y=(0,s.default)({displayName:"DataCatalog",mixins:[m.default],propTypes:{terria:l.default.object,viewState:l.default.object,items:l.default.array},render:function(){var e=this.props.viewState.searchState,t=e.catalogSearchText.length>0,n=(t?e.catalogSearchProvider.searchResults.map(function(e){return e.catalogItem}):this.props.items).filter(h.default);return o.default.createElement("ul",{className:A.default.dataCatalog},t?[o.default.createElement("label",{className:A.default.label,key:"0"},"Search results"),o.default.createElement(_.default,{searchProvider:e.catalogSearchProvider,isWaitingForSearchToStart:e.isWaitingToStartCatalogSearch,key:"1"})]:null,n.map(function(e,n){return e!==this.props.terria.catalog.userAddedDataGroup&&o.default.createElement(f.default,{viewState:this.props.viewState,member:e,manageIsOpenLocally:t,key:e.uniqueId})},this))}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(11),h=r(c),d=n(1691),f=r(d),p=n(715),m=r(p);t.default=(0,s.default)({mixins:[h.default],displayName:"DataCatalogMember",propTypes:{member:l.default.object.isRequired,viewState:l.default.object.isRequired,manageIsOpenLocally:l.default.bool},render:function(){return this.props.member.isGroup?o.default.createElement(m.default,{group:this.props.member,viewState:this.props.viewState,manageIsOpenLocally:this.props.manageIsOpenLocally}):o.default.createElement(f.default,{item:this.props.member,viewState:this.props.viewState})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=(0,m.default)(e.titleOverrides,v);return s.default.createElement("li",{className:(0,h.default)(_.default.root)},s.default.createElement("button",{type:"button",onClick:e.onTextClick,title:e.title,className:(0,h.default)(_.default.btnCatalogItem,i({},_.default.btnCatalogItemIsPreviewed,e.selected))},e.text),s.default.createElement("button",{type:"button",onClick:e.onBtnClick,title:t[e.btnState]||"",className:_.default.btnAction},A[e.btnState]))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=r(a),u=n(5),l=r(u),c=n(28),h=r(c),d=n(30),f=r(d),p=n(1),m=r(p),g=n(1692),_=r(g),v={loading:"Loading...",remove:"Remove",add:"Add"},A={loading:s.default.createElement(f.default,{glyph:f.default.GLYPHS.loader}),remove:s.default.createElement(f.default,{glyph:f.default.GLYPHS.remove}),add:s.default.createElement(f.default,{glyph:f.default.GLYPHS.add}),stats:s.default.createElement(f.default,{glyph:f.default.GLYPHS.barChart}),preview:s.default.createElement(f.default,{glyph:f.default.GLYPHS.right})};o.propTypes={onTextClick:l.default.func,selected:l.default.bool,text:l.default.string,title:l.default.string,onBtnClick:l.default.func,btnState:l.default.oneOf(Object.keys(A)),titleOverrides:l.default.object},t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(397),h=r(c),d=n(716),f=r(d),p=n(713),m=r(p),g=n(284),_=r(g),v=n(11),A=r(v),y=(0,s.default)({displayName:"DataCatalogGroup",mixins:[A.default],propTypes:{group:l.default.object.isRequired,viewState:l.default.object.isRequired,manageIsOpenLocally:l.default.bool,userData:l.default.bool},getDefaultProps:function(){return{manageIsOpenLocally:!1,userData:!1}},getInitialState:function(){return{isOpen:!1}},toggleStateIsOpen:function(){this.setState({isOpen:!this.state.isOpen})},isOpen:function(){return this.props.manageIsOpenLocally?this.state.isOpen:this.props.group.isOpen},toggleOpen:function(){this.props.manageIsOpenLocally&&this.toggleStateIsOpen(),this.props.group.toggleOpen()},clickGroup:function(){this.toggleOpen(),this.props.viewState.viewCatalogMember(this.props.group)},isTopLevel:function(){var e=this.props.group.parent;return!e||!e.parent},isSelected:function(){return(0,h.default)(this.props.group)?this.props.viewState.userDataPreviewedItem===this.props.group:this.props.viewState.previewedItem===this.props.group},render:function(){var e=this.props.group;return o.default.createElement(f.default,{text:e.nameInCatalog,title:(0,_.default)(e).map(function(e){return e.nameInCatalog}).join(" → "),topLevel:this.isTopLevel(),open:this.isOpen(),loading:e.isLoading,emptyMessage:"This group is empty",onClick:this.clickGroup,selected:this.isSelected()},this.isOpen()?e.items.map(function(e,t){return o.default.createElement(m.default,{key:e.uniqueId,member:e,viewState:this.props.viewState,userData:this.props.userData,overrideOpen:this.props.manageIsOpenLocally})},this):null)}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return s.default.createElement("li",{className:_.default.root},s.default.createElement("button",{type:"button",className:(0,h.default)(_.default.btnCatalog,i({},_.default.btnCatalogTopLevel,e.topLevel),i({},_.default.btnIsOpen,e.open),i({},_.default.isPreviewed,e.selected)),title:e.title,onClick:e.onClick},e.topLevel?null:s.default.createElement("span",{className:_.default.folder},e.open?s.default.createElement(m.default,{glyph:m.default.GLYPHS.folderOpen}):s.default.createElement(m.default,{glyph:m.default.GLYPHS.folder})),e.text,s.default.createElement("span",{className:_.default.caret},e.open?s.default.createElement(m.default,{glyph:m.default.GLYPHS.opened}):s.default.createElement(m.default,{glyph:m.default.GLYPHS.closed}))),e.open?s.default.createElement("ul",{className:(0,h.default)(_.default.catalogGroup,i({},_.default.catalogGroupLowerLevel,!e.topLevel))},e.loading?s.default.createElement("li",{key:"loader"},s.default.createElement(f.default,null)):0===e.children.length&&e.emptyMessage?s.default.createElement("li",{className:(0,h.default)(_.default.label,_.default.labelNoResults),key:"empty"},e.emptyMessage):null,e.children):null)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=r(a),u=n(5),l=r(u),c=n(28),h=r(c),d=n(113),f=r(d),p=n(30),m=r(p),g=n(1694),_=r(g);o.propTypes={text:l.default.string,title:l.default.string,topLevel:l.default.bool,open:l.default.bool,loading:l.default.bool,emptyMessage:l.default.string,onClick:l.default.func,children:l.default.oneOfType([l.default.element,l.default.arrayOf(l.default.element)]),selected:l.default.bool},t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(113),o=r(i),a=n(11),s=r(a),u=n(4),l=r(u),c=n(8),h=r(c),d=n(5),f=r(d),p=n(1695),m=r(p);t.default=(0,h.default)({mixins:[s.default],displayName:"SearchHeader",propTypes:{searchProvider:f.default.object.isRequired,isWaitingForSearchToStart:f.default.bool},render:function(){return this.props.searchProvider.isSearching||this.props.isWaitingForSearchToStart?l.default.createElement("div",{key:"loader",className:m.default.loader},l.default.createElement(o.default,null)):this.props.searchProvider.searchMessage?l.default.createElement("div",{key:"message",className:m.default.noResults},this.props.searchProvider.searchMessage):null}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(356),h=r(c),d=n(127),f=r(d),p=n(11),m=r(p),g=n(413),_=r(g);h.default.insensitive=!0;var v=["Disclaimer","Description","Data Description","Dataset Description","Service Description","Resource Description","Licence","Access Constraints","Author","Contact","Created","Modified","Update Frequency"],A=(0,s.default)({displayName:"DataPreviewSections",mixins:[m.default],propTypes:{metadataItem:l.default.object.isRequired},sortInfoSections:function(e){var t=this.props.metadataItem.infoSectionOrder||v;return e.sort(function(e,n){var r=t.indexOf(e.name),i=t.indexOf(n.name);return r>=0&&i<0?-1:r<0&&i>=0?1:r<0&&i<0?(0,h.default)(e.name,n.name):r-i}),e},render:function(){var e=this.props.metadataItem,t=e.hideSource?e.infoWithoutSources:e.info.slice();return o.default.createElement("div",null,this.sortInfoSections(t).map(function(t,n){return t.content&&t.content.length>0?o.default.createElement("div",{key:n},o.default.createElement("h4",{className:_.default.h4},t.name),(0,f.default)(t.content,{catalogItem:e})):null},this))}});t.default=A},function(e,t,n){"use strict";e.exports=n(702)},function(e,t,n){"use strict";e.exports.encode=n(1700),e.exports.decode=n(1701),e.exports.format=n(1702),e.exports.parse=n(1703)},function(e,t,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",o=new RegExp("^(?:"+r+"|"+i+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+r+"|"+i+")");e.exports.HTML_TAG_RE=o,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},function(e,t,n){"use strict";e.exports.tokenize=function(e,t){var n,r,i,o,a,s=e.pos,u=e.src.charCodeAt(s);if(t)return!1;if(126!==u)return!1;if(r=e.scanDelims(e.pos,!0),o=r.length,a=String.fromCharCode(u),o<2)return!1;for(o%2&&(i=e.push("text","",0),i.content=a,o--),n=0;n<o;n+=2)i=e.push("text","",0),i.content=a+a,e.delimiters.push({marker:u,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n,r,i,o,a=[],s=e.delimiters,u=e.delimiters.length;for(t=0;t<u;t++)r=s[t],126===r.marker&&-1!==r.end&&(i=s[r.end],o=e.tokens[r.token],o.type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",o=e.tokens[i.token],o.type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&a.push(i.token-1));for(;a.length;){for(t=a.pop(),n=t+1;n<e.tokens.length&&"s_close"===e.tokens[n].type;)n++;n--,t!==n&&(o=e.tokens[n],e.tokens[n]=e.tokens[t],e.tokens[t]=o)}}},function(e,t,n){"use strict";e.exports.tokenize=function(e,t){var n,r,i,o=e.pos,a=e.src.charCodeAt(o);if(t)return!1;if(95!==a&&42!==a)return!1;for(r=e.scanDelims(e.pos,42===a),n=0;n<r.length;n++)i=e.push("text","",0),i.content=String.fromCharCode(a),e.delimiters.push({marker:a,length:r.length,jump:n,token:e.tokens.length-1,level:e.level,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.postProcess=function(e){var t,n,r,i,o,a,s=e.delimiters,u=e.delimiters.length;for(t=u-1;t>=0;t--)n=s[t],95!==n.marker&&42!==n.marker||-1!==n.end&&(r=s[n.end],a=t>0&&s[t-1].end===n.end+1&&s[t-1].token===n.token-1&&s[n.end+1].token===r.token+1&&s[t-1].marker===n.marker,o=String.fromCharCode(n.marker),i=e.tokens[n.token],i.type=a?"strong_open":"em_open",i.tag=a?"strong":"em",i.nesting=1,i.markup=a?o+o:o,i.content="",i=e.tokens[r.token],i.type=a?"strong_close":"em_close",i.tag=a?"strong":"em",i.nesting=-1,i.markup=a?o+o:o,i.content="",a&&(e.tokens[s[t-1].token].content="",e.tokens[s[n.end+1].token].content="",t--))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(0),h=r(c),d=n(113),f=r(d),p=n(11),m=r(p),g=n(67),_=r(g),v=(0,s.default)({displayName:"RegionTypeParameterEditor",mixins:[m.default],propTypes:{previewed:l.default.object,parameter:l.default.object},onChange:function(e){var t=this.getRegionProviders();if(t){var n=t.filter(function(t){return t.regionType===e.target.value})[0];this.props.parameter.value=n}},getRegionProviders:function(){var e=void 0;return this.props.parameter.getAllRegionTypes().then(function(t){e=t}),e},render:function(){var e=this.props.parameter.value,t=this.getRegionProviders();return t?o.default.createElement("select",{className:_.default.field,onChange:this.onChange,value:(0,h.default)(e)?e.regionType:""},t.map(function(e,t){return o.default.createElement("option",{value:e.regionType,key:t},e.regionType)})):o.default.createElement(f.default,null)}});e.exports=v},function(e,t,n){"use strict";function r(e){var t=e.terria,n=t.selectBox;t.viewerMode===q.Leaflet?n?t.leaflet.map.dragBox.enable():t.leaflet.map.dragBox.disable():n?(e._enableSelectExtent(t.cesium.viewer.scene,!1),e.dragBox=new w(t,t.cesium.viewer.scene,function(e){var t=this.terria.mapInteractionModeStack;E(t)&&t.length>0&&t[t.length-1].drawRectangle&&(t[t.length-1].pickedFeatures=g(e,!0))}.bind(e),D.SHIFT),e.dragBox.start()):(e.dragBox.destroy(),e._enableSelectExtent(t.cesium.viewer.scene,!0))}function i(e){var t=e.terria,n=t.viewerMode;n===q.Leaflet?t.leaflet||(t.analytics.logEvent("mapSettings","switchViewer","2D"),e.selectViewer(!1)):e._useWebGL?n===q.CesiumTerrain?(t.analytics.logEvent("mapSettings","switchViewer","3D"),E(t.leaflet)?e.selectViewer(!0):(t.cesium.scene.globe.terrainProvider=e._bumpyTerrainProvider,b._cesiumCredit=e._bumpyTerrainCredit)):n===q.CesiumEllipsoid&&(t.analytics.logEvent("mapSettings","switchViewer","Smooth 3D"),E(t.leaflet)?e.selectViewer(!0):(t.cesium.scene.globe.terrainProvider=new S,b._cesiumCredit=void 0)):(t.error.raiseEvent({title:"WebGL not supported or too slow",message:'Your web browser cannot display the map in 3D, either because it does not support WebGL or because your web browser has reported that WebGL will be extremely slow.  Please try a different web browser, such as the latest version of <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a>, <a href="http://www.mozilla.org/firefox" target="_blank">Mozilla Firefox</a>, <a href="https://www.apple.com/au/osx/how-to-upgrade/" target="_blank">Apple Safari</a>, or <a href="http://www.microsoft.com/ie" target="_blank">Microsoft Internet Explorer</a>.  In some cases, you may need to upgrade your computer\'s video driver or operating system in order to get the 3D view in '+t.appName+"."}),t.viewerMode=q.Leaflet)}function o(e,t){E(e._previousBaseMap)&&(e._previousBaseMap._hide(),e._previousBaseMap._disable()),E(t)&&(t._enable(),t._show(),E(e.terria.currentViewer)&&e.terria.currentViewer.lowerToBottom(t)),e._previousBaseMap=t,E(e.terria.currentViewer)&&e.terria.currentViewer.notifyRepaintRequired()}function a(e){if(E(e.terria.fogSettings)&&E(e.terria.cesium)){var t=e.terria.fogSettings;for(var n in t)e.terria.cesium.scene.fog.hasOwnProperty(n)&&(e.terria.cesium.scene.fog[n]=t[n])}}function s(e,t,n){var r=e.camera,i=r.position,o=t;n=x(n,200);var a=Q.eastNorthUpToFixedFrame(i,C.WGS84),s=new U;U.getRotation(a,s);var u=new F;F.transpose(s,u);var l=new F;F.multiplyByVector(u,r.up,l);var c=new F;F.multiplyByVector(u,r.right,c);var h=new F;F.multiplyByVector(u,r.direction,h);var d=e.screenSpaceCameraController;d.enableInputs=!1,e.tweens.add({duration:n/1e3,easingFunction:G.Easing.Sinusoidal.InOut,startObject:{time:0},stopObject:{time:1},update:function(t){e.camera.position.x=p.lerp(i.x,o.x,t.time),e.camera.position.y=p.lerp(i.y,o.y,t.time),e.camera.position.z=p.lerp(i.z,o.z,t.time);var n=Q.eastNorthUpToFixedFrame(r.position,C.WGS84),a=new F;U.getRotation(n,a),r.up=F.multiplyByVector(a,l,r.up),r.right=F.multiplyByVector(a,c,r.right),r.direction=F.multiplyByVector(a,h,r.direction)},complete:function(){d.enableInputs=!0},cancel:function(){d.enableInputs=!0}})}function u(e,t,n){var r=e.camera,i=r.getPickRay(n),o=e.globe.pick(i,e);if(o){s(e,f.lerp(r.position,o,t,Z))}}function l(e,t){u(e,2/3,t)}function c(e,t){u(e,-2,t)}function h(e){if(!E(e._terrainProvider)){if(e.terria.configParameters.cesiumIonAccessToken&&(P.defaultAccessToken=e.terria.configParameters.cesiumIonAccessToken),e.terria.configParameters.useCesiumIonTerrain){e._bumpyTerrainProvider=A();var t=n(726);e._bumpyTerrainCredit=new y('<a href="https://cesium.com/" target="_blank" rel="noopener noreferrer"><img src="'+t+'" title="Cesium ion"/></a>',!0)}else"string"==typeof e._terrain||e._terrain instanceof String?(e._bumpyTerrainProvider=new _({url:e._terrain}),e._bumpyTerrainCredit=void 0):E(e._terrain)?(e._bumpyTerrainProvider=e._terrain,e._bumpyTerrainCredit=void 0):(e._bumpyTerrainProvider=new S,e._bumpyTerrainCredit=void 0);var r=e.terria;if(r.viewerMode===q.CesiumTerrain?(e._terrainProvider=e._bumpyTerrainProvider,b._cesiumCredit=e._bumpyTerrainCredit):r.viewerMode===q.CesiumEllipsoid&&(e._terrainProvider=new S,b._cesiumCredit=void 0),e.terria.configParameters.hideTerriaLogo)e._defaultTerriaCredit=void 0;else{var i=n(1777);e._defaultTerriaCredit=new y('<a id="terriaLogo" href="https://terria.io/" target="_blank" rel="noopener noreferrer" ><img src="'+i+'" title="Built with Terria"/></a>',!0)}}}var d=n(357),f=n(10),p=n(9),m=n(440),g=n(27),_=n(365),v=n(1770),A=n(1771),y=n(53),b=n(802),w=n(1772),x=n(1),E=n(0),C=n(23),S=n(435),T=n(217),I=n(39),M=n(1773),O=n(436),P=n(618),D=n(298),B=n(13),L=n(142),N=n(504),R=n(1774),k=n(1775),F=n(40),U=n(20),z=n(81),j=n(222),H=n(635),V=n(1776),Q=n(50),G=n(243),W=n(33),q=n(133),Y=n(690),K=n(7);d.defaultKey=void 0,I.supportsImageRenderingPixelated=function(){return!0},b._cesiumCreditInitialized=!0;var X=function(e,t){t=x(t,{}),this._mapContainer=x(t.mapContainer,"cesiumContainer"),this._uiContainer=x(t.uiContainer,"ui"),this._developerAttribution=t.developerAttribution,this.maximumLeafletZoomLevel=t.maximumLeafletZoomLevel;var n=V();this._slowWebGLAvailable="slow"===n,this._useWebGL=!0===n,e.viewerMode!==q.CesiumTerrain&&e.viewerMode!==q.CesiumEllipsoid||this._useWebGL||(this._slowWebGLAvailable?e.error.raiseEvent({title:"Poor WebGL performance",message:"Your web browser reports that it has performance issues displaying "+e.appName+" in 3D, so you will see a limited, 2D-only experience. For the full 3D experience, please try using a different web browser, upgrading your video drivers, or upgrading your operating system."}):e.error.raiseEvent({title:"WebGL not supported",message:e.appName+' works best with a web browser that supports <a href="http://get.webgl.org" target="_blank">WebGL</a>, including the latest versions of <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a>, <a href="http://www.mozilla.org/firefox" target="_blank">Mozilla Firefox</a>, <a href="https://www.apple.com/au/osx/how-to-upgrade/" target="_blank">Apple Safari</a>, and <a href="http://www.microsoft.com/ie" target="_blank">Microsoft Internet Explorer</a>. Your web browser does not appear to support WebGL, so you will see a limited, 2D-only experience.'}),e.viewerMode=q.Leaflet),this.terria=e;var s=e.viewerMode!==q.Leaflet;e.analytics.logEvent("startup","initialViewer",s?"cesium":"leaflet"),this._bumpyTerrainProvider=void 0,this._terrain=t.terrain,this._terrainProvider=void 0,E(this._terrain)&&0===this._terrain.length&&(this._terrain=void 0),this._useWebGL&&h(this),this.selectViewer(s),this.observeSubscriptions=[],this.observeSubscriptions.push(B.getObservable(this.terria,"viewerMode").subscribe(function(){i(this)},this)),this._previousBaseMap=this.terria.baseMap,this.observeSubscriptions.push(B.getObservable(this.terria,"baseMap").subscribe(function(){o(this,this.terria.baseMap)},this)),this.observeSubscriptions.push(B.getObservable(this.terria,"fogSettings").subscribe(function(){a(this)},this)),this.observeSubscriptions.push(B.getObservable(this.terria,"selectBox").subscribe(function(){r(this)},this))};X.create=function(e,t){return new X(e,t)},X.prototype._enableSelectExtent=function(e,t){if(t){var n=this;this.regionSelect=new w(n.terria,e,function(e){e&&n.terria.currentViewer.zoomTo(e,2)}),this.regionSelect.start()}else this.regionSelect.destroy()},X.prototype._createCesiumViewer=function(e,t){var n=this;h(this);var r=n._terrainProvider,i={dataSources:this.terria.dataSources,clock:this.terria.clock,terrainProvider:r,imageryProvider:new H({url:"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUA AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO 9TXL0Y4OHwAAAABJRU5ErkJggg=="}),scene3DOnly:!0};I.isFirefox()&&(i.contextOptions={webgl:{preserveDrawingBuffer:!0}});var o=new t(e,i);if(o.scene.imageryLayers.removeAll(),r.errorEvent.addEventListener(function(e){console.log("Terrain provider error.  ",e.message),o.scene.terrainProvider instanceof _&&(console.log("Switching to EllipsoidTerrainProvider."),n.terria.viewerMode=q.CesiumEllipsoid,E(n.TerrainMessageViewed)||(n.terria.error.raiseEvent({title:"Terrain Server Not Responding",message:"The terrain server is not responding at the moment.  You can still use all the features of "+n.terria.appName+" but there will be no terrain detail in 3D mode.  We're sorry for the inconvenience.  Please try again later and the terrain server should be responding as expected.  If the issue persists, please contact us via email at "+n.terria.supportEmail+"."}),n.TerrainMessageViewed=!0))}),E(this._defaultTerriaCredit)){var a=O(e),s=a&&a.getElementsByClassName("cesium-widget-credits")[0],u=s&&s.getElementsByClassName("cesium-credit-logoContainer")[0];u&&s.insertBefore(this._defaultTerriaCredit.element,u)}var d=o.scene;d.globe.depthTestAgainstTerrain=!1;var f=this._getDisclaimer();f&&d.frameState.creditDisplay.addDefaultCredit(f),E(this._developerAttribution)&&d.frameState.creditDisplay.addDefaultCredit(v(this._developerAttribution.text,this._developerAttribution.link)),d.frameState.creditDisplay.addDefaultCredit(new y('<a href="http://cesiumjs.org" target="_blank" rel="noopener noreferrer">CESIUM</a>'));var p=o.screenSpaceEventHandler;return p.setInputAction(function(e){l(d,e.position)},j.LEFT_DOUBLE_CLICK),p.setInputAction(function(e){c(d,e.position)},j.LEFT_DOUBLE_CLICK,D.SHIFT),o},X.prototype.destroy=function(){this.terria.beforeViewerChanged.raiseEvent(),o(this,void 0),this.observeSubscriptions.forEach(function(e){return e.dispose()}),E(this.terria.cesium)?this.destroyCesium():E(this.terria.leaflet)&&this.destroyLeaflet(),this.terria.currentViewer=new Y(this.terria),this.terria.afterViewerChanged.raiseEvent()},X.prototype.destroyCesium=function(){var e=this.terria.cesium.viewer;this.terria.cesium.destroy(),this.cesiumEventHelper&&(this.cesiumEventHelper.removeAll(),this.cesiumEventHelper=void 0),this.dataSourceDisplay.destroy(),this._enableSelectExtent(e.scene,!1);var t=e.screenSpaceEventHandler;t.removeInputAction(j.MOUSE_MOVE),t.removeInputAction(j.LEFT_DOUBLE_CLICK),t.removeInputAction(j.LEFT_DOUBLE_CLICK,D.SHIFT),E(this.monitor)&&(this.monitor.destroy(),this.monitor=void 0),e.destroy(),this.terria.cesium=void 0},X.prototype.destroyLeaflet=function(){var e=this.terria.leaflet.map;this.terria.leaflet.destroy(),this.leafletEventHelper&&(this.leafletEventHelper.removeAll(),this.leafletEventHelper=void 0),this.dataSourceDisplay.destroy(),e.remove(),this.terria.leaflet=void 0},X.prototype.selectViewer=function(e){o(this,void 0),this.terria.beforeViewerChanged.raiseEvent();var t=this;(e?this.selectCesium():this.selectLeaflet()).then(function(){t.terria.afterViewerChanged.raiseEvent(),o(t,t.terria.baseMap)})},X.prototype.selectLeaflet=function(){var e,t,n;if(E(this.terria.cesium)){try{t=this.terria.cesium.getCurrentExtent()}catch(e){console.log("Using default screen extent",e.message),t=this.terria.initialView}this.destroyCesium()}else t=this.terria.initialView;e=L.map(this._mapContainer,{zoomControl:!1,attributionControl:!1,maxZoom:this.maximumLeafletZoomLevel,zoomSnap:1,preferCanvas:!0,worldCopyJump:!0}).setView([-28.5,135],5),e.attributionControl=L.control.attribution({position:"bottomleft"}),e.addControl(e.attributionControl),e.screenSpaceEventHandler={setInputAction:function(){},remoteInputAction:function(){}},e.destroy=function(){};var r=new N(this.terria,e);E(this.leafletVisualizer)||(this.leafletVisualizer=new k);var i=this._defaultTerriaCredit?this._defaultTerriaCredit.html:"",o=[this._getDisclaimer(),this._developerAttribution&&v(this._developerAttribution.text,this._developerAttribution.link),new y('<a target="_blank" href="http://leafletjs.com/">Leaflet</a>')];e.attributionControl.setPrefix(i+o.filter(function(e){return E(e)}).map(function(e){return e.html}).join(" | ")),e.on("boxzoomend",function(e){console.log(e.boxZoomBounds)}),this.terria.leaflet=r,this.terria.currentViewer=this.terria.leaflet,this.dataSourceDisplay=new R({scene:r.scene,dataSourceCollection:this.terria.dataSources,visualizersCallback:this.leafletVisualizer.visualizersCallback}),n=new T;var a=this;n.add(a.terria.clock.onTick,function(e){a.dataSourceDisplay.update(e.currentTime)}),this.leafletEventHelper=n;return function e(){E(a.terria.leaflet)&&(a.terria.clock.tick(),m(e))}(),this.terria.leaflet.zoomTo(t,0),K()},X.prototype.selectCesium=function(){var e=K.defer(),t=this;return n.e(1).then(function(){var r,i,o,s=n(803),u=n(806),l=n(807);if(E(t.terria.leaflet)&&(i=t.terria.leaflet.getCurrentExtent(),t.destroyLeaflet()),r=t._createCesiumViewer(t._mapContainer,s),t._enableSelectExtent(r.scene,!0),t.terria.cesium=new l(t.terria,r),t.terria.currentViewer=t.terria.cesium,a(t),!E(t.checkedStartupPerformance)){t.checkedStartupPerformance=!0;var c=new W(window.location),h=c.search(!0),d=E(h.fps)?h.fps:5;t.monitor=new M({scene:r.scene,minimumFrameRateDuringWarmup:d,minimumFrameRateAfterWarmup:0,samplingWindow:2}),t.monitor.lowFrameRate.addEventListener(function(){t.terria.cesium.stoppedRendering||(t.terria.error.raiseEvent({title:"Unusually Slow Performance Detected",message:"It appears that your system is capable of running "+t.terria.appName+" in 3D mode, but is having significant performance issues. We are automatically switching to 2D mode to help resolve this issue.  If you want to switch back to 3D mode you can select that option from the Maps button at the top of the screen."}),z(function(){t.terria.viewerMode=q.Leaflet}))})}o=new T,o.add(t.terria.clock.onTick,function(e){t.dataSourceDisplay.update(e.currentTime)}),t.cesiumEventHelper=o,t.dataSourceDisplay=new u({scene:r.scene,dataSourceCollection:t.terria.dataSources}),E(i)?t.terria.cesium.zoomTo(i,0):t.terria.cesium.zoomTo(t.terria.initialView,0),e.resolve()}.bind(null,n)).catch(n.oe),e.promise},X.prototype._getDisclaimer=function(){var e=this.terria.configParameters.disclaimer;return e?v(e.text,e.url):null};var Z=new f;e.exports=X},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAAAcCAYAAAC+uCc6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAC9gAAAvYB/1Nv3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABcJSURBVGiB7Vt7eFTVtf/tfc6ZV+aRmSQzeZIQB5IQhOAUwkMgCspVKrWIgCiKrdWbgr29XvGj3LZALVa59XHRgq0itFi1lisKVoWrGAGtiIRXeITEkAwTksl7kpnJOXPO2fv+kUxMQkC8X3u/25bf9803M2evtfba+6yz1tpr70NweSAAKOCjQIgCGum5LHLAwYBDDAADwC9T3hX8jYF8RTsFfAIgGwHZAghWQDQDROpp5iqgRwE9DFiigBQDDunoMZor+DvCxQyFAD4RCJkBIQmQ0oqLR+ffffec6zye5MykpEQnAN7WFmo/fz7o37z5jbLy8lOnATQArA1I6wbKdFzxMH/XIIDXCBSkAfmTH3zw0ccrKqrqdF1nOuO8NaLxmhaF17QovLlL5YxzrmkaO3Lk9NkHHlj9KFAwEShM7ZHxlR7rCv5GMPhGEiDTBFg9Xm/2hK1b162eOHFMgb89hn1fRFDRICOiDIwqCUaKwlQTpnkTkJUoYf/+8mOLFj2yOhBoKAe6g0Ctgiue5W8eZOBvrwEQ02bOnHTTpk1rH01J8yS9Xt6B8nPdX3mnCYDx2RbMHetAsL6hacmSf1+5d+9n7wNqI1AdwxVj+ZtGP0MpEYFgSkaGZ8q+fS9vcLhTUzZ+3IJgp/a1BHrsIkqvTUZnU7C5pOSef66ra/wYqGgF8PUEXcH/K9AvvwMWgA/ftu2ZNelZ6Sm//rj1axsJAAQ7NWzc1wJPRmrKli1rfwKwHCDP3K+vvwTIV3y+Lu//Jf4a/REAQmFhoQGA8NfoQ+z58glAxFVaumh2cfGYUVsPdqChU70sAeOzLfinAht+e6Ad/vYYACDYpWH70RDumD5+7H33zbvpxRf/qwHwyb31FgKAFhYWCpFIhAKApmkDBiaKIk9ISGAnTpxgAPTey9Tr9YqyLFPG2EUnglLKTSYTq66u1uO8JSUlQiAQEGRZpgDQn59SygHAZDKxzMxMvaysLF4TEuI69uqi+3w+2traKgBATk6OVlZ20ZWd4PV6RU3TSJy3pKSE1NbWivGx9uqo9RvfYJBeOX169+MZULPKyckxSlbXcFf+pJFpbW1HGhoaGgEoF5uj/w3EHoVUA4C0739/4V2BDg2H/NHLFpDpkJBiFeG2iX2GAgAHaqOY7rWS0tIFd7744n+9A6itAFhmZqZBFEVHNBp1jBkzJrmgoCA5JyfHyTknnHM9EAiEm5qaQhUVFc1ZWVktsix3OhwONS0tzVVaWlrS1dWVoOs6JYQMmfNQSrnVau2uqan5fOPGjedisZjg9/ud06ZNyy4sLMzyeDzJoihSzjkhhHBKKW9sbGw9fvy4f8+ePXVer7e9urpaycnJMS9fvnwagERCSNvq1asP3nDDDenFxcUTAcDv939WW1t7orb2gmRdGDZsmP3pp5++RdO0BM55sLS0dH9xcXHa4sWLR3d3dxt7jbNp7dq1n9bX14dwYVgmXq/XoKqqa8WKFdNlWbZQSrnNZots37593xtvvNHcj4dyztOmLdv4gSUpIy3TN2v/J88/OL+uri6Iv2A9SwRAAcFyzTUF+QUFuVl/ONw59CNCCTjnYIMad1R04tPa6AUeiAM4UBfFLVePzM3Pz/aePn3mrMvlEoYPH57z7LPPrs3Pz7/eaDRaLqaYpmlafX390WeeeeaRl19++VRxcXHRHXfc8crlDuztt99eTQjZVFJSMuyXv/zlr4YNG1ZEyKU9cnt7+/kdO3asWbVq1U5N05JvvfXW3zgcDk9HR0fDqlWr5o4aNWr2rbfe+mMA2L1799OyLP8CgIp+XqHX62XOmDHjObPZbAsGg9Vms3nx5MmTF8yZM+eHcTrGmN7U1HTXli1b3qutre3EwJsqKIqS9Pjjjy9dtGjRyv46njhx4qbMzMyPAoFA3JsRLlnNJntyEgAYba4MVVV7C6JDhlaOgYYdp+H9/gMAlixZYrBara6EhISI2FOWD1uXLJlbQqhAKhrkAVIJAW4Z7cC0qxKgc453T3ahrCrc164zfoGRZCRKWDLBBY9dBAD6ne/Mm/bII48dsFic5LHHHls7duzYb15wlwZBFEUxOzvb94Mf/OCp7du3f6ezs9PzVTz9EY1GzZzzlGXLlq3Izs4uuhwep9OZvmDBgqc2bNhwPBgMmmOxmBEAYrGYUdd1d1tbW0qctq2tzWWxWMwlJSWkrKwsfplEo1GBUpqk67oIAIqimHVdd7e2trr790UpFRYuXPjvmzdvPpqTkyP380zU6/VaHA5H3qxZs0oH69jS0pJsMpkkAPEbxWLh1uaT7/zq586s0dMCR/ZsNZlMIQAkPT3dJEmSQxAEK2NM0HVdNRqNnQA6q6urYwBEr9ebqCiKRAjpFgTBoGmaVZIkqut62O12C3l5ecsVRckUe/ZuDJb0dM+wULeO8KA6yexRdszMs+Jw9R7YLS7MHVsERWP489mhw5PTImDZ1GTEYk3Yd3w/Jo2ag4yMlBxJMtoIidoKCwunAYCu69i+ffvZU6dO1XZ1dYUAcEEQBKvVasvNzc2eP3/+cEEQSFZWViGlNFnTNHO8j507d9YvX778LUppGyFkQIznnKuU0iZFUY6LomhJSUkZFW978cUXK5955pn3wuFwC+dc66UXk5OTPZs3b57n9XqTBEEQ5syZM/KFF15o0nVd6KWhhBCjpmmGuCzGmMgYuyBB13WdCIJgiLfpui4M5tU0DaIoIi8vb/RDDz00d/369S8AaEWPVxFlWXavX7/+h0lJSc7+9L2/DYNzNLPZTF3ZY68WE+wp7rzi/MDRPe+kp6c7Pd5vTL6qZP4PrO6cqwWDyaRGu0Id9af3n37n1097vd5KTdMs19z9iw2iyZIZOPTuG46sUd9wZY+ZTAVBDDfXVezY/p8/9p48uc5ms2lizwafUXK57Imd8sC8aqTbiJn5NhysfA9v7l8PSgXcd/PjmFc0CufaVQQ6BnoSgRLcU+yCSBX8ZtdP0RIKYGTmeCQlJSaKIjW73SmpiYmJdgCoqKhofvjhh58EcErX9QgA3ps7WBhj2bqu35uenu6x2WwdiYmJjHPeNzmiKHZ3d3efAdBACBmgBGNMJ4S0McZaKKWpnPO4G4aiKG2dnZ1nCCFNnHOVEKITQkh7e7t1zpw5Vb20Ac75KUEQMvoZ3wUrpP76DIHBdKQ//bZt20ILFy50AMCCBQuWbdy48b309PTw+fPnYxkZGbapU6eOv+66624CgHA4zPbu3SvffPPNlov0S3RdT7B6cibZ067KbIx1N3POU0ZOu/2mgtnfXyuZraY+Smeq3ZEx4o6k7DHXl7+y+u7OhuqgLTVnusWZ5hINZq8jY6QzTmpNybrOkpj26vvrFt1QX19fI/ab4AH5h8MsYEmxC80dtfjTp7/updHxhw+fwLJbn8O9E134jw+aIKtfMs252o7cJANeL1uHllAAACBQAYxxAIrgdmcnxvOEaDTaxjk/CuAEAFkURa5pGpFlWTQajWdWrlxZQSm1Msa6GGOdHo/nqng/M2bMyD158uQvhkpoexNUNnfu3OuPHz+uNDY2NhYWFg4DgKVLl05aunTpJFVVY7qu67Isy7qua7FYTAmHw5GWlpb6TZs2vbBr164oIeSvtrF5+PDhL3Jzc3MmTJjg8ng8qT/72c+++9BDD63Ny8vrjEQi6Q8//PDy3vCCLVu2VKenp1sBXDSfY4wJnDEBADQtZkywO0eOvPE7qyWz1RSLdsbOHdq1S+lsqrKleidkFs2YbPVke/K/+f11B37zryvifLa0qxLrDrz1XnNV+WfZE26enzKyON+eftUw7/QFM2L/vfW82HNUgKsdHV3tdpMAAKAEuLfYBQNV8OKeX0DVvlxphSIt+ONHv8TdN67Bwmuc2HKgDQAwJsOMkhFW/PnkDhz9oqyP3mZJQlvb4XaA6SaTsc/9AlB0XQ9LktTt9/vj8ZkAgM/nk/1+f4fNZhO6urq4zWZL6G8UBoOBGgwGMy4BQoiNMVa/fv36rTabzVNUVJRlMBgoAEiSZJAkCSaTaYCMESNG5BUUFIz+9NNPbwmHw3/Jus8A2O32hnXr1lW+9tprC0VRJLNmzVrs9Xrf8Pv9dUuWLPnmuHHjigCgqakp+vzzz/9p3bp1sy9bOGNSzpS5s032ZBvnjFfs+M+1gc/f26ooSthgMLhj0dCaq6bOvy0ld9zVJlvKsLiHaqk6dObI60/8mFJa3+4/dWzGilf/SKlArK70gtTUVEnsOU8SjtbXN/ldCQIK00woyjAjN9mAP3z4BJo7zl2gy5nA59h77I+YPnY+OrodONsaw6JvJOJ8SxXe+2xTH12SPR1GyYxAoKmOEMiqqvbFNrEHtF8NJf5N/X6/0Wg0OlRVNZlMJjUWiw1wt5999llo586dxw0GQ4RSOuDJFwRBczgcDXV1da2c87bDhw+X3X777UHOeZbX6/V4PB6bw+Ewm0wmk8FgMNpsNqvH40m//fbb85xOp5iYmOi+7bbbpmzevPmLQcPmg7yMoOu60NXV1T8kEVVVBZPJJJJe19lr4AM8n8ViaT948ODePXv2XHPjjTfm2e1264oVK35YWlr6u/vvv//BOO9LL730bjgcrpAkaeYlTGOQllxIcGWOAIBoW0P43MF3/2Sz2err6uq09PT0SM3+13+be+2824gg0qTcMSPibHJnyxec84aEhIS29mBtjSZHVIPFboAgWhRFEcSeIti48ObNb3y4dOkddz8wJYlwcLx/6Hc4VvPRRfV5v3wrnFY3rh9ZAgBo7jiHVz74OTT9y5ShIHsiVFVjmzZt+0gUeVdj4/kOzjkIIXC73SmMsRRCSKPX6w13dHRwu91OCSFGXdfT9+3b95Lb7c4jhPDZs2fPIoT0PeHt7e2NW7du/S0hJMAYG5CjUEp1znlIluVGQRCwdu3aAk3TvIqiGJ588sk91dXVUUII55xTSqnIObdwzke6XK5l8+bNGw4ATqczlVJa118uIYQ1NzeH4v+TkpIyCSGJzc3NbR6PJyYIArfZbIKqqonDhg3LslqtEgB0d3fLvblQn7GIoigTQqrXrVv3yrXXXvsTi8UiTp8+fdaaNWuSs7Ky0gCgsrKyaePGja9zzkODE/ZLgoDruqoBgCAZREKIQVEUAgA2m00wmZ32+FRqaqxv7jjXNVEU9ZSUFBYKhTTOehMRzgljjIgAGKBHjxw5debEiWr/8BHu7Jfe+RGaOvyX1IcxHa+X/Qc+OfEWzEYrzjZWDAhRAhUxIf9mHDtW+UVVlb/G7TZ3BYPB9qampi6Px2PLzs5O2bVr13NtbW1HKaVhQgjXdZ1qmmZwOp2jMjIyxhBCIMuyUllZaSksLOzzKm63O2Hp0qVjnE5nhiRJA4pVnHNus9kiFRUVH2/ZsiU8ZcqUf8vNzS0GAJ/P99HZs2c/p5TGKO2ZLFVVDYSQEVOnTk2Ny/D7/e3o5wUIIZwxph4+fLgmbujXXXdd8aZNm1aHQqEKg8EQI4RwTdMETdOSi4qKbol7hba2tlYMqpKKoqhxzpuqqqo+2b59+8E777xzkslkEhcvXlzcM7cMGzZseJVSeoZzbrlYcXFoED1UX1kOYKbJnmLOv+mB0oqdv3oyNTU1FA6HU0cvuPNfAECTI2rTmQOnRmFpnO+SfYg9EyLFgFjDxo2v/X7Dhp+u9Dizv9JQAICD41xz5ZBtxQWz4bKl8Yef+9XvAdLAmBqllDbv3r3708WLF98AAAUFBV4A3kv1cezYsUpKaay/2x83blzmuHHjHrwUnyAIj+q6vqO8vNwfN5Tx48dPHz9+/PRL8bW0tHS9//77pwBo8RtECOGEkO6TJ09WHThw4MzEiRNHGo1GcebMmd8EcNGakK7rfPfu3R8QQsKU0j6vQClllNIIY6zmiSee+O3MmTPHejyevmT1k08+qXzzzTf/RClt5Jxn9A+vg0PtYBAqqDUfb9+dO2XenfZ0b8aI6++6y5ldOEkOtTTa3NlXJWblpwFA44n9u5mq1Pcf49ACe673rnoO6YC37fnnX3t78eJvzfnWlGWjAy1VaO9qvJROF0VWSh5mjb8XH3544PCWLW++B+jtLS2VitWac37VqlXPdXZ26tOnT/9GUlJSgsPhMFgsFgHoeZIikYja1dWldnR0dJeXl5986qmnNgAIUkpTNU3ThqpdDBwX4YQQHg6HBUJI9Ec/+tHLsVjMXVxcPDYpKckiiuKA8n88mQuFQrFAINC8YcOGTe3t7WcppXbGmKyqagJjTOacd0iSFLrvvvvWLl++/H6fz5fvcrlMDoejf4IOVVVZKBSKNTY2drz11lvvvPLKK29JkhSilLZFo9EYIYRLktQBQO7q6upmjB1+9dVX3/7e9773bQBE0zT12Wef/TUhpDoSiYQtFktUEIRQnFcQhC6z2TwgFAmCoFFBVAGAigaZUlpbvm3d0mvmr9xoT81JS/H6+h5IzhmaKw98cvAPP19JOdcIFVQAEAxGWZIkHQAkSYqRXsMWRINsNBr1QccMmpMzM91TPvrodxucKaL7pXdXou1rGktmykjcdcMqtDRGm6dPv+f+c+eCf+49ZqB7vV6DoihJlNJsznkmACcAEyFEBEAZY4xSGgMgc847ADRomuYXRTFMKfUwxq4GkMo5Fy/2BBBCNMZYM+f8FGPsvMlksnDOcxhjmYwxByHEyDmn6E1ABUFgjDGNcx6mlDZSSmtaW1ubXS6XnXNeyDlP5pw3MMZOKooSstlsLk3ThhFC0hhjNkKIgcbjWE/k0wF0E0JadV0/xxg7zxgjZrN5uKqqIwghmiiKp7q6us62tLTIqampiQaDIY9zPpJSauGcNwGoUBSlLhgMxoYPH+7inBfoup5DKe3Udf2YyWQ611tZ5QBITk6OY8zc5Q+KRvPwSEfjvkN/fGobAJgdjuxRN9x7hz1t5FQqGWxaJNTQdPrgDv/nO3fput5IKTWN/va/PSCIojva1rCn8r+3fBAIBJT09HTXhMWrf0ypaG8PVG2r+nDrh0MeXLr++sk3vPTSo4+5U+3Jb33yHI7X7P1KA6FUwPi8m3BT8X3w1zYGlyxZuXL//iPvA0qw38ElAkDweDxGm81m6e7uNoqiKDHG+jbpBEHQNU1TLRaLEgqFuoPBYAwAT0lJMZlMJjshxHSpYldvPqGYTKau6urqbp/Ph3A4bIrFYhYAJk3TxP788boLY0whhHQbDIZodXW1lpmZaZAkya4oisFsNiu6rnfW1tbGfD6f4Pf7jQ6HwyzLskGSpAHyBEHQdV1XGWMKY0wOBAKqz+cjzc3NVk3TrJRSZjAYwjU1NREAus/nE1tbWxNisZhNkiQRgCzLcmcwGOwGwL1eryEajdpMJpNFVVUtFouFetsGrMC8Xm+CLMuiqqpKnNfn84nt7e0WVVUTdF0XDAaDGolEws3NzXF+mpeXZ1FVlcZisVggEJB775OYk5Nj1TSNiqIYra2tVS56FHL48MwJW7eu++nkyUWFgeZKHDj1Nk6f+wzdSngAg92ShILsiZg0ag6SHZl8797Pjyxa9MjPzp9vLgciTRc5ChlfUlKfzzdAB5vNxsvKyuJLyv5LSzoU/VA4dOgQx5db8XEDpQDIUPwX6bOPp/d//639AedZSkpK+mT17vsMJSsuD0Po1jcXhw5d8OoLAUD77SnF2wej/7iG2vTr3za4/WJ8g68N7vDLw9WlpWseO3r0dK2maYxxxltD53ld40l+rqmShyItnHHGNU3XDx8+9cV3v/uTNcCoYmC058rh6r8vXMbrGqILkNKKikbk3XPPt0oyMjzDkpKciZwztLd3tvv952s3b36jrKKiugpXXtf4u8XXeAFMMfe8ACZYrrwA9o+Hyw0NV14p/QfH/wDMMA4k7Q3eOwAAAABJRU5ErkJggg=="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(!(0,l.default)(e.pickedFeatures))return{catalogItems:[],featureCatalogItemPairs:[]};var t=e.pickedFeatures.features,n=[],r=[];return t.forEach(function(t){var i=a(e.nowViewing,t);n.push({catalogItem:i,feature:t}),-1===r.indexOf(i)&&r.push(i)}),{catalogItems:r,featureCatalogItemPairs:n}}function a(e,t){if((0,l.default)(e)){var n=void 0,r=void 0,i=void 0;if((0,l.default)(t.entityCollection)&&(0,l.default)(t.entityCollection.owner)){var o=t.entityCollection.owner;if(o.name===D.LOCATION_MARKER_DATA_SOURCE_NAME)return{name:"Location Marker"};for(r=e.items.length-1;r>=0;r--)if(i=e.items[r],i.dataSource===o){n=i;break}return n}if((0,l.default)(t.imageryLayer)){var a=t.imageryLayer;for(r=e.items.length-1;r>=0;r--)if(e.items[r].imageryLayer===a){n=e.items[r];break}return n}}}function s(e){return(0,l.default)(e.properties)||(0,l.default)(e.description)}var u=n(0),l=r(u),c=n(9),h=r(c),d=n(23),f=r(d),p=n(1788),m=r(p),g=n(113),_=r(g),v=n(11),A=r(v),y=n(4),b=r(y),w=n(8),x=r(w),E=n(5),C=r(E),S=n(13),T=r(S),I=n(156),M=r(I),O=n(30),P=r(O),D=n(180),B=n(396),L=r(B),N=n(1794),R=r(N),k=n(28),F=r(k),U=(0,x.default)({displayName:"FeatureInfoPanel",mixins:[A.default],propTypes:{terria:C.default.object.isRequired,viewState:C.default.object.isRequired,printView:C.default.bool},componentDidMount:function(){var e=this.props.terria;this._pickedFeaturesSubscription=T.default.getObservable(e,"pickedFeatures").subscribe(function(){var t=e.pickedFeatures;if((0,l.default)(t)){var n=new M.default({id:"Pick Location"});n.position=t.pickPosition,e.selectedFeature=n,(0,l.default)(t.allFeaturesAvailablePromise)&&t.allFeaturesAvailablePromise.then(function(){var n=t.features.filter(function(t){return(0,l.default)(a(e.nowViewing,t))});e.selectedFeature=n.filter(s)[0],!(0,l.default)(e.selectedFeature)&&n.length>0&&(e.selectedFeature=n[0])})}else e.selectedFeature=void 0})},componentWillUnmount:function(){(0,l.default)(this._pickedFeaturesSubscription)&&(this._pickedFeaturesSubscription.dispose(),this._pickedFeaturesSubscription=void 0)},getFeatureInfoCatalogItems:function(){var e=this,t=o(this.props.terria),n=t.catalogItems,r=t.featureCatalogItemPairs;return n.filter(function(e){return(0,l.default)(e)}).map(function(t,n){var i=r.filter(function(e){return e.catalogItem===t}).map(function(e){return e.feature});return b.default.createElement(m.default,{key:n,viewState:e.props.viewState,catalogItem:t,features:i,terria:e.props.terria,onToggleOpen:e.toggleOpenFeature,printView:e.props.printView})})},close:function(){var e=this;this.props.viewState.featureInfoPanelIsVisible=!1,setTimeout(function(){e.props.terria.pickedFeatures=void 0,e.props.terria.selectedFeature=void 0},200)},toggleCollapsed:function(){this.props.viewState.featureInfoPanelIsCollapsed=!this.props.viewState.featureInfoPanelIsCollapsed},toggleOpenFeature:function(e){var t=this.props.terria;e===t.selectedFeature?t.selectedFeature=void 0:t.selectedFeature=e},getMessageForNoResults:function(){return this.props.terria.nowViewing.hasItems?this.props.viewState.firstTimeAddingData?(this.props.viewState.firstTimeAddingData=!1,"Click on the map to learn more about a location"):"No data is available here - try another location.":"Click 'Add Data' to add data to the map."},addManualMarker:function(e,t){(0,D.addMarker)(this.props.terria,{name:"User Selection",location:{latitude:t,longitude:e}})},pinClicked:function(e,t){(0,D.markerVisible)(this.props.terria)?(0,D.removeMarker)(this.props.terria):this.addManualMarker(e,t)},locationUpdated:function(e,t){(0,l.default)(t)&&(0,l.default)(e)&&(0,D.markerVisible)(this.props.terria)&&((0,D.removeMarker)(this.props.terria),this.addManualMarker(e,t))},renderLocationItem:function(e){var t=f.default.WGS84.cartesianToCartographic(e),n=h.default.toDegrees(t.latitude),r=h.default.toDegrees(t.longitude),i=(0,L.default)(r,n);this.locationUpdated(r,n);var o=this,a=function(){o.pinClicked(r,n)},s=(0,D.markerVisible)(this.props.terria)?R.default.btnLocationSelected:R.default.btnLocation;return b.default.createElement("div",{className:R.default.location},b.default.createElement("span",null,"Lat / Lon "),b.default.createElement("span",null,i.latitude+", "+i.longitude,!this.props.printView&&b.default.createElement("button",{type:"button",onClick:a,className:s},b.default.createElement(P.default,{glyph:P.default.GLYPHS.location}))))},render:function(){var e,t=this.props.terria,n=this.props.viewState,r=this.getFeatureInfoCatalogItems(),o=(0,F.default)(R.default.panel,(e={},i(e,R.default.isCollapsed,n.featureInfoPanelIsCollapsed),i(e,R.default.isVisible,n.featureInfoPanelIsVisible),e)),a=void 0;if((0,l.default)(t.selectedFeature)&&(0,l.default)(t.selectedFeature.position)){var s=void 0;(0,l.default)(t.clock)&&(s=t.clock.currentTime),a=t.selectedFeature.position.getValue(s),(isNaN(a.x)||isNaN(a.y)||isNaN(a.z))&&(a=void 0)}(0,l.default)(a)||(0,l.default)(t.pickedFeatures)&&(0,l.default)(t.pickedFeatures.pickPosition)&&(a=t.pickedFeatures.pickPosition);var u=a?b.default.createElement("li",null,this.renderLocationItem(a)):null;return b.default.createElement("div",{className:o,"aria-hidden":!n.featureInfoPanelIsVisible},!this.props.printView&&b.default.createElement("div",{className:R.default.header},b.default.createElement("button",{type:"button",onClick:this.toggleCollapsed,className:R.default.btnPanelHeading},"Feature Information"),b.default.createElement("button",{type:"button",onClick:this.close,className:R.default.btnCloseFeature,title:"Close data panel"},b.default.createElement(P.default,{glyph:P.default.GLYPHS.close}))),b.default.createElement("ul",{className:R.default.body},this.props.printView&&u,n.featureInfoPanelIsCollapsed||!n.featureInfoPanelIsVisible?null:(0,l.default)(t.pickedFeatures)&&t.pickedFeatures.isLoading?b.default.createElement("li",null,b.default.createElement(_.default,null)):r&&0!==r.length?r:b.default.createElement("li",{className:R.default.noResults},this.getMessageForNoResults()),!this.props.printView&&u))}});e.exports=U},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=new g.default(window.location).fragment("").search({start:JSON.stringify(o(e))});return P.forEach(function(n){return t.addSearch({key:e.userProperties[n]})}),t.fragment(t.query()).query("").toString()}function o(e){var t=e.initSources.slice();return u(e,t),l(e,t),c(e,t),h(e,t),d(e,t),{version:"0.0.05",initSources:t}}function a(e){return e.urlShortener&&e.urlShortener.isUsable||e.shareDataService&&e.shareDataService.isUsable}function s(e){var t=function(e){return new g.default(window.location).fragment("share="+e).toString()};return(0,y.default)(e.shareDataService)?e.shareDataService.getShareToken(o(e)).then(t):e.urlShortener.shorten(i(e)).then(t)}function u(e,t){var n=f(S.default.itemFilters.noLocalData),r=e.catalog.serializeToJson({itemFilter:(0,E.default)([n.filter,S.default.itemFilters.userSuppliedOnly,function(e){return!e.parent||!e.parent.url}])});return r.length>0&&t.push({catalog:r}),n.rejections}function l(e,t){var n=p(e.catalog.serializeToJson({itemFilter:(0,E.default)([S.default.itemFilters.noLocalData]),propertyFilter:(0,E.default)([S.default.propertyFilters.sharedOnly,function(e){return"name"!==e}])})).filter(function(e){return e.isEnabled||e.isOpen}).reduce(function(e,t){return e[t.id]=t,t.id=void 0,e},{});Object.keys(n).forEach(function(e){var t=n[e];t.isOpen&&t.parents.some(function(e){return!n[e]})&&(n[e]=void 0)}),Object.keys(n).length>0&&t.push({sharedCatalogMembers:n})}function c(e,t){var n=e.currentViewer.getCurrentExtent(),r={west:v.default.toDegrees(n.west),south:v.default.toDegrees(n.south),east:v.default.toDegrees(n.east),north:v.default.toDegrees(n.north)};if((0,y.default)(e.cesium)){var i=e.cesium.scene.camera;r.position=i.positionWC,r.direction=i.directionWC,r.up=i.upWC}var o={west:v.default.toDegrees(e.homeView.rectangle.west),south:v.default.toDegrees(e.homeView.rectangle.south),east:v.default.toDegrees(e.homeView.rectangle.east),north:v.default.toDegrees(e.homeView.rectangle.north),position:e.homeView.position,direction:e.homeView.direction,up:e.homeView.up},a={dayNumber:e.clock.currentTime.dayNumber,secondsOfDay:e.clock.currentTime.secondsOfDay},s=void 0;switch(e.viewerMode){case O.default.CesiumTerrain:s="3d";break;case O.default.CesiumEllipsoid:s="3dSmooth";break;case O.default.Leaflet:s="2d"}var u={initialCamera:r,homeCamera:o,baseMapName:e.baseMap.name,viewerMode:s,currentTime:a};e.showSplitter&&(u.showSplitter=e.showSplitter,u.splitPosition=e.splitPosition),t.push(u)}function h(e,t){if((0,y.default)(e.pickedFeatures)&&e.pickedFeatures.features.length>0){var n=w.default.WGS84.cartesianToCartographic(e.pickedFeatures.pickPosition),r={providerCoords:e.pickedFeatures.providerCoords,pickCoords:{lat:v.default.toDegrees(n.latitude),lng:v.default.toDegrees(n.longitude),height:n.height}};(0,y.default)(e.selectedFeature)&&(r.current={name:e.selectedFeature.name,hash:(0,I.default)(e.selectedFeature,e.clock)}),r.entities=e.pickedFeatures.features.filter(function(e){return!(0,y.default)(e.imageryLayer)}).map(function(t){return{name:t.name,hash:(0,I.default)(t,e.clock)}}),t.push({pickedFeatures:r})}}function d(e,t){if((0,y.default)(e.locationMarker)){var n=e.locationMarker.entities.values[0].position.getValue(),r=w.default.WGS84.cartesianToCartographic(n);t.push({locationMarker:{name:e.locationMarker.entities.values[0].name,latitude:v.default.toDegrees(r.latitude),longitude:v.default.toDegrees(r.longitude)}})}}function f(e){var t=[];return{filter:function(n){var r=e(n);return r||t.push(n),r},rejections:t}}function p(e){return e.reduce(function(e,t){return e.push(t),t.items&&(e=e.concat(p(t.items)),t.items=void 0),e},[])}Object.defineProperty(t,"__esModule",{value:!0}),t.buildShareLink=i,t.canShorten=a,t.buildShortShareLink=s;var m=n(33),g=r(m),_=n(9),v=r(_),A=n(0),y=r(A),b=n(23),w=r(b),x=n(593),E=r(x),C=n(230),S=r(C),T=n(688),I=r(T),M=n(133),O=r(M),P=["hideExplorerPanel","activeTabId"]},function(e,t){e.exports={baseLegend:"tjs-legend__baseLegend",bar:"tjs-legend__bar",locationBar:"tjs-legend__locationBar tjs-legend__baseLegend",distanceLegend:"tjs-legend__distanceLegend tjs-legend__baseLegend","section-long":"tjs-legend__section-long",sectionLong:"tjs-legend__section-long",section:"tjs-legend__section","section-short":"tjs-legend__section-short",sectionShort:"tjs-legend__section-short"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=new Date(t,e,0).getDate();return Array.apply(null,{length:n}).map(Number.call,Number)}function a(e,t){return t.filter(function(t){return t.getFullYear()===e})}function s(e,t){return e.filter(function(e){return e.getMonth()===t})}function u(e,t){return e.filter(function(e){return e.getDate()===t})}function l(e){return(0,O.default)(e.map(function(e){return e.getMonth()}))}function c(e){return(0,O.default)(e.map(function(e){return e.getDate()}))}function h(e,t){return e.filter(function(e){return e.getHours()===t})}function d(e){return(0,O.default)(e.map(function(e){return e.getHours()}))}function f(e,t){return t.filter(function(t){return Math.floor(t.getFullYear()/100)===e})}function p(e){var t=(0,O.default)(e.map(function(e){return e.getFullYear()})),n=(0,O.default)(t.map(function(e){return Math.floor(e/100)})),r=n.reduce(function(n,r){return(0,j.default)(n,m(r,e,t))},{});return r.dates=e,r.indice=n,r}function m(e,t,n){var r=n.filter(function(t){return Math.floor(t/100)===e}),o=f(e,t),a=i({},e,r.reduce(function(e,n){return(0,j.default)(e,g(n,t))},{}));return a[e].dates=o,a[e].indice=r,a}function g(e,t){var n=a(e,t),r={};return l(n).forEach(function(e){var t=s(n,e),i={};c(t).forEach(function(e){i.dates=t,i.indice=c(t);var n={},r=u(t,e);d(r).forEach(function(e){n[e]=h(r,e),n.dates=r,n.indice=d(r)}),i[e]=n}),r[e]=i,r.indice=l(n),r.dates=n}),i({},e,r)}var _=n(4),v=r(_),A=n(8),y=r(A),b=n(1826),w=r(b),x=n(353),E=r(x),C=n(5),S=r(C),T=n(28),I=r(T),M=n(1828),O=r(M),P=n(0),D=r(P),B=n(214),L=n(30),N=r(L),R=n(11),k=r(R),F=n(731),U=r(F),z=n(42),j=r(z),H=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],V=(0,y.default)({displayName:"DateTimePicker",mixins:[k.default],propTypes:{dates:S.default.array,currentDate:S.default.object,onChange:S.default.func,openDirection:S.default.string},getInitialState:function(){return{isOpen:!1,century:null,year:null,month:null,day:null,time:null,hour:null,granularity:null}},UNSAFE_componentWillMount:function(){var e=p(this.props.dates),t=null,n=null,r=null,i=null,o="century";if(1===e.indice.length){var a=e.indice[0],s=e[a];if(t=a,1===s.indice.length){var u=s.indice[0],l=s[u];if(n=u,o="year",1===l.indice){var c=l.indice[0],h=l[c];r=c,o="month",1===h.indice&&(i=h.indice[0])}}}this.setState({century:t,year:n,month:r,day:i,time:d,granularity:o});var d=this.props.currentDate;window.addEventListener("click",this.closePicker)},componentWillUnmount:function(){window.removeEventListener("click",this.closePicker)},closePicker:function(){this.setState({isOpen:!1})},renderCenturyGrid:function(e){var t=this,n=e.indice;return e.dates&&e.dates.length>=12?v.default.createElement("div",{className:U.default.grid},v.default.createElement("div",{className:U.default.gridHeading},"Select a century"),n.map(function(e){return v.default.createElement("button",{key:e,className:U.default.centuryBtn,onClick:function(){return t.setState({century:e})}},e,"00")})):this.renderList(e.dates)},renderYearGrid:function(e){var t=this;if(e.dates&&e.dates.length>12){var n=e.indice,r=Array.apply(null,{length:12}).map(Number.call,Number);return v.default.createElement("div",{className:U.default.grid},v.default.createElement("div",{className:U.default.gridHeading},"Select a year"),v.default.createElement("div",{className:U.default.gridBody},n.map(function(n){return v.default.createElement("div",{className:U.default.gridRow,key:n,onClick:function(){return t.setState({year:n,month:null,day:null,time:null})}},v.default.createElement("span",{className:U.default.gridLabel},n),v.default.createElement("span",{className:U.default.gridRowInner12},r.map(function(t){return v.default.createElement("span",{className:e[n][t]?U.default.activeGrid:"",key:t})})))})))}return this.renderList(e.dates)},renderMonthGrid:function(e){var t=this,n=this.state.year;return e[n].dates&&e[n].dates.length>12?v.default.createElement("div",{className:U.default.grid},v.default.createElement("div",{className:U.default.gridHeading},v.default.createElement("button",{className:U.default.backbtn,onClick:function(){t.setState({year:null,month:null,day:null,time:null})}},this.state.year)),v.default.createElement("div",{className:U.default.gridBody},H.map(function(r,a){return v.default.createElement("div",{className:(0,I.default)(U.default.gridRow,i({},U.default.inactiveGridRow,!(0,D.default)(e[n][a]))),key:r,onClick:function(){return(0,D.default)(e[n][a])&&t.setState({month:a,day:null,time:null})}},v.default.createElement("span",{className:U.default.gridLabel},r),v.default.createElement("span",{className:U.default.gridRowInner31},o(a+1,n).map(function(t){return v.default.createElement("span",{className:(0,D.default)(e[n][a])&&(0,D.default)(e[n][a][t+1])?U.default.activeGrid:"",key:t})})))}))):this.renderList(e[n].dates)},renderDayView:function(e){var t=this;if(e[this.state.year][this.state.month].dates&&e[this.state.year][this.state.month].dates.length>31){var n=e[this.state.year][this.state.month].indice,r=n.map(function(e){return(0,E.default)().date(e).month(t.state.month).year(t.state.year)}),i=(0,D.default)(this.state.day)?(0,E.default)().date(this.state.day).month(this.state.month).year(this.state.year):null;return v.default.createElement("div",{className:U.default.dayPicker},v.default.createElement("div",null,v.default.createElement("button",{className:U.default.backbtn,onClick:function(){t.setState({year:null,month:null,day:null,time:null})}},this.state.year),v.default.createElement("button",{className:U.default.backbtn,onClick:function(){t.setState({month:null,day:null,time:null})}},H[this.state.month])),v.default.createElement(w.default,{inline:!0,onChange:function(e){return t.setState({day:e.date()})},includeDates:r,selected:i}))}return this.renderList(e[this.state.year][this.state.month].dates)},renderList:function(e){var t=this;if((0,D.default)(e))return v.default.createElement("div",{className:U.default.grid},v.default.createElement("div",{className:U.default.gridHeading},"Select a time"),v.default.createElement("div",{className:U.default.gridBody},e.map(function(e){return v.default.createElement("button",{key:(0,B.formatDateTime)(e),className:U.default.dateBtn,onClick:function(){t.setState({time:e,isOpen:!1}),t.props.onChange(e)}},(0,B.formatDateTime)(e))})))},renderHourView:function(e){var t=this;return e[this.state.year][this.state.month][this.state.day].dates.map(function(e){return{value:e,label:(0,B.formatDateTime)(e)}}).length>24?v.default.createElement("div",{className:U.default.grid},v.default.createElement("div",{className:U.default.gridHeading},"Select an hour on "+this.state.day+" "+H[this.state.month+1]+" "+this.state.year," "),v.default.createElement("div",{className:U.default.gridBody},e[this.state.year][this.state.month][this.state.day].indice.map(function(n){return v.default.createElement("button",{key:n,className:U.default.dateBtn,onClick:function(){return t.setState({hour:n})}},v.default.createElement("span",null,n," : 00 - ",n+1," : 00")," ",v.default.createElement("span",null,"(",e[t.state.year][t.state.month][t.state.day][n].length," options)"))}))):this.renderList(e[this.state.year][this.state.month][this.state.day].dates)},renderMinutesView:function(e){var t=e[this.state.year][this.state.month][this.state.day][this.state.hour];return this.renderList(t)},goBack:function(){(0,D.default)(this.state.time)?((0,D.default)(this.state.month)||this.setState({year:null,month:null,day:null}),(0,D.default)(this.state.hour)||this.setState({day:null}),(0,D.default)(this.state.day)||this.setState({month:null,day:null}),this.setState({hour:null,time:null})):(0,D.default)(this.state.hour)?this.setState({hour:null,time:null}):(0,D.default)(this.state.day)?this.setState({day:null,time:null,hour:null}):(0,D.default)(this.state.month)?this.setState({month:null,time:null,day:null,hour:null}):(0,D.default)(this.state.year)?this.setState({year:null,month:null,time:null,day:null,hour:null}):(0,D.default)(this.state.century)&&this.setState({century:null,year:null,month:null,time:null,day:null,hour:null})},toggleDatePicker:function(){if(!this.state.isOpen){var e=this.props.currentDate;if((0,D.default)(e)){var t={day:(0,D.default)(this.state.day)?e.getDate():null,month:(0,D.default)(this.state.month)?e.getMonth():null,year:(0,D.default)(this.state.year)?e.getFullYear():null,century:(0,D.default)(this.state.century)?Math.floor(e.getFullYear()/100):null,time:(0,D.default)(this.state.time)?e:null};this.setState(t)}}this.setState({isOpen:!this.state.isOpen})},render:function(){var e=this;if(this.props.dates){var t=p(this.props.dates);return v.default.createElement("div",{className:U.default.timelineDatePicker,onClick:function(e){e.stopPropagation()}},v.default.createElement("button",{className:U.default.togglebutton,onClick:function(){e.toggleDatePicker()}},v.default.createElement(N.default,{glyph:N.default.GLYPHS.calendar})),this.state.isOpen&&v.default.createElement("div",{className:(0,I.default)(U.default.datePicker,i({},U.default.openBelow,"down"===this.props.openDirection))},v.default.createElement("button",{className:U.default.backbutton,disabled:!this.state[this.state.granularity],type:"button",onClick:function(){return e.goBack()}},v.default.createElement(N.default,{glyph:N.default.GLYPHS.left})),!(0,D.default)(this.state.century)&&this.renderCenturyGrid(t),(0,D.default)(this.state.century)&&!(0,D.default)(this.state.year)&&this.renderYearGrid(t[this.state.century]),(0,D.default)(this.state.year)&&!(0,D.default)(this.state.month)&&this.renderMonthGrid(t[this.state.century]),(0,D.default)(this.state.year)&&(0,D.default)(this.state.month)&&!(0,D.default)(this.state.day)&&this.renderDayView(t[this.state.century]),(0,D.default)(this.state.year)&&(0,D.default)(this.state.month)&&(0,D.default)(this.state.day)&&!(0,D.default)(this.state.hour)&&this.renderHourView(t[this.state.century]),(0,D.default)(this.state.year)&&(0,D.default)(this.state.month)&&(0,D.default)(this.state.day)&&(0,D.default)(this.state.hour)&&this.renderMinutesView(t[this.state.century])))}return null}});e.exports=V},function(e,t){e.exports={timeline:"tjs-timeline__timeline","text-row":"tjs-timeline__text-row",textRow:"tjs-timeline__text-row","text-cell":"tjs-timeline__text-cell",textCell:"tjs-timeline__text-cell",time:"tjs-timeline__time",controlsRow:"tjs-timeline__controlsRow","style-selector":"tjs-timeline__style-selector",styleSelector:"tjs-timeline__style-selector",title:"tjs-timeline__title",field:"tjs-timeline__field tjs-_form__field tjs-_form__input",timelineDatePicker:"tjs-timeline__timelineDatePicker",datePicker:"tjs-timeline__datePicker",openBelow:"tjs-timeline__openBelow",dayPicker:"tjs-timeline__dayPicker",backbutton:"tjs-timeline__backbutton tjs-_buttons__btn tjs-_buttons__btn-transparent",backbtn:"tjs-timeline__backbtn tjs-_buttons__btn tjs-_buttons__btn-transparent",togglebutton:"tjs-timeline__togglebutton",grid:"tjs-timeline__grid",gridBody:"tjs-timeline__gridBody tjs-_base__scrollbars",gridRow:"tjs-timeline__gridRow",inactiveGridRow:"tjs-timeline__inactiveGridRow",gridLabel:"tjs-timeline__gridLabel",gridRowInner12:"tjs-timeline__gridRowInner12",gridRowInner31:"tjs-timeline__gridRowInner31",activeGrid:"tjs-timeline__activeGrid",gridHeading:"tjs-timeline__gridHeading",summary:"tjs-timeline__summary",centuryBtn:"tjs-timeline__centuryBtn tjs-_buttons__btn tjs-_buttons__btn-primary",dateBtn:"tjs-timeline__dateBtn tjs-_buttons__btn tjs-_buttons__btn-primary"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(8),u=r(s),l=n(5),c=r(l),h=n(28),d=r(h),f=n(133),p=r(f),m=n(11),g=r(m),_=n(287),v=r(_),A=n(30),y=r(A),b=n(1843),w=r(b),x=n(148),E=r(x),C=(0,u.default)({displayName:"SettingPanel",mixins:[g.default],propTypes:{terria:c.default.object.isRequired,allBaseMaps:c.default.array.isRequired,viewState:c.default.object.isRequired},getInitialState:function(){return{activeMap:this.props.terria.baseMap?this.props.terria.baseMap.name:"(None)"}},selectBaseMap:function(e,t){t.stopPropagation(),this.props.terria.baseMap=e.catalogItem,this.props.terria.baseMapContrastColor=e.contrastColor,this.props.terria.setLocalProperty("basemap",e.catalogItem.name)},mouseEnterBaseMap:function(e){this.setState({activeMap:e.catalogItem.name})},mouseLeaveBaseMap:function(){this.setState({activeMap:this.props.terria.baseMap?this.props.terria.baseMap.name:"(None)"})},selectViewer:function(e,t){t.stopPropagation();var n=void 0;switch(e){case 0:n=p.default.CesiumTerrain;break;case 1:n=p.default.CesiumEllipsoid;break;case 2:n=p.default.Leaflet;break;default:return}this.props.terria.viewerMode=n,this.props.terria.setLocalProperty("viewermode",n)},render:function(){var e=this,t=this.props.terria.viewerMode,n=this.props.terria.baseMap?this.props.terria.baseMap.name:"(None)",r={outer:w.default.settingPanel,inner:w.default.dropdownInner,btn:w.default.btnDropdown,icon:"sphere"},o=[];return(this.props.terria.configParameters.useCesiumIonTerrain||this.props.terria.configParameters.cesiumTerrainUrl)&&o.push("3D Terrain"),o.push("3D Smooth","2D"),a.default.createElement(v.default,{theme:r,btnTitle:"Change view",btnText:"Map",viewState:this.props.viewState,smallScreen:this.props.viewState.useSmallScreenInterface},a.default.createElement("div",{className:(0,d.default)(w.default.viewer,E.default.section)},a.default.createElement("label",{className:E.default.heading}," Map View "),a.default.createElement("ul",{className:w.default.viewerSelector},o.map(function(n,r){return a.default.createElement("li",{key:r,className:w.default.listItem},a.default.createElement("button",{onClick:e.selectViewer.bind(this,r),className:(0,d.default)(w.default.btnViewer,i({},w.default.isActive,r===t))},n))},this))),a.default.createElement("div",{className:(0,d.default)(w.default.baseMap,E.default.section)},a.default.createElement("label",{className:E.default.heading}," Base Map "),a.default.createElement("label",{className:E.default.subHeading},this.state.activeMap),a.default.createElement("ul",{className:w.default.baseMapSelector},this.props.allBaseMaps.map(function(t,r){return a.default.createElement("li",{key:r,className:w.default.listItem},a.default.createElement("button",{className:(0,d.default)(w.default.btnBaseMap,i({},w.default.isActive,t.catalogItem.name===n)),onClick:e.selectBaseMap.bind(this,t),onMouseEnter:e.mouseEnterBaseMap.bind(this,t),onMouseLeave:e.mouseLeaveBaseMap.bind(this,t),onFocus:e.mouseEnterBaseMap.bind(this,t)},t.catalogItem.name===n?a.default.createElement(y.default,{glyph:y.default.GLYPHS.selected}):null,a.default.createElement("img",{alt:t.catalogItem.name,src:t.image})))},this))))}});e.exports=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(728),o=n(28),a=r(o),s=n(1844),u=r(s),l=n(8),c=r(l),h=n(0),d=r(h),f=n(148),p=r(f),m=n(30),g=r(m),_=n(113),v=r(_),A=n(287),y=r(A),b=n(11),w=r(b),x=n(1847),E=r(x),C=n(1849),S=r(C),T=n(5),I=r(T),M=n(4),O=r(M),P=n(1850),D=r(P),B=(0,c.default)({displayName:"SharePanel",mixins:[w.default],propTypes:{terria:I.default.object,userPropWhiteList:I.default.array,advancedIsOpen:I.default.bool,shortenUrls:I.default.bool,viewState:I.default.object.isRequired},getDefaultProps:function(){return{advancedIsOpen:!1,shortenUrls:!1}},getInitialState:function(){return{isOpen:!1,shortenUrls:this.props.shortenUrls&&this.props.terria.getLocalProperty("shortenShareUrls"),shareUrl:"",creatingPrintView:!1,creatingDownload:!1}},componentDidMount:function(){var e=this;if(this.props.terria.configParameters.interceptBrowserPrint){window.addEventListener("beforeprint",this.beforeBrowserPrint,!1),window.addEventListener("afterprint",this.afterBrowserPrint,!1);var t=function(t){t.matches?e.beforeBrowserPrint():e.afterBrowserPrint()};if(window.matchMedia){var n=window.matchMedia("print");n.addListener(t),this._unsubscribeFromPrintMediaChange=function(){n.removeListener(t)}}this._oldPrint=window.print,window.print=function(){e.print()}}},componentWillUnmount:function(){window.removeEventListener("beforeprint",this.beforeBrowserPrint,!1),window.removeEventListener("afterprint",this.afterBrowserPrint,!1),this._unsubscribeFromPrintMediaChange&&this._unsubscribeFromPrintMediaChange(),this._oldPrint&&(window.print=this._oldPrint)},beforeBrowserPrint:function(){this.afterBrowserPrint(),this._message=document.createElement("div"),this._message.innerText="For better printed results, please use "+this.props.terria.appName+"'s Print button instead of your web browser's print feature.",window.document.body.insertBefore(this._message,window.document.body.childNodes[0])},afterBrowserPrint:function(){this._message&&(window.document.body.removeChild(this._message),this._message=void 0),this.changeOpenState(!0)},advancedIsOpen:function(){return this.state.advancedIsOpen},toggleAdvancedOptions:function(e){this.setState(function(e){return{advancedIsOpen:!e.advancedIsOpen}})},updateForShortening:function(){var e=this;this.setState({shareUrl:""}),this.shouldShorten()?(this.setState({placeholder:"Shortening..."}),(0,i.buildShortShareLink)(this.props.terria).then(function(t){return e.setState({shareUrl:t})}).otherwise(function(){e.setUnshortenedUrl(),e.setState({errorMessage:"An error occurred while attempting to shorten the URL.  Please check your internet connection and try again."})})):this.setUnshortenedUrl()},setUnshortenedUrl:function(){this.setState({shareUrl:(0,i.buildShareLink)(this.props.terria)})},isUrlShortenable:function(){return(0,i.canShorten)(this.props.terria)},shouldShorten:function(){var e=this.props.terria.getLocalProperty("shortenShareUrls");return this.isUrlShortenable()&&(e||!(0,d.default)(e))},onShortenClicked:function(e){if(this.shouldShorten())this.props.terria.setLocalProperty("shortenShareUrls",!1);else{if(!this.isUrlShortenable())return;this.props.terria.setLocalProperty("shortenShareUrls",!0)}this.updateForShortening(),this.forceUpdate()},changeOpenState:function(e){this.setState({isOpen:e}),e&&this.updateForShortening()},print:function(){this.createPrintView(!0,!0)},showPrintView:function(){this.createPrintView(!1,!1)},createPrintView:function(e,t){var n=this;this.setState({creatingPrintView:!0});var r=void 0;e&&(r=document.createElement("iframe"),document.body.appendChild(r)),E.default.create({terria:this.props.terria,viewState:this.props.viewState,printWindow:r?r.contentWindow:void 0,readyCallback:function(i){t&&(0,S.default)(i).otherwise(function(e){n.props.terria.error.raiseEvent(e)}).always(function(){r&&document.body.removeChild(r),e&&n.setState({creatingPrintView:!1})})},closeCallback:function(t){e&&n.setState({creatingPrintView:!1})}}),e||this.setState({creatingPrintView:!1})},renderContent:function(){var e=this.state.shareUrl.length?'<iframe style="width: 720px; height: 600px; border: none;" src="'+this.state.shareUrl+'" allowFullScreen mozAllowFullScreen webkitAllowFullScreen></iframe>':"",t=O.default.createElement("input",{className:D.default.shareUrlfield,type:"text",value:this.state.shareUrl,placeholder:this.state.placeholder,readOnly:!0,onClick:function(e){return e.target.select()},id:"share-url"});return O.default.createElement("div",null,O.default.createElement("div",{className:D.default.clipboard},O.default.createElement(u.default,{source:t,id:"share-url"})),O.default.createElement("div",{className:p.default.section},O.default.createElement("div",null,"Print Map"),O.default.createElement("div",{className:D.default.explanation},"Open a printable version of this map."),O.default.createElement("div",null,O.default.createElement("button",{className:D.default.printButton,onClick:this.print,disabled:this.state.creatingPrintView},"Print"),O.default.createElement("button",{className:D.default.printButton,onClick:this.showPrintView,disabled:this.state.creatingPrintView},"Show Print View"),O.default.createElement("div",{className:D.default.printViewLoader},this.state.creatingPrintView&&O.default.createElement(v.default,{message:"Creating print view..."})))),O.default.createElement("div",{className:(0,a.default)(p.default.section,D.default.shortenUrl)},O.default.createElement("div",{className:D.default.btnWrapper},O.default.createElement("button",{type:"button",onClick:this.toggleAdvancedOptions,className:D.default.btnAdvanced},O.default.createElement("span",null,"Advanced options"),this.advancedIsOpen()?O.default.createElement(g.default,{glyph:g.default.GLYPHS.opened}):O.default.createElement(g.default,{glyph:g.default.GLYPHS.closed}))),this.advancedIsOpen()?[O.default.createElement("div",{className:p.default.section,key:"0"},O.default.createElement("p",{className:D.default.paragraph},"To embed, copy this code to embed this map into an HTML page:"),O.default.createElement("input",{className:D.default.field,type:"text",readOnly:!0,placeholder:this.state.placeholder,value:e,onClick:function(e){return e.target.select()}})),this.isUrlShortenable()?O.default.createElement("div",{className:(0,a.default)(p.default.section,D.default.shortenUrl),key:"1"},O.default.createElement("button",{onClick:this.onShortenClicked},this.shouldShorten()?O.default.createElement(g.default,{glyph:g.default.GLYPHS.checkboxOn}):O.default.createElement(g.default,{glyph:g.default.GLYPHS.checkboxOff}),"Shorten the share URL using a web service")):null]:null))},renderDownloadFormatButton:function(e){return O.default.createElement("button",{key:e.name,className:D.default.formatButton,onClick:this.download,disabled:this.state.creatingDownload},e.name)},render:function(){var e={btn:D.default.btnShare,outer:D.default.sharePanel,inner:D.default.dropdownInner,icon:"share"};return O.default.createElement("div",null,O.default.createElement(y.default,{theme:e,btnText:"Share",viewState:this.props.viewState,btnTitle:"Share your map with others",isOpen:this.state.isOpen,onOpenChanged:this.changeOpenState,smallScreen:this.props.viewState.useSmallScreenInterface},this.state.isOpen?this.renderContent():null))}});t.default=B},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=new C.default(e);return"http"!==t.protocol()&&"https"!==t.protocol()?e:t.absoluteTo(window.location.href).toString()}var a=n(28),s=r(a),u=n(0),l=r(u),c=n(13),h=r(c),d=n(113),f=r(d),p=n(11),m=r(p),g=n(32),_=r(g),v=n(4),A=r(v),y=n(8),b=r(y),w=n(5),x=r(w),E=n(33),C=r(E),S=n(1848),T=r(S),I=(0,b.default)({displayName:"Legend",mixins:[m.default],propTypes:{item:x.default.object},UNSAFE_componentWillMount:function(){this.legendsWithError={}},onImageError:function(e){this.legendsWithError[e.url]=!0},doesLegendHaveError:function(e){var t=this.legendsWithError[e.url];return(0,l.default)(t)||(this.legendsWithError[e.url]=!1,h.default.track(this.legendsWithError,[e.url])),this.legendsWithError[e.url]},renderLegend:function(e,t){var n=e.isImage(),r=!!e.safeSvgContent,a=e.safeSvgContent,u=a?a.replace(/NS\d+:href/gi,"xlink:href"):null,l={__html:u},c=o((0,_.default)(this.props.item,e.url));return n&&r?A.default.createElement("li",{key:t,onError:this.onImageError.bind(this,e),className:(0,s.default)(T.default.legendSvg,i({},T.default.legendImagehasError,this.doesLegendHaveError(e))),dangerouslySetInnerHTML:l}):n?A.default.createElement("li",{key:c,className:(0,s.default)(i({},T.default.legendImagehasError,this.doesLegendHaveError(e)))},A.default.createElement("a",{onError:this.onImageError.bind(this,e),href:c,className:T.default.imageAnchor,target:"_blank",rel:"noreferrer noopener"},A.default.createElement("img",{src:c}))):A.default.createElement("li",{key:c},A.default.createElement("a",{href:c,target:"_blank",rel:"noreferrer noopener"},"Open legend in a separate tab"))},render:function(){return A.default.createElement("ul",{className:T.default.legend},A.default.createElement("div",{className:T.default.legendInner},this.props.item.isLoading?A.default.createElement("li",{className:T.default.loader},A.default.createElement(f.default,{message:this.props.item.loadingMessage})):(this.props.item.legendUrls||[]).map(function(e,t){return this.renderLegend(e,t)},this)))}});e.exports=I},function(e,t){e.exports={toolsPanel:"tjs-tools-panel__toolsPanel",submit:"tjs-tools-panel__submit tjs-_buttons__btn tjs-_buttons__btn-primary",results:"tjs-tools-panel__results"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(11),a=r(o),s=n(4),u=r(s),l=n(8),c=r(l),h=n(5),d=r(h),f=n(717),p=r(f),m=n(418),g=r(m),_=n(28),v=r(_),A=n(30),y=r(A),b=n(1860),w=r(b),x=(0,c.default)({displayName:"LocationSearchResults",mixins:[a.default],propTypes:{viewState:d.default.object.isRequired,isWaitingForSearchToStart:d.default.bool,terria:d.default.object.isRequired,search:d.default.object.isRequired,onLocationClick:d.default.func.isRequired,theme:d.default.string},getInitialState:function(){return{isOpen:!0,isExpanded:!1}},getDefaultProps:function(){return{theme:"dark"}},toggleGroup:function(){this.setState({isOpen:!this.state.isOpen})},toggleExpand:function(){this.setState({isExpanded:!this.state.isExpanded})},renderResultsFooter:function(){return this.state.isExpanded?"View less "+this.props.search.name+" results":"View more "+this.props.search.name+" results"},render:function(){var e,t=this,n=this.props.search,r=n.searchResults.length>5?this.state.isExpanded?n.searchResults:n.searchResults.slice(0,5):n.searchResults;return u.default.createElement("div",{key:n.name,className:(0,v.default)(w.default.providerResult,(e={},i(e,w.default.isOpen,this.state.isOpen),i(e,w.default.dark,"dark"===this.props.theme),i(e,w.default.light,"light"===this.props.theme),e))},u.default.createElement("button",{onClick:this.toggleGroup,className:w.default.heading},u.default.createElement("span",null,n.name),u.default.createElement(y.default,{glyph:this.state.isOpen?y.default.GLYPHS.opened:y.default.GLYPHS.closed})),u.default.createElement(p.default,{searchProvider:n,isWaitingForSearchToStart:this.props.isWaitingForSearchToStart}),u.default.createElement("ul",{className:w.default.items},r.map(function(e,n){return u.default.createElement(g.default,{key:n,clickAction:t.props.onLocationClick.bind(null,e),name:e.name,icon:"location",theme:t.props.theme})}),n.searchResults.length>5&&u.default.createElement("button",{className:w.default.footer,onClick:this.toggleExpand},this.renderResultsFooter(),u.default.createElement(y.default,{glyph:this.state.isExpanded?y.default.GLYPHS.opened:y.default.GLYPHS.closed}))))}});e.exports=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(738),h=r(c),d=n(1862),f=r(d),p=n(11),m=r(p),g=n(1890),_=r(g);n(1891),n(1893);var v=(0,s.default)({displayName:"WorkbenchList",mixins:[m.default],propTypes:{terria:l.default.object.isRequired,viewState:l.default.object.isRequired},onSort:function(e,t,n){for(var r=this.props.terria.nowViewing.items.indexOf(t),i=n;r<i;)this.props.terria.nowViewing.lower(t),++r;for(;r>i;)this.props.terria.nowViewing.raise(t),--r},render:function(){return o.default.createElement("ul",{className:_.default.workbenchContent},o.default.createElement(h.default,{onSort:this.onSort,direction:"vertical",dynamic:!0},this.props.terria.nowViewing.items.map(function(e,t){return o.default.createElement(f.default,{item:e,sortData:e,key:e.uniqueId,viewState:this.props.viewState})},this)))}});e.exports=v},function(e,t,n){!function(t,r){e.exports=r(n(4),n(213))}(0,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(2),s=r(a),u=n(11),l=r(u),c=n(15),h=r(c),d=n(16),f=n(17),p=r(f),m="object"==typeof window?window.document:{},g=function(e){return e&&e.props&&d.isFunction(e.props.onSortableItemReadyToMove)},_=l.default({propTypes:{onSort:s.default.func,className:s.default.string,sortHandle:s.default.string,containment:s.default.bool,dynamic:s.default.bool,direction:s.default.string,children:s.default.arrayOf(s.default.node)},setArrays:function(e){var t=Array.isArray(e)?e:[e],n=t.filter(g);this.sortChildren=n,this._dimensionArr=n.map(function(){return{}}),this._orderArr=[];for(var r=0;r<this._dimensionArr.length;)this._orderArr.push(r++)},getInitialState:function(){return this.setArrays(this.props.children),{isDragging:!1,placeHolderIndex:null,left:null,top:null}},componentDidUpdate:function(){var e=h.default.findDOMNode(this),t=e.getBoundingClientRect(),n=m.documentElement&&m.documentElement.scrollTop||m.body.scrollTop,r=m.documentElement&&m.documentElement.scrollLeft||m.body.scrollLeft;this._top=t.top+n,this._left=t.left+r,this._bottom=this._top+t.height,this._right=this._left+t.width},componentWillReceiveProps:function(e){var t=this.props,n=t.children;t.dynamic&&e.children!==n&&this.setArrays(e.children)},componentWillUnmount:function(){this.unbindEvent()},bindEvent:function(){var e=this;this.__mouseMoveHandler=function(t){if((t.pageX||t.clientX)===e._prevX&&(t.pageY||t.clientY)===e._prevY||null===e._prevX&&null===e._prevY)return!1;e.handleMouseMove.call(e,t)},this.__mouseUpHandler=function(t){e.handleMouseUp.call(e,t)},this.__touchMoveHandler=function(t){t.preventDefault(),e.handleMouseMove.call(e,{target:t.target,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,pageX:t.touches[0].pageX,pageY:t.touches[0].pageY})},this.__touchEndOrCancelHandler=function(t){e.handleMouseUp.call(e,t)},d.on(m,"touchmove",this.__touchMoveHandler),d.on(m,"touchend",this.__touchEndOrCancelHandler),d.on(m,"touchcancel",this.__touchEndOrCancelHandler),d.on(m,"mousemove",this.__mouseMoveHandler),d.on(m,"mouseup",this.__mouseUpHandler)},unbindEvent:function(){d.off(m,"touchmove",this.__touchMoveHandler),d.off(m,"touchend",this.__touchEndOrCancelHandler),d.off(m,"touchcancel",this.__touchEndOrCancelHandler),d.off(m,"mousemove",this.__mouseMoveHandler),d.off(m,"mouseup",this.__mouseUpHandler),this.__mouseMoveHandler=null,this.__mouseUpHandler=null,this.__touchMoveHandler=null,this.__touchEndOrCancelHandler=null},handleMouseDown:function(e,t){this._draggingIndex=t,this._prevX=e.pageX||e.clientX,this._prevY=e.pageY||e.clientY,this._initOffset=e.offset,this._isReadyForDragging=!0,this._hasInitDragging=!1,this.bindEvent()},handleMouseMove:function(e){if(this._isMouseMoving=!0,!this._isReadyForDragging)return!1;if(this._hasInitDragging||(this._dimensionArr[this._draggingIndex].isPlaceHolder=!0,this._hasInitDragging=!0),this.props.containment){var t=e.pageX||e.clientX,n=e.pageY||e.clientY;if(t<this._left||t>this._right||n<this._top||n>this._bottom)return!1}var r=this.calculateNewOffset(e),i=this.calculateNewIndex(e);this._draggingIndex=i,this.setState({isDragging:!0,top:"horizontal"===this.props.direction?this._initOffset.top:r.top,left:"vertical"===this.props.direction?this._initOffset.left:r.left,placeHolderIndex:i}),this._prevX=e.pageX||e.clientX,this._prevY=e.pageY||e.clientY},handleMouseUp:function(){var e=this._isMouseMoving;this.unbindEvent();var t=this._draggingIndex;if(this._draggingIndex=null,this._isReadyForDragging=!1,this._isMouseMoving=!1,this._initOffset=null,this._prevX=null,this._prevY=null,this.state.isDragging&&(this._dimensionArr[this.state.placeHolderIndex].isPlaceHolder=!1,e&&this.setState({isDragging:!1,placeHolderIndex:null,left:null,top:null}),d.isFunction(this.props.onSort))){var n=this.getSortData();this.props.onSort(n,n[t],t)}},handleChildUpdate:function(e,t,n,r,i,o){d.assign(this._dimensionArr[o],{top:e.top,left:e.left,width:t,height:n,fullWidth:r,fullHeight:i})},getIndexByOffset:function(e,t){if(!e||!d.isNumeric(e.top)||!d.isNumeric(e.left))return 0;var n=this._dimensionArr,r=e.left,i=e.top,o=null!==this.state.placeHolderIndex?this.state.placeHolderIndex:this._draggingIndex,a=void 0;return n.every(function(e,o){var s=r-e.left,u=i-e.top;if(s<e.fullWidth&&u<e.fullHeight){if(s<e.fullWidth/2&&"left"===t)a=o;else if(s>e.fullWidth/2&&"right"===t)a=Math.min(o+1,n.length-1);else if(u<e.fullHeight/2&&"up"===t)a=o;else{if(!(u>e.fullHeight/2&&"down"===t))return!0;a=Math.min(o+1,n.length-1)}return!1}return!0}),void 0!==a?a:o},swapArrayItemPosition:function(e,t,n){if(!e||!d.isNumeric(t)||!d.isNumeric(n))return e;var r=e.splice(t,1)[0];return e.splice(n,0,r),e},calculateNewOffset:function(e){var t=this._prevX-(e.pageX||e.clientX),n=this._prevY-(e.pageY||e.clientY);return{left:(null!==this.state.left?this.state.left:this._initOffset.left)-t,top:(null!==this.state.top?this.state.top:this._initOffset.top)-n}},calculateNewIndex:function(e){var t=null!==this.state.placeHolderIndex?this.state.placeHolderIndex:this._draggingIndex,n=d.get(".ui-sortable-dragging")||d.closest(e.target||e.srcElement,".ui-sortable-item"),r=d.position(n),i=e.pageX||e.clientX,o=e.pageY||e.clientY,a=Math.abs(this._prevX-i),s=Math.abs(this._prevY-o),u=void 0;u=a>s?this._prevX>i?"left":"right":this._prevY>o?"up":"down";var l=this.getIndexByOffset(r,this.getPossibleDirection(u));return l!==t&&(this._dimensionArr=this.swapArrayItemPosition(this._dimensionArr,t,l),this._orderArr=this.swapArrayItemPosition(this._orderArr,t,l)),l},getSortData:function(){var e=this;return this._orderArr.map(function(t){var n=e.sortChildren[t];if(n)return n.props.sortData})},getPossibleDirection:function(e){return this._stack=this._stack||[],this._stack.push(e),this._stack.length>6&&this._stack.shift(),this._stack.length<6?e:d.findMostOften(this._stack)},renderItems:function(){var e=this,t=this._dimensionArr,n=this._orderArr,r=void 0,i=n.map(function(n,i){var a=e.sortChildren[n];if(a){i===e._draggingIndex&&e.state.isDragging&&(r=e.renderDraggingItem(a));var s=t[i].isPlaceHolder,u="ui-sortable-item\n                             "+(s&&"ui-sortable-placeholder")+"\n                             "+(e.state.isDragging&&s&&"visible"),l={sortableClassName:a.props.className+" "+u,sortableIndex:i,onSortableItemReadyToMove:s?void 0:function(t){e.handleMouseDown.call(e,t,i)},onSortableItemMount:e.handleChildUpdate,sortHandle:e.props.sortHandle};return void 0===a.key&&(l.key=i),o.default.cloneElement(a,l)}});return(Array.isArray(this.props.children)?this.props.children:[this.props.children]).map(function(e){return g(e)?i.shift():e}).concat([r])},renderDraggingItem:function(e){if(e){var t={top:this.state.top,left:this.state.left,width:this._dimensionArr[this._draggingIndex].width,height:this._dimensionArr[this._draggingIndex].height};return o.default.cloneElement(e,{sortableClassName:e.props.className+" ui-sortable-item ui-sortable-dragging",key:"_dragging",sortableStyle:t,isDragging:!0,sortHandle:this.props.sortHandle})}},render:function(){var e="ui-sortable "+(this.props.className||"");return o.default.createElement("div",{className:e},this.renderItems())}}),v=function(e){var t=e.className,n=e.style,r=e.onMouseDown,i=e.onTouchStart,a=e.children;return o.default.isValidElement(a)?o.default.cloneElement(a,{className:t,style:n,onMouseDown:r,onTouchStart:i}):o.default.createElement("div",{className:t,style:n,onMouseDown:r,onTouchStart:i,children:a})};_.SortableItemMixin=p.default(),_.sortable=p.default,_.SortableContainer=p.default(v),t.default=_,e.exports=t.default},function(t,n){t.exports=e},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r};e.exports=n(4)(i,!0)}else e.exports=n(10)()}).call(t,n(3))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,m=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,h,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var f,p=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(t){"use strict";var r=n(5),i=n(6),o=n(7),a=n(8),s=n(9);e.exports=function(e,n){function u(e){var t=e&&(E&&e[E]||e[C]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function h(e){function r(r,l,h,d,f,p,m){if(d=d||S,p=p||h,m!==a)if(n)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var g=d+":"+h;!s[g]&&u<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,d),s[g]=!0,u++)}return null==l[h]?r?new c(null===l[h]?"The "+f+" `"+p+"` is marked as required in `"+d+"`, but its value is `null`.":"The "+f+" `"+p+"` is marked as required in `"+d+"`, but its value is `undefined`."):null:e(l,h,d,f,p)}if("production"!==t.env.NODE_ENV)var s={},u=0;var l=r.bind(null,!1);return l.isRequired=r.bind(null,!0),l}function d(e){function t(t,n,r,i,o,a){var s=t[n];if(b(s)!==e)return new c("Invalid "+i+" `"+o+"` of type `"+w(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return h(t)}function f(e){function t(t,n,r,i,o){if("function"!=typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new c("Invalid "+i+" `"+o+"` of type `"+b(s)+"` supplied to `"+r+"`, expected an array.")}for(var u=0;u<s.length;u++){var l=e(s,u,r,i,o+"["+u+"]",a);if(l instanceof Error)return l}return null}return h(t)}function p(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||S;return new c("Invalid "+i+" `"+o+"` of type `"+x(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return h(t)}function m(e){function n(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;return new c("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?h(n):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function g(e){function t(t,n,r,i,o){if("function"!=typeof e)return new c("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=b(s);if("object"!==u)return new c("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var l in s)if(s.hasOwnProperty(l)){var h=e(s,l,r,i,o+"."+l,a);if(h instanceof Error)return h}return null}return h(t)}function _(e){function n(t,n,r,i,o){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,i,o,a))return null}return new c("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}return Array.isArray(e)?h(n):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull)}function v(e){function t(t,n,r,i,o){var s=t[n],u=b(s);if("object"!==u)return new c("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var h=e[l];if(h){var d=h(s,l,r,i,o+"."+l,a);if(d)return d}}return null}return h(t)}function A(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(A);if(null===t||e(t))return!0;var n=u(t);if(!n)return!1;var r,i=n.call(t);if(n!==t.entries){for(;!(r=i.next()).done;)if(!A(r.value))return!1}else for(;!(r=i.next()).done;){var o=r.value;if(o&&!A(o[1]))return!1}return!0;default:return!1}}function y(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function b(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":y(t,e)?"symbol":t}function w(e){var t=b(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function x(e){return e.constructor&&e.constructor.name?e.constructor.name:S}var E="function"==typeof Symbol&&Symbol.iterator,C="@@iterator",S="<<anonymous>>",T={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:function(){return h(r.thatReturnsNull)}(),arrayOf:f,element:function(){function t(t,n,r,i,o){var a=t[n];if(!e(a)){return new c("Invalid "+i+" `"+o+"` of type `"+b(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return h(t)}(),instanceOf:p,node:function(){function e(e,t,n,r,i){return A(e[t])?null:new c("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return h(e)}(),objectOf:g,oneOf:m,oneOfType:_,shape:v};return c.prototype=Error.prototype,T.checkPropTypes=s,T.PropTypes=T,T}}).call(t,n(3))},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){(function(t){"use strict";function n(e,t,n,i,o,a,s,u){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,u],h=0;l=new Error(t.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var r=function(e){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=n}).call(t,n(3))},function(e,t,n){(function(t){"use strict";var r=n(5),i=r;"production"!==t.env.NODE_ENV&&function(){var e=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};i=function(t,n){if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!t){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.apply(void 0,[n].concat(i))}}}(),e.exports=i}).call(t,n(3))},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){(function(t){"use strict";function r(e,n,r,u,l){if("production"!==t.env.NODE_ENV)for(var c in e)if(e.hasOwnProperty(c)){var h;try{i("function"==typeof e[c],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",u||"React class",r,c),h=e[c](n,c,u,r,null,a)}catch(e){h=e}if(o(!h||h instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",u||"React class",r,c,typeof h),h instanceof Error&&!(h.message in s)){s[h.message]=!0;var d=l?l():"";o(!1,"Failed %s type: %s%s",r,h.message,null!=d?d:"")}}}if("production"!==t.env.NODE_ENV)var i=n(6),o=n(7),a=n(8),s={};e.exports=r}).call(t,n(3))},function(e,t,n){"use strict";var r=n(5),i=n(6);e.exports=function(){function e(){i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";var r=n(1),i=n(12),o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},function(e,t,n){(function(t){"use strict";function r(e){return e}function i(e,n,i){function h(e,n,r){for(var i in n)n.hasOwnProperty(i)&&"production"!==t.env.NODE_ENV&&u("function"==typeof n[i],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e.displayName||"ReactClass",l[r],i)}function d(e,t){var n=w.hasOwnProperty(t)?w[t]:null;C.hasOwnProperty(t)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function f(e,r){if(r){s("function"!=typeof r,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!n(r),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=e.prototype,o=i.__reactAutoBindPairs;r.hasOwnProperty(c)&&x.mixins(e,r.mixins);for(var a in r)if(r.hasOwnProperty(a)&&a!==c){var l=r[a],h=i.hasOwnProperty(a);if(d(h,a),x.hasOwnProperty(a))x[a](e,l);else{var f=w.hasOwnProperty(a),p="function"==typeof l,m=p&&!f&&!h&&!1!==r.autobind;if(m)o.push(a,l),i[a]=l;else if(h){var v=w[a];s(f&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,a),"DEFINE_MANY_MERGED"===v?i[a]=g(i[a],l):"DEFINE_MANY"===v&&(i[a]=_(i[a],l))}else i[a]=l,"production"!==t.env.NODE_ENV&&"function"==typeof l&&r.displayName&&(i[a].displayName=r.displayName+"_"+a)}}}else if("production"!==t.env.NODE_ENV){var A=typeof r,y="object"===A&&null!==r;"production"!==t.env.NODE_ENV&&u(y,"%s: You're attempting to include a mixin that is either null or not an object. Check the mixins included by the component, as well as any mixins they include themselves. Expected object but got %s.",e.displayName||"ReactClass",null===r?null:A)}}function p(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in x;s(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var o=n in e;s(!o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}function m(e,t){s(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(s(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function g(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return m(i,n),m(i,r),i}}function _(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function v(e,n){var r=n.bind(e);if("production"!==t.env.NODE_ENV){r.__reactBoundContext=e,r.__reactBoundMethod=n,r.__reactBoundArguments=null;var i=e.constructor.displayName,o=r.bind;r.bind=function(a){for(var s=arguments.length,l=Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];if(a!==e&&null!==a)"production"!==t.env.NODE_ENV&&u(!1,"bind(): React component methods may only be bound to the component instance. See %s",i);else if(!l.length)return"production"!==t.env.NODE_ENV&&u(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",i),r;var h=o.apply(r,arguments);return h.__reactBoundContext=e,h.__reactBoundMethod=n,h.__reactBoundArguments=l,h}}return r}function A(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=v(e,i)}}function y(e){var n=r(function(e,r,o){"production"!==t.env.NODE_ENV&&"production"!==t.env.NODE_ENV&&u(this instanceof n,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindPairs.length&&A(this),this.props=e,this.context=r,this.refs=a,this.updater=o||i,this.state=null;var l=this.getInitialState?this.getInitialState():null;"production"!==t.env.NODE_ENV&&void 0===l&&this.getInitialState._isMockFunction&&(l=null),s("object"==typeof l&&!Array.isArray(l),"%s.getInitialState(): must return an object or null",n.displayName||"ReactCompositeComponent"),this.state=l});n.prototype=new S,n.prototype.constructor=n,n.prototype.__reactAutoBindPairs=[],b.forEach(f.bind(null,n)),f(n,E),f(n,e),n.getDefaultProps&&(n.defaultProps=n.getDefaultProps()),"production"!==t.env.NODE_ENV&&(n.getDefaultProps&&(n.getDefaultProps.isReactClassApproved={}),n.prototype.getInitialState&&(n.prototype.getInitialState.isReactClassApproved={})),s(n.prototype.render,"createClass(...): Class specification must implement a `render` method."),"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV&&u(!n.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",e.displayName||"A component"),"production"!==t.env.NODE_ENV&&u(!n.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component"));for(var o in w)n.prototype[o]||(n.prototype[o]=null);return n}var b=[],w={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},x={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)f(e,t[n])},childContextTypes:function(e,n){"production"!==t.env.NODE_ENV&&h(e,n,"childContext"),e.childContextTypes=o({},e.childContextTypes,n)},contextTypes:function(e,n){"production"!==t.env.NODE_ENV&&h(e,n,"context"),e.contextTypes=o({},e.contextTypes,n)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=g(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,n){"production"!==t.env.NODE_ENV&&h(e,n,"prop"),e.propTypes=o({},e.propTypes,n)},statics:function(e,t){p(e,t)},autobind:function(){}},E={componentDidMount:function(){this.__isMounted=!0},componentWillUnmount:function(){this.__isMounted=!1}},C={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return"production"!==t.env.NODE_ENV&&("production"!==t.env.NODE_ENV&&u(this.__didWarnIsMounted,"%s: isMounted is deprecated. Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks.",this.constructor&&this.constructor.displayName||this.name||"Component"),this.__didWarnIsMounted=!0),!!this.__isMounted}},S=function(){};return o(S.prototype,e.prototype,C),y}var o=n(13),a=n(14),s=n(6);if("production"!==t.env.NODE_ENV)var u=n(7);var l,c="mixins";l="production"!==t.env.NODE_ENV?{prop:"prop",context:"context",childContext:"child context"}:{},e.exports=i}).call(t,n(3))},function(e,t){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var a,s,u=n(e),l=1;l<arguments.length;l++){a=Object(arguments[l]);for(var c in a)i.call(a,c)&&(u[c]=a[c]);if(r){s=r(a);for(var h=0;h<s.length;h++)o.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},function(e,t,n){(function(t){"use strict";var n={};"production"!==t.env.NODE_ENV&&Object.freeze(n),e.exports=n}).call(t,n(3))},function(e,n){e.exports=t},function(e,t){"use strict";function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t||window.event)})}function r(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)}function i(e){return"function"==typeof e}function o(e){return!isNaN(parseFloat(e))&&isFinite(e)}function a(e){return e?{left:e.offsetLeft,top:e.offsetTop}:{left:0,top:0}}function s(e){return e.offsetWidth}function u(e){return e.offsetHeight}function l(e){var t=e.offsetWidth,n=e.currentStyle||getComputedStyle(e);return t+=(parseInt(n.marginLeft,10)||0)+(parseInt(n.marginRight,10)||0)}function c(e){var t=e.offsetHeight,n=e.currentStyle||getComputedStyle(e);return t+=(parseInt(n.marginLeft,10)||0)+(parseInt(n.marginRight,10)||0)}function h(e,t){return(" "+e+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function d(e,t){t=t.replace(/^[\b\.]/,"");return function(e,t){for(var n=!0;n;){var r=e,i=t;n=!1;var o="object"==typeof r.className?r.className.baseVal:r.className;if(o&&h(o,i))return r;if(null===r.parentNode)return null;e=r.parentNode,t=i,n=!0,o=void 0}}(e,t)}function f(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i=Object.keys(Object(r)),o=0,a=i.length;o<a;o++){var s=i[o],u=Object.getOwnPropertyDescriptor(r,s);void 0!==u&&u.enumerable&&(t[s]=r[s])}}return t}function p(e){return document.querySelector(e)}function m(e){var t={};return e.forEach(function(e){t[e]=t[e]?t[e]+1:1}),Object.keys(t).sort(function(e,n){return t[n]-t[e]})[0]}t.__esModule=!0,t.on=n,t.off=r,t.isFunction=i,t.isNumeric=o,t.position=a,t.width=s,t.height=u,t.outerWidthWithMargin=l,t.outerHeightWithMargin=c,t.closest=d,t.assign=f,t.get=p,t.findMostOften=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(!this.props.sortHandle||null!==v.closest(e.target||e.srcElement,this.props.sortHandle)){var t=v.closest(e.target||e.srcElement,".ui-sortable-item"),n={pageX:e.pageX||e.clientX||e.touches[0].pageX,pageY:e.pageY||e.clientY||e.touches[0].pageY,offset:v.position(t)};this.props.onSortableItemReadyToMove&&this.props.onSortableItemReadyToMove(n,this.props.sortableIndex)}}function u(){var e=_.default.findDOMNode(this);window.attachEvent&&!document.body.style["-ms-user-select"]&&v.on(e,"selectstart",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}),v.isFunction(this.props.onSortableItemMount)&&this.props.onSortableItemMount(v.position(e),v.width(e),v.height(e),v.outerWidthWithMargin(e),v.outerHeightWithMargin(e),this.props.sortableIndex)}function l(){var e=_.default.findDOMNode(this);v.isFunction(this.props.onSortableItemMount)&&this.props.onSortableItemMount(v.position(e),v.width(e),v.height(e),v.outerWidthWithMargin(e),v.outerHeightWithMargin(e),this.props.sortableIndex)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),f=r(d),p=n(2),m=r(p),g=n(15),_=r(g),v=n(16),A={sortableClassName:"",sortableStyle:{},onSortableItemMount:function(){},onSortableItemReadyToMove:function(){}};t.default=function(e){return e?function(t){function n(){o(this,n),t.apply(this,arguments)}return a(n,t),n.prototype.handleSortableItemReadyToMove=function(e){s.call(this,e)},n.prototype.componentDidMount=function(){u.call(this)},n.prototype.componentDidUpdate=function(){l.call(this)},n.prototype.render=function(){var t=this.props,n=t.sortableClassName,r=t.sortableStyle,o=(t.sortableIndex,t.sortHandle),a=(t.className,i(t,["sortableClassName","sortableStyle","sortableIndex","sortHandle","className"]));return f.default.createElement(e,c({},a,{sortable:!0,className:n,style:r,sortHandle:o,onMouseDown:this.handleSortableItemReadyToMove.bind(this),onTouchStart:this.handleSortableItemReadyToMove.bind(this)}))},h(n,null,[{key:"defaultProps",value:A,enumerable:!0},{key:"propTypes",value:{sortableClassName:m.default.string,sortableStyle:m.default.object,sortableIndex:m.default.number,sortHandle:m.default.string},enumerable:!0}]),n}(f.default.Component):{propTypes:{sortableClassName:m.default.string,sortableStyle:m.default.object,sortableIndex:m.default.number,sortHandle:m.default.string},getDefaultProps:function(){return A},handleSortableItemReadyToMove:s,componentDidMount:u,componentDidUpdate:l,renderWithSortable:function(e){return f.default.cloneElement(e,{className:this.props.sortableClassName,style:this.props.sortableStyle,sortHandle:this.props.sortHandle,onMouseDown:this.handleSortableItemReadyToMove,onTouchStart:this.handleSortableItemReadyToMove})}}},e.exports=t.default}])})},function(e,t){e.exports={root:"tjs-concept-viewer__root",section:"tjs-concept-viewer__section",inner:"tjs-concept-viewer__inner","children-list":"tjs-concept-viewer__children-list tjs-_base__list-reset tjs-_base__clearfix",childrenList:"tjs-concept-viewer__children-list tjs-_base__list-reset tjs-_base__clearfix",header:"tjs-concept-viewer__header",btnGroup:"tjs-concept-viewer__btnGroup",hasChildren:"tjs-concept-viewer__hasChildren",isSelectable:"tjs-concept-viewer__isSelectable",btnToggleOpen:"tjs-concept-viewer__btnToggleOpen tjs-_buttons__btn",btnToggleActive:"tjs-concept-viewer__btnToggleActive tjs-_buttons__btn",items:"tjs-concept-viewer__items tjs-_base__list-reset","is-loading":"tjs-concept-viewer__is-loading",isLoading:"tjs-concept-viewer__is-loading",unSelectable:"tjs-concept-viewer__unSelectable"}},function(e,t,n){"use strict";function r(){try{window.dispatchEvent(new Event("resize"))}catch(t){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}}e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(5),s=r(a),u=n(8),l=r(u),c=n(0),h=r(c),d=n(1906),f=r(d),p=(0,l.default)({displayName:"BadgeBar",propTypes:{label:s.default.string,badge:s.default.number,buttonCaption:s.default.string,children:s.default.node},render:function(){return o.default.createElement("ul",{className:f.default.header},o.default.createElement("li",null,o.default.createElement("label",{className:f.default.title},this.props.label)),(0,h.default)(this.props.badge)&&o.default.createElement("li",null,o.default.createElement("label",{className:f.default.labelBadge},"[ ",this.props.badge," ]")),o.default.createElement("li",null,this.props.children))}});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(11),a=r(o),s=n(740),u=r(s),l=n(1912),c=r(l),h=n(28),d=r(h),f=n(30),p=r(f),m=n(4),g=n(8),_=n(5),v=g({displayName:"FullScreenButton",mixins:[a.default],propTypes:{terria:_.object,viewState:_.object.isRequired,btnText:_.string,minified:_.bool,animationDuration:_.number},getInitialState:function(){return{isActive:!1}},toggleFullScreen:function(){this.props.viewState.isMapFullScreen=!this.props.viewState.isMapFullScreen,this.props.terria.currentViewer.notifyRepaintRequired(),setTimeout(function(){(0,u.default)()},this.props.animationDuration||1),this.props.terria.analytics.logEvent("toggle full screen",this.props.viewState.isMapFullScreen?"exit":"enter","fullScreen")},renderButtonText:function(){var e=this.props.btnText?this.props.btnText:null;return this.props.minified?this.props.viewState.isMapFullScreen?m.createElement(p.default,{glyph:p.default.GLYPHS.right}):m.createElement(p.default,{glyph:p.default.GLYPHS.left}):m.createElement("span",null,e,m.createElement(p.default,{glyph:p.default.GLYPHS.right}))},render:function(){var e,t=(0,d.default)(c.default.btn,(e={},i(e,c.default.isActive,this.props.viewState.isMapFullScreen),i(e,c.default.minified,this.props.minified),e));return m.createElement("div",{className:(0,d.default)(c.default.fullScreen,i({},c.default.minifiedFullscreenBtnWrapper,this.props.minified))},m.createElement("button",{type:"button",onClick:this.toggleFullScreen,className:t,title:this.props.viewState.isMapFullScreen?"Show Workbench":"Hide Workbench"},this.renderButtonText()))}});e.exports=v},function(e,t,n){"use strict";var r=n(1),i=function(e){this.image=e.image,this.catalogItem=e.catalogItem,this.contrastColor=r(e.contrastColor,"#ffffff")};e.exports=i},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({DONE:0,PENDING:1,FAILED:2})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(31),n(1),n(0),n(2)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(e,t,r){e=n(e,0),t=n(t,0),r=n(r,0),this.value=new Float32Array([e,t,r])}return i(o.prototype,{componentDatatype:{get:function(){return t.FLOAT}},componentsPerAttribute:{get:function(){return 3}},normalize:{get:function(){return!1}}}),o.fromCartesian3=function(e){return new o(e.x,e.y,e.z)},o.toValue=function(e,t){return r(t)||(t=new Float32Array([e.x,e.y,e.z])),t[0]=e.x,t[1]=e.y,t[2]=e.z,t},o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(293),n(38),n(103),n(17),n(10),n(24),n(12),n(150),n(1),n(0),n(2),n(21),n(3),n(65),n(128),n(62),n(9),n(118),n(16),n(775),n(29),n(60),n(47),n(7),n(958),n(159),n(152),n(46),n(442)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I){"use strict";function M(t){t=u(t,u.EMPTY_OBJECT);var n=t.appearance,r=t.geometryInstances;if(!l(n)&&l(r))for(var i=m(r)?r:[r],o=i.length,a=0;a<o;a++){var s=i[a].attributes;if(l(s)&&l(s.color)){n=new S({flat:!0});break}}this.appearance=n,this.geometryInstances=t.geometryInstances,this.show=u(t.show,!0),this.classificationType=u(t.classificationType,C.TERRAIN),this.debugShowBoundingVolume=u(t.debugShowBoundingVolume,!1),this.debugShowShadowVolume=u(t.debugShowShadowVolume,!1),this._boundingVolumes=[],this._boundingVolumes2D=[],this._ready=!1,this._readyPromise=x.defer(),this._primitive=void 0,this._maxHeight=void 0,this._minHeight=void 0,this._maxTerrainHeight=e._defaultMaxTerrainHeight,this._minTerrainHeight=e._defaultMinTerrainHeight,this._boundingSpheresKeys=[],this._boundingSpheres=[],this._useFragmentCulling=!1,this._zIndex=void 0;var c=this;this._classificationPrimitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:u(t.vertexCacheOptimize,!1),interleave:u(t.interleave,!1),releaseGeometryInstances:u(t.releaseGeometryInstances,!0),allowPicking:u(t.allowPicking,!0),asynchronous:u(t.asynchronous,!0),compressVertices:u(t.compressVertices,!0),_createBoundingVolumeFunction:void 0,_updateAndQueueCommandsFunction:void 0,_pickPrimitive:c,_extruded:!0,_uniformMap:k}}function O(e){return function(t,n){var r=n.maximumRadius,i=r/Math.cos(.5*t)-r;return e._maxHeight+i}}function P(e){return function(t,n){return e._minHeight}}function D(e,t){var n=e.mapProjection.ellipsoid;{if(l(t.attributes)&&l(t.attributes.position3DHigh)){for(var r=t.attributes.position3DHigh.values,o=t.attributes.position3DLow.values,a=r.length,s=Number.POSITIVE_INFINITY,u=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY,d=0;d<a;d+=3){var f=i.unpack(r,d,F),p=i.unpack(o,d,U),m=i.add(f,p,z),g=n.cartesianToCartographic(m,j),_=g.latitude,v=g.longitude;s=Math.min(s,_),u=Math.min(u,v),c=Math.max(c,_),h=Math.max(h,v)}var A=H;return A.north=c,A.south=s,A.east=h,A.west=u,A}if(l(t.rectangle))return t.rectangle}}function B(t,n,r){var i=e.getApproximateTerrainHeights(n,r);t._minTerrainHeight=i.minimumTerrainHeight,t._maxTerrainHeight=i.maximumTerrainHeight}function L(e,n,r){var o=n.mapProjection.ellipsoid,a=D(n,r);if(a.width<g.PI){var s=_.fromRectangle(a,e._maxHeight,e._minHeight,o);e._boundingVolumes.push(s)}else{var u=r.attributes.position3DHigh.values,l=r.attributes.position3DLow.values;e._boundingVolumes.push(t.fromEncodedCartesianVertices(u,l))}if(!n.scene3DOnly){var c=n.mapProjection,h=t.fromRectangleWithHeights2D(a,c,e._maxHeight,e._minHeight);i.fromElements(h.center.z,h.center.x,h.center.y,h.center),e._boundingVolumes2D.push(h)}}function N(e,t){return Math.floor(e%t/3)}function R(e,t,n,r,i,o,a,s){var u;u=t.mode===T.SCENE3D?e._boundingVolumes:e._boundingVolumes2D;var l;switch(e.classificationType){case C.TERRAIN:l=w.TERRAIN_CLASSIFICATION;break;case C.CESIUM_3D_TILE:l=w.CESIUM_3D_TILE_CLASSIFICATION;break;default:l=w.CLASSIFICATION}var c=t.commandList,h=t.passes,d=e._primitive;if(h.render){var f,p,m=n.length;for(f=0;f<m;++f)p=n[f],t.mode!==T.SCENE3D&&p.shaderProgram===d._spColor&&d._needs2DShader&&(p=p.derivedCommands.appearance2D),p.owner=e,p.modelMatrix=i,p.boundingVolume=u[N(f,m)],p.cull=o,p.debugShowBoundingVolume=a,p.pass=l,c.push(p);if(t.invertClassification){var g=d._commandsIgnoreShow,_=g.length;for(f=0;f<_;++f){var v=Math.floor(f/2);p=g[f],p.modelMatrix=i,p.boundingVolume=u[v],p.cull=o,p.debugShowBoundingVolume=a,c.push(p)}}}if(h.pick){var A,y=r.length;e._useFragmentCulling||(d=e._primitive,A=d._primitive._pickOffsets);for(var b=0;b<y;++b){var x=r[b];t.mode!==T.SCENE3D&&x.shaderProgram===d._spPick&&d._needs2DShader&&(x=x.derivedCommands.pick2D);var E=u[N(b,y)];if(!e._useFragmentCulling){E=u[A[N(b,y)].index]}x.owner=e,x.modelMatrix=i,x.boundingVolume=E,x.cull=o,x.pass=l,c.push(x)}}}var k={u_globeMinimumAltitude:function(){return 55e3}};c(M.prototype,{vertexCacheOptimize:{get:function(){return this._classificationPrimitiveOptions.vertexCacheOptimize}},interleave:{get:function(){return this._classificationPrimitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._classificationPrimitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._classificationPrimitiveOptions.allowPicking}},asynchronous:{get:function(){return this._classificationPrimitiveOptions.asynchronous}},compressVertices:{get:function(){return this._classificationPrimitiveOptions.compressVertices}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}}}),M.isSupported=E.isSupported;var F=new i,U=new i,z=new i,j=new o,H=new v;return M.initializeTerrainHeights=function(){return e.initialize()},M.prototype.update=function(t){if(l(this._primitive)||l(this.geometryInstances)){if(!e.initialized)return void M.initializeTerrainHeights();var n=this,r=this._classificationPrimitiveOptions;if(!l(this._primitive)){var i,o,a,s,u,c=t.mapProjection.ellipsoid,h=m(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],d=h.length,f=new Array(d);for(s=0;s<d;++s){i=h[s],o=i.geometry;var g=D(t,o);l(u)?l(g)&&v.union(u,g,u):u=v.clone(g);var _=i.id;if(l(_)&&l(g)){var A=e.getInstanceBoundingSphere(g,c);this._boundingSpheresKeys.push(_),this._boundingSpheres.push(A)}a=o.constructor,!l(a)||l(a.createShadowVolume)}B(this,u,c);var y=t.terrainExaggeration;this._minHeight=this._minTerrainHeight*y,this._maxHeight=this._maxTerrainHeight*y;var b=M._supportsMaterials(t.context)&&this.classificationType===C.TERRAIN;if(this._useFragmentCulling=b,b){var w,x=!0;for(s=0;s<d;++s)if(i=h[s],o=i.geometry,u=D(t,o),I.shouldUseSphericalCoordinates(u)){x=!1;break}for(s=0;s<d;++s){i=h[s],o=i.geometry,a=o.constructor;var S=D(t,o),T=o.textureCoordinateRotationPoints;w=x?I.getPlanarTextureCoordinateAttributes(S,T,c,t.mapProjection,this._maxHeight):I.getSphericalExtentGeometryInstanceAttributes(S,T,c,t.mapProjection);var N=i.attributes;for(var k in N)N.hasOwnProperty(k)&&(w[k]=N[k]);f[s]=new p({geometry:a.createShadowVolume(o,P(this),O(this)),attributes:w,id:i.id})}}else for(s=0;s<d;++s)i=h[s],o=i.geometry,a=o.constructor,f[s]=new p({geometry:a.createShadowVolume(o,P(this),O(this)),attributes:i.attributes,id:i.id});r.geometryInstances=f,r.appearance=this.appearance,r._createBoundingVolumeFunction=function(e,t){L(n,e,t)},r._updateAndQueueCommandsFunction=function(e,t,r,i,o,a,s,u){R(n,t,r,i,o,a,s,u)},this._primitive=new E(r),this._primitive.readyPromise.then(function(e){n._ready=!0,n.releaseGeometryInstances&&(n.geometryInstances=void 0);var t=e._error;l(t)?n._readyPromise.reject(t):n._readyPromise.resolve(n)})}this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowShadowVolume=this.debugShowShadowVolume,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(t)}},M.prototype.getBoundingSphere=function(e){var t=this._boundingSpheresKeys.indexOf(e);if(-1!==t)return this._boundingSpheres[t]},M.prototype.getGeometryInstanceAttributes=function(e){return this._primitive.getGeometryInstanceAttributes(e)},M.prototype.isDestroyed=function(){return!1},M.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),h(this)},M._supportsMaterials=function(e){return e.depthTexture},M.supportsMaterials=function(e){return M._supportsMaterials(e.frameState.context)},M}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(2),n(3),n(9),n(437)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e){e=t(e,t.EMPTY_OBJECT),this._offCenterFrustum=new a,this.fov=e.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=e.aspectRatio,this._aspectRatio=void 0,this.near=t(e.near,1),this._near=this.near,this.far=t(e.far,5e8),this._far=this.far,this.xOffset=t(e.xOffset,0),this._xOffset=this.xOffset,this.yOffset=t(e.yOffset,0),this._yOffset=this.yOffset}function u(e){var t=e._offCenterFrustum;e.fov===e._fov&&e.aspectRatio===e._aspectRatio&&e.near===e._near&&e.far===e._far&&e.xOffset===e._xOffset&&e.yOffset===e._yOffset||(e._aspectRatio=e.aspectRatio,e._fov=e.fov,e._fovy=e.aspectRatio<=1?e.fov:2*Math.atan(Math.tan(.5*e.fov)/e.aspectRatio),e._near=e.near,e._far=e.far,e._sseDenominator=2*Math.tan(.5*e._fovy),e._xOffset=e.xOffset,e._yOffset=e.yOffset,t.top=e.near*Math.tan(.5*e._fovy),t.bottom=-t.top,t.right=e.aspectRatio*t.top,t.left=-t.right,t.near=e.near,t.far=e.far,t.right+=e.xOffset,t.left+=e.xOffset,t.top+=e.yOffset,t.bottom+=e.yOffset)}return s.packedLength=6,s.pack=function(e,n,r){return r=t(r,0),n[r++]=e.fov,n[r++]=e.aspectRatio,n[r++]=e.near,n[r++]=e.far,n[r++]=e.xOffset,n[r]=e.yOffset,n},s.unpack=function(e,r,i){return r=t(r,0),n(i)||(i=new s),i.fov=e[r++],i.aspectRatio=e[r++],i.near=e[r++],i.far=e[r++],i.xOffset=e[r++],i.yOffset=e[r],i},r(s.prototype,{projectionMatrix:{get:function(){return u(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return u(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return u(this),this._fovy}},sseDenominator:{get:function(){return u(this),this._sseDenominator}}}),s.prototype.computeCullingVolume=function(e,t,n){return u(this),this._offCenterFrustum.computeCullingVolume(e,t,n)},s.prototype.getPixelDimensions=function(e,t,n,r){return u(this),this._offCenterFrustum.getPixelDimensions(e,t,n,r)},s.prototype.clone=function(e){return n(e)||(e=new s),e.aspectRatio=this.aspectRatio,e.fov=this.fov,e.near=this.near,e.far=this.far,e._aspectRatio=void 0,e._fov=void 0,e._near=void 0,e._far=void 0,this._offCenterFrustum.clone(e._offCenterFrustum),e},s.prototype.equals=function(e){return!!(n(e)&&e instanceof s)&&(u(this),u(e),this.fov===e.fov&&this.aspectRatio===e.aspectRatio&&this._offCenterFrustum.equals(e._offCenterFrustum))},s.prototype.equalsEpsilon=function(e,t,r){return!!(n(e)&&e instanceof s)&&(u(this),u(e),o.equalsEpsilon(this.fov,e.fov,t,r)&&o.equalsEpsilon(this.aspectRatio,e.aspectRatio,t,r)&&this._offCenterFrustum.equalsEpsilon(e._offCenterFrustum,t,r))},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(24),n(1),n(0),n(3),n(23),n(225),n(157),n(62),n(9),n(20),n(79)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h){"use strict";function d(e,t,n){var r=E;r.length=e;var i;if(t===n){for(i=0;i<e;i++)r[i]=t;return r}var o=n-t,a=o/e;for(i=0;i<e;i++){var s=t+i*a;r[i]=s}return r}function f(t,n,r,i,o,a,s,u){var l=i.scaleToGeodeticSurface(t,I),c=i.scaleToGeodeticSurface(n,M),h=p.numberOfPoints(t,n,r),f=i.cartesianToCartographic(l,C),m=i.cartesianToCartographic(c,S),g=d(h,o,a);O.setEndPoints(f,m);var _=O.surfaceDistance/h,v=u;f.height=o;var A=i.cartographicToCartesian(f,T);e.pack(A,s,v),v+=3;for(var y=1;y<h;y++){var b=O.interpolateUsingSurfaceDistance(y*_,S);b.height=g[y],A=i.cartographicToCartesian(b,T),e.pack(A,s,v),v+=3}return v}var p={};p.numberOfPoints=function(t,n,r){var i=e.distance(t,n);return Math.ceil(i/r)};var m=new t;p.extractHeights=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<n;i++){var o=e[i];r[i]=t.cartesianToCartographic(o,m).height}return r};var g=new c,_=new e,v=new e,A=new h(e.UNIT_X,0),y=new e,b=new h(e.UNIT_X,0),w=new e,x=new e,E=[],C=new t,S=new t,T=new e,I=new e,M=new e,O=new a;return p.wrapLongitude=function(t,i){var o=[],a=[];if(r(t)&&t.length>0){i=n(i,c.IDENTITY);var u=c.inverseTransformation(i,g),l=c.multiplyByPoint(u,e.ZERO,_),d=e.normalize(c.multiplyByPointAsVector(u,e.UNIT_Y,v),v),f=h.fromPointNormal(l,d,A),p=e.normalize(c.multiplyByPointAsVector(u,e.UNIT_X,y),y),m=h.fromPointNormal(l,p,b),E=1;o.push(e.clone(t[0]));for(var C=o[0],S=t.length,T=1;T<S;++T){var I=t[T];if(h.getPointDistance(m,C)<0||h.getPointDistance(m,I)<0){var M=s.lineSegmentPlane(C,I,f,w);if(r(M)){var O=e.multiplyByScalar(d,5e-9,x);h.getPointDistance(f,C)<0&&e.negate(O,O),o.push(e.add(M,O,new e)),a.push(E+1),e.negate(O,O),o.push(e.add(M,O,new e)),E=1}}o.push(e.clone(t[T])),E++,C=I}a.push(E)}return{positions:o,lengths:a}},p.generateArc=function(t){r(t)||(t={});var i=t.positions,a=i.length,s=n(t.ellipsoid,o.WGS84),c=n(t.height,0),h=u(c);if(a<1)return[];if(1===a){var d=s.scaleToGeodeticSurface(i[0],I);if(0!==(c=h?c[0]:c)){var m=s.geodeticSurfaceNormal(d,T);e.multiplyByScalar(m,c,m),e.add(d,m,d)}return[d.x,d.y,d.z]}var g=t.minDistance;if(!r(g)){var _=n(t.granularity,l.RADIANS_PER_DEGREE);g=l.chordLength(_,s.maximumRadius)}var v,A=0;for(v=0;v<a-1;v++)A+=p.numberOfPoints(i[v],i[v+1],g);var y=3*(A+1),b=new Array(y),w=0;for(v=0;v<a-1;v++){w=f(i[v],i[v+1],g,s,h?c[v]:c,h?c[v+1]:c,b,w)}E.length=0;var x=i[a-1],S=s.cartesianToCartographic(x,C);S.height=h?c[a-1]:c;var M=s.cartographicToCartesian(S,T);return e.pack(M,b,y-3),b},p.generateCartesianArc=function(t){for(var n=p.generateArc(t),r=n.length/3,i=new Array(r),o=0;o<r;o++)i[o]=e.unpack(n,3*o);return i},p}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(2),n(21),n(3),n(9),n(69),n(61),n(1089),n(328),n(91),n(114),n(116),n(102)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p){"use strict";function m(e){function r(e,t,n,r){var i=t.arrayBufferView;i?(v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!1),r&&(i=s.flipY(i,f,p,c,c)),v.texImage2D(e,0,f,c,c,0,f,p,i)):(v.pixelStorei(v.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,r),v.texImage2D(e,0,f,f,p,t))}e=t(e,t.EMPTY_OBJECT);var i,o=e.context,a=e.source;if(n(a)){var u=[a.positiveX,a.negativeX,a.positiveY,a.negativeY,a.positiveZ,a.negativeZ];i=u[0].width,u[0].height}else i=e.width,e.height;var c=i,f=t(e.pixelFormat,s.RGBA),p=t(e.pixelDatatype,h.UNSIGNED_BYTE),m=6*s.textureSizeInBytes(f,p,c,c),g=e.preMultiplyAlpha||f===s.RGB||f===s.LUMINANCE,_=t(e.flipY,!0),v=o._gl,A=v.TEXTURE_CUBE_MAP,y=v.createTexture();v.activeTexture(v.TEXTURE0),v.bindTexture(A,y),n(a)?(r(v.TEXTURE_CUBE_MAP_POSITIVE_X,a.positiveX,g,_),r(v.TEXTURE_CUBE_MAP_NEGATIVE_X,a.negativeX,g,_),r(v.TEXTURE_CUBE_MAP_POSITIVE_Y,a.positiveY,g,_),r(v.TEXTURE_CUBE_MAP_NEGATIVE_Y,a.negativeY,g,_),r(v.TEXTURE_CUBE_MAP_POSITIVE_Z,a.positiveZ,g,_),r(v.TEXTURE_CUBE_MAP_NEGATIVE_Z,a.negativeZ,g,_)):(v.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X,0,f,c,c,0,f,p,null),v.texImage2D(v.TEXTURE_CUBE_MAP_NEGATIVE_X,0,f,c,c,0,f,p,null),v.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_Y,0,f,c,c,0,f,p,null),v.texImage2D(v.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,f,c,c,0,f,p,null),v.texImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_Z,0,f,c,c,0,f,p,null),v.texImage2D(v.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,f,c,c,0,f,p,null)),v.bindTexture(A,null),this._context=o,this._textureFilterAnisotropic=o._textureFilterAnisotropic,this._textureTarget=A,this._texture=y,this._pixelFormat=f,this._pixelDatatype=p,this._size=c,this._hasMipmap=!1,this._sizeInBytes=m,this._preMultiplyAlpha=g,this._flipY=_,this._sampler=void 0;var b=n(a);this._positiveX=new l(v,y,A,v.TEXTURE_CUBE_MAP_POSITIVE_X,f,p,c,g,_,b),this._negativeX=new l(v,y,A,v.TEXTURE_CUBE_MAP_NEGATIVE_X,f,p,c,g,_,b),this._positiveY=new l(v,y,A,v.TEXTURE_CUBE_MAP_POSITIVE_Y,f,p,c,g,_,b),this._negativeY=new l(v,y,A,v.TEXTURE_CUBE_MAP_NEGATIVE_Y,f,p,c,g,_,b),this._positiveZ=new l(v,y,A,v.TEXTURE_CUBE_MAP_POSITIVE_Z,f,p,c,g,_,b),this._negativeZ=new l(v,y,A,v.TEXTURE_CUBE_MAP_NEGATIVE_Z,f,p,c,g,_,b),this.sampler=n(e.sampler)?e.sampler:new d}return r(m.prototype,{positiveX:{get:function(){return this._positiveX}},negativeX:{get:function(){return this._negativeX}},positiveY:{get:function(){return this._positiveY}},negativeY:{get:function(){return this._negativeY}},positiveZ:{get:function(){return this._positiveZ}},negativeZ:{get:function(){return this._negativeZ}},sampler:{get:function(){return this._sampler},set:function(e){var t=e.minificationFilter,r=e.magnificationFilter,i=t===p.NEAREST_MIPMAP_NEAREST||t===p.NEAREST_MIPMAP_LINEAR||t===p.LINEAR_MIPMAP_NEAREST||t===p.LINEAR_MIPMAP_LINEAR,o=this._context,a=this._pixelDatatype;(a===h.FLOAT&&!o.textureFloatLinear||a===h.HALF_FLOAT&&!o.textureHalfFloatLinear)&&(t=i?p.NEAREST_MIPMAP_NEAREST:p.NEAREST,r=f.NEAREST);var s=o._gl,u=this._textureTarget;s.activeTexture(s.TEXTURE0),s.bindTexture(u,this._texture),s.texParameteri(u,s.TEXTURE_MIN_FILTER,t),s.texParameteri(u,s.TEXTURE_MAG_FILTER,r),s.texParameteri(u,s.TEXTURE_WRAP_S,e.wrapS),s.texParameteri(u,s.TEXTURE_WRAP_T,e.wrapT),n(this._textureFilterAnisotropic)&&s.texParameteri(u,this._textureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,e.maximumAnisotropy),s.bindTexture(u,null),this._sampler=e}},pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},width:{get:function(){return this._size}},height:{get:function(){return this._size}},sizeInBytes:{get:function(){return this._hasMipmap?Math.floor(4*this._sizeInBytes/3):this._sizeInBytes}},preMultiplyAlpha:{get:function(){return this._preMultiplyAlpha}},flipY:{get:function(){return this._flipY}},_target:{get:function(){return this._textureTarget}}}),m.prototype.generateMipmap=function(e){e=t(e,c.DONT_CARE),this._hasMipmap=!0;var n=this._context._gl,r=this._textureTarget;n.hint(n.GENERATE_MIPMAP_HINT,e),n.activeTexture(n.TEXTURE0),n.bindTexture(r,this._texture),n.generateMipmap(r),n.bindTexture(r,null)},m.prototype.isDestroyed=function(){return!1},m.prototype.destroy=function(){return this._context._gl.deleteTexture(this._texture),this._positiveX=i(this._positiveX),this._negativeX=i(this._negativeX),this._positiveY=i(this._positiveY),this._negativeY=i(this._negativeY),this._positiveZ=i(this._positiveZ),this._negativeZ=i(this._negativeZ),i(this)},m}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(292),n(17),n(10),n(31),n(1),n(0),n(23),n(76),n(90),n(129),n(290),n(49),n(9),n(40),n(291),n(54),n(59),n(450),n(155)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v){"use strict";function A(e,t,r,i){return n.subtract(t,e,b),n.multiplyByScalar(b,r/i,b),n.add(e,b,b),[b.x,b.y,b.z]}var y={};y.computeHierarchyPackedLength=function(e){for(var t=0,r=[e];r.length>0;){var i=r.pop();if(o(i)){t+=2;var a=i.positions,s=i.holes;if(o(a)&&(t+=a.length*n.packedLength),o(s))for(var u=s.length,l=0;l<u;++l)r.push(s[l])}}return t},y.packPolygonHierarchy=function(e,t,r){for(var i=[e];i.length>0;){var a=i.pop();if(o(a)){var s=a.positions,u=a.holes;if(t[r++]=o(s)?s.length:0,t[r++]=o(u)?u.length:0,o(s))for(var l=s.length,c=0;c<l;++c,r+=3)n.pack(s[c],t,r);if(o(u))for(var h=u.length,d=0;d<h;++d)i.push(u[d])}}return r},y.unpackPolygonHierarchy=function(e,t){for(var r=e[t++],i=e[t++],o=new Array(r),a=i>0?new Array(i):void 0,s=0;s<r;++s,t+=n.packedLength)o[s]=n.unpack(e,t);for(var u=0;u<i;++u)a[u]=y.unpackPolygonHierarchy(e,t),t=a[u].startingIndex,delete a[u].startingIndex;return{positions:o,holes:a,startingIndex:t}};var b=new n;y.subdivideLineCount=function(e,t,r){var i=n.distance(e,t),o=i/r,a=Math.max(0,Math.ceil(Math.log(o)/Math.log(2)));return Math.pow(2,a)},y.subdivideLine=function(e,t,r,i){var a=y.subdivideLineCount(e,t,r),s=n.distance(e,t),u=s/a;o(i)||(i=[]);var l=i;l.length=3*a;for(var c=0,h=0;h<a;h++){var d=A(e,t,h*u,s);l[c++]=d[0],l[c++]=d[1],l[c++]=d[2]}return l};var w=new n,x=new n,E=new n,C=new n;y.scaleToGeodeticHeightExtruded=function(e,t,r,s,u){s=i(s,a.WGS84);var l=w,c=x,h=E,d=C;if(o(e)&&o(e.attributes)&&o(e.attributes.position))for(var f=e.attributes.position.values,p=f.length/2,m=0;m<p;m+=3)n.fromArray(f,m,h),s.geodeticSurfaceNormal(h,l),d=s.scaleToGeodeticSurface(h,d),c=n.multiplyByScalar(l,r,c),c=n.add(d,c,c),f[m+p]=c.x,f[m+1+p]=c.y,f[m+2+p]=c.z,u&&(d=n.clone(h,d)),c=n.multiplyByScalar(l,t,c),c=n.add(d,c,c),f[m]=c.x,f[m+1]=c.y,f[m+2]=c.z;return e},y.polygonOutlinesFromHierarchy=function(t,r,i){var a=[],s=new _;s.enqueue(t);for(var u,l,c;0!==s.length;){var h=s.dequeue(),d=h.positions;if(r)for(c=d.length,u=0;u<c;u++)i.scaleToGeodeticSurface(d[u],d[u]);if(d=e(d,n.equalsEpsilon,!0),!(d.length<3)){var f=h.holes?h.holes.length:0;for(u=0;u<f;u++){var p=h.holes[u],m=p.positions;if(r)for(c=m.length,l=0;l<c;++l)i.scaleToGeodeticSurface(m[l],m[l]);if(m=e(m,n.equalsEpsilon,!0),!(m.length<3)){a.push(m);var g=0;for(o(p.holes)&&(g=p.holes.length),l=0;l<g;l++)s.enqueue(p.holes[l])}}a.push(d)}}return a},y.polygonsFromHierarchy=function(t,r,i,a){var s=[],u=[],l=new _;for(l.enqueue(t);0!==l.length;){var c,h,d=l.dequeue(),f=d.positions,m=d.holes;if(i)for(h=f.length,c=0;c<h;c++)a.scaleToGeodeticSurface(f[c],f[c]);if(f=e(f,n.equalsEpsilon,!0),!(f.length<3)){var g=r(f);if(o(g)){var A=[],y=p.computeWindingOrder2D(g);y===v.CLOCKWISE&&(g.reverse(),f=f.slice().reverse());var b,w=f.slice(),x=o(m)?m.length:0,E=[];for(c=0;c<x;c++){var C=m[c],S=C.positions;if(i)for(h=S.length,b=0;b<h;++b)a.scaleToGeodeticSurface(S[b],S[b]);if(S=e(S,n.equalsEpsilon,!0),!(S.length<3)){var T=r(S);if(o(T)){y=p.computeWindingOrder2D(T),y===v.CLOCKWISE&&(T.reverse(),S=S.slice().reverse()),E.push(S),A.push(w.length),w=w.concat(S),g=g.concat(T);var I=0;for(o(C.holes)&&(I=C.holes.length),b=0;b<I;b++)l.enqueue(C.holes[b])}}}s.push({outerRing:f,holes:E}),u.push({positions:w,positions2D:g,holes:A})}}}return{hierarchy:s,polygons:u}};var S=new t,T=new n,I=new g,M=new f;y.computeBoundingRectangle=function(e,t,r,i,a){for(var s=g.fromAxisAngle(e,i,I),u=f.fromQuaternion(s,M),l=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,p=r.length,m=0;m<p;++m){var _=n.clone(r[m],T);f.multiplyByVector(u,_,_);var v=t(_,S);o(v)&&(l=Math.min(l,v.x),c=Math.max(c,v.x),h=Math.min(h,v.y),d=Math.max(d,v.y))}return a.x=l,a.y=h,a.width=c-l,a.height=d-h,a},y.createGeometryFromPositions=function(e,t,n,i,o){var a=p.triangulate(t.positions2D,t.holes);a.length<3&&(a=[0,1,2]);var l=t.positions;if(i){for(var h=l.length,d=new Array(3*h),f=0,g=0;g<h;g++){var _=l[g];d[f++]=_.x,d[f++]=_.y,d[f++]=_.z}var v=new s({attributes:{position:new u({componentDatatype:r.DOUBLE,componentsPerAttribute:3,values:d})},indices:a,primitiveType:m.TRIANGLES});return o.normal?c.computeNormal(v):v}return p.computeSubdivision(e,l,a,n)};var O=[],P=new n,D=new n;return y.computeWallGeometry=function(e,t,i,o){var a,c,f,p,g,_=e.length,v=0;if(o)for(c=3*_*2,a=new Array(2*c),f=0;f<_;f++)p=e[f],g=e[(f+1)%_],a[v]=a[v+c]=p.x,++v,a[v]=a[v+c]=p.y,++v,a[v]=a[v+c]=p.z,++v,a[v]=a[v+c]=g.x,++v,a[v]=a[v+c]=g.y,++v,a[v]=a[v+c]=g.z,++v;else{var A=d.chordLength(i,t.maximumRadius),b=0;for(f=0;f<_;f++)b+=y.subdivideLineCount(e[f],e[(f+1)%_],A);for(c=3*(b+_),a=new Array(2*c),f=0;f<_;f++){p=e[f],g=e[(f+1)%_];for(var w=y.subdivideLine(p,g,A,O),x=w.length,E=0;E<x;++E,++v)a[v]=w[E],a[v+c]=w[E];a[v]=g.x,a[v+c]=g.x,++v,a[v]=g.y,a[v+c]=g.y,++v,a[v]=g.z,a[v+c]=g.z,++v}}_=a.length;var C=h.createTypedArray(_/3,_-6*e.length),S=0;for(_/=6,f=0;f<_;f++){var T=f,I=T+1,M=T+_,B=M+1;p=n.fromArray(a,3*T,P),g=n.fromArray(a,3*I,D),n.equalsEpsilon(p,g,d.EPSILON14)||(C[S++]=T,C[S++]=M,C[S++]=I,C[S++]=I,C[S++]=M,C[S++]=B)}return new s({attributes:new l({position:new u({componentDatatype:r.DOUBLE,componentsPerAttribute:3,values:a})}),indices:C,primitiveType:m.TRIANGLES})},y}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(1),n(0),n(2),n(3),n(15),n(216),n(326)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(n,r){this._definitionChanged=new o,this._value=e.clone(n),this._referenceFrame=t(r,a.FIXED)}return r(u.prototype,{isConstant:{get:function(){return!n(this._value)||this._referenceFrame===a.FIXED}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),u.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,a.FIXED,t)},u.prototype.setValue=function(t,r){var i=!1;e.equals(this._value,t)||(i=!0,this._value=e.clone(t)),n(r)&&this._referenceFrame!==r&&(i=!0,this._referenceFrame=r),i&&this._definitionChanged.raiseEvent(this)},u.prototype.getValueInReferenceFrame=function(e,t,n){return s.convertToReferenceFrame(e,this._value,this._referenceFrame,t,n)},u.prototype.equals=function(t){return this===t||t instanceof u&&e.equals(this._value,t._value)&&this._referenceFrame===t._referenceFrame},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(293),n(31),n(1),n(0),n(2),n(21),n(3),n(128),n(531),n(778),n(62),n(1084),n(1085),n(1086),n(1083),n(60),n(47),n(68),n(77),n(52),n(7),n(70),n(220),n(753),n(754),n(183),n(46)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S){"use strict";function T(e){e=n(e,n.EMPTY_OBJECT),this.geometryInstances=e.geometryInstances,this._hasPerInstanceColors=!0;var t=e.appearance;r(t)||(t=new E),this.appearance=t,this.show=n(e.show,!0),this.debugShowBoundingVolume=n(e.debugShowBoundingVolume,!1),this._debugShowShadowVolume=n(e.debugShowShadowVolume,!1),this._primitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:!1,interleave:n(e.interleave,!1),releaseGeometryInstances:n(e.releaseGeometryInstances,!0),allowPicking:n(e.allowPicking,!0),asynchronous:n(e.asynchronous,!0),compressVertices:!1,_createShaderProgramFunction:void 0,_createCommandsFunction:void 0,_updateAndQueueCommandsFunction:void 0},this._zIndex=void 0,this._ready=!1,this._readyPromise=y.defer(),this._primitive=void 0,this._sp=void 0,this._sp2D=void 0,this._spMorph=void 0,this._renderState=_.fromCache({cull:{enabled:!0},blending:b.ALPHA_BLEND,depthMask:!1}),this._renderStateMorph=_.fromCache({cull:{enabled:!0,face:w.FRONT},depthTest:{enabled:!0},blending:b.ALPHA_BLEND,depthMask:!1})}function I(t,n,i){var o=n.context,a=t._primitive,s=a._attributeLocations,u=a._batchTable.getVertexShaderCallback()(h);u=C._appendShowToShader(a,u),u=C._appendDistanceDisplayConditionToShader(a,u),u=C._modifyShaderPosition(t,u,n.scene3DOnly);var l=a._batchTable.getVertexShaderCallback()(f);l=C._appendShowToShader(a,l),l=C._appendDistanceDisplayConditionToShader(a,l),l=C._modifyShaderPosition(t,l,n.scene3DOnly);var c=a._batchTable.getVertexShaderCallback()(d),m=["ENABLE_GL_POSITION_LOG_DEPTH_AT_HEIGHT","GLOBE_MINIMUM_ALTITUDE "+n.mapProjection.ellipsoid.minimumRadius.toFixed(1)],g="",_="";r(i.material)?(_=r(i.material)?i.material.shaderSource:"",-1!==_.search(/varying\s+float\s+v_polylineAngle;/g)&&m.push("ANGLE_VARYING"),-1!==_.search(/varying\s+float\s+v_width;/g)&&m.push("WIDTH_VARYING")):g="PER_INSTANCE_COLOR",m.push(g);var y=t.debugShowShadowVolume?["DEBUG_SHOW_VOLUME",g]:[g],b=new A({defines:m,sources:[u]}),w=new A({defines:y,sources:[_,c]});t._sp=v.replaceCache({context:o,shaderProgram:a._sp,vertexShaderSource:b,fragmentShaderSource:w,attributeLocations:s});var x=o.shaderCache.getDerivedShaderProgram(t._sp,"2dColor");if(!r(x)){var E=new A({defines:m.concat(["COLUMBUS_VIEW_2D"]),sources:[u]});x=o.shaderCache.createDerivedShaderProgram(t._sp,"2dColor",{context:o,shaderProgram:t._sp2D,vertexShaderSource:E,fragmentShaderSource:w,attributeLocations:s})}t._sp2D=x;var S=o.shaderCache.getDerivedShaderProgram(t._sp,"MorphColor");if(!r(S)){var T=new A({defines:m.concat(["MAX_TERRAIN_HEIGHT "+e._defaultMaxTerrainHeight.toFixed(1)]),sources:[l]});c=a._batchTable.getVertexShaderCallback()(p);var I=new A({defines:y,sources:[_,c]});S=o.shaderCache.createDerivedShaderProgram(t._sp,"MorphColor",{context:o,shaderProgram:t._spMorph,vertexShaderSource:T,fragmentShaderSource:I,attributeLocations:s})}t._spMorph=S}function M(e,t,n,i,o,a){var s=e._primitive,u=s._va.length;o.length=u,a.length=u;var l,c,h=t instanceof x,d=h?{}:n._uniforms,f=s._batchTable.getUniformMapCallback()(d),p=g.TERRAIN_CLASSIFICATION;for(l=0;l<u;l++){var _=s._va[l];c=o[l],r(c)||(c=o[l]=new m({owner:e,primitiveType:s._primitiveType})),c.vertexArray=_,c.renderState=e._renderState,c.shaderProgram=e._sp,c.uniformMap=f,c.pass=p,c.pickId="czm_batchTable_pickColor(v_endPlaneNormalEcAndBatchId.w)";var v=c.derivedCommands.color2D;r(v)||(v=m.shallowClone(c),c.derivedCommands.color2D=v),v.vertexArray=_,v.renderState=e._renderState,v.shaderProgram=e._sp2D,v.uniformMap=f,v.pass=p,v.pickId="czm_batchTable_pickColor(v_endPlaneNormalEcAndBatchId.w)",v=c.derivedCommands.colorMorph,r(v)||(v=m.shallowClone(c),c.derivedCommands.colorMorph=v),v.vertexArray=_,v.renderState=e._renderStateMorph,v.shaderProgram=e._spMorph,v.uniformMap=f,v.pass=p,v.pickId="czm_batchTable_pickColor(v_batchId)"}}function O(e,t,n,i,o,a,s){var u=e._primitive;C._updateBoundingVolumes(u,t,o);var l;t.mode===S.SCENE3D?l=u._boundingSphereWC:t.mode===S.COLUMBUS_VIEW?l=u._boundingSphereCV:t.mode===S.SCENE2D&&r(u._boundingSphere2D)?l=u._boundingSphere2D:r(u._boundingSphereMorph)&&(l=u._boundingSphereMorph);var c=t.commandList,h=t.passes;if(h.render||h.pick&&u.allowPicking)for(var d=n.length,f=0;f<d;++f){var p=n[f];t.mode===S.MORPHING&&p.shaderProgram!==e._spMorph?p=p.derivedCommands.colorMorph:t.mode!==S.SCENE3D&&p.shaderProgram!==e._sp2D&&(p=p.derivedCommands.color2D),p.modelMatrix=o,p.boundingVolume=l[f],p.cull=a,p.debugShowBoundingVolume=s,c.push(p)}}return i(T.prototype,{interleave:{get:function(){return this._primitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._primitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._primitiveOptions.allowPicking}},asynchronous:{get:function(){return this._primitiveOptions.asynchronous}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},debugShowShadowVolume:{get:function(){return this._debugShowShadowVolume}}}),T.initializeTerrainHeights=function(){return e.initialize()},T.prototype.update=function(n){if(r(this._primitive)||r(this.geometryInstances)){if(!e.initialized)return void T.initializeTerrainHeights();var i,o=this,h=this._primitiveOptions;if(!r(this._primitive)){var d,f=c(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],p=f.length,m=new Array(p);for(i=0;i<p;++i)if(d=f[i].attributes,!r(d)||!r(d.color)){this._hasPerInstanceColors=!1;break}for(i=0;i<p;++i){var g=f[i];d={};var _=g.attributes;for(var v in _)_.hasOwnProperty(v)&&(d[v]=_[v]);r(d.width)||(d.width=new u({componentDatatype:t.UNSIGNED_BYTE,componentsPerAttribute:1,value:[g.geometry.width]})),g.geometry._scene3DOnly=n.scene3DOnly,l.setProjectionAndEllipsoid(g.geometry,n.mapProjection),m[i]=new s({geometry:g.geometry,attributes:d,id:g.id,pickPrimitive:o})}h.geometryInstances=m,h.appearance=this.appearance,h._createShaderProgramFunction=function(e,t,n){I(o,t,n)},h._createCommandsFunction=function(e,t,n,r,i,a,s){M(o,t,n,r,a,s)},h._updateAndQueueCommandsFunction=function(e,t,n,r,i,a,s,u){O(o,t,n,r,i,a,s)},this._primitive=new C(h),this._primitive.readyPromise.then(function(e){o._ready=!0,o.releaseGeometryInstances&&(o.geometryInstances=void 0);var t=e._error;r(t)?o._readyPromise.reject(t):o._readyPromise.resolve(o)})}if(this.appearance instanceof x&&!this._hasPerInstanceColors)throw new a("All GeometryInstances must have color attributes to use PolylineColorAppearance with GroundPolylinePrimitive.");this._primitive.appearance=this.appearance,this._primitive.show=this.show,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(n)}},T.prototype.getGeometryInstanceAttributes=function(e){return this._primitive.getGeometryInstanceAttributes(e)},T.isSupported=function(e){return e.frameState.context.depthTexture},T.prototype.isDestroyed=function(){return!1},T.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),this._sp=this._sp&&this._sp.destroy(),this._sp2D=void 0,this._spMorph=void 0,o(this)},T}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(2),n(181),n(529),n(1087),n(244),n(303)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){t=e(t,e.EMPTY_OBJECT);var n=e(t.translucent,!0),r=s.VERTEX_FORMAT;this.material=void 0,this.translucent=n,this._vertexShaderSource=e(t.vertexShaderSource,u),this._fragmentShaderSource=e(t.fragmentShaderSource,l),this._renderState=a.getDefaultRenderState(n,!1,t.renderState),this._closed=!1,this._vertexFormat=r}var u=o+"\n"+i,l=r;return t(s.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return this._vertexFormat}}}),s.VERTEX_FORMAT=n.POSITION_ONLY,s.prototype.getFragmentShaderSource=a.prototype.getFragmentShaderSource,s.prototype.isTranslucent=a.prototype.isTranslucent,s.prototype.getRenderState=a.prototype.getRenderState,s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(181),n(1088),n(244),n(532),n(303),n(295)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(n){n=e(n,e.EMPTY_OBJECT);var r=e(n.translucent,!0),i=l.VERTEX_FORMAT;this.material=t(n.material)?n.material:u.fromType(u.ColorType),this.translucent=r,this._vertexShaderSource=e(n.vertexShaderSource,c),this._fragmentShaderSource=e(n.fragmentShaderSource,h),this._renderState=s.getDefaultRenderState(r,!1,n.renderState),this._closed=!1,this._vertexFormat=i}var c=o+"\n"+i,h=a;return n(l.prototype,{vertexShaderSource:{get:function(){var e=this._vertexShaderSource;return-1!==this.material.shaderSource.search(/varying\s+float\s+v_polylineAngle;/g)&&(e="#define POLYLINE_DASH\n"+e),e}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return this._vertexFormat}}}),l.VERTEX_FORMAT=r.POSITION_AND_ST,l.prototype.getFragmentShaderSource=s.prototype.getFragmentShaderSource,l.prototype.isTranslucent=s.prototype.isTranslucent,l.prototype.getRenderState=s.prototype.getRenderState,l}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(43)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(t){this._image=void 0,this._imageSubscription=void 0,this._imageSubRegion=void 0,this._imageSubRegionSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._alignedAxis=void 0,this._alignedAxisSubscription=void 0,this._horizontalOrigin=void 0,this._horizontalOriginSubscription=void 0,this._verticalOrigin=void 0,this._verticalOriginSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._eyeOffset=void 0,this._eyeOffsetSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._pixelOffset=void 0,this._pixelOffsetSubscription=void 0,this._show=void 0,this._showSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._pixelOffsetScaleByDistance=void 0,this._pixelOffsetScaleByDistanceSubscription=void 0,this._sizeInMeters=void 0,this._sizeInMetersSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(a.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},image:o("image"),imageSubRegion:o("imageSubRegion"),scale:o("scale"),rotation:o("rotation"),alignedAxis:o("alignedAxis"),horizontalOrigin:o("horizontalOrigin"),verticalOrigin:o("verticalOrigin"),color:o("color"),eyeOffset:o("eyeOffset"),heightReference:o("heightReference"),pixelOffset:o("pixelOffset"),show:o("show"),width:o("width"),height:o("height"),scaleByDistance:o("scaleByDistance"),translucencyByDistance:o("translucencyByDistance"),pixelOffsetScaleByDistance:o("pixelOffsetScaleByDistance"),sizeInMeters:o("sizeInMeters"),distanceDisplayCondition:o("distanceDisplayCondition"),disableDepthTestDistance:o("disableDepthTestDistance")}),a.prototype.clone=function(e){return t(e)?(e.color=this._color,e.eyeOffset=this._eyeOffset,e.heightReference=this._heightReference,e.horizontalOrigin=this._horizontalOrigin,e.image=this._image,e.imageSubRegion=this._imageSubRegion,e.pixelOffset=this._pixelOffset,e.scale=this._scale,e.rotation=this._rotation,e.alignedAxis=this._alignedAxis,e.show=this._show,e.verticalOrigin=this._verticalOrigin,e.width=this._width,e.height=this._height,e.scaleByDistance=this._scaleByDistance,e.translucencyByDistance=this._translucencyByDistance,e.pixelOffsetScaleByDistance=this._pixelOffsetScaleByDistance,e.sizeInMeters=this._sizeInMeters,e.distanceDisplayCondition=this._distanceDisplayCondition,e.disableDepthTestDistance=this._disableDepthTestDistance,e):new a(this)},a.prototype.merge=function(t){this.color=e(this._color,t.color),this.eyeOffset=e(this._eyeOffset,t.eyeOffset),this.heightReference=e(this._heightReference,t.heightReference),this.horizontalOrigin=e(this._horizontalOrigin,t.horizontalOrigin),this.image=e(this._image,t.image),this.imageSubRegion=e(this._imageSubRegion,t.imageSubRegion),this.pixelOffset=e(this._pixelOffset,t.pixelOffset),this.scale=e(this._scale,t.scale),this.rotation=e(this._rotation,t.rotation),this.alignedAxis=e(this._alignedAxis,t.alignedAxis),this.show=e(this._show,t.show),this.verticalOrigin=e(this._verticalOrigin,t.verticalOrigin),this.width=e(this._width,t.width),this.height=e(this._height,t.height),this.scaleByDistance=e(this._scaleByDistance,t.scaleByDistance),this.translucencyByDistance=e(this._translucencyByDistance,t.translucencyByDistance),this.pixelOffsetScaleByDistance=e(this._pixelOffsetScaleByDistance,t.pixelOffsetScaleByDistance),this.sizeInMeters=e(this._sizeInMeters,t.sizeInMeters),this.distanceDisplayCondition=e(this._distanceDisplayCondition,t.distanceDisplayCondition),this.disableDepthTestDistance=e(this._disableDepthTestDistance,t.disableDepthTestDistance)},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._show=void 0,this._showSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._hierarchy=void 0,this._hierarchySubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._stRotation=void 0,this._stRotationSubscription=void 0,this._perPositionHeight=void 0,this._perPositionHeightSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._closeTop=void 0,this._closeTopSubscription=void 0,this._closeBottom=void 0,this._closeBottomSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:a("show"),material:o("material"),hierarchy:a("hierarchy"),height:a("height"),heightReference:a("heightReference"),extrudedHeight:a("extrudedHeight"),extrudedHeightReference:a("extrudedHeightReference"),granularity:a("granularity"),stRotation:a("stRotation"),fill:a("fill"),outline:a("outline"),outlineColor:a("outlineColor"),outlineWidth:a("outlineWidth"),perPositionHeight:a("perPositionHeight"),closeTop:a("closeTop"),closeBottom:a("closeBottom"),shadows:a("shadows"),distanceDisplayCondition:a("distanceDisplayCondition"),classificationType:a("classificationType"),zIndex:a("zIndex")}),s.prototype.clone=function(e){return t(e)?(e.show=this.show,e.material=this.material,e.hierarchy=this.hierarchy,e.height=this.height,e.heightReference=this.heightReference,e.extrudedHeight=this.extrudedHeight,e.extrudedHeightReference=this.extrudedHeightReference,e.granularity=this.granularity,e.stRotation=this.stRotation,e.fill=this.fill,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.perPositionHeight=this.perPositionHeight,e.closeTop=this.closeTop,e.closeBottom=this.closeBottom,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e.classificationType=this.classificationType,e.zIndex=this.zIndex,e):new s(this)},s.prototype.merge=function(t){this.show=e(this.show,t.show),this.material=e(this.material,t.material),this.hierarchy=e(this.hierarchy,t.hierarchy),this.height=e(this.height,t.height),this.heightReference=e(this.heightReference,t.heightReference),this.extrudedHeight=e(this.extrudedHeight,t.extrudedHeight),this.extrudedHeightReference=e(this.extrudedHeightReference,t.extrudedHeightReference),this.granularity=e(this.granularity,t.granularity),this.stRotation=e(this.stRotation,t.stRotation),this.fill=e(this.fill,t.fill),this.outline=e(this.outline,t.outline),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.perPositionHeight=e(this.perPositionHeight,t.perPositionHeight),this.closeTop=e(this.closeTop,t.closeTop),this.closeBottom=e(this.closeBottom,t.closeBottom),this.shadows=e(this.shadows,t.shadows),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=e(this.classificationType,t.classificationType),this.zIndex=e(this.zIndex,t.zIndex)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(3)],void 0!==(i=function(e,t){"use strict";function n(){t.throwInstantiationError()}return e(n.prototype,{name:{get:t.throwInstantiationError},clock:{get:t.throwInstantiationError},entities:{get:t.throwInstantiationError},isLoading:{get:t.throwInstantiationError},changedEvent:{get:t.throwInstantiationError},errorEvent:{get:t.throwInstantiationError},loadingEvent:{get:t.throwInstantiationError},show:{get:t.throwInstantiationError},clustering:{get:t.throwInstantiationError}}),n.prototype.update=t.throwInstantiationError,n.setLoading=function(e,t){e._isLoading!==t&&(t?e._entityCollection.suspendEvents():e._entityCollection.resumeEvents(),e._isLoading=t,e._loading.raiseEvent(e,t))},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(41),n(1),n(0),n(2),n(21),n(3),n(39),n(72),n(65),n(49),n(9),n(69),n(16),n(223),n(190),n(161),n(255),n(119),n(134),n(63),n(93),n(64),n(790),n(61),n(328),n(114),n(77),n(52),n(100),n(116),n(102),n(185),n(115),n(1175),n(1176),n(7),n(1177),n(162),n(306),n(1178)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L,N,R,k,F,U,z){"use strict";function j(e,t){this._imageryProvider=e,t=n(t,{}),this.alpha=n(t.alpha,n(e.defaultAlpha,1)),this.brightness=n(t.brightness,n(e.defaultBrightness,j.DEFAULT_BRIGHTNESS)),this.contrast=n(t.contrast,n(e.defaultContrast,j.DEFAULT_CONTRAST)),this.hue=n(t.hue,n(e.defaultHue,j.DEFAULT_HUE)),this.saturation=n(t.saturation,n(e.defaultSaturation,j.DEFAULT_SATURATION)),this.gamma=n(t.gamma,n(e.defaultGamma,j.DEFAULT_GAMMA)),this.splitDirection=n(t.splitDirection,n(e.defaultSplit,j.DEFAULT_SPLIT)),this.minificationFilter=n(t.minificationFilter,n(e.defaultMinificationFilter,j.DEFAULT_MINIFICATION_FILTER)),this.magnificationFilter=n(t.magnificationFilter,n(e.defaultMagnificationFilter,j.DEFAULT_MAGNIFICATION_FILTER)),this.show=n(t.show,!0),this._minimumTerrainLevel=t.minimumTerrainLevel,this._maximumTerrainLevel=t.maximumTerrainLevel,this._rectangle=n(t.rectangle,f.MAX_VALUE),this._maximumAnisotropy=t.maximumAnisotropy,this._imageryCache={},this._skeletonPlaceholder=new z(k.createPlaceholder(this)),this._show=!0,this._layerIndex=-1,this._isBaseLayer=!1,this._requestImageError=void 0,this._reprojectComputeCommands=[]}function H(e,t,n){return e+":"+t+":"+n}function V(e,t,i,o){var a=e.minificationFilter,s=e.magnificationFilter;if(a===P.LINEAR&&s===O.LINEAR&&!d.isCompressedFormat(o.pixelFormat)&&h.isPowerOfTwo(o.width)&&h.isPowerOfTwo(o.height)){a=P.LINEAR_MIPMAP_LINEAR;var u=E.maximumTextureFilterAnisotropy,l=Math.min(u,n(e._maximumAnisotropy,u)),c=H(a,s,l),f=t.cache.imageryLayerMipmapSamplers;r(f)||(f={},t.cache.imageryLayerMipmapSamplers=f);var p=f[c];r(p)||(p=f[c]=new S({wrapS:D.CLAMP_TO_EDGE,wrapT:D.CLAMP_TO_EDGE,minificationFilter:a,magnificationFilter:s,maximumAnisotropy:l})),o.generateMipmap(C.NICEST),o.sampler=p}else{var m=H(a,s,0),g=t.cache.imageryLayerNonMipmapSamplers;r(g)||(g={},t.cache.imageryLayerNonMipmapSamplers=g);var _=g[m];r(_)||(_=g[m]=new S({wrapS:D.CLAMP_TO_EDGE,wrapT:D.CLAMP_TO_EDGE,minificationFilter:a,magnificationFilter:s})),o.sampler=_}i.state=U.READY}function Q(e,t,n){return JSON.stringify([e,t,n])}function G(e,t,n,i){var o=t.cache.imageryLayer_reproject;if(!r(o)){o=t.cache.imageryLayer_reproject={vertexArray:void 0,shaderProgram:void 0,sampler:void 0,destroy:function(){r(this.framebuffer)&&this.framebuffer.destroy(),r(this.vertexArray)&&this.vertexArray.destroy(),r(this.shaderProgram)&&this.shaderProgram.destroy()}};for(var a=new Float32Array(256),s=0,u=0;u<64;++u){var l=u/63;a[s++]=0,a[s++]=l,a[s++]=1,a[s++]=l}var d={position:0,webMercatorT:1},f=_.getRegularGridIndices(2,64),p=b.createIndexBuffer({context:t,typedArray:f,usage:w.STATIC_DRAW,indexDatatype:c.UNSIGNED_SHORT});o.vertexArray=new B({context:t,attributes:[{index:d.position,vertexBuffer:b.createVertexBuffer({context:t,typedArray:a,usage:w.STATIC_DRAW}),componentsPerAttribute:2},{index:d.webMercatorT,vertexBuffer:b.createVertexBuffer({context:t,sizeInBytes:512,usage:w.STREAM_DRAW}),componentsPerAttribute:1}],indexBuffer:p});var m=new I({sources:[N]});o.shaderProgram=T.fromCache({context:t,vertexShaderSource:m,fragmentShaderSource:L,attributeLocations:d}),o.sampler=new S({wrapS:D.CLAMP_TO_EDGE,wrapT:D.CLAMP_TO_EDGE,minificationFilter:P.LINEAR,magnificationFilter:O.LINEAR})}n.sampler=o.sampler;var g=n.width,v=n.height;Z.textureDimensions.x=g,Z.textureDimensions.y=v,Z.texture=n;var A=Math.sin(i.south),y=.5*Math.log((1+A)/(1-A));A=Math.sin(i.north);var x=.5*Math.log((1+A)/(1-A)),E=1/(x-y),R=new M({context:t,width:g,height:v,pixelFormat:n.pixelFormat,pixelDatatype:n.pixelDatatype,preMultiplyAlpha:n.preMultiplyAlpha});h.isPowerOfTwo(g)&&h.isPowerOfTwo(v)&&R.generateMipmap(C.NICEST);for(var k=i.south,F=i.north,U=J,z=0,j=0;j<64;++j){var H=j/63,V=h.lerp(k,F,H);A=Math.sin(V);var Q=.5*Math.log((1+A)/(1-A)),G=(Q-y)*E;U[z++]=G,U[z++]=G}o.vertexArray.getAttribute(1).vertexBuffer.copyFromArrayView(U),e.shaderProgram=o.shaderProgram,e.outputTexture=R,e.uniformMap=Z,e.vertexArray=o.vertexArray}function W(e,t,n){var r=e._imageryProvider,i=r.tilingScheme,o=i.ellipsoid,a=e._imageryProvider.tilingScheme.projection instanceof u?1:Math.cos(n),s=i.rectangle,l=o.maximumRadius*s.width*a/(r.tileWidth*i.getNumberOfXTilesAtLevel(0)),c=l/t,h=Math.log(c)/Math.log(2);return 0|Math.round(h)}i(j.prototype,{imageryProvider:{get:function(){return this._imageryProvider}},rectangle:{get:function(){return this._rectangle}}}),j.DEFAULT_BRIGHTNESS=1,j.DEFAULT_CONTRAST=1,j.DEFAULT_HUE=0,j.DEFAULT_SATURATION=1,j.DEFAULT_GAMMA=1,j.DEFAULT_SPLIT=F.NONE,j.DEFAULT_MINIFICATION_FILTER=P.LINEAR,j.DEFAULT_MAGNIFICATION_FILTER=O.LINEAR,j.prototype.isBaseLayer=function(){return this._isBaseLayer},j.prototype.isDestroyed=function(){return!1},j.prototype.destroy=function(){return o(this)};var q=new f,Y=new f,K=new f,X=new f;j.prototype.getViewableRectangle=function(){var e=this._imageryProvider,t=this._rectangle;return e.readyPromise.then(function(){return f.intersection(e.rectangle,t)})},j.prototype._createTileImagerySkeletons=function(e,n,i){var o=e.data;if(r(this._minimumTerrainLevel)&&e.level<this._minimumTerrainLevel)return!1;if(r(this._maximumTerrainLevel)&&e.level>this._maximumTerrainLevel)return!1;var a=this._imageryProvider;if(r(i)||(i=o.imagery.length),!a.ready)return this._skeletonPlaceholder.loadingImagery.addReference(),o.imagery.splice(i,0,this._skeletonPlaceholder),!0;var s=a.tilingScheme.projection instanceof A&&e.rectangle.north<A.MaximumLatitude&&e.rectangle.south>-A.MaximumLatitude,u=f.intersection(a.rectangle,this._rectangle,q),l=f.intersection(e.rectangle,u,Y);if(!r(l)){if(!this.isBaseLayer())return!1;var c=u,h=e.rectangle;l=Y,h.south>=c.north?l.north=l.south=c.north:h.north<=c.south?l.north=l.south=c.south:(l.south=Math.max(h.south,c.south),l.north=Math.min(h.north,c.north)),h.west>=c.east?l.west=l.east=c.east:h.east<=c.west?l.west=l.east=c.west:(l.west=Math.max(h.west,c.west),l.east=Math.min(h.east,c.east))}var d=0;l.south>0?d=l.south:l.north<0&&(d=l.north);var p=1*n.getLevelMaximumGeometricError(e.level),m=W(this,p,d);m=Math.max(0,m);var g=a.maximumLevel;if(m>g&&(m=g),r(a.minimumLevel)){var _=a.minimumLevel;m<_&&(m=_)}var v=a.tilingScheme,y=v.positionToTileXY(f.northwest(l),m),b=v.positionToTileXY(f.southeast(l),m),w=e.rectangle.width/512,x=e.rectangle.height/512,E=v.tileXYToRectangle(y.x,y.y,m);Math.abs(E.south-e.rectangle.north)<x&&y.y<b.y&&++y.y,Math.abs(E.east-e.rectangle.west)<w&&y.x<b.x&&++y.x;var C=v.tileXYToRectangle(b.x,b.y,m);Math.abs(C.north-e.rectangle.south)<x&&b.y>y.y&&--b.y,Math.abs(C.west-e.rectangle.east)<w&&b.x>y.x&&--b.x;var S,T=f.clone(e.rectangle,X),I=v.tileXYToRectangle(y.x,y.y,m),M=f.intersection(I,u,K);s?(v.rectangleToNativeRectangle(T,T),v.rectangleToNativeRectangle(I,I),v.rectangleToNativeRectangle(M,M),v.rectangleToNativeRectangle(u,u),S=v.tileXYToNativeRectangle.bind(v),w=T.width/512,x=T.height/512):S=v.tileXYToRectangle.bind(v);var O,P,D=0,B=1;!this.isBaseLayer()&&Math.abs(M.west-T.west)>=w&&(D=Math.min(1,(M.west-T.west)/T.width)),!this.isBaseLayer()&&Math.abs(M.north-T.north)>=x&&(B=Math.max(0,(M.north-T.south)/T.height));for(var L=B,N=y.x;N<=b.x;N++)if(O=D,I=S(N,y.y,m),M=f.simpleIntersection(I,u,K),r(M)){D=Math.min(1,(M.east-T.west)/T.width),N===b.x&&(this.isBaseLayer()||Math.abs(M.east-T.east)<w)&&(D=1),B=L;for(var R=y.y;R<=b.y;R++)if(P=B,I=S(N,R,m),M=f.simpleIntersection(I,u,K),r(M)){B=Math.max(0,(M.south-T.south)/T.height),R===b.y&&(this.isBaseLayer()||Math.abs(M.south-T.south)<x)&&(B=0);var k=new t(O,B,D,P),F=this.getImageryFromCache(N,R,m);o.imagery.splice(i,0,new z(F,k,s)),++i}}return!0},j.prototype._calculateTextureTranslationAndScale=function(e,n){var r=n.readyImagery.rectangle,i=e.rectangle;if(n.useWebMercatorT){var o=n.readyImagery.imageryLayer.imageryProvider.tilingScheme;r=o.rectangleToNativeRectangle(r,q),i=o.rectangleToNativeRectangle(i,X)}var a=i.width,s=i.height,u=a/r.width,l=s/r.height;return new t(u*(i.west-r.west)/a,l*(i.south-r.south)/s,u,l)},j.prototype._requestImagery=function(e,t){function n(t){if(!r(t))return o();e.image=t,e.state=U.RECEIVED,e.request=void 0,v.handleSuccess(u._requestImageError)}function i(t){return e.request.state===m.CANCELLED?(e.state=U.UNLOADED,e.request=void 0,!0):(e.state=U.FAILED,e.request=void 0,!1)}function o(t){if(!i(t)){var n="Failed to obtain image tile X: "+e.x+" Y: "+e.y+" Level: "+e.level+".";u._requestImageError=v.handleError(u._requestImageError,s,s.errorEvent,n,e.x,e.y,e.level,a,t)}}function a(u){var l=new p({throttle:!0,throttleByServer:!0,type:g.IMAGERY,priorityFunction:t});if(e.request=l,e.state=U.TRANSITIONING,u)return void u.then(function(){a()}).otherwise(i);var c=s.requestImage(e.x,e.y,e.level,l);if(!r(c))return e.state=U.UNLOADED,void(e.request=void 0);r(s.getTileCredits)&&(e.credits=s.getTileCredits(e.x,e.y,e.level)),R(c,n,o)}var s=this._imageryProvider,u=this;a()},j.prototype._createTexture=function(e,t){var n=this._imageryProvider,i=t.image;if(r(n.tileDiscardPolicy)){var o=n.tileDiscardPolicy;if(r(o)){if(!o.isReady())return void(t.state=U.RECEIVED);if(o.shouldDiscardImage(i))return void(t.state=U.INVALID)}}var a,s=new S({minificationFilter:this.minificationFilter,magnificationFilter:this.magnificationFilter});a=new M(r(i.internalFormat)?{context:e,pixelFormat:i.internalFormat,width:i.width,height:i.height,source:{arrayBufferView:i.bufferView},sampler:s}:{context:e,source:i,pixelFormat:n.hasAlphaChannel?d.RGBA:d.RGB,sampler:s}),n.tilingScheme.projection instanceof A?t.textureWebMercator=a:t.texture=a,t.image=void 0,t.state=U.TEXTURE_LOADED},j.prototype._reprojectTexture=function(e,t,r){var i=t.textureWebMercator||t.texture,o=t.rectangle,a=e.context;if((r=n(r,!0))&&!(this._imageryProvider.tilingScheme.projection instanceof u)&&o.width/i.width>1e-5){var s=this;t.addReference();var l=new x({persists:!0,owner:this,preExecute:function(e){G(e,a,i,t.rectangle)},postExecute:function(e){t.texture=e,V(s,a,t,e),t.releaseReference()}});this._reprojectComputeCommands.push(l)}else r&&(t.texture=i),V(this,a,t,i)},j.prototype.queueReprojectionCommands=function(e){for(var t=this._reprojectComputeCommands,n=t.length,r=0;r<n;++r)e.commandList.push(t[r]);t.length=0},j.prototype.cancelReprojections=function(){this._reprojectComputeCommands.length=0},j.prototype.getImageryFromCache=function(e,t,n,i){var o=Q(e,t,n),a=this._imageryCache[o];return r(a)||(a=new k(this,e,t,n,i),this._imageryCache[o]=a),a.addReference(),a},j.prototype.removeImageryFromCache=function(e){var t=Q(e.x,e.y,e.level);delete this._imageryCache[t]};var Z={u_textureDimensions:function(){return this.textureDimensions},u_texture:function(){return this.texture},textureDimensions:new e,texture:void 0},J=s.supportsTypedArrays()?new Float32Array(128):void 0;return j}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(1),n(0),n(2),n(3),n(15),n(216),n(326),n(89),n(449)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l){"use strict";function c(n,r){r=t(r,0);var i;if(r>0){i=new Array(r);for(var s=0;s<r;s++)i[s]=e}this._numberOfDerivatives=r,this._property=new l(e,i),this._definitionChanged=new o,this._referenceFrame=t(n,a.FIXED),this._property._definitionChanged.addEventListener(function(){this._definitionChanged.raiseEvent(this)},this)}return r(c.prototype,{isConstant:{get:function(){return this._property.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}},interpolationDegree:{get:function(){return this._property.interpolationDegree}},interpolationAlgorithm:{get:function(){return this._property.interpolationAlgorithm}},numberOfDerivatives:{get:function(){return this._numberOfDerivatives}},forwardExtrapolationType:{get:function(){return this._property.forwardExtrapolationType},set:function(e){this._property.forwardExtrapolationType=e}},forwardExtrapolationDuration:{get:function(){return this._property.forwardExtrapolationDuration},set:function(e){this._property.forwardExtrapolationDuration=e}},backwardExtrapolationType:{get:function(){return this._property.backwardExtrapolationType},set:function(e){this._property.backwardExtrapolationType=e}},backwardExtrapolationDuration:{get:function(){return this._property.backwardExtrapolationDuration},set:function(e){this._property.backwardExtrapolationDuration=e}}}),c.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,a.FIXED,t)},c.prototype.getValueInReferenceFrame=function(e,t,r){if(r=this._property.getValue(e,r),n(r))return s.convertToReferenceFrame(e,r,this._referenceFrame,t,r)},c.prototype.setInterpolationOptions=function(e){this._property.setInterpolationOptions(e)},c.prototype.addSample=function(e,t,n){this._numberOfDerivatives;this._property.addSample(e,t,n)},c.prototype.addSamples=function(e,t,n){this._property.addSamples(e,t,n)},c.prototype.addSamplesPackedArray=function(e,t){this._property.addSamplesPackedArray(e,t)},c.prototype.equals=function(e){return this===e||e instanceof c&&u.equals(this._property,e._property)&&this._referenceFrame===e._referenceFrame},c}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(130),n(38),n(10),n(12),n(31),n(1),n(0),n(3),n(76),n(90),n(129),n(151),n(54)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d){"use strict";function f(e){e=o(e,o.EMPTY_OBJECT);var t=e.minimum,r=e.maximum;this._min=n.clone(t),this._max=n.clone(r),this._offsetAttribute=e.offsetAttribute,this._workerName="createBoxOutlineGeometry"}var p=new n;f.fromDimensions=function(e){e=o(e,o.EMPTY_OBJECT);var t=e.dimensions,r=n.multiplyByScalar(t,.5,new n);return new f({minimum:n.negate(r,new n),maximum:r,offsetAttribute:e.offsetAttribute})},f.fromAxisAlignedBoundingBox=function(e){return new f({minimum:e.minimum,maximum:e.maximum})},f.packedLength=2*n.packedLength+1,f.pack=function(e,t,r){return r=o(r,0),n.pack(e._min,t,r),n.pack(e._max,t,r+n.packedLength),t[r+2*n.packedLength]=o(e._offsetAttribute,-1),t};var m=new n,g=new n,_={minimum:m,maximum:g,offsetAttribute:void 0};return f.unpack=function(e,t,r){t=o(t,0);var i=n.unpack(e,t,m),s=n.unpack(e,t+n.packedLength,g),u=e[t+2*n.packedLength];return a(r)?(r._min=n.clone(i,r._min),r._max=n.clone(s,r._max),r._offsetAttribute=-1===u?void 0:u,r):(_.offsetAttribute=-1===u?void 0:u,new f(_))},f.createGeometry=function(r){var o=r._min,s=r._max;if(!n.equals(o,s)){var f=new c,m=new Uint16Array(24),g=new Float64Array(24);g[0]=o.x,g[1]=o.y,g[2]=o.z,g[3]=s.x,g[4]=o.y,g[5]=o.z,g[6]=s.x,g[7]=s.y,g[8]=o.z,g[9]=o.x,g[10]=s.y,g[11]=o.z,g[12]=o.x,g[13]=o.y,g[14]=s.z,g[15]=s.x,g[16]=o.y,g[17]=s.z,g[18]=s.x,g[19]=s.y,g[20]=s.z,g[21]=o.x,g[22]=s.y,g[23]=s.z,f.position=new l({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:g}),m[0]=4,m[1]=5,m[2]=5,m[3]=6,m[4]=6,m[5]=7,m[6]=7,m[7]=4,m[8]=0,m[9]=1,m[10]=1,m[11]=2,m[12]=2,m[13]=3,m[14]=3,m[15]=0,m[16]=0,m[17]=4,m[18]=1,m[19]=5,m[20]=2,m[21]=6,m[22]=3,m[23]=7;var _=n.subtract(s,o,p),v=.5*n.magnitude(_);if(a(r._offsetAttribute)){var A=g.length,y=new Uint8Array(A/3),b=r._offsetAttribute===h.NONE?0:1;e(y,b),f.applyOffset=new l({componentDatatype:i.UNSIGNED_BYTE,componentsPerAttribute:1,values:y})}return new u({attributes:f,indices:m,primitiveType:d.LINES,boundingSphere:new t(n.ZERO,v),offsetAttribute:r._offsetAttribute})}},f}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(3),n(9)],void 0!==(i=function(e,t,n,r){"use strict";function i(t,n,r){this.heading=e(t,0),this.pitch=e(n,0),this.roll=e(r,0)}return i.fromQuaternion=function(e,n){t(n)||(n=new i);var r=2*(e.w*e.y-e.z*e.x),o=1-2*(e.x*e.x+e.y*e.y),a=2*(e.w*e.x+e.y*e.z),s=1-2*(e.y*e.y+e.z*e.z),u=2*(e.w*e.z+e.x*e.y);return n.heading=-Math.atan2(u,s),n.roll=Math.atan2(a,o),n.pitch=-Math.asin(r),n},i.fromDegrees=function(e,n,o,a){return t(a)||(a=new i),a.heading=e*r.RADIANS_PER_DEGREE,a.pitch=n*r.RADIANS_PER_DEGREE,a.roll=o*r.RADIANS_PER_DEGREE,a},i.clone=function(e,n){if(t(e))return t(n)?(n.heading=e.heading,n.pitch=e.pitch,n.roll=e.roll,n):new i(e.heading,e.pitch,e.roll)},i.equals=function(e,n){return e===n||t(e)&&t(n)&&e.heading===n.heading&&e.pitch===n.pitch&&e.roll===n.roll},i.equalsEpsilon=function(e,n,i,o){return e===n||t(e)&&t(n)&&r.equalsEpsilon(e.heading,n.heading,i,o)&&r.equalsEpsilon(e.pitch,n.pitch,i,o)&&r.equalsEpsilon(e.roll,n.roll,i,o)},i.prototype.clone=function(e){return i.clone(this,e)},i.prototype.equals=function(e){return i.equals(this,e)},i.prototype.equalsEpsilon=function(e,t,n){return i.equalsEpsilon(this,e,t,n)},i.prototype.toString=function(){return"("+this.heading+", "+this.pitch+", "+this.roll+")"},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(27),n(1),n(0),n(2),n(3),n(294),n(117),n(187),n(243)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(t,n,r,i,o,a,s,u,l,c){this._tweens=t,this._tweenjs=n,this._startObject=e(r),this._stopObject=e(i),this._duration=o,this._delay=a,this._easingFunction=s,this._update=u,this._complete=l,this.cancel=c,this.needsStart=!0}function c(){this._tweens=[]}return r(l.prototype,{startObject:{get:function(){return this._startObject}},stopObject:{get:function(){return this._stopObject}},duration:{get:function(){return this._duration}},delay:{get:function(){return this._delay}},easingFunction:{get:function(){return this._easingFunction}},update:{get:function(){return this._update}},complete:{get:function(){return this._complete}},tweenjs:{get:function(){return this._tweenjs}}}),l.prototype.cancelTween=function(){this._tweens.remove(this)},r(c.prototype,{length:{get:function(){return this._tweens.length}}}),c.prototype.add=function(r){if(r=t(r,t.EMPTY_OBJECT),0===r.duration)return n(r.complete)&&r.complete(),new l(this);var i=r.duration/s.SECONDS_PER_MILLISECOND,a=t(r.delay,0),c=a/s.SECONDS_PER_MILLISECOND,h=t(r.easingFunction,o.LINEAR_NONE),d=r.startObject,f=new u.Tween(d);f.to(e(r.stopObject),i),f.delay(c),f.easing(h),n(r.update)&&f.onUpdate(function(){r.update(d)}),f.onComplete(t(r.complete,null)),f.repeat(t(r._repeat,0));var p=new l(this,f,r.startObject,r.stopObject,r.duration,a,h,r.update,r.complete,r.cancel);return this._tweens.push(p),p},c.prototype.addProperty=function(e){function n(e){r[i]=e.value}e=t(e,t.EMPTY_OBJECT);var r=e.object,i=e.property,o=e.startValue,a=e.stopValue;return this.add({startObject:{value:o},stopObject:{value:a},duration:t(e.duration,3),delay:e.delay,easingFunction:e.easingFunction,update:n,complete:e.complete,cancel:e.cancel,_repeat:e._repeat})},c.prototype.addAlpha=function(e){function r(e){for(var t=o.length,n=0;n<t;++n)i.uniforms[o[n]].alpha=e.alpha}e=t(e,t.EMPTY_OBJECT);var i=e.material,o=[];for(var a in i.uniforms)i.uniforms.hasOwnProperty(a)&&n(i.uniforms[a])&&n(i.uniforms[a].alpha)&&o.push(a);return this.add({startObject:{alpha:t(e.startValue,0)},stopObject:{alpha:t(e.stopValue,1)},duration:t(e.duration,3),delay:e.delay,easingFunction:e.easingFunction,update:r,complete:e.complete,cancel:e.cancel})},c.prototype.addOffsetIncrement=function(e){e=t(e,t.EMPTY_OBJECT);var n=e.material,r=n.uniforms;return this.addProperty({object:r,property:"offset",startValue:r.offset,stopValue:r.offset+1,duration:e.duration,delay:e.delay,easingFunction:e.easingFunction,update:e.update,cancel:e.cancel,_repeat:1/0})},c.prototype.remove=function(e){if(!n(e))return!1;var t=this._tweens.indexOf(e);return-1!==t&&(e.tweenjs.stop(),n(e.cancel)&&e.cancel(),this._tweens.splice(t,1),!0)},c.prototype.removeAll=function(){for(var e=this._tweens,t=0;t<e.length;++t){var r=e[t];r.tweenjs.stop(),n(r.cancel)&&r.cancel()}e.length=0},c.prototype.contains=function(e){return n(e)&&-1!==this._tweens.indexOf(e)},c.prototype.get=function(e){return this._tweens[e]},c.prototype.update=function(e){var t=this._tweens,r=0;for(e=n(e)?e/s.SECONDS_PER_MILLISECOND:a();r<t.length;){var i=t[r],o=i.tweenjs;i.needsStart?(i.needsStart=!1,o.start(e)):o.update(e)?r++:(o.stop(),t.splice(r,1))}},c}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(43)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(t){this._text=void 0,this._textSubscription=void 0,this._font=void 0,this._fontSubscription=void 0,this._style=void 0,this._styleSubscription=void 0,this._fillColor=void 0,this._fillColorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._horizontalOrigin=void 0,this._horizontalOriginSubscription=void 0,this._verticalOrigin=void 0,this._verticalOriginSubscription=void 0,this._eyeOffset=void 0,this._eyeOffsetSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._pixelOffset=void 0,this._pixelOffsetSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this._show=void 0,this._showSubscription=void 0,this._showBackground=void 0,this._showBackgroundSubscription=void 0,this._backgroundColor=void 0,this._backgroundColorSubscription=void 0,this._backgroundPadding=void 0,this._backgroundPaddingSubscription=void 0,this._translucencyByDistance=void 0,this._translucencyByDistanceSubscription=void 0,this._pixelOffsetScaleByDistance=void 0,this._pixelOffsetScaleByDistanceSubscription=void 0,this._scaleByDistance=void 0,this._scaleByDistanceSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._disableDepthTestDistance=void 0,this._disableDepthTestDistanceSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(a.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},text:o("text"),font:o("font"),style:o("style"),fillColor:o("fillColor"),outlineColor:o("outlineColor"),outlineWidth:o("outlineWidth"),horizontalOrigin:o("horizontalOrigin"),verticalOrigin:o("verticalOrigin"),eyeOffset:o("eyeOffset"),heightReference:o("heightReference"),pixelOffset:o("pixelOffset"),scale:o("scale"),show:o("show"),showBackground:o("showBackground"),backgroundColor:o("backgroundColor"),backgroundPadding:o("backgroundPadding"),translucencyByDistance:o("translucencyByDistance"),pixelOffsetScaleByDistance:o("pixelOffsetScaleByDistance"),scaleByDistance:o("scaleByDistance"),distanceDisplayCondition:o("distanceDisplayCondition"),disableDepthTestDistance:o("disableDepthTestDistance")}),a.prototype.clone=function(e){return t(e)?(e.text=this.text,e.font=this.font,e.show=this.show,e.style=this.style,e.fillColor=this.fillColor,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.showBackground=this.showBackground,e.backgroundColor=this.backgroundColor,e.backgroundPadding=this.backgroundPadding,e.scale=this.scale,e.horizontalOrigin=this.horizontalOrigin,e.verticalOrigin=this.verticalOrigin,e.eyeOffset=this.eyeOffset,e.heightReference=this.heightReference,e.pixelOffset=this.pixelOffset,e.translucencyByDistance=this.translucencyByDistance,e.pixelOffsetScaleByDistance=this.pixelOffsetScaleByDistance,e.scaleByDistance=this.scaleByDistance,e.distanceDisplayCondition=this.distanceDisplayCondition,e.disableDepthTestDistance=this.disableDepthTestDistance,e):new a(this)},a.prototype.merge=function(t){this.text=e(this.text,t.text),this.font=e(this.font,t.font),this.show=e(this.show,t.show),this.style=e(this.style,t.style),this.fillColor=e(this.fillColor,t.fillColor),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.showBackground=e(this.showBackground,t.showBackground),this.backgroundColor=e(this.backgroundColor,t.backgroundColor),this.backgroundPadding=e(this.backgroundPadding,t.backgroundPadding),this.scale=e(this.scale,t.scale),this.horizontalOrigin=e(this.horizontalOrigin,t.horizontalOrigin),this.verticalOrigin=e(this.verticalOrigin,t.verticalOrigin),this.eyeOffset=e(this.eyeOffset,t.eyeOffset),this.heightReference=e(this.heightReference,t.heightReference),this.pixelOffset=e(this.pixelOffset,t.pixelOffset),this.translucencyByDistance=e(this.translucencyByDistance,t.translucencyByDistance),this.pixelOffsetScaleByDistance=e(this.pixelOffsetScaleByDistance,t.pixelOffsetScaleByDistance),this.scaleByDistance=e(this.scaleByDistance,t.scaleByDistance),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition),this.disableDepthTestDistance=e(this.disableDepthTestDistance,t.disableDepthTestDistance)},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._material=void 0,this._materialSubscription=void 0,this._show=void 0,this._showSubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._resolution=void 0,this._resolutionSubscription=void 0,this._leadTime=void 0,this._leadTimeSubscription=void 0,this._trailTime=void 0,this._trailTimeSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:a("show"),material:o("material"),width:a("width"),resolution:a("resolution"),leadTime:a("leadTime"),trailTime:a("trailTime"),distanceDisplayCondition:a("distanceDisplayCondition")}),s.prototype.clone=function(e){return t(e)?(e.material=this.material,e.width=this.width,e.resolution=this.resolution,e.show=this.show,e.leadTime=this.leadTime,e.trailTime=this.trailTime,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new s(this)},s.prototype.merge=function(t){this.material=e(this.material,t.material),this.width=e(this.width,t.width),this.resolution=e(this.resolution,t.resolution),this.show=e(this.show,t.show),this.leadTime=e(this.leadTime,t.leadTime),this.trailTime=e(this.trailTime,t.trailTime),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._show=void 0,this._showSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._coordinates=void 0,this._coordinatesSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._stRotation=void 0,this._stRotationSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distancedisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:a("show"),coordinates:a("coordinates"),material:o("material"),height:a("height"),heightReference:a("heightReference"),extrudedHeight:a("extrudedHeight"),extrudedHeightReference:a("extrudedHeightReference"),granularity:a("granularity"),stRotation:a("stRotation"),rotation:a("rotation"),fill:a("fill"),outline:a("outline"),outlineColor:a("outlineColor"),outlineWidth:a("outlineWidth"),shadows:a("shadows"),distanceDisplayCondition:a("distanceDisplayCondition"),classificationType:a("classificationType"),zIndex:a("zIndex")}),s.prototype.clone=function(e){return t(e)?(e.show=this.show,e.coordinates=this.coordinates,e.material=this.material,e.height=this.height,e.heightReference=this.heightReference,e.extrudedHeight=this.extrudedHeight,e.extrudedHeightReference=this.extrudedHeightReference,e.granularity=this.granularity,e.stRotation=this.stRotation,e.rotation=this.rotation,e.fill=this.fill,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e.classificationType=this.classificationType,e.zIndex=this.zIndex,e):new s(this)},s.prototype.merge=function(t){this.show=e(this.show,t.show),this.coordinates=e(this.coordinates,t.coordinates),this.material=e(this.material,t.material),this.height=e(this.height,t.height),this.heightReference=e(this.heightReference,t.heightReference),this.extrudedHeight=e(this.extrudedHeight,t.extrudedHeight),this.extrudedHeightReference=e(this.extrudedHeightReference,t.extrudedHeightReference),this.granularity=e(this.granularity,t.granularity),this.stRotation=e(this.stRotation,t.stRotation),this.rotation=e(this.rotation,t.rotation),this.fill=e(this.fill,t.fill),this.outline=e(this.outline,t.outline),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.shadows=e(this.shadows,t.shadows),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=e(this.classificationType,t.classificationType),this.zIndex=e(this.zIndex,t.zIndex)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._show=void 0,this._showSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._minimumHeights=void 0,this._minimumHeightsSubscription=void 0,this._maximumHeights=void 0,this._maximumHeightsSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:a("show"),material:o("material"),positions:a("positions"),minimumHeights:a("minimumHeights"),maximumHeights:a("maximumHeights"),granularity:a("granularity"),fill:a("fill"),outline:a("outline"),outlineColor:a("outlineColor"),outlineWidth:a("outlineWidth"),shadows:a("shadows"),distanceDisplayCondition:a("distanceDisplayCondition")}),s.prototype.clone=function(e){return t(e)?(e.show=this.show,e.material=this.material,e.positions=this.positions,e.minimumHeights=this.minimumHeights,e.maximumHeights=this.maximumHeights,e.granularity=this.granularity,e.fill=this.fill,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new s(this)},s.prototype.merge=function(t){this.show=e(this.show,t.show),this.material=e(this.material,t.material),this.positions=e(this.positions,t.positions),this.minimumHeights=e(this.minimumHeights,t.minimumHeights),this.maximumHeights=e(this.maximumHeights,t.maximumHeights),this.granularity=e(this.granularity,t.granularity),this.fill=e(this.fill,t.fill),this.outline=e(this.outline,t.outline),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.shadows=e(this.shadows,t.shadows),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(216),n(131),n(326),n(89)],void 0!==(i=function(e,t,n,r,i,o,a,s,u){"use strict";function l(t){this._definitionChanged=new i,this._intervals=new a,this._intervals.changedEvent.addEventListener(l.prototype._intervalsChanged,this),this._referenceFrame=e(t,o.FIXED)}return n(l.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}},referenceFrame:{get:function(){return this._referenceFrame}}}),l.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,o.FIXED,t)},l.prototype.getValueInReferenceFrame=function(e,n,r){var i=this._intervals.findDataForIntervalContainingDate(e);if(t(i))return s.convertToReferenceFrame(e,i,this._referenceFrame,n,r)},l.prototype.equals=function(e){return this===e||e instanceof l&&this._intervals.equals(e._intervals,u.equals)&&this._referenceFrame===e._referenceFrame},l.prototype._intervalsChanged=function(){this._definitionChanged.raiseEvent(this)},l}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(3),n(15),n(131),n(89)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(){this._definitionChanged=new r,this._intervals=new i,this._intervals.changedEvent.addEventListener(a.prototype._intervalsChanged,this)}return t(a.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}}}),a.prototype.getValue=function(t,n){var r=this._intervals.findDataForIntervalContainingDate(t);return e(r)&&"function"==typeof r.clone?r.clone(n):r},a.prototype.equals=function(e){return this===e||e instanceof a&&this._intervals.equals(e._intervals,o.equals)},a.prototype._intervalsChanged=function(){this._definitionChanged.raiseEvent(this)},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(9)],void 0!==(i=function(e,t){"use strict";var n={HIGHLIGHT:0,REPLACE:1,MIX:2};return n.getColorBlend=function(e,r){return e===n.HIGHLIGHT?0:e===n.REPLACE?1:e===n.MIX?t.clamp(r,t.EPSILON4,1):void 0},e(n)}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(38),n(17),n(10),n(41),n(24),n(25),n(42),n(31),n(1),n(0),n(2),n(21),n(3),n(135),n(49),n(71),n(9),n(20),n(79),n(26),n(93),n(64),n(61),n(60),n(47),n(68),n(77),n(52),n(100),n(115),n(244),n(532),n(1293),n(530),n(70),n(295),n(1294),n(46)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L,N,R,k){"use strict";function F(e){e=u(e,u.EMPTY_OBJECT),this.modelMatrix=_.clone(u(e.modelMatrix,_.IDENTITY)),this._modelMatrix=_.clone(_.IDENTITY),this.debugShowBoundingVolume=u(e.debugShowBoundingVolume,!1),this._opaqueRS=void 0,this._translucentRS=void 0,this._colorCommands=[],this._polylinesUpdated=!1,this._polylinesRemoved=!1,this._createVertexArray=!1,this._propertiesChanged=new Uint32Array(ae),this._polylines=[],this._polylineBuckets={},this._positionBufferUsage={bufferUsage:b.STATIC_DRAW,frameCount:0},this._mode=void 0,this._polylinesToUpdate=[],this._vertexArrays=[],this._positionBuffer=void 0,this._texCoordExpandAndBatchIndexBuffer=void 0,this._batchTable=void 0,this._createBatchTable=!1,this._useHighlightColor=!1,this._highlightColor=o.clone(o.WHITE);var t=this;this._uniformMap={u_highlightColor:function(){return t._highlightColor}}}function U(e,t){l(e._batchTable)&&e._batchTable.destroy();var n=[{functionName:"batchTable_getWidthAndShow",componentDatatype:s.UNSIGNED_BYTE,componentsPerAttribute:2},{functionName:"batchTable_getPickColor",componentDatatype:s.UNSIGNED_BYTE,componentsPerAttribute:4,normalize:!0},{functionName:"batchTable_getCenterHigh",componentDatatype:s.FLOAT,componentsPerAttribute:3},{functionName:"batchTable_getCenterLowAndRadius",componentDatatype:s.FLOAT,componentsPerAttribute:4},{functionName:"batchTable_getDistanceDisplayCondition",componentDatatype:s.FLOAT,componentsPerAttribute:2}];e._batchTable=new B(t,n,e._polylines.length)}function z(t,n,r,i){for(var o=n.context,s=n.commandList,u=r.length,c=0,h=!0,d=t._vertexArrays,f=t.debugShowBoundingVolume,p=t._batchTable,m=p.getUniformMapCallback(),g=d.length,_=0;_<g;++_)for(var v=d[_],A=v.buckets,y=A.length,b=0;b<y;++b){for(var w,C,S,T,I=A[b],M=I.offset,O=I.bucket.shaderProgram,P=I.bucket.polylines,D=P.length,B=0,L=0;L<D;++L){var N=P[L],R=Q(N._material);if(R!==w){if(l(w)&&B>0){var F=C.isTranslucent();c>=u?(S=new x({owner:t}),r.push(S)):S=r[c],++c,T=a(m(C._uniforms),t._uniformMap),S.boundingVolume=e.clone(he,S.boundingVolume),S.modelMatrix=i,S.shaderProgram=O,S.vertexArray=v.va,S.renderState=F?t._translucentRS:t._opaqueRS,S.pass=F?E.TRANSLUCENT:E.OPAQUE,S.debugShowBoundingVolume=f,S.pickId="v_pickColor",S.uniformMap=T,S.count=B,S.offset=M,M+=B,B=0,h=!0,s.push(S)}C=N._material,C.update(o),w=R}for(var U=N._locatorBuckets,z=U.length,j=0;j<z;++j){var H=U[j];H.locator===I&&(B+=H.count)}var V;n.mode===k.SCENE3D?V=N._boundingVolumeWC:n.mode===k.COLUMBUS_VIEW?V=N._boundingVolume2D:n.mode===k.SCENE2D?l(N._boundingVolume2D)&&(V=e.clone(N._boundingVolume2D,de),V.center.x=0):l(N._boundingVolumeWC)&&l(N._boundingVolume2D)&&(V=e.union(N._boundingVolumeWC,N._boundingVolume2D,de)),h?(h=!1,e.clone(V,he)):e.union(V,he,he)}l(w)&&B>0&&(c>=u?(S=new x({owner:t}),r.push(S)):S=r[c],++c,T=a(m(C._uniforms),t._uniformMap),S.boundingVolume=e.clone(he,S.boundingVolume),S.modelMatrix=i,S.shaderProgram=O,S.vertexArray=v.va,S.renderState=C.isTranslucent()?t._translucentRS:t._opaqueRS,S.pass=C.isTranslucent()?E.TRANSLUCENT:E.OPAQUE,S.debugShowBoundingVolume=f,S.pickId="v_pickColor",S.uniformMap=T,S.count=B,S.offset=M,h=!0,s.push(S)),w=void 0}r.length=c}function j(e){var t=!1,n=e._propertiesChanged,r=e._positionBufferUsage;return n[ne]?r.bufferUsage!==b.STREAM_DRAW?(t=!0,r.bufferUsage=b.STREAM_DRAW,r.frameCount=100):r.frameCount=100:r.bufferUsage!==b.STATIC_DRAW&&(0===r.frameCount?(t=!0,r.bufferUsage=b.STATIC_DRAW):r.frameCount--),t}function H(e,t,n){e._createVertexArray=!1,Y(e),K(e),G(e);var r,i,o=[[]],a=o[0],u=e._batchTable,c=e._useHighlightColor,h=[0],d=0,f=[[]],m=0,_=e._polylineBuckets;for(r in _)_.hasOwnProperty(r)&&(i=_[r],i.updateShader(t,u,c),m+=i.lengthOfPositions);if(m>0){var v,A=e._mode,w=new Float32Array(6*m*3),x=new Float32Array(4*m),E=0,C=0,S=0;for(r in _)if(_.hasOwnProperty(r)){i=_[r],i.write(w,x,E,C,S,u,t,n),A===k.MORPHING&&(l(v)||(v=new Float32Array(6*m*3)),i.writeForMorph(v,E));var T=i.lengthOfPositions;E+=6*T*3,C+=4*T,S+=4*T,d=i.updateIndices(o,h,f,d)}var I=e._positionBufferUsage.bufferUsage,O=b.STATIC_DRAW;e._positionBuffer=y.createVertexBuffer({context:t,typedArray:w,usage:I});var P;l(v)&&(P=y.createVertexBuffer({context:t,typedArray:v,usage:I})),e._texCoordExpandAndBatchIndexBuffer=y.createVertexBuffer({context:t,typedArray:x,usage:O});for(var D=3*Float32Array.BYTES_PER_ELEMENT,B=4*Float32Array.BYTES_PER_ELEMENT,L=0,N=o.length,R=0;R<N;++R)if(a=o[R],a.length>0){var F=new Uint16Array(a),U=y.createIndexBuffer({context:t,typedArray:F,usage:b.STATIC_DRAW,indexDatatype:p.UNSIGNED_SHORT});L+=h[R];var z,j,H,V,Q=6*(R*(D*g.SIXTY_FOUR_KILOBYTES)-L*D),W=D+Q,q=D+W,X=D+q,Z=D+X,J=D+Z,$=R*(B*g.SIXTY_FOUR_KILOBYTES)-L*B,ee=[{index:se.position3DHigh,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:Q,strideInBytes:6*D},{index:se.position3DLow,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:W,strideInBytes:6*D},{index:se.position2DHigh,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:Q,strideInBytes:6*D},{index:se.position2DLow,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:W,strideInBytes:6*D},{index:se.prevPosition3DHigh,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:q,strideInBytes:6*D},{index:se.prevPosition3DLow,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:X,strideInBytes:6*D},{index:se.prevPosition2DHigh,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:q,strideInBytes:6*D},{index:se.prevPosition2DLow,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:X,strideInBytes:6*D},{index:se.nextPosition3DHigh,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:Z,strideInBytes:6*D},{index:se.nextPosition3DLow,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:J,strideInBytes:6*D},{index:se.nextPosition2DHigh,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:Z,strideInBytes:6*D},{index:se.nextPosition2DLow,componentsPerAttribute:3,componentDatatype:s.FLOAT,offsetInBytes:J,strideInBytes:6*D},{index:se.texCoordExpandAndBatchIndex,componentsPerAttribute:4,componentDatatype:s.FLOAT,vertexBuffer:e._texCoordExpandAndBatchIndexBuffer,offsetInBytes:$}];A===k.SCENE3D?(z=e._positionBuffer,j="vertexBuffer",H=fe,V="value"):A===k.SCENE2D||A===k.COLUMBUS_VIEW?(z=fe,j="value",H=e._positionBuffer,V="vertexBuffer"):(z=P,j="vertexBuffer",H=e._positionBuffer,V="vertexBuffer"),ee[0][j]=z,ee[1][j]=z,ee[2][V]=H,ee[3][V]=H,ee[4][j]=z,ee[5][j]=z,ee[6][V]=H,ee[7][V]=H,ee[8][j]=z,ee[9][j]=z,ee[10][V]=H,ee[11][V]=H;var te=new M({context:t,attributes:ee,indexBuffer:U});e._vertexArrays.push({va:te,buckets:f[R]})}}}function V(e,t){return t instanceof I?t.id:t}function Q(e){var t=N._uniformList[e.type],n=t.length;pe.length=2*n;for(var r=0,i=0;i<n;++i){var o=t[i];pe[r]=o,pe[r+1]=e._uniforms[o](),r+=2}return e.type+":"+JSON.stringify(pe,V)}function G(e){for(var t=e._mode,n=e._modelMatrix,r=e._polylineBuckets={},i=e._polylines,o=i.length,a=0;a<o;++a){var s=i[a];if(s._actualPositions.length>1){s.update();var u=s.material,c=r[u.type];l(c)||(c=r[u.type]=new J(u,t,n)),c.addPolyline(s)}}}function W(e,t){var n=t.mode;e._mode===n&&_.equals(e._modelMatrix,e.modelMatrix)||(e._mode=n,e._modelMatrix=_.clone(e.modelMatrix),e._createVertexArray=!0)}function q(e){if(e._polylinesRemoved){e._polylinesRemoved=!1;for(var t=[],n=e._polylines.length,r=0,i=0;r<n;++r){var o=e._polylines[r];l(o)&&(o._index=i++,t.push(o))}e._polylines=t}}function Y(e){for(var t=e._polylines,n=t.length,r=0;r<n;++r)if(l(t[r])){var i=t[r]._bucket;l(i)&&(i.shaderProgram=i.shaderProgram&&i.shaderProgram.destroy())}}function K(e){for(var t=e._vertexArrays.length,n=0;n<t;++n)e._vertexArrays[n].va.destroy();e._vertexArrays.length=0}function X(e){for(var t=e._polylines,n=t.length,r=0;r<n;++r)l(t[r])&&t[r]._destroy()}function Z(e,t,n){this.count=e,this.offset=t,this.bucket=n}function J(e,t,n){this.polylines=[],this.lengthOfPositions=0,this.material=e,this.shaderProgram=void 0,this.mode=t,this.modelMatrix=n}function $(e){return n.dot(n.UNIT_X,e._boundingVolume.center)<0||e._boundingVolume.intersectPlane(v.ORIGIN_ZX_PLANE)===m.INTERSECTING}var ee=R.SHOW_INDEX,te=R.WIDTH_INDEX,ne=R.POSITION_INDEX,re=R.MATERIAL_INDEX,ie=R.POSITION_SIZE_INDEX,oe=R.DISTANCE_DISPLAY_CONDITION,ae=R.NUMBER_OF_PROPERTIES,se={texCoordExpandAndBatchIndex:0,position3DHigh:1,position3DLow:2,position2DHigh:3,position2DLow:4,prevPosition3DHigh:5,prevPosition3DLow:6,prevPosition2DHigh:7,prevPosition2DLow:8,nextPosition3DHigh:9,nextPosition3DLow:10,nextPosition2DHigh:11,nextPosition2DLow:12};c(F.prototype,{length:{get:function(){return q(this),this._polylines.length}}}),F.prototype.add=function(e){var t=new R(e,this);return t._index=this._polylines.length,this._polylines.push(t),this._createVertexArray=!0,this._createBatchTable=!0,t},F.prototype.remove=function(e){if(this.contains(e)){this._polylines[e._index]=void 0;var t=this._polylinesToUpdate.indexOf(e);if(-1!==t&&this._polylinesToUpdate.splice(t,1),this._polylinesRemoved=!0,this._createVertexArray=!0,this._createBatchTable=!0,l(e._bucket)){var n=e._bucket;n.shaderProgram=n.shaderProgram&&n.shaderProgram.destroy()}return e._destroy(),!0}return!1},F.prototype.removeAll=function(){Y(this),X(this),this._polylineBuckets={},this._polylinesRemoved=!1,this._polylines.length=0,this._polylinesToUpdate.length=0,this._createVertexArray=!0},F.prototype.contains=function(e){return l(e)&&e._polylineCollection===this},F.prototype.get=function(e){return q(this),this._polylines[e]};var ue=new f,le=new r,ce=new t;F.prototype.update=function(e){if(q(this),0!==this._polylines.length){W(this,e);var n,i=e.context,o=e.mapProjection,a=this._propertiesChanged;if(this._createBatchTable){if(0===w.maximumVertexTextureImageUnits)throw new A("Vertex texture fetch support is required to render polylines. The maximum number of vertex texture image units must be greater than zero.");U(this,i),this._createBatchTable=!1}if(this._createVertexArray||j(this))H(this,i,o);else if(this._polylinesUpdated){var s=this._polylinesToUpdate;if(this._mode!==k.SCENE3D)for(var u=s.length,c=0;c<u;++c)n=s[c],n.update();if(a[ie]||a[re])H(this,i,o);else for(var h=s.length,d=this._polylineBuckets,p=0;p<h;++p){n=s[p],a=n._propertiesChanged;var m=n._bucket,g=0;for(var v in d)if(d.hasOwnProperty(v)){if(d[v]===m){a[ne]&&m.writeUpdate(g,n,this._positionBuffer,o);break}g+=d[v].lengthOfPositions}if((a[ee]||a[te])&&this._batchTable.setBatchedAttribute(n._index,0,new t(n._width,n._show)),this._batchTable.attributes.length>2){if(a[ne]||a[ie]){var y=e.mode===k.SCENE2D?n._boundingVolume2D:n._boundingVolumeWC,b=f.fromCartesian(y.center,ue),x=r.fromElements(b.low.x,b.low.y,b.low.z,y.radius,le);this._batchTable.setBatchedAttribute(n._index,2,b.high),this._batchTable.setBatchedAttribute(n._index,3,x)}if(a[oe]){var E=ce;E.x=0,E.y=Number.MAX_VALUE;var S=n.distanceDisplayCondition;l(S)&&(E.x=S.near,E.y=S.far),this._batchTable.setBatchedAttribute(n._index,4,E)}}n._clean()}s.length=0,this._polylinesUpdated=!1}a=this._propertiesChanged;for(var T=0;T<ae;++T)a[T]=0;var I=_.IDENTITY;e.mode===k.SCENE3D&&(I=this.modelMatrix);var M=e.passes,O=0!==e.morphTime;if(l(this._opaqueRS)&&this._opaqueRS.depthTest.enabled===O||(this._opaqueRS=C.fromCache({depthMask:O,depthTest:{enabled:O}})),l(this._translucentRS)&&this._translucentRS.depthTest.enabled===O||(this._translucentRS=C.fromCache({blending:L.ALPHA_BLEND,depthMask:!O,depthTest:{enabled:O}})),this._batchTable.update(e),M.render||M.pick){z(this,e,this._colorCommands,I)}}};var he=new e,de=new e;F.prototype.isDestroyed=function(){return!1},F.prototype.destroy=function(){return K(this),Y(this),X(this),this._batchTable=this._batchTable&&this._batchTable.destroy(),h(this)};var fe=[0,0,0],pe=[];F.prototype._updatePolyline=function(e,t){this._polylinesUpdated=!0,this._polylinesToUpdate.push(e),++this._propertiesChanged[t]},J.prototype.addPolyline=function(e){this.polylines.push(e),e._actualLength=this.getPolylinePositionsLength(e),this.lengthOfPositions+=e._actualLength,e._bucket=this},J.prototype.updateShader=function(e,t,n){if(!l(this.shaderProgram)){var r=["DISTANCE_DISPLAY_CONDITION"];n&&r.push("VECTOR_TILE"),-1!==this.material.shaderSource.search(/varying\s+float\s+v_polylineAngle;/g)&&r.push("POLYLINE_DASH");var i=new T({defines:r,sources:["varying vec4 v_pickColor;\n",this.material.shaderSource,P]}),o=t.getVertexShaderCallback()(D),a=new T({defines:r,sources:[O,o]});this.shaderProgram=S.fromCache({context:e,vertexShaderSource:a,fragmentShaderSource:i,attributeLocations:se})}},J.prototype.getPolylinePositionsLength=function(e){var t;if(this.mode===k.SCENE3D||!$(e))return 4*(t=e._actualPositions.length)-4;var n=0,r=e._segments.lengths;t=r.length;for(var i=0;i<t;++i)n+=4*r[i]-4;return n};var me=new n,ge=new n,_e=new n,ve=new n,Ae=new r,ye=new t;J.prototype.write=function(e,t,i,a,s,u,c,h){for(var d=this.mode,p=h.ellipsoid.maximumRadius*g.PI,m=this.polylines,_=m.length,v=0;v<_;++v){for(var A,y=m[v],b=y.width,w=y.show&&b>0,x=y._index,E=this.getSegments(y,h),C=E.positions,S=E.lengths,T=C.length,I=y.getPickId(c).color,M=0,O=0,P=0;P<T;++P){0===P?y._loop?A=C[T-2]:(A=ve,n.subtract(C[0],C[1],A),n.add(C[0],A,A)):A=C[P-1],n.clone(A,ge),n.clone(C[P],me),P===T-1?y._loop?A=C[1]:(A=ve,n.subtract(C[T-1],C[T-2],A),n.add(C[T-1],A,A)):A=C[P+1],n.clone(A,_e);var D=S[M];P===O+D&&(O+=D,++M);var B=P-O==0,L=P===O+S[M]-1;d===k.SCENE2D&&(ge.z=0,me.z=0,_e.z=0),d!==k.SCENE2D&&d!==k.MORPHING||(B||L)&&p-Math.abs(me.x)<1&&((me.x<0&&ge.x>0||me.x>0&&ge.x<0)&&n.clone(me,ge),(me.x<0&&_e.x>0||me.x>0&&_e.x<0)&&n.clone(me,_e));for(var N=B?2:0,R=L?2:4,F=N;F<R;++F){f.writeElements(me,e,i),f.writeElements(ge,e,i+6),f.writeElements(_e,e,i+12);var U=F-2<0?-1:1;t[s]=P/(T-1),t[s+1]=F%2*2-1,t[s+2]=U,t[s+3]=x,i+=18,s+=4}}var z=Ae;z.x=o.floatToByte(I.red),z.y=o.floatToByte(I.green),z.z=o.floatToByte(I.blue),z.w=o.floatToByte(I.alpha);var j=ye;j.x=b,j.y=w?1:0;var H=d===k.SCENE2D?y._boundingVolume2D:y._boundingVolumeWC,V=f.fromCartesian(H.center,ue),Q=V.high,G=r.fromElements(V.low.x,V.low.y,V.low.z,H.radius,le),W=ce;W.x=0,W.y=Number.MAX_VALUE;var q=y.distanceDisplayCondition;l(q)&&(W.x=q.near,W.y=q.far),u.setBatchedAttribute(x,0,j),u.setBatchedAttribute(x,1,z),u.attributes.length>2&&(u.setBatchedAttribute(x,2,Q),u.setBatchedAttribute(x,3,G),u.setBatchedAttribute(x,4,W))}};var be=new n,we=new n,xe=new n,Ee=new n;J.prototype.writeForMorph=function(e,t){for(var r=this.modelMatrix,i=this.polylines,o=i.length,a=0;a<o;++a)for(var s=i[a],u=s._segments.positions,l=s._segments.lengths,c=u.length,h=0,d=0,p=0;p<c;++p){var m;0===p?s._loop?m=u[c-2]:(m=Ee,n.subtract(u[0],u[1],m),n.add(u[0],m,m)):m=u[p-1],m=_.multiplyByPoint(r,m,we);var g,v=_.multiplyByPoint(r,u[p],be);p===c-1?s._loop?g=u[1]:(g=Ee,n.subtract(u[c-1],u[c-2],g),n.add(u[c-1],g,g)):g=u[p+1],g=_.multiplyByPoint(r,g,xe);var A=l[h];p===d+A&&(d+=A,++h);for(var y=p-d==0,b=p===d+l[h]-1,w=y?2:0,x=b?2:4,E=w;E<x;++E)f.writeElements(v,e,t),f.writeElements(m,e,t+6),f.writeElements(g,e,t+12),t+=18}};var Ce=new Array(1);J.prototype.updateIndices=function(e,t,n,r){var i=n.length-1,o=new Z(0,r,this);n[i].push(o);var a=0,s=e[e.length-1],u=0;s.length>0&&(u=s[s.length-1]+1);for(var l=this.polylines,c=l.length,h=0;h<c;++h){var d=l[h];d._locatorBuckets=[];var f;if(this.mode===k.SCENE3D){f=Ce;var p=d._actualPositions.length;if(!(p>0))continue;f[0]=p}else f=d._segments.lengths;var m=f.length;if(m>0){for(var _=0,v=0;v<m;++v)for(var A=f[v]-1,y=0;y<A;++y)u+4>g.SIXTY_FOUR_KILOBYTES&&(d._locatorBuckets.push({locator:o,count:_}),_=0,t.push(4),s=[],e.push(s),u=0,o.count=a,a=0,r=0,o=new Z(0,0,this),n[++i]=[o]),s.push(u,u+2,u+1),s.push(u+1,u+2,u+3),_+=6,a+=6,r+=6,u+=4;d._locatorBuckets.push({locator:o,count:_}),u+4>g.SIXTY_FOUR_KILOBYTES&&(t.push(0),s=[],e.push(s),u=0,o.count=a,r=0,a=0,o=new Z(0,0,this),n[++i]=[o])}d._clean()}return o.count=a,r},J.prototype.getPolylineStartIndex=function(e){for(var t=this.polylines,n=0,r=t.length,i=0;i<r;++i){var o=t[i];if(o===e)break;n+=o._actualLength}return n};var Se={positions:void 0,lengths:void 0},Te=new Array(1),Ie=new n,Me=new i;J.prototype.getSegments=function(t,r){var i=t._actualPositions;if(this.mode===k.SCENE3D)return Te[0]=i.length,Se.positions=i,Se.lengths=Te,Se;$(t)&&(i=t._segments.positions);for(var o,a=r.ellipsoid,s=[],u=this.modelMatrix,l=i.length,c=Ie,h=0;h<l;++h)o=i[h],c=_.multiplyByPoint(u,o,c),s.push(r.project(a.cartesianToCartographic(c,Me)));if(s.length>0){t._boundingVolume2D=e.fromPoints(s,t._boundingVolume2D);var d=t._boundingVolume2D.center;t._boundingVolume2D.center=new n(d.z,d.x,d.y)}return Se.positions=s,Se.lengths=t._segments.lengths,Se};var Oe;return J.prototype.writeUpdate=function(e,t,r,i){var o=this.mode,a=i.ellipsoid.maximumRadius*g.PI,s=t._actualLength;if(s){e+=this.getPolylineStartIndex(t);var u=Oe,c=6*s*3;!l(u)||u.length<c?u=Oe=new Float32Array(c):u.length>c&&(u=new Float32Array(u.buffer,0,c));var h,d=this.getSegments(t,i),p=d.positions,m=d.lengths,_=0,v=0,A=0;s=p.length;for(var y=0;y<s;++y){0===y?t._loop?h=p[s-2]:(h=ve,n.subtract(p[0],p[1],h),n.add(p[0],h,h)):h=p[y-1],n.clone(h,ge),n.clone(p[y],me),y===s-1?t._loop?h=p[1]:(h=ve,n.subtract(p[s-1],p[s-2],h),n.add(p[s-1],h,h)):h=p[y+1],n.clone(h,_e);var b=m[v];y===A+b&&(A+=b,++v);var w=y-A==0,x=y===A+m[v]-1;o===k.SCENE2D&&(ge.z=0,me.z=0,_e.z=0),o!==k.SCENE2D&&o!==k.MORPHING||(w||x)&&a-Math.abs(me.x)<1&&((me.x<0&&ge.x>0||me.x>0&&ge.x<0)&&n.clone(me,ge),(me.x<0&&_e.x>0||me.x>0&&_e.x<0)&&n.clone(me,_e));for(var E=w?2:0,C=x?2:4,S=E;S<C;++S)f.writeElements(me,u,_),f.writeElements(ge,u,_+6),f.writeElements(_e,u,_+12),_+=18}r.copyFromArrayView(u,18*Float32Array.BYTES_PER_ELEMENT*e)}},F}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(12),n(1),n(0),n(797)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(t){var r=n(t.radius,1),o=new e(r,r,r),a={radii:o,stackPartitions:t.stackPartitions,slicePartitions:t.slicePartitions,subdivisions:t.subdivisions};this._ellipsoidGeometry=new i(a),this._workerName="createSphereOutlineGeometry"}o.packedLength=i.packedLength,o.pack=function(e,t,n){return i.pack(e._ellipsoidGeometry,t,n)};var a=new i,s={radius:void 0,radii:new e,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0};return o.unpack=function(t,n,u){var l=i.unpack(t,n,a);return s.stackPartitions=l._stackPartitions,s.slicePartitions=l._slicePartitions,s.subdivisions=l._subdivisions,r(u)?(e.clone(l._radii,s.radii),u._ellipsoidGeometry=new i(s),u):(s.radius=l._radii.x,new o(s))},o.createGeometry=function(e){return i.createGeometry(e._ellipsoidGeometry)},o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({NONE:0,BITS12:1})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0)],void 0!==(i=function(e,t){"use strict";function n(t,n,r){this.heading=e(t,0),this.pitch=e(n,0),this.range=e(r,0)}return n.clone=function(e,r){if(t(e))return t(r)||(r=new n),r.heading=e.heading,r.pitch=e.pitch,r.range=e.range,r},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(92),n(0),n(3)],void 0!==(i=function(e,t,n){"use strict";function r(t){var n=new e(t);n.normalize();var r=n.path,i=r.lastIndexOf("/");return-1!==i&&(r=r.substr(i+1)),i=r.lastIndexOf("."),r=-1===i?"":r.substr(i+1)}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(130),n(38),n(17),n(10),n(24),n(12),n(31),n(1),n(0),n(2),n(3),n(23),n(76),n(90),n(129),n(128),n(151),n(290),n(49),n(9),n(120),n(40),n(291),n(54),n(59),n(16),n(526),n(181)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T){"use strict";function I(e,t){var n=new d({attributes:new p,primitiveType:x.TRIANGLES});return n.attributes.position=new f({componentDatatype:a.DOUBLE,componentsPerAttribute:3,values:t.positions}),e.normal&&(n.attributes.normal=new f({componentDatatype:a.FLOAT,componentsPerAttribute:3,values:t.normals})),e.tangent&&(n.attributes.tangent=new f({componentDatatype:a.FLOAT,componentsPerAttribute:3,values:t.tangents})),e.bitangent&&(n.attributes.bitangent=new f({componentDatatype:a.FLOAT,componentsPerAttribute:3,values:t.bitangents})),n}function M(e,t,n,i){var o=e.length,a=t.normal?new Float32Array(o):void 0,s=t.tangent?new Float32Array(o):void 0,u=t.bitangent?new Float32Array(o):void 0,l=0,c=j,h=z,d=U;if(t.normal||t.tangent||t.bitangent)for(var f=0;f<o;f+=3){var p=r.fromArray(e,f,F),m=l+1,g=l+2;d=n.geodeticSurfaceNormal(p,d),(t.tangent||t.bitangent)&&(r.cross(r.UNIT_Z,d,h),b.multiplyByVector(i,h,h),r.normalize(h,h),t.bitangent&&r.normalize(r.cross(d,h,c),c)),t.normal&&(a[l]=d.x,a[m]=d.y,a[g]=d.z),t.tangent&&(s[l]=h.x,s[m]=h.y,s[g]=h.z),t.bitangent&&(u[l]=c.x,u[m]=c.y,u[g]=c.z),l+=3}return I(t,{positions:e,normals:a,tangents:s,bitangents:u})}function O(e,t,n){var i=e.length,o=t.normal?new Float32Array(i):void 0,a=t.tangent?new Float32Array(i):void 0,s=t.bitangent?new Float32Array(i):void 0,u=0,l=0,c=0,h=!0,d=j,f=z,p=U;if(t.normal||t.tangent||t.bitangent)for(var m=0;m<i;m+=6){var g=r.fromArray(e,m,F),_=r.fromArray(e,(m+6)%i,W);if(h){var v=r.fromArray(e,(m+3)%i,q);r.subtract(_,g,_),r.subtract(v,g,v),p=r.normalize(r.cross(v,_,p),p),h=!1}r.equalsEpsilon(_,g,A.EPSILON10)&&(h=!0),(t.tangent||t.bitangent)&&(d=n.geodeticSurfaceNormal(g,d),t.tangent&&(f=r.normalize(r.cross(d,p,f),f))),t.normal&&(o[u++]=p.x,o[u++]=p.y,o[u++]=p.z,o[u++]=p.x,o[u++]=p.y,o[u++]=p.z),t.tangent&&(a[l++]=f.x,a[l++]=f.y,a[l++]=f.z,a[l++]=f.x,a[l++]=f.y,a[l++]=f.z),t.bitangent&&(s[c++]=d.x,s[c++]=d.y,s[c++]=d.z,s[c++]=d.x,s[c++]=d.y,s[c++]=d.z)}return I(t,{positions:e,normals:o,tangents:a,bitangents:s})}function P(e,t){for(var n=e._vertexFormat,r=e._ellipsoid,i=t.size,o=t.height,s=t.width,u=n.position?new Float64Array(3*i):void 0,l=n.st?new Float32Array(2*i):void 0,c=0,h=0,d=F,p=V,m=Number.MAX_VALUE,g=Number.MAX_VALUE,_=-Number.MAX_VALUE,A=-Number.MAX_VALUE,y=0;y<o;++y)for(var b=0;b<s;++b)S.computePosition(t,r,n.st,y,b,d,p),u[c++]=d.x,u[c++]=d.y,u[c++]=d.z,n.st&&(l[h++]=p.x,l[h++]=p.y,m=Math.min(m,p.x),g=Math.min(g,p.y),_=Math.max(_,p.x),A=Math.max(A,p.y));if(n.st&&(m<0||g<0||_>1||A>1))for(var w=0;w<l.length;w+=2)l[w]=(l[w]-m)/(_-m),l[w+1]=(l[w+1]-g)/(A-g);for(var x=M(u,n,r,t.tangentRotationMatrix),E=6*(s-1)*(o-1),C=v.createTypedArray(i,E),T=0,I=0,O=0;O<o-1;++O){for(var P=0;P<s-1;++P){var D=T,B=D+s,L=B+1,N=D+1;C[I++]=D,C[I++]=B,C[I++]=N,C[I++]=N,C[I++]=B,C[I++]=L,++T}++T}return x.indices=C,n.st&&(x.attributes.st=new f({componentDatatype:a.FLOAT,componentsPerAttribute:2,values:l})),x}function D(e,t,n,r,i){return e[t++]=r[n],e[t++]=r[n+1],e[t++]=r[n+2],e[t++]=i[n],e[t++]=i[n+1],e[t++]=i[n+2],e}function B(e,t,n,r){return e[t++]=r[n],e[t++]=r[n+1],e[t++]=r[n],e[t++]=r[n+1],e}function L(t,n){var i,o=t._shadowVolume,s=t._offsetAttribute,l=t._vertexFormat,c=t._extrudedHeight,h=t._surfaceHeight,d=t._ellipsoid,p=n.height,y=n.width;if(o){var b=T.clone(l,Y);b.normal=!0,t._vertexFormat=b}var x=P(t,n);o&&(t._vertexFormat=l);var E=w.scaleToGeodeticHeight(x.attributes.position.values,h,d,!1);E=new Float64Array(E);var C=E.length,S=2*C,I=new Float64Array(S);I.set(E);var M=w.scaleToGeodeticHeight(x.attributes.position.values,c,d);I.set(M,C),x.attributes.position.values=I;var L,N,R=l.normal?new Float32Array(S):void 0,k=l.tangent?new Float32Array(S):void 0,F=l.bitangent?new Float32Array(S):void 0,U=l.st?new Float32Array(S/3*2):void 0;if(l.normal){for(N=x.attributes.normal.values,R.set(N),i=0;i<C;i++)N[i]=-N[i];R.set(N,C),x.attributes.normal.values=R}if(o){N=x.attributes.normal.values,l.normal||(x.attributes.normal=void 0);var z=new Float32Array(S);for(i=0;i<C;i++)N[i]=-N[i];z.set(N,C),x.attributes.extrudeDirection=new f({componentDatatype:a.FLOAT,componentsPerAttribute:3,values:z})}var j,H=u(s);if(H){var V=C/3*2,Q=new Uint8Array(V);s===g.TOP?Q=e(Q,1,0,V/2):(j=s===g.NONE?0:1,Q=e(Q,j)),x.attributes.applyOffset=new f({componentDatatype:a.UNSIGNED_BYTE,componentsPerAttribute:1,values:Q})}if(l.tangent){var G=x.attributes.tangent.values;for(k.set(G),i=0;i<C;i++)G[i]=-G[i];k.set(G,C),x.attributes.tangent.values=k}if(l.bitangent){var K=x.attributes.bitangent.values;F.set(K),F.set(K,C),x.attributes.bitangent.values=F}l.st&&(L=x.attributes.st.values,U.set(L),U.set(L,C/3*2),x.attributes.st.values=U);var X=x.indices,Z=X.length,J=C/3,$=v.createTypedArray(S/3,2*Z);for($.set(X),i=0;i<Z;i+=3)$[i+Z]=X[i+2]+J,$[i+1+Z]=X[i+1]+J,$[i+2+Z]=X[i]+J;x.indices=$;var ee=2*y+2*p-4,te=2*(ee+4),ne=new Float64Array(3*te),re=o?new Float32Array(3*te):void 0,ie=H?new Uint8Array(te):void 0,oe=l.st?new Float32Array(2*te):void 0,ae=s===g.TOP;H&&!ae&&(j=s===g.ALL?1:0,ie=e(ie,j));var se,ue=0,le=0,ce=0,he=0,de=y*p;for(i=0;i<de;i+=y)se=3*i,ne=D(ne,ue,se,E,M),ue+=6,l.st&&(oe=B(oe,le,2*i,L),le+=4),o&&(ce+=3,re[ce++]=N[se],re[ce++]=N[se+1],re[ce++]=N[se+2]),ae&&(ie[he++]=1,he+=1);for(i=de-y;i<de;i++)se=3*i,ne=D(ne,ue,se,E,M),ue+=6,l.st&&(oe=B(oe,le,2*i,L),le+=4),o&&(ce+=3,re[ce++]=N[se],re[ce++]=N[se+1],re[ce++]=N[se+2]),ae&&(ie[he++]=1,he+=1);for(i=de-1;i>0;i-=y)se=3*i,ne=D(ne,ue,se,E,M),ue+=6,l.st&&(oe=B(oe,le,2*i,L),le+=4),o&&(ce+=3,re[ce++]=N[se],re[ce++]=N[se+1],re[ce++]=N[se+2]),ae&&(ie[he++]=1,he+=1);for(i=y-1;i>=0;i--)se=3*i,ne=D(ne,ue,se,E,M),ue+=6,l.st&&(oe=B(oe,le,2*i,L),le+=4),o&&(ce+=3,re[ce++]=N[se],re[ce++]=N[se+1],re[ce++]=N[se+2]),ae&&(ie[he++]=1,he+=1);var fe=O(ne,l,d);l.st&&(fe.attributes.st=new f({componentDatatype:a.FLOAT,componentsPerAttribute:2,values:oe})),o&&(fe.attributes.extrudeDirection=new f({componentDatatype:a.FLOAT,componentsPerAttribute:3,values:re})),H&&(fe.attributes.applyOffset=new f({componentDatatype:a.UNSIGNED_BYTE,componentsPerAttribute:1,values:ie}));var pe,me,ge,_e,ve=v.createTypedArray(te,6*ee);C=ne.length/3;var Ae=0;for(i=0;i<C-1;i+=2){pe=i,_e=(pe+2)%C;var ye=r.fromArray(ne,3*pe,W),be=r.fromArray(ne,3*_e,q);r.equalsEpsilon(ye,be,A.EPSILON10)||(me=(pe+1)%C,ge=(me+2)%C,ve[Ae++]=pe,ve[Ae++]=me,ve[Ae++]=_e,ve[Ae++]=_e,ve[Ae++]=me,ve[Ae++]=ge)}return fe.indices=ve,fe=_.combineInstances([new m({geometry:x}),new m({geometry:fe})]),fe[0]}function N(e,t,n,r,i){if(0===n)return C.clone(e,i);var o=S.computeOptions(e,t,n,0,H,X),a=o.height,s=o.width,u=K;return S.computePosition(o,r,!1,0,0,u[0]),S.computePosition(o,r,!1,0,s-1,u[1]),S.computePosition(o,r,!1,a-1,0,u[2]),S.computePosition(o,r,!1,a-1,s-1,u[3]),C.fromCartesianArray(u,r,i)}function R(e){e=s(e,s.EMPTY_OBJECT);var t=e.rectangle,n=s(e.height,0),r=s(e.extrudedHeight,n);this._rectangle=C.clone(t),this._granularity=s(e.granularity,A.RADIANS_PER_DEGREE),this._ellipsoid=h.clone(s(e.ellipsoid,h.WGS84)),this._surfaceHeight=Math.max(n,r),this._rotation=s(e.rotation,0),this._stRotation=s(e.stRotation,0),this._vertexFormat=T.clone(s(e.vertexFormat,T.DEFAULT)),this._extrudedHeight=Math.min(n,r),this._shadowVolume=s(e.shadowVolume,!1),this._workerName="createRectangleGeometry",this._offsetAttribute=e.offsetAttribute,this._rotatedRectangle=void 0,this._textureCoordinateRotationPoints=void 0}function k(e){if(0===e._stRotation)return[0,0,0,1,1,0];var t=C.clone(e._rectangle,ie),r=e._granularity,i=e._ellipsoid,o=e._rotation-e._stRotation,a=N(t,r,o,i,ie),s=oe;s[0].x=a.west,s[0].y=a.south,s[1].x=a.west,s[1].y=a.north,s[2].x=a.east,s[2].y=a.south;for(var u=e.rectangle,l=y.fromRotation(e._stRotation,ae),c=C.center(u,se),h=0;h<3;++h){var d=s[h];d.x-=c.longitude,d.y-=c.latitude,y.multiplyByVector(l,d,d),d.x+=c.longitude,d.y+=c.latitude,d.x=(d.x-u.west)/u.width,d.y=(d.y-u.south)/u.height}var f=s[0],p=s[1],m=s[2],g=new Array(6);return n.pack(f,g),n.pack(p,g,2),n.pack(m,g,4),g}var F=new r,U=new r,z=new r,j=new r,H=new C,V=new n,Q=new t,G=new t,W=new r,q=new r,Y=new T,K=[new r,new r,new r,new r],X=new i,Z=new i;R.packedLength=C.packedLength+h.packedLength+T.packedLength+7,R.pack=function(e,t,n){return n=s(n,0),C.pack(e._rectangle,t,n),n+=C.packedLength,h.pack(e._ellipsoid,t,n),n+=h.packedLength,T.pack(e._vertexFormat,t,n),n+=T.packedLength,t[n++]=e._granularity,t[n++]=e._surfaceHeight,t[n++]=e._rotation,t[n++]=e._stRotation,t[n++]=e._extrudedHeight,t[n++]=e._shadowVolume?1:0,t[n]=s(e._offsetAttribute,-1),t};var J=new C,$=h.clone(h.UNIT_SPHERE),ee={rectangle:J,ellipsoid:$,vertexFormat:Y,granularity:void 0,height:void 0,rotation:void 0,stRotation:void 0,extrudedHeight:void 0,shadowVolume:void 0,offsetAttribute:void 0};R.unpack=function(e,t,n){t=s(t,0);var r=C.unpack(e,t,J);t+=C.packedLength;var i=h.unpack(e,t,$);t+=h.packedLength;var o=T.unpack(e,t,Y);t+=T.packedLength;var a=e[t++],l=e[t++],c=e[t++],d=e[t++],f=e[t++],p=1===e[t++],m=e[t];return u(n)?(n._rectangle=C.clone(r,n._rectangle),n._ellipsoid=h.clone(i,n._ellipsoid),n._vertexFormat=T.clone(o,n._vertexFormat),n._granularity=a,n._surfaceHeight=l,n._rotation=c,n._stRotation=d,n._extrudedHeight=f,n._shadowVolume=p,n._offsetAttribute=-1===m?void 0:m,n):(ee.granularity=a,ee.height=l,ee.rotation=c,ee.stRotation=d,ee.extrudedHeight=f,ee.shadowVolume=p,ee.offsetAttribute=-1===m?void 0:m,new R(ee))},R.computeRectangle=function(e,t){e=s(e,s.EMPTY_OBJECT);var n=e.rectangle,r=s(e.granularity,A.RADIANS_PER_DEGREE),i=s(e.ellipsoid,h.WGS84);return N(n,r,s(e.rotation,0),i,t)};var te=new b,ne=new E,re=new i;R.createGeometry=function(n){if(!A.equalsEpsilon(n._rectangle.north,n._rectangle.south,A.EPSILON10)&&!A.equalsEpsilon(n._rectangle.east,n._rectangle.west,A.EPSILON10)){var r=n._rectangle,i=n._ellipsoid,o=n._rotation,s=n._stRotation,l=n._vertexFormat,c=S.computeOptions(r,n._granularity,o,s,H,X,Z),h=te;if(0!==s||0!==o){var p=C.center(r,re),m=i.geodeticSurfaceNormalCartographic(p,W);E.fromAxisAngle(m,-s,ne),b.fromQuaternion(ne,h)}else b.clone(b.IDENTITY,h);var _=n._surfaceHeight,v=n._extrudedHeight,y=!A.equalsEpsilon(_,v,0,A.EPSILON2);c.lonScalar=1/n._rectangle.width,c.latScalar=1/n._rectangle.height,c.tangentRotationMatrix=h,c.size=c.width*c.height;var x,T;if(r=n._rectangle,y){x=L(n,c);var I=t.fromRectangle3D(r,i,_,G),M=t.fromRectangle3D(r,i,v,Q);T=t.union(I,M)}else{if(x=P(n,c),x.attributes.position.values=w.scaleToGeodeticHeight(x.attributes.position.values,_,i,!1),u(n._offsetAttribute)){var O=x.attributes.position.values.length,D=new Uint8Array(O/3),B=n._offsetAttribute===g.NONE?0:1;e(D,B),x.attributes.applyOffset=new f({componentDatatype:a.UNSIGNED_BYTE,componentsPerAttribute:1,values:D})}T=t.fromRectangle3D(r,i,_)}return l.position||delete x.attributes.position,new d({attributes:x.attributes,indices:x.indices,primitiveType:x.primitiveType,boundingSphere:T,offsetAttribute:n._offsetAttribute})}},R.createShadowVolume=function(e,t,n){var r=e._granularity,i=e._ellipsoid,o=t(r,i),a=n(r,i);return new R({rectangle:e._rectangle,rotation:e._rotation,ellipsoid:i,stRotation:e._stRotation,granularity:r,extrudedHeight:a,height:o,vertexFormat:T.POSITION_ONLY,shadowVolume:!0})};var ie=new C,oe=[new n,new n,new n],ae=new y,se=new i;return l(R.prototype,{rectangle:{get:function(){return u(this._rotatedRectangle)||(this._rotatedRectangle=N(this._rectangle,this._granularity,this._rotation,this._ellipsoid)),this._rotatedRectangle}},textureCoordinateRotationPoints:{get:function(){return u(this._textureCoordinateRotationPoints)||(this._textureCoordinateRotationPoints=k(this)),this._textureCoordinateRotationPoints}}}),R}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";return e({ADD:t.FUNC_ADD,SUBTRACT:t.FUNC_SUBTRACT,REVERSE_SUBTRACT:t.FUNC_REVERSE_SUBTRACT,MIN:t.MIN,MAX:t.MAX})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6),n(34)],void 0!==(i=function(e,t){"use strict";return e({ZERO:t.ZERO,ONE:t.ONE,SOURCE_COLOR:t.SRC_COLOR,ONE_MINUS_SOURCE_COLOR:t.ONE_MINUS_SRC_COLOR,DESTINATION_COLOR:t.DST_COLOR,ONE_MINUS_DESTINATION_COLOR:t.ONE_MINUS_DST_COLOR,SOURCE_ALPHA:t.SRC_ALPHA,ONE_MINUS_SOURCE_ALPHA:t.ONE_MINUS_SRC_ALPHA,DESTINATION_ALPHA:t.DST_ALPHA,ONE_MINUS_DESTINATION_ALPHA:t.ONE_MINUS_DST_ALPHA,CONSTANT_COLOR:t.CONSTANT_COLOR,ONE_MINUS_CONSTANT_COLOR:t.ONE_MINUS_CONSTANT_ALPHA,CONSTANT_ALPHA:t.CONSTANT_ALPHA,ONE_MINUS_CONSTANT_ALPHA:t.ONE_MINUS_CONSTANT_ALPHA,SOURCE_ALPHA_SATURATE:t.SRC_ALPHA_SATURATE})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(293),n(292),n(38),n(10),n(24),n(12),n(31),n(3),n(9),n(1),n(0),n(2),n(23),n(225),n(135),n(72),n(76),n(90),n(157),n(40),n(79),n(59),n(16),n(134)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x){"use strict";function E(e){e=l(e,l.EMPTY_OBJECT);var t=e.positions;this.width=l(e.width,1),this._positions=t,this.granularity=l(e.granularity,9999),this.loop=l(e.loop,!1),this._ellipsoid=d.WGS84,this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}function C(e,t,n,i,o){var a=T(i,e,0,V),s=T(i,e,n,Q),u=T(i,t,0,G),l=I(s,a,Q),c=I(u,a,G);return r.cross(c,l,o),r.normalize(o,o)}function S(e,t,n,i,o,a,s,u,l,c){if(0!==o){var h=new f(e,t,a),d=h.surfaceDistance;if(!(d<o))for(var p=C(e,t,i,a,K),m=Math.ceil(d/o),g=d/m,_=g,v=m-1,A=s.length,y=0;y<v;y++){var b=h.interpolateUsingSurfaceDistance(_,W),w=T(a,b,n,q),x=T(a,b,i,Y);r.pack(p,s,A),r.pack(w,u,A),r.pack(x,l,A),c.push(b.latitude),c.push(b.longitude),A+=3,_+=g}}}function T(e,t,n,r){return i.clone(t,X),X.height=n,i.toCartesian(X,e,r)}function I(e,t,n){return r.subtract(e,t,n),r.normalize(n,n),n}function M(e,t,n,i,o){var a=I(n,t,ne),s=I(e,t,Z),l=I(i,t,J),c=r.cross(a,s,ee);c=r.normalize(c,c);var h=y.fromPointNormal(t,c,te),d=y.getPointDistance(h,i);if(u.equalsEpsilon(d,0,u.EPSILON7))return r.clone(c,o),o;o=r.add(l,s,o),o=r.normalize(o,o);var f=r.cross(a,o,$);return r.normalize(f,f),r.cross(f,a,o),r.normalize(o,o),r.dot(l,f)<re&&(o=r.negate(o,o)),o}function O(e,t,n,i){var o=I(n,t,he),a=r.dot(o,e);if(a>U||a<z){var s=I(i,n,ne),l=a<z?u.PI_OVER_TWO:-u.PI_OVER_TWO,c=b.fromAxisAngle(s,l,fe),h=A.fromQuaternion(c,de);return A.multiplyByVector(h,e,e),!0}return!1}function P(e,t,n,o,a){var s=i.toCartesian(t,e._ellipsoid,me),l=r.add(s,n,ge),c=!1,h=e._ellipsoid,d=h.cartesianToCartographic(l,pe);Math.abs(t.longitude-d.longitude)>u.PI_OVER_TWO&&(c=!0,l=r.subtract(s,n,ge),d=h.cartesianToCartographic(l,pe)),d.height=0;var f=e.project(d,a);return a=r.subtract(f,o,a),a.z=0,a=r.normalize(a,a),c&&r.negate(a,a),a}function D(e,t,n,i,o,a){var s=r.subtract(t,e,_e);r.normalize(s,s);var u=n-j,l=r.multiplyByScalar(s,u,ve);r.add(e,l,o);var c=i-H;l=r.multiplyByScalar(s,c,ve),r.add(t,l,a)}function B(e,t){var n=y.getPointDistance(ie,e),i=y.getPointDistance(ie,t),o=Ae;u.equalsEpsilon(n,0,u.EPSILON2)?(o=I(t,e,o),r.multiplyByScalar(o,u.EPSILON2,o),r.add(e,o,e)):u.equalsEpsilon(i,0,u.EPSILON2)&&(o=I(e,t,o),r.multiplyByScalar(o,u.EPSILON2,o),r.add(t,o,t))}function L(e,t){var n=Math.abs(e.longitude),r=Math.abs(t.longitude);if(u.equalsEpsilon(n,u.PI,u.EPSILON11)){var i=u.sign(t.longitude);return e.longitude=i*(n-u.EPSILON11),1}if(u.equalsEpsilon(r,u.PI,u.EPSILON11)){var o=u.sign(e.longitude);return t.longitude=o*(r-u.EPSILON11),2}return 0}function N(t,i,o,s,l,c,h){var d,f,m,v,A,y,b=i._ellipsoid,x=o.length/3-1,E=8*x,C=4*E,S=36*x,T=E>65535?new Uint32Array(S):new Uint16Array(S),M=new Float64Array(3*E),N=new Float32Array(C),k=new Float32Array(C),F=new Float32Array(C),z=new Float32Array(C),j=new Float32Array(C);h&&(m=new Float32Array(C),v=new Float32Array(C),A=new Float32Array(C),y=new Float32Array(2*E));var H=c.length/2,V=0,Q=ye;Q.height=0;var G=be;G.height=0;var W=we,q=xe;if(h)for(f=0,d=1;d<H;d++)Q.latitude=c[f],Q.longitude=c[f+1],G.latitude=c[f+2],G.longitude=c[f+3],W=i.project(Q,W),q=i.project(G,q),V+=r.distance(W,q),f+=2;var Y=s.length/3;q=r.unpack(s,0,q);var K=0;for(f=3,d=1;d<Y;d++)W=r.clone(q,W),q=r.unpack(s,f,q),K+=r.distance(W,q),f+=3;var X;f=3;var Z=0,J=0,$=0,ee=0,te=!1,ne=r.unpack(o,0,Ce),re=r.unpack(s,0,xe),ie=r.unpack(l,0,Te);if(t){O(ie,r.unpack(o,o.length-6,Ee),ne,re)&&(ie=r.negate(ie,ie))}var oe=0,ae=0,se=0;for(d=0;d<x;d++){var ue=r.clone(ne,Ee),le=r.clone(re,we),ce=r.clone(ie,Se);te&&(ce=r.negate(ce,ce)),ne=r.unpack(o,f,Ce),re=r.unpack(s,f,xe),ie=r.unpack(l,f,Te),te=O(ie,ue,ne,re),Q.latitude=c[Z],Q.longitude=c[Z+1],G.latitude=c[Z+2],G.longitude=c[Z+3];var he,de,fe,pe;if(h){var me=L(Q,G);he=i.project(Q,Le),de=i.project(G,Ne);var ge=I(de,he,We);ge.y=Math.abs(ge.y),fe=Re,pe=ke,0===me||r.dot(ge,r.UNIT_Y)>U?(fe=P(i,Q,ce,he,Re),pe=P(i,G,ie,de,ke)):1===me?(pe=P(i,G,ie,de,ke),fe.x=0,fe.y=u.sign(Q.longitude-Math.abs(G.longitude)),fe.z=0):(fe=P(i,Q,ce,he,Re),pe.x=0,pe.y=u.sign(Q.longitude-G.longitude),pe.z=0)}var _e=r.distance(le,re),ve=p.fromCartesian(ue,Qe),Ae=r.subtract(ne,ue,Fe),Je=r.normalize(Ae,je),$e=r.subtract(le,ue,Ue);$e=r.normalize($e,$e);var et=r.cross(Je,$e,je);et=r.normalize(et,et);var tt=r.cross($e,ce,He);tt=r.normalize(tt,tt);var nt=r.subtract(re,ne,ze);nt=r.normalize(nt,nt);var rt=r.cross(ie,nt,Ve);rt=r.normalize(rt,rt);var it,ot,at,st=_e/K,ut=oe/K,lt=0,ct=0,ht=0;if(h){lt=r.distance(he,de),it=p.fromCartesian(he,Ge),ot=r.subtract(de,he,We),at=r.normalize(ot,qe);var dt=at.x;at.x=at.y,at.y=-dt,ct=lt/V,ht=ae/V}for(X=0;X<8;X++){var ft=ee+4*X,pt=J+2*X,mt=ft+3,gt=X<4?1:-1,_t=2===X||3===X||6===X||7===X?1:-1;r.pack(ve.high,N,ft),N[mt]=Ae.x,r.pack(ve.low,k,ft),k[mt]=Ae.y,r.pack(tt,F,ft),F[mt]=Ae.z,r.pack(rt,z,ft),z[mt]=st*gt,r.pack(et,j,ft);var vt=ut*_t;0===vt&&_t<0&&(vt=Number.POSITIVE_INFINITY),j[mt]=vt,h&&(m[ft]=it.high.x,m[ft+1]=it.high.y,m[ft+2]=it.low.x,m[ft+3]=it.low.y,A[ft]=-fe.y,A[ft+1]=fe.x,A[ft+2]=pe.y,A[ft+3]=-pe.x,v[ft]=ot.x,v[ft+1]=ot.y,v[ft+2]=at.x,v[ft+3]=at.y,y[pt]=ct*gt,vt=ht*_t,0===vt&&_t<0&&(vt=Number.POSITIVE_INFINITY),y[pt+1]=vt)}var At=De,yt=Be,bt=Oe,wt=Pe,xt=w.fromCartographicArray(Ie,Me),Et=e.getApproximateTerrainHeights(xt,b),Ct=Et.minimumTerrainHeight,St=Et.maximumTerrainHeight;se+=Ct,se+=St,D(ue,le,Ct,St,At,bt),D(ne,re,Ct,St,yt,wt);var Tt=r.multiplyByScalar(et,u.EPSILON5,Ye);r.add(At,Tt,At),r.add(yt,Tt,yt),r.add(bt,Tt,bt),r.add(wt,Tt,wt),B(At,yt),B(bt,wt),r.pack(At,M,$),r.pack(yt,M,$+3),r.pack(wt,M,$+6),r.pack(bt,M,$+9),Tt=r.multiplyByScalar(et,-2*u.EPSILON5,Ye),r.add(At,Tt,At),r.add(yt,Tt,yt),r.add(bt,Tt,bt),r.add(wt,Tt,wt),B(At,yt),B(bt,wt),r.pack(At,M,$+12),r.pack(yt,M,$+15),r.pack(wt,M,$+18),r.pack(bt,M,$+21),Z+=2,f+=3,J+=16,$+=24,ee+=32,oe+=_e,ae+=lt}f=0;var It=0;for(d=0;d<x;d++){for(X=0;X<Ze;X++)T[f+X]=Xe[X]+It;It+=8,f+=Ze}var Mt=Ke;n.fromVertices(o,r.ZERO,3,Mt[0]),n.fromVertices(s,r.ZERO,3,Mt[1]);var Ot=n.fromBoundingSpheres(Mt);Ot.radius+=se/(2*x);var Pt={position:new _({componentDatatype:a.DOUBLE,componentsPerAttribute:3,normalize:!1,values:M}),startHiAndForwardOffsetX:R(N),startLoAndForwardOffsetY:R(k),startNormalAndForwardOffsetZ:R(F),endNormalAndTextureCoordinateNormalizationX:R(z),rightNormalAndTextureCoordinateNormalizationY:R(j)};return h&&(Pt.startHiLo2D=R(m),Pt.offsetAndRight2D=R(v),Pt.startEndNormals2D=R(A),Pt.texcoordNormalization2D=new _({componentDatatype:a.FLOAT,componentsPerAttribute:2,normalize:!1,values:y})),new g({attributes:Pt,indices:T,boundingSphere:Ot})}function R(e){return new _({componentDatatype:a.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}var k=[m,x],F=k.length,U=Math.cos(u.toRadians(30)),z=Math.cos(u.toRadians(150)),j=0,H=1e3;h(E.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+d.packedLength+1+1}}}),E.setProjectionAndEllipsoid=function(e,t){for(var n=0,r=0;r<F;r++)if(t instanceof k[r]){n=r;break}e._projectionIndex=n,e._ellipsoid=t.ellipsoid};var V=new r,Q=new r,G=new r,W=new i,q=new r,Y=new r,K=new r,X=new i;E.pack=function(e,t,n){var i=l(n,0),o=e._positions,a=o.length;t[i++]=a;for(var s=0;s<a;++s){var u=o[s];r.pack(u,t,i),i+=3}return t[i++]=e.granularity,t[i++]=e.loop?1:0,d.pack(e._ellipsoid,t,i),i+=d.packedLength,t[i++]=e._projectionIndex,t[i++]=e._scene3DOnly?1:0,t},E.unpack=function(e,t,n){for(var i=l(t,0),o=e[i++],a=new Array(o),s=0;s<o;s++)a[s]=r.unpack(e,i),i+=3;var u=e[i++],h=1===e[i++],f=d.unpack(e,i);i+=d.packedLength;var p=e[i++],m=1===e[i++];if(!c(n)){var g=new E({positions:a,granularity:u,loop:h,ellipsoid:f});return g._projectionIndex=p,g._scene3DOnly=m,g}return n._positions=a,n.granularity=u,n.loop=h,n._ellipsoid=f,n._projectionIndex=p,n._scene3DOnly=m,n};var Z=new r,J=new r,$=new r,ee=new r,te=new y(r.UNIT_X,0),ne=new r,re=0,ie=y.fromPointNormal(r.ZERO,r.UNIT_Y),oe=new r,ae=new r,se=new r,ue=new r,le=new r,ce=new r;E.createGeometry=function(e){var n,o,a=!e._scene3DOnly,s=e.loop,l=e._ellipsoid,h=e.granularity,d=new k[e._projectionIndex](l),f=j,p=H,m=e._positions,g=m.length;2===g&&(s=!1);var _,A,y,b=[m[0]];for(o=0;o<g-1;o++)_=m[o],A=m[o+1],y=v.lineSegmentPlane(_,A,ie,ce),!c(y)||r.equalsEpsilon(y,_,u.EPSILON7)||r.equalsEpsilon(y,A,u.EPSILON7)||b.push(r.clone(y)),b.push(A);s&&(_=m[g-1],A=m[0],y=v.lineSegmentPlane(_,A,ie,ce),!c(y)||r.equalsEpsilon(y,_,u.EPSILON7)||r.equalsEpsilon(y,A,u.EPSILON7)||b.push(r.clone(y)));var w=b.length,x=new Array(w);for(o=0;o<w;o++){var E=i.fromCartesian(b[o],l);E.height=0,x[o]=E}if(x=t(x,i.equalsEpsilon),!((w=x.length)<2)){var I=[],O=[],P=[],D=[],B=oe,L=ae,R=se,F=ue,U=le,z=x[0],V=x[1],Q=x[w-1];for(B=T(l,Q,f,B),F=T(l,V,f,F),L=T(l,z,f,L),R=T(l,z,p,R),U=s?M(B,L,R,F,U):C(z,V,p,l,U),r.pack(U,O,0),r.pack(L,P,0),r.pack(R,D,0),I.push(z.latitude),I.push(z.longitude),S(z,V,f,p,h,l,O,P,D,I),o=1;o<w-1;++o){B=r.clone(L,B),L=r.clone(F,L);var G=x[o];T(l,G,p,R),T(l,x[o+1],f,F),M(B,L,R,F,U),n=O.length,r.pack(U,O,n),r.pack(L,P,n),r.pack(R,D,n),I.push(G.latitude),I.push(G.longitude),S(x[o],x[o+1],f,p,h,l,O,P,D,I)}var W=x[w-1],q=x[w-2];if(L=T(l,W,f,L),R=T(l,W,p,R),s){var Y=x[0];B=T(l,q,f,B),F=T(l,Y,f,F),U=M(B,L,R,F,U)}else U=C(q,W,p,l,U);if(n=O.length,r.pack(U,O,n),r.pack(L,P,n),r.pack(R,D,n),I.push(W.latitude),I.push(W.longitude),s){for(S(W,z,f,p,h,l,O,P,D,I),n=O.length,o=0;o<3;++o)O[n+o]=O[o],P[n+o]=P[o],D[n+o]=D[o];I.push(z.latitude),I.push(z.longitude)}return N(s,d,P,D,O,I,a)}};var he=new r,de=new A,fe=new b,pe=new i,me=new r,ge=new r,_e=new r,ve=new r,Ae=new r,ye=new i,be=new i,we=new r,xe=new r,Ee=new r,Ce=new r,Se=new r,Te=new r,Ie=[ye,be],Me=new w,Oe=new r,Pe=new r,De=new r,Be=new r,Le=new r,Ne=new r,Re=new r,ke=new r,Fe=new r,Ue=new r,ze=new r,je=new r,He=new r,Ve=new r,Qe=new p,Ge=new p,We=new r,qe=new r,Ye=new r,Ke=[new n,new n],Xe=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],Ze=Xe.length;return E._projectNormal=P,E}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._heightReference=void 0,this._dimensions=void 0,this._dimensionsSubscription=void 0,this._show=void 0,this._showSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},heightReference:a("heightReference"),show:a("show"),dimensions:a("dimensions"),material:o("material"),fill:a("fill"),outline:a("outline"),outlineColor:a("outlineColor"),outlineWidth:a("outlineWidth"),shadows:a("shadows"),distanceDisplayCondition:a("distanceDisplayCondition")}),s.prototype.clone=function(e){return t(e)?(e.heightReference=this.heightReference,e.dimensions=this.dimensions,e.show=this.show,e.material=this.material,e.fill=this.fill,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new s(this)},s.prototype.merge=function(t){this.heightReference=e(this.heightReference,t.heightReference),this.dimensions=e(this.dimensions,t.dimensions),this.show=e(this.show,t.show),this.material=e(this.material,t.material),this.fill=e(this.fill,t.fill),this.outline=e(this.outline,t.outline),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.shadows=e(this.shadows,t.shadows),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(25),n(1),n(0),n(2),n(15),n(43),n(89)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e){e=n(e,n.EMPTY_OBJECT),this._definitionChanged=new o,this._image=void 0,this._imageSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._transparent=void 0,this._transparentSubscription=void 0,this.image=e.image,this.repeat=e.repeat,this.color=e.color,this.transparent=e.transparent}var l=new e(1,1),c=t.WHITE;return i(u.prototype,{isConstant:{get:function(){return s.isConstant(this._image)&&s.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},image:a("image"),repeat:a("repeat"),color:a("color"),transparent:a("transparent")}),u.prototype.getType=function(e){return"Image"},u.prototype.getValue=function(e,t){return r(t)||(t={}),t.image=s.getValueOrUndefined(this._image,e),t.repeat=s.getValueOrClonedDefault(this._repeat,e,l,t.repeat),t.color=s.getValueOrClonedDefault(this._color,e,c,t.color),s.getValueOrDefault(this._transparent,e,!1)&&(t.color.alpha=Math.min(.99,t.color.alpha)),t},u.prototype.equals=function(e){return this===e||e instanceof u&&s.equals(this._image,e._image)&&s.equals(this._color,e._color)&&s.equals(this._transparent,e._transparent)&&s.equals(this._repeat,e._repeat)},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._show=void 0,this._showSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._width=void 0,this._widthSubscription=void 0,this._cornerType=void 0,this._cornerTypeSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:a("show"),material:o("material"),positions:a("positions"),height:a("height"),heightReference:a("heightReference"),extrudedHeight:a("extrudedHeight"),extrudedHeightReference:a("extrudedHeightReference"),granularity:a("granularity"),width:a("width"),fill:a("fill"),outline:a("outline"),outlineColor:a("outlineColor"),outlineWidth:a("outlineWidth"),cornerType:a("cornerType"),shadows:a("shadows"),distanceDisplayCondition:a("distanceDisplayCondition"),classificationType:a("classificationType"),zIndex:a("zIndex")}),s.prototype.clone=function(e){return t(e)?(e.show=this.show,e.material=this.material,e.positions=this.positions,e.height=this.height,e.heightReference=this.heightReference,e.extrudedHeight=this.extrudedHeight,e.extrudedHeightReference=this.extrudedHeightReference,e.granularity=this.granularity,e.width=this.width,e.fill=this.fill,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.cornerType=this.cornerType,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e.classificationType=this.classificationType,e.zIndex=this.zIndex,e):new s(this)},s.prototype.merge=function(t){this.show=e(this.show,t.show),this.material=e(this.material,t.material),this.positions=e(this.positions,t.positions),this.height=e(this.height,t.height),this.heightReference=e(this.heightReference,t.heightReference),this.extrudedHeight=e(this.extrudedHeight,t.extrudedHeight),this.extrudedHeightReference=e(this.extrudedHeightReference,t.extrudedHeightReference),this.granularity=e(this.granularity,t.granularity),this.width=e(this.width,t.width),this.fill=e(this.fill,t.fill),this.outline=e(this.outline,t.outline),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.cornerType=e(this.cornerType,t.cornerType),this.shadows=e(this.shadows,t.shadows),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=e(this.classificationType,t.classificationType),this.zIndex=e(this.zIndex,t.zIndex)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._heightReference=void 0,this._length=void 0,this._lengthSubscription=void 0,this._topRadius=void 0,this._topRadiusSubscription=void 0,this._bottomRadius=void 0,this._bottomRadiusSubscription=void 0,this._numberOfVerticalLines=void 0,this._numberOfVerticalLinesSubscription=void 0,this._slices=void 0,this._slicesSubscription=void 0,this._show=void 0,this._showSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},heightReference:a("heightReference"),length:a("length"),topRadius:a("topRadius"),bottomRadius:a("bottomRadius"),numberOfVerticalLines:a("numberOfVerticalLines"),slices:a("slices"),show:a("show"),material:o("material"),fill:a("fill"),outline:a("outline"),outlineColor:a("outlineColor"),outlineWidth:a("outlineWidth"),shadows:a("shadows"),distanceDisplayCondition:a("distanceDisplayCondition")}),s.prototype.clone=function(e){return t(e)?(e.heightReference=this.heightReference,e.bottomRadius=this.bottomRadius,e.length=this.length,e.topRadius=this.topRadius,e.show=this.show,e.material=this.material,e.numberOfVerticalLines=this.numberOfVerticalLines,e.slices=this.slices,e.fill=this.fill,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new s(this)},s.prototype.merge=function(t){this.heightReference=e(this.heightReference,t.heightReference),this.bottomRadius=e(this.bottomRadius,t.bottomRadius),this.length=e(this.length,t.length),this.topRadius=e(this.topRadius,t.topRadius),this.show=e(this.show,t.show),this.material=e(this.material,t.material),this.numberOfVerticalLines=e(this.numberOfVerticalLines,t.numberOfVerticalLines),this.slices=e(this.slices,t.slices),this.fill=e(this.fill,t.fill),this.outline=e(this.outline,t.outline),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.shadows=e(this.shadows,t.shadows),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._semiMajorAxis=void 0,this._semiMajorAxisSubscription=void 0,this._semiMinorAxis=void 0,this._semiMinorAxisSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._show=void 0,this._showSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._height=void 0,this._heightSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._extrudedHeight=void 0,this._extrudedHeightSubscription=void 0,this._extrudedHeightReference=void 0,this._extrudedHeightReferenceSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._stRotation=void 0,this._stRotationSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._numberOfVerticalLines=void 0,this._numberOfVerticalLinesSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._classificationType=void 0,this._classificationTypeSubscription=void 0,this._zIndex=void 0,this._zIndexSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},semiMajorAxis:a("semiMajorAxis"),semiMinorAxis:a("semiMinorAxis"),rotation:a("rotation"),show:a("show"),material:o("material"),height:a("height"),heightReference:a("heightReference"),extrudedHeight:a("extrudedHeight"),extrudedHeightReference:a("extrudedHeightReference"),granularity:a("granularity"),stRotation:a("stRotation"),fill:a("fill"),outline:a("outline"),outlineColor:a("outlineColor"),outlineWidth:a("outlineWidth"),numberOfVerticalLines:a("numberOfVerticalLines"),shadows:a("shadows"),distanceDisplayCondition:a("distanceDisplayCondition"),classificationType:a("classificationType"),zIndex:a("zIndex")}),s.prototype.clone=function(e){return t(e)?(e.rotation=this.rotation,e.semiMajorAxis=this.semiMajorAxis,e.semiMinorAxis=this.semiMinorAxis,e.show=this.show,e.material=this.material,e.height=this.height,e.heightReference=this.heightReference,e.extrudedHeight=this.extrudedHeight,e.extrudedHeightReference=this.extrudedHeightReference,e.granularity=this.granularity,e.stRotation=this.stRotation,e.fill=this.fill,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.numberOfVerticalLines=this.numberOfVerticalLines,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e.classificationType=this.classificationType,e.zIndex=this.zIndex,e):new s(this)},s.prototype.merge=function(t){this.rotation=e(this.rotation,t.rotation),this.semiMajorAxis=e(this.semiMajorAxis,t.semiMajorAxis),this.semiMinorAxis=e(this.semiMinorAxis,t.semiMinorAxis),this.show=e(this.show,t.show),this.material=e(this.material,t.material),this.height=e(this.height,t.height),this.heightReference=e(this.heightReference,t.heightReference),this.extrudedHeight=e(this.extrudedHeight,t.extrudedHeight),this.extrudedHeightReference=e(this.extrudedHeightReference,t.extrudedHeightReference),this.granularity=e(this.granularity,t.granularity),this.stRotation=e(this.stRotation,t.stRotation),this.fill=e(this.fill,t.fill),this.outline=e(this.outline,t.outline),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.numberOfVerticalLines=e(this.numberOfVerticalLines,t.numberOfVerticalLines),this.shadows=e(this.shadows,t.shadows),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition),this.classificationType=e(this.classificationType,t.classificationType),this.zIndex=e(this.zIndex,t.zIndex)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._heightReference=void 0,this._show=void 0,this._showSubscription=void 0,this._radii=void 0,this._radiiSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._stackPartitions=void 0,this._stackPartitionsSubscription=void 0,this._slicePartitions=void 0,this._slicePartitionsSubscription=void 0,this._subdivisions=void 0,this._subdivisionsSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},heightReference:a("heightReference"),show:a("show"),radii:a("radii"),material:o("material"),fill:a("fill"),outline:a("outline"),outlineColor:a("outlineColor"),outlineWidth:a("outlineWidth"),stackPartitions:a("stackPartitions"),slicePartitions:a("slicePartitions"),subdivisions:a("subdivisions"),shadows:a("shadows"),distanceDisplayCondition:a("distanceDisplayCondition")}),s.prototype.clone=function(e){return t(e)?(e.heightReference=this.heightReference,e.show=this.show,e.radii=this.radii,e.material=this.material,e.fill=this.fill,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.stackPartitions=this.stackPartitions,e.slicePartitions=this.slicePartitions,e.subdivisions=this.subdivisions,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new s(this)},s.prototype.merge=function(t){this.heightReference=e(this.heightReference,t.heightReference),this.show=e(this.show,t.show),this.radii=e(this.radii,t.radii),this.material=e(this.material,t.material),this.fill=e(this.fill,t.fill),this.outline=e(this.outline,t.outline),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.stackPartitions=e(this.stackPartitions,t.stackPartitions),this.slicePartitions=e(this.slicePartitions,t.slicePartitions),this.subdivisions=e(this.subdivisions,t.subdivisions),this.shadows=e(this.shadows,t.shadows),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(43),n(786),n(443)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e){return new a(e)}function l(e){return new s(e,u)}function c(t){this._show=void 0,this._showSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this._minimumPixelSize=void 0,this._minimumPixelSizeSubscription=void 0,this._maximumScale=void 0,this._maximumScaleSubscription=void 0,this._incrementallyLoadTextures=void 0,this._incrementallyLoadTexturesSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._uri=void 0,this._uriSubscription=void 0,this._runAnimations=void 0,this._clampAnimations=void 0,this._runAnimationsSubscription=void 0,this._nodeTransformations=void 0,this._nodeTransformationsSubscription=void 0,this._heightReference=void 0,this._heightReferenceSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._silhouetteColor=void 0,this._silhouetteColorSubscription=void 0,this._silhouetteSize=void 0,this._silhouetteSizeSubscription=void 0,this._color=void 0,this._colorSubscription=void 0,this._colorBlendMode=void 0,this._colorBlendModeSubscription=void 0,this._colorBlendAmount=void 0,this._colorBlendAmountSubscription=void 0,this._clippingPlanes=void 0,this._clippingPlanesSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(c.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:o("show"),scale:o("scale"),minimumPixelSize:o("minimumPixelSize"),maximumScale:o("maximumScale"),incrementallyLoadTextures:o("incrementallyLoadTextures"),shadows:o("shadows"),uri:o("uri"),runAnimations:o("runAnimations"),clampAnimations:o("clampAnimations"),nodeTransformations:o("nodeTransformations",void 0,l),heightReference:o("heightReference"),distanceDisplayCondition:o("distanceDisplayCondition"),silhouetteColor:o("silhouetteColor"),silhouetteSize:o("silhouetteSize"),color:o("color"),colorBlendMode:o("colorBlendMode"),colorBlendAmount:o("colorBlendAmount"),clippingPlanes:o("clippingPlanes")}),c.prototype.clone=function(e){return t(e)?(e.show=this.show,e.scale=this.scale,e.minimumPixelSize=this.minimumPixelSize,e.maximumScale=this.maximumScale,e.incrementallyLoadTextures=this.incrementallyLoadTextures,e.shadows=this.shadows,e.uri=this.uri,e.runAnimations=this.runAnimations,e.clampAnimations=this.clampAnimations,e.nodeTransformations=this.nodeTransformations,e.heightReference=this._heightReference,e.distanceDisplayCondition=this.distanceDisplayCondition,e.silhouetteColor=this.silhouetteColor,e.silhouetteSize=this.silhouetteSize,e.color=this.color,e.colorBlendMode=this.colorBlendMode,e.colorBlendAmount=this.colorBlendAmount,e.clippingPlanes=this.clippingPlanes,e):new c(this)},c.prototype.merge=function(n){this.show=e(this.show,n.show),this.scale=e(this.scale,n.scale),this.minimumPixelSize=e(this.minimumPixelSize,n.minimumPixelSize),this.maximumScale=e(this.maximumScale,n.maximumScale),this.incrementallyLoadTextures=e(this.incrementallyLoadTextures,n.incrementallyLoadTextures),this.shadows=e(this.shadows,n.shadows),this.uri=e(this.uri,n.uri),this.runAnimations=e(this.runAnimations,n.runAnimations),this.clampAnimations=e(this.clampAnimations,n.clampAnimations),this.heightReference=e(this.heightReference,n.heightReference),this.distanceDisplayCondition=e(this.distanceDisplayCondition,n.distanceDisplayCondition),this.silhouetteColor=e(this.silhouetteColor,n.silhouetteColor),this.silhouetteSize=e(this.silhouetteSize,n.silhouetteSize),this.color=e(this.color,n.color),this.colorBlendMode=e(this.colorBlendMode,n.colorBlendMode),this.colorBlendAmount=e(this.colorBlendAmount,n.colorBlendAmount),this.clippingPlanes=e(this.clippingPlanes,n.clippingPlanes);var r=n.nodeTransformations;if(t(r)){var i=this.nodeTransformations;t(i)?i.merge(r):this.nodeTransformations=new s(r,u)}},c}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(15),n(533),n(43),n(89)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";var s=new i,u=function(t){t=e(t,e.EMPTY_OBJECT),this._definitionChanged=new r,this._translation=void 0,this._translationSubscription=void 0,this._rotation=void 0,this._rotationSubscription=void 0,this._scale=void 0,this._scaleSubscription=void 0,this.translation=t.translation,this.rotation=t.rotation,this.scale=t.scale};return n(u.prototype,{isConstant:{get:function(){return a.isConstant(this._translation)&&a.isConstant(this._rotation)&&a.isConstant(this._scale)}},definitionChanged:{get:function(){return this._definitionChanged}},translation:o("translation"),rotation:o("rotation"),scale:o("scale")}),u.prototype.getValue=function(e,n){return t(n)||(n=new i),n.translation=a.getValueOrClonedDefault(this._translation,e,s.translation,n.translation),n.rotation=a.getValueOrClonedDefault(this._rotation,e,s.rotation,n.rotation),n.scale=a.getValueOrClonedDefault(this._scale,e,s.scale,n.scale),n},u.prototype.equals=function(e){return this===e||e instanceof u&&a.equals(this._translation,e._translation)&&a.equals(this._rotation,e._rotation)&&a.equals(this._scale,e._scale)},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(103),n(2)],void 0!==(i=function(e,t){var r={};return function(r){function i(){var e=-1,t=this;t.append=function(n){var r,i=t.table;for(r=0;r<n.length;r++)e=e>>>8^i[255&(e^n[r])]},t.get=function(){return~e}}function o(e,t,n){return e.slice?e.slice(t,t+n):e.webkitSlice?e.webkitSlice(t,t+n):e.mozSlice?e.mozSlice(t,t+n):e.msSlice?e.msSlice(t,t+n):void 0}function a(e,t){var n,r;return n=new ArrayBuffer(e),r=new Uint8Array(n),t&&r.set(t,0),{buffer:n,array:r,view:new DataView(n)}}function s(){}function u(e){function t(t,n){var o=new Blob([e],{type:j});r=new c(o),r.init(function(){i.size=r.size,t()},n)}function n(e,t,n,i){r.readUint8Array(e,t,n,i)}var r,i=this;i.size=0,i.init=t,i.readUint8Array=n}function l(e){function t(t){for(var n=e.length;"="==e.charAt(n-1);)n--;r=e.indexOf(",")+1,i.size=Math.floor(.75*(n-r)),t()}function n(t,n,i){var o,s=a(n),u=4*Math.floor(t/3),l=4*Math.ceil((t+n)/3),c=window.atob(e.substring(u+r,l+r)),h=t-3*Math.floor(u/4);for(o=h;o<h+n;o++)s.array[o-h]=c.charCodeAt(o);i(s.array)}var r,i=this;i.size=0,i.init=t,i.readUint8Array=n}function c(e){function t(t){this.size=e.size,t()}function n(t,n,r,i){var a=new FileReader;a.onload=function(e){r(new Uint8Array(e.target.result))},a.onerror=i,a.readAsArrayBuffer(o(e,t,n))}var r=this;r.size=0,r.init=t,r.readUint8Array=n}function h(){}function d(e){function t(e){i=new Blob([],{type:j}),e()}function n(e,t){i=new Blob([i,M?e:e.buffer],{type:j}),t()}function r(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=n,r.readAsText(i,e)}var i,o=this;o.init=t,o.writeUint8Array=n,o.getData=r}function f(e){function t(t){o+="data:"+(e||"")+";base64,",t()}function n(e,t){var n,r=a.length,i=a;for(a="",n=0;n<3*Math.floor((r+e.length)/3)-r;n++)i+=String.fromCharCode(e[n]);for(;n<e.length;n++)a+=String.fromCharCode(e[n]);i.length>2?o+=window.btoa(i):a=i,t()}function r(e){e(o+window.btoa(a))}var i=this,o="",a="";i.init=t,i.writeUint8Array=n,i.getData=r}function p(e){function t(t){i=new Blob([],{type:e}),t()}function n(t,n){i=new Blob([i,M?t:t.buffer],{type:e}),n()}function r(e){e(i)}var i,o=this;o.init=t,o.writeUint8Array=n,o.getData=r}function m(e,t,n,r,i,o,a,s,u,l){function c(){e.removeEventListener(H,h,!1),s(p)}function h(e){var t=e.data,r=t.data;t.onappend&&(p+=r.length,n.writeUint8Array(r,function(){o(!1,r),d()},l)),t.onflush&&(r?(p+=r.length,n.writeUint8Array(r,function(){o(!1,r),c()},l)):c()),t.progress&&a&&a(f+t.current,i)}function d(){f=m*F,f<i?t.readUint8Array(r+f,Math.min(F,i-f),function(t){e.postMessage({append:!0,data:t}),m++,a&&a(f,i),o(!0,t)},u):e.postMessage({flush:!0})}var f,p,m=0;p=0,e.addEventListener(H,h,!1),d()}function g(e,t,n,r,i,o,a,s,u,l){function c(){var p;h=d*F,h<i?t.readUint8Array(r+h,Math.min(F,i-h),function(t){var s=e.append(t,function(){a&&a(r+h,i)});f+=s.length,o(!0,t),n.writeUint8Array(s,function(){o(!1,s),d++,setTimeout(c,1)},l),a&&a(h,i)},u):(p=e.flush(),p?(f+=p.length,n.writeUint8Array(p,function(){o(!1,p),s(f)},l)):s(f))}var h,d=0,f=0;c()}function _(e,t,o,a,s,u,l,c,h){function d(e,t){s&&!e&&_.append(t)}function f(e){u(e,_.get())}var p,_=new i;return r.zip.useWebWorkers?(p=n(535)("./"+U)(),m(p,e,t,o,a,d,l,f,c,h)):g(new r.zip.Inflater,e,t,o,a,d,l,f,c,h),p}function v(e,t,o,a,s,u,l){function c(e,t){e&&p.append(t)}function h(e){a(e,p.get())}function d(){f.removeEventListener(H,d,!1),m(f,e,t,0,e.size,c,s,h,u,l)}var f,p=new i;return r.zip.useWebWorkers?(f=n(535)("./"+z)(),f.addEventListener(H,d,!1),f.postMessage({init:!0,level:o})):g(new r.zip.Deflater,e,t,0,e.size,c,s,h,u,l),f}function A(e,t,n,r,o,a,s,u,l){function c(){var i=h*F;i<r?e.readUint8Array(n+i,Math.min(F,r-i),function(e){o&&d.append(e),s&&s(i,r,e),t.writeUint8Array(e,function(){h++,c()},l)},u):a(r,d.get())}var h=0,d=new i;c()}function y(e){var t,n,r="",i=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];for(t=0;t<e.length;t++)n=255&e.charCodeAt(t),r+=n>127?i[n-128]:String.fromCharCode(n);return r}function b(e){return decodeURIComponent(escape(e))}function w(e){var t,n="";for(t=0;t<e.length;t++)n+=String.fromCharCode(e[t]);return n}function x(e){var t=(4294901760&e)>>16,n=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&n)>>11,(2016&n)>>5,2*(31&n),0)}catch(e){}}function E(e,t,n,r,i){return e.version=t.view.getUint16(n,!0),e.bitFlag=t.view.getUint16(n+2,!0),e.compressionMethod=t.view.getUint16(n+4,!0),e.lastModDateRaw=t.view.getUint32(n+6,!0),e.lastModDate=x(e.lastModDateRaw),1==(1&e.bitFlag)?void i(P):((r||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(n+10,!0),e.compressedSize=t.view.getUint32(n+14,!0),e.uncompressedSize=t.view.getUint32(n+18,!0)),4294967295===e.compressedSize||4294967295===e.uncompressedSize?void i(D):(e.filenameLength=t.view.getUint16(n+22,!0),void(e.extraFieldLength=t.view.getUint16(n+24,!0))))}function C(e,t){function n(){}function r(n,i){e.readUint8Array(e.size-n,n,function(e){var t=a(e.length,e).view;1347093766!=t.getUint32(0)?r(n+1,i):i(t)},function(){t(B)})}return n.prototype.getData=function(n,r,i,o){function s(e,t){d&&d.terminate(),d=null,e&&e(t)}function u(e){var t=a(4);return t.view.setUint32(0,e),f.crc32==t.view.getUint32(0)}function l(e,t){o&&!u(t)?c():n.getData(function(e){s(r,e)})}function c(){s(t,R)}function h(){s(t,N)}var d,f=this;e.readUint8Array(f.offset,30,function(r){var s,u=a(r.length,r);if(1347093252!=u.view.getUint32(0))return void t(O);E(f,u,4,!1,t),s=f.offset+30+f.filenameLength+f.extraFieldLength,n.init(function(){0===f.compressionMethod?A(e,n,s,f.compressedSize,o,l,i,c,h):d=_(e,n,s,f.compressedSize,o,l,i,c,h)},h)},c)},{getEntries:function(i){if(e.size<22)return void t(O);r(22,function(r){var o,s;o=r.getUint32(16,!0),s=r.getUint16(8,!0),e.readUint8Array(o,e.size-o,function(e){var r,o,u,l,c=0,h=[],d=a(e.length,e);for(r=0;r<s;r++){if(o=new n,1347092738!=d.view.getUint32(c))return void t(O);E(o,d,c+6,!0,t),o.commentLength=d.view.getUint16(c+32,!0),o.directory=16==(16&d.view.getUint8(c+38)),o.offset=d.view.getUint32(c+42,!0),u=w(d.array.subarray(c+46,c+46+o.filenameLength)),o.filename=2048==(2048&o.bitFlag)?b(u):y(u),o.directory||"/"!=o.filename.charAt(o.filename.length-1)||(o.directory=!0),l=w(d.array.subarray(c+46+o.filenameLength+o.extraFieldLength,c+46+o.filenameLength+o.extraFieldLength+o.commentLength)),o.comment=2048==(2048&o.bitFlag)?b(l):y(l),h.push(o),c+=46+o.filenameLength+o.extraFieldLength+o.commentLength}i(h)},function(){t(B)})})},close:function(e){e&&e()}}}function S(e){return unescape(encodeURIComponent(e))}function T(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e.charCodeAt(t));return n}function I(e,t,n){function r(e,t){s&&s.terminate(),s=null,e&&e(t)}function i(){r(t,L)}function o(){r(t,R)}var s,u={},l=[],c=0;return{add:function(h,d,f,p,m){function g(t){var r;x=m.lastModDate||new Date,b=a(26),u[h]={headerArray:b.array,directory:m.directory,filename:w,offset:c,comment:T(S(m.comment||""))},b.view.setUint32(0,335546376),m.version&&b.view.setUint8(0,m.version),n||0===m.level||m.directory||b.view.setUint16(4,2048),b.view.setUint16(6,(x.getHours()<<6|x.getMinutes())<<5|x.getSeconds()/2,!0),b.view.setUint16(8,(x.getFullYear()-1980<<4|x.getMonth()+1)<<5|x.getDate(),!0),b.view.setUint16(22,w.length,!0),r=a(30+w.length),r.view.setUint32(0,1347093252),r.array.set(b.array,4),r.array.set(w,30),c+=r.array.length,e.writeUint8Array(r.array,t,i)}function _(t,n){var o=a(16);c+=t||0,o.view.setUint32(0,1347094280),void 0!==n&&(b.view.setUint32(10,n,!0),o.view.setUint32(4,n,!0)),d&&(o.view.setUint32(8,t,!0),b.view.setUint32(14,t,!0),o.view.setUint32(12,d.size,!0),b.view.setUint32(18,d.size,!0)),e.writeUint8Array(o.array,function(){c+=16,r(f)},i)}function y(){if(m=m||{},h=h.trim(),m.directory&&"/"!=h.charAt(h.length-1)&&(h+="/"),u.hasOwnProperty(h))return void t(k);w=T(S(h)),l.push(h),g(function(){d?n||0===m.level?A(d,e,0,d.size,!0,_,p,o,i):s=v(d,e,m.level,_,p,o,i):_()},i)}var b,w,x;d?d.init(y,o):y()},close:function(t){var n,o,s,h=0,d=0;for(o=0;o<l.length;o++)s=u[l[o]],h+=46+s.filename.length+s.comment.length;for(n=a(h+22),o=0;o<l.length;o++)s=u[l[o]],n.view.setUint32(d,1347092738),n.view.setUint16(d+4,5120),n.array.set(s.headerArray,d+6),n.view.setUint16(d+32,s.comment.length,!0),s.directory&&n.view.setUint8(d+38,16),n.view.setUint32(d+42,s.offset,!0),n.array.set(s.filename,d+46),n.array.set(s.comment,d+46+s.filename.length),d+=46+s.filename.length+s.comment.length;n.view.setUint32(d,1347093766),n.view.setUint16(d+8,l.length,!0),n.view.setUint16(d+10,l.length,!0),n.view.setUint32(d+12,h,!0),n.view.setUint32(d+16,c,!0),e.writeUint8Array(n.array,function(){r(function(){e.getData(t)})},i)}}}var M,O="File format is not recognized.",P="File contains encrypted entry.",D="File is using Zip64 (4gb+ file size).",B="Error while reading zip file.",L="Error while writing zip file.",N="Error while writing file data.",R="Error while reading file data.",k="File already exists.",F=524288,U="inflate.js",z="deflate.js",j="text/plain",H="message";try{M=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(e){}i.prototype.table=function(){var e,t,n,r=[];for(e=0;e<256;e++){for(n=e,t=0;t<8;t++)1&n?n=n>>>1^3988292384:n>>>=1;r[e]=n}return r}(),u.prototype=new s,u.prototype.constructor=u,l.prototype=new s,l.prototype.constructor=l,c.prototype=new s,c.prototype.constructor=c,h.prototype.getData=function(e){e(this.data)},d.prototype=new h,d.prototype.constructor=d,f.prototype=new h,f.prototype.constructor=f,p.prototype=new h,p.prototype.constructor=p,r.zip={Reader:s,Writer:h,BlobReader:c,Data64URIReader:l,TextReader:u,BlobWriter:p,Data64URIWriter:f,TextWriter:d,createReader:function(e,t,n){e.init(function(){t(C(e,n))},n)},createWriter:function(e,t,n,r){e.init(function(){t(I(e,n,r))},n)},useWebWorkers:!0};var V;t(r.zip,{workerScriptsPath:{get:function(){return void 0===V&&(V=e("ThirdParty/Workers/")),V}}})}(r),r.zip}.apply(t,r))&&(e.exports=i)},function(e,t,r){var i,o;/**
@license
topojson - https-colon-slashslash github.com/mbostock/topojson

Copyright (c) 2012, Michael Bostock
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

* Redistributions of source code must retain the above copyright notice, this
  list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright notice,
  this list of conditions and the following disclaimer in the documentation
  and/or other materials provided with the distribution.

* The name Michael Bostock may not be used to endorse or promote products
  derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
!function(){function a(e,t){function n(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=r[r.length-1],t<0?[n,i]:[i,n]}function r(e,t){for(var n in e){var r=e[n];delete t[r.start],delete r.start,delete r.end,r.forEach(function(e){i[e<0?~e:e]=1}),s.push(r)}}var i={},o={},a={},s=[],u=-1;return t.forEach(function(n,r){var i,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=t[++u],t[u]=n,t[r]=i)}),t.forEach(function(e){var t,r,i=n(e),s=i[0],u=i[1];if(t=a[s])if(delete a[t.end],t.push(e),t.end=u,r=o[u]){delete o[r.start];var l=r===t?t:t.concat(r);o[l.start=t.start]=a[l.end=r.end]=l}else o[t.start]=a[t.end]=t;else if(t=o[u])if(delete o[t.start],t.unshift(e),t.start=s,r=a[s]){delete a[r.end];var c=r===t?t:r.concat(t);o[c.start=r.start]=a[c.end=t.end]=c}else o[t.start]=a[t.end]=t;else t=[e],o[t.start=s]=a[t.end=u]=t}),r(a,o),r(o,a),t.forEach(function(e){i[e<0?~e:e]||s.push([e])}),s}function s(e,t,n){function r(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:l})}function i(e){e.forEach(r)}function o(e){e.forEach(i)}function s(e){"GeometryCollection"===e.type?e.geometries.forEach(s):e.type in h&&(l=e,h[e.type](e.arcs))}var u=[];if(arguments.length>1){var l,c=[],h={LineString:i,MultiLineString:o,Polygon:o,MultiPolygon:function(e){e.forEach(o)}};s(t),c.forEach(arguments.length<3?function(e){u.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&u.push(e[0].i)})}else for(var d=0,f=e.arcs.length;d<f;++d)u.push(d);return{type:"MultiLineString",arcs:a(e,u)}}function u(e,t){function r(e){e.forEach(function(t){t.forEach(function(t){(o[t=t<0?~t:t]||(o[t]=[])).push(e)})}),s.push(e)}function i(t){return g(h(e,{type:"Polygon",arcs:[t]}).coordinates[0])>0}var o={},s=[],u=[];return t.forEach(function(e){"Polygon"===e.type?r(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(r)}),s.forEach(function(e){if(!e._){var t=[],n=[e];for(e._=1,u.push(t);e=n.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){o[e<0?~e:e].forEach(function(e){e._||(e._=1,n.push(e))})})})}}),s.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:u.map(function(t){var r=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){o[e<0?~e:e].length<2&&r.push(e)})})}),r=a(e,r),(n=r.length)>1)for(var s,u=i(t[0][0]),l=0;l<n;++l)if(u===i(r[l])){s=r[0],r[0]=r[l],r[l]=s;break}return r})}}function l(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return c(e,t)})}:c(e,t)}function c(e,t){var n={type:"Feature",id:t.id,properties:t.properties||{},geometry:h(e,t)};return null==t.id&&delete n.id,n}function h(e,t){function n(e,t){t.length&&t.pop();for(var n,r=l[e<0?~e:e],i=0,o=r.length;i<o;++i)t.push(n=r[i].slice()),u(n,i);e<0&&d(t,o)}function r(e){return e=e.slice(),u(e,0),e}function i(e){for(var t=[],r=0,i=e.length;r<i;++r)n(e[r],t);return t.length<2&&t.push(t[0].slice()),t}function o(e){for(var t=i(e);t.length<4;)t.push(t[0].slice());return t}function a(e){return e.map(o)}function s(e){var t=e.type;return"GeometryCollection"===t?{type:t,geometries:e.geometries.map(s)}:t in c?{type:t,coordinates:c[t](e)}:null}var u=y(e.transform),l=e.arcs,c={Point:function(e){return r(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(r)},LineString:function(e){return i(e.arcs)},MultiLineString:function(e){return e.arcs.map(i)},Polygon:function(e){return a(e.arcs)},MultiPolygon:function(e){return e.arcs.map(a)}};return s(t)}function d(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function f(e,t){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;e[i]<t?n=i+1:r=i}return n}function p(e){function t(e,t){e.forEach(function(e){e<0&&(e=~e);var n=i[e];n?n.push(t):i[e]=[t]})}function n(e,n){e.forEach(function(e){t(e,n)})}function r(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){r(e,t)}):e.type in a&&a[e.type](e.arcs,t)}var i={},o=e.map(function(){return[]}),a={LineString:t,MultiLineString:n,Polygon:n,MultiPolygon:function(e,t){e.forEach(function(e){n(e,t)})}};e.forEach(r);for(var s in i)for(var u=i[s],l=u.length,c=0;c<l;++c)for(var h=c+1;h<l;++h){var d,p=u[c],m=u[h];(d=o[p])[s=f(d,m)]!==m&&d.splice(s,0,m),(d=o[m])[s=f(d,p)]!==p&&d.splice(s,0,p)}return o}function m(e,t){function n(e){o.remove(e),e[1][2]=t(e),o.push(e)}var r=y(e.transform),i=b(e.transform),o=A();return t||(t=_),e.arcs.forEach(function(e){for(var a,s,u=[],l=0,c=0,h=e.length;c<h;++c)s=e[c],r(e[c]=[s[0],s[1],1/0],c);for(var c=1,h=e.length-1;c<h;++c)a=e.slice(c-1,c+2),a[1][2]=t(a),u.push(a),o.push(a);for(var c=0,h=u.length;c<h;++c)a=u[c],a.previous=u[c-1],a.next=u[c+1];for(;a=o.pop();){var d=a.previous,f=a.next;a[1][2]<l?a[1][2]=l:l=a[1][2],d&&(d.next=f,d[2]=a[2],n(d)),f&&(f.previous=d,f[0]=a[0],n(f))}e.forEach(i)}),e}function g(e){for(var t,n=-1,r=e.length,i=e[r-1],o=0;++n<r;)t=i,i=e[n],o+=t[0]*i[1]-t[1]*i[0];return.5*o}function _(e){var t=e[0],n=e[1],r=e[2];return Math.abs((t[0]-r[0])*(n[1]-t[1])-(t[0]-n[0])*(r[1]-t[1]))}function v(e,t){return e[1][2]-t[1][2]}function A(){function e(e,t){for(;t>0;){var n=(t+1>>1)-1,i=r[n];if(v(e,i)>=0)break;r[i._=t]=i,r[e._=t=n]=e}}function t(e,t){for(;;){var n=t+1<<1,o=n-1,a=t,s=r[a];if(o<i&&v(r[o],s)<0&&(s=r[a=o]),n<i&&v(r[n],s)<0&&(s=r[a=n]),a===t)break;r[s._=t]=s,r[e._=t=a]=e}}var n={},r=[],i=0;return n.push=function(t){return e(r[t._=i]=t,i++),i},n.pop=function(){if(!(i<=0)){var e,n=r[0];return--i>0&&(e=r[i],t(r[e._=0]=e,0)),n}},n.remove=function(n){var o,a=n._;if(r[a]===n)return a!==--i&&(o=r[i],(v(o,n)<0?e:t)(r[o._=a]=o,a)),a},n}function y(e){if(!e)return w;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=n=0),e[0]=(t+=e[0])*r+o,e[1]=(n+=e[1])*i+a}}function b(e){if(!e)return w;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=n=0);var u=(e[0]-o)/r|0,l=(e[1]-a)/i|0;e[0]=u-t,e[1]=l-n,t=u,n=l}}function w(){}var x={version:"1.6.18",mesh:function(e){return h(e,s.apply(this,arguments))},meshArcs:s,merge:function(e){return h(e,u.apply(this,arguments))},mergeArcs:u,feature:l,neighbors:p,presimplify:m};i=x,void 0!==(o="function"==typeof i?i.call(t,r,t,e):i)&&(e.exports=o)}()},,function(e,t,n){var r,i;r=[n(1),n(47)],void 0!==(i=function(e,t){"use strict";function n(n){n=e(n,e.EMPTY_OBJECT),this.vertexArray=n.vertexArray,this.fragmentShaderSource=n.fragmentShaderSource,this.shaderProgram=n.shaderProgram,this.uniformMap=n.uniformMap,this.outputTexture=n.outputTexture,this.preExecute=n.preExecute,this.postExecute=n.postExecute,this.persists=e(n.persists,!1),this.pass=t.COMPUTE,this.owner=n.owner}return n.prototype.execute=function(e){e.execute(this)},n}.apply(t,r))&&(e.exports=i)},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE3NnB4IiBoZWlnaHQ9IjE3NnB4IiB2aWV3Qm94PSIwIDAgMTc2IDE3NiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMS4xICg4NzYxKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5Mb2NhdGlvblRhcmdldCArIFBhdGg8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz4KICAgICAgICA8ZmlsdGVyIHg9Ii01MCUiIHk9Ii01MCUiIHdpZHRoPSIyMDAlIiBoZWlnaHQ9IjIwMCUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9ImZpbHRlci0xIj4KICAgICAgICAgICAgPGZlT2Zmc2V0IGR4PSIwIiBkeT0iMCIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4KICAgICAgICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIgaW49InNoYWRvd09mZnNldE91dGVyMSIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlR2F1c3NpYW5CbHVyPgogICAgICAgICAgICA8ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgIDAgMCAwIDAgMCAgMCAwIDAgMC41MjY0NDY0NDUgMCIgaW49InNoYWRvd0JsdXJPdXRlcjEiIHR5cGU9Im1hdHJpeCIgcmVzdWx0PSJzaGFkb3dNYXRyaXhPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICAgICAgPGZlTWVyZ2U+CiAgICAgICAgICAgICAgICA8ZmVNZXJnZU5vZGUgaW49InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyI+PC9mZU1lcmdlTm9kZT4KICAgICAgICAgICAgPC9mZU1lcmdlPgogICAgICAgIDwvZmlsdGVyPgogICAgICAgIDxmaWx0ZXIgeD0iLTUwJSIgeT0iLTUwJSIgd2lkdGg9IjIwMCUiIGhlaWdodD0iMjAwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTIiPgogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0iU291cmNlQWxwaGEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwICAgMCAwIDAgMCAwICAgMCAwIDAgMCAwICAwIDAgMCAwLjUyNjQ0NjQ0NSAwIiBpbj0ic2hhZG93Qmx1ck91dGVyMSIgdHlwZT0ibWF0cml4IiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSI+PC9mZUNvbG9yTWF0cml4PgogICAgICAgICAgICA8ZmVNZXJnZT4KICAgICAgICAgICAgICAgIDxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIj48L2ZlTWVyZ2VOb2RlPgogICAgICAgICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIj48L2ZlTWVyZ2VOb2RlPgogICAgICAgICAgICA8L2ZlTWVyZ2U+CiAgICAgICAgPC9maWx0ZXI+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iQXJ0Ym9hcmQtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTY5MS4wMDAwMDAsIC00OTguMDAwMDAwKSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2U9IiNGRkZGRkYiPgogICAgICAgICAgICA8ZyBpZD0iTG9jYXRpb25UYXJnZXQtKy1QYXRoIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2OTkuMDAwMDAwLCA1MDYuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODAsMTQ0IEMxMTUuMzQ2MjI0LDE0NCAxNDQsMTE1LjM0NjIyNCAxNDQsODAgQzE0NCw0NC42NTM3NzYgMTE1LjM0NjIyNCwxNiA4MCwxNiBDNDQuNjUzNzc2LDE2IDE2LDQ0LjY1Mzc3NiAxNiw4MCBDMTYsMTE1LjM0NjIyNCA0NC42NTM3NzYsMTQ0IDgwLDE0NCBaIE0xNjAsODAgTDE0NCw4MCBNMTYsODAgTDAsODAgTTc5LjYsLTAuNCBMNzkuNiwxNS42IE03OC44LDE0NCBMNzguOCwxNjAiIGlkPSJMb2NhdGlvblRhcmdldCIgc3Ryb2tlLXdpZHRoPSI3IiBmaWx0ZXI9InVybCgjZmlsdGVyLTEpIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJQYXRoIiBzdHJva2Utd2lkdGg9IjIiIG9wYWNpdHk9IjAuMjUyMjE1NDg1IiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiBjeD0iODAiIGN5PSI4MCIgcj0iNiI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({NONE:0,HOLD:1,EXTRAPOLATE:2})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(3)],void 0!==(i=function(e,t){"use strict";var n={type:"Linear"};return n.getRequiredDataPoints=function(e){return 2},n.interpolateOrderZero=function(t,n,r,i,o){e(o)||(o=new Array(i));var a,s,u,l=n[0],c=n[1];for(a=0;a<i;a++)s=r[a],u=r[a+i],o[a]=((u-s)*t+c*s-l*u)/(c-l);return o},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({TEXTURE:0,PROGRAM:1,BUFFER:2,NUMBER_OF_JOB_TYPES:3})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";function e(e,t,n,r,i){return function(){var o=document.createElement("canvas"),a=i+2*r;o.height=o.width=a;var s=o.getContext("2d");return s.clearRect(0,0,a,a),0!==r&&(s.beginPath(),s.arc(a/2,a/2,a/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle=n,s.fill(),e<1&&(s.save(),s.globalCompositeOperation="destination-out",s.beginPath(),s.arc(a/2,a/2,i/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle="black",s.fill(),s.restore())),s.beginPath(),s.arc(a/2,a/2,i/2,0,2*Math.PI,!0),s.closePath(),s.fillStyle=t,s.fill(),o}}return e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(130),n(38),n(10),n(24),n(31),n(1),n(0),n(3),n(23),n(76),n(90),n(129),n(151),n(49),n(9),n(291),n(54),n(16),n(526)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v){"use strict";function A(e,t){var n,r=e._ellipsoid,o=t.size,a=t.height,s=t.width,u=new Float64Array(3*o),d=0,p=0,m=E;for(n=0;n<s;n++)v.computePosition(t,r,!1,p,n,m),u[d++]=m.x,u[d++]=m.y,u[d++]=m.z;for(n=s-1,p=1;p<a;p++)v.computePosition(t,r,!1,p,n,m),u[d++]=m.x,u[d++]=m.y,u[d++]=m.z;for(p=a-1,n=s-2;n>=0;n--)v.computePosition(t,r,!1,p,n,m),u[d++]=m.x,u[d++]=m.y,u[d++]=m.z;for(n=0,p=a-2;p>0;p--)v.computePosition(t,r,!1,p,n,m),u[d++]=m.x,u[d++]=m.y,u[d++]=m.z;for(var _=u.length/3*2,A=f.createTypedArray(u.length/3,_),y=0,b=0;b<u.length/3-1;b++)A[y++]=b,A[y++]=b+1;A[y++]=u.length/3-1,A[y++]=0;var w=new l({attributes:new h,primitiveType:g.LINES});return w.attributes.position=new c({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:u}),w.indices=A,w}function y(e,t){var n=e._surfaceHeight,r=e._extrudedHeight,i=e._ellipsoid,o=r,a=n,s=A(e,t),u=t.height,l=t.width,c=m.scaleToGeodeticHeight(s.attributes.position.values,a,i,!1),h=c.length,d=new Float64Array(2*h);d.set(c);var p=m.scaleToGeodeticHeight(s.attributes.position.values,o,i);d.set(p,h),s.attributes.position.values=d;var g=d.length/3*2+8,_=f.createTypedArray(d.length/3,g);h=d.length/6;for(var v=0,y=0;y<h-1;y++)_[v++]=y,_[v++]=y+1,_[v++]=y+h,_[v++]=y+h+1;return _[v++]=h-1,_[v++]=0,_[v++]=h+h-1,_[v++]=h,_[v++]=0,_[v++]=h,_[v++]=l-1,_[v++]=h+l-1,_[v++]=l+u-2,_[v++]=l+u-2+h,_[v++]=2*l+u-3,_[v++]=2*l+u-3+h,s.indices=_,s}function b(e){e=o(e,o.EMPTY_OBJECT);var t=e.rectangle,n=o(e.granularity,p.RADIANS_PER_DEGREE),r=o(e.ellipsoid,u.WGS84),i=o(e.rotation,0),a=o(e.height,0),s=o(e.extrudedHeight,a);this._rectangle=_.clone(t),this._granularity=n,this._ellipsoid=r,this._surfaceHeight=Math.max(a,s),this._rotation=i,this._extrudedHeight=Math.min(a,s),this._offsetAttribute=e.offsetAttribute,this._workerName="createRectangleOutlineGeometry"}var w=new t,x=new t,E=new n,C=new _;b.packedLength=_.packedLength+u.packedLength+5,b.pack=function(e,t,n){return n=o(n,0),_.pack(e._rectangle,t,n),n+=_.packedLength,u.pack(e._ellipsoid,t,n),n+=u.packedLength,t[n++]=e._granularity,t[n++]=e._surfaceHeight,t[n++]=e._rotation,t[n++]=e._extrudedHeight,t[n]=o(e._offsetAttribute,-1),t};var S=new _,T=u.clone(u.UNIT_SPHERE),I={rectangle:S,ellipsoid:T,granularity:void 0,height:void 0,rotation:void 0,extrudedHeight:void 0,offsetAttribute:void 0};b.unpack=function(e,t,n){t=o(t,0);var r=_.unpack(e,t,S);t+=_.packedLength;var i=u.unpack(e,t,T);t+=u.packedLength;var s=e[t++],l=e[t++],c=e[t++],h=e[t++],d=e[t];return a(n)?(n._rectangle=_.clone(r,n._rectangle),n._ellipsoid=u.clone(i,n._ellipsoid),n._surfaceHeight=l,n._rotation=c,n._extrudedHeight=h,n._offsetAttribute=-1===d?void 0:d,n):(I.granularity=s,I.height=l,I.rotation=c,I.extrudedHeight=h,I.offsetAttribute=-1===d?void 0:d,new b(I))};var M=new r;return b.createGeometry=function(n){var r=n._rectangle,o=n._ellipsoid,s=v.computeOptions(r,n._granularity,n._rotation,0,C,M);s.size=2*s.width+2*s.height-4;var u,h;if(!p.equalsEpsilon(r.north,r.south,p.EPSILON10)&&!p.equalsEpsilon(r.east,r.west,p.EPSILON10)){var f,_=n._surfaceHeight,b=n._extrudedHeight,E=!p.equalsEpsilon(_,b,0,p.EPSILON2);if(E){if(u=y(n,s),a(n._offsetAttribute)){var S=u.attributes.position.values.length/3,T=new Uint8Array(S);n._offsetAttribute===d.TOP?T=e(T,1,0,S/2):(f=n._offsetAttribute===d.NONE?0:1,T=e(T,f)),u.attributes.applyOffset=new c({componentDatatype:i.UNSIGNED_BYTE,componentsPerAttribute:1,values:T})}var I=t.fromRectangle3D(r,o,_,x),O=t.fromRectangle3D(r,o,b,w);h=t.union(I,O)}else{if(u=A(n,s),u.attributes.position.values=m.scaleToGeodeticHeight(u.attributes.position.values,_,o,!1),a(n._offsetAttribute)){var P=u.attributes.position.values.length,D=new Uint8Array(P/3);f=n._offsetAttribute===d.NONE?0:1,e(D,f),u.attributes.applyOffset=new c({componentDatatype:i.UNSIGNED_BYTE,componentsPerAttribute:1,values:D})}h=t.fromRectangle3D(r,o,_)}return new l({attributes:u.attributes,indices:u.indices,primitiveType:g.LINES,boundingSphere:h,offsetAttribute:n._offsetAttribute})}},b}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(130),n(38),n(10),n(31),n(1),n(0),n(3),n(23),n(76),n(90),n(129),n(151),n(49),n(9),n(54)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p){"use strict";function m(e){e=i(e,i.EMPTY_OBJECT);var t=i(e.radii,g),r=Math.round(i(e.stackPartitions,10)),o=Math.round(i(e.slicePartitions,8)),a=Math.round(i(e.subdivisions,128));this._radii=n.clone(t),this._stackPartitions=r,this._slicePartitions=o,this._subdivisions=a,this._offsetAttribute=e.offsetAttribute,this._workerName="createEllipsoidOutlineGeometry"}var g=new n(1,1,1),_=Math.cos,v=Math.sin;m.packedLength=n.packedLength+4,m.pack=function(e,t,r){return r=i(r,0),n.pack(e._radii,t,r),r+=n.packedLength,t[r++]=e._stackPartitions,t[r++]=e._slicePartitions,t[r++]=e._subdivisions,t[r]=i(e._offsetAttribute,-1),t};var A=new n,y={radii:A,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0,offsetAttribute:void 0};return m.unpack=function(e,t,r){t=i(t,0);var a=n.unpack(e,t,A);t+=n.packedLength;var s=e[t++],u=e[t++],l=e[t++],c=e[t];return o(r)?(r._radii=n.clone(a,r._radii),r._stackPartitions=s,r._slicePartitions=u,r._subdivisions=l,r._offsetAttribute=-1===c?void 0:c,r):(y.stackPartitions=s,y.slicePartitions=u,y.subdivisions=l,y.offsetAttribute=-1===c?void 0:c,new m(y))},m.createGeometry=function(n){var i=n._radii;if(!(i.x<=0||i.y<=0||i.z<=0)){var a,m,g,A,y,b,w=s.fromCartesian3(i),x=n._stackPartitions,E=n._slicePartitions,C=n._subdivisions,S=C*(x+E-1),T=S-E+2,I=new Float64Array(3*T),M=d.createTypedArray(T,2*S),O=0,P=new Array(C),D=new Array(C);for(a=0;a<C;a++)g=f.TWO_PI*a/C,P[a]=_(g),D[a]=v(g);for(a=1;a<x;a++)for(A=Math.PI*a/x,y=_(A),b=v(A),m=0;m<C;m++)I[O++]=i.x*P[m]*b,I[O++]=i.y*D[m]*b,I[O++]=i.z*y;for(P.length=E,D.length=E,a=0;a<E;a++)g=f.TWO_PI*a/E,P[a]=_(g),D[a]=v(g);for(I[O++]=0,I[O++]=0,I[O++]=i.z,a=1;a<C;a++)for(A=Math.PI*a/C,y=_(A),b=v(A),m=0;m<E;m++)I[O++]=i.x*P[m]*b,I[O++]=i.y*D[m]*b,I[O++]=i.z*y;for(I[O++]=0,I[O++]=0,I[O++]=-i.z,O=0,a=0;a<x-1;++a){var B=a*C;for(m=0;m<C-1;++m)M[O++]=B+m,M[O++]=B+m+1;M[O++]=B+C-1,M[O++]=B}var L=C*(x-1);for(m=1;m<E+1;++m)M[O++]=L,M[O++]=L+m;for(a=0;a<C-2;++a){var N=a*E+1+L,R=(a+1)*E+1+L;for(m=0;m<E-1;++m)M[O++]=R+m,M[O++]=N+m;M[O++]=R+E-1,M[O++]=N+E-1}var k=I.length/3-1;for(m=k-1;m>k-E-1;--m)M[O++]=k,M[O++]=m;var F=new c({position:new l({componentDatatype:r.DOUBLE,componentsPerAttribute:3,values:I})});if(o(n._offsetAttribute)){var U=I.length,z=new Uint8Array(U/3),j=n._offsetAttribute===h.NONE?0:1;e(z,j),F.applyOffset=new l({componentDatatype:r.UNSIGNED_BYTE,componentsPerAttribute:1,values:z})}return new u({attributes:F,indices:M,primitiveType:p.LINES,boundingSphere:t.fromEllipsoid(w),offsetAttribute:n._offsetAttribute})}},m}.apply(t,r))&&(e.exports=i)},,,function(e,t,n){var r,i;r=[n(12),n(53),n(1),n(0),n(2),n(3),n(15),n(267),n(26),n(7),n(596),n(599),n(1323),n(1324),n(1326),n(635),n(139),n(317),n(636)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v){"use strict";function A(e){return function(t){return new e(t)}}function y(e){e=n(e,n.EMPTY_OBJECT);var t=s._createEndpointResource(e.assetId,e);this.defaultAlpha=void 0,this.defaultBrightness=void 0,this.defaultContrast=void 0,this.defaultHue=void 0,this.defaultSaturation=void 0,this.defaultGamma=void 0,this.defaultMinificationFilter=void 0,this.defaultMagnificationFilter=void 0,this._ready=!1,this._tileCredits=void 0,this._errorEvent=new a;var i=this;this._readyPromise=t.fetchJson().then(function(n){if("IMAGERY"!==n.type)return l.reject(new u("Cesium ion asset "+e.assetId+" is not an imagery asset."));var o,a=n.externalType;if(r(a)){var c=b[a];if(!r(c))return l.reject(new u("Unrecognized Cesium ion imagery type: "+a));o=c(n.options)}else o=d({url:new s(n,t)});return i._tileCredits=s.getCreditsFromEndpoint(n,t),o.errorEvent.addEventListener(function(e){e.provider=i,i._errorEvent.raiseEvent(e)}),i._imageryProvider=o,o.readyPromise.then(function(){return i._ready=!0,!0})})}var b={ARCGIS_MAPSERVER:A(c),BING:A(h),GOOGLE_EARTH:A(f),MAPBOX:A(p),SINGLE_TILE:A(m),TMS:d,URL_TEMPLATE:A(g),WMS:A(_),WMTS:A(v)};return i(y.prototype,{ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise}},rectangle:{get:function(){return this._imageryProvider.rectangle}},tileWidth:{get:function(){return this._imageryProvider.tileWidth}},tileHeight:{get:function(){return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._imageryProvider.credit}},hasAlphaChannel:{get:function(){return this._imageryProvider.hasAlphaChannel}}}),y.prototype.getTileCredits=function(e,t,n){var i=this._imageryProvider.getTileCredits(e,t,n);return r(i)?this._tileCredits.concat(i):this._tileCredits},y.prototype.requestImage=function(e,t,n,r){return this._imageryProvider.requestImage(e,t,n,r)},y.prototype.pickFeatures=function(e,t,n,r,i){return this._imageryProvider.pickFeatures(e,t,n,r,i)},y}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(0),n(3),n(309)],void 0!==(i=function(e,t,n,r){"use strict";function i(n,i){return n.readyPromise.then(function(){for(var o=[],a=n.availability,s=0;s<i.length;++s){var u=i[s],l=a.computeMaximumLevelAtPosition(u),c=o[l];t(c)||(o[l]=c=[]),c.push(u)}return e.all(o.map(function(e,i){if(t(e))return r(n,i,e)})).then(function(){return i})})}return i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(182),n(103),n(12),n(53),n(1),n(0),n(2),n(21)],void 0!==(i=function(e,t,r,i,o,a,s,u){"use strict";function l(e,t){for(var n=e.length,r=0;r<n;r++){var o=e[r];if(i.equals(o,t))return!0}return!1}function c(e){var t=e._previousCesiumCredit,n=e._currentCesiumCredit;i.equals(n,t)||(a(t)&&e._cesiumCreditContainer.removeChild(t.element),a(n)&&e._cesiumCreditContainer.appendChild(n.element),e._previousCesiumCredit=n)}function h(e){var t=document.createElement("span");return t.textContent=e,t.className=x,t}function d(e,t){if(a(t)){var n=document.createElement(t);n._creditId=e._creditId,n.appendChild(e),e=n}return e}function f(e,t,n,r){for(var i=e.childNodes,o=-1,s=0;s<t.length;++s){var u=t[s];if(a(u)){if(o=s,a(n)&&(o*=2,s>0)){var l=o-1;if(i.length<=l)e.appendChild(h(n));else{var c=i[l];c.className!==x&&e.replaceChild(h(n),c)}}var f=u.element;if(i.length<=o)e.appendChild(d(f,r));else{var p=i[o];p._creditId!==u._id&&e.replaceChild(d(f,r),p)}}}for(++o;o<i.length;)e.removeChild(i[o])}function p(e){var t=e._lightboxCredits,n=e.viewport.clientWidth,r=e.viewport.clientHeight;n!==e._lastViewportWidth&&(n<A?(t.className="cesium-credit-lightbox cesium-credit-lightbox-mobile",t.style.marginTop="0"):(t.className="cesium-credit-lightbox cesium-credit-lightbox-expanded",t.style.marginTop=Math.floor(.5*(r-t.clientHeight))+"px"),e._lastViewportWidth=n),n>=A&&r!==e._lastViewportHeight&&(t.style.marginTop=Math.floor(.5*(r-t.clientHeight))+"px",e._lastViewportHeight=r)}function m(e,t){var n=e+" {";for(var r in t)t.hasOwnProperty(r)&&(n+=r+": "+t[r]+"; ");return n+=" }\n"}function g(){var e="";e+=m(".cesium-credit-lightbox-overlay",{display:"none","z-index":"1",position:"absolute",top:"0",left:"0",width:"100%",height:"100%","background-color":"rgba(80, 80, 80, 0.8)"}),e+=m(".cesium-credit-lightbox",{"background-color":"#303336",color:b,position:"relative","min-height":y+"px",margin:"auto"}),e+=m(".cesium-credit-lightbox > ul > li a, .cesium-credit-lightbox > ul > li a:visited",{color:b}),e+=m(".cesium-credit-lightbox > ul > li a:hover",{color:w}),e+=m(".cesium-credit-lightbox.cesium-credit-lightbox-expanded",{border:"1px solid #444","border-radius":"5px","max-width":"370px"}),e+=m(".cesium-credit-lightbox.cesium-credit-lightbox-mobile",{height:"100%",width:"100%"}),e+=m(".cesium-credit-lightbox-title",{padding:"20px 20px 0 20px"}),e+=m(".cesium-credit-lightbox-close",{"font-size":"18pt",cursor:"pointer",position:"absolute",top:"0",right:"6px",color:b}),e+=m(".cesium-credit-lightbox-close:hover",{color:w}),e+=m(".cesium-credit-lightbox > ul",{margin:"0",padding:"12px 20px 12px 40px","font-size":"13px"}),e+=m(".cesium-credit-lightbox > ul > li",{"padding-bottom":"6px"}),e+=m(".cesium-credit-lightbox > ul > li *",{padding:"0",margin:"0"}),e+=m(".cesium-credit-expand-link",{"padding-left":"5px",cursor:"pointer","text-decoration":"underline",color:b}),e+=m(".cesium-credit-expand-link:hover",{color:w}),e+=m(".cesium-credit-text",{color:b}),e+=m(".cesium-credit-textContainer *, .cesium-credit-logoContainer *",{display:"inline"});var t=document.head,n=document.createElement("style");n.innerHTML=e,t.insertBefore(n,t.firstChild)}function _(t,n,r){function a(e){l.contains(e.target)||s.hideLightbox()}var s=this;r=o(r,document.body);var u=document.createElement("div");u.className="cesium-credit-lightbox-overlay",r.appendChild(u);var l=document.createElement("div");l.className="cesium-credit-lightbox",u.appendChild(l),u.addEventListener("click",a,!1);var c=document.createElement("div");c.className="cesium-credit-lightbox-title",c.textContent="Data provided by:",l.appendChild(c);var h=document.createElement("a");h.onclick=this.hideLightbox.bind(this),h.innerHTML="&times;",h.className="cesium-credit-lightbox-close",l.appendChild(h);var d=document.createElement("ul");l.appendChild(d);var f=document.createElement("div");f.className="cesium-credit-logoContainer",f.style.display="inline",t.appendChild(f);var p=document.createElement("div");p.className="cesium-credit-textContainer",p.style.display="inline",t.appendChild(p);var m=document.createElement("a");m.className="cesium-credit-expand-link",m.onclick=this.showLightbox.bind(this),m.textContent="Data attribution",t.appendChild(m),g();var v=i.clone(_.cesiumCredit);this._delimiter=o(n," • "),this._screenContainer=p,this._cesiumCreditContainer=f,this._lastViewportHeight=void 0,this._lastViewportWidth=void 0,this._lightboxCredits=l,this._creditList=d,this._lightbox=u,this._hideLightbox=a,this._expandLink=m,this._expanded=!1,this._defaultCredits=[],this._cesiumCredit=v,this._previousCesiumCredit=void 0,this._currentCesiumCredit=v,this._currentFrameCredits={screenCredits:new e,lightboxCredits:new e},this._defaultCredit=void 0,this.viewport=r,this.container=t}function v(){if(!a(E)){var e=n(726);E=new i('<a href="https://cesium.com/" target="_blank"><img src="'+e+'" title="Cesium ion"/></a>',!0)}return _._cesiumCreditInitialized||(_._cesiumCredit=E,_._cesiumCreditInitialized=!0),E}var A=576,y=100,b="#ffffff",w="#48b",x="cesium-credit-delimiter";_.prototype.addCredit=function(e){if(e._isIon)return a(this._defaultCredit)||(this._defaultCredit=i.clone(v())),void(this._currentCesiumCredit=this._defaultCredit);e.showOnScreen?this._currentFrameCredits.screenCredits.set(e.id,e):this._currentFrameCredits.lightboxCredits.set(e.id,e)},_.prototype.addDefaultCredit=function(e){var t=this._defaultCredits;l(t,e)||t.push(e)},_.prototype.removeDefaultCredit=function(e){var t=this._defaultCredits,n=t.indexOf(e);-1!==n&&t.splice(n,1)},_.prototype.showLightbox=function(){this._lightbox.style.display="block",this._expanded=!0},_.prototype.hideLightbox=function(){this._lightbox.style.display="none",this._expanded=!1},_.prototype.update=function(){this._expanded&&p(this)},_.prototype.beginFrame=function(){var e=this._currentFrameCredits,t=e.screenCredits;t.removeAll();for(var n=this._defaultCredits,r=0;r<n.length;++r){var o=n[r];t.set(o.id,o)}e.lightboxCredits.removeAll(),i.equals(_.cesiumCredit,this._cesiumCredit)||(this._cesiumCredit=i.clone(_.cesiumCredit)),this._currentCesiumCredit=this._cesiumCredit},_.prototype.endFrame=function(){var e=this._currentFrameCredits.screenCredits.values;f(this._screenContainer,e,this._delimiter,void 0);var t=this._currentFrameCredits.lightboxCredits.values;this._expandLink.style.display=t.length>0?"inline":"none",f(this._creditList,t,void 0,"li"),c(this)},_.prototype.destroy=function(){return this._lightbox.removeEventListener("click",this._hideLightbox,!1),this.container.removeChild(this._cesiumCreditContainer),this.container.removeChild(this._screenContainer),this.container.removeChild(this._expandLink),this.viewport.removeChild(this._lightbox),u(this)},_.prototype.isDestroyed=function(){return!1},_._cesiumCredit=void 0,_._cesiumCreditInitialized=!1;var E;return s(_,{cesiumCredit:{get:function(){return v(),_._cesiumCredit},set:function(e){_._cesiumCredit=e,_._cesiumCreditInitialized=!0}}}),_}.apply(t,r))&&(e.exports=i)},,function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({AERIAL:2,AERIAL_WITH_LABELS:3,ROAD:4})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(10),n(24),n(1),n(0),n(3),n(294),n(9),n(747),n(437),n(46)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c){"use strict";function h(e,t,n){var r,i,o;if(e instanceof u){var a=Math.tan(.5*e.fovy);return r=e.near,i=e.near*a,o=e.aspectRatio*i,Math.max(t*r/o,n*r/i)}return e instanceof l?(r=e.near,i=e.top,o=e.right,Math.max(t*r/o,n*r/i)):Math.max(t,n)}function d(e,t,n,r){if(i(r)&&n(.5)>r){var o=n(0),a=n(1),u=n(.5),l=u-o,c=u-a;return function(r){var i=n(r);if(r<=.5){var u=(i-o)/l;return s.lerp(e,-s.PI_OVER_TWO,u)}var h=(i-a)/c;return s.lerp(-s.PI_OVER_TWO,t,1-h)}}return function(n){return s.lerp(e,t,n)}}function f(e,n,r,o,a){var u=a,l=Math.max(r,o);if(!i(u)){var c=e.position,d=n,f=e.up,p=e.right,m=e.frustum,g=t.subtract(c,d,x),_=t.magnitude(t.multiplyByScalar(f,t.dot(g,f),E)),v=t.magnitude(t.multiplyByScalar(p,t.dot(g,p),E));u=Math.min(.2*h(m,_,v),1e9)}if(l<u){var A=-Math.pow(1e6*(u-r),1/8),y=Math.pow(1e6*(u-o),1/8);return function(e){var t=e*(y-A)+A;return-Math.pow(t,8)/1e6+u}}return function(e){return s.lerp(r,o,e)}}function p(e,t){return s.equalsEpsilon(e,s.TWO_PI,s.EPSILON11)&&(e=0),t>e+Math.PI?e+=s.TWO_PI:t<e-Math.PI&&(e-=s.TWO_PI),e}function m(n,r,i,o,a,u,l){function c(t){var n=t.time/r;h.setView({orientation:{heading:s.lerp(g,o,n),pitch:s.lerp(m,a,n),roll:s.lerp(_,u,n)}}),e.lerp(d,i,n,h.position),h.position.z=v(n)}var h=n.camera,d=t.clone(h.position,C),m=h.pitch,g=p(h.heading,o),_=p(h.roll,u),v=f(h,i,d.z,i.z,l);return c}function g(e,t){e.longitude<t.longitude?e.longitude+=s.TWO_PI:t.longitude+=s.TWO_PI}function _(e,t){var n=e.longitude-t.longitude;n<-s.PI?e.longitude+=s.TWO_PI:n>s.PI&&(t.longitude+=s.TWO_PI)}function v(e,r,o,a,u,l,c,h,m,v){var A=e.camera,y=e.mapProjection,b=y.ellipsoid,w=n.clone(A.positionCartographic,S),x=A.pitch,E=p(A.heading,a),C=p(A.roll,l),I=b.cartesianToCartographic(o,T);w.longitude=s.zeroToTwoPi(w.longitude),I.longitude=s.zeroToTwoPi(I.longitude);var M=!1;if(i(h)){var O=s.zeroToTwoPi(h),P=Math.min(w.longitude,I.longitude),D=Math.max(w.longitude,I.longitude),B=O>=P&&O<=D;if(i(m)){var L=Math.abs(w.longitude-I.longitude),N=s.TWO_PI-L;(B?L:N)<(B?N:L)*m&&!B&&(M=!0)}else B||(M=!0)}M?g(w,I):_(w,I);var R=f(A,o,w.height,I.height,c),k=d(x,u,R,v);return function(){var e=w.longitude,n=I.longitude,i=w.latitude,o=I.latitude;return function(u){var c=u.time/r,h=t.fromRadians(s.lerp(e,n,c),s.lerp(i,o,c),R(c));A.setView({destination:h,orientation:{heading:s.lerp(E,a,c),pitch:k(c),roll:s.lerp(C,l,c)}})}}()}function A(n,r,i,o,a,u,l){function c(t){var n=t.time/r;h.setView({orientation:{heading:s.lerp(m,o,n)}}),e.lerp(d,i,n,h.position);var a=_(n),u=h.frustum,l=u.top/u.right,c=.5*(a-(u.right-u.left));u.right+=c,u.left-=c,u.top=l*u.right,u.bottom=-u.top}var h=n.camera,d=t.clone(h.position,C),m=p(h.heading,o),g=h.frustum.right-h.frustum.left,_=f(h,i,g,i.z,l);return c}function y(e,t){return{startObject:{},stopObject:{},duration:0,complete:e,cancel:t}}function b(e,t){function n(){"function"==typeof t&&t(),e.enableInputs=!0}return n}var w={},x=new t,E=new t,C=new t,S=new n,T=new n,I=new n,M=new t;return w.createTween=function(n,o){o=r(o,r.EMPTY_OBJECT);var u=o.destination,l=n.mode;if(l===c.MORPHING)return y();var h=r(o.convert,!0),d=n.mapProjection,f=d.ellipsoid,p=o.maximumHeight,g=o.flyOverLongitude,_=o.flyOverLongitudeWeight,w=o.pitchAdjustHeight,x=o.easingFunction;h&&l!==c.SCENE3D&&(f.cartesianToCartographic(u,I),u=d.project(I,M));var E=n.camera,C=o.endTransform;i(C)&&E._setTransform(C);var S=o.duration;i(S)||(S=Math.ceil(t.distance(E.position,u)/1e6)+2,S=Math.min(S,3));var T=r(o.heading,0),O=r(o.pitch,-s.PI_OVER_TWO),P=r(o.roll,0),D=n.screenSpaceCameraController;D.enableInputs=!1;var B=b(D,o.complete),L=b(D,o.cancel),N=E.frustum,R=n.mode===c.SCENE2D;if(R=R&&e.equalsEpsilon(E.position,u,s.EPSILON6),R=R&&s.equalsEpsilon(Math.max(N.right-N.left,N.top-N.bottom),u.z,s.EPSILON6),R=R||n.mode!==c.SCENE2D&&t.equalsEpsilon(u,E.position,s.EPSILON10),R=R&&s.equalsEpsilon(s.negativePiToPi(T),s.negativePiToPi(E.heading),s.EPSILON10)&&s.equalsEpsilon(s.negativePiToPi(O),s.negativePiToPi(E.pitch),s.EPSILON10)&&s.equalsEpsilon(s.negativePiToPi(P),s.negativePiToPi(E.roll),s.EPSILON10))return y(B,L);var k=new Array(4);if(k[c.SCENE2D]=A,k[c.SCENE3D]=v,k[c.COLUMBUS_VIEW]=m,S<=0){return y(function(){k[l](n,1,u,T,O,P,p,g,_,w)({time:1}),"function"==typeof B&&B()},L)}var F=k[l](n,S,u,T,O,P,p,g,_,w);if(!i(x)){var U=E.positionCartographic.height;x=U>(l===c.SCENE3D?f.cartesianToCartographic(u).height:u.z)&&U>11500?a.CUBIC_OUT:a.QUINTIC_IN_OUT}return{duration:S,easingFunction:x,startObject:{time:0},stopObject:{time:S},update:F,complete:B,cancel:L}},w}.apply(t,r))&&(e.exports=i)},,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(455),o=r(i),a=n(810),s=r(a),u=n(106),l=r(u),c=n(850),h=r(c),d=n(1240),f=r(d),p=n(1340),m=r(p),g=n(395),_=r(g),v=n(1592),A=r(v),y=n(1593),b=r(y),w=n(691),x=r(w),E=n(1601),C=r(E),S=n(1603),T=r(S),I=n(1604),M=r(I),O=n(!function(){var e=new Error('Cannot find module "terriajs-cesium/Source/Core/defined"');throw e.code="MODULE_NOT_FOUND",e}()),P=r(O),D=n(1606),B=r(D),L={baseUrl:"build/TerriaJS"};(0,f.default)(),(0,h.default)(),L.analytics=new o.default;var N=new _.default(L);(0,m.default)(N);var R=new x.default({terria:N});N.start({applicationUrl:window.location,configUrl:"config.json",shareDataService:new s.default({terria:N})}).otherwise(function(e){(0,l.default)(N,e)}).always(function(){try{R.searchState.locationSearchProviders=[new C.default({terria:N,key:N.configParameters.bingMapsKey}),new T.default({terria:N}),new M.default({terria:N})],(0,A.default)(N,window),(0,b.default)(N,window);var e=n(1921),t=n(1930),r=e(N,N.configParameters.bingMapsKey),i=r;if(t(N,i,"Positron (Light)",!1),t(N,i,"Bing Maps Aerial with Labels",!0),(0,P.default)(N.configParameters.globalDisclaimer)){var o=N.configParameters.globalDisclaimer,a=window.location.hostname;if(o.enableOnLocalhost||-1===a.indexOf("localhost")){var s="";((0,P.default)(o.devHostRegex)&&a.match(o.devHostRegex)||(0,P.default)(o.prodHostRegex)&&!a.match(o.prodHostRegex))&&(s+=n(1931)),s+=n(1932);var u={title:void 0!==o.title?o.title:"Warning",confirmText:o.buttonTitle||"Ok",width:600,height:550,message:s,horizontalPadding:100};R.notifications.push(u)}}(0,B.default)(N,i,R)}catch(e){console.error(e),console.error(e.stack)}})},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(1),o=n(0),a=n(2),s=n(3),u=n(44),l=n(105),c=n(22),h=function(e){if(!o(e)||!o(e.terria))throw new s("options.terria is required.");this.terria=e.terria,this.url=e.url,this._isUsable=void 0};a(h.prototype,{isUsable:{get:function(){return this._isUsable}}}),h.prototype.init=function(e){this.url=i(this.url,i(this.terria.configParameters.shareUrl,"share")),"object"===(void 0===e?"undefined":r(e))&&"string"==typeof e.newShareUrlPrefix?this._isUsable=!0:this._isUsable=!1},h.prototype.getShareToken=function(e){if(!this.isUsable)throw new s("ShareDataService is not usable.");var t=this;return l({url:this.url,method:"POST",data:JSON.stringify(e),headers:{"Content-Type":"application/json"},responseType:"json"}).then(function(e){return("string"==typeof e||e instanceof String)&&(e=JSON.parse(e)),e.id}).otherwise(function(e){console.log(e),t.terria.error.raiseEvent(new c({title:"Couldn't generate short URL.",message:"Something went wrong when trying to use the share data service to generate a short URL. If you believe it is a bug in "+t.terria.appName+', please report it by emailing <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>."}))})},h.prototype.resolveData=function(e){var t=this;if(!this.isUsable)throw new s("ShareDataService is not usable because ###");return u(this.url+"/"+e).then(function(e){return e}).otherwise(function(){t.terria.error.raiseEvent(new c({title:"Couldn't expand URL",message:"The share data service used to launch "+t.terria.appName+" was not located. This may indicate an error in the link or that the service is unavailable at this time. If you believe it is a bug in "+t.terria.appName+', please report it by emailing <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>."}))})},e.exports=h},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function i(e){var t=r(e),n=t[0],i=t[1];return 3*(n+i)/4-i}function o(e,t,n){return 3*(t+n)/4-n}function a(e){var t,n,i=r(e),a=i[0],s=i[1],u=new d(o(e,a,s)),l=0,c=s>0?a-4:a;for(n=0;n<c;n+=4)t=h[e.charCodeAt(n)]<<18|h[e.charCodeAt(n+1)]<<12|h[e.charCodeAt(n+2)]<<6|h[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=h[e.charCodeAt(n)]<<2|h[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=h[e.charCodeAt(n)]<<10|h[e.charCodeAt(n+1)]<<4|h[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function u(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(s(r));return i.join("")}function l(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(u(e,o,o+16383>a?a:o+16383));return 1===r?(t=e[n-1],i.push(c[t>>2]+c[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),i.join("")}t.byteLength=i,t.toByteArray=a,t.fromByteArray=l;for(var c=[],h=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=f.length;p<m;++p)c[p]=f[p],h[f.charCodeAt(p)]=p;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},function(e,t,n){var r;void 0!==(r=function(){"use strict";function e(e){return 0!==e.length&&"/"===e[e.length-1]||(e+="/"),e}return e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(0),n(2)],void 0!==(i=function(e,t){"use strict";var n,r={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},i={};return t(i,{element:{get:function(){if(i.supportsFullscreen())return document[r.fullscreenElement]}},changeEventName:{get:function(){if(i.supportsFullscreen())return r.fullscreenchange}},errorEventName:{get:function(){if(i.supportsFullscreen())return r.fullscreenerror}},enabled:{get:function(){if(i.supportsFullscreen())return document[r.fullscreenEnabled]}},fullscreen:{get:function(){if(i.supportsFullscreen())return null!==i.element}}}),i.supportsFullscreen=function(){if(e(n))return n;n=!1;var t=document.body;if("function"==typeof t.requestFullscreen)return r.requestFullscreen="requestFullscreen",r.exitFullscreen="exitFullscreen",r.fullscreenEnabled="fullscreenEnabled",r.fullscreenElement="fullscreenElement",r.fullscreenchange="fullscreenchange",r.fullscreenerror="fullscreenerror",n=!0;for(var i,o=["webkit","moz","o","ms","khtml"],a=0,s=o.length;a<s;++a){var u=o[a];i=u+"RequestFullscreen","function"==typeof t[i]?(r.requestFullscreen=i,n=!0):(i=u+"RequestFullScreen","function"==typeof t[i]&&(r.requestFullscreen=i,n=!0)),i=u+"ExitFullscreen","function"==typeof document[i]?r.exitFullscreen=i:(i=u+"CancelFullScreen","function"==typeof document[i]&&(r.exitFullscreen=i)),i=u+"FullscreenEnabled",void 0!==document[i]?r.fullscreenEnabled=i:(i=u+"FullScreenEnabled",void 0!==document[i]&&(r.fullscreenEnabled=i)),i=u+"FullscreenElement",void 0!==document[i]?r.fullscreenElement=i:(i=u+"FullScreenElement",void 0!==document[i]&&(r.fullscreenElement=i)),i=u+"fullscreenchange",void 0!==document["on"+i]&&("ms"===u&&(i="MSFullscreenChange"),r.fullscreenchange=i),i=u+"fullscreenerror",void 0!==document["on"+i]&&("ms"===u&&(i="MSFullscreenError"),r.fullscreenerror=i)}return n},i.requestFullscreen=function(e,t){i.supportsFullscreen()&&e[r.requestFullscreen]({vrDisplay:t})},i.exitFullscreen=function(){i.supportsFullscreen()&&document[r.exitFullscreen]()},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[],void 0!==(i=function(){"use strict";function e(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),r=0;r<n.length;++r){var i=n[r],o=i.indexOf(": ");if(o>0){var a=i.substring(0,o),s=i.substring(o+2);t[a]=s}}return t}return e}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(2)],void 0!==(i=function(e,t,n,r){"use strict";function i(e){this._comparator=e.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function o(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}return r(i.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(e){this._maximumLength=e,this._length>e&&e>0&&(this._length=e,this._array.length=e)}},comparator:{get:function(){return this._comparator}}}),i.prototype.reserve=function(e){e=t(e,this._length),this._array.length=e},i.prototype.heapify=function(e){e=t(e,0);for(var n=this._length,r=this._comparator,i=this._array,a=-1,s=!0;s;){var u=2*(e+1),l=u-1;a=l<n&&r(i[l],i[e])<0?l:e,u<n&&r(i[u],i[a])<0&&(a=u),a!==e?(o(i,a,e),e=a):s=!1}},i.prototype.resort=function(){for(var e=this._length,t=Math.ceil(e/2);t>=0;--t)this.heapify(t)},i.prototype.insert=function(e){var t=this._array,r=this._comparator,i=this._maximumLength,a=this._length++;for(a<t.length?t[a]=e:t.push(e);0!==a;){var s=Math.floor((a-1)/2);if(!(r(t[a],t[s])<0))break;o(t,a,s),a=s}var u;return n(i)&&this._length>i&&(u=t[i],this._length=i),u},i.prototype.pop=function(e){if(e=t(e,0),0!==this._length){var n=this._array,r=n[e];return o(n,e,--this._length),this.heapify(e),r}},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(92),n(0),n(3)],void 0!==(i=function(e,t,n){"use strict";function r(n){var r=new e(n);r.normalize();var i=r.getAuthority();if(t(i)){if(-1!==i.indexOf("@")){i=i.split("@")[1]}if(-1===i.indexOf(":")){var o=r.getScheme();if(t(o)||(o=window.location.protocol,o=o.substring(0,o.length-1)),"http"===o)i+=":80";else{if("https"!==o)return;i+=":443"}}return i}}var i={},o={};return i.add=function(e,n){var r=e.toLowerCase()+":"+n;t(o[r])||(o[r]=!0)},i.remove=function(e,n){var r=e.toLowerCase()+":"+n;t(o[r])&&delete o[r]},i.contains=function(e){var n=r(e);return!(!t(n)||!t(o[n]))},i.clear=function(){o={}},i}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(819),t.encode=t.stringify=n(820)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,d,f,p,m=e[c].replace(s,"%20"),g=m.indexOf(n);g>=0?(h=m.substr(0,g),d=m.substr(g+1)):(h=m,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),r(a,f)?i(a[f])?a[f].push(p):a[f]=[a[f],p]:a[f]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var s=encodeURIComponent(i(a))+n;return o(e[a])?r(e[a],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[a]))}).join(t):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){function r(e){if("string"==typeof e&&(e=o.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}var i=n(465),o=n(310),a=e.exports;for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s]);a.request=function(e,t){return e=r(e),i.request.call(this,e,t)},a.get=function(e,t){return e=r(e),i.get.call(this,e,t)}},function(e,t,n){(function(t,r,i){function o(e,t){return s.fetch&&t?"fetch":s.mozchunkedarraybuffer?"moz-chunked-arraybuffer":s.msstream?"ms-stream":s.arraybuffer&&e?"arraybuffer":s.vbArray&&e?"text:vbarray":"text"}function a(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}var s=n(466),u=n(95),l=n(467),c=n(191),h=n(831),d=l.IncomingMessage,f=l.readyStates,p=e.exports=function(e){var n=this;c.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){n.setHeader(t,e.headers[t])});var r,i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!s.abortController)i=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!s.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=o(r,i),n._fetchTimer=null,n.on("finish",function(){n._onFinish()})};u(p,c.Writable),p.prototype.setHeader=function(e,t){var n=this,r=e.toLowerCase();-1===m.indexOf(r)&&(n._headers[r]={name:e,value:t})},p.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},p.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},p.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,o=e._headers,a=null;"GET"!==n.method&&"HEAD"!==n.method&&(a=s.arraybuffer?h(t.concat(e._body)):s.blobConstructor?new r.Blob(e._body.map(function(e){return h(e)}),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var u=[];if(Object.keys(o).forEach(function(e){var t=o[e].name,n=o[e].value;Array.isArray(n)?n.forEach(function(e){u.push([t,e])}):u.push([t,n])}),"fetch"===e._mode){var l=null;if(s.abortController){var c=new AbortController;l=c.signal,e._fetchAbortController=c,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:u,body:a||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:l}).then(function(t){e._fetchResponse=t,e._connect()},function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var d=e._xhr=new r.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}"responseType"in d&&(d.responseType=e._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(d.timeout=n.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),u.forEach(function(e){d.setRequestHeader(e[0],e[1])}),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case f.LOADING:case f.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{d.send(a)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}}}},p.prototype._onXHRProgress=function(){var e=this;a(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},p.prototype._connect=function(){var e=this;e._destroyed||(e._response=new d(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},p.prototype._write=function(e,t,n){this._body.push(e),n()},p.prototype.abort=p.prototype.destroy=function(){var e=this;e._destroyed=!0,r.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},p.prototype.end=function(e,t,n){var r=this;"function"==typeof e&&(n=e,e=void 0),c.Writable.prototype.end.call(r,e,t,n)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var m=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(t,n(80).Buffer,n(48),n(73))},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var o=n(312).Buffer,a=n(825);e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,r=0;n;)i(n.data,t,r),r+=n.data.length,n=n.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(827),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(48))},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[u]=r,s(u),u++}function i(e){delete l[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=l[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,u=1,l={},c=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var e=h.documentElement;s=function(t){var n=h.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(48),n(73))},function(e,t,n){(function(t){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,n(48))},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var o=n(80),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),r(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}e.exports=r;var i=n(472),o=Object.create(n(192));o.inherits=n(95),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var r=n(80).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;i<n;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}e.exports=n;var r=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,n){"use strict";(function(e){function r(e,t,n){function r(){for(var t;null!==(t=e.read());)a.push(t),s+=t.length;e.once("readable",r)}function i(t){e.removeListener("end",o),e.removeListener("readable",r),n(t)}function o(){var t,r=null;s>=b?r=new RangeError(w):t=g.concat(a,s),a=[],e.close(),n(r,t)}var a=[],s=0;e.on("error",i),e.on("end",o),e.end(t),r()}function i(e,t){if("string"==typeof t&&(t=g.from(t)),!g.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function o(e){if(!(this instanceof o))return new o(e);f.call(this,e,v.DEFLATE)}function a(e){if(!(this instanceof a))return new a(e);f.call(this,e,v.INFLATE)}function s(e){if(!(this instanceof s))return new s(e);f.call(this,e,v.GZIP)}function u(e){if(!(this instanceof u))return new u(e);f.call(this,e,v.GUNZIP)}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e,v.DEFLATERAW)}function c(e){if(!(this instanceof c))return new c(e);f.call(this,e,v.INFLATERAW)}function h(e){if(!(this instanceof h))return new h(e);f.call(this,e,v.UNZIP)}function d(e){return e===v.Z_NO_FLUSH||e===v.Z_PARTIAL_FLUSH||e===v.Z_SYNC_FLUSH||e===v.Z_FULL_FLUSH||e===v.Z_FINISH||e===v.Z_BLOCK}function f(e,n){var r=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,_.call(this,e),e.flush&&!d(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!d(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||v.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:v.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!g.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new v.Zlib(n);var i=this;this._hadError=!1,this._handle.onerror=function(e,n){p(i),i._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],i.emit("error",r)};var o=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(o=e.level);var a=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(a=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,o,e.memLevel||t.Z_DEFAULT_MEMLEVEL,a,e.dictionary),this._buffer=g.allocUnsafe(this._chunkSize),this._offset=0,this._level=o,this._strategy=a,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!r._handle},configurable:!0,enumerable:!0})}function p(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function m(e){e.emit("close")}var g=n(80).Buffer,_=n(835).Transform,v=n(840),A=n(474),y=n(473).ok,b=n(80).kMaxLength,w="Cannot create final Buffer. It would be larger than 0x"+b.toString(16)+" bytes";v.Z_MIN_WINDOWBITS=8,v.Z_MAX_WINDOWBITS=15,v.Z_DEFAULT_WINDOWBITS=15,v.Z_MIN_CHUNK=64,v.Z_MAX_CHUNK=1/0,v.Z_DEFAULT_CHUNK=16384,v.Z_MIN_MEMLEVEL=1,v.Z_MAX_MEMLEVEL=9,v.Z_DEFAULT_MEMLEVEL=8,v.Z_MIN_LEVEL=-1,v.Z_MAX_LEVEL=9,v.Z_DEFAULT_LEVEL=v.Z_DEFAULT_COMPRESSION;for(var x=Object.keys(v),E=0;E<x.length;E++){var C=x[E];C.match(/^Z/)&&Object.defineProperty(t,C,{enumerable:!0,value:v[C],writable:!1})}for(var S={Z_OK:v.Z_OK,Z_STREAM_END:v.Z_STREAM_END,Z_NEED_DICT:v.Z_NEED_DICT,Z_ERRNO:v.Z_ERRNO,Z_STREAM_ERROR:v.Z_STREAM_ERROR,Z_DATA_ERROR:v.Z_DATA_ERROR,Z_MEM_ERROR:v.Z_MEM_ERROR,Z_BUF_ERROR:v.Z_BUF_ERROR,Z_VERSION_ERROR:v.Z_VERSION_ERROR},T=Object.keys(S),I=0;I<T.length;I++){var M=T[I];S[S[M]]=M}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(S),writable:!1}),t.Deflate=o,t.Inflate=a,t.Gzip=s,t.Gunzip=u,t.DeflateRaw=l,t.InflateRaw=c,t.Unzip=h,t.createDeflate=function(e){return new o(e)},t.createInflate=function(e){return new a(e)},t.createDeflateRaw=function(e){return new l(e)},t.createInflateRaw=function(e){return new c(e)},t.createGzip=function(e){return new s(e)},t.createGunzip=function(e){return new u(e)},t.createUnzip=function(e){return new h(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new o(t),e,n)},t.deflateSync=function(e,t){return i(new o(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new s(t),e,n)},t.gzipSync=function(e,t){return i(new s(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new l(t),e,n)},t.deflateRawSync=function(e,t){return i(new l(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new h(t),e,n)},t.unzipSync=function(e,t){return i(new h(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new a(t),e,n)},t.inflateSync=function(e,t){return i(new a(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new u(t),e,n)},t.gunzipSync=function(e,t){return i(new u(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new c(t),e,n)},t.inflateRawSync=function(e,t){return i(new c(t),e)},A.inherits(f,_),f.prototype.params=function(n,r,i){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var o=this;this.flush(v.Z_SYNC_FLUSH,function(){y(o._handle,"zlib binding closed"),o._handle.params(n,r),o._hadError||(o._level=n,o._strategy=r,i&&i())})}else e.nextTick(i)},f.prototype.reset=function(){return y(this._handle,"zlib binding closed"),this._handle.reset()},f.prototype._flush=function(e){this._transform(g.alloc(0),"",e)},f.prototype.flush=function(t,n){var r=this,i=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=v.Z_FULL_FLUSH),i.ended?n&&e.nextTick(n):i.ending?n&&this.once("end",n):i.needDrain?n&&this.once("drain",function(){return r.flush(t,n)}):(this._flushFlag=t,this.write(g.alloc(0),"",n))},f.prototype.close=function(t){p(this,t),e.nextTick(m,this)},f.prototype._transform=function(e,t,n){var r,i=this._writableState,o=i.ending||i.ended,a=o&&(!e||i.length===e.length);return null===e||g.isBuffer(e)?this._handle?(a?r=this._finishFlushFlag:(r=this._flushFlag,e.length>=i.length&&(this._flushFlag=this._opts.flush||v.Z_NO_FLUSH)),void this._processChunk(e,r,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},f.prototype._processChunk=function(e,t,n){function r(l,d){if(this&&(this.buffer=null,this.callback=null),!s._hadError){var f=o-d;if(y(f>=0,"have should not go down"),f>0){var p=s._buffer.slice(s._offset,s._offset+f);s._offset+=f,u?s.push(p):(c.push(p),h+=p.length)}if((0===d||s._offset>=s._chunkSize)&&(o=s._chunkSize,s._offset=0,s._buffer=g.allocUnsafe(s._chunkSize)),0===d){if(a+=i-l,i=l,!u)return!0;var m=s._handle.write(t,e,a,i,s._buffer,s._offset,s._chunkSize);return m.callback=r,void(m.buffer=e)}if(!u)return!1;n()}}var i=e&&e.length,o=this._chunkSize-this._offset,a=0,s=this,u="function"==typeof n;if(!u){var l,c=[],h=0;this.on("error",function(e){l=e}),y(this._handle,"zlib binding closed");do{var d=this._handle.writeSync(t,e,a,i,this._buffer,this._offset,o)}while(!this._hadError&&r(d[0],d[1]));if(this._hadError)throw l;if(h>=b)throw p(this),new RangeError(w);var f=g.concat(c,h);return p(this),f}y(this._handle,"zlib binding closed");var m=this._handle.write(t,e,a,i,this._buffer,this._offset,o);m.buffer=e,m.callback=r},A.inherits(o,f),A.inherits(a,f),A.inherits(s,f),A.inherits(u,f),A.inherits(l,f),A.inherits(c,f),A.inherits(h,f)}).call(t,n(73))},function(e,t,n){function r(){i.call(this)}e.exports=r;var i=n(228).EventEmitter;n(95)(r,i),r.Readable=n(191),r.Writable=n(836),r.Duplex=n(837),r.Transform=n(838),r.PassThrough=n(839),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function o(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){l.removeListener("data",n),e.removeListener("drain",r),l.removeListener("end",o),l.removeListener("close",a),l.removeListener("error",s),e.removeListener("error",s),l.removeListener("end",u),l.removeListener("close",u),e.removeListener("close",u)}var l=this;l.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(l.on("end",o),l.on("close",a));var c=!1;return l.on("error",s),e.on("error",s),l.on("end",u),l.on("close",u),e.on("close",u),e.emit("pipe",l),e}},function(e,t,n){e.exports=n(313)},function(e,t,n){e.exports=n(137)},function(e,t,n){e.exports=n(191).Transform},function(e,t,n){e.exports=n(191).PassThrough},function(e,t,n){"use strict";(function(e,r){function i(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}var o=n(473),a=n(842),s=n(843),u=n(846),l=n(849);for(var c in l)t[c]=l[c];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;i.prototype.close=function(){if(this.write_in_progress)return void(this.pending_close=!0);this.pending_close=!1,o(this.init_done,"close before init"),o(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||u.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null},i.prototype.write=function(e,t,n,r,i,o,a){return this._write(!0,e,t,n,r,i,o,a)},i.prototype.writeSync=function(e,t,n,r,i,o,a){return this._write(!1,e,t,n,r,i,o,a)},i.prototype._write=function(n,i,a,s,u,l,c,h){if(o.equal(arguments.length,8),o(this.init_done,"write before init"),o(this.mode!==t.NONE,"already finalized"),o.equal(!1,this.write_in_progress,"write already in progress"),o.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,o.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==t.Z_NO_FLUSH&&i!==t.Z_PARTIAL_FLUSH&&i!==t.Z_SYNC_FLUSH&&i!==t.Z_FULL_FLUSH&&i!==t.Z_FINISH&&i!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=e.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=h,this.strm.output=l,this.strm.next_out=c,this.flush=i,n){var d=this;return r.nextTick(function(){d._process(),d._after()}),this}if(this._process(),this._checkError())return this._afterSync()},i.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},i.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=u.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=u.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=u.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=u.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},i.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},i.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},i.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},i.prototype.init=function(e,n,r,i,a){o(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),o(e>=8&&e<=15,"invalid windowBits"),o(n>=-1&&n<=9,"invalid compression level"),o(r>=1&&r<=9,"invalid memlevel"),o(i===t.Z_FILTERED||i===t.Z_HUFFMAN_ONLY||i===t.Z_RLE||i===t.Z_FIXED||i===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,i,a),this._setDictionary()},i.prototype.params=function(){throw new Error("deflateParams Not supported")},i.prototype.reset=function(){this._reset(),this._setDictionary()},i.prototype._init=function(e,n,r,i,o){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=u.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=o,this.write_in_progress=!1,this.init_done=!0},i.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},i.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=s.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=u.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=i}).call(t,n(80).Buffer,n(73))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},function(e,t,n){"use strict";function r(e,t){return e.msg=L[t],t}function i(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(O.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){P._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function u(e,t){e.pending_buf[e.pending++]=t}function l(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function c(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,O.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=D(e.adler,t,i,n):2===e.state.wrap&&(e.adler=B(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function h(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-le?e.strstart-(e.w_size-le):0,l=e.window,c=e.w_mask,h=e.prev,d=e.strstart+ue,f=l[o+a-1],p=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,l[n+a]===p&&l[n+a-1]===f&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<d);if(r=ue-(d-o),o=d-ue,r>a){if(e.match_start=t,a=r,r>=s)break;f=l[o+a-1],p=l[o+a]}}}while((t=h[t&c])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead}function d(e){var t,n,r,i,o,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-le)){O.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);n=a,t=n;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);i+=a}if(0===e.strm.avail_in)break;if(n=c(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=se)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+se-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<se)););}while(e.lookahead<le&&0!==e.strm.avail_in)}function f(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(d(e),0===e.lookahead&&t===N)return ve;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,s(e,!1),0===e.strm.avail_out))return ve;if(e.strstart-e.block_start>=e.w_size-le&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===F?(s(e,!0),0===e.strm.avail_out?ye:be):(e.strstart>e.block_start&&(s(e,!1),e.strm.avail_out),ve)}function p(e,t){for(var n,r;;){if(e.lookahead<le){if(d(e),e.lookahead<le&&t===N)return ve;if(0===e.lookahead)break}if(n=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-le&&(e.match_length=h(e,n)),e.match_length>=se)if(r=P._tr_tally(e,e.strstart-e.match_start,e.match_length-se),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=se){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=e.strstart<se-1?e.strstart:se-1,t===F?(s(e,!0),0===e.strm.avail_out?ye:be):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:Ae}function m(e,t){for(var n,r,i;;){if(e.lookahead<le){if(d(e),e.lookahead<le&&t===N)return ve;if(0===e.lookahead)break}if(n=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=se-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-le&&(e.match_length=h(e,n),e.match_length<=5&&(e.strategy===W||e.match_length===se&&e.strstart-e.match_start>4096)&&(e.match_length=se-1)),e.prev_length>=se&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-se,r=P._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-se),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=se-1,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return ve}else if(e.match_available){if(r=P._tr_tally(e,0,e.window[e.strstart-1]),r&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return ve}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=P._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<se-1?e.strstart:se-1,t===F?(s(e,!0),0===e.strm.avail_out?ye:be):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:Ae}function g(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=ue){if(d(e),e.lookahead<=ue&&t===N)return ve;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=se&&e.strstart>0&&(i=e.strstart-1,(r=a[i])===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+ue;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=ue-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=se?(n=P._tr_tally(e,1,e.match_length-se),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===F?(s(e,!0),0===e.strm.avail_out?ye:be):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:Ae}function _(e,t){for(var n;;){if(0===e.lookahead&&(d(e),0===e.lookahead)){if(t===N)return ve;break}if(e.match_length=0,n=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return ve}return e.insert=0,t===F?(s(e,!0),0===e.strm.avail_out?ye:be):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ve:Ae}function v(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function A(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=M[e.level].max_lazy,e.good_match=M[e.level].good_length,e.nice_match=M[e.level].nice_length,e.max_chain_length=M[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=se-1,e.match_available=0,e.ins_h=0}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=J,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*oe),this.dyn_dtree=new O.Buf16(2*(2*re+1)),this.bl_tree=new O.Buf16(2*(2*ie+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(ae+1),this.heap=new O.Buf16(2*ne+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*ne+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Z,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?he:ge,e.adler=2===t.wrap?0:1,t.last_flush=N,P._tr_init(t),z):r(e,H)}function w(e){var t=b(e);return t===z&&A(e.state),t}function x(e,t){return e&&e.state?2!==e.state.wrap?H:(e.state.gzhead=t,z):H}function E(e,t,n,i,o,a){if(!e)return H;var s=1;if(t===G&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>$||n!==J||i<8||i>15||t<0||t>9||a<0||a>K)return r(e,H);8===i&&(i=9);var u=new y;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+se-1)/se),u.window=new O.Buf8(2*u.w_size),u.head=new O.Buf16(u.hash_size),u.prev=new O.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new O.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,w(e)}function C(e,t){return E(e,t,J,ee,te,X)}function S(e,t){var n,s,c,h;if(!e||!e.state||t>U||t<0)return e?r(e,H):H;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===_e&&t!==F)return r(e,0===e.avail_out?Q:H);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===he)if(2===s.wrap)e.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=B(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=de):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),u(s,we),s.status=ge);else{var d=J+(s.w_bits-8<<4)<<8,f=-1;f=s.strategy>=q||s.level<2?0:s.level<6?1:6===s.level?2:3,d|=f<<6,0!==s.strstart&&(d|=ce),d+=31-d%31,s.status=ge,l(s,d),0!==s.strstart&&(l(s,e.adler>>>16),l(s,65535&e.adler)),e.adler=1}if(s.status===de)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),a(e),c=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=fe)}else s.status=fe;if(s.status===fe)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),a(e),c=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),0===h&&(s.gzindex=0,s.status=pe)}else s.status=pe;if(s.status===pe)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),a(e),c=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>c&&(e.adler=B(e.adler,s.pending_buf,s.pending-c,c)),0===h&&(s.status=me)}else s.status=me;if(s.status===me&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(u(s,255&e.adler),u(s,e.adler>>8&255),e.adler=0,s.status=ge)):s.status=ge),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,z}else if(0===e.avail_in&&i(t)<=i(n)&&t!==F)return r(e,Q);if(s.status===_e&&0!==e.avail_in)return r(e,Q);if(0!==e.avail_in||0!==s.lookahead||t!==N&&s.status!==_e){var p=s.strategy===q?_(s,t):s.strategy===Y?g(s,t):M[s.level].func(s,t);if(p!==ye&&p!==be||(s.status=_e),p===ve||p===ye)return 0===e.avail_out&&(s.last_flush=-1),z;if(p===Ae&&(t===R?P._tr_align(s):t!==U&&(P._tr_stored_block(s,0,0,!1),t===k&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,z}return t!==F?z:s.wrap<=0?j:(2===s.wrap?(u(s,255&e.adler),u(s,e.adler>>8&255),u(s,e.adler>>16&255),u(s,e.adler>>24&255),u(s,255&e.total_in),u(s,e.total_in>>8&255),u(s,e.total_in>>16&255),u(s,e.total_in>>24&255)):(l(s,e.adler>>>16),l(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?z:j)}function T(e){var t;return e&&e.state?(t=e.state.status)!==he&&t!==de&&t!==fe&&t!==pe&&t!==me&&t!==ge&&t!==_e?r(e,H):(e.state=null,t===ge?r(e,V):z):H}function I(e,t){var n,r,i,a,s,u,l,c,h=t.length;if(!e||!e.state)return H;if(n=e.state,2===(a=n.wrap)||1===a&&n.status!==he||n.lookahead)return H;for(1===a&&(e.adler=D(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new O.Buf8(n.w_size),O.arraySet(c,t,h-n.w_size,n.w_size,0),t=c,h=n.w_size),s=e.avail_in,u=e.next_in,l=e.input,e.avail_in=h,e.next_in=0,e.input=t,d(n);n.lookahead>=se;){r=n.strstart,i=n.lookahead-(se-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+se-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=se-1,d(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=se-1,n.match_available=0,e.next_in=u,e.input=l,e.avail_in=s,n.wrap=a,z}var M,O=n(229),P=n(844),D=n(475),B=n(476),L=n(845),N=0,R=1,k=3,F=4,U=5,z=0,j=1,H=-2,V=-3,Q=-5,G=-1,W=1,q=2,Y=3,K=4,X=0,Z=2,J=8,$=9,ee=15,te=8,ne=286,re=30,ie=19,oe=2*ne+1,ae=15,se=3,ue=258,le=ue+se+1,ce=32,he=42,de=69,fe=73,pe=91,me=103,ge=113,_e=666,ve=1,Ae=2,ye=3,be=4,we=3;M=[new v(0,0,0,0,f),new v(4,4,8,4,p),new v(4,5,16,8,p),new v(4,6,32,32,p),new v(4,4,16,16,m),new v(8,16,32,32,m),new v(8,16,128,128,m),new v(8,32,128,256,m),new v(32,128,258,1024,m),new v(32,258,258,4096,m)],t.deflateInit=C,t.deflateInit2=E,t.deflateReset=w,t.deflateResetKeep=b,t.deflateSetHeader=x,t.deflate=S,t.deflateEnd=T,t.deflateSetDictionary=I,t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?oe[e]:oe[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function u(e,t,n){e.bi_valid>q-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>q-e.bi_valid,e.bi_valid+=n-q):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function l(e,t,n){u(e,n[2*t],n[2*t+1])}function c(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function h(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function d(e,t){var n,r,i,o,a,s,u=t.dyn_tree,l=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=W;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<G;n++)r=e.heap[n],o=u[2*u[2*r+1]+1]+1,o>p&&(o=p,m++),u[2*r+1]=o,r>l||(e.bl_count[o]++,a=0,r>=f&&(a=d[r-f]),s=u[2*r],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(c[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>l||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}function f(e,t,n){var r,i,o=new Array(W+1),a=0;for(r=1;r<=W;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=c(o[s]++,s))}}function p(){var e,t,n,r,o,a=new Array(W+1);for(n=0,r=0;r<z-1;r++)for(se[r]=n,e=0;e<1<<$[r];e++)ae[n++]=r;for(ae[n-1]=r,o=0,r=0;r<16;r++)for(ue[r]=o,e=0;e<1<<ee[r];e++)oe[o++]=r;for(o>>=7;r<V;r++)for(ue[r]=o<<7,e=0;e<1<<ee[r]-7;e++)oe[256+o++]=r;for(t=0;t<=W;t++)a[t]=0;for(e=0;e<=143;)re[2*e+1]=8,e++,a[8]++;for(;e<=255;)re[2*e+1]=9,e++,a[9]++;for(;e<=279;)re[2*e+1]=7,e++,a[7]++;for(;e<=287;)re[2*e+1]=8,e++,a[8]++;for(f(re,H+1,a),e=0;e<V;e++)ie[2*e+1]=5,ie[2*e]=c(e,5);le=new i(re,$,j+1,H,W),ce=new i(ie,ee,0,V,W),he=new i(new Array(0),te,0,Q,Y)}function m(e){var t;for(t=0;t<H;t++)e.dyn_ltree[2*t]=0;for(t=0;t<V;t++)e.dyn_dtree[2*t]=0;for(t=0;t<Q;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*K]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function _(e,t,n,r){g(e),r&&(s(e,n),s(e,~n)),D.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function v(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function A(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&v(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!v(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function y(e,t,n){var r,i,o,s,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===r?l(e,i,t):(o=ae[i],l(e,o+j+1,t),s=$[o],0!==s&&(i-=se[o],u(e,i,s)),r--,o=a(r),l(e,o,n),0!==(s=ee[o])&&(r-=ue[o],u(e,r,s)))}while(c<e.last_lit);l(e,K,t)}function b(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=G,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=l<2?++l:0,o[2*i]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)A(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],A(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,A(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],d(e,t),f(o,l,e.bl_count)}function w(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,l=4;for(0===a&&(u=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*X]++):s<=10?e.bl_tree[2*Z]++:e.bl_tree[2*J]++,s=0,o=i,0===a?(u=138,l=3):i===a?(u=6,l=3):(u=7,l=4))}function x(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,h=4;for(0===a&&(c=138,h=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<c&&i===a)){if(s<h)do{l(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(l(e,i,e.bl_tree),s--),l(e,X,e.bl_tree),u(e,s-3,2)):s<=10?(l(e,Z,e.bl_tree),u(e,s-3,3)):(l(e,J,e.bl_tree),u(e,s-11,7));s=0,o=i,0===a?(c=138,h=3):i===a?(c=6,h=3):(c=7,h=4)}}function E(e){var t;for(w(e,e.dyn_ltree,e.l_desc.max_code),w(e,e.dyn_dtree,e.d_desc.max_code),b(e,e.bl_desc),t=Q-1;t>=3&&0===e.bl_tree[2*ne[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function C(e,t,n,r){var i;for(u(e,t-257,5),u(e,n-1,5),u(e,r-4,4),i=0;i<r;i++)u(e,e.bl_tree[2*ne[i]+1],3);x(e,e.dyn_ltree,t-1),x(e,e.dyn_dtree,n-1)}function S(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return L;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return N;for(t=32;t<j;t++)if(0!==e.dyn_ltree[2*t])return N;return L}function T(e){de||(p(),de=!0),e.l_desc=new o(e.dyn_ltree,le),e.d_desc=new o(e.dyn_dtree,ce),e.bl_desc=new o(e.bl_tree,he),e.bi_buf=0,e.bi_valid=0,m(e)}function I(e,t,n,r){u(e,(k<<1)+(r?1:0),3),_(e,t,n,!0)}function M(e){u(e,F<<1,3),l(e,K,re),h(e)}function O(e,t,n,r){var i,o,a=0;e.level>0?(e.strm.data_type===R&&(e.strm.data_type=S(e)),b(e,e.l_desc),b(e,e.d_desc),a=E(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?I(e,t,n,r):e.strategy===B||o===i?(u(e,(F<<1)+(r?1:0),3),y(e,re,ie)):(u(e,(U<<1)+(r?1:0),3),C(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),y(e,e.dyn_ltree,e.dyn_dtree)),m(e),r&&g(e)}function P(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ae[n]+j+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var D=n(229),B=4,L=0,N=1,R=2,k=0,F=1,U=2,z=29,j=256,H=j+1+z,V=30,Q=19,G=2*H+1,W=15,q=16,Y=7,K=256,X=16,Z=17,J=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(H+2));r(re);var ie=new Array(2*V);r(ie);var oe=new Array(512);r(oe);var ae=new Array(256);r(ae);var se=new Array(z);r(se);var ue=new Array(V);r(ue);var le,ce,he,de=!1;t._tr_init=T,t._tr_stored_block=I,t._tr_flush_block=O,t._tr_tally=P,t._tr_align=M},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=k,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new v.Buf32(me),t.distcode=t.distdyn=new v.Buf32(ge),t.sane=1,t.back=-1,M):D}function a(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):D}function s(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?D:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,a(e))):D}function u(e,t){var n,r;return e?(r=new i,e.state=r,r.window=null,n=s(e,t),n!==M&&(e.state=null),n):D}function l(e){return u(e,_e)}function c(e){if(ve){var t;for(g=new v.Buf32(512),_=new v.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(w(E,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;w(C,e.lens,0,32,_,0,e.work,{bits:5}),ve=!1}e.lencode=g,e.lenbits=9,e.distcode=_,e.distbits=5}function h(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new v.Buf8(o.wsize)),r>=o.wsize?(v.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),v.arraySet(o.window,t,n-r,i,o.wnext),r-=i,r?(v.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function d(e,t){var n,i,o,a,s,u,l,d,f,p,m,g,_,me,ge,_e,ve,Ae,ye,be,we,xe,Ee,Ce,Se=0,Te=new v.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return D;n=e.state,n.mode===Y&&(n.mode=K),s=e.next_out,o=e.output,l=e.avail_out,a=e.next_in,i=e.input,u=e.avail_in,d=n.hold,f=n.bits,p=u,m=l,xe=M;e:for(;;)switch(n.mode){case k:if(0===n.wrap){n.mode=K;break}for(;f<16;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}if(2&n.wrap&&35615===d){n.check=0,Te[0]=255&d,Te[1]=d>>>8&255,n.check=y(n.check,Te,2,0),d=0,f=0,n.mode=F;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=de;break}if((15&d)!==R){e.msg="unknown compression method",n.mode=de;break}if(d>>>=4,f-=4,we=8+(15&d),0===n.wbits)n.wbits=we;else if(we>n.wbits){e.msg="invalid window size",n.mode=de;break}n.dmax=1<<we,e.adler=n.check=1,n.mode=512&d?W:Y,d=0,f=0;break;case F:for(;f<16;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}if(n.flags=d,(255&n.flags)!==R){e.msg="unknown compression method",n.mode=de;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=de;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&(Te[0]=255&d,Te[1]=d>>>8&255,n.check=y(n.check,Te,2,0)),d=0,f=0,n.mode=U;case U:for(;f<32;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}n.head&&(n.head.time=d),512&n.flags&&(Te[0]=255&d,Te[1]=d>>>8&255,Te[2]=d>>>16&255,Te[3]=d>>>24&255,n.check=y(n.check,Te,4,0)),d=0,f=0,n.mode=z;case z:for(;f<16;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&(Te[0]=255&d,Te[1]=d>>>8&255,n.check=y(n.check,Te,2,0)),d=0,f=0,n.mode=j;case j:if(1024&n.flags){for(;f<16;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&(Te[0]=255&d,Te[1]=d>>>8&255,n.check=y(n.check,Te,2,0)),d=0,f=0}else n.head&&(n.head.extra=null);n.mode=H;case H:if(1024&n.flags&&(g=n.length,g>u&&(g=u),g&&(n.head&&(we=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),v.arraySet(n.head.extra,i,a,g,we)),512&n.flags&&(n.check=y(n.check,i,g,a)),u-=g,a+=g,n.length-=g),n.length))break e;n.length=0,n.mode=V;case V:if(2048&n.flags){if(0===u)break e;g=0;do{we=i[a+g++],n.head&&we&&n.length<65536&&(n.head.name+=String.fromCharCode(we))}while(we&&g<u);if(512&n.flags&&(n.check=y(n.check,i,g,a)),u-=g,a+=g,we)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Q;case Q:if(4096&n.flags){if(0===u)break e;g=0;do{we=i[a+g++],n.head&&we&&n.length<65536&&(n.head.comment+=String.fromCharCode(we))}while(we&&g<u);if(512&n.flags&&(n.check=y(n.check,i,g,a)),u-=g,a+=g,we)break e}else n.head&&(n.head.comment=null);n.mode=G;case G:if(512&n.flags){for(;f<16;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}if(d!==(65535&n.check)){e.msg="header crc mismatch",n.mode=de;break}d=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Y;break;case W:for(;f<32;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}e.adler=n.check=r(d),d=0,f=0,n.mode=q;case q:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=u,n.hold=d,n.bits=f,P;e.adler=n.check=1,n.mode=Y;case Y:if(t===T||t===I)break e;case K:if(n.last){d>>>=7&f,f-=7&f,n.mode=le;break}for(;f<3;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}switch(n.last=1&d,d>>>=1,f-=1,3&d){case 0:n.mode=X;break;case 1:if(c(n),n.mode=ne,t===I){d>>>=2,f-=2;break e}break;case 2:n.mode=$;break;case 3:e.msg="invalid block type",n.mode=de}d>>>=2,f-=2;break;case X:for(d>>>=7&f,f-=7&f;f<32;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=de;break}if(n.length=65535&d,d=0,f=0,n.mode=Z,t===I)break e;case Z:n.mode=J;case J:if(g=n.length){if(g>u&&(g=u),g>l&&(g=l),0===g)break e;v.arraySet(o,i,a,g,s),u-=g,a+=g,l-=g,s+=g,n.length-=g;break}n.mode=Y;break;case $:for(;f<14;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}if(n.nlen=257+(31&d),d>>>=5,f-=5,n.ndist=1+(31&d),d>>>=5,f-=5,n.ncode=4+(15&d),d>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=de;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;f<3;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}n.lens[Ie[n.have++]]=7&d,d>>>=3,f-=3}for(;n.have<19;)n.lens[Ie[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ee={bits:n.lenbits},xe=w(x,n.lens,0,19,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,xe){e.msg="invalid code lengths set",n.mode=de;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;Se=n.lencode[d&(1<<n.lenbits)-1],ge=Se>>>24,_e=Se>>>16&255,ve=65535&Se,!(ge<=f);){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}if(ve<16)d>>>=ge,f-=ge,n.lens[n.have++]=ve;else{if(16===ve){for(Ce=ge+2;f<Ce;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}if(d>>>=ge,f-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=de;break}we=n.lens[n.have-1],g=3+(3&d),d>>>=2,f-=2}else if(17===ve){for(Ce=ge+3;f<Ce;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}d>>>=ge,f-=ge,we=0,g=3+(7&d),d>>>=3,f-=3}else{for(Ce=ge+7;f<Ce;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}d>>>=ge,f-=ge,we=0,g=11+(127&d),d>>>=7,f-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=de;break}for(;g--;)n.lens[n.have++]=we}}if(n.mode===de)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=de;break}if(n.lenbits=9,Ee={bits:n.lenbits},xe=w(E,n.lens,0,n.nlen,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,xe){e.msg="invalid literal/lengths set",n.mode=de;break}if(n.distbits=6,n.distcode=n.distdyn,Ee={bits:n.distbits},xe=w(C,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ee),n.distbits=Ee.bits,xe){e.msg="invalid distances set",n.mode=de;break}if(n.mode=ne,t===I)break e;case ne:n.mode=re;case re:if(u>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=u,n.hold=d,n.bits=f,b(e,m),s=e.next_out,o=e.output,l=e.avail_out,a=e.next_in,i=e.input,u=e.avail_in,d=n.hold,f=n.bits,n.mode===Y&&(n.back=-1);break}for(n.back=0;Se=n.lencode[d&(1<<n.lenbits)-1],ge=Se>>>24,_e=Se>>>16&255,ve=65535&Se,!(ge<=f);){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}if(_e&&0==(240&_e)){for(Ae=ge,ye=_e,be=ve;Se=n.lencode[be+((d&(1<<Ae+ye)-1)>>Ae)],ge=Se>>>24,_e=Se>>>16&255,ve=65535&Se,!(Ae+ge<=f);){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}d>>>=Ae,f-=Ae,n.back+=Ae}if(d>>>=ge,f-=ge,n.back+=ge,n.length=ve,0===_e){n.mode=ue;break}if(32&_e){n.back=-1,n.mode=Y;break}if(64&_e){e.msg="invalid literal/length code",n.mode=de;break}n.extra=15&_e,n.mode=ie;case ie:if(n.extra){for(Ce=n.extra;f<Ce;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oe;case oe:for(;Se=n.distcode[d&(1<<n.distbits)-1],ge=Se>>>24,_e=Se>>>16&255,ve=65535&Se,!(ge<=f);){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}if(0==(240&_e)){for(Ae=ge,ye=_e,be=ve;Se=n.distcode[be+((d&(1<<Ae+ye)-1)>>Ae)],ge=Se>>>24,_e=Se>>>16&255,ve=65535&Se,!(Ae+ge<=f);){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}d>>>=Ae,f-=Ae,n.back+=Ae}if(d>>>=ge,f-=ge,n.back+=ge,64&_e){e.msg="invalid distance code",n.mode=de;break}n.offset=ve,n.extra=15&_e,n.mode=ae;case ae:if(n.extra){for(Ce=n.extra;f<Ce;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=de;break}n.mode=se;case se:if(0===l)break e;if(g=m-l,n.offset>g){if((g=n.offset-g)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=de;break}g>n.wnext?(g-=n.wnext,_=n.wsize-g):_=n.wnext-g,g>n.length&&(g=n.length),me=n.window}else me=o,_=s-n.offset,g=n.length;g>l&&(g=l),l-=g,n.length-=g;do{o[s++]=me[_++]}while(--g);0===n.length&&(n.mode=re);break;case ue:if(0===l)break e;o[s++]=n.length,l--,n.mode=re;break;case le:if(n.wrap){for(;f<32;){if(0===u)break e;u--,d|=i[a++]<<f,f+=8}if(m-=l,e.total_out+=m,n.total+=m,m&&(e.adler=n.check=n.flags?y(n.check,o,m,s-m):A(n.check,o,m,s-m)),m=l,(n.flags?d:r(d))!==n.check){e.msg="incorrect data check",n.mode=de;break}d=0,f=0}n.mode=ce;case ce:if(n.wrap&&n.flags){for(;f<32;){if(0===u)break e;u--,d+=i[a++]<<f,f+=8}if(d!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=de;break}d=0,f=0}n.mode=he;case he:xe=O;break e;case de:xe=B;break e;case fe:return L;case pe:default:return D}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=u,n.hold=d,n.bits=f,(n.wsize||m!==e.avail_out&&n.mode<de&&(n.mode<le||t!==S))&&h(e,e.output,e.next_out,m-e.avail_out)?(n.mode=fe,L):(p-=e.avail_in,m-=e.avail_out,e.total_in+=p,e.total_out+=m,n.total+=m,n.wrap&&m&&(e.adler=n.check=n.flags?y(n.check,o,m,e.next_out-m):A(n.check,o,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===ne||n.mode===Z?256:0),(0===p&&0===m||t===S)&&xe===M&&(xe=N),xe)}function f(e){if(!e||!e.state)return D;var t=e.state;return t.window&&(t.window=null),e.state=null,M}function p(e,t){var n;return e&&e.state?(n=e.state,0==(2&n.wrap)?D:(n.head=t,t.done=!1,M)):D}function m(e,t){var n,r,i=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==q?D:n.mode===q&&(r=1,(r=A(r,t,i,0))!==n.check)?B:h(e,t,i,i)?(n.mode=fe,L):(n.havedict=1,M)):D}var g,_,v=n(229),A=n(475),y=n(476),b=n(847),w=n(848),x=0,E=1,C=2,S=4,T=5,I=6,M=0,O=1,P=2,D=-2,B=-3,L=-4,N=-5,R=8,k=1,F=2,U=3,z=4,j=5,H=6,V=7,Q=8,G=9,W=10,q=11,Y=12,K=13,X=14,Z=15,J=16,$=17,ee=18,te=19,ne=20,re=21,ie=22,oe=23,ae=24,se=25,ue=26,le=27,ce=28,he=29,de=30,fe=31,pe=32,me=852,ge=592,_e=15,ve=!0;t.inflateReset=a,t.inflateReset2=s,t.inflateResetKeep=o,t.inflateInit=l,t.inflateInit2=u,t.inflate=d,t.inflateEnd=f,t.inflateGetHeader=p,t.inflateSetDictionary=m,t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S;n=e.state,r=e.next_in,C=e.input,i=r+(e.avail_in-5),o=e.next_out,S=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,_=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{p<15&&(f+=C[r++]<<p,p+=8,f+=C[r++]<<p,p+=8),A=m[f&_];t:for(;;){if(y=A>>>24,f>>>=y,p-=y,0===(y=A>>>16&255))S[o++]=65535&A;else{if(!(16&y)){if(0==(64&y)){A=m[(65535&A)+(f&(1<<y)-1)];continue t}if(32&y){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}b=65535&A,y&=15,y&&(p<y&&(f+=C[r++]<<p,p+=8),b+=f&(1<<y)-1,f>>>=y,p-=y),p<15&&(f+=C[r++]<<p,p+=8,f+=C[r++]<<p,p+=8),A=g[f&v];n:for(;;){if(y=A>>>24,f>>>=y,p-=y,!(16&(y=A>>>16&255))){if(0==(64&y)){A=g[(65535&A)+(f&(1<<y)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&A,y&=15,p<y&&(f+=C[r++]<<p,(p+=8)<y&&(f+=C[r++]<<p,p+=8)),(w+=f&(1<<y)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=y,p-=y,y=o-a,w>y){if((y=w-y)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,E=d,0===h){if(x+=l-y,y<b){b-=y;do{S[o++]=d[x++]}while(--y);x=o-w,E=S}}else if(h<y){if(x+=l+h-y,(y-=h)<b){b-=y;do{S[o++]=d[x++]}while(--y);if(x=0,h<b){y=h,b-=y;do{S[o++]=d[x++]}while(--y);x=o-w,E=S}}}else if(x+=h-y,y<b){b-=y;do{S[o++]=d[x++]}while(--y);x=o-w,E=S}for(;b>2;)S[o++]=E[x++],S[o++]=E[x++],S[o++]=E[x++],b-=3;b&&(S[o++]=E[x++],b>1&&(S[o++]=E[x++]))}else{x=o-w;do{S[o++]=S[x++],S[o++]=S[x++],S[o++]=S[x++],b-=3}while(b>2);b&&(S[o++]=S[x++],b>1&&(S[o++]=S[x++]))}break}}break}}while(r<i&&o<s);b=p>>3,r-=b,p-=b<<3,f&=(1<<p)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=p}},function(e,t,n){"use strict";var r=n(229),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,l,c,h,d){var f,p,m,g,_,v,A,y,b,w=d.bits,x=0,E=0,C=0,S=0,T=0,I=0,M=0,O=0,P=0,D=0,B=null,L=0,N=new r.Buf16(16),R=new r.Buf16(16),k=null,F=0;for(x=0;x<=15;x++)N[x]=0;for(E=0;E<u;E++)N[t[n+E]]++;for(T=w,S=15;S>=1&&0===N[S];S--);if(T>S&&(T=S),0===S)return l[c++]=20971520,l[c++]=20971520,d.bits=1,0;for(C=1;C<S&&0===N[C];C++);for(T<C&&(T=C),O=1,x=1;x<=15;x++)if(O<<=1,(O-=N[x])<0)return-1;if(O>0&&(0===e||1!==S))return-1;for(R[1]=0,x=1;x<15;x++)R[x+1]=R[x]+N[x];for(E=0;E<u;E++)0!==t[n+E]&&(h[R[t[n+E]]++]=E);if(0===e?(B=k=h,v=19):1===e?(B=i,L-=257,k=o,F-=257,v=256):(B=a,k=s,v=-1),D=0,E=0,x=C,_=c,I=T,M=0,m=-1,P=1<<T,g=P-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){A=x-M,h[E]<v?(y=0,b=h[E]):h[E]>v?(y=k[F+h[E]],b=B[L+h[E]]):(y=96,b=0),f=1<<x-M,p=1<<I,C=p;do{p-=f,l[_+(D>>M)+p]=A<<24|y<<16|b|0}while(0!==p);for(f=1<<x-1;D&f;)f>>=1;if(0!==f?(D&=f-1,D+=f):D=0,E++,0==--N[x]){if(x===S)break;x=t[n+h[E]]}if(x>T&&(D&g)!==m){for(0===M&&(M=T),_+=C,I=x-M,O=1<<I;I+M<S&&!((O-=N[I+M])<=0);)I++,O<<=1;if(P+=1<<I,1===e&&P>852||2===e&&P>592)return 1;m=D&g,l[m]=T<<24|I<<16|_-c|0}}return 0!==D&&(l[_+D]=x-M<<24|64<<16|0),d.bits=T,0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";var r=n(96),i=n(851),o=n(1238),a=n(1239),s=function(){r.register("places-like-me-function",i),r.register("spatial-detailing-function",o),r.register("why-am-i-special-function",a)};e.exports=s},function(e,t,n){"use strict";var r=n(194),i=n(138),o=n(0),a=n(2),s=n(1235),u=n(14),l=n(354),c=n(22),h=n(355),d=n(589),f=n(205),p=n(26),m=n(1237),g=function(e){r.call(this,e),this.url=void 0,this.name="Regions like this",this.description="Identifies regions that are _most like_ a given region according to a given set of characteristics.",this._regionTypeParameter=new f({terria:this.terria,catalogFunction:this,id:"regionType",name:"Region Type",description:"The type of region to analyze."}),this._regionParameter=new d({terria:this.terria,catalogFunction:this,id:"region",name:"Region",description:"The region to analyze.  The analysis will determine which regions are most similar to this one.",regionProvider:this._regionTypeParameter}),this._dataParameter=new h({terria:this.terria,catalogFunction:this,id:"data",name:"Characteristics",description:"The region characteristics to include in the analysis.",regionProvider:this._regionTypeParameter}),this._parameters=[this._regionTypeParameter,this._regionParameter,this._dataParameter]};u(r,g),a(g.prototype,{type:{get:function(){return"places-like-me-function"}},typeName:{get:function(){return"Places Like Me"}},parameters:{get:function(){return this._parameters}}}),g.prototype._load=function(){},g.prototype.invoke=function(){var e=this._regionParameter.value,t=this._dataParameter.getRegionDataValue();if(!o(e))throw new c({title:"Region not selected",message:"You must select a Region."});var n=this._regionTypeParameter.value,r={algorithm:"placeslikeme",boundaries_name:n.regionType,region_codes:t.regionCodes,columns:t.columnHeadings,table:t.table,parameters:{query:e.id}},a=n.regions.indexOf(e),u=e.id;a>=0&&(u=n.regionNames[a]||u);var h="Places like "+u,d=this;return l(this.terria,h,this.url,r).then(function(r){var o=r.result,a=n.aliases[0]+",Likeness\n",l=o.likeness;if(t.regionCodes.length!==l.length)throw new p("The list of likenesses and the list of region codes do not contain the same number of elements.");for(var c=0;c<t.regionCodes.length;++c)a+=t.regionCodes[c]+","+Math.pow(l[c],3)+"\n";var f=new i(d.terria);f.name=h,f.data=a,f.dataUrl=r.url,f.tableStyle.colorBins=40,f.tableStyle.colorMap=[{color:"rgba(255,255,255,1.00)",offset:0},{color:"rgba(191, 191, 255, 1.0)",offset:.5},{color:"rgba(0, 0, 255, 1.0)",offset:1}];var g='This is the result of invoking "'+d.name+'" at '+r.startDate+" with these parameters:\n\n";g+=" * "+n.regionType+" Region: "+u+" ("+e.id+")\n",g+=" * Characteristics: "+t.columnHeadings.join(", ")+"\n",f.description=g,s(f,function(){return m(f,n,e)}),f.isEnabled=!0})},e.exports=g},function(e,t,n){var r,i,o;/*!
 * Knockout JavaScript library v3.4.2
 * (c) The Knockout.js team - http-colon-slashslash knockoutjs.com/
 * License: MIT (http-colon-slashslash www.opensource.org/licenses/mit-license.php)
 */
!function(){!function(a){var s=this||(0,eval)("this"),u=s.document,l=s.navigator,c=s.jQuery,h=s.JSON;!function(a){i=[t,n],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(function(e,t){function n(e,t){return(null===e||typeof e in g)&&e===t}function r(e,t){var n;return function(){n||(n=m.a.setTimeout(function(){n=a,e()},t))}}function i(e,t){var n;return function(){clearTimeout(n),n=m.a.setTimeout(e,t)}}function o(e,t){t&&t!==_?"beforeChange"===t?this.Ob(e):this.Ja(e,t):this.Pb(e)}function d(e,t){null!==t&&t.k&&t.k()}function f(e,t){var n=this.Mc,r=n[w];r.T||(this.ob&&this.Oa[t]?(n.Sb(t,e,this.Oa[t]),this.Oa[t]=null,--this.ob):r.s[t]||n.Sb(t,e,r.t?{$:e}:n.yc(e)),e.Ha&&e.Hc())}function p(e,t,n,r){m.d[e]={init:function(e,i,o,a,s){var u,l;return m.m(function(){var o=i(),a=m.a.c(o),a=!n!=!a,c=!l;(c||t||a!==u)&&(c&&m.xa.Ca()&&(l=m.a.wa(m.f.childNodes(e),!0)),a?(c||m.f.fa(e,m.a.wa(l)),m.hb(r?r(s,o):s,e)):m.f.za(e),u=a)},null,{i:e}),{controlsDescendantBindings:!0}}},m.h.va[e]=!1,m.f.aa[e]=!0}var m=void 0!==e?e:{};m.b=function(e,t){for(var n=e.split("."),r=m,i=0;i<n.length-1;i++)r=r[n[i]];r[n[n.length-1]]=t},m.H=function(e,t,n){e[t]=n},m.version="3.4.2",m.b("version",m.version),m.options={deferUpdates:!1,useOnlyNativeEvents:!1},m.a=function(){function e(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function t(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(e,t){return e.__proto__=t,e}function r(e,t,n,r){var i=e[t].match(_)||[];m.a.r(n.match(_),function(e){m.a.ra(i,e,r)}),e[t]=i.join(" ")}var i={__proto__:[]}instanceof Array,o="function"==typeof Symbol,d={},f={};d[l&&/Firefox\/2/i.test(l.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],d.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),e(d,function(e,t){if(t.length)for(var n=0,r=t.length;n<r;n++)f[t[n]]=e});var p={propertychange:!0},g=u&&function(){for(var e=3,t=u.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:a}(),_=/\S+/g;return{gc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},o:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Vb:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r))return e[r];return null},Na:function(e,t){var n=m.a.o(e,t);0<n?e.splice(n,1):0===n&&e.shift()},Wb:function(e){e=e||[];for(var t=[],n=0,r=e.length;n<r;n++)0>m.a.o(t,e[n])&&t.push(e[n]);return t},ib:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;r<i;r++)n.push(t(e[r],r));return n},Ma:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;r<i;r++)t(e[r],r)&&n.push(e[r]);return n},ta:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},ra:function(e,t,n){var r=m.a.o(m.a.Bb(e),t);0>r?n&&e.push(t):n||e.splice(r,1)},la:i,extend:t,$a:n,ab:i?n:t,D:e,Ea:function(e,t){if(!e)return e;var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n],n,e));return r},rb:function(e){for(;e.firstChild;)m.removeNode(e.firstChild)},nc:function(e){e=m.a.W(e);for(var t=(e[0]&&e[0].ownerDocument||u).createElement("div"),n=0,r=e.length;n<r;n++)t.appendChild(m.ba(e[n]));return t},wa:function(e,t){for(var n=0,r=e.length,i=[];n<r;n++){var o=e[n].cloneNode(!0);i.push(t?m.ba(o):o)}return i},fa:function(e,t){if(m.a.rb(e),t)for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n])},uc:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var r=n[0],i=r.parentNode,o=0,a=t.length;o<a;o++)i.insertBefore(t[o],r);for(o=0,a=n.length;o<a;o++)m.removeNode(n[o])}},Ba:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],r=e[e.length-1];for(e.length=0;n!==r;)e.push(n),n=n.nextSibling;e.push(r)}}return e},wc:function(e,t){7>g?e.setAttribute("selected",t):e.selected=t},cb:function(e){return null===e||e===a?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},sd:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},Rc:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},qb:function(e){return m.a.Rc(e,e.ownerDocument.documentElement)},Tb:function(e){return!!m.a.Vb(e,m.a.qb)},A:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Zb:function(e){return m.onError?function(){try{return e.apply(this,arguments)}catch(e){throw m.onError&&m.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(m.a.Zb(e),t)},dc:function(e){setTimeout(function(){throw m.onError&&m.onError(e),e},0)},q:function(e,t,n){var r=m.a.Zb(n);if(n=g&&p[t],m.options.useOnlyNativeEvents||n||!c)if(n||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var i=function(t){r.call(e,t)},o="on"+t;e.attachEvent(o,i),m.a.G.qa(e,function(){e.detachEvent(o,i)})}else e.addEventListener(t,r,!1);else c(e).bind(t,r)},Fa:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if("input"===m.a.A(e)&&e.type&&"click"==t.toLowerCase()?(n=e.type,n="checkbox"==n||"radio"==n):n=!1,m.options.useOnlyNativeEvents||!c||n)if("function"==typeof u.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");n=u.createEvent(f[t]||"HTMLEvents"),n.initEvent(t,!0,!0,s,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(n)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else c(e).trigger(t)},c:function(e){return m.I(e)?e():e},Bb:function(e){return m.I(e)?e.p():e},fb:function(e,t,n){var i;t&&("object"==typeof e.classList?(i=e.classList[n?"add":"remove"],m.a.r(t.match(_),function(t){i.call(e.classList,t)})):"string"==typeof e.className.baseVal?r(e.className,"baseVal",t,n):r(e,"className",t,n))},bb:function(e,t){var n=m.a.c(t);null!==n&&n!==a||(n="");var r=m.f.firstChild(e);!r||3!=r.nodeType||m.f.nextSibling(r)?m.f.fa(e,[e.ownerDocument.createTextNode(n)]):r.data=n,m.a.Wc(e)},vc:function(e,t){if(e.name=t,7>=g)try{e.mergeAttributes(u.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},Wc:function(e){9<=g&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},Sc:function(e){if(g){var t=e.style.width;e.style.width=0,e.style.width=t}},nd:function(e,t){e=m.a.c(e),t=m.a.c(t);for(var n=[],r=e;r<=t;r++)n.push(r);return n},W:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},bc:function(e){return o?Symbol(e):e},xd:6===g,yd:7===g,C:g,ic:function(e,t){for(var n=m.a.W(e.getElementsByTagName("input")).concat(m.a.W(e.getElementsByTagName("textarea"))),r="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},i=[],o=n.length-1;0<=o;o--)r(n[o])&&i.push(n[o]);return i},kd:function(e){return"string"==typeof e&&(e=m.a.cb(e))?h&&h.parse?h.parse(e):new Function("return "+e)():null},Gb:function(e,t,n){if(!h||!h.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return h.stringify(m.a.c(e),t,n)},ld:function(t,n,r){r=r||{};var i=r.params||{},o=r.includeFields||this.gc,a=t;if("object"==typeof t&&"form"===m.a.A(t))for(var a=t.action,s=o.length-1;0<=s;s--)for(var l=m.a.ic(t,o[s]),c=l.length-1;0<=c;c--)i[l[c].name]=l[c].value;n=m.a.c(n);var h=u.createElement("form");h.style.display="none",h.action=a,h.method="post";for(var d in n)t=u.createElement("input"),t.type="hidden",t.name=d,t.value=m.a.Gb(m.a.c(n[d])),h.appendChild(t);e(i,function(e,t){var n=u.createElement("input");n.type="hidden",n.name=e,n.value=t,h.appendChild(n)}),u.body.appendChild(h),r.submitter?r.submitter(h):h.submit(),setTimeout(function(){h.parentNode.removeChild(h)},0)}}}(),m.b("utils",m.a),m.b("utils.arrayForEach",m.a.r),m.b("utils.arrayFirst",m.a.Vb),m.b("utils.arrayFilter",m.a.Ma),m.b("utils.arrayGetDistinctValues",m.a.Wb),m.b("utils.arrayIndexOf",m.a.o),m.b("utils.arrayMap",m.a.ib),m.b("utils.arrayPushAll",m.a.ta),m.b("utils.arrayRemoveItem",m.a.Na),m.b("utils.extend",m.a.extend),m.b("utils.fieldsIncludedWithJsonPost",m.a.gc),m.b("utils.getFormFields",m.a.ic),m.b("utils.peekObservable",m.a.Bb),m.b("utils.postJson",m.a.ld),m.b("utils.parseJson",m.a.kd),m.b("utils.registerEventHandler",m.a.q),m.b("utils.stringifyJson",m.a.Gb),m.b("utils.range",m.a.nd),m.b("utils.toggleDomNodeCssClass",m.a.fb),m.b("utils.triggerEvent",m.a.Fa),m.b("utils.unwrapObservable",m.a.c),m.b("utils.objectForEach",m.a.D),m.b("utils.addOrRemoveItem",m.a.ra),m.b("utils.setTextContent",m.a.bb),m.b("unwrap",m.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice(0);return r.push.apply(r,arguments),t.apply(e,r)}}),m.a.e=new function(){function e(e,i){var o=e[n];if(!o||"null"===o||!r[o]){if(!i)return a;o=e[n]="ko"+t++,r[o]={}}return r[o]}var t=0,n="__ko__"+(new Date).getTime(),r={};return{get:function(t,n){var r=e(t,!1);return r===a?a:r[n]},set:function(t,n,r){r===a&&e(t,!1)===a||(e(t,!0)[n]=r)},clear:function(e){var t=e[n];return!!t&&(delete r[t],e[n]=null,!0)},J:function(){return t+++n}}},m.b("utils.domData",m.a.e),m.b("utils.domData.clear",m.a.e.clear),m.a.G=new function(){function e(e,t){var r=m.a.e.get(e,n);return r===a&&t&&(r=[],m.a.e.set(e,n,r)),r}function t(n){var r=e(n,!1);if(r)for(var r=r.slice(0),o=0;o<r.length;o++)r[o](n);if(m.a.e.clear(n),m.a.G.cleanExternalData(n),i[n.nodeType])for(r=n.firstChild;n=r;)r=n.nextSibling,8===n.nodeType&&t(n)}var n=m.a.e.J(),r={1:!0,8:!0,9:!0},i={1:!0,9:!0};return{qa:function(t,n){if("function"!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},tc:function(t,r){var i=e(t,!1);i&&(m.a.Na(i,r),0==i.length&&m.a.e.set(t,n,a))},ba:function(e){if(r[e.nodeType]&&(t(e),i[e.nodeType])){var n=[];m.a.ta(n,e.getElementsByTagName("*"));for(var o=0,a=n.length;o<a;o++)t(n[o])}return e},removeNode:function(e){m.ba(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){c&&"function"==typeof c.cleanData&&c.cleanData([e])}}},m.ba=m.a.G.ba,m.removeNode=m.a.G.removeNode,m.b("cleanNode",m.ba),m.b("removeNode",m.removeNode),m.b("utils.domNodeDisposal",m.a.G),m.b("utils.domNodeDisposal.addDisposeCallback",m.a.G.qa),m.b("utils.domNodeDisposal.removeDisposeCallback",m.a.G.tc),function(){var e=[0,"",""],t=[1,"<table>","</table>"],n=[3,"<table><tbody><tr>","</tr></tbody></table>"],r=[1,"<select multiple='multiple'>","</select>"],i={thead:t,tbody:t,tfoot:t,tr:[2,"<table><tbody>","</tbody></table>"],td:n,th:n,option:r,optgroup:r},o=8>=m.a.C;m.a.na=function(t,n){var r;if(c){if(c.parseHTML)r=c.parseHTML(t,n)||[];else if((r=c.clean([t],n))&&r[0]){for(var a=r[0];a.parentNode&&11!==a.parentNode.nodeType;)a=a.parentNode;a.parentNode&&a.parentNode.removeChild(a)}}else{(r=n)||(r=u);var l,a=r.parentWindow||r.defaultView||s,h=m.a.cb(t).toLowerCase(),d=r.createElement("div");for(l=(h=h.match(/^<([a-z]+)[ >]/))&&i[h[1]]||e,h=l[0],l="ignored<div>"+l[1]+t+l[2]+"</div>","function"==typeof a.innerShiv?d.appendChild(a.innerShiv(l)):(o&&r.appendChild(d),d.innerHTML=l,o&&d.parentNode.removeChild(d));h--;)d=d.lastChild;r=m.a.W(d.lastChild.childNodes)}return r},m.a.Eb=function(e,t){if(m.a.rb(e),null!==(t=m.a.c(t))&&t!==a)if("string"!=typeof t&&(t=t.toString()),c)c(e).html(t);else for(var n=m.a.na(t,e.ownerDocument),r=0;r<n.length;r++)e.appendChild(n[r])}}(),m.b("utils.parseHtmlFragment",m.a.na),m.b("utils.setHtml",m.a.Eb),m.N=function(){function e(t,n){if(t)if(8==t.nodeType){var r=m.N.pc(t.nodeValue);null!=r&&n.push({Qc:t,hd:r})}else if(1==t.nodeType)for(var r=0,i=t.childNodes,o=i.length;r<o;r++)e(i[r],n)}var t={};return{yb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return t[n]=e,"\x3c!--[ko_memo:"+n+"]--\x3e"},Bc:function(e,n){var r=t[e];if(r===a)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete t[e]}},Cc:function(t,n){var r=[];e(t,r);for(var i=0,o=r.length;i<o;i++){var a=r[i].Qc,s=[a];n&&m.a.ta(s,n),m.N.Bc(r[i].hd,s),a.nodeValue="",a.parentNode&&a.parentNode.removeChild(a)}},pc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),m.b("memoization",m.N),m.b("memoization.memoize",m.N.yb),m.b("memoization.unmemoize",m.N.Bc),m.b("memoization.parseMemoText",m.N.pc),m.b("memoization.unmemoizeDomNodeAndDescendants",m.N.Cc),m.Z=function(){function e(){if(r)for(var e,t=r,i=0;o<r;)if(e=n[o++]){if(o>t){if(5e3<=++i){o=r,m.a.dc(Error("'Too much recursion' after processing "+i+" task groups."));break}t=r}try{e()}catch(e){m.a.dc(e)}}}function t(){e(),o=r=n.length=0}var n=[],r=0,i=1,o=0;return{scheduler:s.MutationObserver?function(e){var t=u.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(t):u&&"onreadystatechange"in u.createElement("script")?function(e){var t=u.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,u.documentElement.removeChild(t),t=null,e()},u.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},Za:function(e){return r||m.Z.scheduler(t),n[r++]=e,i++},cancel:function(e){(e-=i-r)>=o&&e<r&&(n[e]=null)},resetForTesting:function(){var e=r-o;return o=r=n.length=0,e},rd:e}}(),m.b("tasks",m.Z),m.b("tasks.schedule",m.Z.Za),m.b("tasks.runEarly",m.Z.rd),m.Aa={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return m.B({read:e,write:function(r){clearTimeout(n),n=m.a.setTimeout(function(){e(r)},t)}})},rateLimit:function(e,t){var n,o,a;"number"==typeof t?n=t:(n=t.timeout,o=t.method),e.gb=!1,a="notifyWhenChangesStop"==o?i:r,e.Wa(function(e){return a(e,n)})},deferred:function(e,t){if(!0!==t)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e.gb||(e.gb=!0,e.Wa(function(t){var n,r=!1;return function(){if(!r){m.Z.cancel(n),n=m.Z.Za(t);try{r=!0,e.notifySubscribers(a,"dirty")}finally{r=!1}}}}))},notify:function(e,t){e.equalityComparer="always"==t?null:n}};var g={undefined:1,boolean:1,number:1,string:1};m.b("extenders",m.Aa),m.zc=function(e,t,n){this.$=e,this.jb=t,this.Pc=n,this.T=!1,m.H(this,"dispose",this.k)},m.zc.prototype.k=function(){this.T=!0,this.Pc()},m.K=function(){m.a.ab(this,v),v.ub(this)};var _="change",v={ub:function(e){e.F={change:[]},e.Qb=1},Y:function(e,t,n){var r=this;n=n||_;var i=new m.zc(r,t?e.bind(t):e,function(){m.a.Na(r.F[n],i),r.Ka&&r.Ka(n)});return r.ua&&r.ua(n),r.F[n]||(r.F[n]=[]),r.F[n].push(i),i},notifySubscribers:function(e,t){if(t=t||_,t===_&&this.Kb(),this.Ra(t)){var n=t===_&&this.Fc||this.F[t].slice(0);try{m.l.Xb();for(var r,i=0;r=n[i];++i)r.T||r.jb(e)}finally{m.l.end()}}},Pa:function(){return this.Qb},Zc:function(e){return this.Pa()!==e},Kb:function(){++this.Qb},Wa:function(e){var t,n,r,i,a=this,s=m.I(a);a.Ja||(a.Ja=a.notifySubscribers,a.notifySubscribers=o);var u=e(function(){a.Ha=!1,s&&i===a&&(i=a.Mb?a.Mb():a());var e=n||a.Ua(r,i);n=t=!1,e&&a.Ja(r=i)});a.Pb=function(e){a.Fc=a.F[_].slice(0),a.Ha=t=!0,i=e,u()},a.Ob=function(e){t||(r=e,a.Ja(e,"beforeChange"))},a.Hc=function(){a.Ua(r,a.p(!0))&&(n=!0)}},Ra:function(e){return this.F[e]&&this.F[e].length},Xc:function(e){if(e)return this.F[e]&&this.F[e].length||0;var t=0;return m.a.D(this.F,function(e,n){"dirty"!==e&&(t+=n.length)}),t},Ua:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var t=this;return e&&m.a.D(e,function(e,n){var r=m.Aa[e];"function"==typeof r&&(t=r(t,n)||t)}),t}};m.H(v,"subscribe",v.Y),m.H(v,"extend",v.extend),m.H(v,"getSubscriptionsCount",v.Xc),m.a.la&&m.a.$a(v,Function.prototype),m.K.fn=v,m.lc=function(e){return null!=e&&"function"==typeof e.Y&&"function"==typeof e.notifySubscribers},m.b("subscribable",m.K),m.b("isSubscribable",m.lc),m.xa=m.l=function(){function e(e){r.push(n),n=e}function t(){n=r.pop()}var n,r=[],i=0;return{Xb:e,end:t,sc:function(e){if(n){if(!m.lc(e))throw Error("Only subscribable things can act as dependencies");n.jb.call(n.Lc,e,e.Gc||(e.Gc=++i))}},w:function(n,r,i){try{return e(),n.apply(r,i||[])}finally{t()}},Ca:function(){if(n)return n.m.Ca()},Va:function(){if(n)return n.Va}}}(),m.b("computedContext",m.xa),m.b("computedContext.getDependenciesCount",m.xa.Ca),m.b("computedContext.isInitial",m.xa.Va),m.b("ignoreDependencies",m.wd=m.l.w);var A=m.a.bc("_latestValue");m.O=function(e){function t(){return 0<arguments.length?(t.Ua(t[A],arguments[0])&&(t.ia(),t[A]=arguments[0],t.ha()),this):(m.l.sc(t),t[A])}return t[A]=e,m.a.la||m.a.extend(t,m.K.fn),m.K.fn.ub(t),m.a.ab(t,y),m.options.deferUpdates&&m.Aa.deferred(t,!0),t};var y={equalityComparer:n,p:function(){return this[A]},ha:function(){this.notifySubscribers(this[A])},ia:function(){this.notifySubscribers(this[A],"beforeChange")}};m.a.la&&m.a.$a(y,m.K.fn);var b=m.O.md="__ko_proto__";y[b]=m.O,m.Qa=function(e,t){return null!==e&&e!==a&&e[b]!==a&&(e[b]===t||m.Qa(e[b],t))},m.I=function(e){return m.Qa(e,m.O)},m.Da=function(e){return!!("function"==typeof e&&e[b]===m.O||"function"==typeof e&&e[b]===m.B&&e.$c)},m.b("observable",m.O),m.b("isObservable",m.I),m.b("isWriteableObservable",m.Da),m.b("isWritableObservable",m.Da),m.b("observable.fn",y),m.H(y,"peek",y.p),m.H(y,"valueHasMutated",y.ha),m.H(y,"valueWillMutate",y.ia),m.ma=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=m.O(e),m.a.ab(e,m.ma.fn),e.extend({trackArrayChanges:!0})},m.ma.fn={remove:function(e){for(var t=this.p(),n=[],r="function"!=typeof e||m.I(e)?function(t){return t===e}:e,i=0;i<t.length;i++){var o=t[i];r(o)&&(0===n.length&&this.ia(),n.push(o),t.splice(i,1),i--)}return n.length&&this.ha(),n},removeAll:function(e){if(e===a){var t=this.p(),n=t.slice(0);return this.ia(),t.splice(0,t.length),this.ha(),n}return e?this.remove(function(t){return 0<=m.a.o(e,t)}):[]},destroy:function(e){var t=this.p(),n="function"!=typeof e||m.I(e)?function(t){return t===e}:e;this.ia();for(var r=t.length-1;0<=r;r--)n(t[r])&&(t[r]._destroy=!0);this.ha()},destroyAll:function(e){return e===a?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=m.a.o(e,t)}):[]},indexOf:function(e){var t=this();return m.a.o(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.ia(),this.p()[n]=t,this.ha())}},m.a.la&&m.a.$a(m.ma.fn,m.O.fn),m.a.r("pop push reverse shift sort splice unshift".split(" "),function(e){m.ma.fn[e]=function(){var t=this.p();this.ia(),this.Yb(t,e,arguments);var n=t[e].apply(t,arguments);return this.ha(),n===t?this:n}}),m.a.r(["slice"],function(e){m.ma.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),m.b("observableArray",m.ma),m.Aa.trackArrayChanges=function(e,t){function n(){if(!o){o=!0,i=e.notifySubscribers,e.notifySubscribers=function(e,t){return t&&t!==_||++u,i.apply(this,arguments)};var t=[].concat(e.p()||[]);s=null,r=e.Y(function(n){if(n=[].concat(n||[]),e.Ra("arrayChange")){var r;(!s||1<u)&&(s=m.a.lb(t,n,e.kb)),r=s}t=n,s=null,u=0,r&&r.length&&e.notifySubscribers(r,"arrayChange")})}}if(e.kb={},t&&"object"==typeof t&&m.a.extend(e.kb,t),e.kb.sparse=!0,!e.Yb){var r,i,o=!1,s=null,u=0,l=e.ua,c=e.Ka;e.ua=function(t){l&&l.call(e,t),"arrayChange"===t&&n()},e.Ka=function(t){c&&c.call(e,t),"arrayChange"!==t||e.Ra("arrayChange")||(i&&(e.notifySubscribers=i,i=a),r.k(),o=!1)},e.Yb=function(e,t,n){function r(e,t,n){return i[i.length]={status:e,value:t,index:n}}if(o&&!u){var i=[],a=e.length,l=n.length,c=0;switch(t){case"push":c=a;case"unshift":for(t=0;t<l;t++)r("added",n[t],c+t);break;case"pop":c=a-1;case"shift":a&&r("deleted",e[c],c);break;case"splice":t=Math.min(Math.max(0,0>n[0]?a+n[0]:n[0]),a);for(var a=1===l?a:Math.min(t+(n[1]||0),a),l=t+l-2,c=Math.max(a,l),h=[],d=[],f=2;t<c;++t,++f)t<a&&d.push(r("deleted",e[t],t)),t<l&&h.push(r("added",n[f],t));m.a.hc(d,h);break;default:return}s=i}}}};var w=m.a.bc("_state");m.m=m.B=function(e,t,n){function r(){if(0<arguments.length){if("function"!=typeof i)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return i.apply(o.sb,arguments),this}return m.l.sc(r),(o.V||o.t&&r.Sa())&&r.U(),o.M}if("object"==typeof e?n=e:(n=n||{},e&&(n.read=e)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var i=n.write,o={M:a,da:!0,V:!0,Ta:!1,Hb:!1,T:!1,Ya:!1,t:!1,od:n.read,sb:t||n.owner,i:n.disposeWhenNodeIsRemoved||n.i||null,ya:n.disposeWhen||n.ya,pb:null,s:{},L:0,fc:null};return r[w]=o,r.$c="function"==typeof i,m.a.la||m.a.extend(r,m.K.fn),m.K.fn.ub(r),m.a.ab(r,x),n.pure?(o.Ya=!0,o.t=!0,m.a.extend(r,E)):n.deferEvaluation&&m.a.extend(r,C),m.options.deferUpdates&&m.Aa.deferred(r,!0),o.i&&(o.Hb=!0,o.i.nodeType||(o.i=null)),o.t||n.deferEvaluation||r.U(),o.i&&r.ca()&&m.a.G.qa(o.i,o.pb=function(){r.k()}),r};var x={equalityComparer:n,Ca:function(){return this[w].L},Sb:function(e,t,n){if(this[w].Ya&&t===this)throw Error("A 'pure' computed must not be called recursively");this[w].s[e]=n,n.Ia=this[w].L++,n.pa=t.Pa()},Sa:function(){var e,t,n=this[w].s;for(e in n)if(n.hasOwnProperty(e)&&(t=n[e],this.oa&&t.$.Ha||t.$.Zc(t.pa)))return!0},gd:function(){this.oa&&!this[w].Ta&&this.oa(!1)},ca:function(){var e=this[w];return e.V||0<e.L},qd:function(){this.Ha?this[w].V&&(this[w].da=!0):this.ec()},yc:function(e){if(e.gb&&!this[w].i){var t=e.Y(this.gd,this,"dirty"),n=e.Y(this.qd,this);return{$:e,k:function(){t.k(),n.k()}}}return e.Y(this.ec,this)},ec:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[w].fc),this[w].fc=m.a.setTimeout(function(){e.U(!0)},t)):e.oa?e.oa(!0):e.U(!0)},U:function(e){var t=this[w],n=t.ya,r=!1;if(!t.Ta&&!t.T){if(t.i&&!m.a.qb(t.i)||n&&n()){if(!t.Hb)return void this.k()}else t.Hb=!1;t.Ta=!0;try{r=this.Vc(e)}finally{t.Ta=!1}return t.L||this.k(),r}},Vc:function(e){var t=this[w],n=!1,r=t.Ya?a:!t.L,i={Mc:this,Oa:t.s,ob:t.L};return m.l.Xb({Lc:i,jb:f,m:this,Va:r}),t.s={},t.L=0,i=this.Uc(t,i),this.Ua(t.M,i)&&(t.t||this.notifySubscribers(t.M,"beforeChange"),t.M=i,t.t?this.Kb():e&&this.notifySubscribers(t.M),n=!0),r&&this.notifySubscribers(t.M,"awake"),n},Uc:function(e,t){try{var n=e.od;return e.sb?n.call(e.sb):n()}finally{m.l.end(),t.ob&&!e.t&&m.a.D(t.Oa,d),e.da=e.V=!1}},p:function(e){var t=this[w];return(t.V&&(e||!t.L)||t.t&&this.Sa())&&this.U(),t.M},Wa:function(e){m.K.fn.Wa.call(this,e),this.Mb=function(){return this[w].da?this.U():this[w].V=!1,this[w].M},this.oa=function(e){this.Ob(this[w].M),this[w].V=!0,e&&(this[w].da=!0),this.Pb(this)}},k:function(){var e=this[w];!e.t&&e.s&&m.a.D(e.s,function(e,t){t.k&&t.k()}),e.i&&e.pb&&m.a.G.tc(e.i,e.pb),e.s=null,e.L=0,e.T=!0,e.da=!1,e.V=!1,e.t=!1,e.i=null}},E={ua:function(e){var t=this,n=t[w];if(!n.T&&n.t&&"change"==e){if(n.t=!1,n.da||t.Sa())n.s=null,n.L=0,t.U()&&t.Kb();else{var r=[];m.a.D(n.s,function(e,t){r[t.Ia]=e}),m.a.r(r,function(e,r){var i=n.s[e],o=t.yc(i.$);o.Ia=r,o.pa=i.pa,n.s[e]=o})}n.T||t.notifySubscribers(n.M,"awake")}},Ka:function(e){var t=this[w];t.T||"change"!=e||this.Ra("change")||(m.a.D(t.s,function(e,n){n.k&&(t.s[e]={$:n.$,Ia:n.Ia,pa:n.pa},n.k())}),t.t=!0,this.notifySubscribers(a,"asleep"))},Pa:function(){var e=this[w];return e.t&&(e.da||this.Sa())&&this.U(),m.K.fn.Pa.call(this)}},C={ua:function(e){"change"!=e&&"beforeChange"!=e||this.p()}};m.a.la&&m.a.$a(x,m.K.fn);var S=m.O.md;m.m[S]=m.O,x[S]=m.m,m.bd=function(e){return m.Qa(e,m.m)},m.cd=function(e){return m.Qa(e,m.m)&&e[w]&&e[w].Ya},m.b("computed",m.m),m.b("dependentObservable",m.m),m.b("isComputed",m.bd),m.b("isPureComputed",m.cd),m.b("computed.fn",x),m.H(x,"peek",x.p),m.H(x,"dispose",x.k),m.H(x,"isActive",x.ca),m.H(x,"getDependenciesCount",x.Ca),m.rc=function(e,t){return"function"==typeof e?m.m(e,t,{pure:!0}):(e=m.a.extend({},e),e.pure=!0,m.m(e,t))},m.b("pureComputed",m.rc),function(){function e(r,i,o){if(o=o||new n,"object"!=typeof(r=i(r))||null===r||r===a||r instanceof RegExp||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var s=r instanceof Array?[]:{};return o.save(r,s),t(r,function(t){var n=i(r[t]);switch(typeof n){case"boolean":case"number":case"string":case"function":s[t]=n;break;case"object":case"undefined":var u=o.get(n);s[t]=u!==a?u:e(n,i,o)}}),s}function t(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}function n(){this.keys=[],this.Lb=[]}m.Ac=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(e){for(var t=0;m.I(e)&&10>t;t++)e=e();return e})},m.toJSON=function(e,t,n){return e=m.Ac(e),m.a.Gb(e,t,n)},n.prototype={save:function(e,t){var n=m.a.o(this.keys,e);0<=n?this.Lb[n]=t:(this.keys.push(e),this.Lb.push(t))},get:function(e){return e=m.a.o(this.keys,e),0<=e?this.Lb[e]:a}}}(),m.b("toJS",m.Ac),m.b("toJSON",m.toJSON),function(){m.j={u:function(e){switch(m.a.A(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?m.a.e.get(e,m.d.options.zb):7>=m.a.C?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?m.j.u(e.options[e.selectedIndex]):a;default:return e.value}},ja:function(e,t,n){switch(m.a.A(e)){case"option":switch(typeof t){case"string":m.a.e.set(e,m.d.options.zb,a),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:m.a.e.set(e,m.d.options.zb,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:""}break;case"select":""!==t&&null!==t||(t=a);for(var r,i=-1,o=0,s=e.options.length;o<s;++o)if((r=m.j.u(e.options[o]))==t||""==r&&t===a){i=o;break}(n||0<=i||t===a&&1<e.size)&&(e.selectedIndex=i);break;default:null!==t&&t!==a||(t=""),e.value=t}}}}(),m.b("selectExtensions",m.j),m.b("selectExtensions.readValue",m.j.u),m.b("selectExtensions.writeValue",m.j.ja),m.h=function(){function e(e){e=m.a.cb(e),123===e.charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],a=e.match(r),s=[],u=0;if(a){a.push(",");for(var l,c=0;l=a[c];++c){var h=l.charCodeAt(0);if(44===h){if(0>=u){n.push(t&&s.length?{key:t,value:s.join("")}:{unknown:t||s.join("")}),t=u=0,s=[];continue}}else if(58===h){if(!u&&!t&&1===s.length){t=s.pop();continue}}else 47===h&&c&&1<l.length?(h=a[c-1].match(i))&&!o[h[0]]&&(e=e.substr(e.indexOf(l)+1),a=e.match(r),a.push(","),c=-1,l="/"):40===h||123===h||91===h?++u:41===h||125===h||93===h?--u:t||s.length||34!==h&&39!==h||(l=l.slice(1,-1));s.push(l)}}return n}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,r=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),i=/[\])"'A-Za-z0-9_$]+$/,o={in:1,return:1,typeof:1},a={};return{va:[],ga:a,Ab:e,Xa:function(r,i){function o(e,r){var i;if(!c){var h=m.getBindingHandler(e);if(h&&h.preprocess&&!(r=h.preprocess(r,e,o)))return;(h=a[e])&&(i=r,0<=m.a.o(t,i)?i=!1:(h=i.match(n),i=null!==h&&(h[1]?"Object("+h[1]+")"+h[2]:i)),h=i),h&&u.push("'"+e+"':function(_z){"+i+"=_z}")}l&&(r="function(){return "+r+" }"),s.push("'"+e+"':"+r)}i=i||{};var s=[],u=[],l=i.valueAccessors,c=i.bindingParams,h="string"==typeof r?e(r):r;return m.a.r(h,function(e){o(e.key||e.unknown,e.value)}),u.length&&o("_ko_property_writers","{"+u.join(",")+" }"),s.join(",")},fd:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},Ga:function(e,t,n,r,i){e&&m.I(e)?!m.Da(e)||i&&e.p()===r||e(r):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](r)}}}(),m.b("expressionRewriting",m.h),m.b("expressionRewriting.bindingRewriteValidators",m.h.va),m.b("expressionRewriting.parseObjectLiteral",m.h.Ab),m.b("expressionRewriting.preProcessBindings",m.h.Xa),m.b("expressionRewriting._twoWayBindings",m.h.ga),m.b("jsonExpressionRewriting",m.h),m.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",m.h.Xa),function(){function e(e){return 8==e.nodeType&&o.test(i?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&a.test(i?e.text:e.nodeValue)}function n(n,r){for(var i=n,o=1,a=[];i=i.nextSibling;){if(t(i)&&0===--o)return a;a.push(i),e(i)&&o++}if(!r)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function r(e,t){var r=n(e,t);return r?0<r.length?r[r.length-1].nextSibling:e.nextSibling:null}var i=u&&"\x3c!--test--\x3e"===u.createComment("test").text,o=i?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,a=i?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,s={ul:!0,ol:!0};m.f={aa:{},childNodes:function(t){return e(t)?n(t):t.childNodes},za:function(t){if(e(t)){t=m.f.childNodes(t);for(var n=0,r=t.length;n<r;n++)m.removeNode(t[n])}else m.a.rb(t)},fa:function(t,n){if(e(t)){m.f.za(t);for(var r=t.nextSibling,i=0,o=n.length;i<o;i++)r.parentNode.insertBefore(n[i],r)}else m.a.fa(t,n)},qc:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},kc:function(t,n,r){r?e(t)?t.parentNode.insertBefore(n,r.nextSibling):r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):m.f.qc(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=r(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},Yc:e,vd:function(e){return(e=(i?e.text:e.nodeValue).match(o))?e[1]:null},oc:function(n){if(s[m.a.A(n)]){var i=n.firstChild;if(i)do{if(1===i.nodeType){var o;o=i.firstChild;var a=null;if(o)do{if(a)a.push(o);else if(e(o)){var u=r(o,!0);u?o=u:a=[o]}else t(o)&&(a=[o])}while(o=o.nextSibling);if(o=a)for(a=i.nextSibling,u=0;u<o.length;u++)a?n.insertBefore(o[u],a):n.appendChild(o[u])}}while(i=i.nextSibling)}}}}(),m.b("virtualElements",m.f),m.b("virtualElements.allowedBindings",m.f.aa),m.b("virtualElements.emptyNode",m.f.za),m.b("virtualElements.insertAfter",m.f.kc),m.b("virtualElements.prepend",m.f.qc),m.b("virtualElements.setDomNodeChildren",m.f.fa),function(){m.S=function(){this.Kc={}},m.a.extend(m.S.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||m.g.getComponentNameForNode(e);case 8:return m.f.Yc(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t),n=n?this.parseBindingsString(n,t,e):null;return m.g.Rb(n,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t),n=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return m.g.Rb(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return m.f.vd(e);default:return null}},parseBindingsString:function(e,t,n,r){try{var i,o=this.Kc,a=e+(r&&r.valueAccessors||"");if(!(i=o[a])){var s,u="with($context){with($data||{}){return{"+m.h.Xa(e,r)+"}}}";s=new Function("$context","$element",u),i=o[a]=s}return i(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),m.S.instance=new m.S}(),m.b("bindingProvider",m.S),function(){function e(e){return function(){return e}}function t(e){return e()}function n(e){return m.a.Ea(m.l.w(e),function(t,n){return function(){return e()[n]}})}function r(t,r,i){return"function"==typeof t?n(t.bind(null,r,i)):m.a.Ea(t,e)}function i(e,t){return n(this.getBindings.bind(this,e,t))}function o(e,t,n){var r,i=m.f.firstChild(t),o=m.S.instance,a=o.preprocessNode;if(a){for(;r=i;)i=m.f.nextSibling(r),a.call(o,r);i=m.f.firstChild(t)}for(;r=i;)i=m.f.nextSibling(r),u(e,r,n)}function u(e,t,n){var r=!0,i=1===t.nodeType;i&&m.f.oc(t),(i&&n||m.S.instance.nodeHasBindings(t))&&(r=h(t,null,e,n).shouldBindDescendants),r&&!f[m.a.A(t)]&&o(e,t,!i)}function l(e){var t=[],n={},r=[];return m.a.D(e,function i(o){if(!n[o]){var a=m.getBindingHandler(o);a&&(a.after&&(r.push(o),m.a.r(a.after,function(t){if(e[t]){if(-1!==m.a.o(r,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+r.join(", "));i(t)}}),r.length--),t.push({key:o,jc:a})),n[o]=!0}}),t}function h(e,n,r,o){var s=m.a.e.get(e,p);if(!n){if(s)throw Error("You cannot apply bindings multiple times to the same element.");m.a.e.set(e,p,!0)}!s&&o&&m.xc(e,r);var u;if(n&&"function"!=typeof n)u=n;else{var c=m.S.instance,h=c.getBindingAccessors||i,d=m.B(function(){return(u=n?n(r,e):h.call(c,e,r))&&r.Q&&r.Q(),u},null,{i:e});u&&d.ca()||(d=null)}var f;if(u){var g=d?function(e){return function(){return t(d()[e])}}:function(e){return u[e]},_=function(){return m.a.Ea(d?d():u,t)};_.get=function(e){return u[e]&&t(g(e))},_.has=function(e){return e in u},o=l(u),m.a.r(o,function(t){var n=t.jc.init,i=t.jc.update,o=t.key;if(8===e.nodeType&&!m.f.aa[o])throw Error("The binding '"+o+"' cannot be used with virtual elements");try{"function"==typeof n&&m.l.w(function(){var t=n(e,g(o),_,r.$data,r);if(t&&t.controlsDescendantBindings){if(f!==a)throw Error("Multiple bindings ("+f+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");f=o}}),"function"==typeof i&&m.B(function(){i(e,g(o),_,r.$data,r)},null,{i:e})}catch(e){throw e.message='Unable to process binding "'+o+": "+u[o]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:f===a}}function d(e){return e&&e instanceof m.R?e:new m.R(e)}m.d={};var f={script:!0,textarea:!0,template:!0};m.getBindingHandler=function(e){return m.d[e]},m.R=function(e,t,n,r,i){function o(){var i=h?e():e,o=m.a.c(i);return t?(t.Q&&t.Q(),m.a.extend(c,t),c.Q=l):(c.$parents=[],c.$root=o,c.ko=m),c.$rawData=i,c.$data=o,n&&(c[n]=o),r&&r(c,t,o),c.$data}function s(){return u&&!m.a.Tb(u)}var u,l,c=this,h="function"==typeof e&&!m.I(e);i&&i.exportDependencies?o():(l=m.B(o,null,{ya:s,i:!0}),l.ca()&&(c.Q=l,l.equalityComparer=null,u=[],l.Dc=function(e){u.push(e),m.a.G.qa(e,function(e){m.a.Na(u,e),u.length||(l.k(),c.Q=l=a)})}))},m.R.prototype.createChildContext=function(e,t,n,r){return new m.R(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)},r)},m.R.prototype.extend=function(e){return new m.R(this.Q||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,m.a.extend(t,"function"==typeof e?e():e)})},m.R.prototype.ac=function(e,t){return this.createChildContext(e,t,null,{exportDependencies:!0})};var p=m.a.e.J(),g=m.a.e.J();m.xc=function(e,t){if(2!=arguments.length)return m.a.e.get(e,g);m.a.e.set(e,g,t),t.Q&&t.Q.Dc(e)},m.La=function(e,t,n){return 1===e.nodeType&&m.f.oc(e),h(e,t,d(n),!0)},m.Ic=function(e,t,n){return n=d(n),m.La(e,r(t,n,e),n)},m.hb=function(e,t){1!==t.nodeType&&8!==t.nodeType||o(d(e),t,!0)},m.Ub=function(e,t){if(!c&&s.jQuery&&(c=s.jQuery),t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||s.document.body,u(d(e),t,!0)},m.nb=function(e){switch(e.nodeType){case 1:case 8:var t=m.xc(e);if(t)return t;if(e.parentNode)return m.nb(e.parentNode)}return a},m.Oc=function(e){return(e=m.nb(e))?e.$data:a},m.b("bindingHandlers",m.d),m.b("applyBindings",m.Ub),m.b("applyBindingsToDescendants",m.hb),m.b("applyBindingAccessorsToNode",m.La),m.b("applyBindingsToNode",m.Ic),m.b("contextFor",m.nb),m.b("dataFor",m.Oc)}(),function(e){function t(t,r){var a,s=i.hasOwnProperty(t)?i[t]:e;s?s.Y(r):(s=i[t]=new m.K,s.Y(r),n(t,function(e,n){var r=!(!n||!n.synchronous);o[t]={definition:e,dd:r},delete i[t],a||r?s.notifySubscribers(e):m.Z.Za(function(){s.notifySubscribers(e)})}),a=!0)}function n(e,t){r("getConfig",[e],function(n){n?r("loadComponent",[e,n],function(e){t(e,n)}):t(null,null)})}function r(t,n,i,o){o||(o=m.g.loaders.slice(0));var a=o.shift();if(a){var s=a[t];if(s){var u=!1;if(s.apply(a,n.concat(function(e){u?i(null):null!==e?i(e):r(t,n,i,o)}))!==e&&(u=!0,!a.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else r(t,n,i,o)}else i(null)}var i={},o={};m.g={get:function(n,r){var i=o.hasOwnProperty(n)?o[n]:e;i?i.dd?m.l.w(function(){r(i.definition)}):m.Z.Za(function(){r(i.definition)}):t(n,r)},$b:function(e){delete o[e]},Nb:r},m.g.loaders=[],m.b("components",m.g),m.b("components.get",m.g.get),m.b("components.clearCachedDefinition",m.g.$b)}(),function(){function e(e,t,n,r){function i(){0==--s&&r(a)}var a={},s=2,u=n.template;n=n.viewModel,u?o(t,u,function(t){m.g.Nb("loadTemplate",[e,t],function(e){a.template=e,i()})}):i(),n?o(t,n,function(t){m.g.Nb("loadViewModel",[e,t],function(e){a[c]=e,i()})}):i()}function n(e,t,r){if("function"==typeof t)r(function(e){return new t(e)});else if("function"==typeof t[c])r(t[c]);else if("instance"in t){var i=t.instance;r(function(){return i})}else"viewModel"in t?n(e,t.viewModel,r):e("Unknown viewModel value: "+t)}function r(e){switch(m.a.A(e)){case"script":return m.a.na(e.text);case"textarea":return m.a.na(e.value);case"template":if(i(e.content))return m.a.wa(e.content.childNodes)}return m.a.wa(e.childNodes)}function i(e){return s.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function o(e,n,r){"string"==typeof n.require?t||s.require?(t||s.require)([n.require],r):e("Uses require, but no AMD loader is present"):r(n)}function a(e){return function(t){throw Error("Component '"+e+"': "+t)}}var l={};m.g.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(m.g.wb(e))throw Error("Component "+e+" is already registered");l[e]=t},m.g.wb=function(e){return l.hasOwnProperty(e)},m.g.ud=function(e){delete l[e],m.g.$b(e)},m.g.cc={getConfig:function(e,t){t(l.hasOwnProperty(e)?l[e]:null)},loadComponent:function(t,n,r){var i=a(t);o(i,n,function(n){e(t,i,n,r)})},loadTemplate:function(e,t,n){if(e=a(e),"string"==typeof t)n(m.a.na(t));else if(t instanceof Array)n(t);else if(i(t))n(m.a.W(t.childNodes));else if(t.element)if(t=t.element,s.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)n(r(t));else if("string"==typeof t){var o=u.getElementById(t);o?n(r(o)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,t,r){n(a(e),t,r)}};var c="createViewModel";m.b("components.register",m.g.register),m.b("components.isRegistered",m.g.wb),m.b("components.unregister",m.g.ud),m.b("components.defaultLoader",m.g.cc),m.g.loaders.push(m.g.cc),m.g.Ec=l}(),function(){function e(e,n){var r=e.getAttribute("params");if(r){var r=t.parseBindingsString(r,n,e,{valueAccessors:!0,bindingParams:!0}),r=m.a.Ea(r,function(t){return m.m(t,null,{i:e})}),i=m.a.Ea(r,function(t){var n=t.p();return t.ca()?m.m({read:function(){return m.a.c(t())},write:m.Da(n)&&function(e){t()(e)},i:e}):n});return i.hasOwnProperty("$raw")||(i.$raw=r),i}return{$raw:{}}}m.g.getComponentNameForNode=function(e){var t=m.a.A(e);if(m.g.wb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=m.a.C&&e.tagName===t))return t},m.g.Rb=function(t,n,r,i){if(1===n.nodeType){var o=m.g.getComponentNameForNode(n);if(o){if(t=t||{},t.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var a={name:o,params:e(n,r)};t.component=i?function(){return a}:a}}return t};var t=new m.S;9>m.a.C&&(m.g.register=function(e){return function(t){return u.createElement(t),e.apply(this,arguments)}}(m.g.register),u.createDocumentFragment=function(e){return function(){var t,n=e(),r=m.g.Ec;for(t in r)r.hasOwnProperty(t)&&n.createElement(t);return n}}(u.createDocumentFragment))}(),function(e){function t(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=m.a.wa(t),m.f.fa(n,e)}function n(e,t,n,r){var i=e.createViewModel;return i?i.call(e,r,{element:t,templateNodes:n}):r}var r=0;m.d.component={init:function(e,i,o,a,s){function u(){var e=l&&l.dispose;"function"==typeof e&&e.call(l),c=l=null}var l,c,h=m.a.W(m.f.childNodes(e));return m.a.G.qa(e,u),m.m(function(){var o,a,d=m.a.c(i());if("string"==typeof d?o=d:(o=m.a.c(d.name),a=m.a.c(d.params)),!o)throw Error("No component name specified");var f=c=++r;m.g.get(o,function(r){if(c===f){if(u(),!r)throw Error("Unknown component '"+o+"'");t(o,r,e);var i=n(r,e,h,a);r=s.createChildContext(i,void 0,function(e){e.$component=i,e.$componentTemplateNodes=h}),l=i,m.hb(r,e)}})},null,{i:e}),{controlsDescendantBindings:!0}}},m.f.aa.component=!0}();var T={class:"className",for:"htmlFor"};m.d.attr={update:function(e,t){var n=m.a.c(t())||{};m.a.D(n,function(t,n){n=m.a.c(n);var r=!1===n||null===n||n===a;r&&e.removeAttribute(t),8>=m.a.C&&t in T?(t=T[t],r?e.removeAttribute(t):e[t]=n):r||e.setAttribute(t,n.toString()),"name"===t&&m.a.vc(e,r?"":n.toString())})}},function(){m.d.checked={after:["value","attr"],init:function(e,t,n){function r(){var r=e.checked,i=f?o():r;if(!m.xa.Va()&&(!u||r)){var a=m.l.w(t);if(c){var s=h?a.p():a;d!==i?(r&&(m.a.ra(s,i,!0),m.a.ra(s,d,!1)),d=i):m.a.ra(s,i,r),h&&m.Da(a)&&a(s)}else m.h.Ga(a,n,"checked",i,!0)}}function i(){var n=m.a.c(t());e.checked=c?0<=m.a.o(n,o()):s?n:o()===n}var o=m.rc(function(){return n.has("checkedValue")?m.a.c(n.get("checkedValue")):n.has("value")?m.a.c(n.get("value")):e.value}),s="checkbox"==e.type,u="radio"==e.type;if(s||u){var l=t(),c=s&&m.a.c(l)instanceof Array,h=!(c&&l.push&&l.splice),d=c?o():a,f=u||c;u&&!e.name&&m.d.uniqueName.init(e,function(){return!0}),m.m(r,null,{i:e}),m.a.q(e,"click",r),m.m(i,null,{i:e}),l=a}}},m.h.ga.checked=!0,m.d.checkedValue={update:function(e,t){e.value=m.a.c(t())}}}(),m.d.css={update:function(e,t){var n=m.a.c(t());null!==n&&"object"==typeof n?m.a.D(n,function(t,n){n=m.a.c(n),m.a.fb(e,t,n)}):(n=m.a.cb(String(n||"")),m.a.fb(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,m.a.fb(e,n,!0))}},m.d.enable={update:function(e,t){var n=m.a.c(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},m.d.disable={update:function(e,t){m.d.enable.update(e,function(){return!m.a.c(t())})}},m.d.event={init:function(e,t,n,r,i){var o=t()||{};m.a.D(o,function(o){"string"==typeof o&&m.a.q(e,o,function(e){var a,s=t()[o];if(s){try{var u=m.a.W(arguments);r=i.$data,u.unshift(r),a=s.apply(r,u)}finally{!0!==a&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(o+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},m.d.foreach={mc:function(e){return function(){var t=e(),n=m.a.Bb(t);return n&&"number"!=typeof n.length?(m.a.c(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:m.X.vb}):{foreach:t,templateEngine:m.X.vb}}},init:function(e,t){return m.d.template.init(e,m.d.foreach.mc(t))},update:function(e,t,n,r,i){return m.d.template.update(e,m.d.foreach.mc(t),n,r,i)}},m.h.va.foreach=!1,m.f.aa.foreach=!0,m.d.hasfocus={init:function(e,t,n){function r(r){e.__ko_hasfocusUpdating=!0;var i=e.ownerDocument;if("activeElement"in i){var o;try{o=i.activeElement}catch(e){o=i.body}r=o===e}i=t(),m.h.Ga(i,n,"hasfocus",r,!0),e.__ko_hasfocusLastValue=r,e.__ko_hasfocusUpdating=!1}var i=r.bind(null,!0),o=r.bind(null,!1);m.a.q(e,"focus",i),m.a.q(e,"focusin",i),m.a.q(e,"blur",o),m.a.q(e,"focusout",o)},update:function(e,t){var n=!!m.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),!n&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),m.l.w(m.a.Fa,null,[e,n?"focusin":"focusout"]))}},m.h.ga.hasfocus=!0,m.d.hasFocus=m.d.hasfocus,m.h.ga.hasFocus=!0,m.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){m.a.Eb(e,t())}},p("if"),p("ifnot",!1,!0),p("with",!0,!1,function(e,t){return e.ac(t)});var I={};m.d.options={init:function(e){if("select"!==m.a.A(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,n){function r(){return m.a.Ma(e.options,function(e){return e.selected})}function i(e,t,n){var r=typeof t;return"function"==r?t(e):"string"==r?e[t]:n}function o(t,r){if(p&&c)m.j.ja(e,m.a.c(n.get("value")),!0);else if(f.length){var i=0<=m.a.o(f,m.j.u(r[0]));m.a.wc(r[0],i),p&&!i&&m.l.w(m.a.Fa,null,[e,"change"])}}var s=e.multiple,u=0!=e.length&&s?e.scrollTop:null,l=m.a.c(t()),c=n.get("valueAllowUnset")&&n.has("value"),h=n.get("optionsIncludeDestroyed");t={};var d,f=[];c||(s?f=m.a.ib(r(),m.j.u):0<=e.selectedIndex&&f.push(m.j.u(e.options[e.selectedIndex]))),l&&(void 0===l.length&&(l=[l]),d=m.a.Ma(l,function(e){return h||e===a||null===e||!m.a.c(e._destroy)}),n.has("optionsCaption")&&null!==(l=m.a.c(n.get("optionsCaption")))&&l!==a&&d.unshift(I));var p=!1;t.beforeRemove=function(t){e.removeChild(t)},l=o,n.has("optionsAfterRender")&&"function"==typeof n.get("optionsAfterRender")&&(l=function(e,t){o(0,t),m.l.w(n.get("optionsAfterRender"),null,[t[0],e!==I?e:a])}),m.a.Db(e,d,function(t,r,o){return o.length&&(f=!c&&o[0].selected?[m.j.u(o[0])]:[],p=!0),r=e.ownerDocument.createElement("option"),t===I?(m.a.bb(r,n.get("optionsCaption")),m.j.ja(r,a)):(o=i(t,n.get("optionsValue"),t),m.j.ja(r,m.a.c(o)),t=i(t,n.get("optionsText"),o),m.a.bb(r,t)),[r]},t,l),m.l.w(function(){c?m.j.ja(e,m.a.c(n.get("value")),!0):(s?f.length&&r().length<f.length:f.length&&0<=e.selectedIndex?m.j.u(e.options[e.selectedIndex])!==f[0]:f.length||0<=e.selectedIndex)&&m.a.Fa(e,"change")}),m.a.Sc(e),u&&20<Math.abs(u-e.scrollTop)&&(e.scrollTop=u)}},m.d.options.zb=m.a.e.J(),m.d.selectedOptions={after:["options","foreach"],init:function(e,t,n){m.a.q(e,"change",function(){var r=t(),i=[];m.a.r(e.getElementsByTagName("option"),function(e){e.selected&&i.push(m.j.u(e))}),m.h.Ga(r,n,"selectedOptions",i)})},update:function(e,t){if("select"!=m.a.A(e))throw Error("values binding applies only to SELECT elements");var n=m.a.c(t()),r=e.scrollTop;n&&"number"==typeof n.length&&m.a.r(e.getElementsByTagName("option"),function(e){var t=0<=m.a.o(n,m.j.u(e));e.selected!=t&&m.a.wc(e,t)}),e.scrollTop=r}},m.h.ga.selectedOptions=!0,m.d.style={update:function(e,t){var n=m.a.c(t()||{});m.a.D(n,function(t,n){n=m.a.c(n),null!==n&&n!==a&&!1!==n||(n=""),e.style[t]=n})}},m.d.submit={init:function(e,t,n,r,i){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");m.a.q(e,"submit",function(n){var r,o=t();try{r=o.call(i.$data,e)}finally{!0!==r&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},m.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){m.a.bb(e,t())}},m.f.aa.text=!0,function(){if(s&&s.navigator)var e=function(e){if(e)return parseFloat(e[1])},t=s.opera&&s.opera.version&&parseInt(s.opera.version()),n=s.navigator.userAgent,r=e(n.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),i=e(n.match(/Firefox\/([^ ]*)/));if(10>m.a.C)var o=m.a.e.J(),u=m.a.e.J(),l=function(e){var t=this.activeElement;(t=t&&m.a.e.get(t,u))&&t(e)},c=function(e,t){var n=e.ownerDocument;m.a.e.get(n,o)||(m.a.e.set(n,o,!0),m.a.q(n,"selectionchange",l)),m.a.e.set(e,u,t)};m.d.textInput={init:function(e,n,o){function s(t,n){m.a.q(e,t,n)}function u(){var t=m.a.c(n());null!==t&&t!==a||(t=""),f!==a&&t===f?m.a.setTimeout(u,4):e.value!==t&&(p=t,e.value=t)}function l(){d||(f=e.value,d=m.a.setTimeout(h,4))}function h(){clearTimeout(d),f=d=a;var t=e.value;p!==t&&(p=t,m.h.Ga(n(),o,"textInput",t))}var d,f,p=e.value,g=9==m.a.C?l:h;10>m.a.C?(s("propertychange",function(e){"value"===e.propertyName&&g(e)}),8==m.a.C&&(s("keyup",h),s("keydown",h)),8<=m.a.C&&(c(e,g),s("dragend",l))):(s("input",h),5>r&&"textarea"===m.a.A(e)?(s("keydown",l),s("paste",l),s("cut",l)):11>t?s("keydown",l):4>i&&(s("DOMAutoComplete",h),s("dragdrop",h),s("drop",h))),s("change",h),m.m(u,null,{i:e})}},m.h.ga.textInput=!0,m.d.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),m.d.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++m.d.uniqueName.Nc;m.a.vc(e,n)}}},m.d.uniqueName.Nc=0,m.d.value={after:["options","foreach"],init:function(e,t,n){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var r=["change"],i=n.get("valueUpdate"),o=!1,a=null;i&&("string"==typeof i&&(i=[i]),m.a.ta(r,i),r=m.a.Wb(r));var s=function(){a=null,o=!1;var r=t(),i=m.j.u(e);m.h.Ga(r,n,"value",i)};!m.a.C||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=m.a.o(r,"propertychange")||(m.a.q(e,"propertychange",function(){o=!0}),m.a.q(e,"focus",function(){o=!1}),m.a.q(e,"blur",function(){o&&s()})),m.a.r(r,function(t){var n=s;m.a.sd(t,"after")&&(n=function(){a=m.j.u(e),m.a.setTimeout(s,0)},t=t.substring(5)),m.a.q(e,t,n)});var u=function(){var r=m.a.c(t()),i=m.j.u(e);if(null!==a&&r===a)m.a.setTimeout(u,0);else if(r!==i)if("select"===m.a.A(e)){var o=n.get("valueAllowUnset"),i=function(){m.j.ja(e,r,o)};i(),o||r===m.j.u(e)?m.a.setTimeout(i,0):m.l.w(m.a.Fa,null,[e,"change"])}else m.j.ja(e,r)};m.m(u,null,{i:e})}else m.La(e,{checkedValue:t})},update:function(){}},m.h.ga.value=!0,m.d.visible={update:function(e,t){var n=m.a.c(t()),r="none"!=e.style.display;n&&!r?e.style.display="":!n&&r&&(e.style.display="none")}},function(e){m.d[e]={init:function(t,n,r,i,o){return m.d.event.init.call(this,t,function(){var t={};return t[e]=n(),t},r,i,o)}}}("click"),m.P=function(){},m.P.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},m.P.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},m.P.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||u;var n=t.getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new m.v.n(n)}if(1==e.nodeType||8==e.nodeType)return new m.v.sa(e);throw Error("Unknown template type: "+e)},m.P.prototype.renderTemplate=function(e,t,n,r){return e=this.makeTemplateSource(e,r),this.renderTemplateSource(e,t,n,r)},m.P.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},m.P.prototype.rewriteTemplate=function(e,t,n){e=this.makeTemplateSource(e,n),t=t(e.text()),e.text(t),e.data("isRewritten",!0)},m.b("templateEngine",m.P),m.Ib=function(){function e(e,t,n,r){e=m.h.Ab(e);for(var i=m.h.va,o=0;o<e.length;o++){var a=e[o].key;if(i.hasOwnProperty(a)){var s=i[a];if("function"==typeof s){if(a=s(e[o].value))throw Error(a)}else if(!s)throw Error("This template engine does not support the '"+a+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+m.h.Xa(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",r.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Tc:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return m.Ib.jd(e,t)},n)},jd:function(r,i){return r.replace(t,function(t,n,r,o,a){return e(a,n,r,i)}).replace(n,function(t,n){return e(n,"\x3c!-- ko --\x3e","#comment",i)})},Jc:function(e,t){return m.N.yb(function(n,r){var i=n.nextSibling;i&&i.nodeName.toLowerCase()===t&&m.La(i,e,r)})}}}(),m.b("__tr_ambtns",m.Ib.Jc),function(){m.v={},m.v.n=function(e){if(this.n=e){var t=m.a.A(e);this.eb="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},m.v.n.prototype.text=function(){var e=1===this.eb?"text":2===this.eb?"value":"innerHTML";if(0==arguments.length)return this.n[e];var t=arguments[0];"innerHTML"===e?m.a.Eb(this.n,t):this.n[e]=t};var e=m.a.e.J()+"_";m.v.n.prototype.data=function(t){if(1===arguments.length)return m.a.e.get(this.n,e+t);m.a.e.set(this.n,e+t,arguments[1])};var t=m.a.e.J();m.v.n.prototype.nodes=function(){var e=this.n;if(0==arguments.length)return(m.a.e.get(e,t)||{}).mb||(3===this.eb?e.content:4===this.eb?e:a);m.a.e.set(e,t,{mb:arguments[0]})},m.v.sa=function(e){this.n=e},m.v.sa.prototype=new m.v.n,m.v.sa.prototype.text=function(){if(0==arguments.length){var e=m.a.e.get(this.n,t)||{};return e.Jb===a&&e.mb&&(e.Jb=e.mb.innerHTML),e.Jb}m.a.e.set(this.n,t,{Jb:arguments[0]})},m.b("templateSources",m.v),m.b("templateSources.domElement",m.v.n),m.b("templateSources.anonymousTemplate",m.v.sa)}(),function(){function e(e,t,n){var r;for(t=m.f.nextSibling(t);e&&(r=e)!==t;)e=m.f.nextSibling(r),n(r,e)}function t(t,n){if(t.length){var r=t[0],i=t[t.length-1],o=r.parentNode,a=m.S.instance,s=a.preprocessNode;if(s){if(e(r,i,function(e,t){var n=e.previousSibling,o=s.call(a,e);o&&(e===r&&(r=o[0]||t),e===i&&(i=o[o.length-1]||n))}),t.length=0,!r)return;r===i?t.push(r):(t.push(r,i),m.a.Ba(t,o))}e(r,i,function(e){1!==e.nodeType&&8!==e.nodeType||m.Ub(n,e)}),e(r,i,function(e){1!==e.nodeType&&8!==e.nodeType||m.N.Cc(e,[n])}),m.a.Ba(t,o)}}function n(e){return e.nodeType?e:0<e.length?e[0]:null}function r(e,r,i,a,s){s=s||{};var u=(e&&n(e)||i||{}).ownerDocument,l=s.templateEngine||o;if(m.Ib.Tc(i,l,u),i=l.renderTemplate(i,a,s,u),"number"!=typeof i.length||0<i.length&&"number"!=typeof i[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(u=!1,r){case"replaceChildren":m.f.fa(e,i),u=!0;break;case"replaceNode":m.a.uc(e,i),u=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+r)}return u&&(t(i,a),s.afterRender&&m.l.w(s.afterRender,null,[i,a.$data])),i}function i(e,t,n){return m.I(e)?e():"function"==typeof e?e(t,n):e}var o;m.Fb=function(e){if(e!=a&&!(e instanceof m.P))throw Error("templateEngine must inherit from ko.templateEngine");o=e},m.Cb=function(e,t,s,u,l){if(s=s||{},(s.templateEngine||o)==a)throw Error("Set a template engine before calling renderTemplate");if(l=l||"replaceChildren",u){var c=n(u);return m.B(function(){var o=t&&t instanceof m.R?t:new m.R(t,null,null,null,{exportDependencies:!0}),a=i(e,o.$data,o),o=r(u,l,a,o,s);"replaceNode"==l&&(u=o,c=n(u))},null,{ya:function(){return!c||!m.a.qb(c)},i:c&&"replaceNode"==l?c.parentNode:c})}return m.N.yb(function(n){m.Cb(e,t,s,n,"replaceNode")})},m.pd=function(e,n,o,s,u){function l(e,n){t(n,h),o.afterRender&&o.afterRender(n,e),h=null}function c(t,n){return h=u.createChildContext(t,o.as,function(e){e.$index=n}),r(null,"ignoreTargetNode",i(e,t,h),h,o)}var h;return m.B(function(){var e=m.a.c(n)||[];void 0===e.length&&(e=[e]),e=m.a.Ma(e,function(e){return o.includeDestroyed||e===a||null===e||!m.a.c(e._destroy)}),m.l.w(m.a.Db,null,[s,e,c,o,l])},null,{i:s})};var s=m.a.e.J();m.d.template={init:function(e,t){var n=m.a.c(t());if("string"==typeof n||n.name)m.f.za(e);else{if("nodes"in n){if(n=n.nodes||[],m.I(n))throw Error('The "nodes" option must be a plain, non-observable array.')}else n=m.f.childNodes(e);n=m.a.nc(n),new m.v.sa(e).nodes(n)}return{controlsDescendantBindings:!0}},update:function(e,t,n,r,i){var o=t();t=m.a.c(o),n=!0,r=null,"string"==typeof t?t={}:(o=t.name,"if"in t&&(n=m.a.c(t.if)),n&&"ifnot"in t&&(n=!m.a.c(t.ifnot))),"foreach"in t?r=m.pd(o||e,n&&t.foreach||[],t,e,i):n?(i="data"in t?i.ac(t.data,t.as):i,r=m.Cb(o||e,i,t,e)):m.f.za(e),i=r,(t=m.a.e.get(e,s))&&"function"==typeof t.k&&t.k(),m.a.e.set(e,s,i&&i.ca()?i:a)}},m.h.va.template=function(e){return e=m.h.Ab(e),1==e.length&&e[0].unknown||m.h.fd(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},m.f.aa.template=!0}(),m.b("setTemplateEngine",m.Fb),m.b("renderTemplate",m.Cb),m.a.hc=function(e,t,n){if(e.length&&t.length){var r,i,o,a,s;for(r=i=0;(!n||r<n)&&(a=e[i]);++i){for(o=0;s=t[o];++o)if(a.value===s.value){a.moved=s.index,s.moved=a.index,t.splice(o,1),r=o=0;break}r+=o}}},m.a.lb=function(){function e(e,t,n,r,i){var o,a,s,u,l,c=Math.min,h=Math.max,d=[],f=e.length,p=t.length,g=p-f||1,_=f+p+1;for(o=0;o<=f;o++)for(u=s,d.push(s=[]),l=c(p,o+g),a=h(0,o-1);a<=l;a++)s[a]=a?o?e[o-1]===t[a-1]?u[a-1]:c(u[a]||_,s[a-1]||_)+1:a+1:o+1;for(c=[],h=[],g=[],o=f,a=p;o||a;)p=d[o][a]-1,a&&p===d[o][a-1]?h.push(c[c.length]={status:n,value:t[--a],index:a}):o&&p===d[o-1][a]?g.push(c[c.length]={status:r,value:e[--o],index:o}):(--a,--o,i.sparse||c.push({status:"retained",value:t[a]}));return m.a.hc(g,h,!i.dontLimitMoves&&10*f),c.reverse()}return function(t,n,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},t=t||[],n=n||[],t.length<n.length?e(t,n,"added","deleted",r):e(n,t,"deleted","added",r)}}(),m.b("utils.compareArrays",m.a.lb),function(){function e(e,t,n,r,i){var o=[],s=m.B(function(){var a=t(n,i,m.a.Ba(o,e))||[];0<o.length&&(m.a.uc(o,a),r&&m.l.w(r,null,[n,a,i])),o.length=0,m.a.ta(o,a)},null,{i:e,ya:function(){return!m.a.Tb(o)}});return{ea:o,B:s.ca()?s:a}}var t=m.a.e.J(),n=m.a.e.J();m.a.Db=function(r,i,o,s,u){function l(e,t){b=d[t],v!==t&&(E[e]=b),b.tb(v++),m.a.Ba(b.ea,r),g.push(b),y.push(b)}function c(e,t){if(e)for(var n=0,r=t.length;n<r;n++)t[n]&&m.a.r(t[n].ea,function(r){e(r,n,t[n].ka)})}i=i||[],s=s||{};var h=m.a.e.get(r,t)===a,d=m.a.e.get(r,t)||[],f=m.a.ib(d,function(e){return e.ka}),p=m.a.lb(f,i,s.dontLimitMoves),g=[],_=0,v=0,A=[],y=[];i=[];for(var b,w,x,E=[],f=[],C=0;w=p[C];C++)switch(x=w.moved,w.status){case"deleted":x===a&&(b=d[_],b.B&&(b.B.k(),b.B=a),m.a.Ba(b.ea,r).length&&(s.beforeRemove&&(g.push(b),y.push(b),b.ka===n?b=null:i[C]=b),b&&A.push.apply(A,b.ea))),_++;break;case"retained":l(C,_++);break;case"added":x!==a?l(C,x):(b={ka:w.value,tb:m.O(v++)},g.push(b),y.push(b),h||(f[C]=b))}m.a.e.set(r,t,g),c(s.beforeMove,E),m.a.r(A,s.beforeRemove?m.ba:m.removeNode);for(var S,C=0,h=m.f.firstChild(r);b=y[C];C++){for(b.ea||m.a.extend(b,e(r,o,b.ka,u,b.tb)),_=0;p=b.ea[_];h=p.nextSibling,S=p,_++)p!==h&&m.f.kc(r,p,S);!b.ad&&u&&(u(b.ka,b.ea,b.tb),b.ad=!0)}for(c(s.beforeRemove,i),C=0;C<i.length;++C)i[C]&&(i[C].ka=n);c(s.afterMove,E),c(s.afterAdd,f)}}(),m.b("utils.setDomNodeChildrenFromArrayMapping",m.a.Db),m.X=function(){this.allowTemplateRewriting=!1},m.X.prototype=new m.P,m.X.prototype.renderTemplateSource=function(e,t,n,r){return(t=(9>m.a.C?0:e.nodes)?e.nodes():null)?m.a.W(t.cloneNode(!0).childNodes):(e=e.text(),m.a.na(e,r))},m.X.vb=new m.X,m.Fb(m.X.vb),m.b("nativeTemplateEngine",m.X),function(){m.xb=function(){var e=this.ed=function(){if(!c||!c.tmpl)return 0;try{if(0<=c.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,r,i){if(i=i||u,r=r||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=t.data("precompiled");return o||(o=t.text()||"",o=c.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),t.data("precompiled",o)),t=[n.$data],n=c.extend({koBindingContext:n},r.templateOptions),n=c.tmpl(o,t,n),n.appendTo(i.createElement("div")),c.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){u.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(c.tmpl.tag.ko_code={open:"__.push($1 || '');"},c.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},m.xb.prototype=new m.P;var e=new m.xb;0<e.ed&&m.Fb(e),m.b("jqueryTmplTemplateEngine",m.xb)}()})}()}()},function(e,t,n){var r;void 0!==(r=function(){"use strict";function e(e,n){if(!e)throw new Error("When calling ko.track, you must pass an object as the first parameter.");var i=this,o=t(e,!0);return n=n||Object.getOwnPropertyNames(e),n.forEach(function(t){if(t!==h&&t!==d&&!(t in o)){var n=e[t],a=n instanceof Array,s=i.isObservable(n)?n:a?i.observableArray(n):i.observable(n);Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:s,set:i.isWriteableObservable(s)?s:void 0}),o[t]=s,a&&r(i,s)}}),e}function t(e,t){var n=e[h];return!n&&t&&(n={},Object.defineProperty(e,h,{value:n})),n}function n(t,n,r){var i=this,o={owner:t,deferEvaluation:!0};if("function"==typeof r)o.read=r;else{if("value"in r)throw new Error('For ko.defineProperty, you must not specify a "value" for the property. You must provide a "get" function.');if("function"!=typeof r.get)throw new Error('For ko.defineProperty, the third parameter must be either an evaluator function, or an options object containing a function called "get".');o.read=r.get,o.write=r.set}return t[n]=i.computed(o),e.call(i,t,[n]),t}function r(e,t){var n=null;e.computed(function(){n&&(n.dispose(),n=null);var r=t();r instanceof Array&&(n=i(e,t,r))})}function i(e,t,n){return o(e,n).subscribe(t)}function o(e,t){var n=t[d];if(!n){n=new e.subscribable,Object.defineProperty(t,d,{value:n});var r={};a(t,n,r),s(e,t,n,r)}return n}function a(e,t,n){["pop","push","reverse","shift","sort","splice","unshift"].forEach(function(r){var i=e[r];e[r]=function(){var e=i.apply(this,arguments);return!0!==n.pause&&t.notifySubscribers(this),e}})}function s(e,t,n,r){["remove","removeAll","destroy","destroyAll","replace"].forEach(function(i){Object.defineProperty(t,i,{enumerable:!1,value:function(){var o;r.pause=!0;try{o=e.observableArray.fn[i].apply(e.observableArray(t),arguments)}finally{r.pause=!1}return n.notifySubscribers(t),o}})})}function u(e,n){if(!e)return null;var r=t(e,!1);return r&&r[n]||null}function l(e,t){var n=u(e,t);n&&n.valueHasMutated()}function c(t){t.track=e,t.getObservable=u,t.valueHasMutated=l,t.defineProperty=n}var h="__knockoutObservables",d="__knockoutSubscribable";return{attachToKo:c}}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";var e="http://www.w3.org/2000/svg";return{register:function(t){t.bindingHandlers.cesiumSvgPath={init:function(n,r){var i=document.createElementNS(e,"svg:svg");i.setAttribute("class","cesium-svgPath-svg");var o=document.createElementNS(e,"path");return i.appendChild(o),t.virtualElements.setDomNodeChildren(n,[i]),t.computed({read:function(){var e=t.unwrap(r());o.setAttribute("d",t.unwrap(e.path));var n=t.unwrap(e.width),a=t.unwrap(e.height);i.setAttribute("width",n),i.setAttribute("height",a),i.setAttribute("viewBox","0 0 "+n+" "+a);var s=t.unwrap(e["fill-rule"]);s&&i.setAttribute("fill-rule",s),e.css&&i.setAttribute("class","cesium-svgPath-svg "+t.unwrap(e.css))},disposeWhenNodeIsRemoved:n}),{controlsDescendantBindings:!0}}},t.virtualElements.allowedBindings.cesiumSvgPath=!0}}}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){var e=function(e){void 0==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e)};return e.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){var e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},e.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti==this.N+1&&this.init_genrand(5489),n=0;n<this.N-this.M;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^e>>>1^t[1&e];for(;n<this.N-1;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},e.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},e}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){"use strict";var r=n(484);t.a=function(e,t,n){var i,o,a,s,u=e.length,l=t.length,c=new Array(u*l);for(null==n&&(n=r.b),i=a=0;i<u;++i)for(s=e[i],o=0;o<l;++o,++a)c[a]=n(s,t[o]);return c}},function(e,t,n){"use strict";t.a=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}},function(e,t,n){"use strict";var r=n(488),i=n(482),o=n(859),a=n(487),s=n(860),u=n(489),l=n(490),c=n(491);t.a=function(){function e(e){var r,o,a=e.length,s=new Array(a);for(r=0;r<a;++r)s[r]=t(e[r],r,e);var c=n(s),d=c[0],f=c[1],p=h(s,d,f);Array.isArray(p)||(p=Object(l.c)(d,f,p),p=Object(u.a)(Math.ceil(d/p)*p,f,p));for(var m=p.length;p[0]<=d;)p.shift(),--m;for(;p[m-1]>f;)p.pop(),--m;var g,_=new Array(m+1);for(r=0;r<=m;++r)g=_[r]=[],g.x0=r>0?p[r-1]:d,g.x1=r<m?p[r]:f;for(r=0;r<a;++r)o=s[r],d<=o&&o<=f&&_[Object(i.c)(p,o,0,m)].push(e[r]);return _}var t=s.a,n=a.a,h=c.a;return e.value=function(n){return arguments.length?(t="function"==typeof n?n:Object(o.a)(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:Object(o.a)([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(h="function"==typeof t?t:Array.isArray(t)?Object(o.a)(r.b.call(t)):Object(o.a)(t),e):h},e}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";var r=n(488),i=n(166),o=n(199),a=n(315);t.a=function(e,t,n){return e=r.a.call(e,o.a).sort(i.a),Math.ceil((n-t)/(2*(Object(a.a)(e,.75)-Object(a.a)(e,.25))*Math.pow(e.length,-1/3)))}},function(e,t,n){"use strict";var r=n(485);t.a=function(e,t,n){return Math.ceil((n-t)/(3.5*Object(r.a)(e)*Math.pow(e.length,-1/3)))}},function(e,t,n){"use strict";t.a=function(e,t){var n,r,i=e.length,o=-1;if(null==t){for(;++o<i;)if(null!=(n=e[o])&&n>=n)for(r=n;++o<i;)null!=(n=e[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=n;++o<i;)null!=(n=t(e[o],o,e))&&n>r&&(r=n);return r}},function(e,t,n){"use strict";var r=n(199);t.a=function(e,t){var n,i=e.length,o=i,a=-1,s=0;if(null==t)for(;++a<i;)isNaN(n=Object(r.a)(e[a]))?--o:s+=n;else for(;++a<i;)isNaN(n=Object(r.a)(t(e[a],a,e)))?--o:s+=n;if(o)return s/o}},function(e,t,n){"use strict";var r=n(166),i=n(199),o=n(315);t.a=function(e,t){var n,a=e.length,s=-1,u=[];if(null==t)for(;++s<a;)isNaN(n=Object(i.a)(e[s]))||u.push(n);else for(;++s<a;)isNaN(n=Object(i.a)(t(e[s],s,e)))||u.push(n);return Object(o.a)(u.sort(r.a),.5)}},function(e,t,n){"use strict";t.a=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--a]=r[t];return n}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r}},function(e,t,n){"use strict";var r=n(166);t.a=function(e,t){if(n=e.length){var n,i,o=0,a=0,s=e[a];for(null==t&&(t=r.a);++o<n;)(t(i=e[o],s)<0||0!==t(s,s))&&(s=i,a=o);return 0===t(s,s)?a:void 0}}},function(e,t,n){"use strict";t.a=function(e,t,n){for(var r,i,o=(null==n?e.length:n)-(t=null==t?0:+t);o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e}},function(e,t,n){"use strict";t.a=function(e,t){var n,r=e.length,i=-1,o=0;if(null==t)for(;++i<r;)(n=+e[i])&&(o+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(o+=n);return o}},function(e,t,n){"use strict";var r=n(493);t.a=function(){return Object(r.a)(arguments)}},function(e,t,n){e.exports=function(){return new Worker(n.p+"3538c138b902744f4be8.worker.js")}},function(e,t,n){e.exports=function(){return new Worker(n.p+"cesiumWorkers.js")}},function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=874},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./draco_wasm_wrapper.js":876};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=875},function(e,t,n){(function(t,r){var i=i||{};i.scope={},i.ASSUME_ES5=!1,i.ASSUME_NO_NATIVE_MAP=!1,i.ASSUME_NO_NATIVE_SET=!1,i.defineProperty=i.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},i.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==t&&null!=t?t:e},i.global=i.getGlobal(this),i.polyfill=function(e,t,n,r){if(t){for(n=i.global,e=e.split("."),r=0;r<e.length-1;r++){var o=e[r];o in n||(n[o]={}),n=n[o]}e=e[e.length-1],r=n[e],t=t(r),t!=r&&null!=t&&i.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},i.polyfill("Math.imul",function(e){return e||function(e,t){e=Number(e),t=Number(t);var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0}},"es6","es3"),i.polyfill("Math.clz32",function(e){return e||function(e){if(0===(e=Number(e)>>>0))return 32;var t=0;return 0==(4294901760&e)&&(e<<=16,t+=16),0==(4278190080&e)&&(e<<=8,t+=8),0==(4026531840&e)&&(e<<=4,t+=4),0==(3221225472&e)&&(e<<=2,t+=2),0==(2147483648&e)&&t++,t}},"es6","es3"),i.polyfill("Math.trunc",function(e){return e||function(e){if(e=Number(e),isNaN(e)||1/0===e||-1/0===e||0===e)return e;var t=Math.floor(Math.abs(e));return 0>e?-t:t}},"es6","es3"),i.SYMBOL_PREFIX="jscomp_symbol_",i.initSymbol=function(){i.initSymbol=function(){},i.global.Symbol||(i.global.Symbol=i.Symbol)},i.symbolCounter_=0,i.Symbol=function(e){return i.SYMBOL_PREFIX+(e||"")+i.symbolCounter_++},i.initSymbolIterator=function(){i.initSymbol();var e=i.global.Symbol.iterator;e||(e=i.global.Symbol.iterator=i.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&i.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return i.arrayIterator(this)}}),i.initSymbolIterator=function(){}},i.arrayIterator=function(e){var t=0;return i.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},i.iteratorPrototype=function(e){return i.initSymbolIterator(),e={next:e},e[i.global.Symbol.iterator]=function(){return this},e},i.makeIterator=function(e){i.initSymbolIterator();var t=e[Symbol.iterator];return t?t.call(e):i.arrayIterator(e)},i.FORCE_POLYFILL_PROMISE=!1,i.polyfill("Promise",function(e){function t(){this.batch_=null}function n(e){return e instanceof o?e:new o(function(t,n){t(e)})}if(e&&!i.FORCE_POLYFILL_PROMISE)return e;t.prototype.asyncExecute=function(e){return null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_()),this.batch_.push(e),this},t.prototype.asyncExecuteBatch_=function(){var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})};var r=i.global.setTimeout;t.prototype.asyncExecuteFunction=function(e){r(e,0)},t.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var n=e[t];delete e[t];try{n()}catch(e){this.asyncThrow_(e)}}}this.batch_=null},t.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e})};var o=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}};o.prototype.createResolveAndReject_=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},o.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof o)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},o.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(e){return void this.reject_(e)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},o.prototype.reject_=function(e){this.settle_(2,e)},o.prototype.fulfill_=function(e){this.settle_(1,e)},o.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t|"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,this.executeOnSettledCallbacks_()},o.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=this.onSettledCallbacks_,t=0;t<e.length;++t)e[t].call(),e[t]=null;this.onSettledCallbacks_=null}};var a=new t;return o.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},o.prototype.settleSameAsThenable_=function(e,t){var n=this.createResolveAndReject_();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},o.prototype.then=function(e,t){function n(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){i(e)}}:t}var r,i,a=new o(function(e,t){r=e,i=t});return this.callWhenSettled_(n(e,r),n(t,i)),a},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.callWhenSettled_=function(e,t){function n(){switch(r.state_){case 1:e(r.result_);break;case 2:t(r.result_);break;default:throw Error("Unexpected state: "+r.state_)}}var r=this;null==this.onSettledCallbacks_?a.asyncExecute(n):this.onSettledCallbacks_.push(function(){a.asyncExecute(n)})},o.resolve=n,o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,r){for(var o=i.makeIterator(e),a=o.next();!a.done;a=o.next())n(a.value).callWhenSettled_(t,r)})},o.all=function(e){var t=i.makeIterator(e),r=t.next();return r.done?n([]):new o(function(e,i){var o=[],a=0;do{o.push(void 0),a++,n(r.value).callWhenSettled_(function(t){return function(n){o[t]=n,0==--a&&e(o)}}(o.length-1),i),r=t.next()}while(!r.done)})},o},"es6","es3");var o=function(e){function t(e,t){e||A("Assertion failed: "+t)}function i(e,t){if(0===t||!e)return"";for(var n,r=0,i=0;(n=oe[e+i>>0],r|=n,0!=n||t)&&(i++,!t||i!=t););if(t||(t=i),n="",128>r){for(;0<t;)r=String.fromCharCode.apply(String,oe.subarray(e,e+Math.min(t,1024))),n=n?n+r:r,e+=1024,t-=1024;return n}return Q.UTF8ToString(e)}function o(e){return e.replace(/__Z[\w\d_]+/g,function(e){return e===e?e:e+" ["+e+"]"})}function a(){e:{var e=Error();if(!e.stack){try{throw Error(0)}catch(t){e=t}if(!e.stack){e="(no stack trace available)";break e}}e=e.stack.toString()}return Q.extraStackTrace&&(e+="\n"+Q.extraStackTrace()),o(e)}function s(e,t){return 0<e%t&&(e+=t-e%t),e}function u(){Q.HEAP8=ie=new Int8Array(Ce),Q.HEAP16=ae=new Int16Array(Ce),Q.HEAP32=ue=new Int32Array(Ce),Q.HEAPU8=oe=new Uint8Array(Ce),Q.HEAPU16=se=new Uint16Array(Ce),Q.HEAPU32=le=new Uint32Array(Ce),Q.HEAPF32=ce=new Float32Array(Ce),Q.HEAPF64=he=new Float64Array(Ce)}function l(){var e=Q.usingWasm?ve:Ae,t=2147483648-e;if(ue[_e>>2]>t)return!1;var n=Ee;for(Ee=Math.max(Ee,ye);Ee<ue[_e>>2];)Ee=536870912>=Ee?s(2*Ee,e):Math.min(s((3*Ee+2147483648)/4,e),t);return(e=Q.reallocBuffer(Ee))&&e.byteLength==Ee?(Q.buffer=Ce=e,u(),!0):(Ee=n,!1)}function c(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var n=t.func;"number"==typeof n?void 0===t.arg?Q.dynCall_v(n):Q.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}}}function h(e){De++,Q.monitorRunDependencies&&Q.monitorRunDependencies(De)}function d(e){De--,Q.monitorRunDependencies&&Q.monitorRunDependencies(De),0==De&&(null!==Be&&(clearInterval(Be),Be=null),Le&&(e=Le,Le=null,e()))}function f(){return!!f.uncaught_exception}function p(){var e=ke.last;if(!e)return 0|(te.setTempRet0(0),0);var t=ke.infos[e],n=t.type;if(!n)return 0|(te.setTempRet0(0),e);var r=Array.prototype.slice.call(arguments);Q.___cxa_is_pointer_type(n),p.buffer||(p.buffer=lr(4)),ue[p.buffer>>2]=e,e=p.buffer;for(var i=0;i<r.length;i++)if(r[i]&&Q.___cxa_can_catch(r[i],n,e))return e=ue[e>>2],t.adjusted=e,0|(te.setTempRet0(r[i]),e);return e=ue[e>>2],0|(te.setTempRet0(n),e)}function m(e,n){Fe.varargs=n;try{var r=Fe.get(),i=Fe.get(),o=Fe.get();for(e=0,m.buffer||(m.buffers=[null,[],[]],m.printChar=function(e,n){var r=m.buffers[e];if(t(r),0===n||10===n){e=1===e?Q.print:Q.printErr;e:{for(var i=n=0;r[i];)++i;if(16<i-n&&r.subarray&&re)n=re.decode(r.subarray(n,i));else for(i="";;){var o=r[n++];if(!o){n=i;break e}if(128&o){var a=63&r[n++];if(192==(224&o))i+=String.fromCharCode((31&o)<<6|a);else{var s=63&r[n++];if(224==(240&o))o=(15&o)<<12|a<<6|s;else{var u=63&r[n++];if(240==(248&o))o=(7&o)<<18|a<<12|s<<6|u;else{var l=63&r[n++];if(248==(252&o))o=(3&o)<<24|a<<18|s<<12|u<<6|l;else{var c=63&r[n++];o=(1&o)<<30|a<<24|s<<18|u<<12|l<<6|c}}}65536>o?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else i+=String.fromCharCode(o)}}e(n),r.length=0}else r.push(n)}),n=0;n<o;n++){for(var a=ue[i+8*n>>2],s=ue[i+(8*n+4)>>2],u=0;u<s;u++)m.printChar(r,oe[a+u]);e+=s}return e}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||A(e),-e.errno}}function g(e,t){g.seen||(g.seen={}),e in g.seen||(Q.dynCall_v(t),g.seen[e]=1)}function _(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function v(e){function t(){if(!Q.calledRun&&(Q.calledRun=!0,!ne)){if(Pe||(Pe=!0,c(Te)),c(Ie),Q.onRuntimeInitialized&&Q.onRuntimeInitialized(),Q.postRun)for("function"==typeof Q.postRun&&(Q.postRun=[Q.postRun]);Q.postRun.length;)Oe.unshift(Q.postRun.shift());c(Oe)}}if(null===pr&&(pr=Date.now()),!(0<De)){if(Q.preRun)for("function"==typeof Q.preRun&&(Q.preRun=[Q.preRun]);Q.preRun.length;)Se.unshift(Q.preRun.shift());c(Se),0<De||Q.calledRun||(Q.setStatus?(Q.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Q.setStatus("")},1),t()},1)):t())}}function A(e){Q.onAbort&&Q.onAbort(e),void 0!==e?(Q.print(e),Q.printErr(e),e=JSON.stringify(e)):e="",ne=!0;var t="abort("+e+") at "+a()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw mr&&mr.forEach(function(n){t=n(t,e)}),t}function y(){}function b(e){return(e||y).__cache__}function w(e,t){var n=b(t),r=n[e];return r||(r=Object.create((t||y).prototype),r.ptr=e,n[e]=r)}function x(e){if("string"==typeof e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:2097151>=r?t+4:67108863>=r?t+5:t+6}if(t=Array(t+1),n=0,0<(r=t.length)){r=n+r-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),127>=o){if(n>=r)break;t[n++]=o}else{if(2047>=o){if(n+1>=r)break;t[n++]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++]=224|o>>12}else{if(2097151>=o){if(n+3>=r)break;t[n++]=240|o>>18}else{if(67108863>=o){if(n+4>=r)break;t[n++]=248|o>>24}else{if(n+5>=r)break;t[n++]=252|o>>30,t[n++]=128|o>>24&63}t[n++]=128|o>>18&63}t[n++]=128|o>>12&63}t[n++]=128|o>>6&63}t[n++]=128|63&o}}t[n]=0}e=gr.alloc(t,ie),gr.copy(t,ie,e)}return e}function E(){throw"cannot construct a Status, no constructor in IDL"}function C(){this.ptr=Qt(),b(C)[this.ptr]=this}function S(){this.ptr=Ln(),b(S)[this.ptr]=this}function T(){this.ptr=Jt(),b(T)[this.ptr]=this}function I(){this.ptr=Yt(),b(I)[this.ptr]=this}function M(){this.ptr=He(),b(M)[this.ptr]=this}function O(){this.ptr=En(),b(O)[this.ptr]=this}function P(){this.ptr=Je(),b(P)[this.ptr]=this}function D(){this.ptr=We(),b(D)[this.ptr]=this}function B(){this.ptr=zt(),b(B)[this.ptr]=this}function L(){this.ptr=vn(),b(L)[this.ptr]=this}function N(){this.ptr=Dt(),b(N)[this.ptr]=this}function R(){this.ptr=It(),b(R)[this.ptr]=this}function k(){this.ptr=nn(),b(k)[this.ptr]=this}function F(){this.ptr=tt(),b(F)[this.ptr]=this}function U(){this.ptr=at(),b(U)[this.ptr]=this}function z(){this.ptr=on(),b(z)[this.ptr]=this}function j(){throw"cannot construct a VoidPtr, no constructor in IDL"}function H(){this.ptr=Rt(),b(H)[this.ptr]=this}function V(){this.ptr=bn(),b(V)[this.ptr]=this}var Q=e=e||{},G=!1,W=!1;Q.onRuntimeInitialized=function(){G=!0,W&&"function"==typeof Q.onModuleLoaded&&Q.onModuleLoaded(Q)},Q.onModuleParsed=function(){W=!0,G&&"function"==typeof Q.onModuleLoaded&&Q.onModuleLoaded(Q)},Q.isVersionSupported=function(e){return"string"==typeof e&&(e=e.split("."),!(2>e.length||3<e.length)&&(1==e[0]&&0<=e[1]&&3>=e[1]||!(0!=e[0]||10<e[1])))},Q||(Q=(void 0!==e?e:null)||{});var q,Y={};for(q in Q)Q.hasOwnProperty(q)&&(Y[q]=Q[q]);var K=!1,X=!1,Z=!1,J=!1;if(Q.ENVIRONMENT)if("WEB"===Q.ENVIRONMENT)K=!0;else if("WORKER"===Q.ENVIRONMENT)X=!0;else if("NODE"===Q.ENVIRONMENT)Z=!0;else{if("SHELL"!==Q.ENVIRONMENT)throw Error("The provided Module['ENVIRONMENT'] value is not valid. It must be one of: WEB|WORKER|NODE|SHELL.");J=!0}else K="object"==typeof window,X="function"==typeof importScripts,Z="object"==typeof r&&!0&&!K&&!X,J=!K&&!Z&&!X;if(Z){Q.print||(Q.print=console.log),Q.printErr||(Q.printErr=console.warn);var $,ee;Q.read=function(e,t){return $||($=n(877)),ee||(ee=n(878)),e=ee.normalize(e),e=$.readFileSync(e),t?e:e.toString()},Q.readBinary=function(e){return e=Q.read(e,!0),e.buffer||(e=new Uint8Array(e)),t(e.buffer),e},Q.thisProgram||(Q.thisProgram=1<r.argv.length?r.argv[1].replace(/\\/g,"/"):"unknown-program"),Q.arguments=r.argv.slice(2),r.on("uncaughtException",function(e){if(!(e instanceof _))throw e}),Q.inspect=function(){return"[Emscripten Module object]"}}else if(J)Q.print||(Q.print=print),"undefined"!=typeof printErr&&(Q.printErr=printErr),Q.read="undefined"!=typeof read?function(e){return read(e)}:function(){throw"no read() available"},Q.readBinary=function(e){return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(e=read(e,"binary"),t("object"==typeof e),e)},"undefined"!=typeof scriptArgs?Q.arguments=scriptArgs:void 0!==arguments&&(Q.arguments=arguments),"function"==typeof quit&&(Q.quit=function(e,t){quit(e)});else{if(!K&&!X)throw Error("Unknown runtime environment. Where are we?");Q.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},X&&(Q.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Q.readAsync=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},void 0!==arguments&&(Q.arguments=arguments),"undefined"!=typeof console?(Q.print||(Q.print=function(e){console.log(e)}),Q.printErr||(Q.printErr=function(e){console.warn(e)})):Q.print||(Q.print=function(e){}),void 0===Q.setWindowTitle&&(Q.setWindowTitle=function(e){document.title=e})}Q.print||(Q.print=function(){}),Q.printErr||(Q.printErr=Q.print),Q.arguments||(Q.arguments=[]),Q.thisProgram||(Q.thisProgram="./this.program"),Q.quit||(Q.quit=function(e,t){throw t}),Q.print=Q.print,Q.printErr=Q.printErr,Q.preRun=[],Q.postRun=[];for(q in Y)Y.hasOwnProperty(q)&&(Q[q]=Y[q]);Y=void 0;var te={setTempRet0:function(e){return tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return pe},stackRestore:function(e){pe=e},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return"*"===e[e.length-1]?te.QUANTUM_SIZE:"i"===e[0]?(e=parseInt(e.substr(1)),t(0==e%8),e/8):0}},getNativeFieldSize:function(e){return Math.max(te.getNativeTypeSize(e),te.QUANTUM_SIZE)},STACK_ALIGN:16,prepVararg:function(e,n){return"double"===n||"i64"===n?7&e&&(t(4==(7&e)),e+=4):t(0==(3&e)),e},getAlignSize:function(e,t,n){return n||"i64"!=e&&"double"!=e?e?Math.min(t||(e?te.getNativeFieldSize(e):0),te.QUANTUM_SIZE):Math.min(t,8):8},dynCall:function(e,t,n){return n&&n.length?Q["dynCall_"+e].apply(null,[t].concat(n)):Q["dynCall_"+e].call(null,t)},functionPointers:[],addFunction:function(e){for(var t=0;t<te.functionPointers.length;t++)if(!te.functionPointers[t])return te.functionPointers[t]=e,2*(1+t);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){te.functionPointers[(e-2)/2]=null},warnOnce:function(e){te.warnOnce.shown||(te.warnOnce.shown={}),te.warnOnce.shown[e]||(te.warnOnce.shown[e]=1,Q.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,n){if(e){t(n),te.funcWrappers[n]||(te.funcWrappers[n]={});var r=te.funcWrappers[n];return r[e]||(r[e]=1===n.length?function(){return te.dynCall(n,e)}:2===n.length?function(t){return te.dynCall(n,e,[t])}:function(){return te.dynCall(n,e,Array.prototype.slice.call(arguments))}),r[e]}},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var t=pe;return pe=pe+e|0,pe=pe+15&-16,t},staticAlloc:function(e){var t=de;return de=de+e|0,de=de+15&-16,t},dynamicAlloc:function(e){var t=ue[_e>>2];return e=-16&(t+e+15|0),ue[_e>>2]=e,e>=Ee&&!l()?(ue[_e>>2]=t,0):t},alignMemory:function(e,t){return Math.ceil(e/(t||16))*(t||16)},makeBigInt:function(e,t,n){return n?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},GLOBAL_BASE:1024,QUANTUM_SIZE:4,__dummy__:0},ne=0,re="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var ie,oe,ae,se,ue,le,ce,he,de,fe,pe,me,ge,_e,ve=65536,Ae=16777216,ye=16777216,be=de=fe=pe=me=ge=_e=0;Q.reallocBuffer||(Q.reallocBuffer=function(e){try{if(ArrayBuffer.transfer)var t=ArrayBuffer.transfer(Ce,e);else{var n=ie;t=new ArrayBuffer(e),new Int8Array(t).set(n)}}catch(e){return!1}return!!ur(t)&&t});try{var we=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get);we(new ArrayBuffer(4))}catch(e){we=function(e){return e.byteLength}}var xe=Q.TOTAL_STACK||5242880,Ee=Q.TOTAL_MEMORY||16777216;if(Ee<xe&&Q.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Ee+"! (TOTAL_STACK="+xe+")"),Q.buffer)var Ce=Q.buffer;else"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(Q.wasmMemory=new WebAssembly.Memory({initial:Ee/ve}),Ce=Q.wasmMemory.buffer):Ce=new ArrayBuffer(Ee);if(u(),ue[0]=1668509029,ae[1]=25459,115!==oe[2]||99!==oe[3])throw"Runtime error: expected the system to be little-endian!";Q.HEAP=void 0,Q.buffer=Ce,Q.HEAP8=ie,Q.HEAP16=ae,Q.HEAP32=ue,Q.HEAPU8=oe,Q.HEAPU16=se,Q.HEAPU32=le,Q.HEAPF32=ce,Q.HEAPF64=he;var Se=[],Te=[],Ie=[],Me=[],Oe=[],Pe=!1;t(Math.imul&&Math.fround&&Math.clz32&&Math.trunc,"this is a legacy browser, build with LEGACY_VM_SUPPORT");var De=0,Be=null,Le=null;Q.preloadedImages={},Q.preloadedAudios={};var Ne=null;!function(){function e(){try{if(Q.wasmBinary)return new Uint8Array(Q.wasmBinary);if(Q.readBinary)return Q.readBinary(r);throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)"}catch(e){A(e)}}function t(){return Q.wasmBinary||!K&&!X||"function"!=typeof fetch?new Promise(function(t,n){t(e())}):fetch(r,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+r+"'";return e.arrayBuffer()}).catch(function(){return e()})}function n(e,n,i){function s(e,t){if(a=e.exports,a.memory){e=a.memory,t=Q.buffer,e.byteLength<t.byteLength&&Q.printErr("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here"),t=new Int8Array(t);var n=new Int8Array(e);Ne||t.set(n.subarray(Q.STATIC_BASE,Q.STATIC_BASE+Q.STATIC_BUMP),Q.STATIC_BASE),n.set(t),Q.buffer=Ce=e,u()}Q.asm=a,Q.usingWasm=!0,d("wasm-instantiate")}function l(e){s(e.instance,e.module)}function c(e){t().then(function(e){return WebAssembly.instantiate(e,o)}).then(e).catch(function(e){Q.printErr("failed to asynchronously prepare wasm: "+e),A(e)})}if("object"!=typeof WebAssembly)return Q.printErr("no native wasm support detected"),!1;if(!(Q.wasmMemory instanceof WebAssembly.Memory))return Q.printErr("no native wasm Memory in use"),!1;if(n.memory=Q.wasmMemory,o.global={NaN:NaN,Infinity:1/0},o["global.Math"]=e.Math,o.env=n,h("wasm-instantiate"),Q.instantiateWasm)try{return Q.instantiateWasm(o,s)}catch(e){return Q.printErr("Module.instantiateWasm callback failed with error: "+e),!1}return Q.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||0===r.indexOf("data:")||"function"!=typeof fetch?c(l):WebAssembly.instantiateStreaming(fetch(r,{credentials:"same-origin"}),o).then(l).catch(function(e){Q.printErr("wasm streaming compile failed: "+e),Q.printErr("falling back to ArrayBuffer instantiation"),c(l)}),{}}var r="draco_decoder.wasm",i="draco_decoder.temp.asm.js";"function"==typeof Q.locateFile&&(Q.locateFile("draco_decoder.wast"),r=Q.locateFile(r),i=Q.locateFile(i));var o={global:null,env:null,asm2wasm:{"f64-rem":function(e,t){return e%t},debugger:function(){}},parent:Q},a=null;Q.asmPreload=Q.asm;var l=Q.reallocBuffer;Q.reallocBuffer=function(e){if("asmjs"===c)var t=l(e);else e:{e=s(e,Q.usingWasm?ve:Ae);var n=Q.buffer.byteLength;if(Q.usingWasm)try{t=-1!==Q.wasmMemory.grow((e-n)/65536)?Q.buffer=Q.wasmMemory.buffer:null;break e}catch(e){t=null;break e}t=void 0}return t};var c="";Q.asm=function(e,t,r){if(!t.table){var i=Q.wasmTableSize;void 0===i&&(i=1024);var o=Q.wasmMaxTableSize;t.table="object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?void 0!==o?new WebAssembly.Table({initial:i,maximum:o,element:"anyfunc"}):new WebAssembly.Table({initial:i,element:"anyfunc"}):Array(i),Q.wasmTable=t.table}return t.memoryBase||(t.memoryBase=Q.STATIC_BASE),t.tableBase||(t.tableBase=0),(e=n(e,t,r))||A("no binaryen method succeeded. consider enabling more options, like interpreting, if you want that: https://github.com/kripken/emscripten/wiki/WebAssembly#binaryen-methods"),e}}(),be=te.GLOBAL_BASE,de=be+19104,Te.push(),Ne=null,Q.STATIC_BASE=be,Q.STATIC_BUMP=19104;var Re=de;de+=16;var ke={last:0,caught:[],infos:{},deAdjust:function(e){if(!e||ke.infos[e])return e;for(var t in ke.infos)if(ke.infos[t].adjusted===e)return t;return e},addRef:function(e){e&&ke.infos[e].refcount++},decRef:function(e){if(e){var n=ke.infos[e];t(0<n.refcount),n.refcount--,0!==n.refcount||n.rethrown||(n.destructor&&Q.dynCall_vi(n.destructor,e),delete ke.infos[e],___cxa_free_exception(e))}},clearRef:function(e){e&&(ke.infos[e].refcount=0)}},Fe={varargs:0,get:function(e){return Fe.varargs+=4,ue[Fe.varargs-4>>2]},getStr:function(){return i(Fe.get())},get64:function(){var e=Fe.get(),n=Fe.get();return t(0<=e?0===n:-1===n),e},getZero:function(){t(0===Fe.get())}},Ue={},ze=1;Me.push(function(){var e=Q._fflush;if(e&&e(0),e=m.printChar){var t=m.buffers;t[1].length&&e(1,10),t[2].length&&e(2,10)}}),_e=te.staticAlloc(4),fe=pe=te.alignMemory(de),me=fe+xe,ge=te.alignMemory(me),ue[_e>>2]=ge,Q.wasmTableSize=492,Q.wasmMaxTableSize=492,Q.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:we},Q.asmLibraryArg={abort:A,assert:t,enlargeMemory:l,getTotalMemory:function(){return Ee},abortOnCannotGrowMemory:function(){A("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Ee+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},invoke_ii:function(e,t){try{return Q.dynCall_ii(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Q.setThrew(1,0)}},invoke_iii:function(e,t,n){try{return Q.dynCall_iii(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Q.setThrew(1,0)}},invoke_iiii:function(e,t,n,r){try{return Q.dynCall_iiii(e,t,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Q.setThrew(1,0)}},invoke_iiiiiii:function(e,t,n,r,i,o,a){try{return Q.dynCall_iiiiiii(e,t,n,r,i,o,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Q.setThrew(1,0)}},invoke_v:function(e){try{Q.dynCall_v(e)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Q.setThrew(1,0)}},invoke_vi:function(e,t){try{Q.dynCall_vi(e,t)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Q.setThrew(1,0)}},invoke_vii:function(e,t,n){try{Q.dynCall_vii(e,t,n)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Q.setThrew(1,0)}},invoke_viii:function(e,t,n,r){try{Q.dynCall_viii(e,t,n,r)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Q.setThrew(1,0)}},invoke_viiii:function(e,t,n,r,i){try{Q.dynCall_viiii(e,t,n,r,i)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Q.setThrew(1,0)}},invoke_viiiii:function(e,t,n,r,i,o){try{Q.dynCall_viiiii(e,t,n,r,i,o)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Q.setThrew(1,0)}},invoke_viiiiii:function(e,t,n,r,i,o,a){try{Q.dynCall_viiiiii(e,t,n,r,i,o,a)}catch(e){if("number"!=typeof e&&"longjmp"!==e)throw e;Q.setThrew(1,0)}},__ZSt18uncaught_exceptionv:f,___cxa_allocate_exception:function(e){return lr(e)},___cxa_begin_catch:function(e){var t=ke.infos[e];return t&&!t.caught&&(t.caught=!0,f.uncaught_exception--),t&&(t.rethrown=!1),ke.caught.push(e),ke.addRef(ke.deAdjust(e)),e},___cxa_find_matching_catch:p,___cxa_pure_virtual:function(){throw ne=!0,"Pure virtual function called!"},___cxa_throw:function(e,t,n){throw ke.infos[e]={ptr:e,adjusted:e,type:t,destructor:n,refcount:0,caught:!1,rethrown:!1},ke.last=e,"uncaught_exception"in f?f.uncaught_exception++:f.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},___gxx_personality_v0:function(){},___resumeException:function(e){throw ke.last||(ke.last=e),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."},___setErrNo:function(e){return Q.___errno_location&&(ue[Q.___errno_location()>>2]=e),e},___syscall140:function(e,t){Fe.varargs=t;try{var n=Fe.getStreamFromFD();Fe.get();var r=Fe.get(),i=Fe.get(),o=Fe.get();return FS.llseek(n,r,o),ue[i>>2]=n.position,n.getdents&&0===r&&0===o&&(n.getdents=null),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||A(e),-e.errno}},___syscall146:m,___syscall54:function(e,t){return Fe.varargs=t,0},___syscall6:function(e,t){Fe.varargs=t;try{var n=Fe.getStreamFromFD();return FS.close(n),0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||A(e),-e.errno}},_abort:function(){Q.abort()},_emscripten_memcpy_big:function(e,t,n){return oe.set(oe.subarray(t,t+n),e),e},_pthread_getspecific:function(e){return Ue[e]||0},_pthread_key_create:function(e,t){return 0==e?22:(ue[e>>2]=ze,Ue[ze]=0,ze++,0)},_pthread_once:g,_pthread_setspecific:function(e,t){return e in Ue?(Ue[e]=t,0):22},DYNAMICTOP_PTR:_e,tempDoublePtr:Re,ABORT:ne,STACKTOP:pe,STACK_MAX:me};var je=Q.asm(Q.asmGlobalArg,Q.asmLibraryArg,Ce);Q.asm=je,Q.___cxa_can_catch=function(){return Q.asm.___cxa_can_catch.apply(null,arguments)},Q.___cxa_is_pointer_type=function(){return Q.asm.___cxa_is_pointer_type.apply(null,arguments)};var He=Q._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=function(){return Q.asm._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0.apply(null,arguments)},Ve=Q._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=function(){return Q.asm._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1.apply(null,arguments)},Qe=Q._emscripten_bind_AttributeOctahedronTransform___destroy___0=function(){return Q.asm._emscripten_bind_AttributeOctahedronTransform___destroy___0.apply(null,arguments)},Ge=Q._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=function(){return Q.asm._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0.apply(null,arguments)},We=Q._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=function(){return Q.asm._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0.apply(null,arguments)},qe=Q._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=function(){return Q.asm._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1.apply(null,arguments)},Ye=Q._emscripten_bind_AttributeQuantizationTransform___destroy___0=function(){return Q.asm._emscripten_bind_AttributeQuantizationTransform___destroy___0.apply(null,arguments)},Ke=Q._emscripten_bind_AttributeQuantizationTransform_min_value_1=function(){return Q.asm._emscripten_bind_AttributeQuantizationTransform_min_value_1.apply(null,arguments)},Xe=Q._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=function(){return Q.asm._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0.apply(null,arguments)},Ze=Q._emscripten_bind_AttributeQuantizationTransform_range_0=function(){return Q.asm._emscripten_bind_AttributeQuantizationTransform_range_0.apply(null,arguments)},Je=Q._emscripten_bind_AttributeTransformData_AttributeTransformData_0=function(){return Q.asm._emscripten_bind_AttributeTransformData_AttributeTransformData_0.apply(null,arguments)},$e=Q._emscripten_bind_AttributeTransformData___destroy___0=function(){return Q.asm._emscripten_bind_AttributeTransformData___destroy___0.apply(null,arguments)},et=Q._emscripten_bind_AttributeTransformData_transform_type_0=function(){return Q.asm._emscripten_bind_AttributeTransformData_transform_type_0.apply(null,arguments)},tt=Q._emscripten_bind_DecoderBuffer_DecoderBuffer_0=function(){return Q.asm._emscripten_bind_DecoderBuffer_DecoderBuffer_0.apply(null,arguments)},nt=Q._emscripten_bind_DecoderBuffer_Init_2=function(){return Q.asm._emscripten_bind_DecoderBuffer_Init_2.apply(null,arguments)},rt=Q._emscripten_bind_DecoderBuffer___destroy___0=function(){return Q.asm._emscripten_bind_DecoderBuffer___destroy___0.apply(null,arguments)},it=Q._emscripten_bind_Decoder_DecodeBufferToMesh_2=function(){return Q.asm._emscripten_bind_Decoder_DecodeBufferToMesh_2.apply(null,arguments)},ot=Q._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=function(){return Q.asm._emscripten_bind_Decoder_DecodeBufferToPointCloud_2.apply(null,arguments)},at=Q._emscripten_bind_Decoder_Decoder_0=function(){return Q.asm._emscripten_bind_Decoder_Decoder_0.apply(null,arguments)},st=Q._emscripten_bind_Decoder_GetAttributeByUniqueId_2=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeByUniqueId_2.apply(null,arguments)},ut=Q._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3.apply(null,arguments)},lt=Q._emscripten_bind_Decoder_GetAttributeFloat_3=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeFloat_3.apply(null,arguments)},ct=Q._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3.apply(null,arguments)},ht=Q._emscripten_bind_Decoder_GetAttributeIdByName_2=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeIdByName_2.apply(null,arguments)},dt=Q._emscripten_bind_Decoder_GetAttributeId_2=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeId_2.apply(null,arguments)},ft=Q._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3.apply(null,arguments)},pt=Q._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3.apply(null,arguments)},mt=Q._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3.apply(null,arguments)},gt=Q._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3.apply(null,arguments)},_t=Q._emscripten_bind_Decoder_GetAttributeMetadata_2=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeMetadata_2.apply(null,arguments)},vt=Q._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3.apply(null,arguments)},At=Q._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3.apply(null,arguments)},yt=Q._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=function(){return Q.asm._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3.apply(null,arguments)},bt=Q._emscripten_bind_Decoder_GetAttribute_2=function(){return Q.asm._emscripten_bind_Decoder_GetAttribute_2.apply(null,arguments)},wt=Q._emscripten_bind_Decoder_GetEncodedGeometryType_1=function(){return Q.asm._emscripten_bind_Decoder_GetEncodedGeometryType_1.apply(null,arguments)},xt=Q._emscripten_bind_Decoder_GetFaceFromMesh_3=function(){return Q.asm._emscripten_bind_Decoder_GetFaceFromMesh_3.apply(null,arguments)},Et=Q._emscripten_bind_Decoder_GetMetadata_1=function(){return Q.asm._emscripten_bind_Decoder_GetMetadata_1.apply(null,arguments)},Ct=Q._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=function(){return Q.asm._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2.apply(null,arguments)},St=Q._emscripten_bind_Decoder_SkipAttributeTransform_1=function(){return Q.asm._emscripten_bind_Decoder_SkipAttributeTransform_1.apply(null,arguments)},Tt=Q._emscripten_bind_Decoder___destroy___0=function(){return Q.asm._emscripten_bind_Decoder___destroy___0.apply(null,arguments)},It=Q._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=function(){return Q.asm._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0.apply(null,arguments)},Mt=Q._emscripten_bind_DracoFloat32Array_GetValue_1=function(){return Q.asm._emscripten_bind_DracoFloat32Array_GetValue_1.apply(null,arguments)},Ot=Q._emscripten_bind_DracoFloat32Array___destroy___0=function(){return Q.asm._emscripten_bind_DracoFloat32Array___destroy___0.apply(null,arguments)},Pt=Q._emscripten_bind_DracoFloat32Array_size_0=function(){return Q.asm._emscripten_bind_DracoFloat32Array_size_0.apply(null,arguments)},Dt=Q._emscripten_bind_DracoInt16Array_DracoInt16Array_0=function(){return Q.asm._emscripten_bind_DracoInt16Array_DracoInt16Array_0.apply(null,arguments)},Bt=Q._emscripten_bind_DracoInt16Array_GetValue_1=function(){return Q.asm._emscripten_bind_DracoInt16Array_GetValue_1.apply(null,arguments)},Lt=Q._emscripten_bind_DracoInt16Array___destroy___0=function(){return Q.asm._emscripten_bind_DracoInt16Array___destroy___0.apply(null,arguments)},Nt=Q._emscripten_bind_DracoInt16Array_size_0=function(){return Q.asm._emscripten_bind_DracoInt16Array_size_0.apply(null,arguments)},Rt=Q._emscripten_bind_DracoInt32Array_DracoInt32Array_0=function(){return Q.asm._emscripten_bind_DracoInt32Array_DracoInt32Array_0.apply(null,arguments)},kt=Q._emscripten_bind_DracoInt32Array_GetValue_1=function(){return Q.asm._emscripten_bind_DracoInt32Array_GetValue_1.apply(null,arguments)},Ft=Q._emscripten_bind_DracoInt32Array___destroy___0=function(){return Q.asm._emscripten_bind_DracoInt32Array___destroy___0.apply(null,arguments)},Ut=Q._emscripten_bind_DracoInt32Array_size_0=function(){return Q.asm._emscripten_bind_DracoInt32Array_size_0.apply(null,arguments)},zt=Q._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return Q.asm._emscripten_bind_DracoInt8Array_DracoInt8Array_0.apply(null,arguments)},jt=Q._emscripten_bind_DracoInt8Array_GetValue_1=function(){return Q.asm._emscripten_bind_DracoInt8Array_GetValue_1.apply(null,arguments)},Ht=Q._emscripten_bind_DracoInt8Array___destroy___0=function(){return Q.asm._emscripten_bind_DracoInt8Array___destroy___0.apply(null,arguments)},Vt=Q._emscripten_bind_DracoInt8Array_size_0=function(){return Q.asm._emscripten_bind_DracoInt8Array_size_0.apply(null,arguments)},Qt=Q._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=function(){return Q.asm._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0.apply(null,arguments)},Gt=Q._emscripten_bind_DracoUInt16Array_GetValue_1=function(){return Q.asm._emscripten_bind_DracoUInt16Array_GetValue_1.apply(null,arguments)},Wt=Q._emscripten_bind_DracoUInt16Array___destroy___0=function(){return Q.asm._emscripten_bind_DracoUInt16Array___destroy___0.apply(null,arguments)},qt=Q._emscripten_bind_DracoUInt16Array_size_0=function(){return Q.asm._emscripten_bind_DracoUInt16Array_size_0.apply(null,arguments)},Yt=Q._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=function(){return Q.asm._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0.apply(null,arguments)},Kt=Q._emscripten_bind_DracoUInt32Array_GetValue_1=function(){return Q.asm._emscripten_bind_DracoUInt32Array_GetValue_1.apply(null,arguments)},Xt=Q._emscripten_bind_DracoUInt32Array___destroy___0=function(){return Q.asm._emscripten_bind_DracoUInt32Array___destroy___0.apply(null,arguments)},Zt=Q._emscripten_bind_DracoUInt32Array_size_0=function(){return Q.asm._emscripten_bind_DracoUInt32Array_size_0.apply(null,arguments)},Jt=Q._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=function(){return Q.asm._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0.apply(null,arguments)},$t=Q._emscripten_bind_DracoUInt8Array_GetValue_1=function(){return Q.asm._emscripten_bind_DracoUInt8Array_GetValue_1.apply(null,arguments)},en=Q._emscripten_bind_DracoUInt8Array___destroy___0=function(){return Q.asm._emscripten_bind_DracoUInt8Array___destroy___0.apply(null,arguments)},tn=Q._emscripten_bind_DracoUInt8Array_size_0=function(){return Q.asm._emscripten_bind_DracoUInt8Array_size_0.apply(null,arguments)},nn=Q._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return Q.asm._emscripten_bind_GeometryAttribute_GeometryAttribute_0.apply(null,arguments)},rn=Q._emscripten_bind_GeometryAttribute___destroy___0=function(){return Q.asm._emscripten_bind_GeometryAttribute___destroy___0.apply(null,arguments)},on=Q._emscripten_bind_Mesh_Mesh_0=function(){return Q.asm._emscripten_bind_Mesh_Mesh_0.apply(null,arguments)},an=Q._emscripten_bind_Mesh___destroy___0=function(){return Q.asm._emscripten_bind_Mesh___destroy___0.apply(null,arguments)},sn=Q._emscripten_bind_Mesh_num_attributes_0=function(){return Q.asm._emscripten_bind_Mesh_num_attributes_0.apply(null,arguments)},un=Q._emscripten_bind_Mesh_num_faces_0=function(){return Q.asm._emscripten_bind_Mesh_num_faces_0.apply(null,arguments)},ln=Q._emscripten_bind_Mesh_num_points_0=function(){return Q.asm._emscripten_bind_Mesh_num_points_0.apply(null,arguments)},cn=Q._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=function(){return Q.asm._emscripten_bind_MetadataQuerier_GetDoubleEntry_2.apply(null,arguments)},hn=Q._emscripten_bind_MetadataQuerier_GetEntryName_2=function(){return Q.asm._emscripten_bind_MetadataQuerier_GetEntryName_2.apply(null,arguments)},dn=Q._emscripten_bind_MetadataQuerier_GetIntEntry_2=function(){return Q.asm._emscripten_bind_MetadataQuerier_GetIntEntry_2.apply(null,arguments)},fn=Q._emscripten_bind_MetadataQuerier_GetStringEntry_2=function(){return Q.asm._emscripten_bind_MetadataQuerier_GetStringEntry_2.apply(null,arguments)},pn=Q._emscripten_bind_MetadataQuerier_HasDoubleEntry_2=function(){return Q.asm._emscripten_bind_MetadataQuerier_HasDoubleEntry_2.apply(null,arguments)},mn=Q._emscripten_bind_MetadataQuerier_HasEntry_2=function(){return Q.asm._emscripten_bind_MetadataQuerier_HasEntry_2.apply(null,arguments)},gn=Q._emscripten_bind_MetadataQuerier_HasIntEntry_2=function(){return Q.asm._emscripten_bind_MetadataQuerier_HasIntEntry_2.apply(null,arguments)},_n=Q._emscripten_bind_MetadataQuerier_HasStringEntry_2=function(){return Q.asm._emscripten_bind_MetadataQuerier_HasStringEntry_2.apply(null,arguments)},vn=Q._emscripten_bind_MetadataQuerier_MetadataQuerier_0=function(){return Q.asm._emscripten_bind_MetadataQuerier_MetadataQuerier_0.apply(null,arguments)},An=Q._emscripten_bind_MetadataQuerier_NumEntries_1=function(){return Q.asm._emscripten_bind_MetadataQuerier_NumEntries_1.apply(null,arguments)},yn=Q._emscripten_bind_MetadataQuerier___destroy___0=function(){return Q.asm._emscripten_bind_MetadataQuerier___destroy___0.apply(null,arguments)},bn=Q._emscripten_bind_Metadata_Metadata_0=function(){return Q.asm._emscripten_bind_Metadata_Metadata_0.apply(null,arguments)},wn=Q._emscripten_bind_Metadata___destroy___0=function(){return Q.asm._emscripten_bind_Metadata___destroy___0.apply(null,arguments)},xn=Q._emscripten_bind_PointAttribute_GetAttributeTransformData_0=function(){return Q.asm._emscripten_bind_PointAttribute_GetAttributeTransformData_0.apply(null,arguments)},En=Q._emscripten_bind_PointAttribute_PointAttribute_0=function(){return Q.asm._emscripten_bind_PointAttribute_PointAttribute_0.apply(null,arguments)},Cn=Q._emscripten_bind_PointAttribute___destroy___0=function(){return Q.asm._emscripten_bind_PointAttribute___destroy___0.apply(null,arguments)},Sn=Q._emscripten_bind_PointAttribute_attribute_type_0=function(){return Q.asm._emscripten_bind_PointAttribute_attribute_type_0.apply(null,arguments)},Tn=Q._emscripten_bind_PointAttribute_byte_offset_0=function(){return Q.asm._emscripten_bind_PointAttribute_byte_offset_0.apply(null,arguments)},In=Q._emscripten_bind_PointAttribute_byte_stride_0=function(){return Q.asm._emscripten_bind_PointAttribute_byte_stride_0.apply(null,arguments)},Mn=Q._emscripten_bind_PointAttribute_data_type_0=function(){return Q.asm._emscripten_bind_PointAttribute_data_type_0.apply(null,arguments)},On=Q._emscripten_bind_PointAttribute_normalized_0=function(){return Q.asm._emscripten_bind_PointAttribute_normalized_0.apply(null,arguments)},Pn=Q._emscripten_bind_PointAttribute_num_components_0=function(){return Q.asm._emscripten_bind_PointAttribute_num_components_0.apply(null,arguments)},Dn=Q._emscripten_bind_PointAttribute_size_0=function(){return Q.asm._emscripten_bind_PointAttribute_size_0.apply(null,arguments)},Bn=Q._emscripten_bind_PointAttribute_unique_id_0=function(){return Q.asm._emscripten_bind_PointAttribute_unique_id_0.apply(null,arguments)},Ln=Q._emscripten_bind_PointCloud_PointCloud_0=function(){return Q.asm._emscripten_bind_PointCloud_PointCloud_0.apply(null,arguments)},Nn=Q._emscripten_bind_PointCloud___destroy___0=function(){return Q.asm._emscripten_bind_PointCloud___destroy___0.apply(null,arguments)},Rn=Q._emscripten_bind_PointCloud_num_attributes_0=function(){return Q.asm._emscripten_bind_PointCloud_num_attributes_0.apply(null,arguments)},kn=Q._emscripten_bind_PointCloud_num_points_0=function(){return Q.asm._emscripten_bind_PointCloud_num_points_0.apply(null,arguments)},Fn=Q._emscripten_bind_Status___destroy___0=function(){return Q.asm._emscripten_bind_Status___destroy___0.apply(null,arguments)},Un=Q._emscripten_bind_Status_code_0=function(){return Q.asm._emscripten_bind_Status_code_0.apply(null,arguments)},zn=Q._emscripten_bind_Status_error_msg_0=function(){return Q.asm._emscripten_bind_Status_error_msg_0.apply(null,arguments)},jn=Q._emscripten_bind_Status_ok_0=function(){return Q.asm._emscripten_bind_Status_ok_0.apply(null,arguments)},Hn=Q._emscripten_bind_VoidPtr___destroy___0=function(){return Q.asm._emscripten_bind_VoidPtr___destroy___0.apply(null,arguments)},Vn=Q._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=function(){return Q.asm._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM.apply(null,arguments)},Qn=Q._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=function(){return Q.asm._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM.apply(null,arguments)},Gn=Q._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=function(){return Q.asm._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM.apply(null,arguments)},Wn=Q._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=function(){return Q.asm._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM.apply(null,arguments)},qn=Q._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return Q.asm._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE.apply(null,arguments)},Yn=Q._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return Q.asm._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD.apply(null,arguments)},Kn=Q._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return Q.asm._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH.apply(null,arguments)},Xn=Q._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return Q.asm._emscripten_enum_draco_GeometryAttribute_Type_COLOR.apply(null,arguments)},Zn=Q._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return Q.asm._emscripten_enum_draco_GeometryAttribute_Type_GENERIC.apply(null,arguments)},Jn=Q._emscripten_enum_draco_GeometryAttribute_Type_INVALID=function(){return Q.asm._emscripten_enum_draco_GeometryAttribute_Type_INVALID.apply(null,arguments)},$n=Q._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return Q.asm._emscripten_enum_draco_GeometryAttribute_Type_NORMAL.apply(null,arguments)},er=Q._emscripten_enum_draco_GeometryAttribute_Type_POSITION=function(){return Q.asm._emscripten_enum_draco_GeometryAttribute_Type_POSITION.apply(null,arguments)},tr=Q._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return Q.asm._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD.apply(null,arguments)},nr=Q._emscripten_enum_draco_StatusCode_ERROR=function(){return Q.asm._emscripten_enum_draco_StatusCode_ERROR.apply(null,arguments)},rr=Q._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=function(){return Q.asm._emscripten_enum_draco_StatusCode_INVALID_PARAMETER.apply(null,arguments)},ir=Q._emscripten_enum_draco_StatusCode_IO_ERROR=function(){return Q.asm._emscripten_enum_draco_StatusCode_IO_ERROR.apply(null,arguments)},or=Q._emscripten_enum_draco_StatusCode_OK=function(){return Q.asm._emscripten_enum_draco_StatusCode_OK.apply(null,arguments)},ar=Q._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=function(){return Q.asm._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION.apply(null,arguments)},sr=Q._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=function(){return Q.asm._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION.apply(null,arguments)};Q._emscripten_get_global_libc=function(){return Q.asm._emscripten_get_global_libc.apply(null,arguments)};var ur=Q._emscripten_replace_memory=function(){return Q.asm._emscripten_replace_memory.apply(null,arguments)};Q._free=function(){return Q.asm._free.apply(null,arguments)},Q._llvm_bswap_i32=function(){return Q.asm._llvm_bswap_i32.apply(null,arguments)};var lr=Q._malloc=function(){return Q.asm._malloc.apply(null,arguments)};if(Q._memcpy=function(){return Q.asm._memcpy.apply(null,arguments)},Q._memmove=function(){return Q.asm._memmove.apply(null,arguments)},Q._memset=function(){return Q.asm._memset.apply(null,arguments)},Q._sbrk=function(){return Q.asm._sbrk.apply(null,arguments)},Q.establishStackSpace=function(){return Q.asm.establishStackSpace.apply(null,arguments)},Q.getTempRet0=function(){return Q.asm.getTempRet0.apply(null,arguments)},Q.runPostSets=function(){return Q.asm.runPostSets.apply(null,arguments)},Q.setTempRet0=function(){return Q.asm.setTempRet0.apply(null,arguments)},Q.setThrew=function(){return Q.asm.setThrew.apply(null,arguments)},Q.stackAlloc=function(){return Q.asm.stackAlloc.apply(null,arguments)},Q.stackRestore=function(){return Q.asm.stackRestore.apply(null,arguments)},Q.stackSave=function(){return Q.asm.stackSave.apply(null,arguments)},Q.dynCall_ii=function(){return Q.asm.dynCall_ii.apply(null,arguments)},Q.dynCall_iii=function(){return Q.asm.dynCall_iii.apply(null,arguments)},Q.dynCall_iiii=function(){return Q.asm.dynCall_iiii.apply(null,arguments)},Q.dynCall_iiiiiii=function(){return Q.asm.dynCall_iiiiiii.apply(null,arguments)},Q.dynCall_v=function(){return Q.asm.dynCall_v.apply(null,arguments)},Q.dynCall_vi=function(){return Q.asm.dynCall_vi.apply(null,arguments)},Q.dynCall_vii=function(){return Q.asm.dynCall_vii.apply(null,arguments)},Q.dynCall_viii=function(){return Q.asm.dynCall_viii.apply(null,arguments)},Q.dynCall_viiii=function(){return Q.asm.dynCall_viiii.apply(null,arguments)},Q.dynCall_viiiii=function(){return Q.asm.dynCall_viiiii.apply(null,arguments)},Q.dynCall_viiiiii=function(){return Q.asm.dynCall_viiiiii.apply(null,arguments)},te.stackAlloc=Q.stackAlloc,te.stackSave=Q.stackSave,te.stackRestore=Q.stackRestore,te.establishStackSpace=Q.establishStackSpace,te.setTempRet0=Q.setTempRet0,te.getTempRet0=Q.getTempRet0,Q.asm=je,Ne)if("function"==typeof Q.locateFile?Ne=Q.locateFile(Ne):Q.memoryInitializerPrefixURL&&(Ne=Q.memoryInitializerPrefixURL+Ne),Z||J){var cr=Q.readBinary(Ne);oe.set(cr,te.GLOBAL_BASE)}else{var hr=function(){Q.readAsync(Ne,dr,function(){throw"could not load memory initializer "+Ne})};h("memory initializer");var dr=function(e){e.byteLength&&(e=new Uint8Array(e)),oe.set(e,te.GLOBAL_BASE),Q.memoryInitializerRequest&&delete Q.memoryInitializerRequest.response,d("memory initializer")};if(Q.memoryInitializerRequest){var fr=function(){var e=Q.memoryInitializerRequest,t=e.response;200!==e.status&&0!==e.status?(console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+Ne),hr()):dr(t)};Q.memoryInitializerRequest.response?setTimeout(fr,0):Q.memoryInitializerRequest.addEventListener("load",fr)}else hr()}Q.then=function(e){if(Q.calledRun)e(Q);else{var t=Q.onRuntimeInitialized;Q.onRuntimeInitialized=function(){t&&t(),e(Q)}}return Q},_.prototype=Error(),_.prototype.constructor=_;var pr=null;Le=function e(){Q.calledRun||v(),Q.calledRun||(Le=e)},Q.run=v,Q.exit=function(e,t){t&&Q.noExitRuntime||(!Q.noExitRuntime&&(ne=!0,pe=void 0,c(Me),Q.onExit)&&Q.onExit(e),Z&&r.exit(e),Q.quit(e,new _(e)))};var mr=[];if(Q.abort=A,Q.preInit)for("function"==typeof Q.preInit&&(Q.preInit=[Q.preInit]);0<Q.preInit.length;)Q.preInit.pop()();v(),y.prototype=Object.create(y.prototype),y.prototype.constructor=y,y.prototype.__class__=y,y.__cache__={},Q.WrapperObject=y,Q.getCache=b,Q.wrapPointer=w,Q.castObject=function(e,t){return w(e.ptr,t)},Q.NULL=w(0),Q.destroy=function(e){if(!e.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";e.__destroy__(),delete b(e.__class__)[e.ptr]},Q.compare=function(e,t){return e.ptr===t.ptr},Q.getPointer=function(e){return e.ptr},Q.getClass=function(e){return e.__class__};var gr={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(gr.needed){for(var e=0;e<gr.temps.length;e++)Q._free(gr.temps[e]);gr.temps.length=0,Q._free(gr.buffer),gr.buffer=0,gr.size+=gr.needed,gr.needed=0}gr.buffer||(gr.size+=128,gr.buffer=Q._malloc(gr.size),t(gr.buffer)),gr.pos=0},alloc:function(e,n){return t(gr.buffer),e=e.length*n.BYTES_PER_ELEMENT,e=e+7&-8,gr.pos+e>=gr.size?(t(0<e),gr.needed+=e,n=Q._malloc(e),gr.temps.push(n)):(n=gr.buffer+gr.pos,gr.pos+=e),n},copy:function(e,t,n){switch(t.BYTES_PER_ELEMENT){case 2:n>>=1;break;case 4:n>>=2;break;case 8:n>>=3}for(var r=0;r<e.length;r++)t[n+r]=e[r]}};return E.prototype=Object.create(y.prototype),E.prototype.constructor=E,E.prototype.__class__=E,E.__cache__={},Q.Status=E,E.prototype.code=E.prototype.code=function(){return Un(this.ptr)},E.prototype.ok=E.prototype.ok=function(){return!!jn(this.ptr)},E.prototype.error_msg=E.prototype.error_msg=function(){return i(zn(this.ptr))},E.prototype.__destroy__=E.prototype.__destroy__=function(){Fn(this.ptr)},C.prototype=Object.create(y.prototype),C.prototype.constructor=C,C.prototype.__class__=C,C.__cache__={},Q.DracoUInt16Array=C,C.prototype.GetValue=C.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),Gt(t,e)},C.prototype.size=C.prototype.size=function(){return qt(this.ptr)},C.prototype.__destroy__=C.prototype.__destroy__=function(){Wt(this.ptr)},S.prototype=Object.create(y.prototype),S.prototype.constructor=S,S.prototype.__class__=S,S.__cache__={},Q.PointCloud=S,S.prototype.num_attributes=S.prototype.num_attributes=function(){return Rn(this.ptr)},S.prototype.num_points=S.prototype.num_points=function(){return kn(this.ptr)},S.prototype.__destroy__=S.prototype.__destroy__=function(){Nn(this.ptr)},T.prototype=Object.create(y.prototype),T.prototype.constructor=T,T.prototype.__class__=T,T.__cache__={},Q.DracoUInt8Array=T,T.prototype.GetValue=T.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),$t(t,e)},T.prototype.size=T.prototype.size=function(){return tn(this.ptr)},T.prototype.__destroy__=T.prototype.__destroy__=function(){en(this.ptr)},I.prototype=Object.create(y.prototype),I.prototype.constructor=I,I.prototype.__class__=I,I.__cache__={},Q.DracoUInt32Array=I,I.prototype.GetValue=I.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),Kt(t,e)},I.prototype.size=I.prototype.size=function(){return Zt(this.ptr)},I.prototype.__destroy__=I.prototype.__destroy__=function(){Xt(this.ptr)},M.prototype=Object.create(y.prototype),M.prototype.constructor=M,M.prototype.__class__=M,M.__cache__={},Q.AttributeOctahedronTransform=M,M.prototype.InitFromAttribute=M.prototype.InitFromAttribute=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),!!Ve(t,e)},M.prototype.quantization_bits=M.prototype.quantization_bits=function(){return Ge(this.ptr)},M.prototype.__destroy__=M.prototype.__destroy__=function(){Qe(this.ptr)},O.prototype=Object.create(y.prototype),O.prototype.constructor=O,O.prototype.__class__=O,O.__cache__={},Q.PointAttribute=O,O.prototype.size=O.prototype.size=function(){return Dn(this.ptr)},O.prototype.GetAttributeTransformData=O.prototype.GetAttributeTransformData=function(){return w(xn(this.ptr),P)},O.prototype.attribute_type=O.prototype.attribute_type=function(){return Sn(this.ptr)},O.prototype.data_type=O.prototype.data_type=function(){return Mn(this.ptr)},O.prototype.num_components=O.prototype.num_components=function(){return Pn(this.ptr)},O.prototype.normalized=O.prototype.normalized=function(){return!!On(this.ptr)},O.prototype.byte_stride=O.prototype.byte_stride=function(){return In(this.ptr)},O.prototype.byte_offset=O.prototype.byte_offset=function(){return Tn(this.ptr)},O.prototype.unique_id=O.prototype.unique_id=function(){return Bn(this.ptr)},O.prototype.__destroy__=O.prototype.__destroy__=function(){Cn(this.ptr)},P.prototype=Object.create(y.prototype),P.prototype.constructor=P,P.prototype.__class__=P,P.__cache__={},Q.AttributeTransformData=P,P.prototype.transform_type=P.prototype.transform_type=function(){return et(this.ptr)},P.prototype.__destroy__=P.prototype.__destroy__=function(){$e(this.ptr)},D.prototype=Object.create(y.prototype),D.prototype.constructor=D,D.prototype.__class__=D,D.__cache__={},Q.AttributeQuantizationTransform=D,D.prototype.InitFromAttribute=D.prototype.InitFromAttribute=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),!!qe(t,e)},D.prototype.quantization_bits=D.prototype.quantization_bits=function(){return Xe(this.ptr)},D.prototype.min_value=D.prototype.min_value=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),Ke(t,e)},D.prototype.range=D.prototype.range=function(){return Ze(this.ptr)},D.prototype.__destroy__=D.prototype.__destroy__=function(){Ye(this.ptr)},B.prototype=Object.create(y.prototype),B.prototype.constructor=B,B.prototype.__class__=B,B.__cache__={},Q.DracoInt8Array=B,B.prototype.GetValue=B.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),jt(t,e)},B.prototype.size=B.prototype.size=function(){return Vt(this.ptr)},B.prototype.__destroy__=B.prototype.__destroy__=function(){Ht(this.ptr)},L.prototype=Object.create(y.prototype),L.prototype.constructor=L,L.prototype.__class__=L,L.__cache__={},Q.MetadataQuerier=L,L.prototype.HasEntry=L.prototype.HasEntry=function(e,t){var n=this.ptr;return gr.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:x(t),!!mn(n,e,t)},L.prototype.HasIntEntry=L.prototype.HasIntEntry=function(e,t){var n=this.ptr;return gr.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:x(t),!!gn(n,e,t)},L.prototype.GetIntEntry=L.prototype.GetIntEntry=function(e,t){var n=this.ptr;return gr.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:x(t),dn(n,e,t)},L.prototype.HasDoubleEntry=L.prototype.HasDoubleEntry=function(e,t){var n=this.ptr;return gr.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:x(t),!!pn(n,e,t)},L.prototype.GetDoubleEntry=L.prototype.GetDoubleEntry=function(e,t){var n=this.ptr;return gr.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:x(t),cn(n,e,t)},L.prototype.HasStringEntry=L.prototype.HasStringEntry=function(e,t){var n=this.ptr;return gr.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:x(t),!!_n(n,e,t)},L.prototype.GetStringEntry=L.prototype.GetStringEntry=function(e,t){var n=this.ptr;return gr.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:x(t),i(fn(n,e,t))},L.prototype.NumEntries=L.prototype.NumEntries=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),An(t,e)},L.prototype.GetEntryName=L.prototype.GetEntryName=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),i(hn(n,e,t))},L.prototype.__destroy__=L.prototype.__destroy__=function(){yn(this.ptr)},N.prototype=Object.create(y.prototype),N.prototype.constructor=N,N.prototype.__class__=N,N.__cache__={},Q.DracoInt16Array=N,N.prototype.GetValue=N.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),Bt(t,e)},N.prototype.size=N.prototype.size=function(){return Nt(this.ptr)},N.prototype.__destroy__=N.prototype.__destroy__=function(){Lt(this.ptr)},R.prototype=Object.create(y.prototype),R.prototype.constructor=R,R.prototype.__class__=R,R.__cache__={},Q.DracoFloat32Array=R,R.prototype.GetValue=R.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),Mt(t,e)},R.prototype.size=R.prototype.size=function(){return Pt(this.ptr)},R.prototype.__destroy__=R.prototype.__destroy__=function(){Ot(this.ptr)},k.prototype=Object.create(y.prototype),k.prototype.constructor=k,k.prototype.__class__=k,k.__cache__={},Q.GeometryAttribute=k,k.prototype.__destroy__=k.prototype.__destroy__=function(){rn(this.ptr)},F.prototype=Object.create(y.prototype),F.prototype.constructor=F,F.prototype.__class__=F,F.__cache__={},Q.DecoderBuffer=F,F.prototype.Init=F.prototype.Init=function(e,t){var n=this.ptr;if(gr.prepare(),"object"==typeof e&&"object"==typeof e){var r=gr.alloc(e,ie);gr.copy(e,ie,r),e=r}t&&"object"==typeof t&&(t=t.ptr),nt(n,e,t)},F.prototype.__destroy__=F.prototype.__destroy__=function(){rt(this.ptr)},U.prototype=Object.create(y.prototype),U.prototype.constructor=U,U.prototype.__class__=U,U.__cache__={},Q.Decoder=U,U.prototype.GetEncodedGeometryType=U.prototype.GetEncodedGeometryType=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),wt(t,e)},U.prototype.DecodeBufferToPointCloud=U.prototype.DecodeBufferToPointCloud=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),w(ot(n,e,t),E)},U.prototype.DecodeBufferToMesh=U.prototype.DecodeBufferToMesh=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),w(it(n,e,t),E)},U.prototype.GetAttributeId=U.prototype.GetAttributeId=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),dt(n,e,t)},U.prototype.GetAttributeIdByName=U.prototype.GetAttributeIdByName=function(e,t){var n=this.ptr;return gr.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:x(t),ht(n,e,t)},U.prototype.GetAttributeIdByMetadataEntry=U.prototype.GetAttributeIdByMetadataEntry=function(e,t,n){var r=this.ptr;return gr.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:x(t),n=n&&"object"==typeof n?n.ptr:x(n),ct(r,e,t,n)},U.prototype.GetAttribute=U.prototype.GetAttribute=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),w(bt(n,e,t),O)},U.prototype.GetAttributeByUniqueId=U.prototype.GetAttributeByUniqueId=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),w(st(n,e,t),O)},U.prototype.GetMetadata=U.prototype.GetMetadata=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),w(Et(t,e),V)},U.prototype.GetAttributeMetadata=U.prototype.GetAttributeMetadata=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),w(_t(n,e,t),V)},U.prototype.GetFaceFromMesh=U.prototype.GetFaceFromMesh=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!xt(r,e,t,n)},U.prototype.GetTriangleStripsFromMesh=U.prototype.GetTriangleStripsFromMesh=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),Ct(n,e,t)},U.prototype.GetAttributeFloat=U.prototype.GetAttributeFloat=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!lt(r,e,t,n)},U.prototype.GetAttributeFloatForAllPoints=U.prototype.GetAttributeFloatForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!ut(r,e,t,n)},U.prototype.GetAttributeIntForAllPoints=U.prototype.GetAttributeIntForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!gt(r,e,t,n)},U.prototype.GetAttributeInt8ForAllPoints=U.prototype.GetAttributeInt8ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!mt(r,e,t,n)},U.prototype.GetAttributeUInt8ForAllPoints=U.prototype.GetAttributeUInt8ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!yt(r,e,t,n)},U.prototype.GetAttributeInt16ForAllPoints=U.prototype.GetAttributeInt16ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!ft(r,e,t,n)},U.prototype.GetAttributeUInt16ForAllPoints=U.prototype.GetAttributeUInt16ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!vt(r,e,t,n)},U.prototype.GetAttributeInt32ForAllPoints=U.prototype.GetAttributeInt32ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!pt(r,e,t,n)},U.prototype.GetAttributeUInt32ForAllPoints=U.prototype.GetAttributeUInt32ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!At(r,e,t,n)},U.prototype.SkipAttributeTransform=U.prototype.SkipAttributeTransform=function(e){var t=this.ptr;e&&"object"==typeof e&&(e=e.ptr),St(t,e)},U.prototype.__destroy__=U.prototype.__destroy__=function(){Tt(this.ptr)},z.prototype=Object.create(y.prototype),z.prototype.constructor=z,z.prototype.__class__=z,z.__cache__={},Q.Mesh=z,z.prototype.num_faces=z.prototype.num_faces=function(){return un(this.ptr)},z.prototype.num_attributes=z.prototype.num_attributes=function(){return sn(this.ptr)},z.prototype.num_points=z.prototype.num_points=function(){return ln(this.ptr)},z.prototype.__destroy__=z.prototype.__destroy__=function(){an(this.ptr)},j.prototype=Object.create(y.prototype),j.prototype.constructor=j,j.prototype.__class__=j,j.__cache__={},Q.VoidPtr=j,j.prototype.__destroy__=j.prototype.__destroy__=function(){Hn(this.ptr)},H.prototype=Object.create(y.prototype),H.prototype.constructor=H,H.prototype.__class__=H,H.__cache__={},Q.DracoInt32Array=H,H.prototype.GetValue=H.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),kt(t,e)},H.prototype.size=H.prototype.size=function(){return Ut(this.ptr)},H.prototype.__destroy__=H.prototype.__destroy__=function(){Ft(this.ptr)},V.prototype=Object.create(y.prototype),V.prototype.constructor=V,V.prototype.__class__=V,V.__cache__={},Q.Metadata=V,V.prototype.__destroy__=V.prototype.__destroy__=function(){wn(this.ptr)},function(){function e(){Q.OK=or(),Q.ERROR=nr(),Q.IO_ERROR=ir(),Q.INVALID_PARAMETER=rr(),Q.UNSUPPORTED_VERSION=sr(),Q.UNKNOWN_VERSION=ar(),Q.INVALID_GEOMETRY_TYPE=qn(),Q.POINT_CLOUD=Yn(),Q.TRIANGULAR_MESH=Kn(),Q.ATTRIBUTE_INVALID_TRANSFORM=Vn(),Q.ATTRIBUTE_NO_TRANSFORM=Qn(),Q.ATTRIBUTE_QUANTIZATION_TRANSFORM=Wn(),Q.ATTRIBUTE_OCTAHEDRON_TRANSFORM=Gn(),Q.INVALID=Jn(),Q.POSITION=er(),Q.NORMAL=$n(),Q.COLOR=Xn(),Q.TEX_COORD=tr(),Q.GENERIC=Zn()}Q.calledRun?e():Ie.unshift(e)}(),"function"==typeof Q.onModuleParsed&&Q.onModuleParsed(),e};"object"==typeof e&&e.exports&&(e.exports=o)}).call(t,n(48),n(73))},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),a="/"===o(e,-1);return e=n(i(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var l=[],u=s;u<i.length;u++)l.push("..");return l=l.concat(o.slice(s)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===r&&(i=!1,r=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=a+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(73))},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./draco_decoder.wasm":880};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=879},function(e,t,n){e.exports=n.p+"b0686b76852d262a692859bd67e3a903.wasm"},function(e,t,n){"use strict";function r(e,t,n,r){var s={time:null,included:!1},u={time:null,included:!1},l={time:null,included:!1},c={time:null,included:!1},h={time:null,included:!1},d=n?o.lessThan:o.greaterThan,f=n?o.greaterThan:o.lessThan,p=function(e,t){return null===t.time||d(e.time,t.time)||o.equals(e.time,t.time)&&_(e.included)&&_(!t.included)},m=function(e,t){return null===t.time||f(e.time,t.time)||o.equals(e.time,t.time)&&_(!e.included)&&_(t.included)},g=function(e,t){return o.equals(e.time,t.time)&&e.included===t.included},_=function(e){return n?e:!e};e.timeIntervals.forEach(function(e){i(e)&&[{time:e.start,included:e.isStartIncluded},{time:e.stop,included:!e.isStopIncluded}].forEach(function(e){f(e.time,t)||o.equals(e.time,t)&&_(!e.included)?p(e,u)?(null!==u.time&&(l=u),u=e):g(e,u)||p(e,l)&&(l=e):m(e,s)&&(s=e),!1!==r&&(p(e,c)?(null!==c.time&&(h=c),c=e):g(e,c)||p(e,h)&&(h=e))})});var v=function(e,t,r,i){return new a(n?{start:e,stop:t,isStartIncluded:r,isStopIncluded:i}:{start:t,stop:e,isStartIncluded:_(i),isStopIncluded:_(r)})},A={currentInterval:s.time&&u.time?v(s.time,u.time,s.included,!u.included):null,nextInterval:u.time&&l.time?v(u.time,l.time,u.included,!l.included):null};return!1!==r&&null===l.time&&(A.nextInterval=v(c.time,h.time,c.included,!h.included)),A}var i=n(0),o=n(36),a=n(78);e.exports=r},function(e,t,n){e.exports=n(883)},function(e,t,n){var r=n(884);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort(function(e,t){return e-t}),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r){r=[];for(var i in e)"function"==typeof e[i]&&r.push(i)}for(var o=0;o<r.length;o++){var a=r[o],s=e[a];e[a]=function(r){var i=t.operation(n),o=Array.prototype.slice.call(arguments,1),a=o.pop();o.push(function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),a.apply(this,arguments))}),i.attempt(function(){r.apply(e,o)})}.bind(e,s),e[a].options=n}}},function(e,t){function n(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=n,n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),n=this._timeouts.shift()}var r=this,i=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n);return this._options.unref&&i.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=i,n=a)}return t}},function(e,t,n){"use strict";function r(e,t){var n=e._canvas2dContext;if(!o(n)||n.canvas.width!==t.width||n.canvas.height!==t.height){var r=document.createElement("canvas");r.width=t.width,r.height=t.height,n=r.getContext("2d"),e._canvas2dContext=n}return n}function i(e,t,n){if(!o(e))throw new s("No context for image recoloring.");e.clearRect(0,0,e.canvas.width,e.canvas.height),e.drawImage(t,0,0);var r=e.getImageData(0,0,e.canvas.width,e.canvas.height);return r=u.recolorImage(r,n)}var o=n(0),a=n(7),s=n(3),u={};u.addRecolorFunc=function(e,t){e.base_requestImage=e.requestImage,e.requestImage=function(n,s,u){var l=this.base_requestImage(n,s,u);return o(l)?a(l,function(n){if(o(n)){n=i(r(e,n),n,t)}return n}):l}},u.recolorImage=function(e,t){for(var n=e.data.length,r=0;r<n;r+=4)if(e.data[r+3]<255||0!==e.data[r])e.data[r+3]=0;else{var i=256*e.data[r+1]+e.data[r+2],a=t(i);if(o(a))for(var s=0;s<4;s++)e.data[r+s]=a[s];else e.data[r+3]=0}return e},u.addPickFeaturesHook=function(e,t){e.base_pickFeatures=e.pickFeatures,e.pickFeatures=function(e,n,r,i,a){var s=this.base_pickFeatures(e,n,r,i,a);return o(s)?s.then(t):s}},e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(505),a=r(o),s=n(506),u=r(s),l=n(887),c=function(e,t){var n=t||{},r=new u.default("boolean"!=typeof n.logging||n.logging);r.log("html2canvas $npm_package_version");var o=e.ownerDocument;if(!o)return Promise.reject("Provided element is not within a Document");var s=o.defaultView,c={async:!0,allowTaint:!1,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,scale:s.devicePixelRatio||1,target:new a.default(n.canvas),useCORS:!1,windowWidth:s.innerWidth,windowHeight:s.innerHeight,scrollX:s.pageXOffset,scrollY:s.pageYOffset},h=(0,l.renderElement)(e,i({},c,n),r);return h};c.CanvasRenderer=a.default,e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.renderElement=void 0;var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(506),a=(r(o),n(888)),s=n(910),u=r(s),l=n(513),c=r(l),h=n(242),d=r(h),f=n(144),p=n(913),m=n(515),g=n(122),_=r(g);t.renderElement=function e(t,n,r){var o=t.ownerDocument,s=new f.Bounds(n.scrollX,n.scrollY,n.windowWidth,n.windowHeight),l=o.documentElement?new _.default(getComputedStyle(o.documentElement).backgroundColor):g.TRANSPARENT,h=o.body?new _.default(getComputedStyle(o.body).backgroundColor):g.TRANSPARENT,v=t===o.documentElement?l.isTransparent()?h.isTransparent()?n.backgroundColor?new _.default(n.backgroundColor):null:h:l:n.backgroundColor?new _.default(n.backgroundColor):null;return(n.foreignObjectRendering?d.default.SUPPORT_FOREIGNOBJECT_DRAWING:Promise.resolve(!1)).then(function(l){return l?function(e){return e.inlineFonts(o).then(function(){return e.resourceLoader.ready()}).then(function(){var i=new c.default(e.documentElement),a=o.defaultView,s=a.pageXOffset,u=a.pageYOffset,l="HTML"===t.tagName||"BODY"===t.tagName,h=l?(0,f.parseDocumentSize)(o):(0,f.parseBounds)(t,s,u),d=h.width,p=h.height,m=h.left,g=h.top;return i.render({backgroundColor:v,logger:r,scale:n.scale,x:"number"==typeof n.x?n.x:m,y:"number"==typeof n.y?n.y:g,width:"number"==typeof n.width?n.width:Math.ceil(d),height:"number"==typeof n.height?n.height:Math.ceil(p),windowWidth:n.windowWidth,windowHeight:n.windowHeight,scrollX:n.scrollX,scrollY:n.scrollY})})}(new p.DocumentCloner(t,n,r,!0,e)):(0,p.cloneWindow)(o,s,t,n,r,e).then(function(e){var t=i(e,3),s=t[0],l=t[1],c=t[2],h=(0,a.NodeParser)(l,c,r),d=l.ownerDocument;return v===h.container.style.background.backgroundColor&&(h.container.style.background.backgroundColor=g.TRANSPARENT),c.ready().then(function(e){var t=new m.FontMetrics(d),i=d.defaultView,a=i.pageXOffset,c=i.pageYOffset,p="HTML"===l.tagName||"BODY"===l.tagName,g=p?(0,f.parseDocumentSize)(o):(0,f.parseBounds)(l,a,c),_=g.width,A=g.height,y=g.left,b=g.top,w={backgroundColor:v,fontMetrics:t,imageStore:e,logger:r,scale:n.scale,x:"number"==typeof n.x?n.x:y,y:"number"==typeof n.y?n.y:b,width:"number"==typeof n.width?n.width:Math.ceil(_),height:"number"==typeof n.height?n.height:Math.ceil(A)};if(Array.isArray(n.target))return Promise.all(n.target.map(function(e){return new u.default(e,w).render(h)}));var x=new u.default(n.target,w),E=x.render(h);return!0===n.removeContainer&&s.parentNode&&s.parentNode.removeChild(s),E})})})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NodeParser=void 0;var i=n(889),o=r(i),a=n(167),s=r(a),u=n(241),l=r(u),c=n(511),h=n(323),d=n(240),f=(t.NodeParser=function(e,t,n){var r=0,i=new s.default(e,null,t,r++),a=new o.default(i,null,!0);return p(e,i,a,t,r),a},["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"]),p=function e(t,n,r,i,a){for(var u,p=t.firstChild;p;p=u){u=p.nextSibling;var _=p.ownerDocument.defaultView;if(p instanceof _.Text||p instanceof Text||_.parent&&p instanceof _.parent.Text)p.data.trim().length>0&&n.childNodes.push(l.default.fromTextNode(p,n));else if(p instanceof _.HTMLElement||p instanceof HTMLElement||_.parent&&p instanceof _.parent.HTMLElement){if(-1===f.indexOf(p.nodeName)){var v=new s.default(p,n,i,a++);if(v.isVisible()){"INPUT"===p.tagName?(0,c.inlineInputElement)(p,v):"TEXTAREA"===p.tagName?(0,c.inlineTextAreaElement)(p,v):"SELECT"===p.tagName?(0,c.inlineSelectElement)(p,v):v.style.listStyle&&v.style.listStyle.listStyleType!==d.LIST_STYLE_TYPE.NONE&&(0,h.inlineListItemElement)(p,v,i);var A="TEXTAREA"!==p.tagName,y=m(v,p);if(y||g(v)){var b=y||v.isPositioned()?r.getRealParentStackingContext():r,w=new o.default(v,b,y);b.contexts.push(w),A&&e(p,v,w,i,a)}else r.children.push(v),A&&e(p,v,r,i,a)}}}else if(p instanceof _.SVGSVGElement||p instanceof SVGSVGElement||_.parent&&p instanceof _.parent.SVGSVGElement){var x=new s.default(p,n,i,a++),E=m(x,p);if(E||g(x)){var C=E||x.isPositioned()?r.getRealParentStackingContext():r,S=new o.default(x,C,E);C.contexts.push(S)}else r.children.push(x)}}},m=function(e,t){return e.isRootElement()||e.isPositionedWithZIndex()||e.style.opacity<1||e.isTransformed()||_(e,t)},g=function(e){return e.isPositioned()||e.isFloating()},_=function(e,t){return"BODY"===t.nodeName&&e.parent instanceof s.default&&e.parent.style.background.backgroundColor.isTransparent()}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(167),a=(function(e){e&&e.__esModule}(o),n(509),function(){function e(t,n,i){r(this,e),this.container=t,this.parent=n,this.contexts=[],this.children=[],this.treatAsRealStackingContext=i}return i(e,[{key:"getOpacity",value:function(){return this.parent?this.container.style.opacity*this.parent.getOpacity():this.container.style.opacity}},{key:"getRealParentStackingContext",value:function(){return!this.parent||this.treatAsRealStackingContext?this:this.parent.getRealParentStackingContext()}}]),e}());t.default=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.width=t,this.height=n};t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(238),a=n(239),s=function(e){return e&&e.__esModule?e:{default:e}}(a),u=function(e,t,n){return new s.default(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},l=function(){function e(t,n,i,a){r(this,e),this.type=o.PATH.BEZIER_CURVE,this.start=t,this.startControl=n,this.endControl=i,this.end=a}return i(e,[{key:"subdivide",value:function(t,n){var r=u(this.start,this.startControl,t),i=u(this.startControl,this.endControl,t),o=u(this.endControl,this.end,t),a=u(r,i,t),s=u(i,o,t),l=u(a,s,t);return n?new e(this.start,r,a,l):new e(l,s,o,this.end)}},{key:"reverse",value:function(){return new e(this.end,this.endControl,this.startControl,this.start)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorderRadius=void 0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(143),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=["top-left","top-right","bottom-right","bottom-left"];t.parseBorderRadius=function(e){return a.map(function(t){var n=e.getPropertyValue("border-"+t+"-radius"),i=n.split(" ").map(o.default.create),a=r(i,2),s=a[0],u=a[1];return void 0===u?[s,s]:[s,u]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.DISPLAY={NONE:1,BLOCK:2,INLINE:4,RUN_IN:8,FLOW:16,FLOW_ROOT:32,TABLE:64,FLEX:128,GRID:256,RUBY:512,SUBGRID:1024,LIST_ITEM:2048,TABLE_ROW_GROUP:4096,TABLE_HEADER_GROUP:8192,TABLE_FOOTER_GROUP:16384,TABLE_ROW:32768,TABLE_CELL:65536,TABLE_COLUMN_GROUP:1<<17,TABLE_COLUMN:1<<18,TABLE_CAPTION:1<<19,RUBY_BASE:1<<20,RUBY_TEXT:1<<21,RUBY_BASE_CONTAINER:1<<22,RUBY_TEXT_CONTAINER:1<<23,CONTENTS:1<<24,INLINE_BLOCK:1<<25,INLINE_LIST_ITEM:1<<26,INLINE_TABLE:1<<27,INLINE_FLEX:1<<28,INLINE_GRID:1<<29},i=function(e){switch(e){case"block":return r.BLOCK;case"inline":return r.INLINE;case"run-in":return r.RUN_IN;case"flow":return r.FLOW;case"flow-root":return r.FLOW_ROOT;case"table":return r.TABLE;case"flex":return r.FLEX;case"grid":return r.GRID;case"ruby":return r.RUBY;case"subgrid":return r.SUBGRID;case"list-item":return r.LIST_ITEM;case"table-row-group":return r.TABLE_ROW_GROUP;case"table-header-group":return r.TABLE_HEADER_GROUP;case"table-footer-group":return r.TABLE_FOOTER_GROUP;case"table-row":return r.TABLE_ROW;case"table-cell":return r.TABLE_CELL;case"table-column-group":return r.TABLE_COLUMN_GROUP;case"table-column":return r.TABLE_COLUMN;case"table-caption":return r.TABLE_CAPTION;case"ruby-base":return r.RUBY_BASE;case"ruby-text":return r.RUBY_TEXT;case"ruby-base-container":return r.RUBY_BASE_CONTAINER;case"ruby-text-container":return r.RUBY_TEXT_CONTAINER;case"contents":return r.CONTENTS;case"inline-block":return r.INLINE_BLOCK;case"inline-list-item":return r.INLINE_LIST_ITEM;case"inline-table":return r.INLINE_TABLE;case"inline-flex":return r.INLINE_FLEX;case"inline-grid":return r.INLINE_GRID}return r.NONE},o=function(e,t){return e|i(t)};t.parseDisplay=function(e){return e.split(" ").reduce(o,0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.FLOAT={NONE:0,LEFT:1,RIGHT:2,INLINE_START:3,INLINE_END:4};t.parseCSSFloat=function(e){switch(e){case"left":return r.LEFT;case"right":return r.RIGHT;case"inline-start":return r.INLINE_START;case"inline-end":return r.INLINE_END}return r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){switch(e){case"normal":return 400;case"bold":return 700}var t=parseInt(e,10);return isNaN(t)?400:t};t.parseFont=function(e){return{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontVariant:e.fontVariant,fontWeight:r(e.fontWeight)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseLetterSpacing=function(e){if("normal"===e)return 0;var t=parseFloat(e);return isNaN(t)?0:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.LINE_BREAK={NORMAL:"normal",STRICT:"strict"};t.parseLineBreak=function(e){switch(e){case"strict":return r.STRICT;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMargin=void 0;var r=n(143),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=["top","right","bottom","left"];t.parseMargin=function(e){return o.map(function(t){return new i.default(e.getPropertyValue("margin-"+t))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.OVERFLOW={VISIBLE:0,HIDDEN:1,SCROLL:2,AUTO:3};t.parseOverflow=function(e){switch(e){case"hidden":return r.HIDDEN;case"scroll":return r.SCROLL;case"auto":return r.AUTO;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextShadow=void 0;var r=n(122),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=/^([+-]|\d|\.)$/i;t.parseTextShadow=function(e){if("none"===e||"string"!=typeof e)return null;for(var t="",n=!1,r=[],a=[],s=0,u=null,l=function(){t.length&&(n?r.push(parseFloat(t)):u=new i.default(t)),n=!1,t=""},c=function(){r.length&&null!==u&&a.push({color:u,offsetX:r[0]||0,offsetY:r[1]||0,blur:r[2]||0}),r.splice(0,r.length),u=null},h=0;h<e.length;h++){var d=e[h];switch(d){case"(":t+=d,s++;break;case")":t+=d,s--;break;case",":0===s?(l(),c()):t+=d;break;case" ":0===s?l():t+=d;break;default:0===t.length&&o.test(d)&&(n=!0),t+=d}}return l(),c(),0===a.length?null:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransform=void 0;var r=n(143),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e){return parseFloat(e.trim())},a=/(matrix|matrix3d)\((.+)\)/,s=(t.parseTransform=function(e){var t=u(e.transform||e.webkitTransform||e.mozTransform||e.msTransform||e.oTransform);return null===t?null:{transform:t,transformOrigin:s(e.transformOrigin||e.webkitTransformOrigin||e.mozTransformOrigin||e.msTransformOrigin||e.oTransformOrigin)}},function(e){if("string"!=typeof e){var t=new i.default("0");return[t,t]}var n=e.split(" ").map(i.default.create);return[n[0],n[1]]}),u=function(e){if("none"===e||"string"!=typeof e)return null;var t=e.match(a);if(t){if("matrix"===t[1]){var n=t[2].split(",").map(o);return[n[0],n[1],n[2],n[3],n[4],n[5]]}var r=t[2].split(",").map(o);return[r[0],r[1],r[4],r[5],r[12],r[13]]}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.VISIBILITY={VISIBLE:0,HIDDEN:1,COLLAPSE:2};t.parseVisibility=function(e){switch(e){case"hidden":return r.HIDDEN;case"collapse":return r.COLLAPSE;case"visible":default:return r.VISIBLE}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.WORD_BREAK={NORMAL:"normal",BREAK_ALL:"break-all",KEEP_ALL:"keep-all"};t.parseWordBreak=function(e){switch(e){case"break-all":return r.BREAK_ALL;case"keep-all":return r.KEEP_ALL;case"normal":default:return r.NORMAL}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseZIndex=function(e){var t="auto"===e;return{auto:t,order:t?0:parseInt(e,10)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(322);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return r.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return r.fromCodePoint}});var i=n(906);Object.defineProperty(t,"LineBreaker",{enumerable:!0,get:function(){return i.LineBreaker}})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.LineBreaker=t.inlineBreakOpportunities=t.lineBreakAtIndex=t.codePointsToCharacterClasses=t.UnicodeTrie=t.BREAK_ALLOWED=t.BREAK_NOT_ALLOWED=t.BREAK_MANDATORY=t.classes=t.LETTER_NUMBER_MODIFIER=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(907),u=n(908),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(322),h=t.LETTER_NUMBER_MODIFIER=50,d=(t.classes={BK:1,CR:2,LF:3,CM:4,NL:5,SG:6,WJ:7,ZW:8,GL:9,SP:10,ZWJ:11,B2:12,BA:13,BB:14,HY:15,CB:16,CL:17,CP:18,EX:19,IN:20,NS:21,OP:22,QU:23,IS:24,NU:25,PO:26,PR:27,SY:28,AI:29,AL:30,CJ:31,EB:32,EM:33,H2:34,H3:35,HL:36,ID:37,JL:38,JV:39,JT:40,RI:41,SA:42,XX:43},t.BREAK_MANDATORY="!"),f=t.BREAK_NOT_ALLOWED="×",p=t.BREAK_ALLOWED="÷",m=t.UnicodeTrie=(0,s.createTrieFromBase64)(l.default),g=[30,36],_=[1,2,3,5],v=[10,8],A=[27,26],y=_.concat(v),b=[38,39,40,34,35],w=[15,13],x=t.codePointsToCharacterClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"strict",n=[],r=[],i=[];return e.forEach(function(e,o){var a=m.get(e);if(a>h?(i.push(!0),a-=h):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(16);if(4===a||11===a){if(0===o)return r.push(o),n.push(30);var s=n[o-1];return-1===y.indexOf(s)?(r.push(r[o-1]),n.push(s)):(r.push(o),n.push(30))}return r.push(o),31===a?n.push("strict"===t?21:37):42===a?n.push(30):29===a?n.push(30):43===a?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(37):n.push(30):void n.push(a)}),[r,n,i]},E=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){o++;var a=r[o];if(a===t)return!0;if(10!==a)break}if(10===i)for(var s=n;s>0;){s--;var u=r[s];if(Array.isArray(e)?-1!==e.indexOf(u):e===u)for(var l=n;l<=r.length;){l++;var c=r[l];if(c===t)return!0;if(10!==c)break}if(10!==u)break}return!1},C=function(e,t){for(var n=e;n>=0;){var r=t[n];if(10!==r)return r;n--}return 0},S=function(e,t,n,r,i){if(0===n[r])return f;var o=r-1;if(Array.isArray(i)&&!0===i[o])return f;var a=o-1,s=o+1,u=t[o],l=a>=0?t[a]:0,c=t[s];if(2===u&&3===c)return f;if(-1!==_.indexOf(u))return d;if(-1!==_.indexOf(c))return f;if(-1!==v.indexOf(c))return f;if(8===C(o,t))return p;if(11===m.get(e[o])&&(37===c||32===c||33===c))return f;if(7===u||7===c)return f;if(9===u)return f;if(-1===[10,13,15].indexOf(u)&&9===c)return f;if(-1!==[17,18,19,24,28].indexOf(c))return f;if(22===C(o,t))return f;if(E(23,22,o,t))return f;if(E([17,18],21,o,t))return f;if(E(12,12,o,t))return f;if(10===u)return p;if(23===u||23===c)return f;if(16===c||16===u)return p;if(-1!==[13,15,21].indexOf(c)||14===u)return f;if(36===l&&-1!==w.indexOf(u))return f;if(28===u&&36===c)return f;if(20===c&&-1!==g.concat(20,19,25,37,32,33).indexOf(u))return f;if(-1!==g.indexOf(c)&&25===u||-1!==g.indexOf(u)&&25===c)return f;if(27===u&&-1!==[37,32,33].indexOf(c)||-1!==[37,32,33].indexOf(u)&&26===c)return f;if(-1!==g.indexOf(u)&&-1!==A.indexOf(c)||-1!==A.indexOf(u)&&-1!==g.indexOf(c))return f;if(-1!==[27,26].indexOf(u)&&(25===c||-1!==[22,15].indexOf(c)&&25===t[s+1])||-1!==[22,15].indexOf(u)&&25===c||25===u&&-1!==[25,28,24].indexOf(c))return f;if(-1!==[25,28,24,17,18].indexOf(c))for(var h=o;h>=0;){var y=t[h];if(25===y)return f;if(-1===[28,24].indexOf(y))break;h--}if(-1!==[27,26].indexOf(c))for(var x=-1!==[17,18].indexOf(u)?a:o;x>=0;){var S=t[x];if(25===S)return f;if(-1===[28,24].indexOf(S))break;x--}if(38===u&&-1!==[38,39,34,35].indexOf(c)||-1!==[39,34].indexOf(u)&&-1!==[39,40].indexOf(c)||-1!==[40,35].indexOf(u)&&40===c)return f;if(-1!==b.indexOf(u)&&-1!==[20,26].indexOf(c)||-1!==b.indexOf(c)&&27===u)return f;if(-1!==g.indexOf(u)&&-1!==g.indexOf(c))return f;if(24===u&&-1!==g.indexOf(c))return f;if(-1!==g.concat(25).indexOf(u)&&22===c||-1!==g.concat(25).indexOf(c)&&18===u)return f;if(41===u&&41===c){for(var T=n[o],I=1;T>0&&(T--,41===t[T]);)I++;if(I%2!=0)return f}return 32===u&&33===c?f:p},T=(t.lineBreakAtIndex=function(e,t){if(0===t)return f;if(t>=e.length)return d;var n=x(e),r=a(n,2),i=r[0],o=r[1];return S(e,o,i,t)},function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=x(e,t.lineBreak),r=a(n,3),i=r[0],o=r[1],s=r[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(o=o.map(function(e){return-1!==[25,30,42].indexOf(e)?37:e})),[i,o,"keep-all"===t.wordBreak?s.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):null]}),I=(t.inlineBreakOpportunities=function(e,t){var n=(0,c.toCodePoints)(e),r=f,i=T(n,t),o=a(i,3),s=o[0],u=o[1],l=o[2];return n.forEach(function(e,t){r+=(0,c.fromCodePoint)(e)+(t>=n.length-1?d:S(n,u,s,t+1,l))}),r},function(){function e(t,n,r,o){i(this,e),this._codePoints=t,this.required=n===d,this.start=r,this.end=o}return o(e,[{key:"slice",value:function(){return c.fromCodePoint.apply(void 0,r(this._codePoints.slice(this.start,this.end)))}}]),e}());t.LineBreaker=function(e,t){var n=(0,c.toCodePoints)(e),r=T(n,t),i=a(r,3),o=i[0],s=i[1],u=i[2],l=n.length,h=0,d=0;return{next:function(){if(d>=l)return{done:!0};for(var e=f;d<l&&(e=S(n,s,o,++d,u))===f;);if(e!==f||d===l){var t=new I(n,e,h,d);return h=d,{value:t,done:!1}}return{done:!0}}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Trie=t.createTrieFromBase64=t.UTRIE2_INDEX_2_MASK=t.UTRIE2_INDEX_2_BLOCK_LENGTH=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=t.UTRIE2_INDEX_1_OFFSET=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=t.UTRIE2_INDEX_2_BMP_LENGTH=t.UTRIE2_LSCP_INDEX_2_LENGTH=t.UTRIE2_DATA_MASK=t.UTRIE2_DATA_BLOCK_LENGTH=t.UTRIE2_LSCP_INDEX_2_OFFSET=t.UTRIE2_SHIFT_1_2=t.UTRIE2_INDEX_SHIFT=t.UTRIE2_SHIFT_1=t.UTRIE2_SHIFT_2=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(322),a=t.UTRIE2_SHIFT_2=5,s=t.UTRIE2_SHIFT_1=11,u=t.UTRIE2_INDEX_SHIFT=2,l=t.UTRIE2_SHIFT_1_2=s-a,c=t.UTRIE2_LSCP_INDEX_2_OFFSET=65536>>a,h=t.UTRIE2_DATA_BLOCK_LENGTH=1<<a,d=t.UTRIE2_DATA_MASK=h-1,f=t.UTRIE2_LSCP_INDEX_2_LENGTH=1024>>a,p=t.UTRIE2_INDEX_2_BMP_LENGTH=c+f,m=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=p,g=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,_=t.UTRIE2_INDEX_1_OFFSET=m+g,v=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>s,A=t.UTRIE2_INDEX_2_BLOCK_LENGTH=1<<l,y=t.UTRIE2_INDEX_2_MASK=A-1,b=(t.createTrieFromBase64=function(e){var t=(0,o.decode)(e),n=Array.isArray(t)?(0,o.polyUint32Array)(t):new Uint32Array(t),r=Array.isArray(t)?(0,o.polyUint16Array)(t):new Uint16Array(t),i=r.slice(12,n[4]/2),a=2===n[5]?r.slice((24+n[4])/2):n.slice(Math.ceil((24+n[4])/4));return new b(n[0],n[1],n[2],n[3],i,a)},t.Trie=function(){function e(t,n,i,o,a,s){r(this,e),this.initialValue=t,this.errorValue=n,this.highStart=i,this.highValueIndex=o,this.index=a,this.data=s}return i(e,[{key:"get",value:function(e){var t=void 0;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>a],t=(t<<u)+(e&d),this.data[t];if(e<=65535)return t=this.index[c+(e-55296>>a)],t=(t<<u)+(e&d),this.data[t];if(e<this.highStart)return t=_-v+(e>>s),t=this.index[t],t+=e>>a&y,t=this.index[t],t=(t<<u)+(e&d),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue}}]),e}())},function(e,t,n){"use strict";e.exports="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(238),o=function e(t,n,o){r(this,e),this.type=i.PATH.CIRCLE,this.x=t,this.y=n,this.radius=o};t.default=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(144),s=(n(515),n(911)),u=n(241),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(200),h=n(321),d=function(){function e(t,n){r(this,e),this.target=t,this.options=n,t.render(n)}return o(e,[{key:"renderNode",value:function(e){e.isVisible()&&(this.renderNodeBackgroundAndBorders(e),this.renderNodeContent(e))}},{key:"renderNodeContent",value:function(e){var t=this,n=function(){if(e.childNodes.length&&e.childNodes.forEach(function(n){if(n instanceof l.default){var r=n.parent.style;t.target.renderTextNode(n.bounds,r.color,r.font,r.textDecoration,r.textShadow)}else t.target.drawShape(n,e.style.color)}),e.image){var n=t.options.imageStore.get(e.image);if(n){var r=(0,a.calculateContentBox)(e.bounds,e.style.padding,e.style.border),i="number"==typeof n.width&&n.width>0?n.width:r.width,o="number"==typeof n.height&&n.height>0?n.height:r.height;i>0&&o>0&&t.target.clip([(0,a.calculatePaddingBoxPath)(e.curvedBounds)],function(){t.target.drawImage(n,new a.Bounds(0,0,i,o),r)})}}},r=e.getClipPaths();r.length?this.target.clip(r,n):n()}},{key:"renderNodeBackgroundAndBorders",value:function(e){var t=this,n=!e.style.background.backgroundColor.isTransparent()||e.style.background.backgroundImage.length,r=e.style.border.some(function(e){return e.borderStyle!==h.BORDER_STYLE.NONE&&!e.borderColor.isTransparent()}),i=function(){var r=(0,c.calculateBackgroungPaintingArea)(e.curvedBounds,e.style.background.backgroundClip);n&&t.target.clip([r],function(){e.style.background.backgroundColor.isTransparent()||t.target.fill(e.style.background.backgroundColor),t.renderBackgroundImage(e)}),e.style.border.forEach(function(n,r){n.borderStyle===h.BORDER_STYLE.NONE||n.borderColor.isTransparent()||t.renderBorder(n,r,e.curvedBounds)})};if(n||r){var o=e.parent?e.parent.getClipPaths():[];o.length?this.target.clip(o,i):i()}}},{key:"renderBackgroundImage",value:function(e){var t=this;e.style.background.backgroundImage.slice(0).reverse().forEach(function(n){"url"===n.source.method&&n.source.args.length?t.renderBackgroundRepeat(e,n):/gradient/i.test(n.source.method)&&t.renderBackgroundGradient(e,n)})}},{key:"renderBackgroundRepeat",value:function(e,t){var n=this.options.imageStore.get(t.source.args[0]);if(n){var r=(0,c.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),i=(0,c.calculateBackgroundSize)(t,n,r),o=(0,c.calculateBackgroundPosition)(t.position,i,r),a=(0,c.calculateBackgroundRepeatPath)(t,o,i,r,e.bounds),s=Math.round(r.left+o.x),u=Math.round(r.top+o.y);this.target.renderRepeat(a,n,i,s,u)}}},{key:"renderBackgroundGradient",value:function(e,t){var n=(0,c.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),r=(0,c.calculateGradientBackgroundSize)(t,n),i=(0,c.calculateBackgroundPosition)(t.position,r,n),o=new a.Bounds(Math.round(n.left+i.x),Math.round(n.top+i.y),r.width,r.height),u=(0,s.parseGradient)(e,t.source,o);if(u)switch(u.type){case s.GRADIENT_TYPE.LINEAR_GRADIENT:this.target.renderLinearGradient(o,u);break;case s.GRADIENT_TYPE.RADIAL_GRADIENT:this.target.renderRadialGradient(o,u)}}},{key:"renderBorder",value:function(e,t,n){this.target.drawShape((0,a.parsePathForBorder)(n,t),e.borderColor)}},{key:"renderStack",value:function(e){var t=this;if(e.container.isVisible()){var n=e.getOpacity();n!==this._opacity&&(this.target.setOpacity(e.getOpacity()),this._opacity=n);var r=e.container.style.transform;null!==r?this.target.transform(e.container.bounds.left+r.transformOrigin[0].value,e.container.bounds.top+r.transformOrigin[1].value,r.transform,function(){return t.renderStackContent(e)}):this.renderStackContent(e)}}},{key:"renderStackContent",value:function(e){var t=p(e),n=i(t,5),r=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=f(e),c=i(l,2),h=c[0],d=c[1];this.renderNodeBackgroundAndBorders(e.container),r.sort(m).forEach(this.renderStack,this),this.renderNodeContent(e.container),d.forEach(this.renderNode,this),s.forEach(this.renderStack,this),u.forEach(this.renderStack,this),h.forEach(this.renderNode,this),o.forEach(this.renderStack,this),a.sort(m).forEach(this.renderStack,this)}},{key:"render",value:function(e){this.options.backgroundColor&&this.target.rectangle(this.options.x,this.options.y,this.options.width,this.options.height,this.options.backgroundColor),this.renderStack(e);var t=this.target.getTarget();return t}}]),e}();t.default=d;var f=function(e){for(var t=[],n=[],r=e.children.length,i=0;i<r;i++){var o=e.children[i];o.isInlineLevel()?t.push(o):n.push(o)}return[t,n]},p=function(e){for(var t=[],n=[],r=[],i=[],o=[],a=e.contexts.length,s=0;s<a;s++){var u=e.contexts[s];u.container.isPositioned()||u.container.style.opacity<1||u.container.isTransformed()?u.container.style.zIndex.order<0?t.push(u):u.container.style.zIndex.order>0?r.push(u):n.push(u):u.container.isFloating()?i.push(u):o.push(u)}return[t,n,r,i,o]},m=function(e,t){return e.container.style.zIndex.order>t.container.style.zIndex.order?1:e.container.style.zIndex.order<t.container.style.zIndex.order?-1:e.container.index>t.container.index?1:-1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.transformWebkitRadialGradientArgs=t.parseGradient=t.RadialGradient=t.LinearGradient=t.RADIAL_GRADIENT_SHAPE=t.GRADIENT_TYPE=void 0;var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(167),s=(r(a),n(912)),u=n(122),l=r(u),c=n(143),h=r(c),d=n(168),f=/^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i,p=/^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i,m=/(px)|%|( 0)$/i,g=/^(from|to|color-stop)\((?:([\d.]+)(%)?,\s*)?(.+?)\)$/i,_=/^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*(?:(left|center|right)|([\d.]+)(px|r?em|%))\s+(?:(top|center|bottom)|([\d.]+)(px|r?em|%)))?(?:\s|$)/i,v=t.GRADIENT_TYPE={LINEAR_GRADIENT:0,RADIAL_GRADIENT:1},A=t.RADIAL_GRADIENT_SHAPE={CIRCLE:0,ELLIPSE:1},y={left:new h.default("0%"),top:new h.default("0%"),center:new h.default("50%"),right:new h.default("100%"),bottom:new h.default("100%")},b=t.LinearGradient=function e(t,n){i(this,e),this.type=v.LINEAR_GRADIENT,this.colorStops=t,this.direction=n},w=t.RadialGradient=function e(t,n,r,o){i(this,e),this.type=v.RADIAL_GRADIENT,this.colorStops=t,this.shape=n,this.center=r,this.radius=o},x=(t.parseGradient=function(e,t,n){var r=t.args,i=t.method,o=t.prefix;return"linear-gradient"===i?E(r,n,!!o):"gradient"===i&&"linear"===r[0]?E(["to bottom"].concat(B(r.slice(3))),n,!!o):"radial-gradient"===i?C(e,"-webkit-"===o?D(r):r,n):"gradient"===i&&"radial"===r[0]?C(e,B(D(r.slice(1))),n):void 0},function(e,t,n){for(var r=[],i=t;i<e.length;i++){var o=e[i],a=m.test(o),s=o.lastIndexOf(" "),u=new l.default(a?o.substring(0,s):o),c=a?new h.default(o.substring(s+1)):i===t?new h.default("0%"):i===e.length-1?new h.default("100%"):null;r.push({color:u,stop:c})}for(var d=r.map(function(e){var t=e.color,r=e.stop;return{color:t,stop:0===n?0:r?r.getAbsoluteValue(n)/n:null}}),f=d[0].stop,p=0;p<d.length;p++)if(null!==f){var g=d[p].stop;if(null===g){for(var _=p;null===d[_].stop;)_++;for(var v=_-p+1,A=d[_].stop,y=(A-f)/v;p<_;p++)f=d[p].stop=f+y}else f=g}return d}),E=function(e,t,n){var r=(0,s.parseAngle)(e[0]),i=f.test(e[0]),o=i||null!==r||p.test(e[0]),a=o?null!==r?S(n?r-.5*Math.PI:r,t):i?I(e[0],t):M(e[0],t):S(Math.PI,t),u=o?1:0,l=Math.min((0,d.distance)(Math.abs(a.x0)+Math.abs(a.x1),Math.abs(a.y0)+Math.abs(a.y1)),2*t.width,2*t.height);return new b(x(e,u,l),a)},C=function(e,t,n){var r=t[0].match(_),i=r&&("circle"===r[1]||void 0!==r[3]&&void 0===r[5])?A.CIRCLE:A.ELLIPSE,o={},a={};r&&(void 0!==r[3]&&(o.x=(0,c.calculateLengthFromValueWithUnit)(e,r[3],r[4]).getAbsoluteValue(n.width)),void 0!==r[5]&&(o.y=(0,c.calculateLengthFromValueWithUnit)(e,r[5],r[6]).getAbsoluteValue(n.height)),r[7]?a.x=y[r[7].toLowerCase()]:void 0!==r[8]&&(a.x=(0,c.calculateLengthFromValueWithUnit)(e,r[8],r[9])),r[10]?a.y=y[r[10].toLowerCase()]:void 0!==r[11]&&(a.y=(0,c.calculateLengthFromValueWithUnit)(e,r[11],r[12])));var s={x:void 0===a.x?n.width/2:a.x.getAbsoluteValue(n.width),y:void 0===a.y?n.height/2:a.y.getAbsoluteValue(n.height)},u=P(r&&r[2]||"farthest-corner",i,s,o,n);return new w(x(t,r?1:0,Math.min(u.x,u.y)),i,s,u)},S=function(e,t){var n=t.width,r=t.height,i=.5*n,o=.5*r,a=Math.abs(n*Math.sin(e))+Math.abs(r*Math.cos(e)),s=a/2,u=i+Math.sin(e)*s,l=o-Math.cos(e)*s;return{x0:u,x1:n-u,y0:l,y1:r-l}},T=function(e){return Math.acos(e.width/2/((0,d.distance)(e.width,e.height)/2))},I=function(e,t){switch(e){case"bottom":case"to top":return S(0,t);case"left":case"to right":return S(Math.PI/2,t);case"right":case"to left":return S(3*Math.PI/2,t);case"top right":case"right top":case"to bottom left":case"to left bottom":return S(Math.PI+T(t),t);case"top left":case"left top":case"to bottom right":case"to right bottom":return S(Math.PI-T(t),t);case"bottom left":case"left bottom":case"to top right":case"to right top":return S(T(t),t);case"bottom right":case"right bottom":case"to top left":case"to left top":return S(2*Math.PI-T(t),t);case"top":case"to bottom":default:return S(Math.PI,t)}},M=function(e,t){var n=e.split(" ").map(parseFloat),r=o(n,2),i=r[0],a=r[1],s=i/100*t.width/(a/100*t.height);return S(Math.atan(isNaN(s)?1:s)+Math.PI/2,t)},O=function(e,t,n,r){return[{x:0,y:0},{x:0,y:e.height},{x:e.width,y:0},{x:e.width,y:e.height}].reduce(function(e,i){var o=(0,d.distance)(t-i.x,n-i.y);return(r?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:i,optimumDistance:o}:e},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},P=function(e,t,n,r,i){var o=n.x,a=n.y,s=0,u=0;switch(e){case"closest-side":t===A.CIRCLE?s=u=Math.min(Math.abs(o),Math.abs(o-i.width),Math.abs(a),Math.abs(a-i.height)):t===A.ELLIPSE&&(s=Math.min(Math.abs(o),Math.abs(o-i.width)),u=Math.min(Math.abs(a),Math.abs(a-i.height)));break;case"closest-corner":if(t===A.CIRCLE)s=u=Math.min((0,d.distance)(o,a),(0,d.distance)(o,a-i.height),(0,d.distance)(o-i.width,a),(0,d.distance)(o-i.width,a-i.height));else if(t===A.ELLIPSE){var l=Math.min(Math.abs(a),Math.abs(a-i.height))/Math.min(Math.abs(o),Math.abs(o-i.width)),c=O(i,o,a,!0);s=(0,d.distance)(c.x-o,(c.y-a)/l),u=l*s}break;case"farthest-side":t===A.CIRCLE?s=u=Math.max(Math.abs(o),Math.abs(o-i.width),Math.abs(a),Math.abs(a-i.height)):t===A.ELLIPSE&&(s=Math.max(Math.abs(o),Math.abs(o-i.width)),u=Math.max(Math.abs(a),Math.abs(a-i.height)));break;case"farthest-corner":if(t===A.CIRCLE)s=u=Math.max((0,d.distance)(o,a),(0,d.distance)(o,a-i.height),(0,d.distance)(o-i.width,a),(0,d.distance)(o-i.width,a-i.height));else if(t===A.ELLIPSE){var h=Math.max(Math.abs(a),Math.abs(a-i.height))/Math.max(Math.abs(o),Math.abs(o-i.width)),f=O(i,o,a,!1);s=(0,d.distance)(f.x-o,(f.y-a)/h),u=h*s}break;default:s=r.x||0,u=void 0!==r.y?r.y:s}return{x:s,y:u}},D=t.transformWebkitRadialGradientArgs=function(e){var t="",n="",r="",i="",o=0,a=/^(left|center|right|\d+(?:px|r?em|%)?)(?:\s+(top|center|bottom|\d+(?:px|r?em|%)?))?$/i,s=/^(circle|ellipse)?\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i,u=/^\d+(px|r?em|%)?(?:\s+\d+(px|r?em|%)?)?$/i,l=e[o].match(a);l&&o++;var c=e[o].match(s);c&&(t=c[1]||"",r=c[2]||"","contain"===r?r="closest-side":"cover"===r&&(r="farthest-corner"),o++);var h=e[o].match(u);h&&o++;var d=e[o].match(a);d&&o++;var f=e[o].match(u);f&&o++;var p=d||l;p&&p[1]&&(i=p[1]+(/^\d+$/.test(p[1])?"px":""),p[2]&&(i+=" "+p[2]+(/^\d+$/.test(p[2])?"px":"")));var m=f||h;return m&&(n=m[0],m[1]||(n+="px")),!i||t||n||r||(n=i,i=""),i&&(i="at "+i),[[t,r,n,i].filter(function(e){return!!e}).join(" ")].concat(e.slice(o))},B=function(e){return e.map(function(e){return e.match(g)}).map(function(t,n){if(!t)return e[n];switch(t[1]){case"from":return t[4]+" 0%";case"to":return t[4]+" 100%";case"color-stop":return"%"===t[3]?t[4]+" "+t[2]:t[4]+" "+100*parseFloat(t[2])+"%"}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;t.parseAngle=function(e){var t=e.match(r);if(t){var n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"deg":return Math.PI*n/180;case"grad":return Math.PI/200*n;case"rad":return n;case"turn":return 2*Math.PI*n}}return null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.cloneWindow=t.DocumentCloner=void 0;var o=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(144),u=n(516),l=n(914),c=r(l),h=n(168),d=n(200),f=n(505),p=r(f),m=n(915),g=t.DocumentCloner=function(){function e(t,n,r,o,a){i(this,e),this.referenceElement=t,this.scrolledElements=[],this.copyStyles=o,this.inlineImages=o,this.logger=r,this.options=n,this.renderer=a,this.resourceLoader=new c.default(n,r,window),this.pseudoContentData={counters:{},quoteDepth:0},this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return a(e,[{key:"inlineAllImages",value:function(e){var t=this;if(this.inlineImages&&e){var n=e.style;Promise.all((0,d.parseBackgroundImage)(n.backgroundImage).map(function(e){return"url"===e.method?t.resourceLoader.inlineImage(e.args[0]).then(function(e){return e&&"string"==typeof e.src?'url("'+e.src+'")':"none"}).catch(function(e){}):Promise.resolve(""+e.prefix+e.method+"("+e.args.join(",")+")")})).then(function(e){e.length>1&&(n.backgroundColor=""),n.backgroundImage=e.join(",")}),e instanceof HTMLImageElement&&this.resourceLoader.inlineImage(e.src).then(function(t){if(t&&e instanceof HTMLImageElement&&e.parentNode){var n=e.parentNode,r=(0,h.copyCSSStyles)(e.style,t.cloneNode(!1));n.replaceChild(r,e)}}).catch(function(e){})}}},{key:"inlineFonts",value:function(e){var t=this;return Promise.all(Array.from(e.styleSheets).map(function(t){return t.href?fetch(t.href).then(function(e){return e.text()}).then(function(e){return v(e,t.href)}).catch(function(e){return[]}):_(t,e)})).then(function(e){return e.reduce(function(e,t){return e.concat(t)},[])}).then(function(e){return Promise.all(e.map(function(e){return fetch(e.formats[0].src).then(function(e){return e.blob()}).then(function(e){return new Promise(function(t,n){var r=new FileReader;r.onerror=n,r.onload=function(){var e=r.result;t(e)},r.readAsDataURL(e)})}).then(function(t){return e.fontFace.setProperty("src",'url("'+t+'")'),"@font-face {"+e.fontFace.cssText+" "})}))}).then(function(n){var r=e.createElement("style");r.textContent=n.join("\n"),t.documentElement.appendChild(r)})}},{key:"createElementClone",value:function(e){var t=this;if(this.copyStyles&&e instanceof HTMLCanvasElement){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(e){}}if(e instanceof HTMLIFrameElement){var r=e.cloneNode(!1),i=M();r.setAttribute("data-html2canvas-internal-iframe-key",i);var o=(0,s.parseBounds)(e,0,0),a=o.width,u=o.height;return this.resourceLoader.cache[i]=P(e,this.options).then(function(e){return t.renderer(e,{async:t.options.async,allowTaint:t.options.allowTaint,backgroundColor:"#ffffff",canvas:null,imageTimeout:t.options.imageTimeout,logging:t.options.logging,proxy:t.options.proxy,removeContainer:t.options.removeContainer,scale:t.options.scale,foreignObjectRendering:t.options.foreignObjectRendering,useCORS:t.options.useCORS,target:new p.default,width:a,height:u,x:0,y:0,windowWidth:e.ownerDocument.defaultView.innerWidth,windowHeight:e.ownerDocument.defaultView.innerHeight,scrollX:e.ownerDocument.defaultView.pageXOffset,scrollY:e.ownerDocument.defaultView.pageYOffset},t.logger.child(i))}).then(function(t){return new Promise(function(n,i){var o=document.createElement("img");o.onload=function(){return n(t)},o.onerror=i,o.src=t.toDataURL(),r.parentNode&&r.parentNode.replaceChild((0,h.copyCSSStyles)(e.ownerDocument.defaultView.getComputedStyle(e),o),r)})}),r}if(e instanceof HTMLStyleElement&&e.sheet&&e.sheet.cssRules){var l=[].slice.call(e.sheet.cssRules,0).reduce(function(e,n){try{return n&&n.cssText?e+n.cssText:e}catch(r){return t.logger.log("Unable to access cssText property",n.name),e}},""),c=e.cloneNode(!1);return c.textContent=l,c}return e.cloneNode(!1)}},{key:"cloneNode",value:function(e){var t=e.nodeType===Node.TEXT_NODE?document.createTextNode(e.nodeValue):this.createElementClone(e),n=e.ownerDocument.defaultView,r=e instanceof n.HTMLElement?n.getComputedStyle(e):null,i=e instanceof n.HTMLElement?n.getComputedStyle(e,":before"):null,o=e instanceof n.HTMLElement?n.getComputedStyle(e,":after"):null;this.referenceElement===e&&t instanceof n.HTMLElement&&(this.clonedReferenceElement=t),t instanceof n.HTMLBodyElement&&S(t);for(var a=(0,m.parseCounterReset)(r,this.pseudoContentData),s=(0,m.resolvePseudoContent)(e,i,this.pseudoContentData),u=e.firstChild;u;u=u.nextSibling)u.nodeType===Node.ELEMENT_NODE&&("SCRIPT"===u.nodeName||u.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(u))||this.copyStyles&&"STYLE"===u.nodeName||t.appendChild(this.cloneNode(u));var l=(0,m.resolvePseudoContent)(e,o,this.pseudoContentData);if((0,m.popCounters)(a,this.pseudoContentData),e instanceof n.HTMLElement&&t instanceof n.HTMLElement)switch(i&&this.inlineAllImages(b(e,t,i,s,w)),o&&this.inlineAllImages(b(e,t,o,l,x)),!r||!this.copyStyles||e instanceof HTMLIFrameElement||(0,h.copyCSSStyles)(r,t),this.inlineAllImages(t),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([t,e.scrollLeft,e.scrollTop]),e.nodeName){case"CANVAS":this.copyStyles||y(e,t);break;case"TEXTAREA":case"SELECT":t.value=e.value}return t}}]),e}(),_=function(e,t){return(e.cssRules?Array.from(e.cssRules):[]).filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).map(function(e){for(var n=(0,d.parseBackgroundImage)(e.style.getPropertyValue("src")),r=[],i=0;i<n.length;i++)if("url"===n[i].method&&n[i+1]&&"format"===n[i+1].method){var o=t.createElement("a");o.href=n[i].args[0],t.body&&t.body.appendChild(o);var a={src:o.href,format:n[i+1].args[0]};r.push(a)}return{formats:r.filter(function(e){return/^woff/i.test(e.format)}),fontFace:e.style}}).filter(function(e){return e.formats.length})},v=function(e,t){var n=document.implementation.createHTMLDocument(""),r=document.createElement("base");r.href=t;var i=document.createElement("style");return i.textContent=e,n.head&&n.head.appendChild(r),n.body&&n.body.appendChild(i),i.sheet?_(i.sheet,n):[]},A=function(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)},y=function(e,t){try{if(t){t.width=e.width,t.height=e.height;var n=e.getContext("2d"),r=t.getContext("2d");n?r.putImageData(n.getImageData(0,0,e.width,e.height),0,0):r.drawImage(e,0,0)}}catch(e){}},b=function(e,t,n,r,i){if(n&&n.content&&"none"!==n.content&&"-moz-alt-content"!==n.content&&"none"!==n.display){var o=t.ownerDocument.createElement("html2canvaspseudoelement");if((0,h.copyCSSStyles)(n,o),r)for(var a=r.length,s=0;s<a;s++){var u=r[s];switch(u.type){case m.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:var l=t.ownerDocument.createElement("img");l.src=(0,d.parseBackgroundImage)("url("+u.value+")")[0].args[0],l.style.opacity="1",o.appendChild(l);break;case m.PSEUDO_CONTENT_ITEM_TYPE.TEXT:o.appendChild(t.ownerDocument.createTextNode(u.value))}}return o.className=E+" "+C,t.className+=i===w?" "+E:" "+C,i===w?t.insertBefore(o,t.firstChild):t.appendChild(o),o}},w=":before",x=":after",E="___html2canvas___pseudoelement_before",C="___html2canvas___pseudoelement_after",S=function(e){T(e,"."+E+w+'{\n    content: "" !important;\n    display: none !important;\n}\n         .'+C+x+'{\n    content: "" !important;\n    display: none !important;\n}')},T=function(e,t){var n=e.ownerDocument.createElement("style");n.innerHTML=t,e.appendChild(n)},I=function(e){var t=o(e,3),n=t[0],r=t[1],i=t[2];n.scrollLeft=r,n.scrollTop=i},M=function(){return Math.ceil(Date.now()+1e7*Math.random()).toString(16)},O=/^data:text\/(.+);(base64)?,(.*)$/i,P=function(e,t){try{return Promise.resolve(e.contentWindow.document.documentElement)}catch(n){return t.proxy?(0,u.Proxy)(e.src,t).then(function(e){var t=e.match(O);return t?"base64"===t[2]?window.atob(decodeURIComponent(t[3])):decodeURIComponent(t[3]):Promise.reject()}).then(function(t){return D(e.ownerDocument,(0,s.parseBounds)(e,0,0)).then(function(e){var n=e.contentWindow,r=n.document;r.open(),r.write(t);var i=B(e).then(function(){return r.documentElement});return r.close(),i})}):Promise.reject()}},D=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width="1",n.height="1",n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),e.body?(e.body.appendChild(n),Promise.resolve(n)):Promise.reject("")},B=function(e){var t=e.contentWindow,n=t.document;return new Promise(function(r,i){t.onload=e.onload=n.onreadystatechange=function(){var t=setInterval(function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(t),r(e))},50)}})},L=(t.cloneWindow=function(e,t,n,r,i,o){var a=new g(n,r,i,!1,o),s=e.defaultView.pageXOffset,u=e.defaultView.pageYOffset;return D(e,t).then(function(i){var o=i.contentWindow,l=o.document,c=B(i).then(function(){i.width=t.width.toString(),i.height=t.height.toString(),a.scrolledElements.forEach(I),o.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||o.scrollY===t.top&&o.scrollX===t.left||(l.documentElement.style.top=-t.top+"px",l.documentElement.style.left=-t.left+"px",l.documentElement.style.position="absolute");var n=Promise.resolve([i,a.clonedReferenceElement,a.resourceLoader]),s=r.onclone;return a.clonedReferenceElement instanceof o.HTMLElement||a.clonedReferenceElement instanceof e.defaultView.HTMLElement||a.clonedReferenceElement instanceof HTMLElement?"function"==typeof s?Promise.resolve().then(function(){return s(l)}).then(function(){return n}):n:Promise.reject("")});return l.open(),l.write(L(document.doctype)+"<html></html>"),A(n.ownerDocument,s,u),l.replaceChild(l.adoptNode(a.documentElement),l.documentElement),l.close(),c})},function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceStore=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(242),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(516),u=function(){function e(t,n,i){r(this,e),this.options=t,this._window=i,this.origin=this.getOrigin(i.location.href),this.cache={},this.logger=n,this._index=0}return i(e,[{key:"loadImage",value:function(e){var t=this;if(this.hasResourceInCache(e))return e;if(m(e))return this.cache[e]=_(e,this.options.imageTimeout||0),e;if(!g(e)||a.default.SUPPORT_SVG_DRAWING){if(!0===this.options.allowTaint||f(e)||this.isSameOrigin(e))return this.addImage(e,e,!1);if(!this.isSameOrigin(e)){if("string"==typeof this.options.proxy)return this.cache[e]=(0,s.Proxy)(e,this.options).then(function(e){return _(e,t.options.imageTimeout||0)}),e;if(!0===this.options.useCORS&&a.default.SUPPORT_CORS_IMAGES)return this.addImage(e,e,!0)}}}},{key:"inlineImage",value:function(e){var t=this;return f(e)?_(e,this.options.imageTimeout||0):this.hasResourceInCache(e)?this.cache[e]:this.isSameOrigin(e)||"string"!=typeof this.options.proxy?this.xhrImage(e):this.cache[e]=(0,s.Proxy)(e,this.options).then(function(e){return _(e,t.options.imageTimeout||0)})}},{key:"xhrImage",value:function(e){var t=this;return this.cache[e]=new Promise(function(n,r){var i=new XMLHttpRequest;if(i.onreadystatechange=function(){if(4===i.readyState)if(200!==i.status)r("Failed to fetch image "+e.substring(0,256)+" with status code "+i.status);else{var t=new FileReader;t.addEventListener("load",function(){var e=t.result;n(e)},!1),t.addEventListener("error",function(e){return r(e)},!1),t.readAsDataURL(i.response)}},i.responseType="blob",t.options.imageTimeout){var o=t.options.imageTimeout;i.timeout=o,i.ontimeout=function(){return r("")}}i.open("GET",e,!0),i.send()}).then(function(e){return _(e,t.options.imageTimeout||0)}),this.cache[e]}},{key:"loadCanvas",value:function(e){var t=String(this._index++);return this.cache[t]=Promise.resolve(e),t}},{key:"hasResourceInCache",value:function(e){return void 0!==this.cache[e]}},{key:"addImage",value:function(e,t,n){var r=this,i=function(e){return new Promise(function(i,o){var a=new Image;if(a.onload=function(){return i(a)},e&&!n||(a.crossOrigin="anonymous"),a.onerror=o,a.src=t,!0===a.complete&&setTimeout(function(){i(a)},500),r.options.imageTimeout){var s=r.options.imageTimeout;setTimeout(function(){return o("")},s)}})};return this.cache[e]=p(t)&&!g(t)?a.default.SUPPORT_BASE64_DRAWING(t).then(i):i(!0),e}},{key:"isSameOrigin",value:function(e){return this.getOrigin(e)===this.origin}},{key:"getOrigin",value:function(e){var t=this._link||(this._link=this._window.document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port}},{key:"ready",value:function(){var e=this,t=Object.keys(this.cache),n=t.map(function(t){return e.cache[t].catch(function(e){return null})});return Promise.all(n).then(function(e){return new l(t,e)})}}]),e}();t.default=u;var l=t.ResourceStore=function(){function e(t,n){r(this,e),this._keys=t,this._resources=n}return i(e,[{key:"get",value:function(e){var t=this._keys.indexOf(e);return-1===t?null:this._resources[t]}}]),e}(),c=/^data:image\/svg\+xml/i,h=/^data:image\/.*;base64,/i,d=/^data:image\/.*/i,f=function(e){return d.test(e)},p=function(e){return h.test(e)},m=function(e){return"blob"===e.substr(0,4)},g=function(e){return"svg"===e.substr(-3).toLowerCase()||c.test(e)},_=function(e,t){return new Promise(function(n,r){var i=new Image;i.onload=function(){return n(i)},i.onerror=r,i.src=e,!0===i.complete&&setTimeout(function(){n(i)},500),t&&setTimeout(function(){return r("")},t)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseContent=t.resolvePseudoContent=t.popCounters=t.parseCounterReset=t.TOKEN_TYPE=t.PSEUDO_CONTENT_ITEM_TYPE=void 0;var r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(323),o=n(240),a=t.PSEUDO_CONTENT_ITEM_TYPE={TEXT:0,IMAGE:1},s=t.TOKEN_TYPE={STRING:0,ATTRIBUTE:1,URL:2,COUNTER:3,COUNTERS:4,OPENQUOTE:5,CLOSEQUOTE:6},u=(t.parseCounterReset=function(e,t){if(!e||!e.counterReset||"none"===e.counterReset)return[];for(var n=[],i=e.counterReset.split(/\s*,\s*/),o=i.length,a=0;a<o;a++){var s=i[a].split(/\s+/),u=r(s,2),l=u[0],c=u[1];n.push(l);var h=t.counters[l];h||(h=t.counters[l]=[]),h.push(parseInt(c||0,10))}return n},t.popCounters=function(e,t){for(var n=e.length,r=0;r<n;r++)t.counters[e[r]].pop()},t.resolvePseudoContent=function(e,t,n){if(!t||!t.content||"none"===t.content||"-moz-alt-content"===t.content||"none"===t.display)return null;var i=u(t.content),o=i.length,l=[],d="",f=t.counterIncrement;if(f&&"none"!==f){var p=f.split(/\s+/),m=r(p,2),g=m[0],_=m[1],v=n.counters[g];v&&(v[v.length-1]+=void 0===_?1:parseInt(_,10))}for(var A=0;A<o;A++){var y=i[A];switch(y.type){case s.STRING:d+=y.value||"";break;case s.ATTRIBUTE:e instanceof HTMLElement&&y.value&&(d+=e.getAttribute(y.value)||"");break;case s.COUNTER:var b=n.counters[y.name||""];b&&(d+=h([b[b.length-1]],"",y.format));break;case s.COUNTERS:var w=n.counters[y.name||""];w&&(d+=h(w,y.glue,y.format));break;case s.OPENQUOTE:d+=c(t,!0,n.quoteDepth),n.quoteDepth++;break;case s.CLOSEQUOTE:n.quoteDepth--,d+=c(t,!1,n.quoteDepth);break;case s.URL:d&&(l.push({type:a.TEXT,value:d}),d=""),l.push({type:a.IMAGE,value:y.value||""})}}return d&&l.push({type:a.TEXT,value:d}),l},t.parseContent=function(e,t){if(t&&t[e])return t[e];for(var n=[],r=e.length,i=!1,o=!1,a=!1,u="",c="",h=[],d=0;d<r;d++){var f=e.charAt(d);switch(f){case"'":case'"':o?u+=f:(i=!i,a||i||(n.push({type:s.STRING,value:u}),u=""));break;case"\\":o?(u+=f,o=!1):o=!0;break;case"(":i?u+=f:(a=!0,c=u,u="",h=[]);break;case")":if(i)u+=f;else if(a){switch(u&&h.push(u),c){case"attr":h.length>0&&n.push({type:s.ATTRIBUTE,value:h[0]});break;case"counter":if(h.length>0){var p={type:s.COUNTER,name:h[0]};h.length>1&&(p.format=h[1]),n.push(p)}break;case"counters":if(h.length>0){var m={type:s.COUNTERS,name:h[0]};h.length>1&&(m.glue=h[1]),h.length>2&&(m.format=h[2]),n.push(m)}break;case"url":h.length>0&&n.push({type:s.URL,value:h[0]})}a=!1,u=""}break;case",":i?u+=f:a&&(h.push(u),u="");break;case" ":case"\t":i?u+=f:u&&(l(n,u),u="");break;default:u+=f}"\\"!==f&&(o=!1)}return u&&l(n,u),t&&(t[e]=n),n}),l=function(e,t){switch(t){case"open-quote":e.push({type:s.OPENQUOTE});break;case"close-quote":e.push({type:s.CLOSEQUOTE})}},c=function(e,t,n){var r=e.quotes?e.quotes.split(/\s+/):["'\"'","'\"'"],i=2*n;return i>=r.length&&(i=r.length-2),t||++i,r[i].replace(/^["']|["']$/g,"")},h=function(e,t,n){for(var r=e.length,a="",s=0;s<r;s++)s>0&&(a+=t||""),a+=(0,i.createCounterText)(e[s],(0,o.parseListStyleType)(n||"decimal"),!1);return a}},function(e,t,n){"use strict";function r(e){return e.element.outerHTML}var i=n(142),o=n(17),a=n(24),s=n(15),u=n(9),l=n(0),c=n(119),h=n(63),d=n(498),f=n(517),p=new a,m=new a,g=new o,_=new o,v=i.TileLayer.extend({initialize:function(e,t){this.imageryProvider=e,this.tileSize=256,this.errorEvent=new s,this.initialized=!1,this._usable=!1,this._delayedUpdate=void 0,this._zSubtract=0,this._previousCredits=[],this._requestImageError=void 0,i.TileLayer.prototype.initialize.call(this,void 0,t)},_tileOnError:function(e,t,n){},createTile:function(e,t){function n(a){if(a)return void a.then(function(){n()}).otherwise(function(e){i.TileLayer.prototype._tileOnError.call(o,t,r,e)});r.src=o.getTileUrl(e)}var r=i.TileLayer.prototype.createTile.call(this,e,t),o=this;return i.DomEvent.on(r,"error",function(t){var r=o._getLevelFromZ(e),i="Failed to obtain image tile X: "+e.x+" Y: "+e.y+" Level: "+r+".";o._requestImageError=c.handleError(o._requestImageError,o.imageryProvider,o.imageryProvider.errorEvent,i,e.x,e.y,r,n,t)}),r},getTileUrl:function(e){var t=this._getLevelFromZ(e);return t<0?this.options.errorTileUrl:d(this.imageryProvider,e.x,e.y,t)},_getLevelFromZ:function(e){return e.z-this._zSubtract},_update:function(){var e=this;if(!this.imageryProvider.ready)return void(this._delayedUpdate||(this._delayedUpdate=setTimeout(function(){e._delayedUpdate=void 0,e._update()},100)));this.initialized||(this.initialized=!0,this._delayedUpdate&&(clearTimeout(this._delayedUpdate),this._delayedUpdate=void 0),this._delayedUpdate=setTimeout(function(){if(e._delayedUpdate=void 0,e._map){var t=e.imageryProvider.tilingScheme;if(!(t instanceof h))return void e.errorEvent.raiseEvent(e,"This dataset cannot be displayed on the 2D map because it does not support the Web Mercator (EPSG:3857) projection.");if(2===t.getNumberOfXTilesAtLevel(0)&&2===t.getNumberOfYTilesAtLevel(0))e._zSubtract=1;else if(1!==t.getNumberOfXTilesAtLevel(0)||1!==t.getNumberOfYTilesAtLevel(0))return void e.errorEvent.raiseEvent(e,"This dataset cannot be displayed on the 2D map because it uses an unusual tiling scheme that is not supported.");l(e.imageryProvider.maximumLevel)&&(e.options.maxNativeZoom=e.imageryProvider.maximumLevel),l(e.imageryProvider.credit)&&e._map.attributionControl.addAttribution(r(e.imageryProvider.credit)),e._usable=!0,e._update()}},100)),this._usable&&(i.TileLayer.prototype._update.apply(this,arguments),this._updateAttribution())},_updateAttribution:function(){if(this._usable&&l(this.imageryProvider.getTileCredits)){var e;for(e=0;e<this._previousCredits.length;++e)this._previousCredits[e]._shownInLeafletLastUpdate=this._previousCredits[e]._shownInLeaflet,this._previousCredits[e]._shownInLeaflet=!1;var t=this._map.getBounds(),n=this._map.getZoom()-this._zSubtract,i=this.imageryProvider.tilingScheme;p.longitude=Math.max(u.negativePiToPi(u.toRadians(t.getWest())),i.rectangle.west),p.latitude=Math.max(u.toRadians(t.getSouth()),i.rectangle.south);var o=i.positionToTileXY(p,n,g);l(o)||(o=g,o.x=0,o.y=i.getNumberOfYTilesAtLevel(n)-1),m.longitude=Math.min(u.negativePiToPi(u.toRadians(t.getEast())),i.rectangle.east),m.latitude=Math.min(u.toRadians(t.getNorth()),i.rectangle.north);var a=i.positionToTileXY(m,n,_);l(a)||(a=_,a.x=i.getNumberOfXTilesAtLevel(n)-1,a.y=0);for(var s=[],c=a.y;c<o.y;++c)for(e=o.x;e<a.x;++e){var h=this.imageryProvider.getTileCredits(e,c,n);if(l(h))for(var d=0;d<h.length;++d){var f=h[d];f._shownInLeaflet||(f._shownInLeaflet=!0,s.push(f),f._shownInLeafletLastUpdate||this._map.attributionControl.addAttribution(r(f)))}}for(e=0;e<this._previousCredits.length;++e)this._previousCredits[e]._shownInLeaflet||(this._map.attributionControl.removeAttribution(r(this._previousCredits[e])),this._previousCredits[e]._shownInLeafletLastUpdate=!1);this._previousCredits=s}},getFeaturePickingCoords:function(e,t,n){var r=new a(u.negativePiToPi(t),n,0),i=Math.round(e.getZoom());return f(function(){return this.imageryProvider.ready}.bind(this)).then(function(){var e=this.imageryProvider.tilingScheme,t=e.positionToTileXY(r,i);return{x:t.x,y:t.y,level:i}}.bind(this))},pickFeatures:function(e,t,n,r,i){return f(function(){return this.imageryProvider.ready}.bind(this)).then(function(){return this.imageryProvider.pickFeatures(e,t,n,r,i)}.bind(this))},onRemove:function(e){this._delayedUpdate&&(clearTimeout(this._delayedUpdate),this._delayedUpdate=void 0);for(var t=0;t<this._previousCredits.length;++t)this._previousCredits[t]._shownInLeafletLastUpdate=!1,this._previousCredits[t]._shownInLeaflet=!1,e.attributionControl.removeAttribution(r(this._previousCredits[t]));this._usable&&l(this.imageryProvider.credit)&&e.attributionControl.removeAttribution(r(this.imageryProvider.credit)),i.TileLayer.prototype.onRemove.apply(this,[e]),this._abortLoading()}});e.exports=v},function(e,t,n){e.exports.VectorTile=n(918),e.exports.VectorTileFeature=n(521),e.exports.VectorTileLayer=n(520)},function(e,t,n){"use strict";function r(e,t){this.layers=e.readFields(i,{},t)}function i(e,t,n){if(3===e){var r=new o(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}var o=n(520);e.exports=r},function(e,t,n){"use strict";function r(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function i(e,t,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return a(e,r,t);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return a(e,r,t);throw new Error("Expected varint not more than 10 bytes")}function o(e){return e.type===r.Bytes?e.readVarint()+e.pos:e.pos+1}function a(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function s(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),u(n,r,t),l(r,t)}function u(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}function l(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}function c(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function h(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function _(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function A(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function y(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function b(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function w(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function x(e,t,n){for(var r="",i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>n)break;var u,l,c;1===s?o<128&&(a=o):2===s?128==(192&(u=e[i+1]))&&(a=(31&o)<<6|63&u)<=127&&(a=null):3===s?(u=e[i+1],l=e[i+2],128==(192&u)&&128==(192&l)&&((a=(15&o)<<12|(63&u)<<6|63&l)<=2047||a>=55296&&a<=57343)&&(a=null)):4===s&&(u=e[i+1],l=e[i+2],c=e[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&((a=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)<=65535||a>=1114112)&&(a=null)),null===a?(a=65533,s=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),r+=String.fromCharCode(a),i+=s}return r}function E(e,t,n){return T.decode(e.subarray(t,n))}function C(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}e.exports=r;var S=n(456);r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var T="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=y(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=w(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=y(this.buf,this.pos)+4294967296*y(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=y(this.buf,this.pos)+4294967296*w(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=S.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=S.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return n=r[this.pos++],t=127&n,n<128?t:(n=r[this.pos++],t|=(127&n)<<7,n<128?t:(n=r[this.pos++],t|=(127&n)<<14,n<128?t:(n=r[this.pos++],t|=(127&n)<<21,n<128?t:(n=r[this.pos],t|=(15&n)<<28,i(t,e,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&T?E(this.buf,t,e):x(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==r.Bytes)return e.push(this.readVarint(t));var n=o(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==r.Bytes)return e.push(this.readSVarint());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==r.Bytes)return e.push(this.readBoolean());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==r.Bytes)return e.push(this.readFloat());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==r.Bytes)return e.push(this.readDouble());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed32());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed32());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed64());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed64());var t=o(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){if((e=+e||0)>268435455||e<0)return void s(e,this);this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=C(this.buf,e,this.pos);var n=this.pos-t;n>=128&&c(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),S.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),S.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&c(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,_,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,A,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},function(e,t,n){var r,i,o;/*!
 * URI.js - Mutating URLs
 * URI Template Support - http://tools.ietf.org/html/rfc6570
 *
 * Version: 1.19.2
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *
 */
!function(a,s){"use strict";"object"==typeof e&&e.exports?e.exports=s(n(33)):(i=[n(33)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o))}(0,function(e,t){"use strict";function n(e){return n._cache[e]?n._cache[e]:this instanceof n?(this.expression=e,n._cache[e]=this,this):new n(e)}function r(e){this.data=e,this.cache={}}var i=t&&t.URITemplate,o=Object.prototype.hasOwnProperty,a=n.prototype,s={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};return n._cache={},n.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g,n.VARIABLE_PATTERN=/^([^*:.](?:\.?[^*:.])*)((\*)|:(\d+))?$/,n.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_.]/,n.LITERAL_PATTERN=/[<>{}"`^| \\]/,n.expand=function(e,t,r){var i,o,a,u=s[e.operator],l=u.named?"Named":"Unnamed",c=e.variables,h=[];for(a=0;o=c[a];a++){if(i=t.get(o.name),0===i.type&&r&&r.strict)throw new Error('Missing expansion value for variable "'+o.name+'"');if(i.val.length){if(i.type>1&&o.maxlength)throw new Error('Invalid expression: Prefix modifier not applicable to variable "'+o.name+'"');h.push(n["expand"+l](i,u,o.explode,o.explode&&u.separator||",",o.maxlength,o.name))}else i.type&&h.push("")}return h.length?u.prefix+h.join(u.separator):""},n.expandNamed=function(t,n,r,i,o,a){var s,u,l,c="",h=n.encode,d=n.empty_name_separator,f=!t[h].length,p=2===t.type?"":e[h](a);for(u=0,l=t.val.length;u<l;u++)o?(s=e[h](t.val[u][1].substring(0,o)),2===t.type&&(p=e[h](t.val[u][0].substring(0,o)))):f?(s=e[h](t.val[u][1]),2===t.type?(p=e[h](t.val[u][0]),t[h].push([p,s])):t[h].push([void 0,s])):(s=t[h][u][1],2===t.type&&(p=t[h][u][0])),c&&(c+=i),r?c+=p+(d||s?"=":"")+s:(u||(c+=e[h](a)+(d||s?"=":"")),2===t.type&&(c+=p+","),c+=s);return c},n.expandUnnamed=function(t,n,r,i,o){var a,s,u,l,c="",h=n.encode,d=n.empty_name_separator,f=!t[h].length;for(u=0,l=t.val.length;u<l;u++)o?s=e[h](t.val[u][1].substring(0,o)):f?(s=e[h](t.val[u][1]),t[h].push([2===t.type?e[h](t.val[u][0]):void 0,s])):s=t[h][u][1],c&&(c+=i),2===t.type&&(a=o?e[h](t.val[u][0].substring(0,o)):t[h][u][0],c+=a,c+=r?d||s?"=":"":","),c+=s;return c},n.noConflict=function(){return t.URITemplate===n&&(t.URITemplate=i),n},a.expand=function(e,t){var i="";this.parts&&this.parts.length||this.parse(),e instanceof r||(e=new r(e));for(var o=0,a=this.parts.length;o<a;o++)i+="string"==typeof this.parts[o]?this.parts[o]:n.expand(this.parts[o],e,t);return i},a.parse=function(){var e,t,r,i=this.expression,o=n.EXPRESSION_PATTERN,a=n.VARIABLE_PATTERN,u=n.VARIABLE_NAME_PATTERN,l=n.LITERAL_PATTERN,c=[],h=0,d=function(e){if(e.match(l))throw new Error('Invalid Literal "'+e+'"');return e};for(o.lastIndex=0;;){if(null===(t=o.exec(i))){c.push(d(i.substring(h)));break}if(c.push(d(i.substring(h,t.index))),h=t.index+t[0].length,!s[t[1]])throw new Error('Unknown Operator "'+t[1]+'" in "'+t[0]+'"');if(!t[3])throw new Error('Unclosed Expression "'+t[0]+'"');e=t[2].split(",");for(var f=0,p=e.length;f<p;f++){if(null===(r=e[f].match(a)))throw new Error('Invalid Variable "'+e[f]+'" in "'+t[0]+'"');if(r[1].match(u))throw new Error('Invalid Variable Name "'+r[1]+'" in "'+t[0]+'"');e[f]={name:r[1],explode:!!r[3],maxlength:r[4]&&parseInt(r[4],10)}}if(!e.length)throw new Error('Expression Missing Variable(s) "'+t[0]+'"');c.push({expression:t[0],operator:t[1],variables:e})}return c.length||c.push(d(i)),this.parts=c,this},r.prototype.get=function(e){var t,n,r,i=this.data,a={type:0,val:[],encode:[],encodeReserved:[]};if(void 0!==this.cache[e])return this.cache[e];if(this.cache[e]=a,void 0===(r="[object Function]"===String(Object.prototype.toString.call(i))?i(e):"[object Function]"===String(Object.prototype.toString.call(i[e]))?i[e](e):i[e])||null===r)return a;if("[object Array]"===String(Object.prototype.toString.call(r))){for(t=0,n=r.length;t<n;t++)void 0!==r[t]&&null!==r[t]&&a.val.push([void 0,String(r[t])]);a.val.length&&(a.type=3)}else if("[object Object]"===String(Object.prototype.toString.call(r))){for(t in r)o.call(r,t)&&void 0!==r[t]&&null!==r[t]&&a.val.push([t,String(r[t])]);a.val.length&&(a.type=2)}else a.type=1,a.val.push([void 0,String(r)]);return a},e.expand=function(t,r){var i=new n(t),o=i.expand(r);return new e(o)},n})},function(e,t,n){var r,i;r=[n(7),n(197),n(1),n(0),n(523),n(6),n(36),n(479),n(29),n(26),n(187),n(300)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h){"use strict";function d(t){if(t=n(t,n.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=n(t.addNewLeapSeconds,!0),r(t.data))p(this,t.data);else if(r(t.url)){var i=u.createIfNeeded(t.url),o=this;this._downloadPromise=e(i.fetchJson(),function(e){p(o,e)},function(){o._dataError="An error occurred while retrieving the EOP data from the URL "+i.url+"."})}else p(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function f(e,t){return a.compare(e.julianDate,t)}function p(e,n){if(!r(n.columnNames))return void(e._dataError="Error in loaded EOP data: The columnNames property is required.");if(!r(n.samples))return void(e._dataError="Error in loaded EOP data: The samples property is required.");var i=n.columnNames.indexOf("modifiedJulianDateUtc"),o=n.columnNames.indexOf("xPoleWanderRadians"),u=n.columnNames.indexOf("yPoleWanderRadians"),l=n.columnNames.indexOf("ut1MinusUtcSeconds"),d=n.columnNames.indexOf("xCelestialPoleOffsetRadians"),p=n.columnNames.indexOf("yCelestialPoleOffsetRadians"),m=n.columnNames.indexOf("taiMinusUtcSeconds");if(i<0||o<0||u<0||l<0||d<0||p<0||m<0)return void(e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns");var g=e._samples=n.samples,_=e._dates=[];e._dateColumn=i,e._xPoleWanderRadiansColumn=o,e._yPoleWanderRadiansColumn=u,e._ut1MinusUtcSecondsColumn=l,e._xCelestialPoleOffsetRadiansColumn=d,e._yCelestialPoleOffsetRadiansColumn=p,e._taiMinusUtcSecondsColumn=m,e._columnCount=n.columnNames.length,e._lastIndex=void 0;for(var v,A=e._addNewLeapSeconds,y=0,b=g.length;y<b;y+=e._columnCount){var w=g[y+i],x=g[y+m],E=w+c.MODIFIED_JULIAN_DATE_DIFFERENCE,C=new a(E,x,h.TAI);if(_.push(C),A){if(x!==v&&r(v)){var S=a.leapSeconds,T=t(S,C,f);if(T<0){var I=new s(C,x);S.splice(~T,0,I)}}v=x}}}function m(e,t,n,r,i){var o=n*r;i.xPoleWander=t[o+e._xPoleWanderRadiansColumn],i.yPoleWander=t[o+e._yPoleWanderRadiansColumn],i.xPoleOffset=t[o+e._xCelestialPoleOffsetRadiansColumn],i.yPoleOffset=t[o+e._yCelestialPoleOffsetRadiansColumn],i.ut1MinusUtc=t[o+e._ut1MinusUtcSecondsColumn]}function g(e,t,n){return t+e*(n-t)}function _(e,t,n,r,i,o,s){var u=e._columnCount;if(o>t.length-1)return s.xPoleWander=0,s.yPoleWander=0,s.xPoleOffset=0,s.yPoleOffset=0,s.ut1MinusUtc=0,s;var l=t[i],c=t[o];if(l.equals(c)||r.equals(l))return m(e,n,i,u,s),s;if(r.equals(c))return m(e,n,o,u,s),s;var h=a.secondsDifference(r,l)/a.secondsDifference(c,l),d=i*u,f=o*u,p=n[d+e._ut1MinusUtcSecondsColumn],_=n[f+e._ut1MinusUtcSecondsColumn],v=_-p;if(v>.5||v<-.5){var A=n[d+e._taiMinusUtcSecondsColumn],y=n[f+e._taiMinusUtcSecondsColumn];A!==y&&(c.equals(r)?p=_:_-=y-A)}return s.xPoleWander=g(h,n[d+e._xPoleWanderRadiansColumn],n[f+e._xPoleWanderRadiansColumn]),s.yPoleWander=g(h,n[d+e._yPoleWanderRadiansColumn],n[f+e._yPoleWanderRadiansColumn]),s.xPoleOffset=g(h,n[d+e._xCelestialPoleOffsetRadiansColumn],n[f+e._xCelestialPoleOffsetRadiansColumn]),s.yPoleOffset=g(h,n[d+e._yCelestialPoleOffsetRadiansColumn],n[f+e._yCelestialPoleOffsetRadiansColumn]),s.ut1MinusUtc=g(h,p,_),s}return d.NONE=o({getPromiseToLoad:function(){return e()},compute:function(e,t){return r(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new i(0,0,0,0,0),t}}),d.prototype.getPromiseToLoad=function(){return e(this._downloadPromise)},d.prototype.compute=function(e,n){if(r(this._samples)){if(r(n)||(n=new i(0,0,0,0,0)),0===this._samples.length)return n.xPoleWander=0,n.yPoleWander=0,n.xPoleOffset=0,n.yPoleOffset=0,n.ut1MinusUtc=0,n;var o=this._dates,s=this._lastIndex,u=0,c=0;if(r(s)){var h=o[s],d=o[s+1],f=a.lessThanOrEquals(h,e),p=!r(d),m=p||a.greaterThanOrEquals(d,e);if(f&&m)return u=s,!p&&d.equals(e)&&++u,c=u+1,_(this,o,this._samples,e,u,c,n),n}var g=t(o,e,a.compare,this._dateColumn);return g>=0?(g<o.length-1&&o[g+1].equals(e)&&++g,u=g,c=g):(c=~g,(u=c-1)<0&&(u=0)),this._lastIndex=u,_(this,o,this._samples,e,u,c,n),n}if(r(this._dataError))throw new l(this._dataError)},d}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(103),n(1),n(0),n(524),n(36),n(29),n(300)],void 0!==(i=function(e,t,r,i,o,a,s,u){"use strict";function l(e){e=r(e,r.EMPTY_OBJECT),this._xysFileUrlTemplate=s.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=r(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=r(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new a(this._sampleZeroJulianEphemerisDate,0,u.TAI),this._stepSizeDays=r(e.stepSizeDays,1),this._samplesPerXysFile=r(e.samplesPerXysFile,1e3),this._totalSamples=r(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];for(var t=this._interpolationOrder,n=this._denominators=new Array(t+1),i=this._xTable=new Array(t+1),o=Math.pow(this._stepSizeDays,t),l=0;l<=t;++l){n[l]=o,i[l]=l*this._stepSizeDays;for(var c=0;c<=t;++c)c!==l&&(n[l]*=l-c);n[l]=1/n[l]}this._work=new Array(t+1),this._coef=new Array(t+1)}function c(e,t,n){var r=d;return r.dayNumber=t,r.secondsOfDay=n,a.daysDifference(r,e._sampleZeroDateTT)}function h(t,r){if(t._chunkDownloadsInProgress[r])return t._chunkDownloadsInProgress[r];var o=e.defer();t._chunkDownloadsInProgress[r]=o;var a,u=t._xysFileUrlTemplate;return a=i(u)?u.getDerivedResource({templateValues:{0:r}}):new s({url:n(923)("./IAU2006_XYS_"+r+".json")}),e(a.fetchJson(),function(e){t._chunkDownloadsInProgress[r]=!1;for(var n=t._samples,i=e.samples,a=r*t._samplesPerXysFile*3,s=0,u=i.length;s<u;++s)n[a+s]=i[s];o.resolve()}),o.promise}var d=new a(0,0,u.TAI);return l.prototype.preload=function(t,n,r,i){var o=c(this,t,n),a=c(this,r,i),s=o/this._stepSizeDays-this._interpolationOrder/2|0;s<0&&(s=0);var u=a/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;u>=this._totalSamples&&(u=this._totalSamples-1);for(var l=s/this._samplesPerXysFile|0,d=u/this._samplesPerXysFile|0,f=[],p=l;p<=d;++p)f.push(h(this,p));return e.all(f)},l.prototype.computeXysRadians=function(e,t,n){var r=c(this,e,t);if(!(r<0)){var a=r/this._stepSizeDays|0;if(!(a>=this._totalSamples)){var s=this._interpolationOrder,u=a-(s/2|0);u<0&&(u=0);var l=u+s;l>=this._totalSamples&&(l=this._totalSamples-1,(u=l-s)<0&&(u=0));var d=!1,f=this._samples;if(i(f[3*u])||(h(this,u/this._samplesPerXysFile|0),d=!0),i(f[3*l])||(h(this,l/this._samplesPerXysFile|0),d=!0),!d){i(n)?(n.x=0,n.y=0,n.s=0):n=new o(0,0,0);var p,m,g=r-u*this._stepSizeDays,_=this._work,v=this._denominators,A=this._coef,y=this._xTable;for(p=0;p<=s;++p)_[p]=g-y[p];for(p=0;p<=s;++p){for(A[p]=1,m=0;m<=s;++m)m!==p&&(A[p]*=_[m]);A[p]*=v[p];var b=3*(u+p);n.x+=A[p]*f[b++],n.y+=A[p]*f[b++],n.s+=A[p]*f[b]}return n}}}},l}.apply(t,r))&&(e.exports=i)},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./IAU2006_XYS_0.json":924,"./IAU2006_XYS_1.json":925,"./IAU2006_XYS_10.json":926,"./IAU2006_XYS_11.json":927,"./IAU2006_XYS_12.json":928,"./IAU2006_XYS_13.json":929,"./IAU2006_XYS_14.json":930,"./IAU2006_XYS_15.json":931,"./IAU2006_XYS_16.json":932,"./IAU2006_XYS_17.json":933,"./IAU2006_XYS_18.json":934,"./IAU2006_XYS_19.json":935,"./IAU2006_XYS_2.json":936,"./IAU2006_XYS_20.json":937,"./IAU2006_XYS_21.json":938,"./IAU2006_XYS_22.json":939,"./IAU2006_XYS_23.json":940,"./IAU2006_XYS_24.json":941,"./IAU2006_XYS_25.json":942,"./IAU2006_XYS_26.json":943,"./IAU2006_XYS_27.json":944,"./IAU2006_XYS_3.json":945,"./IAU2006_XYS_4.json":946,"./IAU2006_XYS_5.json":947,"./IAU2006_XYS_6.json":948,"./IAU2006_XYS_7.json":949,"./IAU2006_XYS_8.json":950,"./IAU2006_XYS_9.json":951};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=923},function(e,t,n){e.exports=n.p+"2d5795098960cdf313dd4ae92036218a.json"},function(e,t,n){e.exports=n.p+"ea2e3cf86ccbfd9b05b9cde7dbd52a44.json"},function(e,t,n){e.exports=n.p+"3d510d30d03cf9d5e7ffd7b9c3937e72.json"},function(e,t,n){e.exports=n.p+"c2628933a3686121808a28cc4ed8efc1.json"},function(e,t,n){e.exports=n.p+"cd58ab10a7c600da1463f2be116cb9ce.json"},function(e,t,n){e.exports=n.p+"363b177dd76c36aeee3b3fd6bd1462f0.json"},function(e,t,n){e.exports=n.p+"b2d57dcf896b8a3920db6b619b0fffe8.json"},function(e,t,n){e.exports=n.p+"581f1910c93dae37eb2176a3d902402a.json"},function(e,t,n){e.exports=n.p+"6edb05d078b53896f322264ce227819a.json"},function(e,t,n){e.exports=n.p+"f8064c6ae49b2db0a316810cd68a9054.json"},function(e,t,n){e.exports=n.p+"e3f956b4a063bb71c1eec434df9e1c19.json"},function(e,t,n){e.exports=n.p+"b779d797f43643f2f9c47843bd8cf435.json"},function(e,t,n){e.exports=n.p+"03fab32f0c41feab85d13041b841417c.json"},function(e,t,n){e.exports=n.p+"edb8718796e889c3f97bde2f44004bbc.json"},function(e,t,n){e.exports=n.p+"dc0674ed14d4470b12330b1eac6abf7b.json"},function(e,t,n){e.exports=n.p+"bfd2f4888524be41b193a3141cb4a844.json"},function(e,t,n){e.exports=n.p+"3a9aff5435f0f40c03aef6157a3edb30.json"},function(e,t,n){e.exports=n.p+"2b1a5690332ecd6f460ab35b09cfe941.json"},function(e,t,n){e.exports=n.p+"9ac20655e300dbc01432966a539f10df.json"},function(e,t,n){e.exports=n.p+"a6d1fb54cead2318e8573c0430a298bc.json"},function(e,t,n){e.exports=n.p+"b98b703803507f23762805b6c5995f5b.json"},function(e,t,n){e.exports=n.p+"541a21bdf0bd42030b7297230a2c3fc1.json"},function(e,t,n){e.exports=n.p+"31ab38fd8a409a5f223ed2aa97e26bcc.json"},function(e,t,n){e.exports=n.p+"10eb5070ec6da3dce77ac9bba37514c2.json"},function(e,t,n){e.exports=n.p+"3628bb25d432b2c9f23eae256eb79ce3.json"},function(e,t,n){e.exports=n.p+"bfc02c7a602192c7123f3e6b71daa9bf.json"},function(e,t,n){e.exports=n.p+"1c227b3cfcf2bdef4b4aa8d5a6965110.json"},function(e,t,n){e.exports=n.p+"9ad9f606869aa9952331953522602c2b.json"},function(e,t,n){e.exports=n.p+"d6032116cad7588b171e5d825501bdde.json"},function(e,t,n){var r,i;r=[n(954),n(3),n(9),n(327)],void 0!==(i=function(e,t,n,r){"use strict";function i(t,i,o,a){var s=t*t,u=i-3*s/8,l=o-i*t/2+s*t/8,c=a-o*t/4+i*s/16-3*s*s/256,h=e.computeRealRoots(1,2*u,u*u-4*c,-l*l);if(h.length>0){var d=-t/4,f=h[h.length-1];if(Math.abs(f)<n.EPSILON14){var p=r.computeRealRoots(1,u,c);if(2===p.length){var m,g=p[0],_=p[1];if(g>=0&&_>=0){var v=Math.sqrt(g),A=Math.sqrt(_);return[d-A,d-v,d+v,d+A]}if(g>=0&&_<0)return m=Math.sqrt(g),[d-m,d+m];if(g<0&&_>=0)return m=Math.sqrt(_),[d-m,d+m]}return[]}if(f>0){var y=Math.sqrt(f),b=(u+f-l/y)/2,w=(u+f+l/y)/2,x=r.computeRealRoots(1,y,b),E=r.computeRealRoots(1,-y,w);return 0!==x.length?(x[0]+=d,x[1]+=d,0!==E.length?(E[0]+=d,E[1]+=d,x[1]<=E[0]?[x[0],x[1],E[0],E[1]]:E[1]<=x[0]?[E[0],E[1],x[0],x[1]]:x[0]>=E[0]&&x[1]<=E[1]?[E[0],x[0],x[1],E[1]]:E[0]>=x[0]&&E[1]<=x[1]?[x[0],E[0],E[1],x[1]]:x[0]>E[0]&&x[0]<E[1]?[E[0],x[0],E[1],x[1]]:[x[0],E[0],x[1],E[1]]):x):0!==E.length?(E[0]+=d,E[1]+=d,E):[]}}return[]}function o(t,i,o,a){var s=o*o,u=i*i,l=t*t,c=-2*i,h=o*t+u-4*a,d=l*a-o*i*t+s,f=e.computeRealRoots(1,c,h,d);if(f.length>0){var p,m,g=f[0],_=i-g,v=_*_,A=t/2,y=_/2,b=v-4*a,w=v+4*Math.abs(a),x=l-4*g,E=l+4*Math.abs(g);if(g<0||b*E<x*w){var C=Math.sqrt(x);p=C/2,m=0===C?0:(t*y-o)/C}else{var S=Math.sqrt(b);p=0===S?0:(t*y-o)/S,m=S/2}var T,I;0===A&&0===p?(T=0,I=0):n.sign(A)===n.sign(p)?(T=A+p,I=g/T):(I=A-p,T=g/I);var M,O;0===y&&0===m?(M=0,O=0):n.sign(y)===n.sign(m)?(M=y+m,O=a/M):(O=y-m,M=a/O);var P=r.computeRealRoots(1,T,M),D=r.computeRealRoots(1,I,O);if(0!==P.length)return 0!==D.length?P[1]<=D[0]?[P[0],P[1],D[0],D[1]]:D[1]<=P[0]?[D[0],D[1],P[0],P[1]]:P[0]>=D[0]&&P[1]<=D[1]?[D[0],P[0],P[1],D[1]]:D[0]>=P[0]&&D[1]<=P[1]?[P[0],D[0],D[1],P[1]]:P[0]>D[0]&&P[0]<D[1]?[D[0],P[0],D[1],P[1]]:[P[0],D[0],P[1],D[1]]:P;if(0!==D.length)return D}return[]}var a={};return a.computeDiscriminant=function(e,t,n,r,i){var o=e*e,a=o*e,s=t*t,u=s*t,l=n*n,c=l*n,h=r*r,d=h*r,f=i*i;return s*l*h-4*u*d-4*e*c*h+18*e*t*n*d-27*o*h*h+256*a*(f*i)+i*(18*u*n*r-4*s*c+16*e*l*l-80*e*t*l*r-6*e*s*h+144*o*n*h)+f*(144*e*s*n-27*s*s-128*o*l-192*o*t*r)},a.computeRealRoots=function(t,r,a,s,u){if(Math.abs(t)<n.EPSILON15)return e.computeRealRoots(r,a,s,u);var l=r/t,c=a/t,h=s/t,d=u/t,f=l<0?1:0;switch(f+=c<0?f+1:f,f+=h<0?f+1:f,f+=d<0?f+1:f){case 0:return i(l,c,h,d);case 1:case 2:return o(l,c,h,d);case 3:case 4:return i(l,c,h,d);case 5:return o(l,c,h,d);case 6:case 7:return i(l,c,h,d);case 8:return o(l,c,h,d);case 9:case 10:return i(l,c,h,d);case 11:return o(l,c,h,d);case 12:case 13:case 14:case 15:return i(l,c,h,d);default:return}},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(3),n(327)],void 0!==(i=function(e,t){"use strict";function n(e,t,n,r){var i,o,a=e,s=t/3,u=n/3,l=r,c=a*u,h=s*l,d=s*s,f=u*u,p=a*u-d,m=a*l-s*u,g=s*l-f,_=4*p*g-m*m;if(_<0){var v,A,y;d*h>=c*f?(v=a,A=p,y=-2*s*p+a*m):(v=l,A=g,y=-l*m+2*u*g);var b=y<0?-1:1,w=-b*Math.abs(v)*Math.sqrt(-_);o=-y+w;var x=o/2,E=x<0?-Math.pow(-x,1/3):Math.pow(x,1/3),C=o===w?-E:-A/E;return i=A<=0?E+C:-y/(E*E+C*C+A),d*h>=c*f?[(i-s)/a]:[-l/(i+u)]}var S=p,T=-2*s*p+a*m,I=g,M=-l*m+2*u*g,O=Math.sqrt(_),P=Math.sqrt(3)/2,D=Math.abs(Math.atan2(a*O,-T)/3);i=2*Math.sqrt(-S);var B=Math.cos(D);o=i*B;var L=i*(-B/2-P*Math.sin(D)),N=o+L>2*s?o-s:L-s,R=a,k=N/R;D=Math.abs(Math.atan2(l*O,-M)/3),i=2*Math.sqrt(-I),B=Math.cos(D),o=i*B,L=i*(-B/2-P*Math.sin(D));var F=-l,U=o+L<2*u?o+u:L+u,z=F/U,j=R*U,H=-N*U-R*F,V=N*F,Q=(u*H-s*V)/(-s*H+u*j);return k<=Q?k<=z?Q<=z?[k,Q,z]:[k,z,Q]:[z,k,Q]:k<=z?[Q,k,z]:Q<=z?[Q,z,k]:[z,Q,k]}var r={};return r.computeDiscriminant=function(e,t,n,r){var i=e*e,o=t*t,a=n*n;return 18*e*t*n*r+o*a-27*i*(r*r)-4*(e*a*n+o*t*r)},r.computeRealRoots=function(e,r,i,o){var a,s;if(0===e)return t.computeRealRoots(r,i,o);if(0===r){if(0===i){if(0===o)return[0,0,0];s=-o/e;var u=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3);return[u,u,u]}return 0===o?(a=t.computeRealRoots(e,0,i),0===a.Length?[0]:[a[0],0,a[1]]):n(e,0,i,o)}return 0===i?0===o?(s=-r/e,s<0?[s,0,0]:[0,0,s]):n(e,r,0,o):0===o?(a=t.computeRealRoots(e,r,i),0===a.length?[0]:a[1]<=0?[a[0],a[1],0]:a[0]>=0?[0,a[0],a[1]]:[a[0],0,a[1]]):n(e,r,i,o)},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(10),n(12),n(0),n(9)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(n,o,l,c,h){r(h)||(h=new t);var d,f,p,m,g,_,v,A;if(r(o.z)){if(t.equalsEpsilon(n,o,i.EPSILON14))return t.clone(t.UNIT_X,h);if(t.equalsEpsilon(n,l,i.EPSILON14))return t.clone(t.UNIT_Y,h);if(t.equalsEpsilon(n,c,i.EPSILON14))return t.clone(t.UNIT_Z,h);d=t.subtract(l,o,a),f=t.subtract(c,o,s),p=t.subtract(n,o,u),m=t.dot(d,d),g=t.dot(d,f),_=t.dot(d,p),v=t.dot(f,f),A=t.dot(f,p)}else{if(e.equalsEpsilon(n,o,i.EPSILON14))return t.clone(t.UNIT_X,h);if(e.equalsEpsilon(n,l,i.EPSILON14))return t.clone(t.UNIT_Y,h);if(e.equalsEpsilon(n,c,i.EPSILON14))return t.clone(t.UNIT_Z,h);d=e.subtract(l,o,a),f=e.subtract(c,o,s),p=e.subtract(n,o,u),m=e.dot(d,d),g=e.dot(d,f),_=e.dot(d,p),v=e.dot(f,f),A=e.dot(f,p)}var y=m*v-g*g,b=1/y;return h.y=(v*_-g*A)*b,h.z=(m*A-g*_)*b,h.x=1-h.y-h.z,h}var a=new t,s=new t,u=new t;return o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(3)],void 0!==(i=function(e,t,n){"use strict";var r={};return r.calculateACMR=function(n){n=e(n,e.EMPTY_OBJECT);var r=n.indices,i=n.maximumIndex,o=e(n.cacheSize,24),a=r.length;if(!t(i)){i=0;for(var s=0,u=r[s];s<a;)u>i&&(i=u),++s,u=r[s]}for(var l=[],c=0;c<i+1;c++)l[c]=0;for(var h=o+1,d=0;d<a;++d)h-l[r[d]]>o&&(l[r[d]]=h,++h);return(h-o+1)/(a/3)},r.tipsify=function(n){function r(e,t,n,r){for(;t.length>=1;){var o=t[t.length-1];if(t.splice(t.length-1,1),e[o].numLiveTriangles>0)return o}for(;i<r;){if(e[i].numLiveTriangles>0)return++i-1;++i}return-1}n=e(n,e.EMPTY_OBJECT);var i,o=n.indices,a=n.maximumIndex,s=e(n.cacheSize,24),u=o.length,l=0,c=0,h=o[c],d=u;if(t(a))l=a+1;else{for(;c<d;)h>l&&(l=h),++c,h=o[c];if(-1===l)return 0;++l}var f,p=[];for(f=0;f<l;f++)p[f]={numLiveTriangles:0,timeStamp:0,vertexTriangles:[]};c=0;for(var m=0;c<d;)p[o[c]].vertexTriangles.push(m),++p[o[c]].numLiveTriangles,p[o[c+1]].vertexTriangles.push(m),++p[o[c+1]].numLiveTriangles,p[o[c+2]].vertexTriangles.push(m),++p[o[c+2]].numLiveTriangles,++m,c+=3;var g=0,_=s+1;i=1;var v,A,y=[],b=[],w=0,x=[],E=u/3,C=[];for(f=0;f<E;f++)C[f]=!1;for(var S,T;-1!==g;){y=[],A=p[g],T=A.vertexTriangles.length;for(var I=0;I<T;++I)if(m=A.vertexTriangles[I],!C[m]){C[m]=!0,c=m+m+m;for(var M=0;M<3;++M)S=o[c],y.push(S),b.push(S),x[w]=S,++w,v=p[S],--v.numLiveTriangles,_-v.timeStamp>s&&(v.timeStamp=_,++_),++c}g=function(e,t,n,i,o,a,s){for(var u,l=-1,c=-1,h=0;h<n.length;){var d=n[h];i[d].numLiveTriangles&&(u=0,o-i[d].timeStamp+2*i[d].numLiveTriangles<=t&&(u=o-i[d].timeStamp),(u>c||-1===c)&&(c=u,l=d)),++h}return-1===l?r(i,a,e,s):l}(o,s,y,p,_,b,l)}return x},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[],void 0!==(i=function(){"use strict";function e(e,n,i){i=i||2;var o=n&&n.length,a=o?n[0]*i:e.length,s=t(e,0,a,i,!0),l=[];if(!s)return l;var c,h,d,f,p,m,g;if(o&&(s=u(e,n,s,i)),e.length>80*i){c=d=e[0],h=f=e[1];for(var _=i;_<a;_+=i)p=e[_],m=e[_+1],p<c&&(c=p),m<h&&(h=m),p>d&&(d=p),m>f&&(f=m);g=Math.max(d-c,f-h)}return r(s,l,i,c,h,g),l}function t(e,t,n,r,i){var o,a;if(i===I(e,t,n,r)>0)for(o=t;o<n;o+=r)a=C(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=C(o,e[o],e[o+1],a);return a&&A(a,a.next)&&(S(a),a=a.next),a}function n(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!A(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(S(r),(r=t=r.prev)===r.next)return null;n=!0}}while(n||r!==t);return t}function r(e,t,u,l,c,h,f){if(e){!f&&h&&d(e,l,c,h);for(var p,m,g=e;e.prev!==e.next;)if(p=e.prev,m=e.next,h?o(e,l,c,h):i(e))t.push(p.i/u),t.push(e.i/u),t.push(m.i/u),S(e),e=m.next,g=m.next;else if((e=m)===g){f?1===f?(e=a(e,t,u),r(e,t,u,l,c,h,2)):2===f&&s(e,t,u,l,c,h):r(n(e),t,u,l,c,h,1);break}}}function i(e){var t=e.prev,n=e,r=e.next;if(v(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(g(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&v(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function o(e,t,n,r){var i=e.prev,o=e,a=e.next;if(v(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=p(s,u,t,n,r),d=p(l,c,t,n,r),f=e.nextZ;f&&f.z<=d;){if(f!==e.prev&&f!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&v(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=e.prevZ;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&g(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&v(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0}function a(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!A(i,o)&&y(i,r,r.next,o)&&w(i,o)&&w(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),S(r),S(r.next),r=e=o),r=r.next}while(r!==e);return r}function s(e,t,i,o,a,s){var u=e;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&_(u,l)){var c=E(u,l);return u=n(u,u.next),c=n(c,c.next),r(u,t,i,o,a,s),void r(c,t,i,o,a,s)}l=l.next}u=u.next}while(u!==e)}function u(e,r,i,o){var a,s,u,h,d,f=[];for(a=0,s=r.length;a<s;a++)u=r[a]*o,h=a<s-1?r[a+1]*o:e.length,d=t(e,u,h,o,!1),d===d.next&&(d.steiner=!0),f.push(m(d));for(f.sort(l),a=0;a<f.length;a++)c(f[a],i),i=n(i,i.next);return i}function l(e,t){return e.x-t.x}function c(e,t){if(t=h(e,t)){var r=E(t,e);n(r,r.next)}}function h(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,h=n.y,d=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&g(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<d||u===d&&r.x>n.x)&&w(r,e)&&(n=r,d=u),r=r.next;return n}function d(e,t,n,r){var i=e;do{null===i.z&&(i.z=p(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,f(i)}function f(e){var t,n,r,i,o,a,s,u,l=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0===s?(i=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,s--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1);return e}function p(e,t,n,r,i){return e=32767*(e-n)/i,t=32767*(t-r)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function m(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function g(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function _(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!b(e,t)&&w(e,t)&&w(t,e)&&x(e,t)}function v(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function A(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,n,r){return!!(A(e,t)&&A(n,r)||A(e,r)&&A(n,t))||v(e,t,n)>0!=v(e,t,r)>0&&v(n,r,e)>0!=v(n,r,t)>0}function b(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&y(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function w(e,t){return v(e.prev,e,e.next)<0?v(e,t,e.next)>=0&&v(e,e.prev,t)>=0:v(e,t,e.prev)<0||v(e,e.next,t)<0}function x(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function E(e,t){var n=new T(e.i,e.x,e.y),r=new T(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function C(e,t,n,r){var i=new T(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function S(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function T(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}return e.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(I(e,0,o,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;a-=Math.abs(I(e,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var d=r[s]*n,f=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},e.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n},e}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(150),n(42),n(1),n(0),n(2),n(21),n(3),n(128),n(62),n(60),n(47),n(68),n(77),n(52),n(528),n(1075),n(7),n(70),n(159),n(302),n(152),n(183),n(46),n(442),n(304),n(305)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C){"use strict";function S(e){e=n(e,n.EMPTY_OBJECT);var t=e.geometryInstances;this.geometryInstances=t,this.show=n(e.show,!0),this.classificationType=n(e.classificationType,v.BOTH),this.debugShowBoundingVolume=n(e.debugShowBoundingVolume,!1),this.debugShowShadowVolume=n(e.debugShowShadowVolume,!1),this._debugShowShadowVolume=!1,this._extruded=n(e._extruded,!1),this._uniformMap=e._uniformMap,this._sp=void 0,this._spStencil=void 0,this._spPick=void 0,this._spColor=void 0,this._spPick2D=void 0,this._spColor2D=void 0,this._rsStencilPreloadPass=void 0,this._rsStencilDepthPass=void 0,this._rsColorPass=void 0,this._rsPickPass=void 0,this._commandsIgnoreShow=[],this._ready=!1,this._readyPromise=g.defer(),this._primitive=void 0,this._pickPrimitive=e._pickPrimitive,this._hasSphericalExtentsAttribute=!1,this._hasPlanarExtentsAttributes=!1,this._hasPerColorAttribute=!1,this.appearance=e.appearance;var i;r(t)&&u(t)&&t.length>1&&(i=F),this._createBoundingVolumeFunction=e._createBoundingVolumeFunction,this._updateAndQueueCommandsFunction=e._updateAndQueueCommandsFunction,this._usePickOffsets=!1,this._primitiveOptions={geometryInstances:void 0,appearance:void 0,vertexCacheOptimize:n(e.vertexCacheOptimize,!1),interleave:n(e.interleave,!1),releaseGeometryInstances:n(e.releaseGeometryInstances,!0),allowPicking:n(e.allowPicking,!0),asynchronous:n(e.asynchronous,!0),compressVertices:n(e.compressVertices,!0),_readOnlyInstanceAttributes:i,_createBoundingVolumeFunction:void 0,_createRenderStatesFunction:void 0,_createShaderProgramFunction:void 0,_createCommandsFunction:void 0,_updateAndQueueCommandsFunction:void 0,_createPickOffsets:!0}}function T(e){return{colorMask:{red:!1,green:!1,blue:!1,alpha:!1},stencilTest:{enabled:e,frontFunction:E.ALWAYS,frontOperation:{fail:C.KEEP,zFail:C.DECREMENT_WRAP,zPass:C.DECREMENT_WRAP},backFunction:E.ALWAYS,backOperation:{fail:C.KEEP,zFail:C.INCREMENT_WRAP,zPass:C.INCREMENT_WRAP},reference:z,mask:U},depthTest:{enabled:!1},depthMask:!1}}function I(e){return{colorMask:{red:!1,green:!1,blue:!1,alpha:!1},stencilTest:{enabled:e,frontFunction:E.ALWAYS,frontOperation:{fail:C.KEEP,zFail:C.KEEP,zPass:C.INCREMENT_WRAP},backFunction:E.ALWAYS,backOperation:{fail:C.KEEP,zFail:C.KEEP,zPass:C.DECREMENT_WRAP},reference:z,mask:U},depthTest:{enabled:!0,func:A.LESS_OR_EQUAL},depthMask:!1}}function M(e){return{stencilTest:{enabled:e,frontFunction:E.NOT_EQUAL,frontOperation:{fail:C.KEEP,zFail:C.KEEP,zPass:C.DECREMENT_WRAP},backFunction:E.NOT_EQUAL,backOperation:{fail:C.KEEP,zFail:C.KEEP,zPass:C.DECREMENT_WRAP},reference:z,mask:U},depthTest:{enabled:!1},depthMask:!1,blending:_.ALPHA_BLEND}}function O(e,t,n,i){if(!r(e._rsStencilPreloadPass)){var o=!e.debugShowShadowVolume;e._rsStencilPreloadPass=h.fromCache(T(o)),e._rsStencilDepthPass=h.fromCache(I(o)),e._rsColorPass=h.fromCache(M(o)),e._rsPickPass=h.fromCache(j)}}function P(e,t){if(!e.compressVertices)return t;if(-1!==t.search(/attribute\s+vec3\s+extrudeDirection;/g)){var n=t;n=n.replace(/attribute\s+vec3\s+extrudeDirection;/g,""),n=f.replaceMain(n,"czm_non_compressed_main");return["attribute vec2 compressedAttributes;","vec3 extrudeDirection;\n",n,"void main() \n{ \n    extrudeDirection = czm_octDecode(compressedAttributes, 65535.0);\n    czm_non_compressed_main(); \n}"].join("\n")}}function D(e,t){var n=t.context,i=e._primitive,o=m;o=e._primitive._batchTable.getVertexShaderCallback()(o),o=b._appendDistanceDisplayConditionToShader(i,o),o=b._modifyShaderPosition(e,o,t.scene3DOnly),o=b._updateColorAttribute(i,o);var a=e._hasPlanarExtentsAttributes,s=a||e._hasSphericalExtentsAttribute;e._extruded&&(o=P(i,o));var u=e._extruded?"EXTRUDED_GEOMETRY":"",l="ENABLE_GL_POSITION_LOG_DEPTH_AT_HEIGHT",c=new f({defines:[u,l],sources:[o]}),h=new f({sources:[p]}),g=e._primitive._attributeLocations,_=new x(s,a,e.appearance);if(e._spStencil=d.replaceCache({context:n,shaderProgram:e._spStencil,vertexShaderSource:c,fragmentShaderSource:h,attributeLocations:g}),e._primitive.allowPicking){var v=f.createPickVertexShaderSource(o);v=b._appendShowToShader(i,v),v=b._updatePickColorAttribute(v);var A=_.createPickFragmentShader(!1),y=_.createPickVertexShader([u,l],v,!1,t.mapProjection);if(e._spPick=d.replaceCache({context:n,shaderProgram:e._spPick,vertexShaderSource:y,fragmentShaderSource:A,attributeLocations:g}),s){var w=n.shaderCache.getDerivedShaderProgram(e._spPick,"2dPick");if(!r(w)){var E=_.createPickFragmentShader(!0),C=_.createPickVertexShader([u,l],v,!0,t.mapProjection);w=n.shaderCache.createDerivedShaderProgram(e._spPick,"2dPick",{vertexShaderSource:C,fragmentShaderSource:E,attributeLocations:g})}e._spPick2D=w}}else e._spPick=d.fromCache({context:n,vertexShaderSource:c,fragmentShaderSource:h,attributeLocations:g});o=b._appendShowToShader(i,o),c=new f({defines:[u,l],sources:[o]}),e._sp=d.replaceCache({context:n,shaderProgram:e._sp,vertexShaderSource:c,fragmentShaderSource:h,attributeLocations:g});var S=_.createFragmentShader(!1),T=_.createVertexShader([u,l],o,!1,t.mapProjection);if(e._spColor=d.replaceCache({context:n,shaderProgram:e._spColor,vertexShaderSource:T,fragmentShaderSource:S,attributeLocations:g}),s){var I=n.shaderCache.getDerivedShaderProgram(e._spColor,"2dColor");if(!r(I)){var M=_.createFragmentShader(!0),O=_.createVertexShader([u,l],o,!0,t.mapProjection);I=n.shaderCache.createDerivedShaderProgram(e._spColor,"2dColor",{vertexShaderSource:O,fragmentShaderSource:M,attributeLocations:g})}e._spColor2D=I}}function B(e,n){var i=e._primitive,o=3*i._va.length;n.length=o;var a,s,u=0,h=i._batchTable.getUniformMapCallback()(e._uniformMap),d=e._needs2DShader;for(a=0;a<o;a+=3){var f=i._va[u++];s=n[a],r(s)||(s=n[a]=new l({owner:e,primitiveType:i._primitiveType})),s.vertexArray=f,s.renderState=e._rsStencilPreloadPass,s.shaderProgram=e._sp,s.uniformMap=h,s=n[a+1],r(s)||(s=n[a+1]=new l({owner:e,primitiveType:i._primitiveType})),s.vertexArray=f,s.renderState=e._rsStencilDepthPass,s.shaderProgram=e._sp,s.uniformMap=h,s=n[a+2],r(s)||(s=n[a+2]=new l({owner:e,primitiveType:i._primitiveType})),s.vertexArray=f,s.renderState=e._rsColorPass,s.shaderProgram=e._spColor;var p=e.appearance,m=p.material;if(r(m)&&(h=t(h,m._uniforms)),s.uniformMap=h,d){var g=s.derivedCommands.appearance2D;r(g)||(g=l.shallowClone(s),s.derivedCommands.appearance2D=g),g.vertexArray=f,g.renderState=e._rsColorPass,g.shaderProgram=e._spColor2D,g.uniformMap=h}}var _=e._commandsIgnoreShow,v=e._spStencil,A=0;o=_.length=o/3*2;for(var y=0;y<o;y+=2){var b=_[y]=l.shallowClone(n[A],_[y]);b.shaderProgram=v,b.pass=c.CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW,b=_[y+1]=l.shallowClone(n[A+1],_[y+1]),b.shaderProgram=v,b.pass=c.CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW,A+=3}}function L(e,t){var n,i,o=e._usePickOffsets,a=e._primitive,s=3*a._va.length,u=0;o&&(n=a._pickOffsets,s=3*n.length),t.length=s;var c,h,d=0,f=a._batchTable.getUniformMapCallback()(e._uniformMap),p=e._needs2DShader;for(c=0;c<s;c+=3){var m=a._va[d++];if(o&&(i=n[u++],m=a._va[i.index]),h=t[c],r(h)||(h=t[c]=new l({owner:e,primitiveType:a._primitiveType,pickOnly:!0})),h.vertexArray=m,h.renderState=e._rsStencilPreloadPass,h.shaderProgram=e._sp,h.uniformMap=f,o&&(h.offset=i.offset,h.count=i.count),h=t[c+1],r(h)||(h=t[c+1]=new l({owner:e,primitiveType:a._primitiveType,pickOnly:!0})),h.vertexArray=m,h.renderState=e._rsStencilDepthPass,h.shaderProgram=e._sp,h.uniformMap=f,o&&(h.offset=i.offset,h.count=i.count),h=t[c+2],r(h)||(h=t[c+2]=new l({owner:e,primitiveType:a._primitiveType,pickOnly:!0})),h.vertexArray=m,h.renderState=e._rsPickPass,h.shaderProgram=e._spPick,h.uniformMap=f,o&&(h.offset=i.offset,h.count=i.count),p){var g=h.derivedCommands.pick2D;r(g)||(g=l.shallowClone(h),h.derivedCommands.pick2D=g),g.vertexArray=m,g.renderState=e._rsPickPass,g.shaderProgram=e._spPick2D,g.uniformMap=f}}}function N(e,t,n,r,i,o,a){B(e,o),L(e,a)}function R(e,t){return Math.floor(e%t/3)}function k(e,t,n,i,o,a,s,u){var l=e._primitive;b._updateBoundingVolumes(l,t,o);var h;t.mode===w.SCENE3D?h=l._boundingSphereWC:t.mode===w.COLUMBUS_VIEW?h=l._boundingSphereCV:t.mode===w.SCENE2D&&r(l._boundingSphere2D)?h=l._boundingSphere2D:r(l._boundingSphereMorph)&&(h=l._boundingSphereMorph);var d,f,p=t.commandList,m=t.passes;switch(e.classificationType){case v.TERRAIN:f=c.TERRAIN_CLASSIFICATION;break;case v.CESIUM_3D_TILE:f=c.CESIUM_3D_TILE_CLASSIFICATION;break;default:f=c.CLASSIFICATION}if(m.render){var g,_=n.length;for(d=0;d<_;++d)g=n[d],g.modelMatrix=o,g.boundingVolume=h[R(d,_)],g.cull=a,g.debugShowBoundingVolume=s,g.pass=f,p.push(g);if(t.invertClassification){var A=e._commandsIgnoreShow,y=A.length;for(d=0;d<y;++d){var x=Math.floor(d/2);g=A[d],g.modelMatrix=o,g.boundingVolume=h[x],g.cull=a,g.debugShowBoundingVolume=s,p.push(g)}}}if(m.pick){var E=i.length,C=l._pickOffsets;for(d=0;d<E;++d){var S=C[R(d,E)],T=i[d];T.modelMatrix=o,T.boundingVolume=h[S.index],T.cull=a,T.pass=f,p.push(T)}}}var F=["color"];i(S.prototype,{vertexCacheOptimize:{get:function(){return this._primitiveOptions.vertexCacheOptimize}},interleave:{get:function(){return this._primitiveOptions.interleave}},releaseGeometryInstances:{get:function(){return this._primitiveOptions.releaseGeometryInstances}},allowPicking:{get:function(){return this._primitiveOptions.allowPicking}},asynchronous:{get:function(){return this._primitiveOptions.asynchronous}},compressVertices:{get:function(){return this._primitiveOptions.compressVertices}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},_needs2DShader:{get:function(){return this._hasPlanarExtentsAttributes||this._hasSphericalExtentsAttribute}}}),S.isSupported=function(e){return e.context.stencilBuffer};var U=15,z=0,j={stencilTest:{enabled:!0,frontFunction:E.NOT_EQUAL,frontOperation:{fail:C.KEEP,zFail:C.KEEP,zPass:C.DECREMENT_WRAP},backFunction:E.NOT_EQUAL,backOperation:{fail:C.KEEP,zFail:C.KEEP,zPass:C.DECREMENT_WRAP},reference:z,mask:U},depthTest:{enabled:!1},depthMask:!1};return S.prototype.update=function(t){if(r(this._primitive)||r(this.geometryInstances)){var i=this.appearance;r(i)&&r(i.material)&&i.material.update(t.context);var o=this,l=this._primitiveOptions;if(!r(this._primitive)){var c,d,f,p,m=u(this.geometryInstances)?this.geometryInstances:[this.geometryInstances],g=m.length,_=!1,v=!0,A=!1,w=!1;for(g>0&&(f=m[0].attributes,A=x.hasAttributesForSphericalExtents(f),w=x.hasAttributesForTextureCoordinatePlanes(f),p=f.color),c=0;c<g;c++){d=m[c];var E=d.attributes.color;r(E)&&(_=!0),v=v&&r(E)&&e.equals(p,E)}if(!v&&!A&&!w)throw new a("All GeometryInstances must have the same color attribute except via GroundPrimitives");_&&!r(i)&&(i=new y({flat:!0}),this.appearance=i),this._usePickOffsets=!A&&!w,this._hasSphericalExtentsAttribute=A,this._hasPlanarExtentsAttributes=w,this._hasPerColorAttribute=_;var C=new Array(g);for(c=0;c<g;++c)d=m[c],C[c]=new s({geometry:d.geometry,attributes:d.attributes,modelMatrix:d.modelMatrix,id:d.id,pickPrimitive:n(this._pickPrimitive,o)});l.appearance=i,l.geometryInstances=C,r(this._createBoundingVolumeFunction)&&(l._createBoundingVolumeFunction=function(e,t){o._createBoundingVolumeFunction(e,t)}),l._createRenderStatesFunction=function(e,t,n,r){O(o,t)},l._createShaderProgramFunction=function(e,t,n){D(o,t)},l._createCommandsFunction=function(e,t,n,r,i,a,s){N(o,void 0,void 0,!0,!1,a,s)},r(this._updateAndQueueCommandsFunction)?l._updateAndQueueCommandsFunction=function(e,t,n,r,i,a,s,u){o._updateAndQueueCommandsFunction(e,t,n,r,i,a,s,u)}:l._updateAndQueueCommandsFunction=function(e,t,n,r,i,a,s,u){k(o,t,n,r,i,a,s,u)},this._primitive=new b(l),this._primitive.readyPromise.then(function(e){o._ready=!0,o.releaseGeometryInstances&&(o.geometryInstances=void 0);var t=e._error;r(t)?o._readyPromise.reject(t):o._readyPromise.resolve(o)})}this.debugShowShadowVolume&&!this._debugShowShadowVolume&&this._ready?(this._debugShowShadowVolume=!0,this._rsStencilPreloadPass=h.fromCache(T(!1)),this._rsStencilDepthPass=h.fromCache(I(!1)),this._rsColorPass=h.fromCache(M(!1))):!this.debugShowShadowVolume&&this._debugShowShadowVolume&&(this._debugShowShadowVolume=!1,this._rsStencilPreloadPass=h.fromCache(T(!0)),this._rsStencilDepthPass=h.fromCache(I(!0)),this._rsColorPass=h.fromCache(M(!0))),this._primitive.appearance!==i&&(this._primitive.appearance=i),this._primitive.show=this.show,this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.update(t)}},S.prototype.getGeometryInstanceAttributes=function(e){return this._primitive.getGeometryInstanceAttributes(e)},S.prototype.isDestroyed=function(){return!1},S.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),this._sp=this._sp&&this._sp.destroy(),this._spPick=this._spPick&&this._spPick.destroy(),this._spColor=this._spColor&&this._spColor.destroy(),this._spPick2D=void 0,this._spColor2D=void 0,o(this)},S}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(3)],void 0!==(i=function(e,t){"use strict";function n(e,n){var i=/#define OUTPUT_DECLARATION/,c=e.split("\n");if(/#version 300 es/g.test(e))return e;var h,d,f=-1;for(h=0;h<c.length;++h)if(d=c[h],i.test(d)){f=h;break}if(-1===f)throw new t("Could not find a #define OUTPUT_DECLARATION!");var p=[];for(h=0;h<10;h++){var m="gl_FragData\\["+h+"\\]",g="czm_out"+h;new RegExp(m,"g").test(e)&&(s(g,p),r(m,g,c),c.splice(f,0,"layout(location = "+h+") out vec4 "+g+";"),f+=1)}o("gl_FragColor",c)&&(s("czm_fragColor",p),r("gl_FragColor","czm_fragColor",c),c.splice(f,0,"layout(location = 0) out vec4 czm_fragColor;"),f+=1);var _=u(p,c),v={};for(h=0;h<c.length;h++){d=c[h];for(var A in _)if(_.hasOwnProperty(A)){var y=new RegExp("(layout)[^]+(out)[^]+("+A+")[^]+","g");y.test(d)&&(v[d]=A)}}for(var b in v)if(v.hasOwnProperty(b)){var w,x=v[b],E=c.indexOf(b),C=_[x],S=C.length;for(w=0;w<S;w++)c.splice(E,0,C[w]);for(E+=S+1,w=S-1;w>=0;w--)c.splice(E,0,"#endif //"+C[w])}var T=!1;for(h=0;h<c.length;h++)/#version/.test(c[h])&&(c[h]="#version 300 es",T=!0);return T||c.splice(0,0,"#version 300 es"),l("EXT_draw_buffers",c),l("EXT_frag_depth",c),r("texture2D","texture",c),r("texture3D","texture",c),r("textureCube","texture",c),r("gl_FragDepthEXT","gl_FragDepth",c),n?r("varying","in",c):(r("attribute","in",c),r("varying","out",c)),a(c)}function r(e,t,n){for(var r="(^|[^\\w])("+e+")($|[^\\w])",i=new RegExp(r,"g"),o=n.length,a=0;a<o;++a){var s=n[a];n[a]=s.replace(i,"$1"+t+"$3")}}function i(e,t,n){for(var r=n.length,i=0;i<r;++i){var o=n[i];n[i]=o.replace(e,t)}}function o(e,t){for(var n="(^|[^\\w])("+e+")($|[^\\w])",r=new RegExp(n,"g"),i=t.length,o=0;o<i;++o){var a=t[o];if(r.test(a))return!0}return!1}function a(e){for(var t="",n=e.length,r=0;r<n;++r)t+=e[r]+"\n";return t}function s(e,t){-1===t.indexOf(e)&&t.push(e)}function u(t,n){for(var r={},i=t.length,o=[],a=0;a<n.length;++a){var s=n[a],u=/(#ifdef|#if)/g.test(s),l=/#else/g.test(s),c=/#endif/g.test(s);if(u)o.push(s);else if(l){var h=o[o.length-1],d=h.replace("ifdef","ifndef");/if/g.test(d)&&(d=d.replace(/(#if\s+)(\S*)([^]*)/,"$1!($2)$3")),o.pop(),o.push(d)}else if(c)o.pop();else if(!/layout/g.test(s))for(var f=0;f<i;++f){var p=t[f];-1!==s.indexOf(p)&&(e(r[p])?r[p]=r[p].filter(function(e){return o.indexOf(e)>=0}):r[p]=o.slice())}}return r}function l(e,t){var n="#extension\\s+GL_"+e+"\\s+:\\s+[a-zA-Z0-9]+\\s*$";i(new RegExp(n,"g"),"",t)}return n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(962),n(1017),n(963),n(964),n(965),n(966),n(967),n(968),n(969),n(970),n(971),n(972),n(973),n(974),n(975),n(976),n(977),n(978),n(979),n(980),n(981),n(982),n(983),n(984),n(985),n(986),n(987),n(988),n(989),n(990),n(991),n(992),n(993),n(994),n(995),n(996),n(997),n(998),n(999),n(1e3),n(1001),n(1002),n(1003),n(1004),n(1005),n(1006),n(1007),n(1008),n(1009),n(1010),n(1011),n(1012),n(1013),n(1014),n(1015),n(1016),n(961),n(1018),n(1019),n(1020),n(1021),n(1022),n(1023),n(1024),n(1025),n(1026),n(1027),n(1028),n(1029),n(1030),n(1031),n(1032),n(1033),n(1034),n(1035),n(1036),n(1037),n(1038),n(1039),n(1040),n(1041),n(1042),n(1043),n(1044),n(1045),n(1046),n(1047),n(1048),n(1049),n(1050),n(1051),n(1052),n(1053),n(1054),n(1055),n(1056),n(1057),n(1058),n(1059),n(1060),n(1061),n(1062),n(1063),n(1064),n(1065),n(1066),n(1067),n(1068),n(1069),n(1070),n(1071)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L,N,R,k,F,U,z,j,H,V,Q,G,W,q,Y,K,X,Z,J,$,ee,te,ne,re,ie,oe,ae,se,ue,le,ce,he,de,fe,pe,me,ge,_e,ve,Ae,ye,be,we,xe,Ee,Ce,Se,Te,Ie,Me,Oe,Pe,De,Be,Le,Ne,Re,ke,Fe,Ue,ze,je,He,Ve,Qe,Ge,We,qe,Ye,Ke,Xe,Ze,Je,$e,et,tt,nt){"use strict";return{czm_degreesPerRadian:e,czm_depthRange:t,czm_epsilon1:n,czm_epsilon2:r,czm_epsilon3:i,czm_epsilon4:o,czm_epsilon5:a,czm_epsilon6:s,czm_epsilon7:u,czm_infinity:l,czm_oneOverPi:c,czm_oneOverTwoPi:h,czm_passCesium3DTile:d,czm_passCesium3DTileClassification:f,czm_passCesium3DTileClassificationIgnoreShow:p,czm_passClassification:m,czm_passCompute:g,czm_passEnvironment:_,czm_passGlobe:v,czm_passOpaque:A,czm_passOverlay:y,czm_passTerrainClassification:b,czm_passTranslucent:w,czm_pi:x,czm_piOverFour:E,czm_piOverSix:C,czm_piOverThree:S,czm_piOverTwo:T,czm_radiansPerDegree:I,czm_sceneMode2D:M,czm_sceneMode3D:O,czm_sceneModeColumbusView:P,czm_sceneModeMorphing:D,czm_solarRadius:B,czm_threePiOver2:L,czm_twoPi:N,czm_webMercatorMaxLatitude:R,czm_depthRangeStruct:k,czm_ellipsoid:F,czm_material:U,czm_materialInput:z,czm_ray:j,czm_raySegment:H,czm_shadowParameters:V,czm_alphaWeight:Q,czm_antialias:G,czm_approximateSphericalCoordinates:W,czm_branchFreeTernary:q,czm_cascadeColor:Y,czm_cascadeDistance:K,czm_cascadeMatrix:X,czm_cascadeWeights:Z,czm_columbusViewMorph:J,czm_computePosition:$,czm_cosineAndSine:ee,czm_decompressTextureCoordinates:te,czm_depthClampFarPlane:ne,czm_eastNorthUpToEyeCoordinates:re,czm_ellipsoidContainsPoint:ie,czm_ellipsoidNew:oe,czm_ellipsoidWgs84TextureCoordinates:ae,czm_equalsEpsilon:se,czm_eyeOffset:ue,czm_eyeToWindowCoordinates:le,czm_fastApproximateAtan:ce,czm_fog:he,czm_geodeticSurfaceNormal:de,czm_getDefaultMaterial:fe,czm_getLambertDiffuse:pe,czm_getSpecular:me,czm_getWaterNoise:ge,czm_getWgs84EllipsoidEC:_e,czm_HSBToRGB:ve,czm_HSLToRGB:Ae,czm_hue:ye,czm_isEmpty:be,czm_isFull:we,czm_latitudeToWebMercatorFraction:xe,czm_lineDistance:Ee,czm_luminance:Ce,czm_metersPerPixel:Se,czm_modelToWindowCoordinates:Te,czm_multiplyWithColorBalance:Ie,czm_nearFarScalar:Me,czm_octDecode:Oe,czm_packDepth:Pe,czm_phong:De,czm_planeDistance:Be,czm_pointAlongRay:Le,czm_rayEllipsoidIntersectionInterval:Ne,czm_readDepth:Re,czm_reverseLogDepth:ke,czm_RGBToHSB:Fe,czm_RGBToHSL:Ue,czm_RGBToXYZ:ze,czm_saturation:je,czm_shadowDepthCompare:He,czm_shadowVisibility:Ve,czm_signNotZero:Qe,czm_tangentToEyeSpaceMatrix:Ge,czm_transformPlane:We,czm_translateRelativeToEye:qe,czm_translucentPhong:Ye,czm_transpose:Ke,czm_unpackDepth:Xe,czm_unpackFloat:Ze,czm_vertexLogDepth:Je,czm_windowToEyeCoordinates:$e,czm_writeDepthClampedToFarPlane:et,czm_writeLogDepth:tt,czm_XYZToRGB:nt}}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"// emulated noperspective\n#ifndef LOG_DEPTH\nvarying float v_WindowZ;\n#endif\n\n/**\n * Clamps a vertex to the far plane.\n *\n * @name czm_depthClampFarPlane\n * @glslFunction\n *\n * @param {vec4} coords The vertex in clip coordinates.\n * @returns {vec4} The vertex clipped to the far plane.\n *\n * @example\n * gl_Position = czm_depthClampFarPlane(czm_modelViewProjection * vec4(position, 1.0));\n *\n * @see czm_writeDepthClampedToFarPlane\n */\nvec4 czm_depthClampFarPlane(vec4 coords)\n{\n#ifndef LOG_DEPTH\n    v_WindowZ = (0.5 * (coords.z / coords.w) + 0.5) * coords.w;\n    coords.z = min(coords.z, coords.w);\n#endif\n    return coords;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for converting radians to degrees.\n *\n * @alias czm_degreesPerRadian\n * @glslConstant\n *\n * @see CesiumMath.DEGREES_PER_RADIAN\n *\n * @example\n * // GLSL declaration\n * const float czm_degreesPerRadian = ...;\n *\n * // Example\n * float deg = czm_degreesPerRadian * rad;\n */\nconst float czm_degreesPerRadian = 57.29577951308232;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * 0.1\n *\n * @name czm_epsilon1\n * @glslConstant\n */\nconst float czm_epsilon1 = 0.1;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * 0.01\n *\n * @name czm_epsilon2\n * @glslConstant\n */\nconst float czm_epsilon2 = 0.01;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * 0.001\n *\n * @name czm_epsilon3\n * @glslConstant\n */\nconst float czm_epsilon3 = 0.001;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * 0.0001\n *\n * @name czm_epsilon4\n * @glslConstant\n */\nconst float czm_epsilon4 = 0.0001;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * 0.00001\n *\n * @name czm_epsilon5\n * @glslConstant\n */\nconst float czm_epsilon5 = 0.00001;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * 0.000001\n *\n * @name czm_epsilon6\n * @glslConstant\n */\nconst float czm_epsilon6 = 0.000001;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * 0.0000001\n *\n * @name czm_epsilon7\n * @glslConstant\n */\nconst float czm_epsilon7 = 0.0000001;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * DOC_TBA\n *\n * @name czm_infinity\n * @glslConstant\n */\nconst float czm_infinity = 5906376272000.0;  // Distance from the Sun to Pluto in meters.  TODO: What is best given lowp, mediump, and highp?\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for <code>1/pi</code>.\n *\n * @alias czm_oneOverPi\n * @glslConstant\n *\n * @see CesiumMath.ONE_OVER_PI\n *\n * @example\n * // GLSL declaration\n * const float czm_oneOverPi = ...;\n *\n * // Example\n * float pi = 1.0 / czm_oneOverPi;\n */\nconst float czm_oneOverPi = 0.3183098861837907;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for <code>1/2pi</code>.\n *\n * @alias czm_oneOverTwoPi\n * @glslConstant\n *\n * @see CesiumMath.ONE_OVER_TWO_PI\n *\n * @example\n * // GLSL declaration\n * const float czm_oneOverTwoPi = ...;\n *\n * // Example\n * float pi = 2.0 * czm_oneOverTwoPi;\n */\nconst float czm_oneOverTwoPi = 0.15915494309189535;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The automatic GLSL constant for {@link Pass#CESIUM_3D_TILE}\n *\n * @name czm_passCesium3DTile\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passCesium3DTile = 4.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The automatic GLSL constant for {@link Pass#CESIUM_3D_TILE_CLASSIFICATION}\n *\n * @name czm_passCesium3DTileClassification\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passCesium3DTileClassification = 5.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The automatic GLSL constant for {@link Pass#CESIUM_3D_TILE_CLASSIFICATION_IGNORE_SHOW}\n *\n * @name czm_passCesium3DTileClassificationIgnoreShow\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passCesium3DTileClassificationIgnoreShow = 6.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The automatic GLSL constant for {@link Pass#CLASSIFICATION}\n *\n * @name czm_passClassification\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passClassification = 7.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The automatic GLSL constant for {@link Pass#COMPUTE}\n *\n * @name czm_passCompute\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passCompute = 1.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The automatic GLSL constant for {@link Pass#ENVIRONMENT}\n *\n * @name czm_passEnvironment\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passEnvironment = 0.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The automatic GLSL constant for {@link Pass#GLOBE}\n *\n * @name czm_passGlobe\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passGlobe = 2.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The automatic GLSL constant for {@link Pass#OPAQUE}\n *\n * @name czm_passOpaque\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passOpaque = 8.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The automatic GLSL constant for {@link Pass#OVERLAY}\n *\n * @name czm_passOverlay\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passOverlay = 10.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The automatic GLSL constant for {@link Pass#TERRAIN_CLASSIFICATION}\n *\n * @name czm_passTerrainClassification\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passTerrainClassification = 3.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The automatic GLSL constant for {@link Pass#TRANSLUCENT}\n *\n * @name czm_passTranslucent\n * @glslConstant\n *\n * @see czm_pass\n */\nconst float czm_passTranslucent = 9.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for <code>Math.PI</code>.\n *\n * @alias czm_pi\n * @glslConstant\n *\n * @see CesiumMath.PI\n *\n * @example\n * // GLSL declaration\n * const float czm_pi = ...;\n *\n * // Example\n * float twoPi = 2.0 * czm_pi;\n */\nconst float czm_pi = 3.141592653589793;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for <code>pi/4</code>.\n *\n * @alias czm_piOverFour\n * @glslConstant\n *\n * @see CesiumMath.PI_OVER_FOUR\n *\n * @example\n * // GLSL declaration\n * const float czm_piOverFour = ...;\n *\n * // Example\n * float pi = 4.0 * czm_piOverFour;\n */\nconst float czm_piOverFour = 0.7853981633974483;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for <code>pi/6</code>.\n *\n * @alias czm_piOverSix\n * @glslConstant\n *\n * @see CesiumMath.PI_OVER_SIX\n *\n * @example\n * // GLSL declaration\n * const float czm_piOverSix = ...;\n *\n * // Example\n * float pi = 6.0 * czm_piOverSix;\n */\nconst float czm_piOverSix = 0.5235987755982988;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for <code>pi/3</code>.\n *\n * @alias czm_piOverThree\n * @glslConstant\n *\n * @see CesiumMath.PI_OVER_THREE\n *\n * @example\n * // GLSL declaration\n * const float czm_piOverThree = ...;\n *\n * // Example\n * float pi = 3.0 * czm_piOverThree;\n */\nconst float czm_piOverThree = 1.0471975511965976;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for <code>pi/2</code>.\n *\n * @alias czm_piOverTwo\n * @glslConstant\n *\n * @see CesiumMath.PI_OVER_TWO\n *\n * @example\n * // GLSL declaration\n * const float czm_piOverTwo = ...;\n *\n * // Example\n * float pi = 2.0 * czm_piOverTwo;\n */\nconst float czm_piOverTwo = 1.5707963267948966;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for converting degrees to radians.\n *\n * @alias czm_radiansPerDegree\n * @glslConstant\n *\n * @see CesiumMath.RADIANS_PER_DEGREE\n *\n * @example\n * // GLSL declaration\n * const float czm_radiansPerDegree = ...;\n *\n * // Example\n * float rad = czm_radiansPerDegree * deg;\n */\nconst float czm_radiansPerDegree = 0.017453292519943295;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The constant identifier for the 2D {@link SceneMode}\n *\n * @name czm_sceneMode2D\n * @glslConstant\n * @see czm_sceneMode\n * @see czm_sceneModeColumbusView\n * @see czm_sceneMode3D\n * @see czm_sceneModeMorphing\n */\nconst float czm_sceneMode2D = 2.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The constant identifier for the 3D {@link SceneMode}\n *\n * @name czm_sceneMode3D\n * @glslConstant\n * @see czm_sceneMode\n * @see czm_sceneMode2D\n * @see czm_sceneModeColumbusView\n * @see czm_sceneModeMorphing\n */\nconst float czm_sceneMode3D = 3.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The constant identifier for the Columbus View {@link SceneMode}\n *\n * @name czm_sceneModeColumbusView\n * @glslConstant\n * @see czm_sceneMode\n * @see czm_sceneMode2D\n * @see czm_sceneMode3D\n * @see czm_sceneModeMorphing\n */\nconst float czm_sceneModeColumbusView = 1.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The constant identifier for the Morphing {@link SceneMode}\n *\n * @name czm_sceneModeMorphing\n * @glslConstant\n * @see czm_sceneMode\n * @see czm_sceneMode2D\n * @see czm_sceneModeColumbusView\n * @see czm_sceneMode3D\n */\nconst float czm_sceneModeMorphing = 0.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for one solar radius.\n *\n * @alias czm_solarRadius\n * @glslConstant\n *\n * @see CesiumMath.SOLAR_RADIUS\n *\n * @example\n * // GLSL declaration\n * const float czm_solarRadius = ...;\n */\nconst float czm_solarRadius = 695500000.0;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for <code>3pi/2</code>.\n *\n * @alias czm_threePiOver2\n * @glslConstant\n *\n * @see CesiumMath.THREE_PI_OVER_TWO\n *\n * @example\n * // GLSL declaration\n * const float czm_threePiOver2 = ...;\n *\n * // Example\n * float pi = (2.0 / 3.0) * czm_threePiOver2;\n */\nconst float czm_threePiOver2 = 4.71238898038469;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL floating-point constant for <code>2pi</code>.\n *\n * @alias czm_twoPi\n * @glslConstant\n *\n * @see CesiumMath.TWO_PI\n *\n * @example\n * // GLSL declaration\n * const float czm_twoPi = ...;\n *\n * // Example\n * float pi = czm_twoPi / 2.0;\n */\nconst float czm_twoPi = 6.283185307179586;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * The maximum latitude, in radians, both North and South, supported by a Web Mercator\n * (EPSG:3857) projection.  Technically, the Mercator projection is defined\n * for any latitude up to (but not including) 90 degrees, but it makes sense\n * to cut it off sooner because it grows exponentially with increasing latitude.\n * The logic behind this particular cutoff value, which is the one used by\n * Google Maps, Bing Maps, and Esri, is that it makes the projection\n * square.  That is, the rectangle is equal in the X and Y directions.\n *\n * The constant value is computed as follows:\n *   czm_pi * 0.5 - (2.0 * atan(exp(-czm_pi)))\n *\n * @name czm_webMercatorMaxLatitude\n * @glslConstant\n */\nconst float czm_webMercatorMaxLatitude = 1.4844222297453324;\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * @name czm_depthRangeStruct\n * @glslStruct\n */\nstruct czm_depthRangeStruct\n{\n    float near;\n    float far;\n};\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/** DOC_TBA\n *\n * @name czm_ellipsoid\n * @glslStruct\n */\nstruct czm_ellipsoid\n{\n    vec3 center;\n    vec3 radii;\n    vec3 inverseRadii;\n    vec3 inverseRadiiSquared;\n};\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Holds material information that can be used for lighting. Returned by all czm_getMaterial functions.\n *\n * @name czm_material\n * @glslStruct\n *\n * @property {vec3} diffuse Incoming light that scatters evenly in all directions.\n * @property {float} specular Intensity of incoming light reflecting in a single direction.\n * @property {float} shininess The sharpness of the specular reflection.  Higher values create a smaller, more focused specular highlight.\n * @property {vec3} normal Surface's normal in eye coordinates. It is used for effects such as normal mapping. The default is the surface's unmodified normal.\n * @property {vec3} emission Light emitted by the material equally in all directions. The default is vec3(0.0), which emits no light.\n * @property {float} alpha Opacity of this material. 0.0 is completely transparent; 1.0 is completely opaque.\n */\nstruct czm_material\n{\n    vec3 diffuse;\n    float specular;\n    float shininess;\n    vec3 normal;\n    vec3 emission;\n    float alpha;\n};\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Used as input to every material's czm_getMaterial function.\n *\n * @name czm_materialInput\n * @glslStruct\n *\n * @property {float} s 1D texture coordinates.\n * @property {vec2} st 2D texture coordinates.\n * @property {vec3} str 3D texture coordinates.\n * @property {vec3} normalEC Unperturbed surface normal in eye coordinates.\n * @property {mat3} tangentToEyeMatrix Matrix for converting a tangent space normal to eye space.\n * @property {vec3} positionToEyeEC Vector from the fragment to the eye in eye coordinates.  The magnitude is the distance in meters from the fragment to the eye.\n * @property {float} height The height of the terrain in meters above or below the WGS84 ellipsoid.  Only available for globe materials.\n * @property {float} slope The slope of the terrain normalized from 0 to 1.  0 is completely vertical, 1 is completely flat.  Only available for globe materials.\n */\nstruct czm_materialInput\n{\n    float s;\n    vec2 st;\n    vec3 str;\n    vec3 normalEC;\n    mat3 tangentToEyeMatrix;\n    vec3 positionToEyeEC;\n    float height;\n    float slope;\n};\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * DOC_TBA\n *\n * @name czm_ray\n * @glslStruct\n */\nstruct czm_ray\n{\n    vec3 origin;\n    vec3 direction;\n};\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * DOC_TBA\n *\n * @name czm_raySegment\n * @glslStruct\n */\nstruct czm_raySegment\n{\n    float start;\n    float stop;\n};\n\n/**\n * DOC_TBA\n *\n * @name czm_emptyRaySegment\n * @glslConstant \n */\nconst czm_raySegment czm_emptyRaySegment = czm_raySegment(-czm_infinity, -czm_infinity);\n\n/**\n * DOC_TBA\n *\n * @name czm_fullRaySegment\n * @glslConstant \n */\nconst czm_raySegment czm_fullRaySegment = czm_raySegment(0.0, czm_infinity);\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"struct czm_shadowParameters\n{\n#ifdef USE_CUBE_MAP_SHADOW\n    vec3 texCoords;\n#else\n    vec2 texCoords;\n#endif\n\n    float depthBias;\n    float depth;\n    float nDotL;\n    vec2 texelStepSize;\n    float normalShadingSmooth;\n    float darkness;\n};\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * @private\n */\nfloat czm_alphaWeight(float a)\n{\n    float z = (gl_FragCoord.z - czm_viewportTransformation[3][2]) / czm_viewportTransformation[2][2];\n\n    // See Weighted Blended Order-Independent Transparency for examples of different weighting functions:\n    // http://jcgt.org/published/0002/02/09/\n    return pow(a + 0.01, 4.0) + max(1e-2, min(3.0 * 1e3, 0.003 / (1e-5 + pow(abs(z) / 200.0, 4.0))));\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Procedural anti-aliasing by blurring two colors that meet at a sharp edge.\n *\n * @name czm_antialias\n * @glslFunction\n *\n * @param {vec4} color1 The color on one side of the edge.\n * @param {vec4} color2 The color on the other side of the edge.\n * @param {vec4} currentcolor The current color, either <code>color1</code> or <code>color2</code>.\n * @param {float} dist The distance to the edge in texture coordinates.\n * @param {float} [fuzzFactor=0.1] Controls the blurriness between the two colors.\n * @returns {vec4} The anti-aliased color.\n *\n * @example\n * // GLSL declarations\n * vec4 czm_antialias(vec4 color1, vec4 color2, vec4 currentColor, float dist, float fuzzFactor);\n * vec4 czm_antialias(vec4 color1, vec4 color2, vec4 currentColor, float dist);\n *\n * // get the color for a material that has a sharp edge at the line y = 0.5 in texture space\n * float dist = abs(textureCoordinates.t - 0.5);\n * vec4 currentColor = mix(bottomColor, topColor, step(0.5, textureCoordinates.t));\n * vec4 color = czm_antialias(bottomColor, topColor, currentColor, dist, 0.1);\n */\nvec4 czm_antialias(vec4 color1, vec4 color2, vec4 currentColor, float dist, float fuzzFactor)\n{\n    float val1 = clamp(dist / fuzzFactor, 0.0, 1.0);\n    float val2 = clamp((dist - 0.5) / fuzzFactor, 0.0, 1.0);\n    val1 = val1 * (1.0 - val2);\n    val1 = val1 * val1 * (3.0 - (2.0 * val1));\n    val1 = pow(val1, 0.5); //makes the transition nicer\n    \n    vec4 midColor = (color1 + color2) * 0.5;\n    return mix(midColor, currentColor, val1);\n}\n\nvec4 czm_antialias(vec4 color1, vec4 color2, vec4 currentColor, float dist)\n{\n    return czm_antialias(color1, color2, currentColor, dist, 0.1);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Approximately computes spherical coordinates given a normal.\n * Uses approximate inverse trigonometry for speed and consistency,\n * since inverse trigonometry can differ from vendor-to-vendor and when compared with the CPU.\n *\n * @name czm_approximateSphericalCoordinates\n * @glslFunction\n *\n * @param {vec3} normal arbitrary-length normal.\n *\n * @returns {vec2} Approximate latitude and longitude spherical coordinates.\n */\nvec2 czm_approximateSphericalCoordinates(vec3 normal) {\n    // Project into plane with vertical for latitude\n    float latitudeApproximation = czm_fastApproximateAtan(sqrt(normal.x * normal.x + normal.y * normal.y), normal.z);\n    float longitudeApproximation = czm_fastApproximateAtan(normal.x, normal.y);\n    return vec2(latitudeApproximation, longitudeApproximation);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Branchless ternary operator to be used when it's inexpensive to explicitly\n * evaluate both possibilities for a float expression.\n *\n * @name czm_branchFreeTernary\n * @glslFunction\n *\n * @param {bool} comparison A comparison statement\n * @param {float} a Value to return if the comparison is true.\n * @param {float} b Value to return if the comparison is false.\n *\n * @returns {float} equivalent of comparison ? a : b\n */\nfloat czm_branchFreeTernary(bool comparison, float a, float b) {\n    float useA = float(comparison);\n    return a * useA + b * (1.0 - useA);\n}\n\n/**\n * Branchless ternary operator to be used when it's inexpensive to explicitly\n * evaluate both possibilities for a vec2 expression.\n *\n * @name czm_branchFreeTernary\n * @glslFunction\n *\n * @param {bool} comparison A comparison statement\n * @param {vec2} a Value to return if the comparison is true.\n * @param {vec2} b Value to return if the comparison is false.\n *\n * @returns {vec2} equivalent of comparison ? a : b\n */\nvec2 czm_branchFreeTernary(bool comparison, vec2 a, vec2 b) {\n    float useA = float(comparison);\n    return a * useA + b * (1.0 - useA);\n}\n\n/**\n * Branchless ternary operator to be used when it's inexpensive to explicitly\n * evaluate both possibilities for a vec3 expression.\n *\n * @name czm_branchFreeTernary\n * @glslFunction\n *\n * @param {bool} comparison A comparison statement\n * @param {vec3} a Value to return if the comparison is true.\n * @param {vec3} b Value to return if the comparison is false.\n *\n * @returns {vec3} equivalent of comparison ? a : b\n */\nvec3 czm_branchFreeTernary(bool comparison, vec3 a, vec3 b) {\n    float useA = float(comparison);\n    return a * useA + b * (1.0 - useA);\n}\n\n/**\n * Branchless ternary operator to be used when it's inexpensive to explicitly\n * evaluate both possibilities for a vec4 expression.\n *\n * @name czm_branchFreeTernary\n * @glslFunction\n *\n * @param {bool} comparison A comparison statement\n * @param {vec3} a Value to return if the comparison is true.\n * @param {vec3} b Value to return if the comparison is false.\n *\n * @returns {vec3} equivalent of comparison ? a : b\n */\nvec4 czm_branchFreeTernary(bool comparison, vec4 a, vec4 b) {\n    float useA = float(comparison);\n    return a * useA + b * (1.0 - useA);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"\nvec4 czm_cascadeColor(vec4 weights)\n{\n    return vec4(1.0, 0.0, 0.0, 1.0) * weights.x +\n           vec4(0.0, 1.0, 0.0, 1.0) * weights.y +\n           vec4(0.0, 0.0, 1.0, 1.0) * weights.z +\n           vec4(1.0, 0.0, 1.0, 1.0) * weights.w;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"\nuniform vec4 shadowMap_cascadeDistances;\n\nfloat czm_cascadeDistance(vec4 weights)\n{\n    return dot(shadowMap_cascadeDistances, weights);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"\nuniform mat4 shadowMap_cascadeMatrices[4];\n\nmat4 czm_cascadeMatrix(vec4 weights)\n{\n    return shadowMap_cascadeMatrices[0] * weights.x +\n           shadowMap_cascadeMatrices[1] * weights.y +\n           shadowMap_cascadeMatrices[2] * weights.z +\n           shadowMap_cascadeMatrices[3] * weights.w;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"\nuniform vec4 shadowMap_cascadeSplits[2];\n\nvec4 czm_cascadeWeights(float depthEye)\n{\n    // One component is set to 1.0 and all others set to 0.0.\n    vec4 near = step(shadowMap_cascadeSplits[0], vec4(depthEye));\n    vec4 far = step(depthEye, shadowMap_cascadeSplits[1]);\n    return near * far;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * DOC_TBA\n *\n * @name czm_columbusViewMorph\n * @glslFunction\n */\nvec4 czm_columbusViewMorph(vec4 position2D, vec4 position3D, float time)\n{\n    // Just linear for now.\n    vec3 p = mix(position2D.xyz, position3D.xyz, time);\n    return vec4(p, 1.0);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Returns a position in model coordinates relative to eye taking into\n * account the current scene mode: 3D, 2D, or Columbus view.\n * <p>\n * This uses standard position attributes, <code>position3DHigh</code>, \n * <code>position3DLow</code>, <code>position2DHigh</code>, and <code>position2DLow</code>, \n * and should be used when writing a vertex shader for an {@link Appearance}.\n * </p>\n *\n * @name czm_computePosition\n * @glslFunction\n *\n * @returns {vec4} The position relative to eye.\n *\n * @example\n * vec4 p = czm_computePosition();\n * v_positionEC = (czm_modelViewRelativeToEye * p).xyz;\n * gl_Position = czm_modelViewProjectionRelativeToEye * p;\n *\n * @see czm_translateRelativeToEye\n */\nvec4 czm_computePosition();\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * @private\n */\nvec2 cordic(float angle)\n{\n// Scale the vector by the appropriate factor for the 24 iterations to follow.\n    vec2 vector = vec2(6.0725293500888267e-1, 0.0);\n// Iteration 1\n    float sense = (angle < 0.0) ? -1.0 : 1.0;\n //   float factor = sense * 1.0;  // 2^-0\n    mat2 rotation = mat2(1.0, sense, -sense, 1.0);\n    vector = rotation * vector;\n    angle -= sense * 7.8539816339744828e-1;  // atan(2^-0)\n// Iteration 2\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    float factor = sense * 5.0e-1;  // 2^-1\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 4.6364760900080609e-1;  // atan(2^-1)\n// Iteration 3\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 2.5e-1;  // 2^-2\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 2.4497866312686414e-1;  // atan(2^-2)\n// Iteration 4\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.25e-1;  // 2^-3\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.2435499454676144e-1;  // atan(2^-3)\n// Iteration 5\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 6.25e-2;  // 2^-4\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 6.2418809995957350e-2;  // atan(2^-4)\n// Iteration 6\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 3.125e-2;  // 2^-5\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 3.1239833430268277e-2;  // atan(2^-5)\n// Iteration 7\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.5625e-2;  // 2^-6\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.5623728620476831e-2;  // atan(2^-6)\n// Iteration 8\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 7.8125e-3;  // 2^-7\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 7.8123410601011111e-3;  // atan(2^-7)\n// Iteration 9\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 3.90625e-3;  // 2^-8\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 3.9062301319669718e-3;  // atan(2^-8)\n// Iteration 10\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.953125e-3;  // 2^-9\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.9531225164788188e-3;  // atan(2^-9)\n// Iteration 11\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 9.765625e-4;  // 2^-10\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 9.7656218955931946e-4;  // atan(2^-10)\n// Iteration 12\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 4.8828125e-4;  // 2^-11\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 4.8828121119489829e-4;  // atan(2^-11)\n// Iteration 13\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 2.44140625e-4;  // 2^-12\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 2.4414062014936177e-4;  // atan(2^-12)\n// Iteration 14\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.220703125e-4;  // 2^-13\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.2207031189367021e-4;  // atan(2^-13)\n// Iteration 15\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 6.103515625e-5;  // 2^-14\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 6.1035156174208773e-5;  // atan(2^-14)\n// Iteration 16\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 3.0517578125e-5;  // 2^-15\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 3.0517578115526096e-5;  // atan(2^-15)\n// Iteration 17\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.52587890625e-5;  // 2^-16\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.5258789061315762e-5;  // atan(2^-16)\n// Iteration 18\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 7.62939453125e-6;  // 2^-17\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 7.6293945311019700e-6;  // atan(2^-17)\n// Iteration 19\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 3.814697265625e-6;  // 2^-18\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 3.8146972656064961e-6;  // atan(2^-18)\n// Iteration 20\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.9073486328125e-6;  // 2^-19\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 1.9073486328101870e-6;  // atan(2^-19)\n// Iteration 21\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 9.5367431640625e-7;  // 2^-20\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 9.5367431640596084e-7;  // atan(2^-20)\n// Iteration 22\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 4.76837158203125e-7;  // 2^-21\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 4.7683715820308884e-7;  // atan(2^-21)\n// Iteration 23\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 2.384185791015625e-7;  // 2^-22\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n    angle -= sense * 2.3841857910155797e-7;  // atan(2^-22)\n// Iteration 24\n    sense = (angle < 0.0) ? -1.0 : 1.0;\n    factor = sense * 1.1920928955078125e-7;  // 2^-23\n    rotation[0][1] = factor;\n    rotation[1][0] = -factor;\n    vector = rotation * vector;\n//    angle -= sense * 1.1920928955078068e-7;  // atan(2^-23)\n\n    return vector;\n}\n\n/**\n * Computes the cosine and sine of the provided angle using the CORDIC algorithm.\n *\n * @name czm_cosineAndSine\n * @glslFunction\n *\n * @param {float} angle The angle in radians.\n *\n * @returns {vec2} The resulting cosine of the angle (as the x coordinate) and sine of the angle (as the y coordinate).\n *\n * @example\n * vec2 v = czm_cosineAndSine(czm_piOverSix);\n * float cosine = v.x;\n * float sine = v.y;\n */\nvec2 czm_cosineAndSine(float angle)\n{\n    if (angle < -czm_piOverTwo || angle > czm_piOverTwo)\n    {\n        if (angle < 0.0)\n        {\n            return -cordic(angle + czm_pi);\n        }\n        else\n        {\n            return -cordic(angle - czm_pi);\n        }\n    }\n    else\n    {\n        return cordic(angle);\n    }\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Decompresses texture coordinates that were packed into a single float.\n *\n * @name czm_decompressTextureCoordinates\n * @glslFunction\n *\n * @param {float} encoded The compressed texture coordinates.\n * @returns {vec2} The decompressed texture coordinates.\n */\n vec2 czm_decompressTextureCoordinates(float encoded)\n {\n    float temp = encoded / 4096.0;\n    float xZeroTo4095 = floor(temp);\n    float stx = xZeroTo4095 / 4095.0;\n    float sty = (encoded - xZeroTo4095 * 4096.0) / 4095.0;\n    return vec2(stx, sty);\n }\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * A built-in GLSL vec2 constant for defining the depth range.\n * This is a workaround to a bug where IE11 does not implement gl_DepthRange.\n *\n * @alias czm_depthRange\n * @glslConstant\n *\n * @example\n * // GLSL declaration\n * float depthRangeNear = czm_depthRange.near;\n * float depthRangeFar = czm_depthRange.far;\n *\n */\nconst czm_depthRangeStruct czm_depthRange = czm_depthRangeStruct(0.0, 1.0);\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Computes a 3x3 rotation matrix that transforms vectors from an ellipsoid's east-north-up coordinate system \n * to eye coordinates.  In east-north-up coordinates, x points east, y points north, and z points along the \n * surface normal.  East-north-up can be used as an ellipsoid's tangent space for operations such as bump mapping.\n * <br /><br />\n * The ellipsoid is assumed to be centered at the model coordinate's origin.\n *\n * @name czm_eastNorthUpToEyeCoordinates\n * @glslFunction\n *\n * @param {vec3} positionMC The position on the ellipsoid in model coordinates.\n * @param {vec3} normalEC The normalized ellipsoid surface normal, at <code>positionMC</code>, in eye coordinates.\n *\n * @returns {mat3} A 3x3 rotation matrix that transforms vectors from the east-north-up coordinate system to eye coordinates.\n *\n * @example\n * // Transform a vector defined in the east-north-up coordinate \n * // system, (0, 0, 1) which is the surface normal, to eye \n * // coordinates.\n * mat3 m = czm_eastNorthUpToEyeCoordinates(positionMC, normalEC);\n * vec3 normalEC = m * vec3(0.0, 0.0, 1.0);\n */\nmat3 czm_eastNorthUpToEyeCoordinates(vec3 positionMC, vec3 normalEC)\n{\n    vec3 tangentMC = normalize(vec3(-positionMC.y, positionMC.x, 0.0));  // normalized surface tangent in model coordinates\n    vec3 tangentEC = normalize(czm_normal3D * tangentMC);                // normalized surface tangent in eye coordiantes\n    vec3 bitangentEC = normalize(cross(normalEC, tangentEC));            // normalized surface bitangent in eye coordinates\n\n    return mat3(\n        tangentEC.x,   tangentEC.y,   tangentEC.z,\n        bitangentEC.x, bitangentEC.y, bitangentEC.z,\n        normalEC.x,    normalEC.y,    normalEC.z);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * DOC_TBA\n *\n * @name czm_ellipsoidContainsPoint\n * @glslFunction\n *\n */\nbool czm_ellipsoidContainsPoint(czm_ellipsoid ellipsoid, vec3 point)\n{\n    vec3 scaled = ellipsoid.inverseRadii * (czm_inverseModelView * vec4(point, 1.0)).xyz;\n    return (dot(scaled, scaled) <= 1.0);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * DOC_TBA\n *\n * @name czm_ellipsoidNew\n * @glslFunction\n *\n */\nczm_ellipsoid czm_ellipsoidNew(vec3 center, vec3 radii)\n{\n    vec3 inverseRadii = vec3(1.0 / radii.x, 1.0 / radii.y, 1.0 / radii.z);\n    vec3 inverseRadiiSquared = inverseRadii * inverseRadii;\n    czm_ellipsoid temp = czm_ellipsoid(center, radii, inverseRadii, inverseRadiiSquared);\n    return temp;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * DOC_TBA\n *\n * @name czm_ellipsoidWgs84TextureCoordinates\n * @glslFunction\n */\nvec2 czm_ellipsoidWgs84TextureCoordinates(vec3 normal)\n{\n    return vec2(atan(normal.y, normal.x) * czm_oneOverTwoPi + 0.5, asin(normal.z) * czm_oneOverPi + 0.5);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Compares <code>left</code> and <code>right</code> componentwise. Returns <code>true</code>\n * if they are within <code>epsilon</code> and <code>false</code> otherwise. The inputs\n * <code>left</code> and <code>right</code> can be <code>float</code>s, <code>vec2</code>s,\n * <code>vec3</code>s, or <code>vec4</code>s.\n *\n * @name czm_equalsEpsilon\n * @glslFunction\n *\n * @param {} left The first vector.\n * @param {} right The second vector.\n * @param {float} epsilon The epsilon to use for equality testing.\n * @returns {bool} <code>true</code> if the components are within <code>epsilon</code> and <code>false</code> otherwise.\n *\n * @example\n * // GLSL declarations\n * bool czm_equalsEpsilon(float left, float right, float epsilon);\n * bool czm_equalsEpsilon(vec2 left, vec2 right, float epsilon);\n * bool czm_equalsEpsilon(vec3 left, vec3 right, float epsilon);\n * bool czm_equalsEpsilon(vec4 left, vec4 right, float epsilon);\n */\nbool czm_equalsEpsilon(vec4 left, vec4 right, float epsilon) {\n    return all(lessThanEqual(abs(left - right), vec4(epsilon)));\n}\n\nbool czm_equalsEpsilon(vec3 left, vec3 right, float epsilon) {\n    return all(lessThanEqual(abs(left - right), vec3(epsilon)));\n}\n\nbool czm_equalsEpsilon(vec2 left, vec2 right, float epsilon) {\n    return all(lessThanEqual(abs(left - right), vec2(epsilon)));\n}\n\nbool czm_equalsEpsilon(float left, float right, float epsilon) {\n    return (abs(left - right) <= epsilon);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * DOC_TBA\n *\n * @name czm_eyeOffset\n * @glslFunction\n *\n * @param {vec4} positionEC DOC_TBA.\n * @param {vec3} eyeOffset DOC_TBA.\n *\n * @returns {vec4} DOC_TBA.\n */\nvec4 czm_eyeOffset(vec4 positionEC, vec3 eyeOffset)\n{\n    // This equation is approximate in x and y.\n    vec4 p = positionEC;\n    vec4 zEyeOffset = normalize(p) * eyeOffset.z;\n    p.xy += eyeOffset.xy + zEyeOffset.xy;\n    p.z += zEyeOffset.z;\n    return p;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Transforms a position from eye to window coordinates.  The transformation\n * from eye to clip coordinates is done using {@link czm_projection}.\n * The transform from normalized device coordinates to window coordinates is\n * done using {@link czm_viewportTransformation}, which assumes a depth range\n * of <code>near = 0</code> and <code>far = 1</code>.\n * <br /><br />\n * This transform is useful when there is a need to manipulate window coordinates\n * in a vertex shader as done by {@link BillboardCollection}.\n *\n * @name czm_eyeToWindowCoordinates\n * @glslFunction\n *\n * @param {vec4} position The position in eye coordinates to transform.\n *\n * @returns {vec4} The transformed position in window coordinates.\n *\n * @see czm_modelToWindowCoordinates\n * @see czm_projection\n * @see czm_viewportTransformation\n * @see BillboardCollection\n *\n * @example\n * vec4 positionWC = czm_eyeToWindowCoordinates(positionEC);\n */\nvec4 czm_eyeToWindowCoordinates(vec4 positionEC)\n{\n    vec4 q = czm_projection * positionEC;                        // clip coordinates\n    q.xyz /= q.w;                                                // normalized device coordinates\n    q.xyz = (czm_viewportTransformation * vec4(q.xyz, 1.0)).xyz; // window coordinates\n    return q;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Approxiamtes atan over the range [0, 1]. Safe to flip output for negative input.\n *\n * Based on Michal Drobot's approximation from ShaderFastLibs, which in turn is based on\n * \"Efficient approximations for the arctangent function,\" Rajan, S. Sichun Wang Inkol, R. Joyal, A., May 2006.\n * Adapted from ShaderFastLibs under MIT License.\n *\n * Chosen for the following characteristics over range [0, 1]:\n * - basically no error at 0 and 1, important for getting around range limit (naive atan2 via atan requires infinite range atan)\n * - no visible artifacts from first-derivative discontinuities, unlike latitude via range-reduced sqrt asin approximations (at equator)\n *\n * The original code is x * (-0.1784 * abs(x) - 0.0663 * x * x + 1.0301);\n * Removed the abs() in here because it isn't needed, the input range is guaranteed as [0, 1] by how we're approximating atan2.\n *\n * @name czm_fastApproximateAtan\n * @glslFunction\n *\n * @param {float} x Value between 0 and 1 inclusive.\n *\n * @returns {float} Approximation of atan(x)\n */\nfloat czm_fastApproximateAtan(float x) {\n    return x * (-0.1784 * x - 0.0663 * x * x + 1.0301);\n}\n\n/**\n * Approximation of atan2.\n *\n * Range reduction math based on nvidia's cg reference implementation for atan2: http://developer.download.nvidia.com/cg/atan2.html\n * However, we replaced their atan curve with Michael Drobot's (see above).\n *\n * @name czm_fastApproximateAtan\n * @glslFunction\n *\n * @param {float} x Value between -1 and 1 inclusive.\n * @param {float} y Value between -1 and 1 inclusive.\n *\n * @returns {float} Approximation of atan2(x, y)\n */\nfloat czm_fastApproximateAtan(float x, float y) {\n    // atan approximations are usually only reliable over [-1, 1], or, in our case, [0, 1] due to modifications.\n    // So range-reduce using abs and by flipping whether x or y is on top.\n    float t = abs(x); // t used as swap and atan result.\n    float opposite = abs(y);\n    float adjacent = max(t, opposite);\n    opposite = min(t, opposite);\n\n    t = czm_fastApproximateAtan(opposite / adjacent);\n\n    // Undo range reduction\n    t = czm_branchFreeTernary(abs(y) > abs(x), czm_piOverTwo - t, t);\n    t = czm_branchFreeTernary(x < 0.0, czm_pi - t, t);\n    t = czm_branchFreeTernary(y < 0.0, -t, t);\n    return t;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Gets the color with fog at a distance from the camera.\n * \n * @name czm_fog\n * @glslFunction\n * \n * @param {float} distanceToCamera The distance to the camera in meters.\n * @param {vec3} color The original color.\n * @param {vec3} fogColor The color of the fog.\n *\n * @returns {vec3} The color adjusted for fog at the distance from the camera.\n */\nvec3 czm_fog(float distanceToCamera, vec3 color, vec3 fogColor)\n{\n    float scalar = distanceToCamera * czm_fogDensity;\n    float fog = 1.0 - exp(-(scalar * scalar));\n    \n    return mix(color, fogColor, fog);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * DOC_TBA\n *\n * @name czm_geodeticSurfaceNormal\n * @glslFunction\n *\n * @param {vec3} positionOnEllipsoid DOC_TBA\n * @param {vec3} ellipsoidCenter DOC_TBA\n * @param {vec3} oneOverEllipsoidRadiiSquared DOC_TBA\n * \n * @returns {vec3} DOC_TBA.\n */\nvec3 czm_geodeticSurfaceNormal(vec3 positionOnEllipsoid, vec3 ellipsoidCenter, vec3 oneOverEllipsoidRadiiSquared)\n{\n    return normalize((positionOnEllipsoid - ellipsoidCenter) * oneOverEllipsoidRadiiSquared);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * An czm_material with default values. Every material's czm_getMaterial\n * should use this default material as a base for the material it returns.\n * The default normal value is given by materialInput.normalEC.\n *\n * @name czm_getDefaultMaterial\n * @glslFunction\n *\n * @param {czm_materialInput} input The input used to construct the default material.\n *\n * @returns {czm_material} The default material.\n *\n * @see czm_materialInput\n * @see czm_material\n * @see czm_getMaterial\n */\nczm_material czm_getDefaultMaterial(czm_materialInput materialInput)\n{\n    czm_material material;\n    material.diffuse = vec3(0.0);\n    material.specular = 0.0;\n    material.shininess = 1.0;\n    material.normal = materialInput.normalEC;\n    material.emission = vec3(0.0);\n    material.alpha = 1.0;\n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Calculates the intensity of diffusely reflected light.\n *\n * @name czm_getLambertDiffuse\n * @glslFunction\n *\n * @param {vec3} lightDirectionEC Unit vector pointing to the light source in eye coordinates.\n * @param {vec3} normalEC The surface normal in eye coordinates.\n *\n * @returns {float} The intensity of the diffuse reflection.\n *\n * @see czm_phong\n *\n * @example\n * float diffuseIntensity = czm_getLambertDiffuse(lightDirectionEC, normalEC);\n * float specularIntensity = czm_getSpecular(lightDirectionEC, toEyeEC, normalEC, 200);\n * vec3 color = (diffuseColor * diffuseIntensity) + (specularColor * specularIntensity);\n */\nfloat czm_getLambertDiffuse(vec3 lightDirectionEC, vec3 normalEC)\n{\n    return max(dot(lightDirectionEC, normalEC), 0.0);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Calculates the specular intensity of reflected light.\n *\n * @name czm_getSpecular\n * @glslFunction\n *\n * @param {vec3} lightDirectionEC Unit vector pointing to the light source in eye coordinates.\n * @param {vec3} toEyeEC Unit vector pointing to the eye position in eye coordinates.\n * @param {vec3} normalEC The surface normal in eye coordinates.\n * @param {float} shininess The sharpness of the specular reflection.  Higher values create a smaller, more focused specular highlight.\n *\n * @returns {float} The intensity of the specular highlight.\n *\n * @see czm_phong\n *\n * @example\n * float diffuseIntensity = czm_getLambertDiffuse(lightDirectionEC, normalEC);\n * float specularIntensity = czm_getSpecular(lightDirectionEC, toEyeEC, normalEC, 200);\n * vec3 color = (diffuseColor * diffuseIntensity) + (specularColor * specularIntensity);\n */\nfloat czm_getSpecular(vec3 lightDirectionEC, vec3 toEyeEC, vec3 normalEC, float shininess)\n{\n    vec3 toReflectedLight = reflect(-lightDirectionEC, normalEC);\n    float specular = max(dot(toReflectedLight, toEyeEC), 0.0);\n\n    // pow has undefined behavior if both parameters <= 0.\n    // Prevent this by making sure shininess is at least czm_epsilon2.\n    return pow(specular, max(shininess, czm_epsilon2));\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * @private\n */\nvec4 czm_getWaterNoise(sampler2D normalMap, vec2 uv, float time, float angleInRadians)\n{\n    float cosAngle = cos(angleInRadians);\n    float sinAngle = sin(angleInRadians);\n\n    // time dependent sampling directions\n    vec2 s0 = vec2(1.0/17.0, 0.0);\n    vec2 s1 = vec2(-1.0/29.0, 0.0);\n    vec2 s2 = vec2(1.0/101.0, 1.0/59.0);\n    vec2 s3 = vec2(-1.0/109.0, -1.0/57.0);\n\n    // rotate sampling direction by specified angle\n    s0 = vec2((cosAngle * s0.x) - (sinAngle * s0.y), (sinAngle * s0.x) + (cosAngle * s0.y));\n    s1 = vec2((cosAngle * s1.x) - (sinAngle * s1.y), (sinAngle * s1.x) + (cosAngle * s1.y));\n    s2 = vec2((cosAngle * s2.x) - (sinAngle * s2.y), (sinAngle * s2.x) + (cosAngle * s2.y));\n    s3 = vec2((cosAngle * s3.x) - (sinAngle * s3.y), (sinAngle * s3.x) + (cosAngle * s3.y));\n\n    vec2 uv0 = (uv/103.0) + (time * s0);\n    vec2 uv1 = uv/107.0 + (time * s1) + vec2(0.23);\n    vec2 uv2 = uv/vec2(897.0, 983.0) + (time * s2) + vec2(0.51);\n    vec2 uv3 = uv/vec2(991.0, 877.0) + (time * s3) + vec2(0.71);\n\n    uv0 = fract(uv0);\n    uv1 = fract(uv1);\n    uv2 = fract(uv2);\n    uv3 = fract(uv3);\n    vec4 noise = (texture2D(normalMap, uv0)) +\n                 (texture2D(normalMap, uv1)) +\n                 (texture2D(normalMap, uv2)) +\n                 (texture2D(normalMap, uv3));\n\n    // average and scale to between -1 and 1\n    return ((noise / 4.0) - 0.5) * 2.0;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Returns the WGS84 ellipsoid, with its center at the origin of world coordinates, in eye coordinates.\n *\n * @name czm_getWgs84EllipsoidEC\n * @glslFunction\n *\n * @returns {czm_ellipsoid} The WGS84 ellipsoid, with its center at the origin of world coordinates, in eye coordinates.\n *\n * @see Ellipsoid.WGS84\n *\n * @example\n * czm_ellipsoid ellipsoid = czm_getWgs84EllipsoidEC();\n */\nczm_ellipsoid czm_getWgs84EllipsoidEC()\n{\n    vec3 radii = vec3(6378137.0, 6378137.0, 6356752.314245);\n    vec3 inverseRadii = vec3(1.0 / radii.x, 1.0 / radii.y, 1.0 / radii.z);\n    vec3 inverseRadiiSquared = inverseRadii * inverseRadii;\n    czm_ellipsoid temp = czm_ellipsoid(czm_view[3].xyz, radii, inverseRadii, inverseRadiiSquared);\n    return temp;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Converts an HSB color (hue, saturation, brightness) to RGB\n * HSB <-> RGB conversion with minimal branching: {@link http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl}\n *\n * @name czm_HSBToRGB\n * @glslFunction\n * \n * @param {vec3} hsb The color in HSB.\n *\n * @returns {vec3} The color in RGB.\n *\n * @example\n * vec3 hsb = czm_RGBToHSB(rgb);\n * hsb.z *= 0.1;\n * rgb = czm_HSBToRGB(hsb);\n */\n\nconst vec4 K_HSB2RGB = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n\nvec3 czm_HSBToRGB(vec3 hsb)\n{\n    vec3 p = abs(fract(hsb.xxx + K_HSB2RGB.xyz) * 6.0 - K_HSB2RGB.www);\n    return hsb.z * mix(K_HSB2RGB.xxx, clamp(p - K_HSB2RGB.xxx, 0.0, 1.0), hsb.y);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Converts an HSL color (hue, saturation, lightness) to RGB\n * HSL <-> RGB conversion: {@link http://www.chilliant.com/rgb2hsv.html}\n *\n * @name czm_HSLToRGB\n * @glslFunction\n * \n * @param {vec3} rgb The color in HSL.\n *\n * @returns {vec3} The color in RGB.\n *\n * @example\n * vec3 hsl = czm_RGBToHSL(rgb);\n * hsl.z *= 0.1;\n * rgb = czm_HSLToRGB(hsl);\n */\n\nvec3 hueToRGB(float hue)\n{\n    float r = abs(hue * 6.0 - 3.0) - 1.0;\n    float g = 2.0 - abs(hue * 6.0 - 2.0);\n    float b = 2.0 - abs(hue * 6.0 - 4.0);\n    return clamp(vec3(r, g, b), 0.0, 1.0);\n}\n\nvec3 czm_HSLToRGB(vec3 hsl)\n{\n    vec3 rgb = hueToRGB(hsl.x);\n    float c = (1.0 - abs(2.0 * hsl.z - 1.0)) * hsl.y;\n    return (rgb - 0.5) * c + hsl.z;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Adjusts the hue of a color.\n * \n * @name czm_hue\n * @glslFunction\n * \n * @param {vec3} rgb The color.\n * @param {float} adjustment The amount to adjust the hue of the color in radians.\n *\n * @returns {float} The color with the hue adjusted.\n *\n * @example\n * vec3 adjustHue = czm_hue(color, czm_pi); // The same as czm_hue(color, -czm_pi)\n */\nvec3 czm_hue(vec3 rgb, float adjustment)\n{\n    const mat3 toYIQ = mat3(0.299,     0.587,     0.114,\n                            0.595716, -0.274453, -0.321263,\n                            0.211456, -0.522591,  0.311135);\n    const mat3 toRGB = mat3(1.0,  0.9563,  0.6210,\n                            1.0, -0.2721, -0.6474,\n                            1.0, -1.107,   1.7046);\n    \n    vec3 yiq = toYIQ * rgb;\n    float hue = atan(yiq.z, yiq.y) + adjustment;\n    float chroma = sqrt(yiq.z * yiq.z + yiq.y * yiq.y);\n    \n    vec3 color = vec3(yiq.x, chroma * cos(hue), chroma * sin(hue));\n    return toRGB * color;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Determines if a time interval is empty.\n *\n * @name czm_isEmpty\n * @glslFunction \n * \n * @param {czm_raySegment} interval The interval to test.\n * \n * @returns {bool} <code>true</code> if the time interval is empty; otherwise, <code>false</code>.\n *\n * @example\n * bool b0 = czm_isEmpty(czm_emptyRaySegment);      // true\n * bool b1 = czm_isEmpty(czm_raySegment(0.0, 1.0)); // false\n * bool b2 = czm_isEmpty(czm_raySegment(1.0, 1.0)); // false, contains 1.0.\n */\nbool czm_isEmpty(czm_raySegment interval)\n{\n    return (interval.stop < 0.0);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Determines if a time interval is empty.\n *\n * @name czm_isFull\n * @glslFunction \n * \n * @param {czm_raySegment} interval The interval to test.\n * \n * @returns {bool} <code>true</code> if the time interval is empty; otherwise, <code>false</code>.\n *\n * @example\n * bool b0 = czm_isEmpty(czm_emptyRaySegment);      // true\n * bool b1 = czm_isEmpty(czm_raySegment(0.0, 1.0)); // false\n * bool b2 = czm_isEmpty(czm_raySegment(1.0, 1.0)); // false, contains 1.0.\n */\nbool czm_isFull(czm_raySegment interval)\n{\n    return (interval.start == 0.0 && interval.stop == czm_infinity);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Computes the fraction of a Web Wercator rectangle at which a given geodetic latitude is located.\n *\n * @name czm_latitudeToWebMercatorFraction\n * @glslFunction\n *\n * @param {float} latitude The geodetic latitude, in radians.\n * @param {float} southMercatorY The Web Mercator coordinate of the southern boundary of the rectangle.\n * @param {float} oneOverMercatorHeight The total height of the rectangle in Web Mercator coordinates.\n *\n * @returns {float} The fraction of the rectangle at which the latitude occurs.  If the latitude is the southern\n *          boundary of the rectangle, the return value will be zero.  If it is the northern boundary, the return\n *          value will be 1.0.  Latitudes in between are mapped according to the Web Mercator projection.\n */ \nfloat czm_latitudeToWebMercatorFraction(float latitude, float southMercatorY, float oneOverMercatorHeight)\n{\n    float sinLatitude = sin(latitude);\n    float mercatorY = 0.5 * log((1.0 + sinLatitude) / (1.0 - sinLatitude));\n    \n    return (mercatorY - southMercatorY) * oneOverMercatorHeight;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Computes distance from an point in 2D to a line in 2D.\n *\n * @name czm_lineDistance\n * @glslFunction\n *\n * param {vec2} point1 A point along the line.\n * param {vec2} point2 A point along the line.\n * param {vec2} point A point that may or may not be on the line.\n * returns {float} The distance from the point to the line.\n */\nfloat czm_lineDistance(vec2 point1, vec2 point2, vec2 point) {\n    return abs((point2.y - point1.y) * point.x - (point2.x - point1.x) * point.y + point2.x * point1.y - point2.y * point1.x) / distance(point2, point1);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Computes the luminance of a color. \n *\n * @name czm_luminance\n * @glslFunction\n *\n * @param {vec3} rgb The color.\n * \n * @returns {float} The luminance.\n *\n * @example\n * float light = czm_luminance(vec3(0.0)); // 0.0\n * float dark = czm_luminance(vec3(1.0));  // ~1.0 \n */\nfloat czm_luminance(vec3 rgb)\n{\n    // Algorithm from Chapter 10 of Graphics Shaders.\n    const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n    return dot(rgb, W);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Computes the size of a pixel in meters at a distance from the eye.\n\n * @name czm_metersPerPixel\n * @glslFunction\n *\n * @param {vec3} positionEC The position to get the meters per pixel in eye coordinates.\n *\n * @returns {float} The meters per pixel at positionEC.\n */\nfloat czm_metersPerPixel(vec4 positionEC)\n{\n    float width = czm_viewport.z;\n    float height = czm_viewport.w;\n    float pixelWidth;\n    float pixelHeight;\n\n    float top = czm_frustumPlanes.x;\n    float bottom = czm_frustumPlanes.y;\n    float left = czm_frustumPlanes.z;\n    float right = czm_frustumPlanes.w;\n\n    if (czm_sceneMode == czm_sceneMode2D || czm_orthographicIn3D == 1.0)\n    {\n        float frustumWidth = right - left;\n        float frustumHeight = top - bottom;\n        pixelWidth = frustumWidth / width;\n        pixelHeight = frustumHeight / height;\n    }\n    else\n    {\n        float distanceToPixel = -positionEC.z;\n        float inverseNear = 1.0 / czm_currentFrustum.x;\n        float tanTheta = top * inverseNear;\n        pixelHeight = 2.0 * distanceToPixel * tanTheta / height;\n        tanTheta = right * inverseNear;\n        pixelWidth = 2.0 * distanceToPixel * tanTheta / width;\n    }\n\n    return max(pixelWidth, pixelHeight);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Transforms a position from model to window coordinates.  The transformation\n * from model to clip coordinates is done using {@link czm_modelViewProjection}.\n * The transform from normalized device coordinates to window coordinates is\n * done using {@link czm_viewportTransformation}, which assumes a depth range\n * of <code>near = 0</code> and <code>far = 1</code>.\n * <br /><br />\n * This transform is useful when there is a need to manipulate window coordinates\n * in a vertex shader as done by {@link BillboardCollection}.\n * <br /><br />\n * This function should not be confused with {@link czm_viewportOrthographic},\n * which is an orthographic projection matrix that transforms from window \n * coordinates to clip coordinates.\n *\n * @name czm_modelToWindowCoordinates\n * @glslFunction\n *\n * @param {vec4} position The position in model coordinates to transform.\n *\n * @returns {vec4} The transformed position in window coordinates.\n *\n * @see czm_eyeToWindowCoordinates\n * @see czm_modelViewProjection\n * @see czm_viewportTransformation\n * @see czm_viewportOrthographic\n * @see BillboardCollection\n *\n * @example\n * vec4 positionWC = czm_modelToWindowCoordinates(positionMC);\n */\nvec4 czm_modelToWindowCoordinates(vec4 position)\n{\n    vec4 q = czm_modelViewProjection * position;                // clip coordinates\n    q.xyz /= q.w;                                                // normalized device coordinates\n    q.xyz = (czm_viewportTransformation * vec4(q.xyz, 1.0)).xyz; // window coordinates\n    return q;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * DOC_TBA\n *\n * @name czm_multiplyWithColorBalance\n * @glslFunction\n */\nvec3 czm_multiplyWithColorBalance(vec3 left, vec3 right)\n{\n    // Algorithm from Chapter 10 of Graphics Shaders.\n    const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n    \n    vec3 target = left * right;\n    float leftLuminance = dot(left, W);\n    float rightLuminance = dot(right, W);\n    float targetLuminance = dot(target, W);\n    \n    return ((leftLuminance + rightLuminance) / (2.0 * targetLuminance)) * target;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Computes a value that scales with distance.  The scaling is clamped at the near and\n * far distances, and does not extrapolate.  This function works with the\n * {@link NearFarScalar} JavaScript class.\n *\n * @name czm_nearFarScalar\n * @glslFunction\n *\n * @param {vec4} nearFarScalar A vector with 4 components: Near distance (x), Near value (y), Far distance (z), Far value (w).\n * @param {float} cameraDistSq The square of the current distance from the camera.\n *\n * @returns {float} The value at this distance.\n */\nfloat czm_nearFarScalar(vec4 nearFarScalar, float cameraDistSq)\n{\n    float valueAtMin = nearFarScalar.y;\n    float valueAtMax = nearFarScalar.w;\n    float nearDistanceSq = nearFarScalar.x * nearFarScalar.x;\n    float farDistanceSq = nearFarScalar.z * nearFarScalar.z;\n\n    float t = (cameraDistSq - nearDistanceSq) / (farDistanceSq - nearDistanceSq);\n\n    t = pow(clamp(t, 0.0, 1.0), 0.2);\n\n    return mix(valueAtMin, valueAtMax, t);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return" /**\n  * Decodes a unit-length vector in 'oct' encoding to a normalized 3-component Cartesian vector.\n  * The 'oct' encoding is described in \"A Survey of Efficient Representations of Independent Unit Vectors\",\n  * Cigolle et al 2014: http://jcgt.org/published/0003/02/01/\n  *\n  * @name czm_octDecode\n  * @param {vec2} encoded The oct-encoded, unit-length vector\n  * @param {float} range The maximum value of the SNORM range. The encoded vector is stored in log2(rangeMax+1) bits.\n  * @returns {vec3} The decoded and normalized vector\n  */\n  vec3 czm_octDecode(vec2 encoded, float range)\n  {\n      if (encoded.x == 0.0 && encoded.y == 0.0) {\n          return vec3(0.0, 0.0, 0.0);\n      }\n\n     encoded = encoded / range * 2.0 - 1.0;\n     vec3 v = vec3(encoded.x, encoded.y, 1.0 - abs(encoded.x) - abs(encoded.y));\n     if (v.z < 0.0)\n     {\n         v.xy = (1.0 - abs(v.yx)) * czm_signNotZero(v.xy);\n     }\n\n     return normalize(v);\n  }\n\n/**\n * Decodes a unit-length vector in 'oct' encoding to a normalized 3-component Cartesian vector.\n * The 'oct' encoding is described in \"A Survey of Efficient Representations of Independent Unit Vectors\",\n * Cigolle et al 2014: http://jcgt.org/published/0003/02/01/\n *\n * @name czm_octDecode\n * @param {vec2} encoded The oct-encoded, unit-length vector\n * @returns {vec3} The decoded and normalized vector\n */\n vec3 czm_octDecode(vec2 encoded)\n {\n    return czm_octDecode(encoded, 255.0);\n }\n\n /**\n * Decodes a unit-length vector in 'oct' encoding packed into a floating-point number to a normalized 3-component Cartesian vector.\n * The 'oct' encoding is described in \"A Survey of Efficient Representations of Independent Unit Vectors\",\n * Cigolle et al 2014: http://jcgt.org/published/0003/02/01/\n *\n * @name czm_octDecode\n * @param {float} encoded The oct-encoded, unit-length vector\n * @returns {vec3} The decoded and normalized vector\n */\n vec3 czm_octDecode(float encoded)\n {\n    float temp = encoded / 256.0;\n    float x = floor(temp);\n    float y = (temp - x) * 256.0;\n    return czm_octDecode(vec2(x, y));\n }\n\n/**\n * Decodes three unit-length vectors in 'oct' encoding packed into two floating-point numbers to normalized 3-component Cartesian vectors.\n * The 'oct' encoding is described in \"A Survey of Efficient Representations of Independent Unit Vectors\",\n * Cigolle et al 2014: http://jcgt.org/published/0003/02/01/\n *\n * @name czm_octDecode\n * @param {vec2} encoded The packed oct-encoded, unit-length vectors.\n * @param {vec3} vector1 One decoded and normalized vector.\n * @param {vec3} vector2 One decoded and normalized vector.\n * @param {vec3} vector3 One decoded and normalized vector.\n */\n  void czm_octDecode(vec2 encoded, out vec3 vector1, out vec3 vector2, out vec3 vector3)\n {\n    float temp = encoded.x / 65536.0;\n    float x = floor(temp);\n    float encodedFloat1 = (temp - x) * 65536.0;\n\n    temp = encoded.y / 65536.0;\n    float y = floor(temp);\n    float encodedFloat2 = (temp - y) * 65536.0;\n\n    vector1 = czm_octDecode(encodedFloat1);\n    vector2 = czm_octDecode(encodedFloat2);\n    vector3 = czm_octDecode(vec2(x, y));\n }\n\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Packs a depth value into a vec3 that can be represented by unsigned bytes.\n *\n * @name czm_packDepth\n * @glslFunction\n *\n * @param {float} depth The floating-point depth.\n * @returns {vec3} The packed depth.\n */\nvec4 czm_packDepth(float depth)\n{\n    // See Aras Pranckevičius' post Encoding Floats to RGBA\n    // http://aras-p.info/blog/2009/07/30/encoding-floats-to-rgba-the-final/\n    vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * depth;\n    enc = fract(enc);\n    enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n    return enc;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"float czm_private_getLambertDiffuseOfMaterial(vec3 lightDirectionEC, czm_material material)\n{\n    return czm_getLambertDiffuse(lightDirectionEC, material.normal);\n}\n\nfloat czm_private_getSpecularOfMaterial(vec3 lightDirectionEC, vec3 toEyeEC, czm_material material)\n{\n    return czm_getSpecular(lightDirectionEC, toEyeEC, material.normal, material.shininess);\n}\n\n/**\n * Computes a color using the Phong lighting model.\n *\n * @name czm_phong\n * @glslFunction\n *\n * @param {vec3} toEye A normalized vector from the fragment to the eye in eye coordinates.\n * @param {czm_material} material The fragment's material.\n * \n * @returns {vec4} The computed color.\n * \n * @example\n * vec3 positionToEyeEC = // ...\n * czm_material material = // ...\n * gl_FragColor = czm_phong(normalize(positionToEyeEC), material);\n *\n * @see czm_getMaterial\n */\nvec4 czm_phong(vec3 toEye, czm_material material)\n{\n    // Diffuse from directional light sources at eye (for top-down)\n    float diffuse = czm_private_getLambertDiffuseOfMaterial(vec3(0.0, 0.0, 1.0), material);\n    if (czm_sceneMode == czm_sceneMode3D) {\n        // (and horizon views in 3D)\n        diffuse += czm_private_getLambertDiffuseOfMaterial(vec3(0.0, 1.0, 0.0), material);\n    }\n\n    // Specular from sun and pseudo-moon\n    float specular = czm_private_getSpecularOfMaterial(czm_sunDirectionEC, toEye, material) + czm_private_getSpecularOfMaterial(czm_moonDirectionEC, toEye, material);\n\n    // Temporary workaround for adding ambient.\n    vec3 materialDiffuse = material.diffuse * 0.5;\n    \n    vec3 ambient = materialDiffuse;\n    vec3 color = ambient + material.emission;\n    color += materialDiffuse * diffuse;\n    color += material.specular * specular;\n\n    return vec4(color, material.alpha);\n}\n\nvec4 czm_private_phong(vec3 toEye, czm_material material)\n{\n    float diffuse = czm_private_getLambertDiffuseOfMaterial(czm_sunDirectionEC, material);\n    float specular = czm_private_getSpecularOfMaterial(czm_sunDirectionEC, toEye, material);\n\n    vec3 ambient = vec3(0.0);\n    vec3 color = ambient + material.emission;\n    color += material.diffuse * diffuse;\n    color += material.specular * specular;\n\n    return vec4(color, material.alpha);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Computes distance from a point to a plane.\n *\n * @name czm_planeDistance\n * @glslFunction\n *\n * param {vec4} plane A Plane in Hessian Normal Form. See Plane.js\n * param {vec3} point A point in the same space as the plane.\n * returns {float} The distance from the point to the plane.\n */\nfloat czm_planeDistance(vec4 plane, vec3 point) {\n    return (dot(plane.xyz, point) + plane.w);\n}\n\n/**\n * Computes distance from a point to a plane.\n *\n * @name czm_planeDistance\n * @glslFunction\n *\n * param {vec3} planeNormal Normal for a plane in Hessian Normal Form. See Plane.js\n * param {float} planeDistance Distance for a plane in Hessian Normal form. See Plane.js\n * param {vec3} point A point in the same space as the plane.\n * returns {float} The distance from the point to the plane.\n */\nfloat czm_planeDistance(vec3 planeNormal, float planeDistance, vec3 point) {\n    return (dot(planeNormal, point) + planeDistance);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Computes the point along a ray at the given time.  <code>time</code> can be positive, negative, or zero.\n *\n * @name czm_pointAlongRay\n * @glslFunction\n *\n * @param {czm_ray} ray The ray to compute the point along.\n * @param {float} time The time along the ray.\n * \n * @returns {vec3} The point along the ray at the given time.\n * \n * @example\n * czm_ray ray = czm_ray(vec3(0.0), vec3(1.0, 0.0, 0.0)); // origin, direction\n * vec3 v = czm_pointAlongRay(ray, 2.0); // (2.0, 0.0, 0.0)\n */\nvec3 czm_pointAlongRay(czm_ray ray, float time)\n{\n    return ray.origin + (time * ray.direction);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * DOC_TBA\n *\n * @name czm_rayEllipsoidIntersectionInterval\n * @glslFunction\n */\nczm_raySegment czm_rayEllipsoidIntersectionInterval(czm_ray ray, czm_ellipsoid ellipsoid)\n{\n   // ray and ellipsoid center in eye coordinates.  radii in model coordinates.\n    vec3 q = ellipsoid.inverseRadii * (czm_inverseModelView * vec4(ray.origin, 1.0)).xyz;\n    vec3 w = ellipsoid.inverseRadii * (czm_inverseModelView * vec4(ray.direction, 0.0)).xyz;\n   \n    q = q - ellipsoid.inverseRadii * (czm_inverseModelView * vec4(ellipsoid.center, 1.0)).xyz;\n    \n    float q2 = dot(q, q);\n    float qw = dot(q, w);\n    \n    if (q2 > 1.0) // Outside ellipsoid.\n    {\n        if (qw >= 0.0) // Looking outward or tangent (0 intersections).\n        {\n            return czm_emptyRaySegment;\n        }\n        else // qw < 0.0.\n        {\n            float qw2 = qw * qw;\n            float difference = q2 - 1.0; // Positively valued.\n            float w2 = dot(w, w);\n            float product = w2 * difference;\n            \n            if (qw2 < product) // Imaginary roots (0 intersections).\n            {\n                return czm_emptyRaySegment;     \n            }   \n            else if (qw2 > product) // Distinct roots (2 intersections).\n            {\n                float discriminant = qw * qw - product;\n                float temp = -qw + sqrt(discriminant); // Avoid cancellation.\n                float root0 = temp / w2;\n                float root1 = difference / temp;\n                if (root0 < root1)\n                {\n                    czm_raySegment i = czm_raySegment(root0, root1);\n                    return i;\n                }\n                else\n                {\n                    czm_raySegment i = czm_raySegment(root1, root0);\n                    return i;\n                }\n            }\n            else // qw2 == product.  Repeated roots (2 intersections).\n            {\n                float root = sqrt(difference / w2);\n                czm_raySegment i = czm_raySegment(root, root);\n                return i;\n            }\n        }\n    }\n    else if (q2 < 1.0) // Inside ellipsoid (2 intersections).\n    {\n        float difference = q2 - 1.0; // Negatively valued.\n        float w2 = dot(w, w);\n        float product = w2 * difference; // Negatively valued.\n        float discriminant = qw * qw - product;\n        float temp = -qw + sqrt(discriminant); // Positively valued.\n        czm_raySegment i = czm_raySegment(0.0, temp / w2);\n        return i;\n    }\n    else // q2 == 1.0. On ellipsoid.\n    {\n        if (qw < 0.0) // Looking inward.\n        {\n            float w2 = dot(w, w);\n            czm_raySegment i = czm_raySegment(0.0, -qw / w2);\n            return i;\n        }\n        else // qw >= 0.0.  Looking outward or tangent.\n        {\n            return czm_emptyRaySegment;\n        }\n    }\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"float czm_readDepth(sampler2D depthTexture, vec2 texCoords)\n{\n    return czm_reverseLogDepth(texture2D(depthTexture, texCoords).r);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"float czm_reverseLogDepth(float logZ)\n{\n#ifdef LOG_DEPTH\n    float near = czm_currentFrustum.x;\n    float far = czm_currentFrustum.y;\n    logZ = pow(2.0, logZ * czm_log2FarPlusOne) - 1.0;\n    logZ = far * (1.0 - near / logZ) / (far - near);\n#endif\n    return logZ;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Converts an RGB color to HSB (hue, saturation, brightness)\n * HSB <-> RGB conversion with minimal branching: {@link http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl}\n *\n * @name czm_RGBToHSB\n * @glslFunction\n * \n * @param {vec3} rgb The color in RGB.\n *\n * @returns {vec3} The color in HSB.\n *\n * @example\n * vec3 hsb = czm_RGBToHSB(rgb);\n * hsb.z *= 0.1;\n * rgb = czm_HSBToRGB(hsb);\n */\n\nconst vec4 K_RGB2HSB = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n\nvec3 czm_RGBToHSB(vec3 rgb)\n{\n    vec4 p = mix(vec4(rgb.bg, K_RGB2HSB.wz), vec4(rgb.gb, K_RGB2HSB.xy), step(rgb.b, rgb.g));\n    vec4 q = mix(vec4(p.xyw, rgb.r), vec4(rgb.r, p.yzx), step(p.x, rgb.r));\n\n    float d = q.x - min(q.w, q.y);\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + czm_epsilon7)), d / (q.x + czm_epsilon7), q.x);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Converts an RGB color to HSL (hue, saturation, lightness)\n * HSL <-> RGB conversion: {@link http://www.chilliant.com/rgb2hsv.html}\n *\n * @name czm_RGBToHSL\n * @glslFunction\n * \n * @param {vec3} rgb The color in RGB.\n *\n * @returns {vec3} The color in HSL.\n *\n * @example\n * vec3 hsl = czm_RGBToHSL(rgb);\n * hsl.z *= 0.1;\n * rgb = czm_HSLToRGB(hsl);\n */\n \nvec3 RGBtoHCV(vec3 rgb)\n{\n    // Based on work by Sam Hocevar and Emil Persson\n    vec4 p = (rgb.g < rgb.b) ? vec4(rgb.bg, -1.0, 2.0 / 3.0) : vec4(rgb.gb, 0.0, -1.0 / 3.0);\n    vec4 q = (rgb.r < p.x) ? vec4(p.xyw, rgb.r) : vec4(rgb.r, p.yzx);\n    float c = q.x - min(q.w, q.y);\n    float h = abs((q.w - q.y) / (6.0 * c + czm_epsilon7) + q.z);\n    return vec3(h, c, q.x);\n}\n\nvec3 czm_RGBToHSL(vec3 rgb)\n{\n    vec3 hcv = RGBtoHCV(rgb);\n    float l = hcv.z - hcv.y * 0.5;\n    float s = hcv.y / (1.0 - abs(l * 2.0 - 1.0) + czm_epsilon7);\n    return vec3(hcv.x, s, l);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Converts an RGB color to CIE Yxy.\n * <p>The conversion is described in\n * {@link http://content.gpwiki.org/index.php/D3DBook:High-Dynamic_Range_Rendering#Luminance_Transform|Luminance Transform}\n * </p>\n * \n * @name czm_RGBToXYZ\n * @glslFunction\n * \n * @param {vec3} rgb The color in RGB.\n *\n * @returns {vec3} The color in CIE Yxy.\n *\n * @example\n * vec3 xyz = czm_RGBToXYZ(rgb);\n * xyz.x = max(xyz.x - luminanceThreshold, 0.0);\n * rgb = czm_XYZToRGB(xyz);\n */\nvec3 czm_RGBToXYZ(vec3 rgb)\n{\n    const mat3 RGB2XYZ = mat3(0.4124, 0.2126, 0.0193,\n                              0.3576, 0.7152, 0.1192,\n                              0.1805, 0.0722, 0.9505);\n    vec3 xyz = RGB2XYZ * rgb;\n    vec3 Yxy;\n    Yxy.r = xyz.g;\n    float temp = dot(vec3(1.0), xyz);\n    Yxy.gb = xyz.rg / temp;\n    return Yxy;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Adjusts the saturation of a color.\n * \n * @name czm_saturation\n * @glslFunction\n * \n * @param {vec3} rgb The color.\n * @param {float} adjustment The amount to adjust the saturation of the color.\n *\n * @returns {float} The color with the saturation adjusted.\n *\n * @example\n * vec3 greyScale = czm_saturation(color, 0.0);\n * vec3 doubleSaturation = czm_saturation(color, 2.0);\n */\nvec3 czm_saturation(vec3 rgb, float adjustment)\n{\n    // Algorithm from Chapter 16 of OpenGL Shading Language\n    const vec3 W = vec3(0.2125, 0.7154, 0.0721);\n    vec3 intensity = vec3(dot(rgb, W));\n    return mix(intensity, rgb, adjustment);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"\nfloat czm_sampleShadowMap(samplerCube shadowMap, vec3 d)\n{\n    return czm_unpackDepth(textureCube(shadowMap, d));\n}\n\nfloat czm_sampleShadowMap(sampler2D shadowMap, vec2 uv)\n{\n#ifdef USE_SHADOW_DEPTH_TEXTURE\n    return texture2D(shadowMap, uv).r;\n#else\n    return czm_unpackDepth(texture2D(shadowMap, uv));\n#endif\n}\n\nfloat czm_shadowDepthCompare(samplerCube shadowMap, vec3 uv, float depth)\n{\n    return step(depth, czm_sampleShadowMap(shadowMap, uv));\n}\n\nfloat czm_shadowDepthCompare(sampler2D shadowMap, vec2 uv, float depth)\n{\n    return step(depth, czm_sampleShadowMap(shadowMap, uv));\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"\nfloat czm_private_shadowVisibility(float visibility, float nDotL, float normalShadingSmooth, float darkness)\n{\n#ifdef USE_NORMAL_SHADING\n#ifdef USE_NORMAL_SHADING_SMOOTH\n    float strength = clamp(nDotL / normalShadingSmooth, 0.0, 1.0);\n#else\n    float strength = step(0.0, nDotL);\n#endif\n    visibility *= strength;\n#endif\n\n    visibility = max(visibility, darkness);\n    return visibility;\n}\n\n#ifdef USE_CUBE_MAP_SHADOW\nfloat czm_shadowVisibility(samplerCube shadowMap, czm_shadowParameters shadowParameters)\n{\n    float depthBias = shadowParameters.depthBias;\n    float depth = shadowParameters.depth;\n    float nDotL = shadowParameters.nDotL;\n    float normalShadingSmooth = shadowParameters.normalShadingSmooth;\n    float darkness = shadowParameters.darkness;\n    vec3 uvw = shadowParameters.texCoords;\n\n    depth -= depthBias;\n    float visibility = czm_shadowDepthCompare(shadowMap, uvw, depth);\n    return czm_private_shadowVisibility(visibility, nDotL, normalShadingSmooth, darkness);\n}\n#else\nfloat czm_shadowVisibility(sampler2D shadowMap, czm_shadowParameters shadowParameters)\n{\n    float depthBias = shadowParameters.depthBias;\n    float depth = shadowParameters.depth;\n    float nDotL = shadowParameters.nDotL;\n    float normalShadingSmooth = shadowParameters.normalShadingSmooth;\n    float darkness = shadowParameters.darkness;\n    vec2 uv = shadowParameters.texCoords;\n\n    depth -= depthBias;\n#ifdef USE_SOFT_SHADOWS\n    vec2 texelStepSize = shadowParameters.texelStepSize;\n    float radius = 1.0;\n    float dx0 = -texelStepSize.x * radius;\n    float dy0 = -texelStepSize.y * radius;\n    float dx1 = texelStepSize.x * radius;\n    float dy1 = texelStepSize.y * radius;\n    float visibility = (\n        czm_shadowDepthCompare(shadowMap, uv, depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, dy0), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(0.0, dy0), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, dy0), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, 0.0), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, 0.0), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, dy1), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(0.0, dy1), depth) +\n        czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, dy1), depth)\n    ) * (1.0 / 9.0);\n#else\n    float visibility = czm_shadowDepthCompare(shadowMap, uv, depth);\n#endif\n\n    return czm_private_shadowVisibility(visibility, nDotL, normalShadingSmooth, darkness);\n}\n#endif\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Returns 1.0 if the given value is positive or zero, and -1.0 if it is negative.  This is similar to the GLSL\n * built-in function <code>sign</code> except that returns 1.0 instead of 0.0 when the input value is 0.0.\n * \n * @name czm_signNotZero\n * @glslFunction\n *\n * @param {} value The value for which to determine the sign.\n * @returns {} 1.0 if the value is positive or zero, -1.0 if the value is negative.\n */\nfloat czm_signNotZero(float value)\n{\n    return value >= 0.0 ? 1.0 : -1.0;\n}\n\nvec2 czm_signNotZero(vec2 value)\n{\n    return vec2(czm_signNotZero(value.x), czm_signNotZero(value.y));\n}\n\nvec3 czm_signNotZero(vec3 value)\n{\n    return vec3(czm_signNotZero(value.x), czm_signNotZero(value.y), czm_signNotZero(value.z));\n}\n\nvec4 czm_signNotZero(vec4 value)\n{\n    return vec4(czm_signNotZero(value.x), czm_signNotZero(value.y), czm_signNotZero(value.z), czm_signNotZero(value.w));\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Creates a matrix that transforms vectors from tangent space to eye space.\n *\n * @name czm_tangentToEyeSpaceMatrix\n * @glslFunction\n *\n * @param {vec3} normalEC The normal vector in eye coordinates.\n * @param {vec3} tangentEC The tangent vector in eye coordinates.\n * @param {vec3} bitangentEC The bitangent vector in eye coordinates.\n *\n * @returns {mat3} The matrix that transforms from tangent space to eye space.\n *\n * @example\n * mat3 tangentToEye = czm_tangentToEyeSpaceMatrix(normalEC, tangentEC, bitangentEC);\n * vec3 normal = tangentToEye * texture2D(normalMap, st).xyz;\n */\nmat3 czm_tangentToEyeSpaceMatrix(vec3 normalEC, vec3 tangentEC, vec3 bitangentEC)\n{\n    vec3 normal = normalize(normalEC);\n    vec3 tangent = normalize(tangentEC);\n    vec3 bitangent = normalize(bitangentEC);\n    return mat3(tangent.x  , tangent.y  , tangent.z,\n                bitangent.x, bitangent.y, bitangent.z,\n                normal.x   , normal.y   , normal.z);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"vec4 czm_transformPlane(vec4 clippingPlane, mat4 transform) {\n    vec3 transformedDirection = normalize((transform * vec4(clippingPlane.xyz, 0.0)).xyz);\n    vec3 transformedPosition = (transform * vec4(clippingPlane.xyz * -clippingPlane.w, 1.0)).xyz;\n    vec4 transformedPlane;\n    transformedPlane.xyz = transformedDirection;\n    transformedPlane.w = -dot(transformedDirection, transformedPosition);\n    return transformedPlane;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Translates a position (or any <code>vec3</code>) that was encoded with {@link EncodedCartesian3},\n * and then provided to the shader as separate <code>high</code> and <code>low</code> bits to\n * be relative to the eye.  As shown in the example, the position can then be transformed in eye\n * or clip coordinates using {@link czm_modelViewRelativeToEye} or {@link czm_modelViewProjectionRelativeToEye},\n * respectively.\n * <p>\n * This technique, called GPU RTE, eliminates jittering artifacts when using large coordinates as\n * described in {@link http://blogs.agi.com/insight3d/index.php/2008/09/03/precisions-precisions/|Precisions, Precisions}.\n * </p>\n *\n * @name czm_translateRelativeToEye\n * @glslFunction\n *\n * @param {vec3} high The position's high bits.\n * @param {vec3} low The position's low bits.\n * @returns {vec3} The position translated to be relative to the camera's position.\n *\n * @example\n * attribute vec3 positionHigh;\n * attribute vec3 positionLow;\n * \n * void main() \n * {\n *   vec4 p = czm_translateRelativeToEye(positionHigh, positionLow);\n *   gl_Position = czm_modelViewProjectionRelativeToEye * p;\n * }\n *\n * @see czm_modelViewRelativeToEye\n * @see czm_modelViewProjectionRelativeToEye\n * @see czm_computePosition\n * @see EncodedCartesian3\n */\nvec4 czm_translateRelativeToEye(vec3 high, vec3 low)\n{\n    vec3 highDifference = high - czm_encodedCameraPositionMCHigh;\n    vec3 lowDifference = low - czm_encodedCameraPositionMCLow;\n\n    return vec4(highDifference + lowDifference, 1.0);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * @private\n */\nvec4 czm_translucentPhong(vec3 toEye, czm_material material)\n{\n    // Diffuse from directional light sources at eye (for top-down and horizon views)\n    float diffuse = czm_getLambertDiffuse(vec3(0.0, 0.0, 1.0), material.normal);\n    \n    if (czm_sceneMode == czm_sceneMode3D) {\n        // (and horizon views in 3D)\n        diffuse += czm_getLambertDiffuse(vec3(0.0, 1.0, 0.0), material.normal);\n    }\n    \n    diffuse = clamp(diffuse, 0.0, 1.0);\n\n    // Specular from sun and pseudo-moon\n    float specular = czm_getSpecular(czm_sunDirectionEC, toEye, material.normal, material.shininess);\n    specular += czm_getSpecular(czm_moonDirectionEC, toEye, material.normal, material.shininess);\n\n    // Temporary workaround for adding ambient.\n    vec3 materialDiffuse = material.diffuse * 0.5;\n\n    vec3 ambient = materialDiffuse;\n    vec3 color = ambient + material.emission;\n    color += materialDiffuse * diffuse;\n    color += material.specular * specular;\n\n    return vec4(color, material.alpha);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Returns the transpose of the matrix.  The input <code>matrix</code> can be\n * a <code>mat2</code>, <code>mat3</code>, or <code>mat4</code>.\n *\n * @name czm_transpose\n * @glslFunction\n *\n * @param {} matrix The matrix to transpose.\n *\n * @returns {} The transposed matrix.\n *\n * @example\n * // GLSL declarations\n * mat2 czm_transpose(mat2 matrix);\n * mat3 czm_transpose(mat3 matrix);\n * mat4 czm_transpose(mat4 matrix);\n *\n * // Transpose a 3x3 rotation matrix to find its inverse.\n * mat3 eastNorthUpToEye = czm_eastNorthUpToEyeCoordinates(\n *     positionMC, normalEC);\n * mat3 eyeToEastNorthUp = czm_transpose(eastNorthUpToEye);\n */\nmat2 czm_transpose(mat2 matrix)\n{\n    return mat2(\n        matrix[0][0], matrix[1][0],\n        matrix[0][1], matrix[1][1]);\n}\n\nmat3 czm_transpose(mat3 matrix)\n{\n    return mat3(\n        matrix[0][0], matrix[1][0], matrix[2][0],\n        matrix[0][1], matrix[1][1], matrix[2][1],\n        matrix[0][2], matrix[1][2], matrix[2][2]);\n}\n\nmat4 czm_transpose(mat4 matrix)\n{\n    return mat4(\n        matrix[0][0], matrix[1][0], matrix[2][0], matrix[3][0],\n        matrix[0][1], matrix[1][1], matrix[2][1], matrix[3][1],\n        matrix[0][2], matrix[1][2], matrix[2][2], matrix[3][2],\n        matrix[0][3], matrix[1][3], matrix[2][3], matrix[3][3]);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Unpacks a vec4 depth value to a float in [0, 1) range.\n *\n * @name czm_unpackDepth\n * @glslFunction\n *\n * @param {vec4} packedDepth The packed depth.\n *\n * @returns {float} The floating-point depth in [0, 1) range.\n */\n float czm_unpackDepth(vec4 packedDepth)\n {\n    // See Aras Pranckevičius' post Encoding Floats to RGBA\n    // http://aras-p.info/blog/2009/07/30/encoding-floats-to-rgba-the-final/\n    return dot(packedDepth, vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 16581375.0));\n }\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"#define SHIFT_RIGHT_8 0.00390625 //1.0 / 256.0\n#define SHIFT_RIGHT_16 0.00001525878 //1.0 / 65536.0\n#define SHIFT_RIGHT_24 5.960464477539063e-8//1.0 / 16777216.0\n\n#define BIAS 38.0\n\n/**\n * Unpacks a vec4 value containing values expressable as uint8 to an arbitrary float.\n *\n * @name czm_unpackFloat\n * @glslFunction\n *\n * @param {vec4} packedFloat The packed float.\n *\n * @returns {float} The floating-point depth in arbitrary range.\n */\n float czm_unpackFloat(vec4 packedFloat)\n{\n    packedFloat *= 255.0;\n    float temp = packedFloat.w / 2.0;\n    float exponent = floor(temp);\n    float sign = (temp - exponent) * 2.0;\n    exponent = exponent - float(BIAS);\n    sign = sign * 2.0 - 1.0;\n    sign = -sign;\n    float unpacked = sign * packedFloat.x * float(SHIFT_RIGHT_8);\n    unpacked += sign * packedFloat.y * float(SHIFT_RIGHT_16);\n    unpacked += sign * packedFloat.z * float(SHIFT_RIGHT_24);\n    return unpacked * pow(10.0, exponent);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"#ifdef LOG_DEPTH\nvarying float v_logZ;\n#ifdef SHADOW_MAP\nvarying vec3 v_logPositionEC;\n#endif\n#endif\n\nvoid czm_updatePositionDepth() {\n#if defined(LOG_DEPTH) && !defined(DISABLE_GL_POSITION_LOG_DEPTH)\n    vec3 logPositionEC = (czm_inverseProjection * gl_Position).xyz;\n\n#ifdef SHADOW_MAP\n    v_logPositionEC = logPositionEC;\n#endif\n\n#ifdef ENABLE_GL_POSITION_LOG_DEPTH_AT_HEIGHT\n    if (length(logPositionEC) < 2.0e6)\n    {\n        return;\n    }\n#endif\n\n    gl_Position.z = log2(max(1e-6, 1.0 + gl_Position.w)) * czm_log2FarDistance - 1.0;\n    gl_Position.z *= gl_Position.w;\n#endif\n}\n\n/**\n * Writes the logarithmic depth to gl_Position using the already computed gl_Position.\n *\n * @name czm_vertexLogDepth\n * @glslFunction\n */\nvoid czm_vertexLogDepth()\n{\n#ifdef LOG_DEPTH\n    v_logZ = 1.0 + gl_Position.w;\n    czm_updatePositionDepth();\n#endif\n}\n\n/**\n * Writes the logarithmic depth to gl_Position using the provided clip coordinates.\n * <p>\n * An example use case for this function would be moving the vertex in window coordinates\n * before converting back to clip coordinates. Use the original vertex clip coordinates.\n * </p>\n * @name czm_vertexLogDepth\n * @glslFunction\n *\n * @param {vec4} clipCoords The vertex in clip coordinates.\n *\n * @example\n * czm_vertexLogDepth(czm_projection * vec4(positionEyeCoordinates, 1.0));\n */\nvoid czm_vertexLogDepth(vec4 clipCoords)\n{\n#ifdef LOG_DEPTH\n    v_logZ = 1.0 + clipCoords.w;\n    czm_updatePositionDepth();\n#endif\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Transforms a position from window to eye coordinates.\n * The transform from window to normalized device coordinates is done using components\n * of (@link czm_viewport} and {@link czm_viewportTransformation} instead of calculating\n * the inverse of <code>czm_viewportTransformation</code>. The transformation from\n * normalized device coordinates to clip coordinates is done using <code>positionWC.w</code>,\n * which is expected to be the scalar used in the perspective divide. The transformation\n * from clip to eye coordinates is done using {@link czm_inverseProjection}.\n *\n * @name czm_windowToEyeCoordinates\n * @glslFunction\n *\n * @param {vec4} fragmentCoordinate The position in window coordinates to transform.\n *\n * @returns {vec4} The transformed position in eye coordinates.\n *\n * @see czm_modelToWindowCoordinates\n * @see czm_eyeToWindowCoordinates\n * @see czm_inverseProjection\n * @see czm_viewport\n * @see czm_viewportTransformation\n *\n * @example\n * vec4 positionEC = czm_windowToEyeCoordinates(gl_FragCoord);\n */\nvec4 czm_windowToEyeCoordinates(vec4 fragmentCoordinate)\n{\n    float x = 2.0 * (fragmentCoordinate.x - czm_viewport.x) / czm_viewport.z - 1.0;\n    float y = 2.0 * (fragmentCoordinate.y - czm_viewport.y) / czm_viewport.w - 1.0;\n    float z = (fragmentCoordinate.z - czm_viewportTransformation[3][2]) / czm_viewportTransformation[2][2];\n    vec4 q = vec4(x, y, z, 1.0);\n    q /= fragmentCoordinate.w;\n\n    if (!(czm_inverseProjection == mat4(0.0))) // IE and Edge sometimes do something weird with != between mat4s\n    {\n        q = czm_inverseProjection * q;\n    }\n    else\n    {\n        float top = czm_frustumPlanes.x;\n        float bottom = czm_frustumPlanes.y;\n        float left = czm_frustumPlanes.z;\n        float right = czm_frustumPlanes.w;\n\n        float near = czm_currentFrustum.x;\n        float far = czm_currentFrustum.y;\n\n        q.x = (q.x * (right - left) + left + right) * 0.5;\n        q.y = (q.y * (top - bottom) + bottom + top) * 0.5;\n        q.z = (q.z * (near - far) - near - far) * 0.5;\n        q.w = 1.0;\n    }\n\n    return q;\n}\n\n/**\n * Transforms a position given as window x/y and a depth or a log depth from window to eye coordinates.\n * This function produces more accurate results for window positions with log depth than\n * conventionally unpacking the log depth using czm_reverseLogDepth and using the standard version\n * of czm_windowToEyeCoordinates.\n *\n * @name czm_windowToEyeCoordinates\n * @glslFunction\n *\n * @param {vec2} fragmentCoordinateXY The XY position in window coordinates to transform.\n * @param {float} depthOrLogDepth A depth or log depth for the fragment.\n *\n * @see czm_modelToWindowCoordinates\n * @see czm_eyeToWindowCoordinates\n * @see czm_inverseProjection\n * @see czm_viewport\n * @see czm_viewportTransformation\n *\n * @returns {vec4} The transformed position in eye coordinates.\n */\nvec4 czm_windowToEyeCoordinates(vec2 fragmentCoordinateXY, float depthOrLogDepth)\n{\n    // See reverseLogDepth.glsl. This is separate to re-use the pow.\n#ifdef LOG_DEPTH\n    float near = czm_currentFrustum.x;\n    float far = czm_currentFrustum.y;\n    float unscaledDepth = pow(2.0, depthOrLogDepth * czm_log2FarPlusOne) - 1.0;\n    vec4 windowCoord = vec4(fragmentCoordinateXY, far * (1.0 - near / unscaledDepth) / (far - near), 1.0);\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(windowCoord);\n    eyeCoordinate.w = 1.0 / unscaledDepth; // Better precision\n#else\n    vec4 windowCoord = vec4(fragmentCoordinateXY, depthOrLogDepth, 1.0);\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(windowCoord);\n#endif\n    return eyeCoordinate;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"// emulated noperspective\n#ifndef LOG_DEPTH\nvarying float v_WindowZ;\n#endif\n/**\n * Clamps a vertex to the far plane by writing the fragments depth.\n * <p>\n * The shader must enable the GL_EXT_frag_depth extension.\n * </p>\n *\n * @name czm_writeDepthClampedToFarPlane\n * @glslFunction\n *\n * @example\n * gl_FragColor = color;\n * czm_writeDepthClampedToFarPlane();\n *\n * @see czm_depthClampFarPlane\n */\nvoid czm_writeDepthClampedToFarPlane()\n{\n#if defined(GL_EXT_frag_depth) && !defined(LOG_DEPTH)\n    gl_FragDepthEXT = min(v_WindowZ * gl_FragCoord.w, 1.0);\n#endif\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"#ifdef LOG_DEPTH\nvarying float v_logZ;\n#endif\n\n/**\n * Writes the fragment depth to the logarithmic depth buffer.\n * <p>\n * Use this when the vertex shader does not calls {@link czm_vertexlogDepth}, for example, when\n * ray-casting geometry using a full screen quad.\n * </p>\n * @name czm_writeLogDepth\n * @glslFunction\n *\n * @param {float} logZ The w coordinate of the vertex in clip coordinates plus 1.0.\n *\n * @example\n * czm_writeLogDepth((czm_projection * v_positionEyeCoordinates).w + 1.0);\n */\nvoid czm_writeLogDepth(float logZ)\n{\n#if defined(GL_EXT_frag_depth) && defined(LOG_DEPTH) && !defined(DISABLE_LOG_DEPTH_FRAGMENT_WRITE)\n    float halfLogFarDistance = czm_log2FarDistance * 0.5;\n    float depth = log2(logZ);\n    if (depth < czm_log2NearDistance) {\n        discard;\n    }\n    gl_FragDepthEXT = depth * halfLogFarDistance;\n#endif\n}\n\n/**\n * Writes the fragment depth to the logarithmic depth buffer.\n * <p>\n * Use this when the vertex shader calls {@link czm_vertexlogDepth}.\n * </p>\n *\n * @name czm_writeLogDepth\n * @glslFunction\n */\nvoid czm_writeLogDepth() {\n#ifdef LOG_DEPTH\n    czm_writeLogDepth(v_logZ);\n#endif\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"/**\n * Converts a CIE Yxy color to RGB.\n * <p>The conversion is described in\n * {@link http://content.gpwiki.org/index.php/D3DBook:High-Dynamic_Range_Rendering#Luminance_Transform|Luminance Transform}\n * </p>\n * \n * @name czm_XYZToRGB\n * @glslFunction\n * \n * @param {vec3} Yxy The color in CIE Yxy.\n *\n * @returns {vec3} The color in RGB.\n *\n * @example\n * vec3 xyz = czm_RGBToXYZ(rgb);\n * xyz.x = max(xyz.x - luminanceThreshold, 0.0);\n * rgb = czm_XYZToRGB(xyz);\n */\nvec3 czm_XYZToRGB(vec3 Yxy)\n{\n    const mat3 XYZ2RGB = mat3( 3.2405, -0.9693,  0.0556,\n                              -1.5371,  1.8760, -0.2040,\n                              -0.4985,  0.0416,  1.0572);\n    vec3 xyz;\n    xyz.r = Yxy.r * Yxy.g / Yxy.b;\n    xyz.g = Yxy.r;\n    xyz.b = Yxy.r * (1.0 - Yxy.g - Yxy.b) / Yxy.b;\n    \n    return XYZ2RGB * xyz;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";function t(n){if("object"!=typeof n||null===n)return n;for(var r,i=Object.keys(n),o=0;o<i.length;o++)r=i[o],n.hasOwnProperty(r)&&"_applyFunctions"!==r&&(n[r]=t(n[r]));return e(n)}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(10),n(41),n(25),n(0),n(3),n(39),n(120),n(40),n(20),n(26)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c){"use strict";function h(e,t,n,r){switch(t.type){case e.FLOAT:return new d(e,t,n,r);case e.FLOAT_VEC2:return new f(e,t,n,r);case e.FLOAT_VEC3:return new p(e,t,n,r);case e.FLOAT_VEC4:return new m(e,t,n,r);case e.SAMPLER_2D:case e.SAMPLER_CUBE:return new g(e,t,n,r);case e.INT:case e.BOOL:return new _(e,t,n,r);case e.INT_VEC2:case e.BOOL_VEC2:return new v(e,t,n,r);case e.INT_VEC3:case e.BOOL_VEC3:return new A(e,t,n,r);case e.INT_VEC4:case e.BOOL_VEC4:return new y(e,t,n,r);case e.FLOAT_MAT2:return new b(e,t,n,r);case e.FLOAT_MAT3:return new w(e,t,n,r);case e.FLOAT_MAT4:return new x(e,t,n,r);default:throw new c("Unrecognized uniform type: "+t.type+' for uniform "'+n+'".')}}function d(e,t,n,r){this.name=n,this.value=void 0,this._value=0,this._gl=e,this._location=r}function f(t,n,r,i){this.name=r,this.value=void 0,this._value=new e,this._gl=t,this._location=i}function p(e,t,n,r){this.name=n,this.value=void 0,this._value=void 0,this._gl=e,this._location=r}function m(e,t,n,r){this.name=n,this.value=void 0,this._value=void 0,this._gl=e,this._location=r}function g(e,t,n,r){this.name=n,this.value=void 0,this._gl=e,this._location=r,this.textureUnitIndex=void 0}function _(e,t,n,r){this.name=n,this.value=void 0,this._value=0,this._gl=e,this._location=r}function v(t,n,r,i){this.name=r,this.value=void 0,this._value=new e,this._gl=t,this._location=i}function A(e,n,r,i){this.name=r,this.value=void 0,this._value=new t,this._gl=e,this._location=i}function y(e,t,r,i){this.name=r,this.value=void 0,this._value=new n,this._gl=e,this._location=i}function b(e,t,n,r){this.name=n,this.value=void 0,this._value=new s,this._gl=e,this._location=r}function w(e,t,n,r){this.name=n,this.value=void 0,this._value=new u,this._gl=e,this._location=r}function x(e,t,n,r){this.name=n,this.value=void 0,this._value=new l,this._gl=e,this._location=r}if(!a.supportsTypedArrays())return{};d.prototype.set=function(){this.value!==this._value&&(this._value=this.value,this._gl.uniform1f(this._location,this.value))},f.prototype.set=function(){var t=this.value;e.equals(t,this._value)||(e.clone(t,this._value),this._gl.uniform2f(this._location,t.x,t.y))},p.prototype.set=function(){var e=this.value;i(e.red)?r.equals(e,this._value)||(this._value=r.clone(e,this._value),this._gl.uniform3f(this._location,e.red,e.green,e.blue)):i(e.x)&&(t.equals(e,this._value)||(this._value=t.clone(e,this._value),this._gl.uniform3f(this._location,e.x,e.y,e.z)))},m.prototype.set=function(){var e=this.value;i(e.red)?r.equals(e,this._value)||(this._value=r.clone(e,this._value),this._gl.uniform4f(this._location,e.red,e.green,e.blue,e.alpha)):i(e.x)&&(n.equals(e,this._value)||(this._value=n.clone(e,this._value),this._gl.uniform4f(this._location,e.x,e.y,e.z,e.w)))},g.prototype.set=function(){var e=this._gl;e.activeTexture(e.TEXTURE0+this.textureUnitIndex);var t=this.value;e.bindTexture(t._target,t._texture)},g.prototype._setSampler=function(e){return this.textureUnitIndex=e,this._gl.uniform1i(this._location,e),e+1},_.prototype.set=function(){this.value!==this._value&&(this._value=this.value,this._gl.uniform1i(this._location,this.value))},v.prototype.set=function(){var t=this.value;e.equals(t,this._value)||(e.clone(t,this._value),this._gl.uniform2i(this._location,t.x,t.y))},A.prototype.set=function(){var e=this.value;t.equals(e,this._value)||(t.clone(e,this._value),this._gl.uniform3i(this._location,e.x,e.y,e.z))},y.prototype.set=function(){var e=this.value;n.equals(e,this._value)||(n.clone(e,this._value),this._gl.uniform4i(this._location,e.x,e.y,e.z,e.w))};var E=new Float32Array(4);b.prototype.set=function(){if(!s.equalsArray(this.value,this._value,0)){s.clone(this.value,this._value);var e=s.toArray(this.value,E);this._gl.uniformMatrix2fv(this._location,!1,e)}};var C=new Float32Array(9);w.prototype.set=function(){if(!u.equalsArray(this.value,this._value,0)){u.clone(this.value,this._value);var e=u.toArray(this.value,C);this._gl.uniformMatrix3fv(this._location,!1,e)}};var S=new Float32Array(16);return x.prototype.set=function(){if(!l.equalsArray(this.value,this._value,0)){l.clone(this.value,this._value);var e=l.toArray(this.value,S);this._gl.uniformMatrix4fv(this._location,!1,e)}},h}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(10),n(41),n(25),n(0),n(3),n(120),n(40),n(20),n(26)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l){"use strict";function c(e,t,n,r){switch(t.type){case e.FLOAT:return new h(e,t,n,r);case e.FLOAT_VEC2:return new d(e,t,n,r);case e.FLOAT_VEC3:return new f(e,t,n,r);case e.FLOAT_VEC4:return new p(e,t,n,r);case e.SAMPLER_2D:case e.SAMPLER_CUBE:return new m(e,t,n,r);case e.INT:case e.BOOL:return new g(e,t,n,r);case e.INT_VEC2:case e.BOOL_VEC2:return new _(e,t,n,r);case e.INT_VEC3:case e.BOOL_VEC3:return new v(e,t,n,r);case e.INT_VEC4:case e.BOOL_VEC4:return new A(e,t,n,r);case e.FLOAT_MAT2:return new y(e,t,n,r);case e.FLOAT_MAT3:return new b(e,t,n,r);case e.FLOAT_MAT4:return new w(e,t,n,r);default:throw new l("Unrecognized uniform type: "+t.type+' for uniform "'+n+'".')}}function h(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Float32Array(i),this._gl=e,this._location=r[0]}function d(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Float32Array(2*i),this._gl=e,this._location=r[0]}function f(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Float32Array(3*i),this._gl=e,this._location=r[0]}function p(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Float32Array(4*i),this._gl=e,this._location=r[0]}function m(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Float32Array(i),this._gl=e,this._locations=r,this.textureUnitIndex=void 0}function g(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Int32Array(i),this._gl=e,this._location=r[0]}function _(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Int32Array(2*i),this._gl=e,this._location=r[0]}function v(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Int32Array(3*i),this._gl=e,this._location=r[0]}function A(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Int32Array(4*i),this._gl=e,this._location=r[0]}function y(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Float32Array(4*i),this._gl=e,this._location=r[0]}function b(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Float32Array(9*i),this._gl=e,this._location=r[0]}function w(e,t,n,r){var i=r.length;this.name=n,this.value=new Array(i),this._value=new Float32Array(16*i),this._gl=e,this._location=r[0]}return h.prototype.set=function(){for(var e=this.value,t=e.length,n=this._value,r=!1,i=0;i<t;++i){var o=e[i];o!==n[i]&&(n[i]=o,r=!0)}r&&this._gl.uniform1fv(this._location,n)},d.prototype.set=function(){for(var t=this.value,n=t.length,r=this._value,i=!1,o=0,a=0;a<n;++a){var s=t[a];e.equalsArray(s,r,o)||(e.pack(s,r,o),i=!0),o+=2}i&&this._gl.uniform2fv(this._location,r)},f.prototype.set=function(){for(var e=this.value,n=e.length,r=this._value,o=!1,a=0,s=0;s<n;++s){var u=e[s];i(u.red)?u.red===r[a]&&u.green===r[a+1]&&u.blue===r[a+2]||(r[a]=u.red,r[a+1]=u.green,r[a+2]=u.blue,o=!0):i(u.x)&&(t.equalsArray(u,r,a)||(t.pack(u,r,a),o=!0)),a+=3}o&&this._gl.uniform3fv(this._location,r)},p.prototype.set=function(){for(var e=this.value,t=e.length,o=this._value,a=!1,s=0,u=0;u<t;++u){var l=e[u];i(l.red)?r.equalsArray(l,o,s)||(r.pack(l,o,s),a=!0):i(l.x)&&(n.equalsArray(l,o,s)||(n.pack(l,o,s),a=!0)),s+=4}a&&this._gl.uniform4fv(this._location,o)},m.prototype.set=function(){for(var e=this._gl,t=e.TEXTURE0+this.textureUnitIndex,n=this.value,r=n.length,i=0;i<r;++i){var o=n[i];e.activeTexture(t+i),e.bindTexture(o._target,o._texture)}},m.prototype._setSampler=function(e){this.textureUnitIndex=e;for(var t=this._locations,n=t.length,r=0;r<n;++r){var i=e+r;this._gl.uniform1i(t[r],i)}return e+n},g.prototype.set=function(){for(var e=this.value,t=e.length,n=this._value,r=!1,i=0;i<t;++i){var o=e[i];o!==n[i]&&(n[i]=o,r=!0)}r&&this._gl.uniform1iv(this._location,n)},_.prototype.set=function(){for(var t=this.value,n=t.length,r=this._value,i=!1,o=0,a=0;a<n;++a){var s=t[a];e.equalsArray(s,r,o)||(e.pack(s,r,o),i=!0),o+=2}i&&this._gl.uniform2iv(this._location,r)},v.prototype.set=function(){for(var e=this.value,n=e.length,r=this._value,i=!1,o=0,a=0;a<n;++a){var s=e[a];t.equalsArray(s,r,o)||(t.pack(s,r,o),i=!0),o+=3}i&&this._gl.uniform3iv(this._location,r)},A.prototype.set=function(){for(var e=this.value,t=e.length,r=this._value,i=!1,o=0,a=0;a<t;++a){var s=e[a];n.equalsArray(s,r,o)||(n.pack(s,r,o),i=!0),o+=4}i&&this._gl.uniform4iv(this._location,r)},y.prototype.set=function(){for(var e=this.value,t=e.length,n=this._value,r=!1,i=0,o=0;o<t;++o){var s=e[o];a.equalsArray(s,n,i)||(a.pack(s,n,i),r=!0),i+=4}r&&this._gl.uniformMatrix2fv(this._location,!1,n)},b.prototype.set=function(){for(var e=this.value,t=e.length,n=this._value,r=!1,i=0,o=0;o<t;++o){var a=e[o];s.equalsArray(a,n,i)||(s.pack(a,n,i),r=!0),i+=9}r&&this._gl.uniformMatrix3fv(this._location,!1,n)},w.prototype.set=function(){for(var e=this.value,t=e.length,n=this._value,r=!1,i=0,o=0;o<t;++o){var a=e[o];u.equalsArray(a,n,i)||(u.pack(a,n,i),r=!0),i+=16}r&&this._gl.uniformMatrix4fv(this._location,!1,n)},c}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return'attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute float batchId;\n\n#ifdef EXTRUDED_GEOMETRY\nattribute vec3 extrudeDirection;\n\nuniform float u_globeMinimumAltitude;\n#endif // EXTRUDED_GEOMETRY\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#endif // PER_INSTANCE_COLOR\n\n#ifdef TEXTURE_COORDINATES\n#ifdef SPHERICAL\nvarying vec4 v_sphericalExtents;\n#else // SPHERICAL\nvarying vec2 v_inversePlaneExtents;\nvarying vec4 v_westPlane;\nvarying vec4 v_southPlane;\n#endif // SPHERICAL\nvarying vec3 v_uvMinAndSphericalLongitudeRotation;\nvarying vec3 v_uMaxAndInverseDistance;\nvarying vec3 v_vMaxAndInverseDistance;\n#endif // TEXTURE_COORDINATES\n\nvoid main()\n{\n    vec4 position = czm_computePosition();\n\n#ifdef EXTRUDED_GEOMETRY\n    float delta = min(u_globeMinimumAltitude, czm_geometricToleranceOverMeter * length(position.xyz));\n    delta *= czm_sceneMode == czm_sceneMode3D ? 1.0 : 0.0;\n\n    //extrudeDirection is zero for the top layer\n    position = position + vec4(extrudeDirection * delta, 0.0);\n#endif\n\n#ifdef TEXTURE_COORDINATES\n#ifdef SPHERICAL\n    v_sphericalExtents = czm_batchTable_sphericalExtents(batchId);\n    v_uvMinAndSphericalLongitudeRotation.z = czm_batchTable_longitudeRotation(batchId);\n#else // SPHERICAL\n#ifdef COLUMBUS_VIEW_2D\n    vec4 planes2D_high = czm_batchTable_planes2D_HIGH(batchId);\n    vec4 planes2D_low = czm_batchTable_planes2D_LOW(batchId);\n\n    // If the primitive is split across the IDL (planes2D_high.x > planes2D_high.w):\n    // - If this vertex is on the east side of the IDL (position3DLow.y > 0.0, comparison with position3DHigh may produce artifacts)\n    // - existing "east" is on the wrong side of the world, far away (planes2D_high/low.w)\n    // - so set "east" as beyond the eastmost extent of the projection (idlSplitNewPlaneHiLow)\n    vec2 idlSplitNewPlaneHiLow = vec2(EAST_MOST_X_HIGH - (WEST_MOST_X_HIGH - planes2D_high.w), EAST_MOST_X_LOW - (WEST_MOST_X_LOW - planes2D_low.w));\n    bool idlSplit = planes2D_high.x > planes2D_high.w && position3DLow.y > 0.0;\n    planes2D_high.w = czm_branchFreeTernary(idlSplit, idlSplitNewPlaneHiLow.x, planes2D_high.w);\n    planes2D_low.w = czm_branchFreeTernary(idlSplit, idlSplitNewPlaneHiLow.y, planes2D_low.w);\n\n    // - else, if this vertex is on the west side of the IDL (position3DLow.y < 0.0)\n    // - existing "west" is on the wrong side of the world, far away (planes2D_high/low.x)\n    // - so set "west" as beyond the westmost extent of the projection (idlSplitNewPlaneHiLow)\n    idlSplit = planes2D_high.x > planes2D_high.w && position3DLow.y < 0.0;\n    idlSplitNewPlaneHiLow = vec2(WEST_MOST_X_HIGH - (EAST_MOST_X_HIGH - planes2D_high.x), WEST_MOST_X_LOW - (EAST_MOST_X_LOW - planes2D_low.x));\n    planes2D_high.x = czm_branchFreeTernary(idlSplit, idlSplitNewPlaneHiLow.x, planes2D_high.x);\n    planes2D_low.x = czm_branchFreeTernary(idlSplit, idlSplitNewPlaneHiLow.y, planes2D_low.x);\n\n    vec3 southWestCorner = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(vec3(0.0, planes2D_high.xy), vec3(0.0, planes2D_low.xy))).xyz;\n    vec3 northWestCorner = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(vec3(0.0, planes2D_high.x, planes2D_high.z), vec3(0.0, planes2D_low.x, planes2D_low.z))).xyz;\n    vec3 southEastCorner = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(vec3(0.0, planes2D_high.w, planes2D_high.y), vec3(0.0, planes2D_low.w, planes2D_low.y))).xyz;\n#else // COLUMBUS_VIEW_2D\n    // 3D case has smaller "plane extents," so planes encoded as a 64 bit position and 2 vec3s for distances/direction\n    vec3 southWestCorner = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(czm_batchTable_southWest_HIGH(batchId), czm_batchTable_southWest_LOW(batchId))).xyz;\n    vec3 northWestCorner = czm_normal * czm_batchTable_northward(batchId) + southWestCorner;\n    vec3 southEastCorner = czm_normal * czm_batchTable_eastward(batchId) + southWestCorner;\n#endif // COLUMBUS_VIEW_2D\n\n    vec3 eastWard = southEastCorner - southWestCorner;\n    float eastExtent = length(eastWard);\n    eastWard /= eastExtent;\n\n    vec3 northWard = northWestCorner - southWestCorner;\n    float northExtent = length(northWard);\n    northWard /= northExtent;\n\n    v_westPlane = vec4(eastWard, -dot(eastWard, southWestCorner));\n    v_southPlane = vec4(northWard, -dot(northWard, southWestCorner));\n    v_inversePlaneExtents = vec2(1.0 / eastExtent, 1.0 / northExtent);\n#endif // SPHERICAL\n    vec4 uvMinAndExtents = czm_batchTable_uvMinAndExtents(batchId);\n    vec4 uMaxVmax = czm_batchTable_uMaxVmax(batchId);\n\n    v_uMaxAndInverseDistance = vec3(uMaxVmax.xy, uvMinAndExtents.z);\n    v_vMaxAndInverseDistance = vec3(uMaxVmax.zw, uvMinAndExtents.w);\n    v_uvMinAndSphericalLongitudeRotation.xy = uvMinAndExtents.xy;\n#endif // TEXTURE_COORDINATES\n\n#ifdef PER_INSTANCE_COLOR\n    v_color = czm_batchTable_color(batchId);\n#endif\n\n    gl_Position = czm_depthClampFarPlane(czm_modelViewProjectionRelativeToEye * position);\n}\n'}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"varying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec4 v_color;\n\nvoid main()\n{\n    vec3 positionToEyeEC = -v_positionEC;\n\n    vec3 normalEC = normalize(v_normalEC);\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n\n    czm_materialInput materialInput;\n    materialInput.normalEC = normalEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    material.diffuse = v_color.rgb;\n    material.alpha = v_color.a;\n\n    gl_FragColor = czm_phong(normalize(positionToEyeEC), material);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 normal;\nattribute vec4 color;\nattribute float batchId;\n\nvarying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec4 v_color;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n    v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n    v_color = color;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec4 color;\nattribute float batchId;\n\nvarying vec4 v_color;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_color = color;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(0),n(3)],void 0!==(i=function(e,t){"use strict";function n(e,t){for(var n=[],r=e.length,i=0;i<r;){var o=Math.ceil((r-i)/t--);n.push(e.slice(i,i+o)),i+=o}return n}return n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(38),n(31),n(1),n(0),n(3),n(23),n(39),n(72),n(76),n(90),n(129),n(290),n(49),n(20),n(745),n(134)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m){"use strict";function g(e,t,n){var i,o=!n,a=e.length;if(!o&&a>1){var s=e[0].modelMatrix;for(i=1;i<a;++i)if(!f.equals(s,e[i].modelMatrix)){o=!0;break}}if(o)for(i=0;i<a;++i)r(e[i].geometry)&&h.transformToWorldCoordinates(e[i]);else f.multiplyTransformation(t,e[0].modelMatrix,t)}function _(e,n){var r=e.attributes,i=r.position,o=i.values.length/i.componentsPerAttribute;r.batchId=new l({componentDatatype:t.FLOAT,componentsPerAttribute:1,values:new Float32Array(o)});for(var a=r.batchId.values,s=0;s<o;++s)a[s]=n}function v(e){for(var t=e.length,n=0;n<t;++n){var i=e[n];r(i.geometry)?_(i.geometry,n):r(i.westHemisphereGeometry)&&r(i.eastHemisphereGeometry)&&(_(i.westHemisphereGeometry,n),_(i.eastHemisphereGeometry,n))}}function A(n){var i,o,a=n.instances,s=n.projection,u=n.elementIndexUintSupported,l=n.scene3DOnly,c=n.vertexCacheOptimize,d=n.compressVertices,f=n.modelMatrix,p=a.length;for(i=0;i<p;++i)if(r(a[i].geometry)){a[i].geometry.primitiveType;break}if(g(a,f,l),!l)for(i=0;i<p;++i)r(a[i].geometry)&&h.splitLongitude(a[i]);if(v(a),c)for(i=0;i<p;++i){var m=a[i];r(m.geometry)?(h.reorderForPostVertexCache(m.geometry),h.reorderForPreVertexCache(m.geometry)):r(m.westHemisphereGeometry)&&r(m.eastHemisphereGeometry)&&(h.reorderForPostVertexCache(m.westHemisphereGeometry),h.reorderForPreVertexCache(m.westHemisphereGeometry),h.reorderForPostVertexCache(m.eastHemisphereGeometry),h.reorderForPreVertexCache(m.eastHemisphereGeometry))}var _=h.combineInstances(a);for(p=_.length,i=0;i<p;++i){o=_[i];var A,y=o.attributes;if(l)for(A in y)y.hasOwnProperty(A)&&y[A].componentDatatype===t.DOUBLE&&h.encodeAttribute(o,A,A+"3DHigh",A+"3DLow");else for(A in y)if(y.hasOwnProperty(A)&&y[A].componentDatatype===t.DOUBLE){var b=A+"3D",w=A+"2D";h.projectTo2D(o,A,b,w,s),r(o.boundingSphere)&&"position"===A&&(o.boundingSphereCV=e.fromVertices(o.attributes.position2D.values)),h.encodeAttribute(o,b,b+"High",b+"Low"),h.encodeAttribute(o,w,w+"High",w+"Low")}d&&h.compressVertices(o)}if(!u){var x=[];for(p=_.length,i=0;i<p;++i)o=_[i],x=x.concat(h.fitToUnsignedShortIndices(o));_=x}return _}function y(e,t,n,i){var o,a,s,u=i.length-1;if(u>=0){var l=i[u];o=l.offset+l.count,s=l.index,a=n[s].indices.length}else o=0,s=0,a=n[s].indices.length;for(var c=e.length,h=0;h<c;++h){var d=e[h],f=d[t];if(r(f)){var p=f.indices.length;o+p>a&&(o=0,a=n[++s].indices.length),i.push({index:s,offset:o,count:p}),o+=p}}}function b(e,t){var n=[];return y(e,"geometry",t,n),y(e,"westHemisphereGeometry",t,n),y(e,"eastHemisphereGeometry",t,n),n}function w(e,t){var n=e.attributes;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];r(o)&&r(o.values)&&t.push(o.values.buffer)}r(e.indices)&&t.push(e.indices.buffer)}function x(e,t){for(var n=e.length,r=0;r<n;++r)w(e[r],t)}function E(t){for(var n=1,i=t.length,o=0;o<i;o++){var a=t[o];if(++n,r(a)){var s=a.attributes;n+=7+2*e.packedLength+(r(a.indices)?a.indices.length:0);for(var u in s)if(s.hasOwnProperty(u)&&r(s[u])){var l=s[u];n+=5+l.values.length}}}return n}function C(e,t){var n=e.length,i=new Float64Array(1+19*n),o=0;i[o++]=n;for(var a=0;a<n;a++){var s=e[a];if(f.pack(s.modelMatrix,i,o),o+=f.packedLength,r(s.attributes)&&r(s.attributes.offset)){var u=s.attributes.offset.value;i[o]=u[0],i[o+1]=u[1],i[o+2]=u[2]}o+=3}return t.push(i.buffer),i}function S(e){for(var t=e,n=new Array(t[0]),i=0,o=1;o<t.length;){var a,s=f.unpack(t,o);o+=f.packedLength,r(t[o])&&(a={offset:new p(t[o],t[o+1],t[o+2])}),o+=3,n[i++]={modelMatrix:s,attributes:a}}return n}function T(t){var n=t.length,i=1+(e.packedLength+1)*n,o=new Float32Array(i),a=0;o[a++]=n;for(var s=0;s<n;++s){var u=t[s];r(u)?(o[a++]=1,e.pack(t[s],o,a)):o[a++]=0,a+=e.packedLength}return o}function I(t){for(var n=new Array(t[0]),r=0,i=1;i<t.length;)1===t[i++]&&(n[r]=e.unpack(t,i)),++r,i+=e.packedLength;return n}if(!a.supportsTypedArrays())return{};var M={};return M.combineGeometry=function(t){var n,i,o,a,s=t.instances,u=s.length,l=!1;u>0&&(n=A(t),n.length>0&&(i=h.createAttributeLocations(n[0]),t.createPickOffsets&&(o=b(s,n))),r(s[0].attributes)&&r(s[0].attributes.offset)&&(a=new Array(u),l=!0));for(var c=new Array(u),d=new Array(u),f=0;f<u;++f){var p=s[f],m=p.geometry;r(m)&&(c[f]=m.boundingSphere,d[f]=m.boundingSphereCV,l&&(a[f]=p.geometry.offsetAttribute));var g=p.eastHemisphereGeometry,_=p.westHemisphereGeometry;r(g)&&r(_)&&(r(g.boundingSphere)&&r(_.boundingSphere)&&(c[f]=e.union(g.boundingSphere,_.boundingSphere)),r(g.boundingSphereCV)&&r(_.boundingSphereCV)&&(d[f]=e.union(g.boundingSphereCV,_.boundingSphereCV)))}return{geometries:n,modelMatrix:t.modelMatrix,attributeLocations:i,pickOffsets:o,offsetInstanceExtend:a,boundingSpheres:c,boundingSpheresCV:d}},M.packCreateGeometryResults=function(t,i){var o=new Float64Array(E(t)),a=[],s={},u=t.length,l=0;o[l++]=u;for(var c=0;c<u;c++){var h=t[c],d=r(h);if(o[l++]=d?1:0,d){o[l++]=h.primitiveType,o[l++]=h.geometryType,o[l++]=n(h.offsetAttribute,-1);var f=r(h.boundingSphere)?1:0;o[l++]=f,f&&e.pack(h.boundingSphere,o,l),l+=e.packedLength;var p=r(h.boundingSphereCV)?1:0;o[l++]=p,p&&e.pack(h.boundingSphereCV,o,l),l+=e.packedLength;var m=h.attributes,g=[];for(var _ in m)m.hasOwnProperty(_)&&r(m[_])&&(g.push(_),r(s[_])||(s[_]=a.length,a.push(_)));o[l++]=g.length;for(var v=0;v<g.length;v++){var A=g[v],y=m[A];o[l++]=s[A],o[l++]=y.componentDatatype,o[l++]=y.componentsPerAttribute,o[l++]=y.normalize?1:0,o[l++]=y.values.length,o.set(y.values,l),l+=y.values.length}var b=r(h.indices)?h.indices.length:0;o[l++]=b,b>0&&(o.set(h.indices,l),l+=b)}}return i.push(o.buffer),{stringTable:a,packedData:o}},M.unpackCreateGeometryResults=function(n){for(var r,i=n.stringTable,o=n.packedData,a=new Array(o[0]),s=0,h=1;h<o.length;){if(1===o[h++]){var f=o[h++],p=o[h++],m=o[h++];-1===m&&(m=void 0);var g,_;1===o[h++]&&(g=e.unpack(o,h)),h+=e.packedLength;1===o[h++]&&(_=e.unpack(o,h)),h+=e.packedLength;var v,A,y,b=new c,w=o[h++];for(r=0;r<w;r++){var x=i[o[h++]],E=o[h++];y=o[h++];var C=0!==o[h++];v=o[h++],A=t.createTypedArray(E,v);for(var S=0;S<v;S++)A[S]=o[h++];b[x]=new l({componentDatatype:E,componentsPerAttribute:y,normalize:C,values:A})}var T;if((v=o[h++])>0){var I=A.length/y;for(T=d.createTypedArray(I,v),r=0;r<v;r++)T[r]=o[h++]}a[s++]=new u({primitiveType:f,geometryType:p,boundingSphere:g,boundingSphereCV:_,indices:T,attributes:b,offsetAttribute:m})}else a[s++]=void 0}return a},M.packCombineGeometryParameters=function(e,t){for(var n=e.createGeometryResults,r=n.length,i=0;i<r;i++)t.push(n[i].packedData.buffer);return{createGeometryResults:e.createGeometryResults,packedInstances:C(e.instances,t),ellipsoid:e.ellipsoid,isGeographic:e.projection instanceof s,elementIndexUintSupported:e.elementIndexUintSupported,scene3DOnly:e.scene3DOnly,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:e.modelMatrix,createPickOffsets:e.createPickOffsets}},M.unpackCombineGeometryParameters=function(e){for(var t=S(e.packedInstances),n=e.createGeometryResults,r=n.length,i=0,a=0;a<r;a++)for(var u=M.unpackCreateGeometryResults(n[a]),l=u.length,c=0;c<l;c++){var h=u[c],d=t[i];d.geometry=h,++i}var p=o.clone(e.ellipsoid);return{instances:t,ellipsoid:p,projection:e.isGeographic?new s(p):new m(p),elementIndexUintSupported:e.elementIndexUintSupported,scene3DOnly:e.scene3DOnly,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:f.clone(e.modelMatrix),createPickOffsets:e.createPickOffsets}},M.packCombineGeometryResults=function(e,t){r(e.geometries)&&x(e.geometries,t);var n=T(e.boundingSpheres),i=T(e.boundingSpheresCV);return t.push(n.buffer,i.buffer),{geometries:e.geometries,attributeLocations:e.attributeLocations,modelMatrix:e.modelMatrix,pickOffsets:e.pickOffsets,offsetInstanceExtend:e.offsetInstanceExtend,boundingSpheres:n,boundingSpheresCV:i}},M.unpackCombineGeometryResults=function(e){return{geometries:e.geometries,attributeLocations:e.attributeLocations,modelMatrix:e.modelMatrix,pickOffsets:e.pickOffsets,offsetInstanceExtend:e.offsetInstanceExtend,boundingSpheres:I(e.boundingSpheres),boundingSpheresCV:I(e.boundingSpheresCV)}},M}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({READY:0,CREATING:1,CREATED:2,COMBINING:3,COMBINED:4,COMPLETE:5,FAILED:6})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n#endif\n\n#ifdef TEXTURE_COORDINATES\n#ifdef SPHERICAL\nvarying vec4 v_sphericalExtents;\n#else // SPHERICAL\nvarying vec2 v_inversePlaneExtents;\nvarying vec4 v_westPlane;\nvarying vec4 v_southPlane;\n#endif // SPHERICAL\nvarying vec3 v_uvMinAndSphericalLongitudeRotation;\nvarying vec3 v_uMaxAndInverseDistance;\nvarying vec3 v_vMaxAndInverseDistance;\n#endif // TEXTURE_COORDINATES\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#endif\n\n#ifdef NORMAL_EC\nvec3 getEyeCoordinate3FromWindowCoordinate(vec2 fragCoord, float logDepthOrDepth) {\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(fragCoord, logDepthOrDepth);\n    return eyeCoordinate.xyz / eyeCoordinate.w;\n}\n\nvec3 vectorFromOffset(vec4 eyeCoordinate, vec2 positiveOffset) {\n    vec2 glFragCoordXY = gl_FragCoord.xy;\n    // Sample depths at both offset and negative offset\n    float upOrRightLogDepth = czm_unpackDepth(texture2D(czm_globeDepthTexture, (glFragCoordXY + positiveOffset) / czm_viewport.zw));\n    float downOrLeftLogDepth = czm_unpackDepth(texture2D(czm_globeDepthTexture, (glFragCoordXY - positiveOffset) / czm_viewport.zw));\n    // Explicitly evaluate both paths\n    // Necessary for multifrustum and for edges of the screen\n    bvec2 upOrRightInBounds = lessThan(glFragCoordXY + positiveOffset, czm_viewport.zw);\n    float useUpOrRight = float(upOrRightLogDepth > 0.0 && upOrRightInBounds.x && upOrRightInBounds.y);\n    float useDownOrLeft = float(useUpOrRight == 0.0);\n    vec3 upOrRightEC = getEyeCoordinate3FromWindowCoordinate(glFragCoordXY + positiveOffset, upOrRightLogDepth);\n    vec3 downOrLeftEC = getEyeCoordinate3FromWindowCoordinate(glFragCoordXY - positiveOffset, downOrLeftLogDepth);\n    return (upOrRightEC - (eyeCoordinate.xyz / eyeCoordinate.w)) * useUpOrRight + ((eyeCoordinate.xyz / eyeCoordinate.w) - downOrLeftEC) * useDownOrLeft;\n}\n#endif // NORMAL_EC\n\nvoid main(void)\n{\n#ifdef REQUIRES_EC\n    float logDepthOrDepth = czm_unpackDepth(texture2D(czm_globeDepthTexture, gl_FragCoord.xy / czm_viewport.zw));\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, logDepthOrDepth);\n#endif\n\n#ifdef REQUIRES_WC\n    vec4 worldCoordinate4 = czm_inverseView * eyeCoordinate;\n    vec3 worldCoordinate = worldCoordinate4.xyz / worldCoordinate4.w;\n#endif\n\n#ifdef TEXTURE_COORDINATES\n    vec2 uv;\n#ifdef SPHERICAL\n    // Treat world coords as a sphere normal for spherical coordinates\n    vec2 sphericalLatLong = czm_approximateSphericalCoordinates(worldCoordinate);\n    sphericalLatLong.y += v_uvMinAndSphericalLongitudeRotation.z;\n    sphericalLatLong.y = czm_branchFreeTernary(sphericalLatLong.y < czm_pi, sphericalLatLong.y, sphericalLatLong.y - czm_twoPi);\n    uv.x = (sphericalLatLong.y - v_sphericalExtents.y) * v_sphericalExtents.w;\n    uv.y = (sphericalLatLong.x - v_sphericalExtents.x) * v_sphericalExtents.z;\n#else // SPHERICAL\n    // Unpack planes and transform to eye space\n    uv.x = czm_planeDistance(v_westPlane, eyeCoordinate.xyz / eyeCoordinate.w) * v_inversePlaneExtents.x;\n    uv.y = czm_planeDistance(v_southPlane, eyeCoordinate.xyz / eyeCoordinate.w) * v_inversePlaneExtents.y;\n#endif // SPHERICAL\n#endif // TEXTURE_COORDINATES\n\n#ifdef PICK\n#ifdef CULL_FRAGMENTS\n    if (0.0 <= uv.x && uv.x <= 1.0 && 0.0 <= uv.y && uv.y <= 1.0) {\n        gl_FragColor.a = 1.0; // 0.0 alpha leads to discard from ShaderSource.createPickFragmentShaderSource\n        czm_writeDepthClampedToFarPlane();\n    }\n#else // CULL_FRAGMENTS\n        gl_FragColor.a = 1.0;\n#endif // CULL_FRAGMENTS\n#else // PICK\n\n#ifdef CULL_FRAGMENTS\n    if (uv.x <= 0.0 || 1.0 <= uv.x || uv.y <= 0.0 || 1.0 <= uv.y) {\n        discard;\n    }\n#endif\n\n#ifdef NORMAL_EC\n    // Compute normal by sampling adjacent pixels in 2x2 block in screen space\n    vec3 downUp = vectorFromOffset(eyeCoordinate, vec2(0.0, 1.0));\n    vec3 leftRight = vectorFromOffset(eyeCoordinate, vec2(1.0, 0.0));\n    vec3 normalEC = normalize(cross(leftRight, downUp));\n#endif\n\n\n#ifdef PER_INSTANCE_COLOR\n\n#ifdef FLAT\n    gl_FragColor = v_color;\n#else // FLAT\n    czm_materialInput materialInput;\n    materialInput.normalEC = normalEC;\n    materialInput.positionToEyeEC = -eyeCoordinate.xyz;\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    material.diffuse = v_color.rgb;\n    material.alpha = v_color.a;\n\n    gl_FragColor = czm_phong(normalize(-eyeCoordinate.xyz), material);\n#endif // FLAT\n\n#else // PER_INSTANCE_COLOR\n\n    // Material support.\n    // USES_ is distinct from REQUIRES_, because some things are dependencies of each other or\n    // dependencies for culling but might not actually be used by the material.\n\n    czm_materialInput materialInput;\n\n#ifdef USES_NORMAL_EC\n    materialInput.normalEC = normalEC;\n#endif\n\n#ifdef USES_POSITION_TO_EYE_EC\n    materialInput.positionToEyeEC = -eyeCoordinate.xyz;\n#endif\n\n#ifdef USES_TANGENT_TO_EYE\n    materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(worldCoordinate, normalEC);\n#endif\n\n#ifdef USES_ST\n    // Remap texture coordinates from computed (approximately aligned with cartographic space) to the desired\n    // texture coordinate system, which typically forms a tight oriented bounding box around the geometry.\n    // Shader is provided a set of reference points for remapping.\n    materialInput.st.x = czm_lineDistance(v_uvMinAndSphericalLongitudeRotation.xy, v_uMaxAndInverseDistance.xy, uv) * v_uMaxAndInverseDistance.z;\n    materialInput.st.y = czm_lineDistance(v_uvMinAndSphericalLongitudeRotation.xy, v_vMaxAndInverseDistance.xy, uv) * v_vMaxAndInverseDistance.z;\n#endif\n\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef FLAT\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#else // FLAT\n    gl_FragColor = czm_phong(normalize(-eyeCoordinate.xyz), material);\n#endif // FLAT\n\n#endif // PER_INSTANCE_COLOR\n    czm_writeDepthClampedToFarPlane();\n#endif // PICK\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"varying vec3 v_forwardDirectionEC;\nvarying vec3 v_texcoordNormalizationAndHalfWidth;\nvarying float v_batchId;\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#else\nvarying vec2 v_alignedPlaneDistances;\nvarying float v_texcoordT;\n#endif\n\nfloat rayPlaneDistanceUnsafe(vec3 origin, vec3 direction, vec3 planeNormal, float planeDistance) {\n    // We don't expect the ray to ever be parallel to the plane\n    return (-planeDistance - dot(planeNormal, origin)) / dot(planeNormal, direction);\n}\n\nvoid main(void)\n{\n    vec4 eyeCoordinate = gl_FragCoord;\n    eyeCoordinate /= eyeCoordinate.w;\n\n#ifdef PER_INSTANCE_COLOR\n    gl_FragColor = v_color;\n#else // PER_INSTANCE_COLOR\n    // Use distances for planes aligned with segment to prevent skew in dashing\n    float distanceFromStart = rayPlaneDistanceUnsafe(eyeCoordinate.xyz, -v_forwardDirectionEC, v_forwardDirectionEC.xyz, v_alignedPlaneDistances.x);\n    float distanceFromEnd = rayPlaneDistanceUnsafe(eyeCoordinate.xyz, v_forwardDirectionEC, -v_forwardDirectionEC.xyz, v_alignedPlaneDistances.y);\n\n    // Clamp - distance to aligned planes may be negative due to mitering\n    distanceFromStart = max(0.0, distanceFromStart);\n    distanceFromEnd = max(0.0, distanceFromEnd);\n\n    float s = distanceFromStart / (distanceFromStart + distanceFromEnd);\n    s = (s * v_texcoordNormalizationAndHalfWidth.x) + v_texcoordNormalizationAndHalfWidth.y;\n\n    czm_materialInput materialInput;\n\n    materialInput.s = s;\n    materialInput.st = vec2(s, v_texcoordT);\n    materialInput.str = vec3(s, v_texcoordT, 0.0);\n\n    czm_material material = czm_getMaterial(materialInput);\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#endif // PER_INSTANCE_COLOR\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return'attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\n\n// In 2D and in 3D, texture coordinate normalization component signs encodes:\n// * X sign - sidedness relative to right plane\n// * Y sign - is negative OR magnitude is greater than 1.0 if vertex is on bottom of volume\n#ifndef COLUMBUS_VIEW_2D\nattribute vec4 startHiAndForwardOffsetX;\nattribute vec4 startLoAndForwardOffsetY;\nattribute vec4 startNormalAndForwardOffsetZ;\nattribute vec4 endNormalAndTextureCoordinateNormalizationX;\nattribute vec4 rightNormalAndTextureCoordinateNormalizationY;\n#else\nattribute vec4 startHiLo2D;\nattribute vec4 offsetAndRight2D;\nattribute vec4 startEndNormals2D;\nattribute vec2 texcoordNormalization2D;\n#endif\n\nattribute float batchId;\n\nvarying vec4 v_startPlaneNormalEcAndHalfWidth;\nvarying vec4 v_endPlaneNormalEcAndBatchId;\nvarying vec4 v_rightPlaneEC;\nvarying vec4 v_endEcAndStartEcX;\nvarying vec4 v_texcoordNormalizationAndStartEcYZ;\n\n// For materials\n#ifdef WIDTH_VARYING\nvarying float v_width;\n#endif\n#ifdef ANGLE_VARYING\nvarying float v_polylineAngle;\n#endif\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#endif\n\nvoid main()\n{\n#ifdef COLUMBUS_VIEW_2D\n    vec3 ecStart = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(vec3(0.0, startHiLo2D.xy), vec3(0.0, startHiLo2D.zw))).xyz;\n\n    vec3 forwardDirectionEC = czm_normal * vec3(0.0, offsetAndRight2D.xy);\n    vec3 ecEnd = forwardDirectionEC + ecStart;\n    forwardDirectionEC = normalize(forwardDirectionEC);\n\n    // Right plane\n    v_rightPlaneEC.xyz = czm_normal * vec3(0.0, offsetAndRight2D.zw);\n    v_rightPlaneEC.w = -dot(v_rightPlaneEC.xyz, ecStart);\n\n    // start plane\n    vec4 startPlaneEC;\n    startPlaneEC.xyz =  czm_normal * vec3(0.0, startEndNormals2D.xy);\n    startPlaneEC.w = -dot(startPlaneEC.xyz, ecStart);\n\n    // end plane\n    vec4 endPlaneEC;\n    endPlaneEC.xyz =  czm_normal * vec3(0.0, startEndNormals2D.zw);\n    endPlaneEC.w = -dot(endPlaneEC.xyz, ecEnd);\n\n    v_texcoordNormalizationAndStartEcYZ.x = abs(texcoordNormalization2D.x);\n    v_texcoordNormalizationAndStartEcYZ.y = texcoordNormalization2D.y;\n\n#else // COLUMBUS_VIEW_2D\n    vec3 ecStart = (czm_modelViewRelativeToEye * czm_translateRelativeToEye(startHiAndForwardOffsetX.xyz, startLoAndForwardOffsetY.xyz)).xyz;\n    vec3 offset = czm_normal * vec3(startHiAndForwardOffsetX.w, startLoAndForwardOffsetY.w, startNormalAndForwardOffsetZ.w);\n    vec3 ecEnd = ecStart + offset;\n\n    vec3 forwardDirectionEC = normalize(offset);\n\n    // start plane\n    vec4 startPlaneEC;\n    startPlaneEC.xyz = czm_normal * startNormalAndForwardOffsetZ.xyz;\n    startPlaneEC.w = -dot(startPlaneEC.xyz, ecStart);\n\n    // end plane\n    vec4 endPlaneEC;\n    endPlaneEC.xyz = czm_normal * endNormalAndTextureCoordinateNormalizationX.xyz;\n    endPlaneEC.w = -dot(endPlaneEC.xyz, ecEnd);\n\n    // Right plane\n    v_rightPlaneEC.xyz = czm_normal * rightNormalAndTextureCoordinateNormalizationY.xyz;\n    v_rightPlaneEC.w = -dot(v_rightPlaneEC.xyz, ecStart);\n\n    v_texcoordNormalizationAndStartEcYZ.x = abs(endNormalAndTextureCoordinateNormalizationX.w);\n    v_texcoordNormalizationAndStartEcYZ.y = rightNormalAndTextureCoordinateNormalizationY.w;\n\n#endif // COLUMBUS_VIEW_2D\n\n    v_endEcAndStartEcX.xyz = ecEnd;\n    v_endEcAndStartEcX.w = ecStart.x;\n    v_texcoordNormalizationAndStartEcYZ.zw = ecStart.yz;\n\n#ifdef PER_INSTANCE_COLOR\n    v_color = czm_batchTable_color(batchId);\n#endif // PER_INSTANCE_COLOR\n\n    // Compute a normal along which to "push" the position out, extending the miter depending on view distance.\n    // Position has already been "pushed" by unit length along miter normal, and miter normals are encoded in the planes.\n    // Decode the normal to use at this specific vertex, push the position back, and then push to where it needs to be.\n    vec4 positionRelativeToEye = czm_computePosition();\n\n    // Check distance to the end plane and start plane, pick the plane that is closer\n    vec4 positionEC = czm_modelViewRelativeToEye * positionRelativeToEye; // w = 1.0, see czm_computePosition\n    float absStartPlaneDistance = abs(czm_planeDistance(startPlaneEC, positionEC.xyz));\n    float absEndPlaneDistance = abs(czm_planeDistance(endPlaneEC, positionEC.xyz));\n    vec3 planeDirection = czm_branchFreeTernary(absStartPlaneDistance < absEndPlaneDistance, startPlaneEC.xyz, endPlaneEC.xyz);\n    vec3 upOrDown = normalize(cross(v_rightPlaneEC.xyz, planeDirection)); // Points "up" for start plane, "down" at end plane.\n    vec3 normalEC = normalize(cross(planeDirection, upOrDown));           // In practice, the opposite seems to work too.\n\n    // Extrude bottom vertices downward for far view distances, like for GroundPrimitives\n    upOrDown = cross(forwardDirectionEC, normalEC);\n    upOrDown = float(czm_sceneMode == czm_sceneMode3D) * upOrDown;\n    upOrDown = float(v_texcoordNormalizationAndStartEcYZ.y > 1.0 || v_texcoordNormalizationAndStartEcYZ.y < 0.0) * upOrDown;\n    upOrDown = min(GLOBE_MINIMUM_ALTITUDE, czm_geometricToleranceOverMeter * length(positionRelativeToEye.xyz)) * upOrDown;\n    positionEC.xyz += upOrDown;\n\n    v_texcoordNormalizationAndStartEcYZ.y = czm_branchFreeTernary(v_texcoordNormalizationAndStartEcYZ.y > 1.0, 0.0, abs(v_texcoordNormalizationAndStartEcYZ.y));\n\n    // Determine distance along normalEC to push for a volume of appropriate width.\n    // Make volumes about double pixel width for a conservative fit - in practice the\n    // extra cost here is minimal compared to the loose volume heights.\n    //\n    // N = normalEC (guaranteed "right-facing")\n    // R = rightEC\n    // p = angle between N and R\n    // w = distance to push along R if R == N\n    // d = distance to push along N\n    //\n    //   N   R\n    //  {  p| }      * cos(p) = dot(N, R) = w / d\n    //  d  |  |w    * d = w / dot(N, R)\n    //    { | }\n    //       o---------- polyline segment ----\x3e\n    //\n    float width = czm_batchTable_width(batchId);\n#ifdef WIDTH_VARYING\n    v_width = width;\n#endif\n\n    v_startPlaneNormalEcAndHalfWidth.xyz = startPlaneEC.xyz;\n    v_startPlaneNormalEcAndHalfWidth.w = width * 0.5;\n\n    v_endPlaneNormalEcAndBatchId.xyz = endPlaneEC.xyz;\n    v_endPlaneNormalEcAndBatchId.w = batchId;\n\n    width = width * max(0.0, czm_metersPerPixel(positionEC)); // width = distance to push along R\n    width = width / dot(normalEC, v_rightPlaneEC.xyz); // width = distance to push along N\n\n    // Determine if this vertex is on the "left" or "right"\n#ifdef COLUMBUS_VIEW_2D\n        normalEC *= sign(texcoordNormalization2D.x);\n#else\n        normalEC *= sign(endNormalAndTextureCoordinateNormalizationX.w);\n#endif\n\n    positionEC.xyz += width * normalEC;\n    gl_Position = czm_depthClampFarPlane(czm_projection * positionEC);\n\n#ifdef ANGLE_VARYING\n    // Approximate relative screen space direction of the line.\n    vec2 approxLineDirection = normalize(vec2(forwardDirectionEC.x, -forwardDirectionEC.y));\n    approxLineDirection.y = czm_branchFreeTernary(approxLineDirection.x == 0.0 && approxLineDirection.y == 0.0, -1.0, approxLineDirection.y);\n    v_polylineAngle = czm_fastApproximateAtan(approxLineDirection.x, approxLineDirection.y);\n#endif\n}\n'}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return'#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n#endif\n\nvarying vec4 v_startPlaneNormalEcAndHalfWidth;\nvarying vec4 v_endPlaneNormalEcAndBatchId;\nvarying vec4 v_rightPlaneEC; // Technically can compute distance for this here\nvarying vec4 v_endEcAndStartEcX;\nvarying vec4 v_texcoordNormalizationAndStartEcYZ;\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#endif\n\nvoid main(void)\n{\n    float logDepthOrDepth = czm_branchFreeTernary(czm_sceneMode == czm_sceneMode2D, gl_FragCoord.z, czm_unpackDepth(texture2D(czm_globeDepthTexture, gl_FragCoord.xy / czm_viewport.zw)));\n    vec3 ecStart = vec3(v_endEcAndStartEcX.w, v_texcoordNormalizationAndStartEcYZ.zw);\n\n    // Discard for sky\n    if (logDepthOrDepth == 0.0) {\n#ifdef DEBUG_SHOW_VOLUME\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 0.5);\n        return;\n#else // DEBUG_SHOW_VOLUME\n        discard;\n#endif // DEBUG_SHOW_VOLUME\n    }\n\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, logDepthOrDepth);\n    eyeCoordinate /= eyeCoordinate.w;\n\n    float halfMaxWidth = v_startPlaneNormalEcAndHalfWidth.w * czm_metersPerPixel(eyeCoordinate);\n    // Check distance of the eye coordinate against the right-facing plane\n    float widthwiseDistance = czm_planeDistance(v_rightPlaneEC, eyeCoordinate.xyz);\n\n    // Check eye coordinate against the mitering planes\n    float distanceFromStart = czm_planeDistance(v_startPlaneNormalEcAndHalfWidth.xyz, -dot(ecStart, v_startPlaneNormalEcAndHalfWidth.xyz), eyeCoordinate.xyz);\n    float distanceFromEnd = czm_planeDistance(v_endPlaneNormalEcAndBatchId.xyz, -dot(v_endEcAndStartEcX.xyz, v_endPlaneNormalEcAndBatchId.xyz), eyeCoordinate.xyz);\n\n    if (abs(widthwiseDistance) > halfMaxWidth || distanceFromStart < 0.0 || distanceFromEnd < 0.0) {\n#ifdef DEBUG_SHOW_VOLUME\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 0.5);\n        return;\n#else // DEBUG_SHOW_VOLUME\n        discard;\n#endif // DEBUG_SHOW_VOLUME\n    }\n\n    // Check distance of the eye coordinate against start and end planes with normals in the right plane.\n    // For computing unskewed lengthwise texture coordinate.\n    // Can also be used for clipping extremely pointy miters, but in practice unnecessary because of miter breaking.\n\n    // aligned plane: cross the right plane normal with miter plane normal, then cross the result with right again to point it more "forward"\n    vec3 alignedPlaneNormal;\n\n    // start aligned plane\n    alignedPlaneNormal = cross(v_rightPlaneEC.xyz, v_startPlaneNormalEcAndHalfWidth.xyz);\n    alignedPlaneNormal = normalize(cross(alignedPlaneNormal, v_rightPlaneEC.xyz));\n    distanceFromStart = czm_planeDistance(alignedPlaneNormal, -dot(alignedPlaneNormal, ecStart), eyeCoordinate.xyz);\n\n    // end aligned plane\n    alignedPlaneNormal = cross(v_rightPlaneEC.xyz, v_endPlaneNormalEcAndBatchId.xyz);\n    alignedPlaneNormal = normalize(cross(alignedPlaneNormal, v_rightPlaneEC.xyz));\n    distanceFromEnd = czm_planeDistance(alignedPlaneNormal, -dot(alignedPlaneNormal, v_endEcAndStartEcX.xyz), eyeCoordinate.xyz);\n\n#ifdef PER_INSTANCE_COLOR\n    gl_FragColor = v_color;\n#else // PER_INSTANCE_COLOR\n    // Clamp - distance to aligned planes may be negative due to mitering,\n    // so fragment texture coordinate might be out-of-bounds.\n    float s = clamp(distanceFromStart / (distanceFromStart + distanceFromEnd), 0.0, 1.0);\n    s = (s * v_texcoordNormalizationAndStartEcYZ.x) + v_texcoordNormalizationAndStartEcYZ.y;\n    float t = (widthwiseDistance + halfMaxWidth) / (2.0 * halfMaxWidth);\n\n    czm_materialInput materialInput;\n\n    materialInput.s = s;\n    materialInput.st = vec2(s, t);\n    materialInput.str = vec3(s, t, 0.0);\n\n    czm_material material = czm_getMaterial(materialInput);\n    gl_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#endif // PER_INSTANCE_COLOR\n\n    czm_writeDepthClampedToFarPlane();\n}\n'}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return'attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\n\nattribute vec4 startHiAndForwardOffsetX;\nattribute vec4 startLoAndForwardOffsetY;\nattribute vec4 startNormalAndForwardOffsetZ;\nattribute vec4 endNormalAndTextureCoordinateNormalizationX;\nattribute vec4 rightNormalAndTextureCoordinateNormalizationY;\nattribute vec4 startHiLo2D;\nattribute vec4 offsetAndRight2D;\nattribute vec4 startEndNormals2D;\nattribute vec2 texcoordNormalization2D;\n\nattribute float batchId;\n\nvarying vec3 v_forwardDirectionEC;\nvarying vec3 v_texcoordNormalizationAndHalfWidth;\nvarying float v_batchId;\n\n// For materials\n#ifdef WIDTH_VARYING\nvarying float v_width;\n#endif\n#ifdef ANGLE_VARYING\nvarying float v_polylineAngle;\n#endif\n\n#ifdef PER_INSTANCE_COLOR\nvarying vec4 v_color;\n#else\nvarying vec2 v_alignedPlaneDistances;\nvarying float v_texcoordT;\n#endif\n\n// Morphing planes using SLERP or NLERP doesn\'t seem to work, so instead draw the material directly on the shadow volume.\n// Morph views are from very far away and aren\'t meant to be used precisely, so this should be sufficient.\nvoid main()\n{\n    v_batchId = batchId;\n\n    // Start position\n    vec4 posRelativeToEye2D = czm_translateRelativeToEye(vec3(0.0, startHiLo2D.xy), vec3(0.0, startHiLo2D.zw));\n    vec4 posRelativeToEye3D = czm_translateRelativeToEye(startHiAndForwardOffsetX.xyz, startLoAndForwardOffsetY.xyz);\n    vec4 posRelativeToEye = czm_columbusViewMorph(posRelativeToEye2D, posRelativeToEye3D, czm_morphTime);\n    vec3 posEc2D = (czm_modelViewRelativeToEye * posRelativeToEye2D).xyz;\n    vec3 posEc3D = (czm_modelViewRelativeToEye * posRelativeToEye3D).xyz;\n    vec3 startEC = (czm_modelViewRelativeToEye * posRelativeToEye).xyz;\n\n    // Start plane\n    vec4 startPlane2D;\n    vec4 startPlane3D;\n    startPlane2D.xyz = czm_normal * vec3(0.0, startEndNormals2D.xy);\n    startPlane3D.xyz = czm_normal * startNormalAndForwardOffsetZ.xyz;\n    startPlane2D.w = -dot(startPlane2D.xyz, posEc2D);\n    startPlane3D.w = -dot(startPlane3D.xyz, posEc3D);\n\n    // Right plane\n    vec4 rightPlane2D;\n    vec4 rightPlane3D;\n    rightPlane2D.xyz = czm_normal * vec3(0.0, offsetAndRight2D.zw);\n    rightPlane3D.xyz = czm_normal * rightNormalAndTextureCoordinateNormalizationY.xyz;\n    rightPlane2D.w = -dot(rightPlane2D.xyz, posEc2D);\n    rightPlane3D.w = -dot(rightPlane3D.xyz, posEc3D);\n\n    // End position\n    posRelativeToEye2D = posRelativeToEye2D + vec4(0.0, offsetAndRight2D.xy, 0.0);\n    posRelativeToEye3D = posRelativeToEye3D + vec4(startHiAndForwardOffsetX.w, startLoAndForwardOffsetY.w, startNormalAndForwardOffsetZ.w, 0.0);\n    posRelativeToEye = czm_columbusViewMorph(posRelativeToEye2D, posRelativeToEye3D, czm_morphTime);\n    posEc2D = (czm_modelViewRelativeToEye * posRelativeToEye2D).xyz;\n    posEc3D = (czm_modelViewRelativeToEye * posRelativeToEye3D).xyz;\n    vec3 endEC = (czm_modelViewRelativeToEye * posRelativeToEye).xyz;\n    vec3 forwardEc3D = czm_normal * normalize(vec3(startHiAndForwardOffsetX.w, startLoAndForwardOffsetY.w, startNormalAndForwardOffsetZ.w));\n    vec3 forwardEc2D = czm_normal * normalize(vec3(0.0, offsetAndRight2D.xy));\n\n    // End plane\n    vec4 endPlane2D;\n    vec4 endPlane3D;\n    endPlane2D.xyz = czm_normal * vec3(0.0, startEndNormals2D.zw);\n    endPlane3D.xyz = czm_normal * endNormalAndTextureCoordinateNormalizationX.xyz;\n    endPlane2D.w = -dot(endPlane2D.xyz, posEc2D);\n    endPlane3D.w = -dot(endPlane3D.xyz, posEc3D);\n\n    // Forward direction\n    v_forwardDirectionEC = normalize(endEC - startEC);\n\n    vec2 cleanTexcoordNormalization2D;\n    cleanTexcoordNormalization2D.x = abs(texcoordNormalization2D.x);\n    cleanTexcoordNormalization2D.y = czm_branchFreeTernary(texcoordNormalization2D.y > 1.0, 0.0, abs(texcoordNormalization2D.y));\n    vec2 cleanTexcoordNormalization3D;\n    cleanTexcoordNormalization3D.x = abs(endNormalAndTextureCoordinateNormalizationX.w);\n    cleanTexcoordNormalization3D.y = rightNormalAndTextureCoordinateNormalizationY.w;\n    cleanTexcoordNormalization3D.y = czm_branchFreeTernary(cleanTexcoordNormalization3D.y > 1.0, 0.0, abs(cleanTexcoordNormalization3D.y));\n\n    v_texcoordNormalizationAndHalfWidth.xy = mix(cleanTexcoordNormalization2D, cleanTexcoordNormalization3D, czm_morphTime);\n\n#ifdef PER_INSTANCE_COLOR\n    v_color = czm_batchTable_color(batchId);\n#else // PER_INSTANCE_COLOR\n    // For computing texture coordinates\n\n    v_alignedPlaneDistances.x = -dot(v_forwardDirectionEC, startEC);\n    v_alignedPlaneDistances.y = -dot(-v_forwardDirectionEC, endEC);\n#endif // PER_INSTANCE_COLOR\n\n#ifdef WIDTH_VARYING\n    float width = czm_batchTable_width(batchId);\n    float halfWidth = width * 0.5;\n    v_width = width;\n    v_texcoordNormalizationAndHalfWidth.z = halfWidth;\n#else\n    float halfWidth = 0.5 * czm_batchTable_width(batchId);\n    v_texcoordNormalizationAndHalfWidth.z = halfWidth;\n#endif\n\n    // Compute a normal along which to "push" the position out, extending the miter depending on view distance.\n    // Position has already been "pushed" by unit length along miter normal, and miter normals are encoded in the planes.\n    // Decode the normal to use at this specific vertex, push the position back, and then push to where it needs to be.\n    // Since this is morphing, compute both 3D and 2D positions and then blend.\n\n    // ****** 3D ******\n    // Check distance to the end plane and start plane, pick the plane that is closer\n    vec4 positionEc3D = czm_modelViewRelativeToEye * czm_translateRelativeToEye(position3DHigh, position3DLow); // w = 1.0, see czm_computePosition\n    float absStartPlaneDistance = abs(czm_planeDistance(startPlane3D, positionEc3D.xyz));\n    float absEndPlaneDistance = abs(czm_planeDistance(endPlane3D, positionEc3D.xyz));\n    vec3 planeDirection = czm_branchFreeTernary(absStartPlaneDistance < absEndPlaneDistance, startPlane3D.xyz, endPlane3D.xyz);\n    vec3 upOrDown = normalize(cross(rightPlane3D.xyz, planeDirection)); // Points "up" for start plane, "down" at end plane.\n    vec3 normalEC = normalize(cross(planeDirection, upOrDown));         // In practice, the opposite seems to work too.\n\n    // Nudge the top vertex upwards to prevent flickering\n    vec3 geodeticSurfaceNormal = normalize(cross(normalEC, forwardEc3D));\n    geodeticSurfaceNormal *= float(0.0 <= rightNormalAndTextureCoordinateNormalizationY.w && rightNormalAndTextureCoordinateNormalizationY.w <= 1.0);\n    geodeticSurfaceNormal *= MAX_TERRAIN_HEIGHT;\n    positionEc3D.xyz += geodeticSurfaceNormal;\n\n    // Determine if this vertex is on the "left" or "right"\n    normalEC *= sign(endNormalAndTextureCoordinateNormalizationX.w);\n\n    // A "perfect" implementation would push along normals according to the angle against forward.\n    // In practice, just pushing the normal out by halfWidth is sufficient for morph views.\n    positionEc3D.xyz += halfWidth * max(0.0, czm_metersPerPixel(positionEc3D)) * normalEC; // prevent artifacts when czm_metersPerPixel is negative (behind camera)\n\n    // ****** 2D ******\n    // Check distance to the end plane and start plane, pick the plane that is closer\n    vec4 positionEc2D = czm_modelViewRelativeToEye * czm_translateRelativeToEye(position2DHigh.zxy, position2DLow.zxy); // w = 1.0, see czm_computePosition\n    absStartPlaneDistance = abs(czm_planeDistance(startPlane2D, positionEc2D.xyz));\n    absEndPlaneDistance = abs(czm_planeDistance(endPlane2D, positionEc2D.xyz));\n    planeDirection = czm_branchFreeTernary(absStartPlaneDistance < absEndPlaneDistance, startPlane2D.xyz, endPlane2D.xyz);\n    upOrDown = normalize(cross(rightPlane2D.xyz, planeDirection)); // Points "up" for start plane, "down" at end plane.\n    normalEC = normalize(cross(planeDirection, upOrDown));         // In practice, the opposite seems to work too.\n\n    // Nudge the top vertex upwards to prevent flickering\n    geodeticSurfaceNormal = normalize(cross(normalEC, forwardEc2D));\n    geodeticSurfaceNormal *= float(0.0 <= texcoordNormalization2D.y && texcoordNormalization2D.y <= 1.0);\n    geodeticSurfaceNormal *= MAX_TERRAIN_HEIGHT;\n    positionEc2D.xyz += geodeticSurfaceNormal;\n\n    // Determine if this vertex is on the "left" or "right"\n    normalEC *= sign(texcoordNormalization2D.x);\n#ifndef PER_INSTANCE_COLOR\n    // Use vertex\'s sidedness to compute its texture coordinate.\n    v_texcoordT = clamp(sign(texcoordNormalization2D.x), 0.0, 1.0);\n#endif\n\n    // A "perfect" implementation would push along normals according to the angle against forward.\n    // In practice, just pushing the normal out by halfWidth is sufficient for morph views.\n    positionEc2D.xyz += halfWidth * max(0.0, czm_metersPerPixel(positionEc2D)) * normalEC; // prevent artifacts when czm_metersPerPixel is negative (behind camera)\n\n    // Blend for actual position\n    gl_Position = czm_projection * mix(positionEc2D, positionEc3D, czm_morphTime);\n\n#ifdef ANGLE_VARYING\n    // Approximate relative screen space direction of the line.\n    vec2 approxLineDirection = normalize(vec2(v_forwardDirectionEC.x, -v_forwardDirectionEC.y));\n    approxLineDirection.y = czm_branchFreeTernary(approxLineDirection.x == 0.0 && approxLineDirection.y == 0.0, -1.0, approxLineDirection.y);\n    v_polylineAngle = czm_fastApproximateAtan(approxLineDirection.x, approxLineDirection.y);\n#endif\n}\n'}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 prevPosition3DHigh;\nattribute vec3 prevPosition3DLow;\nattribute vec3 nextPosition3DHigh;\nattribute vec3 nextPosition3DLow;\nattribute vec2 expandAndWidth;\nattribute vec4 color;\nattribute float batchId;\n\nvarying vec4 v_color;\n\nvoid main()\n{\n    float expandDir = expandAndWidth.x;\n    float width = abs(expandAndWidth.y) + 0.5;\n    bool usePrev = expandAndWidth.y < 0.0;\n\n    vec4 p = czm_computePosition();\n    vec4 prev = czm_computePrevPosition();\n    vec4 next = czm_computeNextPosition();\n\n    v_color = color;\n\n    float angle;\n    vec4 positionWC = getPolylineWindowCoordinates(p, prev, next, expandDir, width, usePrev, angle);\n    gl_Position = czm_viewportOrthographic * positionWC;\n\n#ifdef LOG_DEPTH\n    czm_vertexLogDepth(czm_modelViewProjectionRelativeToEye * p);\n#endif\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 prevPosition3DHigh;\nattribute vec3 prevPosition3DLow;\nattribute vec3 nextPosition3DHigh;\nattribute vec3 nextPosition3DLow;\nattribute vec2 expandAndWidth;\nattribute vec2 st;\nattribute float batchId;\n\nvarying float v_width;\nvarying vec2 v_st;\nvarying float v_polylineAngle;\n\nvoid main()\n{\n    float expandDir = expandAndWidth.x;\n    float width = abs(expandAndWidth.y) + 0.5;\n    bool usePrev = expandAndWidth.y < 0.0;\n\n    vec4 p = czm_computePosition();\n    vec4 prev = czm_computePrevPosition();\n    vec4 next = czm_computeNextPosition();\n\n    v_width = width;\n    v_st = st;\n\n    vec4 positionWC = getPolylineWindowCoordinates(p, prev, next, expandDir, width, usePrev, v_polylineAngle);\n    gl_Position = czm_viewportOrthographic * positionWC;\n\n#ifdef LOG_DEPTH\n    czm_vertexLogDepth(czm_modelViewProjectionRelativeToEye * p);\n#endif\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(2),n(3),n(69),n(91)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e,t,n,r,i,o,a,s,u,l){this._gl=e,this._texture=t,this._textureTarget=n,this._targetFace=r,this._pixelFormat=i,this._pixelDatatype=o,this._size=a,this._preMultiplyAlpha=s,this._flipY=u,this._initialized=l}return r(s.prototype,{pixelFormat:{get:function(){return this._pixelFormat}},pixelDatatype:{get:function(){return this._pixelDatatype}},_target:{get:function(){return this._targetFace}}}),s.prototype.copyFrom=function(e,r,i){r=t(r,0),i=t(i,0);var a=this._gl,s=this._textureTarget,u=this._targetFace;a.activeTexture(a.TEXTURE0),a.bindTexture(s,this._texture);var l=e.width,c=e.height,h=e.arrayBufferView,d=this._size,f=this._pixelFormat,p=this._pixelDatatype,m=this._preMultiplyAlpha,g=this._flipY,_=!1;if(!this._initialized){if(0===r&&0===i&&l===d&&c===d)n(h)?(a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1),g&&(h=o.flipY(h,f,p,d,d)),a.texImage2D(u,0,f,d,d,0,f,p,h)):(a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,g),a.texImage2D(u,0,f,f,p,e)),_=!0;else{a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);var v=o.createTypedArray(f,p,d,d);a.texImage2D(u,0,f,d,d,0,f,p,v)}this._initialized=!0}_||(h?(a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1),g&&(h=o.flipY(h,f,p,l,c)),a.texSubImage2D(u,0,r,i,l,c,f,p,h)):(a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,g),a.texSubImage2D(u,0,r,i,f,p,e))),a.bindTexture(s,null)},s.prototype.copyFromFramebuffer=function(e,n,r,i,o,a){e=t(e,0),n=t(n,0),r=t(r,0),i=t(i,0),o=t(o,this._size),a=t(a,this._size);var s=this._gl,u=this._textureTarget;s.activeTexture(s.TEXTURE0),s.bindTexture(u,this._texture),s.copyTexSubImage2D(this._targetFace,0,e,n,r,i,o,a),s.bindTexture(u,null),this._initialized=!0},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform sampler2D image;\nuniform float strength;\nuniform vec2 repeat;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n\n    vec2 centerPixel = fract(repeat * st);\n    float centerBump = texture2D(image, centerPixel).channel;\n\n    float imageWidth = float(imageDimensions.x);\n    vec2 rightPixel = fract(repeat * (st + vec2(1.0 / imageWidth, 0.0)));\n    float rightBump = texture2D(image, rightPixel).channel;\n\n    float imageHeight = float(imageDimensions.y);\n    vec2 leftPixel = fract(repeat * (st + vec2(0.0, 1.0 / imageHeight)));\n    float topBump = texture2D(image, leftPixel).channel;\n\n    vec3 normalTangentSpace = normalize(vec3(centerBump - rightBump, centerBump - topBump, clamp(1.0 - strength, 0.1, 1.0)));\n    vec3 normalEC = materialInput.tangentToEyeMatrix * normalTangentSpace;\n\n    material.normal = normalEC;\n    material.diffuse = vec3(0.01);\n\n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform vec4 lightColor;\nuniform vec4 darkColor;\nuniform vec2 repeat;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n\n    // From Stefan Gustavson's Procedural Textures in GLSL in OpenGL Insights\n    float b = mod(floor(repeat.s * st.s) + floor(repeat.t * st.t), 2.0);  // 0.0 or 1.0\n\n    // Find the distance from the closest separator (region between two colors)\n    float scaledWidth = fract(repeat.s * st.s);\n    scaledWidth = abs(scaledWidth - floor(scaledWidth + 0.5));\n    float scaledHeight = fract(repeat.t * st.t);\n    scaledHeight = abs(scaledHeight - floor(scaledHeight + 0.5));\n    float value = min(scaledWidth, scaledHeight);\n\n    vec4 currentColor = mix(lightColor, darkColor, b);\n    vec4 color = czm_antialias(lightColor, darkColor, currentColor, value, 0.03);\n\n    material.diffuse = color.rgb;\n    material.alpha = color.a;\n\n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform vec4 lightColor;\nuniform vec4 darkColor;\nuniform vec2 repeat;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    \n    // From Stefan Gustavson's Procedural Textures in GLSL in OpenGL Insights\n    float b = smoothstep(0.3, 0.32, length(fract(repeat * materialInput.st) - 0.5));  // 0.0 or 1.0\n\n    vec4 color = mix(lightColor, darkColor, b);\n    material.diffuse = color.rgb;\n    material.alpha = color.a;\n    \n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"#ifdef GL_OES_standard_derivatives\n    #extension GL_OES_standard_derivatives : enable\n#endif\n\nuniform vec4 color;\nuniform float spacing;\nuniform float width;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    float distanceToContour = mod(materialInput.height, spacing);\n\n#ifdef GL_OES_standard_derivatives\n    float dxc = abs(dFdx(materialInput.height));\n    float dyc = abs(dFdy(materialInput.height));\n    float dF = max(dxc, dyc) * width;\n    material.alpha = (distanceToContour < dF) ? 1.0 : 0.0;\n#else\n    material.alpha = (distanceToContour < (czm_resolutionScale * width)) ? 1.0 : 0.0;\n#endif\n\n    material.diffuse = color.rgb;\n\n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform sampler2D image;\nuniform float minimumHeight;\nuniform float maximumHeight;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    float scaledHeight = clamp((materialInput.height - minimumHeight) / (maximumHeight - minimumHeight), 0.0, 1.0);\n    vec4 rampColor = texture2D(image, vec2(scaledHeight, 0.5));\n    material.diffuse = rampColor.rgb;\n    material.alpha = rampColor.a;\n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform vec4 fadeInColor;\nuniform vec4 fadeOutColor;\nuniform float maximumDistance;\nuniform bool repeat;\nuniform vec2 fadeDirection;\nuniform vec2 time;\n\nfloat getTime(float t, float coord)\n{\n    float scalar = 1.0 / maximumDistance;\n    float q  = distance(t, coord) * scalar;\n    if (repeat)\n    {\n        float r = distance(t, coord + 1.0) * scalar;\n        float s = distance(t, coord - 1.0) * scalar;\n        q = min(min(r, s), q);\n    }\n    return clamp(q, 0.0, 1.0);\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    \n    vec2 st = materialInput.st;\n    float s = getTime(time.x, st.s) * fadeDirection.s;\n    float t = getTime(time.y, st.t) * fadeDirection.t;\n    \n    float u = length(vec2(s, t));\n    vec4 color = mix(fadeInColor, fadeOutColor, u);\n    \n    material.emission = color.rgb;\n    material.alpha = color.a;\n    \n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return'#ifdef GL_OES_standard_derivatives\n    #extension GL_OES_standard_derivatives : enable\n#endif\n\nuniform vec4 color;\nuniform float cellAlpha;\nuniform vec2 lineCount;\nuniform vec2 lineThickness;\nuniform vec2 lineOffset;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n\n    float scaledWidth = fract(lineCount.s * st.s - lineOffset.s);\n    scaledWidth = abs(scaledWidth - floor(scaledWidth + 0.5));\n    float scaledHeight = fract(lineCount.t * st.t - lineOffset.t);\n    scaledHeight = abs(scaledHeight - floor(scaledHeight + 0.5));\n\n    float value;\n#ifdef GL_OES_standard_derivatives\n    // Fuzz Factor - Controls blurriness of lines\n    const float fuzz = 1.2;\n    vec2 thickness = (lineThickness * czm_resolutionScale) - 1.0;\n\n    // From "3D Engine Design for Virtual Globes" by Cozzi and Ring, Listing 4.13.\n    vec2 dx = abs(dFdx(st));\n    vec2 dy = abs(dFdy(st));\n    vec2 dF = vec2(max(dx.s, dy.s), max(dx.t, dy.t)) * lineCount;\n    value = min(\n        smoothstep(dF.s * thickness.s, dF.s * (fuzz + thickness.s), scaledWidth),\n        smoothstep(dF.t * thickness.t, dF.t * (fuzz + thickness.t), scaledHeight));\n#else\n    // Fuzz Factor - Controls blurriness of lines\n    const float fuzz = 0.05;\n\n    vec2 range = 0.5 - (lineThickness * 0.05);\n    value = min(\n        1.0 - smoothstep(range.s, range.s + fuzz, scaledWidth),\n        1.0 - smoothstep(range.t, range.t + fuzz, scaledHeight));\n#endif\n\n    // Edges taken from RimLightingMaterial.glsl\n    // See http://www.fundza.com/rman_shaders/surface/fake_rim/fake_rim1.html\n    float dRim = 1.0 - abs(dot(materialInput.normalEC, normalize(materialInput.positionToEyeEC)));\n    float sRim = smoothstep(0.8, 1.0, dRim);\n    value *= (1.0 - sRim);\n\n    vec3 halfColor = color.rgb * 0.5;\n    material.diffuse = halfColor;\n    material.emission = halfColor;\n    material.alpha = color.a * (1.0 - ((1.0 - cellAlpha) * value));\n\n    return material;\n}\n'}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform sampler2D image;\nuniform float strength;\nuniform vec2 repeat;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    \n    vec4 textureValue = texture2D(image, fract(repeat * materialInput.st));\n    vec3 normalTangentSpace = textureValue.channels;\n    normalTangentSpace.xy = normalTangentSpace.xy * 2.0 - 1.0;\n    normalTangentSpace.z = clamp(1.0 - strength, 0.1, 1.0);\n    normalTangentSpace = normalize(normalTangentSpace);\n    vec3 normalEC = materialInput.tangentToEyeMatrix * normalTangentSpace;\n    \n    material.normal = normalEC;\n    \n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nuniform vec4 color;\n\nvarying float v_width;\n\nfloat getPointOnLine(vec2 p0, vec2 p1, float x)\n{\n    float slope = (p0.y - p1.y) / (p0.x - p1.x);\n    return slope * (x - p0.x) + p0.y;\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n\n#ifdef GL_OES_standard_derivatives\n    float base = 1.0 - abs(fwidth(st.s)) * 10.0;\n#else\n    float base = 0.99; // 1% of the line will be the arrow head\n#endif\n\n    vec2 center = vec2(1.0, 0.5);\n    float ptOnUpperLine = getPointOnLine(vec2(base, 1.0), center, st.s);\n    float ptOnLowerLine = getPointOnLine(vec2(base, 0.0), center, st.s);\n\n    float halfWidth = 0.15;\n    float s = step(0.5 - halfWidth, st.t);\n    s *= 1.0 - step(0.5 + halfWidth, st.t);\n    s *= 1.0 - step(base, st.s);\n\n    float t = step(base, materialInput.st.s);\n    t *= 1.0 - step(ptOnUpperLine, st.t);\n    t *= step(ptOnLowerLine, st.t);\n\n    // Find the distance from the closest separator (region between two colors)\n    float dist;\n    if (st.s < base)\n    {\n        float d1 = abs(st.t - (0.5 - halfWidth));\n        float d2 = abs(st.t - (0.5 + halfWidth));\n        dist = min(d1, d2);\n    }\n    else\n    {\n        float d1 = czm_infinity;\n        if (st.t < 0.5 - halfWidth && st.t > 0.5 + halfWidth)\n        {\n            d1 = abs(st.s - base);\n        }\n        float d2 = abs(st.t - ptOnUpperLine);\n        float d3 = abs(st.t - ptOnLowerLine);\n        dist = min(min(d1, d2), d3);\n    }\n\n    vec4 outsideColor = vec4(0.0);\n    vec4 currentColor = mix(outsideColor, color, clamp(s + t, 0.0, 1.0));\n    vec4 outColor = czm_antialias(outsideColor, color, currentColor, dist);\n\n    material.diffuse = outColor.rgb;\n    material.alpha = outColor.a;\n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform vec4 color;\nuniform vec4 gapColor;\nuniform float dashLength;\nuniform float dashPattern;\nvarying float v_polylineAngle;\n\nconst float maskLength = 16.0;\n\nmat2 rotate(float rad) {\n    float c = cos(rad);\n    float s = sin(rad);\n    return mat2(\n        c, s,\n        -s, c\n    );\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 pos = rotate(v_polylineAngle) * gl_FragCoord.xy;\n\n    // Get the relative position within the dash from 0 to 1\n    float dashPosition = fract(pos.x / dashLength);\n    // Figure out the mask index.\n    float maskIndex = floor(dashPosition * maskLength);\n    // Test the bit mask.\n    float maskTest = floor(dashPattern / pow(2.0, maskIndex));\n    vec4 fragColor = (mod(maskTest, 2.0) < 1.0) ? gapColor : color;\n    if (fragColor.a < 0.005) {   // matches 0/255 and 1/255\n        discard;\n    }\n\n    material.emission = fragColor.rgb;\n    material.alpha = fragColor.a;\n    return material;\n}"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform vec4 color;\nuniform float glowPower;\n\nvarying float v_width;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    vec2 st = materialInput.st;\n    float glow = glowPower / abs(st.t - 0.5) - (glowPower / 0.5);\n\n    material.emission = max(vec3(glow - 1.0 + color.rgb), color.rgb);\n    material.alpha = clamp(0.0, 1.0, glow) * color.a;\n\n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform vec4 color;\nuniform vec4 outlineColor;\nuniform float outlineWidth;\n\nvarying float v_width;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    \n    vec2 st = materialInput.st;\n    float halfInteriorWidth =  0.5 * (v_width - outlineWidth) / v_width;\n    float b = step(0.5 - halfInteriorWidth, st.t);\n    b *= 1.0 - step(0.5 + halfInteriorWidth, st.t);\n    \n    // Find the distance from the closest separator (region between two colors)\n    float d1 = abs(st.t - (0.5 - halfInteriorWidth));\n    float d2 = abs(st.t - (0.5 + halfInteriorWidth));\n    float dist = min(d1, d2);\n    \n    vec4 currentColor = mix(outlineColor, color, b);\n    vec4 outColor = czm_antialias(outlineColor, color, currentColor, dist);\n    \n    material.diffuse = outColor.rgb;\n    material.alpha = outColor.a;\n    \n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform vec4 color;\nuniform vec4 rimColor;\nuniform float width;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    // See http://www.fundza.com/rman_shaders/surface/fake_rim/fake_rim1.html\n    float d = 1.0 - dot(materialInput.normalEC, normalize(materialInput.positionToEyeEC));\n    float s = smoothstep(1.0 - width, 1.0, d);\n\n    material.diffuse = color.rgb;\n    material.emission = rimColor.rgb * s; \n    material.alpha = mix(color.a, rimColor.a, s);\n\n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform sampler2D image;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    vec4 rampColor = texture2D(image, vec2(materialInput.slope, 0.5));\n    material.diffuse = rampColor.rgb;\n    material.alpha = rampColor.a;\n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform vec4 evenColor;\nuniform vec4 oddColor;\nuniform float offset;\nuniform float repeat;\nuniform bool horizontal;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    // Based on the Stripes Fragment Shader in the Orange Book (11.1.2)\n    float coord = mix(materialInput.st.s, materialInput.st.t, float(horizontal));\n    float value = fract((coord - offset) * (repeat * 0.5));\n    float dist = min(value, min(abs(value - 0.5), 1.0 - value));\n    \n    vec4 currentColor = mix(evenColor, oddColor, step(0.5, value));\n    vec4 color = czm_antialias(evenColor, oddColor, currentColor, dist);\n    \n    material.diffuse = color.rgb;\n    material.alpha = color.a;\n    \n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"// Thanks for the contribution Jonas\n// http://29a.ch/2012/7/19/webgl-terrain-rendering-water-fog\n\nuniform sampler2D specularMap;\nuniform sampler2D normalMap;\nuniform vec4 baseWaterColor;\nuniform vec4 blendColor;\nuniform float frequency;\nuniform float animationSpeed;\nuniform float amplitude;\nuniform float specularIntensity;\nuniform float fadeFactor;\n\nczm_material czm_getMaterial(czm_materialInput materialInput)\n{\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    float time = czm_frameNumber * animationSpeed;\n    \n    // fade is a function of the distance from the fragment and the frequency of the waves\n    float fade = max(1.0, (length(materialInput.positionToEyeEC) / 10000000000.0) * frequency * fadeFactor);\n            \n    float specularMapValue = texture2D(specularMap, materialInput.st).r;\n    \n    // note: not using directional motion at this time, just set the angle to 0.0;\n    vec4 noise = czm_getWaterNoise(normalMap, materialInput.st * frequency, time, 0.0);\n    vec3 normalTangentSpace = noise.xyz * vec3(1.0, 1.0, (1.0 / amplitude));\n    \n    // fade out the normal perturbation as we move further from the water surface\n    normalTangentSpace.xy /= fade;\n        \n    // attempt to fade out the normal perturbation as we approach non water areas (low specular map value)\n    normalTangentSpace = mix(vec3(0.0, 0.0, 50.0), normalTangentSpace, specularMapValue);\n    \n    normalTangentSpace = normalize(normalTangentSpace);\n    \n    // get ratios for alignment of the new normal vector with a vector perpendicular to the tangent plane\n    float tsPerturbationRatio = clamp(dot(normalTangentSpace, vec3(0.0, 0.0, 1.0)), 0.0, 1.0);\n    \n    // fade out water effect as specular map value decreases\n    material.alpha = specularMapValue;\n    \n    // base color is a blend of the water and non-water color based on the value from the specular map\n    // may need a uniform blend factor to better control this\n    material.diffuse = mix(blendColor.rgb, baseWaterColor.rgb, specularMapValue);\n    \n    // diffuse highlights are based on how perturbed the normal is\n    material.diffuse += (0.1 * tsPerturbationRatio);\n    \n    material.normal = normalize(materialInput.tangentToEyeMatrix * normalTangentSpace);\n    \n    material.specular = specularIntensity;\n    material.shininess = 10.0;\n    \n    return material;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._plane=void 0,this._planeSubscription=void 0,this._dimensions=void 0,this._dimensionsSubscription=void 0,this._show=void 0,this._showSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubscription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:a("show"),plane:a("plane"),dimensions:a("dimensions"),material:o("material"),fill:a("fill"),outline:a("outline"),outlineColor:a("outlineColor"),outlineWidth:a("outlineWidth"),shadows:a("shadows"),distanceDisplayCondition:a("distanceDisplayCondition")}),s.prototype.clone=function(e){return t(e)?(e.plane=this.plane,e.dimensions=this.dimensions,e.show=this.show,e.material=this.material,e.fill=this.fill,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new s(this)},s.prototype.merge=function(t){this.plane=e(this.plane,t.plane),this.dimensions=e(this.dimensions,t.dimensions),this.show=e(this.show,t.show),this.material=e(this.material,t.material),this.fill=e(this.fill,t.fill),this.outline=e(this.outline,t.outline),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.shadows=e(this.shadows,t.shadows),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(75),n(43)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(t){this._show=void 0,this._showSubscription=void 0,this._material=void 0,this._materialSubscription=void 0,this._positions=void 0,this._positionsSubscription=void 0,this._shape=void 0,this._shapeSubscription=void 0,this._granularity=void 0,this._granularitySubscription=void 0,this._cornerType=void 0,this._cornerTypeSubscription=void 0,this._fill=void 0,this._fillSubscription=void 0,this._outline=void 0,this._outlineSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this._shadows=void 0,this._shadowsSubscription=void 0,this._distanceDisplayCondition=void 0,this._distanceDisplayConditionSubsription=void 0,this._definitionChanged=new i,this.merge(e(t,e.EMPTY_OBJECT))}return n(s.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},show:a("show"),material:o("material"),positions:a("positions"),shape:a("shape"),granularity:a("granularity"),fill:a("fill"),outline:a("outline"),outlineColor:a("outlineColor"),outlineWidth:a("outlineWidth"),cornerType:a("cornerType"),shadows:a("shadows"),distanceDisplayCondition:a("distanceDisplayCondition")}),s.prototype.clone=function(e){return t(e)?(e.show=this.show,e.material=this.material,e.positions=this.positions,e.shape=this.shape,e.granularity=this.granularity,e.fill=this.fill,e.outline=this.outline,e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.cornerType=this.cornerType,e.shadows=this.shadows,e.distanceDisplayCondition=this.distanceDisplayCondition,e):new s(this)},s.prototype.merge=function(t){this.show=e(this.show,t.show),this.material=e(this.material,t.material),this.positions=e(this.positions,t.positions),this.shape=e(this.shape,t.shape),this.granularity=e(this.granularity,t.granularity),this.fill=e(this.fill,t.fill),this.outline=e(this.outline,t.outline),this.outlineColor=e(this.outlineColor,t.outlineColor),this.outlineWidth=e(this.outlineWidth,t.outlineWidth),this.cornerType=e(this.cornerType,t.cornerType),this.shadows=e(this.shadows,t.shadows),this.distanceDisplayCondition=e(this.distanceDisplayCondition,t.distanceDisplayCondition)},s}.apply(t,r))&&(e.exports=i)},function(e,t){e.exports=function(e,t){for(var n=e[0],r=e[1],i=!1,o=0,a=t.length-1;o<t.length;a=o++){var s=t[o][0],u=t[o][1],l=t[a][0],c=t[a][1];u>r!=c>r&&n<(l-s)*(r-u)/(c-u)+s&&(i=!i)}return i}},function(e,t,n){"use strict";function r(e){var t,n=i.match(e),r=[];return n&&(t=0,n.forEach(function(n){t<n.index&&r.push(e.slice(t,n.index).replace(/\r?\n/g,"<br>")),r.push('<a target="_blank" rel="noreferrer noopener" href="'),r.push(n.url),r.push('">'),r.push(n.text),r.push("</a>"),t=n.lastIndex}),t<e.length&&r.push(e.slice(t).replace(/\r?\n/g,"<br>")),e=r.join("")),e}var i=n(541)();e.exports=r},function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(542).source,t.src_Cc=n(543).source,t.src_Z=n(544).source,t.src_P=n(332).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,n){"use strict";function r(e,t,n){var r,i,o;return Array.isArray(n)?(r=Object(s.a)(e,t,n)||{x:NaN,y:NaN},n.length>2?void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name?"number"==typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(i=Object(s.a)(e,t,n),o=Object.keys(n),2===o.length?i:(o.forEach(function(r){if(void 0!==e.name&&"geocent"===e.name||void 0!==t.name&&"geocent"===t.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]}),i))}function i(e){return e instanceof a.a?e:e.oProj?e.oProj:Object(a.a)(e)}function o(e,t,n){e=i(e);var o,a=!1;return void 0===t?(t=e,e=u,a=!0):(void 0!==t.x||Array.isArray(t))&&(n=t,t=e,e=u,a=!0),t=i(t),n?r(e,t,n):(o={forward:function(n){return r(e,t,n)},inverse:function(n){return r(t,e,n)}},a&&(o.oProj=t),o)}var a=n(338),s=n(549),u=Object(a.a)("WGS84");t.a=o},function(e,t,n){"use strict";function r(e){return"string"==typeof e}function i(e){return e in c.a}function o(e){return p.some(function(t){return e.indexOf(t)>-1})}function a(e){var t=Object(f.a)(e,"authority");if(t){var n=Object(f.a)(t,"epsg");return n&&m.indexOf(n)>-1}}function s(e){var t=Object(f.a)(e,"extension");if(t)return Object(f.a)(t,"proj4")}function u(e){return"+"===e[0]}function l(e){if(!r(e))return e;if(i(e))return c.a[e];if(o(e)){var t=Object(h.a)(e);if(a(t))return c.a["EPSG:3857"];var n=s(t);return n?Object(d.a)(n):t}return u(e)?Object(d.a)(e):void 0}var c=n(546),h=n(548),d=n(547),f=n(247),p=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],m=["3857","900913","3785","102113"];t.a=l},function(e,t,n){"use strict";t.a=function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={};r.greenwich=0,r.lisbon=-9.131906111111,r.paris=2.337229166667,r.bogota=-74.080916666667,r.madrid=-3.687938888889,r.rome=12.452333333333,r.bern=7.439583333333,r.jakarta=106.807719444444,r.ferro=-17.666666666667,r.brussels=4.367975,r.stockholm=18.058277777778,r.athens=23.7163375,r.oslo=10.722916666667},function(e,t,n){"use strict";t.a={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}}},function(e,t,n){"use strict";function r(e){if("string"!=typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=o}function i(e){return new r(e).output()}t.a=i;var o=1,a=/\s/,s=/[A-Za-z]/,u=/[A-Za-z84]/,l=/[,\]]/,c=/[\d\.E\-\+]/;r.prototype.readCharicter=function(){var e=this.text[this.place++];if(4!==this.state)for(;a.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case o:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},r.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=4);if(l.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},r.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=o)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=o,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},r.prototype.number=function(e){if(c.test(e))return void(this.word+=e);if(l.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)},r.prototype.quoted=function(e){if('"'===e)return void(this.state=5);this.word+=e},r.prototype.keyword=function(e){if(u.test(e))return void(this.word+=e);if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=o)}if(l.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place)},r.prototype.neutral=function(e){if(s.test(e))return this.word=e,void(this.state=2);if('"'===e)return this.word="",void(this.state=4);if(c.test(e))return this.word=e,void(this.state=3);if(l.test(e))return void this.afterItem(e);throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place)},r.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)}},function(e,t,n){"use strict";function r(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,o=n.reduce(function(e,t){return i(t,e),e},r);t&&(e[t]=o)}function i(e,t){if(!Array.isArray(e))return void(t[e]=!0);var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void i(e[0],t[n])):void(t[n]=e[0]);if(!e.length)return void(t[n]=!0);if("TOWGS84"===n)return void(t[n]=e);if("AXIS"===n)return n in t||(t[n]=[]),void t[n].push(e);Array.isArray(n)||(t[n]={});var o;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&i(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&i(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void r(t,n,e);default:for(o=-1;++o<e.length;)if(!Array.isArray(e[o]))return i(e,t[n]);return r(t,n,e)}}t.a=i},function(e,t,n){"use strict";t.a=function(e,t){e=e||{};var n,r;if(!t)return e;for(r in t)void 0!==(n=t[r])&&(e[r]=n);return e}},function(e,t,n){"use strict";function r(e,t){var n=c.length;return e.names?(c[n]=e,e.names.forEach(function(e){l[e.toLowerCase()]=n}),this):(console.log(t),!0)}function i(e){if(!e)return!1;var t=e.toLowerCase();return void 0!==l[t]&&c[l[t]]?c[l[t]]:void 0}function o(){u.forEach(r)}var a=n(1120),s=n(1121),u=[a.a,s.a],l={},c=[];t.a={start:o,add:r,get:i}},function(e,t,n){"use strict";function r(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Object(a.a)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function i(e){var t=e.x,n=e.y;if(n*c.i>90&&n*c.i<-90&&t*c.i>180&&t*c.i<-180)return null;var r,i;if(Math.abs(Math.abs(n)-c.d)<=c.b)return null;if(this.sphere)r=this.x0+this.a*this.k0*Object(s.a)(t-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(c.c+.5*n));else{var o=Math.sin(n),a=Object(u.a)(this.e,n,o);r=this.x0+this.a*this.k0*Object(s.a)(t-this.long0),i=this.y0-this.a*this.k0*Math.log(a)}return e.x=r,e.y=i,e}function o(e){var t,n,r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)n=c.d-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=Object(l.a)(this.e,o)))return null}return t=Object(s.a)(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e}var a=n(170),s=n(45),u=n(248),l=n(249),c=n(35),h=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];t.a={init:r,forward:i,inverse:o,names:h}},function(e,t,n){"use strict";function r(){}function i(e){return e}var o=["longlat","identity"];t.a={init:r,forward:i,inverse:i,names:o}},function(e,t,n){"use strict";function r(e,t,n,r){var i=e*e,a=t*t,s=(i-a)/i,u=0;return r?(e*=1-s*(o.m+s*(o.j+s*o.k)),i=e*e,s=0):u=Math.sqrt(s),{es:s,e:u,ep2:(i-a)/a}}function i(e,t,n,r,i){if(!e){var u=Object(s.a)(a.b,r);u||(u=a.a),e=u.a,t=u.b,n=u.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<o.b)&&(i=!0,t=e),{a:e,b:t,rf:n,sphere:i}}t.a=r,t.b=i;var o=n(35),a=n(1123),s=n(247)},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r={};r.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},r.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},r.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},r.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},r.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},r.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},r.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},r.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},r.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},r.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},r.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},r.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},r.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},r.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},r.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},r.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},r.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},r.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},r.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},r.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},r.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},r.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},r.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},r.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},r.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},r.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},r.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},r.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},r.hough={a:6378270,rf:297,ellipseName:"Hough"},r.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},r.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},r.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},r.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},r.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},r.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},r.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},r.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},r.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},r.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},r.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},r.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var i=r.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};r.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={};r.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},r.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},r.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},r.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},r.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},r.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},r.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},r.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},r.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},r.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},r.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},r.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},r.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},r.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},r.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},r.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},r.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},function(e,t,n){"use strict";function r(e,t,n,r,o,a){var s={};return s.datum_type=void 0===e||"none"===e?i.g:i.h,t&&(s.datum_params=t.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=i.e),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=i.f,s.datum_params[3]*=i.l,s.datum_params[4]*=i.l,s.datum_params[5]*=i.l,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=n,s.b=r,s.es=o,s.ep2=a,s}var i=n(35);t.a=r},function(e,t,n){"use strict";function r(e){return e===i.e||e===i.f}var i=n(35),o=n(550);t.a=function(e,t,n){return Object(o.a)(e,t)?n:e.datum_type===i.g||t.datum_type===i.g?n:e.es!==t.es||e.a!==t.a||r(e.datum_type)||r(t.datum_type)?(n=Object(o.e)(n,e.es,e.a),r(e.datum_type)&&(n=Object(o.d)(n,e.datum_type,e.datum_params)),r(t.datum_type)&&(n=Object(o.b)(n,t.datum_type,t.datum_params)),Object(o.c)(n,t.es,t.a,t.b)):n}},function(e,t,n){"use strict";t.a=function(e,t,n){var r,i,o,a=n.x,s=n.y,u=n.z||0,l={};for(o=0;o<3;o++)if(!t||2!==o||void 0!==n.z)switch(0===o?(r=a,i=-1!=="ew".indexOf(e.axis[o])?"x":"y"):1===o?(r=s,i=-1!=="ns".indexOf(e.axis[o])?"y":"x"):(r=u,i="z"),e.axis[o]){case"e":l[i]=r;break;case"w":l[i]=-r;break;case"n":l[i]=r;break;case"s":l[i]=-r;break;case"u":void 0!==n[i]&&(l.z=r);break;case"d":void 0!==n[i]&&(l.z=-r);break;default:return null}return l}},function(e,t,n){"use strict";function r(e){if("function"==typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof e||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}t.a=function(e){r(e.x),r(e.y)}},function(e,t,n){"use strict";function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"==typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"==typeof e&&void 0===t){var i=e.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var i=n(552);r.fromMGRS=function(e){return new r(Object(i.c)(e))},r.prototype.toMGRS=function(e){return Object(i.b)([this.x,this.y],e)},t.a=r},function(e,t,n){"use strict";var r=n(1131),i=n(555),o=n(1138),a=n(1140),s=n(1143),u=n(1144),l=n(1145),c=n(1146),h=n(1147),d=n(1148),f=n(1149),p=n(1150),m=n(1151),g=n(1152),_=n(1154),v=n(1155),A=n(1156),y=n(1157),b=n(1158),w=n(1159),x=n(1160),E=n(1161),C=n(1162),S=n(1163),T=n(1164),I=n(1165),M=n(1166),O=n(1167);t.a=function(e){e.Proj.projections.add(r.a),e.Proj.projections.add(i.a),e.Proj.projections.add(o.a),e.Proj.projections.add(a.a),e.Proj.projections.add(s.a),e.Proj.projections.add(u.a),e.Proj.projections.add(l.a),e.Proj.projections.add(c.a),e.Proj.projections.add(h.a),e.Proj.projections.add(d.a),e.Proj.projections.add(f.a),e.Proj.projections.add(p.a),e.Proj.projections.add(m.a),e.Proj.projections.add(g.a),e.Proj.projections.add(_.a),e.Proj.projections.add(v.a),e.Proj.projections.add(A.a),e.Proj.projections.add(y.a),e.Proj.projections.add(b.a),e.Proj.projections.add(w.a),e.Proj.projections.add(x.a),e.Proj.projections.add(E.a),e.Proj.projections.add(C.a),e.Proj.projections.add(S.a),e.Proj.projections.add(T.a),e.Proj.projections.add(I.a),e.Proj.projections.add(M.a),e.Proj.projections.add(O.a)}},function(e,t,n){"use strict";function r(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Object(a.a)(this.es),this.ml0=Object(s.a)(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function i(e){var t,n,r,i=e.x,o=e.y,a=Object(l.a)(i-this.long0),u=Math.sin(o),h=Math.cos(o);if(this.es){var d=h*a,f=Math.pow(d,2),p=this.ep2*Math.pow(h,2),m=Math.pow(p,2),g=Math.abs(h)>c.b?Math.tan(o):0,_=Math.pow(g,2),v=Math.pow(_,2);t=1-this.es*Math.pow(u,2),d/=Math.sqrt(t);var A=Object(s.a)(o,u,h,this.en);n=this.a*(this.k0*d*(1+f/6*(1-_+p+f/20*(5-18*_+v+14*p-58*_*p+f/42*(61+179*v-v*_-479*_)))))+this.x0,r=this.a*(this.k0*(A-this.ml0+u*a*d/2*(1+f/12*(5-_+9*p+4*m+f/30*(61+v-58*_+270*p-330*_*p+f/56*(1385+543*v-v*_-3111*_))))))+this.y0}else{var y=h*Math.sin(a);if(Math.abs(Math.abs(y)-1)<c.b)return 93;if(n=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,r=h*Math.cos(a)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(r))>=1){if(y-1>c.b)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e}function o(e){var t,n,r,i,o=(e.x-this.x0)*(1/this.a),a=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+a/this.k0,n=Object(u.a)(t,this.es,this.en),Math.abs(n)<c.d){var s=Math.sin(n),d=Math.cos(n),f=Math.abs(d)>c.b?Math.tan(n):0,p=this.ep2*Math.pow(d,2),m=Math.pow(p,2),g=Math.pow(f,2),_=Math.pow(g,2);t=1-this.es*Math.pow(s,2);var v=o*Math.sqrt(t)/this.k0,A=Math.pow(v,2);t*=f,r=n-t*A/(1-this.es)*.5*(1-A/12*(5+3*g-9*p*g+p-4*m-A/30*(61+90*g-252*p*g+45*_+46*p-A/56*(1385+3633*g+4095*_+1574*_*g)))),i=Object(l.a)(this.long0+v*(1-A/6*(1+2*g+p-A/20*(5+28*g+24*_+8*p*g+6*p-A/42*(61+662*g+1320*_+720*_*g))))/d)}else r=c.d*Object(h.a)(a),i=0;else{var y=Math.exp(o/this.k0),b=.5*(y-1/y),w=this.lat0+a/this.k0,x=Math.cos(w);t=Math.sqrt((1-Math.pow(x,2))/(1+Math.pow(b,2))),r=Math.asin(t),a<0&&(r=-r),i=0===b&&0===x?0:Object(l.a)(Math.atan2(b,x)+this.long0)}return e.x=i,e.y=r,e}var a=n(553),s=n(339),u=n(554),l=n(45),c=n(35),h=n(201),d=["Transverse_Mercator","Transverse Mercator","tmerc"];t.a={init:r,forward:i,inverse:o,names:d}},function(e,t,n){"use strict";var r=n(340),i=n(1133);t.a=function(e){var t=Math.abs(e);return t=Object(i.a)(t*(1+t/(Object(r.a)(1,t)+1))),e<0?-t:t}},function(e,t,n){"use strict";t.a=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n}},function(e,t,n){"use strict";t.a=function(e,t){for(var n,r=2*Math.cos(2*t),i=e.length-1,o=e[i],a=0;--i>=0;)n=r*o-a+e[i],a=o,o=n;return t+n*Math.sin(2*t)}},function(e,t,n){"use strict";t.a=function(e,t){for(var n,r=2*Math.cos(t),i=e.length-1,o=e[i],a=0;--i>=0;)n=r*o-a+e[i],a=o,o=n;return Math.sin(t)*n}},function(e,t,n){"use strict";var r=n(556),i=n(1137);t.a=function(e,t,n){for(var o,a,s=Math.sin(t),u=Math.cos(t),l=Object(r.a)(n),c=Object(i.a)(n),h=2*u*c,d=-2*s*l,f=e.length-1,p=e[f],m=0,g=0,_=0;--f>=0;)o=g,a=m,g=p,m=_,p=h*g-o-d*m+e[f],_=d*g-a+h*m;return h=s*c,d=u*l,[h*p-d*_,h*_+d*p]}},function(e,t,n){"use strict";t.a=function(e){var t=Math.exp(e);return t=(t+1/t)/2}},function(e,t,n){"use strict";function r(){var e=Object(i.a)(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*a.a,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,o.a.init.apply(this),this.forward=o.a.forward,this.inverse=o.a.inverse}var i=n(1139),o=n(555),a=n(35),s=["Universal Transverse Mercator System","utm"];t.a={init:r,names:s,dependsOn:"etmerc"}},function(e,t,n){"use strict";var r=n(45);t.a=function(e,t){if(void 0===e){if((e=Math.floor(30*(Object(r.a)(t)+Math.PI)/Math.PI)+1)<0)return 0;if(e>60)return 60}return e}},function(e,t,n){"use strict";function r(){a.a.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function i(e){var t,n,r,i;return e.x=Object(s.a)(e.x-this.long0),a.a.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function o(e){var t,n,r,i,o;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,o=Math.sqrt(e.x*e.x+e.y*e.y)){var u=2*Math.atan2(o,this.R2);t=Math.sin(u),n=Math.cos(u),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/o),r=Math.atan2(e.x*t,o*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,a.a.inverse.apply(this,[e]),e.x=Object(s.a)(e.x+this.long0),e}var a=n(1141),s=n(45),u=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];t.a={init:r,forward:i,inverse:o,names:u}},function(e,t,n){"use strict";function r(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+s.c)/(Math.pow(Math.tan(.5*this.lat0+s.c),this.C)*Object(a.a)(this.e*e,this.ratexp))}function i(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+s.c),this.C)*Object(a.a)(this.e*Math.sin(n),this.ratexp))-s.d,e.x=this.C*t,e}function o(e){for(var t=e.x/this.C,n=e.y,r=Math.pow(Math.tan(.5*n+s.c)/this.K,1/this.C),i=u;i>0&&(n=2*Math.atan(r*Object(a.a)(this.e*Math.sin(e.y),-.5*this.e))-s.d,!(Math.abs(n-e.y)<1e-14));--i)e.y=n;return i?(e.x=t,e.y=n,e):null}var a=n(1142),s=n(35),u=20,l=["gauss"];t.a={init:r,forward:i,inverse:o,names:l}},function(e,t,n){"use strict";t.a=function(e,t){return Math.pow((1-e)/(1+e),t)}},function(e,t,n){"use strict";function r(e,t,n){return t*=n,Math.tan(.5*(s.d+e))*Math.pow((1-t)/(1+t),.5*n)}function i(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=s.b&&(this.k0=.5*(1+Object(u.a)(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=s.b&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=s.b&&(this.k0=.5*this.cons*Object(l.a)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Object(c.a)(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Object(l.a)(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-s.d,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function o(e){var t,n,r,i,o,a,u=e.x,l=e.y,h=Math.sin(l),f=Math.cos(l),p=Object(d.a)(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=s.b&&Math.abs(l+this.lat0)<=s.b?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*h+this.coslat0*f*Math.cos(p)),e.x=this.a*t*f*Math.sin(p)+this.x0,e.y=this.a*t*(this.coslat0*h-this.sinlat0*f*Math.cos(p))+this.y0,e):(n=2*Math.atan(this.ssfn_(l,h,this.e))-s.d,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=s.b?(o=Object(c.a)(this.e,l*this.con,this.con*h),a=2*this.a*this.k0*o/this.cons,e.x=this.x0+a*Math.sin(u-this.long0),e.y=this.y0-this.con*a*Math.cos(u-this.long0),e):(Math.abs(this.sinlat0)<s.b?(t=2*this.a*this.k0/(1+i*Math.cos(p)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(p))),e.y=t*(this.cosX0*r-this.sinX0*i*Math.cos(p))+this.y0),e.x=t*i*Math.sin(p)+this.x0,e))}function a(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,a=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var u=2*Math.atan(a/(2*this.a*this.k0));return t=this.long0,(n=this.lat0,a<=s.b)?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(u)*this.sinlat0+e.y*Math.sin(u)*this.coslat0/a),t=Math.abs(this.coslat0)<s.b?this.lat0>0?Object(d.a)(this.long0+Math.atan2(e.x,-1*e.y)):Object(d.a)(this.long0+Math.atan2(e.x,e.y)):Object(d.a)(this.long0+Math.atan2(e.x*Math.sin(u),a*this.coslat0*Math.cos(u)-e.y*this.sinlat0*Math.sin(u))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=s.b){if(a<=s.b)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*Object(h.a)(this.e,r),t=this.con*Object(d.a)(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,a<=s.b?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/a),t=Object(d.a)(this.long0+Math.atan2(e.x*Math.sin(i),a*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*Object(h.a)(this.e,Math.tan(.5*(s.d+o)));return e.x=t,e.y=n,e}var s=n(35),u=n(201),l=n(170),c=n(248),h=n(249),d=n(45),f=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];t.a={init:i,forward:o,inverse:a,names:f,ssfn_:r}},function(e,t,n){"use strict";function r(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=this.rf,i=1/r,o=2*i-Math.pow(i,2),a=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(t,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),u=Math.log(Math.tan(Math.PI/4+e/2)),l=Math.log((1+a*t)/(1-a*t));this.K=s-this.alpha*u+this.alpha*a/2*l}function i(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(e.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return e.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,e.x=this.R*a+this.x0,e}function o(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,u=0,l=o,c=-1e3,h=0;Math.abs(l-c)>1e-7;){if(++h>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(u))-Math.PI/2}return e.x=s,e.y=l,e}var a=["somerc"];t.a={init:r,forward:i,inverse:o,names:a}},function(e,t,n){"use strict";function r(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var e=Math.sin(this.lat0),t=Math.cos(this.lat0),n=this.e*e;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(t,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r=Object(a.a)(this.e,this.lat0,e),i=this.bl/t*Math.sqrt((1-this.es)/(1-n*n));i*i<1&&(i=1);var o,u;if(isNaN(this.longc)){var l=Object(a.a)(this.e,this.lat1,Math.sin(this.lat1)),c=Object(a.a)(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(i+Math.sqrt(i*i-1))*Math.pow(r,this.bl):this.el=(i-Math.sqrt(i*i-1))*Math.pow(r,this.bl);var h=Math.pow(l,this.bl),d=Math.pow(c,this.bl);o=this.el/h,u=.5*(o-1/o);var f=(this.el*this.el-d*h)/(this.el*this.el+d*h),p=(d-h)/(d+h),m=Object(s.a)(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(f*Math.tan(.5*this.bl*m)/p)/this.bl,this.long0=Object(s.a)(this.long0);var g=Object(s.a)(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/u),this.alpha=Math.asin(i*Math.sin(this.gamma0))}else o=this.lat0>=0?i+Math.sqrt(i*i-1):i-Math.sqrt(i*i-1),this.el=o*Math.pow(r,this.bl),u=.5*(o-1/o),this.gamma0=Math.asin(Math.sin(this.alpha)/i),this.long0=this.longc-Math.asin(u*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha))}function i(e){var t,n,r,i=e.x,o=e.y,u=Object(s.a)(i-this.long0);if(Math.abs(Math.abs(o)-l.d)<=l.b)r=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(l.c+r*this.gamma0*.5)),t=-1*r*l.d*this.al/this.bl;else{var c=Object(a.a)(this.e,o,Math.sin(o)),h=this.el/Math.pow(c,this.bl),d=.5*(h-1/h),f=.5*(h+1/h),p=Math.sin(this.bl*u),m=(d*Math.sin(this.gamma0)-p*Math.cos(this.gamma0))/f;n=Math.abs(Math.abs(m)-1)<=l.b?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-m)/(1+m))/this.bl,t=Math.abs(Math.cos(this.bl*u))<=l.b?this.al*this.bl*u:this.al*Math.atan2(d*Math.cos(this.gamma0)+p*Math.sin(this.gamma0),Math.cos(this.bl*u))/this.bl}return this.no_rot?(e.x=this.x0+t,e.y=this.y0+n):(t-=this.uc,e.x=this.x0+n*Math.cos(this.alpha)+t*Math.sin(this.alpha),e.y=this.y0+t*Math.cos(this.alpha)-n*Math.sin(this.alpha)),e}function o(e){var t,n;this.no_rot?(n=e.y-this.y0,t=e.x-this.x0):(n=(e.x-this.x0)*Math.cos(this.alpha)-(e.y-this.y0)*Math.sin(this.alpha),t=(e.y-this.y0)*Math.cos(this.alpha)+(e.x-this.x0)*Math.sin(this.alpha),t+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),o=.5*(r+1/r),a=Math.sin(this.bl*t/this.al),c=(a*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/o,h=Math.pow(this.el/Math.sqrt((1+c)/(1-c)),1/this.bl);return Math.abs(c-1)<l.b?(e.x=this.long0,e.y=l.d):Math.abs(c+1)<l.b?(e.x=this.long0,e.y=-1*l.d):(e.y=Object(u.a)(this.e,h),e.x=Object(s.a)(this.long0-Math.atan2(i*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*t/this.al))/this.bl)),e}var a=n(248),s=n(45),u=n(249),l=n(35),c=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"];t.a={init:r,forward:i,inverse:o,names:c}},function(e,t,n){"use strict";function r(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<h.b)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=Object(a.a)(this.e,t,n),i=Object(s.a)(this.e,this.lat1,t),o=Math.sin(this.lat2),u=Math.cos(this.lat2),l=Object(a.a)(this.e,o,u),c=Object(s.a)(this.e,this.lat2,o),d=Object(s.a)(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>h.b?this.ns=Math.log(r/l)/Math.log(i/c):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(d,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function i(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=h.b&&(n=Object(u.a)(n)*(h.d-2*h.b));var r,i,o=Math.abs(Math.abs(n)-h.d);if(o>h.b)r=Object(s.a)(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var a=this.ns*Object(l.a)(t-this.long0);return e.x=this.k0*(i*Math.sin(a))+this.x0,e.y=this.k0*(this.rh-i*Math.cos(a))+this.y0,e}function o(e){var t,n,r,i,o,a=(e.x-this.x0)/this.k0,s=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(a*a+s*s),n=1):(t=-Math.sqrt(a*a+s*s),n=-1);var u=0;if(0!==t&&(u=Math.atan2(n*a,n*s)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),-9999===(i=Object(c.a)(this.e,r)))return null}else i=-h.d;return o=Object(l.a)(u/this.ns+this.long0),e.x=o,e.y=i,e}var a=n(170),s=n(248),u=n(201),l=n(45),c=n(249),h=n(35),d=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"];t.a={init:r,forward:i,inverse:o,names:d}},function(e,t,n){"use strict";function r(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function i(e){var t,n,r,i,o,s,u,l=e.x,c=e.y,h=Object(a.a)(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),r=-h*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*o,u=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=u*Math.cos(s)/1,e.x=u*Math.sin(s)/1,this.czech||(e.y*=-1,e.x*=-1),e}function o(e){var t,n,r,i,o,a,s,u,l=e.x;e.x=e.y,e.y=l,this.czech||(e.y*=-1,e.x*=-1),a=Math.sqrt(e.x*e.x+e.y*e.y),o=Math.atan2(e.y,e.x),i=o/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,s=t,u=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-e.y)<1e-10&&(u=1),s=e.y,c+=1}while(0===u&&c<15);return c>=15?null:e}var a=n(45),s=["Krovak","krovak"];t.a={init:r,forward:i,inverse:o,names:s}},function(e,t,n){"use strict";function r(){this.sphere||(this.e0=Object(s.a)(this.es),this.e1=Object(u.a)(this.es),this.e2=Object(l.a)(this.es),this.e3=Object(c.a)(this.es),this.ml0=this.a*Object(a.a)(this.e0,this.e1,this.e2,this.e3,this.lat0))}function i(e){var t,n,r=e.x,i=e.y;if(r=Object(d.a)(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),u=Object(h.a)(this.a,this.e,o),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),f=c*c,p=this.es*s*s/(1-this.es),m=this.a*Object(a.a)(this.e0,this.e1,this.e2,this.e3,i);t=u*c*(1-f*l*(1/6-(8-l+8*p)*f/120)),n=m-this.ml0+u*o/s*f*(.5+(5-l+6*p)*f/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function o(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,i=e.y/this.a;if(this.sphere){var o=i+this.lat0;t=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=this.ml0/this.a+i,s=Object(p.a)(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-m.d)<=m.b)return e.x=this.long0,e.y=m.d,i<0&&(e.y*=-1),e;var u=Object(h.a)(this.a,this.e,Math.sin(s)),l=u*u*u/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),g=r*this.a/u,_=g*g;t=s-u*Math.tan(s)/l*g*g*(.5-(1+3*c)*g*g/24),n=g*(1-_*(c/3+(1+3*c)*c*_/15))/Math.cos(s)}return e.x=Object(d.a)(n+this.long0),e.y=Object(f.a)(t),e}var a=n(250),s=n(251),u=n(252),l=n(253),c=n(254),h=n(341),d=n(45),f=n(202),p=n(342),m=n(35),g=["Cassini","Cassini_Soldner","cass"];t.a={init:r,forward:i,inverse:o,names:g}},function(e,t,n){"use strict";function r(){var e=Math.abs(this.lat0);if(Math.abs(e-u.d)<u.b?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<u.b?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=Object(l.a)(this.e,1),this.mmf=.5/(1-this.es),this.apa=a(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Object(l.a)(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function i(e){var t,n,r,i,o,a,s,h,d,f,p=e.x,m=e.y;if(p=Object(c.a)(p-this.long0),this.sphere){if(o=Math.sin(m),f=Math.cos(m),r=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+f*r:1+this.sinph0*o+this.cosph0*f*r)<=u.b)return null;n=Math.sqrt(2/n),t=n*f*Math.sin(p),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*f*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(m+this.lat0)<u.b)return null;n=u.c-.5*m,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(p),n*=r}}else{switch(s=0,h=0,d=0,r=Math.cos(p),i=Math.sin(p),o=Math.sin(m),a=Object(l.a)(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,h=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:d=1+this.sinb1*s+this.cosb1*h*r;break;case this.EQUIT:d=1+h*r;break;case this.N_POLE:d=u.d+m,a=this.qp-a;break;case this.S_POLE:d=m-u.d,a=this.qp+a}if(Math.abs(d)<u.b)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),n=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*s-this.sinb1*h*r):(d=Math.sqrt(2/(1+h*r)))*s*this.ymf,t=this.xmf*d*h*i;break;case this.N_POLE:case this.S_POLE:a>=0?(t=(d=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?d:-d)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function o(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,a,l,h=e.x/this.a,d=e.y/this.a;if(this.sphere){var f,p=0,m=0;if(f=Math.sqrt(h*h+d*d),(n=.5*f)>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=u.b?0:Math.asin(d*m/f),h*=m,d=p*f;break;case this.OBLIQ:n=Math.abs(f)<=u.b?this.lat0:Math.asin(p*this.sinph0+d*m*this.cosph0/f),h*=m*this.cosph0,d=(p-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:d=-d,n=u.d-n;break;case this.S_POLE:n-=u.d}t=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,d):0}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,d*=this.dd,(a=Math.sqrt(h*h+d*d))<u.b)return e.x=this.long0,e.y=this.lat0,e;i=2*Math.asin(.5*a/this.rq),r=Math.cos(i),h*=i=Math.sin(i),this.mode===this.OBLIQ?(l=r*this.sinb1+d*i*this.cosb1/a,o=this.qp*l,d=a*this.cosb1*r-d*this.sinb1*i):(l=d*i/a,o=this.qp*l,d=a*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),!(o=h*h+d*d))return e.x=this.long0,e.y=this.lat0,e;l=1-o/this.qp,this.mode===this.S_POLE&&(l=-l)}t=Math.atan2(h,d),n=s(Math.asin(l),this.apa)}return e.x=Object(c.a)(this.long0+t),e.y=n,e}function a(e){var t,n=[];return n[0]=e*h,t=e*e,n[0]+=t*d,n[1]=t*p,t*=e,n[0]+=t*f,n[1]+=t*m,n[2]=t*g,n}function s(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}var u=n(35),l=n(343),c=n(45),h=.3333333333333333,d=.17222222222222222,f=.10257936507936508,p=.06388888888888888,m=.0664021164021164,g=.016415012942191543,_=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];t.a={init:r,forward:i,inverse:o,names:_,S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4}},function(e,t,n){"use strict";function r(){Math.abs(this.lat1+this.lat2)<h.b||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Object(s.a)(this.e3,this.sin_po,this.cos_po),this.qs1=Object(u.a)(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Object(s.a)(this.e3,this.sin_po,this.cos_po),this.qs2=Object(u.a)(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Object(u.a)(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>h.b?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function i(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Object(u.a)(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*Object(l.a)(t-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return e.x=a,e.y=s,e}function o(e){var t,n,r,i,o,a;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,0!==t&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),o=Object(l.a)(i/this.ns0+this.long0),e.x=o,e.y=a,e}function a(e,t){var n,r,i,o,a,s=Object(c.a)(.5*t);if(e<h.b)return s;for(var u=e*e,l=1;l<=25;l++)if(n=Math.sin(s),r=Math.cos(s),i=e*n,o=1-i*i,a=.5*o*o/r*(t/(1-u)-n/o+.5/e*Math.log((1-i)/(1+i))),s+=a,Math.abs(a)<=1e-7)return s;return null}var s=n(170),u=n(343),l=n(45),c=n(171),h=n(35),d=["Albers_Conic_Equal_Area","Albers","aea"];t.a={init:r,forward:i,inverse:o,names:d,phi1z:a}},function(e,t,n){"use strict";function r(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function i(e){var t,n,r,i,o,s,l,c,h=e.x,d=e.y;return r=Object(a.a)(h-this.long0),t=Math.sin(d),n=Math.cos(d),i=Math.cos(r),s=this.sin_p14*t+this.cos_p14*n*i,o=1,s>0||Math.abs(s)<=u.b?(l=this.x0+this.a*o*n*Math.sin(r)/s,c=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*i)/s):(l=this.x0+this.infinity_dist*n*Math.sin(r),c=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=l,e.y=c,e}function o(e){var t,n,r,i,o,u;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),u=Object(s.a)(r*this.sin_p14+e.y*n*this.cos_p14/t),o=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),o=Object(a.a)(this.long0+o)):(u=this.phic0,o=0),e.x=o,e.y=u,e}var a=n(45),s=n(171),u=n(35),l=["gnom"];t.a={init:r,forward:i,inverse:o,names:l}},function(e,t,n){"use strict";function r(){this.sphere||(this.k0=Object(u.a)(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function i(e){var t,n,r=e.x,i=e.y,o=Object(a.a)(r-this.long0);if(this.sphere)t=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var u=Object(s.a)(this.e,Math.sin(i));t=this.x0+this.a*this.k0*o,n=this.y0+this.a*u*.5/this.k0}return e.x=t,e.y=n,e}function o(e){e.x-=this.x0,e.y-=this.y0;var t,n;return this.sphere?(t=Object(a.a)(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=Object(l.a)(this.e,2*e.y*this.k0/this.a),t=Object(a.a)(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}var a=n(45),s=n(343),u=n(170),l=n(1153),c=["cea"];t.a={init:r,forward:i,inverse:o,names:c}},function(e,t,n){"use strict";var r=n(35);t.a=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*r.d:r.d;for(var i,o,a,s,u=Math.asin(.5*t),l=0;l<30;l++)if(o=Math.sin(u),a=Math.cos(u),s=e*o,i=Math.pow(1-s*s,2)/(2*a)*(t/(1-e*e)-o/(1-s*s)+.5/e*Math.log((1-s)/(1+s))),u+=i,Math.abs(i)<=1e-10)return u;return NaN}},function(e,t,n){"use strict";function r(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function i(e){var t=e.x,n=e.y,r=Object(a.a)(t-this.long0),i=Object(s.a)(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e}function o(e){var t=e.x,n=e.y;return e.x=Object(a.a)(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Object(s.a)(this.lat0+(n-this.y0)/this.a),e}var a=n(45),s=n(202),u=["Equirectangular","Equidistant_Cylindrical","eqc"];t.a={init:r,forward:i,inverse:o,names:u}},function(e,t,n){"use strict";function r(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Object(a.a)(this.es),this.e1=Object(s.a)(this.es),this.e2=Object(u.a)(this.es),this.e3=Object(l.a)(this.es),this.ml0=this.a*Object(d.a)(this.e0,this.e1,this.e2,this.e3,this.lat0)}function i(e){var t,n,r,i=e.x,o=e.y,a=Object(c.a)(i-this.long0);if(r=a*Math.sin(o),this.sphere)Math.abs(o)<=f.b?(t=this.a*a,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(o),n=this.a*(Object(h.a)(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=f.b)t=this.a*a,n=-1*this.ml0;else{var s=Object(p.a)(this.a,this.e,Math.sin(o))/Math.tan(o);t=s*Math.sin(r),n=this.a*Object(d.a)(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e}function o(e){var t,n,r,i,o,a,s,u,l;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=f.b)t=Object(c.a)(r/this.a+this.long0),n=0;else{a=this.lat0+i/this.a,s=r*r/this.a/this.a+a*a,u=a;var h;for(o=m;o;--o)if(h=Math.tan(u),l=-1*(a*(u*h+1)-u-.5*(u*u+s)*h)/((u-a)/h-1),u+=l,Math.abs(l)<=f.b){n=u;break}t=Object(c.a)(this.long0+Math.asin(r*Math.tan(u)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=f.b)n=0,t=Object(c.a)(this.long0+r/this.a);else{a=(this.ml0+i)/this.a,s=r*r/this.a/this.a+a*a,u=a;var p,g,_,v,A;for(o=m;o;--o)if(A=this.e*Math.sin(u),p=Math.sqrt(1-A*A)*Math.tan(u),g=this.a*Object(d.a)(this.e0,this.e1,this.e2,this.e3,u),_=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),v=g/this.a,l=(a*(p*v+1)-v-.5*p*(v*v+s))/(this.es*Math.sin(2*u)*(v*v+s-2*a*v)/(4*p)+(a-v)*(p*_-2/Math.sin(2*u))-_),u-=l,Math.abs(l)<=f.b){n=u;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=Object(c.a)(this.long0+Math.asin(r*p/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}var a=n(251),s=n(252),u=n(253),l=n(254),c=n(45),h=n(202),d=n(250),f=n(35),p=n(341),m=20,g=["Polyconic","poly"];t.a={init:r,forward:i,inverse:o,names:g}},function(e,t,n){"use strict";function r(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function i(e){var t,n=e.x,r=e.y,i=r-this.lat0,o=n-this.long0,s=i/a.l*1e-5,u=o,l=1,c=0;for(t=1;t<=10;t++)l*=s,c+=this.A[t]*l;var h,d,f=c,p=u,m=1,g=0,_=0,v=0;for(t=1;t<=6;t++)h=m*f-g*p,d=g*f+m*p,m=h,g=d,_=_+this.B_re[t]*m-this.B_im[t]*g,v=v+this.B_im[t]*m+this.B_re[t]*g;return e.x=v*this.a+this.x0,e.y=_*this.a+this.y0,e}function o(e){var t,n,r,i=e.x,o=e.y,s=i-this.x0,u=o-this.y0,l=u/this.a,c=s/this.a,h=1,d=0,f=0,p=0;for(t=1;t<=6;t++)n=h*l-d*c,r=d*l+h*c,h=n,d=r,f=f+this.C_re[t]*h-this.C_im[t]*d,p=p+this.C_im[t]*h+this.C_re[t]*d;for(var m=0;m<this.iterations;m++){var g,_,v=f,A=p,y=l,b=c;for(t=2;t<=6;t++)g=v*f-A*p,_=A*f+v*p,v=g,A=_,y+=(t-1)*(this.B_re[t]*v-this.B_im[t]*A),b+=(t-1)*(this.B_im[t]*v+this.B_re[t]*A);v=1,A=0;var w=this.B_re[1],x=this.B_im[1];for(t=2;t<=6;t++)g=v*f-A*p,_=A*f+v*p,v=g,A=_,w+=t*(this.B_re[t]*v-this.B_im[t]*A),x+=t*(this.B_im[t]*v+this.B_re[t]*A);var E=w*w+x*x;f=(y*w+b*x)/E,p=(b*w-y*x)/E}var C=f,S=p,T=1,I=0;for(t=1;t<=9;t++)T*=C,I+=this.D[t]*T;var M=this.lat0+I*a.l*1e5,O=this.long0+S;return e.x=O,e.y=M,e}var a=n(35),s=["New_Zealand_Map_Grid","nzmg"];t.a={init:r,forward:i,inverse:o,names:s}},function(e,t,n){"use strict";function r(){}function i(e){var t=e.x,n=e.y,r=Object(a.a)(t-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=o,e}function o(e){e.x-=this.x0,e.y-=this.y0;var t=Object(a.a)(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}var a=n(45),s=["Miller_Cylindrical","mill"];t.a={init:r,forward:i,inverse:o,names:s}},function(e,t,n){"use strict";function r(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Object(u.a)(this.es)}function i(e){var t,n,r=e.x,i=e.y;if(r=Object(a.a)(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),s=f;s;--s){var u=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=u,Math.abs(u)<h.b)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var c=Math.sin(i),d=Math.cos(i);n=this.a*Object(l.a)(i,c,d,this.en),t=this.a*r*d/Math.sqrt(1-this.es*c*c)}return e.x=t,e.y=n,e}function o(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r/=this.C_x*(this.m+Math.cos(t)),this.m?t=Object(d.a)((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=Object(d.a)(Math.sin(t)/this.n)),r=Object(a.a)(r+this.long0),t=Object(s.a)(t)):(t=Object(c.a)(e.y/this.a,this.es,this.en),i=Math.abs(t),i<h.d?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=Object(a.a)(n)):i-h.b<h.d&&(r=this.long0)),e.x=r,e.y=t,e}var a=n(45),s=n(202),u=n(553),l=n(339),c=n(554),h=n(35),d=n(171),f=20,p=["Sinusoidal","sinu"];t.a={init:r,forward:i,inverse:o,names:p}},function(e,t,n){"use strict";function r(){}function i(e){for(var t=e.x,n=e.y,r=Object(a.a)(t-this.long0),i=n,o=Math.PI*Math.sin(n);;){var u=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=u,Math.abs(u)<s.b)break}i/=2,Math.PI/2-Math.abs(n)<s.b&&(r=0);var l=.900316316158*this.a*r*Math.cos(i)+this.x0,c=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=l,e.y=c,e}function o(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=Object(a.a)(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e}var a=n(45),s=n(35),u=["Mollweide","moll"];t.a={init:r,forward:i,inverse:o,names:u}},function(e,t,n){"use strict";function r(){Math.abs(this.lat1+this.lat2)<m.b||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Object(a.a)(this.es),this.e1=Object(s.a)(this.es),this.e2=Object(u.a)(this.es),this.e3=Object(l.a)(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Object(c.a)(this.e,this.sinphi,this.cosphi),this.ml1=Object(h.a)(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<m.b?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Object(c.a)(this.e,this.sinphi,this.cosphi),this.ml2=Object(h.a)(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Object(h.a)(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function i(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var i=Object(h.a)(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-i)}var o=this.ns*Object(d.a)(n-this.long0),a=this.x0+t*Math.sin(o),s=this.y0+this.rh-t*Math.cos(o);return e.x=a,e.y=s,e}function o(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,n,r,i;this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var o=0;if(0!==n&&(o=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=Object(d.a)(this.long0+o/this.ns),r=Object(f.a)(this.g-n/this.a),e.x=i,e.y=r,e;var a=this.g-n/this.a;return r=Object(p.a)(a,this.e0,this.e1,this.e2,this.e3),i=Object(d.a)(this.long0+o/this.ns),e.x=i,e.y=r,e}var a=n(251),s=n(252),u=n(253),l=n(254),c=n(170),h=n(250),d=n(45),f=n(202),p=n(342),m=n(35),g=["Equidistant_Conic","eqdc"];t.a={init:r,forward:i,inverse:o,names:g}},function(e,t,n){"use strict";function r(){this.R=this.a}function i(e){var t,n,r=e.x,i=e.y,o=Object(a.a)(r-this.long0);Math.abs(i)<=s.b&&(t=this.x0+this.R*o,n=this.y0);var l=Object(u.a)(2*Math.abs(i/Math.PI));(Math.abs(o)<=s.b||Math.abs(Math.abs(i)-s.d)<=s.b)&&(t=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*l):this.y0+Math.PI*this.R*-Math.tan(.5*l));var c=.5*Math.abs(Math.PI/o-o/Math.PI),h=c*c,d=Math.sin(l),f=Math.cos(l),p=f/(d+f-1),m=p*p,g=p*(2/d-1),_=g*g,v=Math.PI*this.R*(c*(p-_)+Math.sqrt(h*(p-_)*(p-_)-(_+h)*(m-_)))/(_+h);o<0&&(v=-v),t=this.x0+v;var A=h+p;return v=Math.PI*this.R*(g*A-c*Math.sqrt((_+h)*(h+1)-A*A))/(_+h),n=i>=0?this.y0+v:this.y0-v,e.x=t,e.y=n,e}function o(e){var t,n,r,i,o,u,l,c,h,d,f,p,m;return e.x-=this.x0,e.y-=this.y0,f=Math.PI*this.R,r=e.x/f,i=e.y/f,o=r*r+i*i,u=-Math.abs(i)*(1+o),l=u-2*i*i+r*r,c=-2*u+1+2*i*i+o*o,m=i*i/c+(2*l*l*l/c/c/c-9*u*l/c/c)/27,h=(u-l*l/3/c)/c,d=2*Math.sqrt(-h/3),f=3*m/h/d,Math.abs(f)>1&&(f=f>=0?1:-1),p=Math.acos(f)/3,n=e.y>=0?(-d*Math.cos(p+Math.PI/3)-l/3/c)*Math.PI:-(-d*Math.cos(p+Math.PI/3)-l/3/c)*Math.PI,t=Math.abs(r)<s.b?this.long0:Object(a.a)(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),e.x=t,e.y=n,e}var a=n(45),s=n(35),u=n(171),l=["Van_der_Grinten_I","VanDerGrinten","vandg"];t.a={init:r,forward:i,inverse:o,names:l}},function(e,t,n){"use strict";function r(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function i(e){var t,n,r,i,o,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D=e.x,B=e.y,L=Math.sin(e.y),N=Math.cos(e.y),R=Object(a.a)(D-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=s.b?(e.x=this.x0+this.a*(s.d-B)*Math.sin(R),e.y=this.y0-this.a*(s.d-B)*Math.cos(R),e):Math.abs(this.sin_p12+1)<=s.b?(e.x=this.x0+this.a*(s.d+B)*Math.sin(R),e.y=this.y0+this.a*(s.d+B)*Math.cos(R),e):(S=this.sin_p12*L+this.cos_p12*N*Math.cos(R),E=Math.acos(S),C=E?E/Math.sin(E):1,e.x=this.x0+this.a*C*N*Math.sin(R),e.y=this.y0+this.a*C*(this.cos_p12*L-this.sin_p12*N*Math.cos(R)),e):(t=Object(l.a)(this.es),n=Object(c.a)(this.es),r=Object(h.a)(this.es),i=Object(d.a)(this.es),Math.abs(this.sin_p12-1)<=s.b?(o=this.a*Object(u.a)(t,n,r,i,s.d),p=this.a*Object(u.a)(t,n,r,i,B),e.x=this.x0+(o-p)*Math.sin(R),e.y=this.y0-(o-p)*Math.cos(R),e):Math.abs(this.sin_p12+1)<=s.b?(o=this.a*Object(u.a)(t,n,r,i,s.d),p=this.a*Object(u.a)(t,n,r,i,B),e.x=this.x0+(o+p)*Math.sin(R),e.y=this.y0+(o+p)*Math.cos(R),e):(m=L/N,g=Object(f.a)(this.a,this.e,this.sin_p12),_=Object(f.a)(this.a,this.e,L),v=Math.atan((1-this.es)*m+this.es*g*this.sin_p12/(_*N)),A=Math.atan2(Math.sin(R),this.cos_p12*Math.tan(v)-this.sin_p12*Math.cos(R)),T=0===A?Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):Math.abs(Math.abs(A)-Math.PI)<=s.b?-Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):Math.asin(Math.sin(R)*Math.cos(v)/Math.sin(A)),y=this.e*this.sin_p12/Math.sqrt(1-this.es),b=this.e*this.cos_p12*Math.cos(A)/Math.sqrt(1-this.es),w=y*b,x=b*b,I=T*T,M=I*T,O=M*T,P=O*T,E=g*T*(1-I*x*(1-x)/6+M/8*w*(1-2*x)+O/120*(x*(4-7*x)-3*y*y*(1-7*x))-P/48*w),e.x=this.x0+E*Math.sin(A),e.y=this.y0+E*Math.cos(A),e))}function o(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,o,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L;if(this.sphere){if((t=Math.sqrt(e.x*e.x+e.y*e.y))>2*s.d*this.a)return;return n=t/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(t)<=s.b?g=this.lat0:(g=Object(p.a)(i*this.sin_p12+e.y*r*this.cos_p12/t),_=Math.abs(this.lat0)-s.d,o=Math.abs(_)<=s.b?this.lat0>=0?Object(a.a)(this.long0+Math.atan2(e.x,-e.y)):Object(a.a)(this.long0-Math.atan2(-e.x,e.y)):Object(a.a)(this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=o,e.y=g,e}return v=Object(l.a)(this.es),A=Object(c.a)(this.es),y=Object(h.a)(this.es),b=Object(d.a)(this.es),Math.abs(this.sin_p12-1)<=s.b?(w=this.a*Object(u.a)(v,A,y,b,s.d),t=Math.sqrt(e.x*e.x+e.y*e.y),x=w-t,g=Object(m.a)(x/this.a,v,A,y,b),o=Object(a.a)(this.long0+Math.atan2(e.x,-1*e.y)),e.x=o,e.y=g,e):Math.abs(this.sin_p12+1)<=s.b?(w=this.a*Object(u.a)(v,A,y,b,s.d),t=Math.sqrt(e.x*e.x+e.y*e.y),x=t-w,g=Object(m.a)(x/this.a,v,A,y,b),o=Object(a.a)(this.long0+Math.atan2(e.x,e.y)),e.x=o,e.y=g,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),S=Math.atan2(e.x,e.y),E=Object(f.a)(this.a,this.e,this.sin_p12),T=Math.cos(S),I=this.e*this.cos_p12*T,M=-I*I/(1-this.es),O=3*this.es*(1-M)*this.sin_p12*this.cos_p12*T/(1-this.es),P=t/E,D=P-M*(1+M)*Math.pow(P,3)/6-O*(1+3*M)*Math.pow(P,4)/24,B=1-M*D*D/2-P*D*D*D/6,C=Math.asin(this.sin_p12*Math.cos(D)+this.cos_p12*Math.sin(D)*T),o=Object(a.a)(this.long0+Math.asin(Math.sin(S)*Math.sin(D)/Math.cos(C))),L=Math.sin(C),g=Math.atan2((L-this.es*B*this.sin_p12)*Math.tan(C),L*(1-this.es)),e.x=o,e.y=g,e)}var a=n(45),s=n(35),u=n(250),l=n(251),c=n(252),h=n(253),d=n(254),f=n(341),p=n(171),m=n(342),g=["Azimuthal_Equidistant","aeqd"];t.a={init:r,forward:i,inverse:o,names:g}},function(e,t,n){"use strict";function r(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function i(e){var t,n,r,i,o,s,l,c,h=e.x,d=e.y;return r=Object(a.a)(h-this.long0),t=Math.sin(d),n=Math.cos(d),i=Math.cos(r),s=this.sin_p14*t+this.cos_p14*n*i,o=1,(s>0||Math.abs(s)<=u.b)&&(l=this.a*o*n*Math.sin(r),c=this.y0+this.a*o*(this.cos_p14*t-this.sin_p14*n*i)),e.x=l,e.y=c,e}function o(e){var t,n,r,i,o,l,c;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=Object(s.a)(t/this.a),r=Math.sin(n),i=Math.cos(n),l=this.long0,Math.abs(t)<=u.b?(c=this.lat0,e.x=l,e.y=c,e):(c=Object(s.a)(i*this.sin_p14+e.y*r*this.cos_p14/t),o=Math.abs(this.lat0)-u.d,Math.abs(o)<=u.b?(l=this.lat0>=0?Object(a.a)(this.long0+Math.atan2(e.x,-e.y)):Object(a.a)(this.long0-Math.atan2(-e.x,e.y)),e.x=l,e.y=c,e):(l=Object(a.a)(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=l,e.y=c,e))}var a=n(45),s=n(171),u=n(35),l=["ortho"];t.a={init:r,forward:i,inverse:o,names:l}},function(e,t,n){"use strict";function r(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=u.d-u.c/2?this.face=l.TOP:this.lat0<=-(u.d-u.c/2)?this.face=l.BOTTOM:Math.abs(this.long0)<=u.c?this.face=l.FRONT:Math.abs(this.long0)<=u.d+u.c?this.face=this.long0>0?l.RIGHT:l.LEFT:this.face=l.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function i(e){var t,n,r,i,o,h,d={x:0,y:0},f={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===l.TOP)i=u.d-t,n>=u.c&&n<=u.d+u.c?(f.value=c.AREA_0,r=n-u.d):n>u.d+u.c||n<=-(u.d+u.c)?(f.value=c.AREA_1,r=n>0?n-u.n:n+u.n):n>-(u.d+u.c)&&n<=-u.c?(f.value=c.AREA_2,r=n+u.d):(f.value=c.AREA_3,r=n);else if(this.face===l.BOTTOM)i=u.d+t,n>=u.c&&n<=u.d+u.c?(f.value=c.AREA_0,r=-n+u.d):n<u.c&&n>=-u.c?(f.value=c.AREA_1,r=-n):n<-u.c&&n>=-(u.d+u.c)?(f.value=c.AREA_2,r=-n-u.d):(f.value=c.AREA_3,r=n>0?-n+u.n:-n-u.n);else{var p,m,g,_,v,A,y;this.face===l.RIGHT?n=s(n,+u.d):this.face===l.BACK?n=s(n,+u.n):this.face===l.LEFT&&(n=s(n,-u.d)),_=Math.sin(t),v=Math.cos(t),A=Math.sin(n),y=Math.cos(n),p=v*y,m=v*A,g=_,this.face===l.FRONT?(i=Math.acos(p),r=a(i,g,m,f)):this.face===l.RIGHT?(i=Math.acos(m),r=a(i,g,-p,f)):this.face===l.BACK?(i=Math.acos(-p),r=a(i,g,-m,f)):this.face===l.LEFT?(i=Math.acos(-m),r=a(i,g,p,f)):(i=r=0,f.value=c.AREA_0)}return h=Math.atan(12/u.n*(r+Math.acos(Math.sin(r)*Math.cos(u.c))-u.d)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(h)*Math.cos(h))/(1-Math.cos(Math.atan(1/Math.cos(r))))),f.value===c.AREA_1?h+=u.d:f.value===c.AREA_2?h+=u.n:f.value===c.AREA_3&&(h+=1.5*u.n),d.x=o*Math.cos(h),d.y=o*Math.sin(h),d.x=d.x*this.a+this.x0,d.y=d.y*this.a+this.y0,e.x=d.x,e.y=d.y,e}function o(e){var t,n,r,i,o,a,h,d,f,p={lam:0,phi:0},m={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?m.value=c.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(m.value=c.AREA_1,t-=u.d):e.x<0&&-e.x>=Math.abs(e.y)?(m.value=c.AREA_2,t=t<0?t+u.n:t-u.n):(m.value=c.AREA_3,t+=u.d),f=u.n/12*Math.tan(t),o=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(t),i=Math.tan(n),h=1-r*r*i*i*(1-Math.cos(Math.atan(1/Math.cos(a)))),h<-1?h=-1:h>1&&(h=1),this.face===l.TOP)d=Math.acos(h),p.phi=u.d-d,m.value===c.AREA_0?p.lam=a+u.d:m.value===c.AREA_1?p.lam=a<0?a+u.n:a-u.n:m.value===c.AREA_2?p.lam=a-u.d:p.lam=a;else if(this.face===l.BOTTOM)d=Math.acos(h),p.phi=d-u.d,m.value===c.AREA_0?p.lam=-a+u.d:m.value===c.AREA_1?p.lam=-a:m.value===c.AREA_2?p.lam=-a-u.d:p.lam=a<0?-a-u.n:-a+u.n;else{var g,_,v;g=h,f=g*g,v=f>=1?0:Math.sqrt(1-f)*Math.sin(a),f+=v*v,_=f>=1?0:Math.sqrt(1-f),m.value===c.AREA_1?(f=_,_=-v,v=f):m.value===c.AREA_2?(_=-_,v=-v):m.value===c.AREA_3&&(f=_,_=v,v=-f),this.face===l.RIGHT?(f=g,g=-_,_=f):this.face===l.BACK?(g=-g,_=-_):this.face===l.LEFT&&(f=g,g=_,_=-f),p.phi=Math.acos(-v)-u.d,p.lam=Math.atan2(_,g),this.face===l.RIGHT?p.lam=s(p.lam,-u.d):this.face===l.BACK?p.lam=s(p.lam,-u.n):this.face===l.LEFT&&(p.lam=s(p.lam,+u.d))}if(0!==this.es){var A,y,b;A=p.phi<0?1:0,y=Math.tan(p.phi),b=this.b/Math.sqrt(y*y+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-b*b)/(this.one_minus_f*b)),A&&(p.phi=-p.phi)}return p.lam+=this.long0,e.x=p.lam,e.y=p.phi,e}function a(e,t,n,r){var i;return e<u.b?(r.value=c.AREA_0,i=0):(i=Math.atan2(t,n),Math.abs(i)<=u.c?r.value=c.AREA_0:i>u.c&&i<=u.d+u.c?(r.value=c.AREA_1,i-=u.d):i>u.d+u.c||i<=-(u.d+u.c)?(r.value=c.AREA_2,i=i>=0?i-u.n:i+u.n):(r.value=c.AREA_3,i+=u.d)),i}function s(e,t){var n=e+t;return n<-u.n?n+=u.o:n>+u.n&&(n-=u.o),n}var u=n(35),l={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},c={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},h=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];t.a={init:r,forward:i,inverse:o,names:h}},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=t;r;--r){var o=e(i);if(i-=o,Math.abs(o)<n)break}return i}function i(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function o(e){var t=Object(u.a)(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*f);r<0?r=0:r>=m&&(r=m-1),n=s.i*(n-p*r);var i={x:g(l[r],n)*t,y:g(c[r],n)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*h+this.x0,i.y=i.y*this.a*d+this.y0,i}function a(e){var t={x:(e.x-this.x0)/(this.a*h),y:Math.abs(e.y-this.y0)/(this.a*d)};if(t.y>=1)t.x/=l[m][0],t.y=e.y<0?-s.d:s.d;else{var n=Math.floor(t.y*m);for(n<0?n=0:n>=m&&(n=m-1);;)if(c[n][0]>t.y)--n;else{if(!(c[n+1][0]<=t.y))break;++n}var i=c[n],o=5*(t.y-i[0])/(c[n+1][0]-i[0]);o=r(function(e){return(g(i,e)-t.y)/_(i,e)},o,s.b,100),t.x/=g(l[n],o),t.y=(5*n+o)*s.a,e.y<0&&(t.y=-t.y)}return t.x=Object(u.a)(t.x+this.long0),t}var s=n(35),u=n(45),l=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],c=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],h=.8487,d=1.3523,f=s.i/5,p=1/f,m=18,g=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},_=function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])},v=["Robinson","robin"];t.a={init:i,forward:o,inverse:a,names:v}},function(e,t,n){"use strict";function r(){this.name="geocent"}function i(e){return Object(a.e)(e,this.es,this.a)}function o(e){return Object(a.c)(e,this.es,this.a,this.b)}var a=n(550),s=["Geocentric","geocentric","geocent","Geocent"];t.a={init:r,forward:i,inverse:o,names:s}},function(e,t,n){"use strict";function r(){if(Object.keys(l).forEach(function(e){if(void 0===this[e])this[e]=l[e].def;else{if(l[e].num&&isNaN(this[e]))throw new Error("Invalid parameter value, must be numeric "+e+" = "+this[e]);l[e].num&&(this[e]=parseFloat(this[e]))}l[e].degrees&&(this[e]=this[e]*a.a)}.bind(this)),Math.abs(Math.abs(this.lat0)-a.d)<a.b?this.mode=this.lat0<0?u.S_POLE:u.N_POLE:Math.abs(this.lat0)<a.b?this.mode=u.EQUIT:(this.mode=u.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function i(e){e.x-=this.long0;var t,n,r=Math.sin(e.y),i=Math.cos(e.y),o=Math.cos(e.x);switch(this.mode){case u.OBLIQ:n=this.sinph0*r+this.cosph0*i*o;break;case u.EQUIT:n=i*o;break;case u.S_POLE:n=-r;break;case u.N_POLE:n=r}switch(n=this.pn1/(this.p-n),t=n*i*Math.sin(e.x),this.mode){case u.OBLIQ:n*=this.cosph0*r-this.sinph0*i*o;break;case u.EQUIT:n*=r;break;case u.N_POLE:n*=-i*o;break;case u.S_POLE:n*=i*o}var a,s;return a=n*this.cg+t*this.sg,s=1/(a*this.sw*this.h1+this.cw),t=(t*this.cg-n*this.sg)*this.cw*s,n=a*s,e.x=t*this.a,e.y=n*this.a,e}function o(e){e.x/=this.a,e.y/=this.a;var t,n,r,i={x:e.x,y:e.y};r=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*r,n=this.pn1*e.y*this.cw*r,e.x=t*this.cg+n*this.sg,e.y=n*this.cg-t*this.sg;var o=Object(s.a)(e.x,e.y);if(Math.abs(o)<a.b)i.x=0,i.y=e.y;else{var l,c;switch(c=1-o*o*this.pfact,c=(this.p-Math.sqrt(c))/(this.pn1/o+o/this.pn1),l=Math.sqrt(1-c*c),this.mode){case u.OBLIQ:i.y=Math.asin(l*this.sinph0+e.y*c*this.cosph0/o),e.y=(l-this.sinph0*Math.sin(i.y))*o,e.x*=c*this.cosph0;break;case u.EQUIT:i.y=Math.asin(e.y*c/o),e.y=l*o,e.x*=c;break;case u.N_POLE:i.y=Math.asin(l),e.y=-e.y;break;case u.S_POLE:i.y=-Math.asin(l)}i.x=Math.atan2(e.x,e.y)}return e.x=i.x+this.long0,e.y=i.y,e}var a=n(35),s=n(340),u={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},l={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}},c=["Tilted_Perspective","tpers"];t.a={init:r,forward:i,inverse:o,names:c}},function(e,t,n){var r;void 0!==(r=function(){var e=function(e,t){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)};return function(t,n,r,i){var o=t.measureText(n),a=e(t.canvas,"font-family"),s=e(t.canvas,"font-size").replace("px",""),u=e(t.canvas,"font-style"),l=e(t.canvas,"font-weight"),c=!/\S/.test(n);o.fontsize=s;var h=document.createElement("div");h.style.position="absolute",h.style.opacity=0,h.style.font=u+" "+l+" "+s+"px "+a,h.innerHTML=n+"<br/>"+n,document.body.appendChild(h),o.leading=1.2*s;var d=e(h,"height");if(d=d.replace("px",""),d>=2*s&&(o.leading=d/2|0),document.body.removeChild(h),c)o.ascent=0,o.descent=0,o.bounds={minx:0,maxx:o.width,miny:0,maxy:0},o.height=0;else{var f=document.createElement("canvas");f.width=o.width+100,f.height=3*s,f.style.opacity=1,f.style.fontFamily=a,f.style.fontSize=s,f.style.fontStyle=u,f.style.fontWeight=l;var p=f.getContext("2d");p.font=u+" "+l+" "+s+"px "+a;var m=f.width,g=f.height,_=g/2;p.fillStyle="white",p.fillRect(-1,-1,m+2,g+2),r&&(p.strokeStyle="black",p.lineWidth=t.lineWidth,p.strokeText(n,50,_)),i&&(p.fillStyle="black",p.fillText(n,50,_));for(var v=p.getImageData(0,0,m,g).data,A=0,y=4*m,b=v.length;++A<b&&255===v[A];);var w=A/y|0;for(A=b-1;--A>0&&255===v[A];);var x=A/y|0;for(A=0;A<b&&255===v[A];)(A+=y)>=b&&(A=A-b+4);var E=A%y/4|0,C=1;for(A=b-3;A>=0&&255===v[A];)(A-=y)<0&&(A=b-3-4*C++);var S=A%y/4+1|0;o.ascent=_-w,o.descent=x-_,o.bounds={minx:E-50,maxx:S-50,miny:0,maxy:x-w},o.height=x-w+1}return o}}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return'uniform sampler2D u_atlas;\n\n#ifdef VECTOR_TILE\nuniform vec4 u_highlightColor;\n#endif\n\nvarying vec2 v_textureCoordinates;\nvarying vec4 v_pickColor;\nvarying vec4 v_color;\n\n#ifdef FRAGMENT_DEPTH_CHECK\nvarying vec4 v_textureCoordinateBounds;                  // the min and max x and y values for the texture coordinates\nvarying vec4 v_originTextureCoordinateAndTranslate;      // texture coordinate at the origin, billboard translate (used for label glyphs)\nvarying vec4 v_compressed;                               // x: eyeDepth, y: applyTranslate & enableDepthCheck, z: dimensions, w: imageSize\nvarying mat2 v_rotationMatrix;\n\nconst float SHIFT_LEFT12 = 4096.0;\nconst float SHIFT_LEFT1 = 2.0;\n\nconst float SHIFT_RIGHT12 = 1.0 / 4096.0;\nconst float SHIFT_RIGHT1 = 1.0 / 2.0;\n\nfloat getGlobeDepth(vec2 adjustedST, vec2 depthLookupST, bool applyTranslate, vec2 dimensions, vec2 imageSize)\n{\n    vec2 lookupVector = imageSize * (depthLookupST - adjustedST);\n    lookupVector = v_rotationMatrix * lookupVector;\n    vec2 labelOffset = (dimensions - imageSize) * (depthLookupST - vec2(0.0, v_originTextureCoordinateAndTranslate.y)); // aligns label glyph with bounding rectangle.  Will be zero for billboards because dimensions and imageSize will be equal\n\n    vec2 translation = v_originTextureCoordinateAndTranslate.zw;\n\n    if (applyTranslate)\n    {\n        // this is only needed for labels where the horizontal origin is not LEFT\n        // it moves the label back to where the "origin" should be since all label glyphs are set to HorizontalOrigin.LEFT\n        translation += (dimensions * v_originTextureCoordinateAndTranslate.xy * vec2(1.0, 0.0));\n    }\n\n    vec2 st = ((lookupVector - translation + labelOffset) + gl_FragCoord.xy) / czm_viewport.zw;\n    float logDepthOrDepth = czm_unpackDepth(texture2D(czm_globeDepthTexture, st));\n\n    if (logDepthOrDepth == 0.0)\n    {\n        return 0.0; // not on the globe\n    }\n\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, logDepthOrDepth);\n    return eyeCoordinate.z / eyeCoordinate.w;\n}\n#endif\n\nvoid main()\n{\n    vec4 color = texture2D(u_atlas, v_textureCoordinates) * v_color;\n\n// Fully transparent parts of the billboard are not pickable.\n#if !defined(OPAQUE) && !defined(TRANSLUCENT)\n    if (color.a < 0.005)   // matches 0/255 and 1/255\n    {\n        discard;\n    }\n#else\n// The billboard is rendered twice. The opaque pass discards translucent fragments\n// and the translucent pass discards opaque fragments.\n#ifdef OPAQUE\n    if (color.a < 0.995)   // matches < 254/255\n    {\n        discard;\n    }\n#else\n    if (color.a >= 0.995)  // matches 254/255 and 255/255\n    {\n        discard;\n    }\n#endif\n#endif\n\n#ifdef VECTOR_TILE\n    color *= u_highlightColor;\n#endif\n    gl_FragColor = color;\n\n    czm_writeLogDepth();\n\n#ifdef FRAGMENT_DEPTH_CHECK\n    float temp = v_compressed.y;\n\n    temp = temp * SHIFT_RIGHT1;\n\n    float temp2 = (temp - floor(temp)) * SHIFT_LEFT1;\n    bool enableDepthTest = temp2 != 0.0;\n    bool applyTranslate = floor(temp) != 0.0;\n\n    if (enableDepthTest) {\n        temp = v_compressed.z;\n        temp = temp * SHIFT_RIGHT12;\n\n        vec2 dimensions;\n        dimensions.y = (temp - floor(temp)) * SHIFT_LEFT12;\n        dimensions.x = floor(temp);\n\n        temp = v_compressed.w;\n        temp = temp * SHIFT_RIGHT12;\n\n        vec2 imageSize;\n        imageSize.y = (temp - floor(temp)) * SHIFT_LEFT12;\n        imageSize.x = floor(temp);\n\n        vec2 adjustedST = v_textureCoordinates - v_textureCoordinateBounds.xy;\n        adjustedST = adjustedST / vec2(v_textureCoordinateBounds.z - v_textureCoordinateBounds.x, v_textureCoordinateBounds.w - v_textureCoordinateBounds.y);\n\n        float epsilonEyeDepth = v_compressed.x + czm_epsilon1;\n        float globeDepth1 = getGlobeDepth(adjustedST, v_originTextureCoordinateAndTranslate.xy, applyTranslate, dimensions, imageSize);\n\n        // negative values go into the screen\n        if (globeDepth1 != 0.0 && globeDepth1 > epsilonEyeDepth)\n        {\n            float globeDepth2 = getGlobeDepth(adjustedST, vec2(0.0, 1.0), applyTranslate, dimensions, imageSize); // top left corner\n            if (globeDepth2 != 0.0 && globeDepth2 > epsilonEyeDepth)\n            {\n                float globeDepth3 = getGlobeDepth(adjustedST, vec2(1.0, 1.0), applyTranslate, dimensions, imageSize); // top right corner\n                if (globeDepth3 != 0.0 && globeDepth3 > epsilonEyeDepth)\n                {\n                    discard;\n                }\n            }\n        }\n    }\n#endif\n\n}\n'}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"#ifdef INSTANCED\nattribute vec2 direction;\n#endif\nattribute vec4 positionHighAndScale;\nattribute vec4 positionLowAndRotation;\nattribute vec4 compressedAttribute0;                       // pixel offset, translate, horizontal origin, vertical origin, show, direction, texture coordinates (texture offset)\nattribute vec4 compressedAttribute1;                       // aligned axis, translucency by distance, image width\nattribute vec4 compressedAttribute2;                       // label horizontal origin, image height, color, pick color, size in meters, valid aligned axis, 13 bits free\nattribute vec4 eyeOffset;                                  // eye offset in meters, 4 bytes free (texture range)\nattribute vec4 scaleByDistance;                            // near, nearScale, far, farScale\nattribute vec4 pixelOffsetScaleByDistance;                 // near, nearScale, far, farScale\nattribute vec4 compressedAttribute3;                       // distance display condition near, far, disableDepthTestDistance, dimensions\n#if defined(VERTEX_DEPTH_CHECK) || defined(FRAGMENT_DEPTH_CHECK)\nattribute vec4 textureCoordinateBoundsOrLabelTranslate;    // the min and max x and y values for the texture coordinates\n#endif\n#ifdef VECTOR_TILE\nattribute float a_batchId;\n#endif\n\nvarying vec2 v_textureCoordinates;\n#ifdef FRAGMENT_DEPTH_CHECK\nvarying vec4 v_textureCoordinateBounds;\nvarying vec4 v_originTextureCoordinateAndTranslate;\nvarying vec4 v_compressed;                                 // x: eyeDepth, y: applyTranslate & enableDepthCheck, z: dimensions, w: imageSize\nvarying mat2 v_rotationMatrix;\n#endif\n\nvarying vec4 v_pickColor;\nvarying vec4 v_color;\n\nconst float UPPER_BOUND = 32768.0;\n\nconst float SHIFT_LEFT16 = 65536.0;\nconst float SHIFT_LEFT12 = 4096.0;\nconst float SHIFT_LEFT8 = 256.0;\nconst float SHIFT_LEFT7 = 128.0;\nconst float SHIFT_LEFT5 = 32.0;\nconst float SHIFT_LEFT3 = 8.0;\nconst float SHIFT_LEFT2 = 4.0;\nconst float SHIFT_LEFT1 = 2.0;\n\nconst float SHIFT_RIGHT12 = 1.0 / 4096.0;\nconst float SHIFT_RIGHT8 = 1.0 / 256.0;\nconst float SHIFT_RIGHT7 = 1.0 / 128.0;\nconst float SHIFT_RIGHT5 = 1.0 / 32.0;\nconst float SHIFT_RIGHT3 = 1.0 / 8.0;\nconst float SHIFT_RIGHT2 = 1.0 / 4.0;\nconst float SHIFT_RIGHT1 = 1.0 / 2.0;\n\nvec4 addScreenSpaceOffset(vec4 positionEC, vec2 imageSize, float scale, vec2 direction, vec2 origin, vec2 translate, vec2 pixelOffset, vec3 alignedAxis, bool validAlignedAxis, float rotation, bool sizeInMeters, out mat2 rotationMatrix, out float mpp)\n{\n    // Note the halfSize cannot be computed in JavaScript because it is sent via\n    // compressed vertex attributes that coerce it to an integer.\n    vec2 halfSize = imageSize * scale * czm_resolutionScale * 0.5;\n    halfSize *= ((direction * 2.0) - 1.0);\n\n    vec2 originTranslate = origin * abs(halfSize);\n\n#if defined(ROTATION) || defined(ALIGNED_AXIS)\n    if (validAlignedAxis || rotation != 0.0)\n    {\n        float angle = rotation;\n        if (validAlignedAxis)\n        {\n            vec4 projectedAlignedAxis = czm_modelViewProjection * vec4(alignedAxis, 0.0);\n            angle += sign(-projectedAlignedAxis.x) * acos(sign(projectedAlignedAxis.y) * (projectedAlignedAxis.y * projectedAlignedAxis.y) /\n                    (projectedAlignedAxis.x * projectedAlignedAxis.x + projectedAlignedAxis.y * projectedAlignedAxis.y));\n        }\n\n        float cosTheta = cos(angle);\n        float sinTheta = sin(angle);\n        rotationMatrix = mat2(cosTheta, sinTheta, -sinTheta, cosTheta);\n        halfSize = rotationMatrix * halfSize;\n    }\n    else\n    {\n        rotationMatrix = mat2(1.0, 0.0, 0.0, 1.0);\n    }\n#endif\n\n    if (sizeInMeters)\n    {\n        positionEC.xy += halfSize;\n    }\n\n    mpp = czm_metersPerPixel(positionEC);\n\n    if (!sizeInMeters)\n    {\n        originTranslate *= mpp;\n    }\n\n    positionEC.xy += originTranslate;\n    if (!sizeInMeters)\n    {\n        positionEC.xy += halfSize * mpp;\n    }\n\n    positionEC.xy += translate * mpp;\n    positionEC.xy += (pixelOffset * czm_resolutionScale) * mpp;\n    return positionEC;\n}\n\n#ifdef VERTEX_DEPTH_CHECK\nfloat getGlobeDepth(vec4 positionEC)\n{\n    vec4 posWC = czm_eyeToWindowCoordinates(positionEC);\n\n    float globeDepth = czm_unpackDepth(texture2D(czm_globeDepthTexture, posWC.xy / czm_viewport.zw));\n\n    if (globeDepth == 0.0)\n    {\n        return 0.0; // not on the globe\n    }\n\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(posWC.xy, globeDepth);\n    return eyeCoordinate.z / eyeCoordinate.w;\n}\n#endif\nvoid main()\n{\n    // Modifying this shader may also require modifications to Billboard._computeScreenSpacePosition\n\n    // unpack attributes\n    vec3 positionHigh = positionHighAndScale.xyz;\n    vec3 positionLow = positionLowAndRotation.xyz;\n    float scale = positionHighAndScale.w;\n\n#if defined(ROTATION) || defined(ALIGNED_AXIS)\n    float rotation = positionLowAndRotation.w;\n#else\n    float rotation = 0.0;\n#endif\n\n    float compressed = compressedAttribute0.x;\n\n    vec2 pixelOffset;\n    pixelOffset.x = floor(compressed * SHIFT_RIGHT7);\n    compressed -= pixelOffset.x * SHIFT_LEFT7;\n    pixelOffset.x -= UPPER_BOUND;\n\n    vec2 origin;\n    origin.x = floor(compressed * SHIFT_RIGHT5);\n    compressed -= origin.x * SHIFT_LEFT5;\n\n    origin.y = floor(compressed * SHIFT_RIGHT3);\n    compressed -= origin.y * SHIFT_LEFT3;\n\n#ifdef FRAGMENT_DEPTH_CHECK\n    vec2 depthOrigin = origin.xy;\n#endif\n    origin -= vec2(1.0);\n\n    float show = floor(compressed * SHIFT_RIGHT2);\n    compressed -= show * SHIFT_LEFT2;\n\n#ifdef INSTANCED\n    vec2 textureCoordinatesBottomLeft = czm_decompressTextureCoordinates(compressedAttribute0.w);\n    vec2 textureCoordinatesRange = czm_decompressTextureCoordinates(eyeOffset.w);\n    vec2 textureCoordinates = textureCoordinatesBottomLeft + direction * textureCoordinatesRange;\n#else\n    vec2 direction;\n    direction.x = floor(compressed * SHIFT_RIGHT1);\n    direction.y = compressed - direction.x * SHIFT_LEFT1;\n\n    vec2 textureCoordinates = czm_decompressTextureCoordinates(compressedAttribute0.w);\n#endif\n\n    float temp = compressedAttribute0.y  * SHIFT_RIGHT8;\n    pixelOffset.y = -(floor(temp) - UPPER_BOUND);\n\n    vec2 translate;\n    translate.y = (temp - floor(temp)) * SHIFT_LEFT16;\n\n    temp = compressedAttribute0.z * SHIFT_RIGHT8;\n    translate.x = floor(temp) - UPPER_BOUND;\n\n    translate.y += (temp - floor(temp)) * SHIFT_LEFT8;\n    translate.y -= UPPER_BOUND;\n\n    temp = compressedAttribute1.x * SHIFT_RIGHT8;\n    float temp2 = floor(compressedAttribute2.w * SHIFT_RIGHT2);\n\n    vec2 imageSize = vec2(floor(temp), temp2);\n\n#ifdef FRAGMENT_DEPTH_CHECK\n    float labelHorizontalOrigin = floor(compressedAttribute2.w - (temp2 * SHIFT_LEFT2));\n    float applyTranslate = 0.0;\n    if (labelHorizontalOrigin != 0.0) // is a billboard, so set apply translate to false\n    {\n        applyTranslate = 1.0;\n        labelHorizontalOrigin -= 2.0;\n        depthOrigin.x = labelHorizontalOrigin + 1.0;\n    }\n\n    depthOrigin = vec2(1.0) - (depthOrigin * 0.5);\n#endif\n\n#ifdef EYE_DISTANCE_TRANSLUCENCY\n    vec4 translucencyByDistance;\n    translucencyByDistance.x = compressedAttribute1.z;\n    translucencyByDistance.z = compressedAttribute1.w;\n\n    translucencyByDistance.y = ((temp - floor(temp)) * SHIFT_LEFT8) / 255.0;\n\n    temp = compressedAttribute1.y * SHIFT_RIGHT8;\n    translucencyByDistance.w = ((temp - floor(temp)) * SHIFT_LEFT8) / 255.0;\n#endif\n\n#if defined(VERTEX_DEPTH_CHECK) || defined(FRAGMENT_DEPTH_CHECK)\n    temp = compressedAttribute3.w;\n    temp = temp * SHIFT_RIGHT12;\n\n    vec2 dimensions;\n    dimensions.y = (temp - floor(temp)) * SHIFT_LEFT12;\n    dimensions.x = floor(temp);\n#endif\n\n#ifdef ALIGNED_AXIS\n    vec3 alignedAxis = czm_octDecode(floor(compressedAttribute1.y * SHIFT_RIGHT8));\n    temp = compressedAttribute2.z * SHIFT_RIGHT5;\n    bool validAlignedAxis = (temp - floor(temp)) * SHIFT_LEFT1 > 0.0;\n#else\n    vec3 alignedAxis = vec3(0.0);\n    bool validAlignedAxis = false;\n#endif\n\n    vec4 pickColor;\n    vec4 color;\n\n    temp = compressedAttribute2.y;\n    temp = temp * SHIFT_RIGHT8;\n    pickColor.b = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    pickColor.g = (temp - floor(temp)) * SHIFT_LEFT8;\n    pickColor.r = floor(temp);\n\n    temp = compressedAttribute2.x;\n    temp = temp * SHIFT_RIGHT8;\n    color.b = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    color.g = (temp - floor(temp)) * SHIFT_LEFT8;\n    color.r = floor(temp);\n\n    temp = compressedAttribute2.z * SHIFT_RIGHT8;\n    bool sizeInMeters = floor((temp - floor(temp)) * SHIFT_LEFT7) > 0.0;\n    temp = floor(temp) * SHIFT_RIGHT8;\n\n    pickColor.a = (temp - floor(temp)) * SHIFT_LEFT8;\n    pickColor /= 255.0;\n\n    color.a = floor(temp);\n    color /= 255.0;\n\n    ///////////////////////////////////////////////////////////////////////////\n\n    vec4 p = czm_translateRelativeToEye(positionHigh, positionLow);\n    vec4 positionEC = czm_modelViewRelativeToEye * p;\n\n#if defined(FRAGMENT_DEPTH_CHECK) || defined(VERTEX_DEPTH_CHECK)\n    float eyeDepth = positionEC.z;\n#endif\n\n    positionEC = czm_eyeOffset(positionEC, eyeOffset.xyz);\n    positionEC.xyz *= show;\n\n    ///////////////////////////////////////////////////////////////////////////\n\n#if defined(EYE_DISTANCE_SCALING) || defined(EYE_DISTANCE_TRANSLUCENCY) || defined(EYE_DISTANCE_PIXEL_OFFSET) || defined(DISTANCE_DISPLAY_CONDITION) || defined(DISABLE_DEPTH_DISTANCE)\n    float lengthSq;\n    if (czm_sceneMode == czm_sceneMode2D)\n    {\n        // 2D camera distance is a special case\n        // treat all billboards as flattened to the z=0.0 plane\n        lengthSq = czm_eyeHeight2D.y;\n    }\n    else\n    {\n        lengthSq = dot(positionEC.xyz, positionEC.xyz);\n    }\n#endif\n\n#ifdef EYE_DISTANCE_SCALING\n    float distanceScale = czm_nearFarScalar(scaleByDistance, lengthSq);\n    scale *= distanceScale;\n    translate *= distanceScale;\n    // push vertex behind near plane for clipping\n    if (scale == 0.0)\n    {\n        positionEC.xyz = vec3(0.0);\n    }\n#endif\n\n    float translucency = 1.0;\n#ifdef EYE_DISTANCE_TRANSLUCENCY\n    translucency = czm_nearFarScalar(translucencyByDistance, lengthSq);\n    // push vertex behind near plane for clipping\n    if (translucency == 0.0)\n    {\n        positionEC.xyz = vec3(0.0);\n    }\n#endif\n\n#ifdef EYE_DISTANCE_PIXEL_OFFSET\n    float pixelOffsetScale = czm_nearFarScalar(pixelOffsetScaleByDistance, lengthSq);\n    pixelOffset *= pixelOffsetScale;\n#endif\n\n#ifdef DISTANCE_DISPLAY_CONDITION\n    float nearSq = compressedAttribute3.x;\n    float farSq = compressedAttribute3.y;\n    if (lengthSq < nearSq || lengthSq > farSq)\n    {\n        positionEC.xyz = vec3(0.0);\n    }\n#endif\n\n    mat2 rotationMatrix;\n    float mpp;\n\n#ifdef DISABLE_DEPTH_DISTANCE\n    float disableDepthTestDistance = compressedAttribute3.z;\n#endif\n\n#ifdef VERTEX_DEPTH_CHECK\nif (lengthSq < disableDepthTestDistance) {\n    float depthsilon = 10.0;\n\n    vec2 labelTranslate = textureCoordinateBoundsOrLabelTranslate.xy;\n    vec4 pEC1 = addScreenSpaceOffset(positionEC, dimensions, scale, vec2(0.0), origin, labelTranslate, pixelOffset, alignedAxis, validAlignedAxis, rotation, sizeInMeters, rotationMatrix, mpp);\n    float globeDepth1 = getGlobeDepth(pEC1);\n\n    if (globeDepth1 != 0.0 && pEC1.z + depthsilon < globeDepth1)\n    {\n        vec4 pEC2 = addScreenSpaceOffset(positionEC, dimensions, scale, vec2(0.0, 1.0), origin, labelTranslate, pixelOffset, alignedAxis, validAlignedAxis, rotation, sizeInMeters, rotationMatrix, mpp);\n        float globeDepth2 = getGlobeDepth(pEC2);\n\n        if (globeDepth2 != 0.0 && pEC2.z + depthsilon < globeDepth2)\n        {\n            vec4 pEC3 = addScreenSpaceOffset(positionEC, dimensions, scale, vec2(1.0), origin, labelTranslate, pixelOffset, alignedAxis, validAlignedAxis, rotation, sizeInMeters, rotationMatrix, mpp);\n            float globeDepth3 = getGlobeDepth(pEC3);\n            if (globeDepth3 != 0.0 && pEC3.z + depthsilon < globeDepth3)\n            {\n                positionEC.xyz = vec3(0.0);\n            }\n        }\n    }\n}\n#endif\n\n    positionEC = addScreenSpaceOffset(positionEC, imageSize, scale, direction, origin, translate, pixelOffset, alignedAxis, validAlignedAxis, rotation, sizeInMeters, rotationMatrix, mpp);\n    gl_Position = czm_projection * positionEC;\n    v_textureCoordinates = textureCoordinates;\n\n#ifdef LOG_DEPTH\n    czm_vertexLogDepth();\n#endif\n\n#ifdef DISABLE_DEPTH_DISTANCE\n    if (disableDepthTestDistance == 0.0 && czm_minimumDisableDepthTestDistance != 0.0)\n    {\n        disableDepthTestDistance = czm_minimumDisableDepthTestDistance;\n    }\n\n    if (disableDepthTestDistance != 0.0)\n    {\n        // Don't try to \"multiply both sides\" by w.  Greater/less-than comparisons won't work for negative values of w.\n        float zclip = gl_Position.z / gl_Position.w;\n        bool clipped = (zclip < -1.0 || zclip > 1.0);\n        if (!clipped && (disableDepthTestDistance < 0.0 || (lengthSq > 0.0 && lengthSq < disableDepthTestDistance)))\n        {\n            // Position z on the near plane.\n            gl_Position.z = -gl_Position.w;\n#ifdef LOG_DEPTH\n            czm_vertexLogDepth(vec4(czm_currentFrustum.x));\n#endif\n        }\n    }\n#endif\n\n#ifdef FRAGMENT_DEPTH_CHECK\n    if (sizeInMeters) {\n        translate /= mpp;\n        dimensions /= mpp;\n        imageSize /= mpp;\n    }\n\n#if defined(ROTATION) || defined(ALIGNED_AXIS)\n    v_rotationMatrix = rotationMatrix;\n#else\n    v_rotationMatrix = mat2(1.0, 0.0, 0.0, 1.0);\n#endif\n\n    float enableDepthCheck = 0.0;\n    if (lengthSq < disableDepthTestDistance)\n    {\n        enableDepthCheck = 1.0;\n    }\n\n    float dw = floor(clamp(dimensions.x, 0.0, SHIFT_LEFT12));\n    float dh = floor(clamp(dimensions.y, 0.0, SHIFT_LEFT12));\n\n    float iw = floor(clamp(imageSize.x, 0.0, SHIFT_LEFT12));\n    float ih = floor(clamp(imageSize.y, 0.0, SHIFT_LEFT12));\n\n    v_compressed.x = eyeDepth;\n    v_compressed.y = applyTranslate * SHIFT_LEFT1 + enableDepthCheck;\n    v_compressed.z = dw * SHIFT_LEFT12 + dh;\n    v_compressed.w = iw * SHIFT_LEFT12 + ih;\n    v_originTextureCoordinateAndTranslate.xy = depthOrigin;\n    v_originTextureCoordinateAndTranslate.zw = translate;\n    v_textureCoordinateBounds = textureCoordinateBoundsOrLabelTranslate;\n\n#endif\n\n    v_pickColor = pickColor;\n\n    v_color = color;\n    v_color.a *= translucency;\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(38),n(25),n(31),n(1),n(0),n(2),n(21),n(3),n(135),n(9),n(20),n(54),n(34),n(64),n(61),n(60),n(47),n(68),n(77),n(52),n(558),n(1172),n(1173),n(70),n(346),n(561),n(46)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S){"use strict";function T(t){t=r(t,r.EMPTY_OBJECT),this._sp=void 0,this._spTranslucent=void 0,this._rsOpaque=void 0,this._rsTranslucent=void 0,this._vaf=void 0,this._pointPrimitives=[],this._pointPrimitivesToUpdate=[],this._pointPrimitivesToUpdateIndex=0,this._pointPrimitivesRemoved=!1,this._createVertexArray=!1,this._shaderScaleByDistance=!1,this._compiledShaderScaleByDistance=!1,this._shaderTranslucencyByDistance=!1,this._compiledShaderTranslucencyByDistance=!1,this._shaderDistanceDisplayCondition=!1,this._compiledShaderDistanceDisplayCondition=!1,this._shaderDisableDepthDistance=!1,this._compiledShaderDisableDepthDistance=!1,this._propertiesChanged=new Uint32Array(X),this._maxPixelSize=1,this._baseVolume=new e,this._baseVolumeWC=new e,this._baseVolume2D=new e,this._boundingVolume=new e,this._boundingVolumeDirty=!1,this._colorCommands=[],this.modelMatrix=c.clone(r(t.modelMatrix,c.IDENTITY)),this._modelMatrix=c.clone(c.IDENTITY),this.debugShowBoundingVolume=r(t.debugShowBoundingVolume,!1),this.blendOption=r(t.blendOption,E.OPAQUE_AND_TRANSLUCENT),this._blendOption=void 0,this._mode=S.SCENE3D,this._maxTotalPointSize=1,this._buffersUsage=[f.STATIC_DRAW,f.STATIC_DRAW,f.STATIC_DRAW,f.STATIC_DRAW,f.STATIC_DRAW,f.STATIC_DRAW,f.STATIC_DRAW,f.STATIC_DRAW,f.STATIC_DRAW];var n=this;this._uniforms={u_maxTotalPointSize:function(){return n._maxTotalPointSize}}}function I(e){for(var t=e.length,n=0;n<t;++n)e[n]&&e[n]._destroy()}function M(e){if(e._pointPrimitivesRemoved){e._pointPrimitivesRemoved=!1;for(var t=[],n=e._pointPrimitives,r=n.length,i=0,o=0;i<r;++i){var a=n[i];a&&(a._index=o++,t.push(a))}e._pointPrimitives=t}}function O(e,t,r){return new y(e,[{index:Z.positionHighAndSize,componentsPerAttribute:4,componentDatatype:n.FLOAT,usage:r[j]},{index:Z.positionLowAndShow,componentsPerAttribute:4,componentDatatype:n.FLOAT,usage:r[j]},{index:Z.compressedAttribute0,componentsPerAttribute:4,componentDatatype:n.FLOAT,usage:r[H]},{index:Z.compressedAttribute1,componentsPerAttribute:4,componentDatatype:n.FLOAT,usage:r[q]},{index:Z.scaleByDistance,componentsPerAttribute:4,componentDatatype:n.FLOAT,usage:r[W]},{index:Z.distanceDisplayConditionAndDisableDepth,componentsPerAttribute:3,componentDatatype:n.FLOAT,usage:r[Y]}],t)}function P(t,n,r,i){var o=i._index,a=i._getActualPosition();t._mode===S.SCENE3D&&(e.expand(t._baseVolume,a,t._baseVolume),t._boundingVolumeDirty=!0),u.fromCartesian(a,J);var s=i.pixelSize,l=i.outlineWidth;t._maxPixelSize=Math.max(t._maxPixelSize,s+l);var c=r[Z.positionHighAndSize],h=J.high;c(o,h.x,h.y,h.z,s);var d=r[Z.positionLowAndOutline],f=J.low;d(o,f.x,f.y,f.z,l)}function D(e,n,r,i){var o=i._index,a=i.color,s=i.getPickId(n).color,u=i.outlineColor,l=t.floatToByte(a.red),c=t.floatToByte(a.green),h=t.floatToByte(a.blue),d=l*$+c*ee+h;l=t.floatToByte(u.red),c=t.floatToByte(u.green),h=t.floatToByte(u.blue);var f=l*$+c*ee+h;l=t.floatToByte(s.red),c=t.floatToByte(s.green),h=t.floatToByte(s.blue);var p=l*$+c*ee+h,m=t.floatToByte(a.alpha)*$+t.floatToByte(u.alpha)*ee+t.floatToByte(s.alpha);(0,r[Z.compressedAttribute0])(o,d,f,p,m)}function B(e,t,n,r){var o=r._index,a=0,s=1,u=1,c=1,h=r.translucencyByDistance;i(h)&&(a=h.near,s=h.nearValue,u=h.far,c=h.farValue,1===s&&1===c||(e._shaderTranslucencyByDistance=!0));var d=r.show&&r.clusterShow;0===r.color.alpha&&0===r.outlineColor.alpha&&(d=!1),s=l.clamp(s,0,1),s=1===s?255:255*s|0;var f=(d?1:0)*ee+s;c=l.clamp(c,0,1),c=1===c?255:255*c|0;var p=c;(0,n[Z.compressedAttribute1])(o,f,p,a,u)}function L(e,t,n,r){var o=r._index,a=n[Z.scaleByDistance],s=0,u=1,l=1,c=1,h=r.scaleByDistance;i(h)&&(s=h.near,u=h.nearValue,l=h.far,c=h.farValue,1===u&&1===c||(e._shaderScaleByDistance=!0)),a(o,s,u,l,c)}function N(e,t,n,r){var o=r._index,a=n[Z.distanceDisplayConditionAndDisableDepth],s=0,u=Number.MAX_VALUE,l=r.distanceDisplayCondition;i(l)&&(s=l.near,u=l.far,s*=s,u*=u,e._shaderDistanceDisplayCondition=!0);var c=r.disableDepthTestDistance;c*=c,c>0&&(e._shaderDisableDepthDistance=!0,c===Number.POSITIVE_INFINITY&&(c=-1)),a(o,s,u,c)}function R(e,t,n,r){P(e,t,n,r),D(e,t,n,r),B(e,t,n,r),L(e,t,n,r),N(e,t,n,r)}function k(t,n,r,o,a,s){var u;o.mode===S.SCENE3D?(u=t._baseVolume,t._boundingVolumeDirty=!0):u=t._baseVolume2D;for(var l=[],c=0;c<r;++c){var h=n[c],d=h.position,f=C._computeActualPosition(d,o,a);i(f)&&(h._setActualPosition(f),s?l.push(f):e.expand(u,f,u))}s&&e.fromPoints(l,u)}function F(e,t){var n=t.mode,r=e._pointPrimitives,i=e._pointPrimitivesToUpdate,o=e._modelMatrix;e._createVertexArray||e._mode!==n||n!==S.SCENE3D&&!c.equals(o,e.modelMatrix)?(e._mode=n,c.clone(e.modelMatrix,o),e._createVertexArray=!0,n!==S.SCENE3D&&n!==S.SCENE2D&&n!==S.COLUMBUS_VIEW||k(e,r,r.length,t,o,!0)):n===S.MORPHING?k(e,r,r.length,t,o,!0):n!==S.SCENE2D&&n!==S.COLUMBUS_VIEW||k(e,i,e._pointPrimitivesToUpdateIndex,t,o,!1)}function U(e,t,n){var r=t.camera.getPixelSize(n,t.context.drawingBufferWidth,t.context.drawingBufferHeight),i=r*e._maxPixelSize;n.radius+=i}var z=C.SHOW_INDEX,j=C.POSITION_INDEX,H=C.COLOR_INDEX,V=C.OUTLINE_COLOR_INDEX,Q=C.OUTLINE_WIDTH_INDEX,G=C.PIXEL_SIZE_INDEX,W=C.SCALE_BY_DISTANCE_INDEX,q=C.TRANSLUCENCY_BY_DISTANCE_INDEX,Y=C.DISTANCE_DISPLAY_CONDITION_INDEX,K=C.DISABLE_DEPTH_DISTANCE_INDEX,X=C.NUMBER_OF_PROPERTIES,Z={positionHighAndSize:0,positionLowAndOutline:1,compressedAttribute0:2,compressedAttribute1:3,scaleByDistance:4,distanceDisplayConditionAndDisableDepth:5};o(T.prototype,{length:{get:function(){return M(this),this._pointPrimitives.length}}}),T.prototype.add=function(e){var t=new C(e,this);return t._index=this._pointPrimitives.length,this._pointPrimitives.push(t),this._createVertexArray=!0,t},T.prototype.remove=function(e){return!!this.contains(e)&&(this._pointPrimitives[e._index]=null,this._pointPrimitivesRemoved=!0,this._createVertexArray=!0,e._destroy(),!0)},T.prototype.removeAll=function(){I(this._pointPrimitives),this._pointPrimitives=[],this._pointPrimitivesToUpdate=[],this._pointPrimitivesToUpdateIndex=0,this._pointPrimitivesRemoved=!1,this._createVertexArray=!0},T.prototype._updatePointPrimitive=function(e,t){e._dirty||(this._pointPrimitivesToUpdate[this._pointPrimitivesToUpdateIndex++]=e),++this._propertiesChanged[t]},T.prototype.contains=function(e){return i(e)&&e._pointPrimitiveCollection===this},T.prototype.get=function(e){return M(this),this._pointPrimitives[e]},T.prototype.computeNewBuffersUsage=function(){for(var e=this._buffersUsage,t=!1,n=this._propertiesChanged,r=0;r<X;++r){var i=0===n[r]?f.STATIC_DRAW:f.STREAM_DRAW;t=t||e[r]!==i,e[r]=i}return t};var J=new u,$=65536,ee=256,te=[];return T.prototype.update=function(t){M(this),this._maxTotalPointSize=p.maximumAliasedPointSize,F(this,t);var n,r=this._pointPrimitives,o=r.length,a=this._pointPrimitivesToUpdate,s=this._pointPrimitivesToUpdateIndex,u=this._propertiesChanged,l=this._createVertexArray,f=t.context,y=t.passes,C=y.pick;if(l||!C&&this.computeNewBuffersUsage()){this._createVertexArray=!1;for(var T=0;T<X;++T)u[T]=0;if(this._vaf=this._vaf&&this._vaf.destroy(),o>0){this._vaf=O(f,o,this._buffersUsage),n=this._vaf.writers;for(var I=0;I<o;++I){var k=this._pointPrimitives[I];k._dirty=!1,R(this,f,n,k)}this._vaf.commit()}this._pointPrimitivesToUpdateIndex=0}else if(s>0){var J=te;J.length=0,(u[j]||u[Q]||u[G])&&J.push(P),(u[H]||u[V])&&J.push(D),(u[z]||u[q])&&J.push(B),u[W]&&J.push(L),(u[Y]||u[K])&&J.push(N);var $=J.length;if(n=this._vaf.writers,s/o>.1){for(var ee=0;ee<s;++ee){var ne=a[ee];ne._dirty=!1;for(var re=0;re<$;++re)J[re](this,f,n,ne)}this._vaf.commit()}else{for(var ie=0;ie<s;++ie){var oe=a[ie];oe._dirty=!1;for(var ae=0;ae<$;++ae)J[ae](this,f,n,oe);this._vaf.subCommit(oe._index,1)}this._vaf.endSubCommits()}this._pointPrimitivesToUpdateIndex=0}if(s>1.5*o&&(a.length=o),i(this._vaf)&&i(this._vaf.va)){this._boundingVolumeDirty&&(this._boundingVolumeDirty=!1,e.transform(this._baseVolume,this.modelMatrix,this._baseVolumeWC));var se,ue=c.IDENTITY;t.mode===S.SCENE3D?(ue=this.modelMatrix,se=e.clone(this._baseVolumeWC,this._boundingVolume)):se=e.clone(this._baseVolume2D,this._boundingVolume),U(this,t,se);var le=this._blendOption!==this.blendOption;this._blendOption=this.blendOption,le&&(this._blendOption===E.OPAQUE||this._blendOption===E.OPAQUE_AND_TRANSLUCENT?this._rsOpaque=_.fromCache({depthTest:{enabled:!0,func:d.LEQUAL},depthMask:!0}):this._rsOpaque=void 0,this._blendOption===E.TRANSLUCENT||this._blendOption===E.OPAQUE_AND_TRANSLUCENT?this._rsTranslucent=_.fromCache({depthTest:{enabled:!0,func:d.LEQUAL},depthMask:!1,blending:x.ALPHA_BLEND}):this._rsTranslucent=void 0),this._shaderDisableDepthDistance=this._shaderDisableDepthDistance||0!==t.minimumDisableDepthTestDistance;var ce,he;(le||this._shaderScaleByDistance&&!this._compiledShaderScaleByDistance||this._shaderTranslucencyByDistance&&!this._compiledShaderTranslucencyByDistance||this._shaderDistanceDisplayCondition&&!this._compiledShaderDistanceDisplayCondition||this._shaderDisableDepthDistance!==this._compiledShaderDisableDepthDistance)&&(ce=new A({sources:[w]}),this._shaderScaleByDistance&&ce.defines.push("EYE_DISTANCE_SCALING"),this._shaderTranslucencyByDistance&&ce.defines.push("EYE_DISTANCE_TRANSLUCENCY"),this._shaderDistanceDisplayCondition&&ce.defines.push("DISTANCE_DISPLAY_CONDITION"),this._shaderDisableDepthDistance&&ce.defines.push("DISABLE_DEPTH_DISTANCE"),this._blendOption===E.OPAQUE_AND_TRANSLUCENT&&(he=new A({defines:["OPAQUE"],sources:[b]}),this._sp=v.replaceCache({context:f,shaderProgram:this._sp,vertexShaderSource:ce,fragmentShaderSource:he,attributeLocations:Z}),he=new A({defines:["TRANSLUCENT"],sources:[b]}),this._spTranslucent=v.replaceCache({context:f,shaderProgram:this._spTranslucent,vertexShaderSource:ce,fragmentShaderSource:he,attributeLocations:Z})),this._blendOption===E.OPAQUE&&(he=new A({sources:[b]}),this._sp=v.replaceCache({context:f,shaderProgram:this._sp,vertexShaderSource:ce,fragmentShaderSource:he,attributeLocations:Z})),this._blendOption===E.TRANSLUCENT&&(he=new A({sources:[b]}),this._spTranslucent=v.replaceCache({context:f,shaderProgram:this._spTranslucent,vertexShaderSource:ce,fragmentShaderSource:he,attributeLocations:Z})),this._compiledShaderScaleByDistance=this._shaderScaleByDistance,this._compiledShaderTranslucencyByDistance=this._shaderTranslucencyByDistance,this._compiledShaderDistanceDisplayCondition=this._shaderDistanceDisplayCondition,this._compiledShaderDisableDepthDistance=this._shaderDisableDepthDistance);var de,fe,pe,me,ge=t.commandList;if(y.render||C){var _e=this._colorCommands,ve=this._blendOption===E.OPAQUE,Ae=this._blendOption===E.OPAQUE_AND_TRANSLUCENT;de=this._vaf.va,fe=de.length,_e.length=fe;var ye=Ae?2*fe:fe;for(me=0;me<ye;++me){var be=ve||Ae&&me%2==0;pe=_e[me],i(pe)||(pe=_e[me]=new m),pe.primitiveType=h.POINTS,pe.pass=be||!Ae?g.OPAQUE:g.TRANSLUCENT,pe.owner=this;var we=Ae?Math.floor(me/2):me;pe.boundingVolume=se,pe.modelMatrix=ue,pe.shaderProgram=be?this._sp:this._spTranslucent,pe.uniformMap=this._uniforms,pe.vertexArray=de[we].va,pe.renderState=be?this._rsOpaque:this._rsTranslucent,pe.debugShowBoundingVolume=this.debugShowBoundingVolume,pe.pickId="v_pickColor",ge.push(pe)}}}},T.prototype.isDestroyed=function(){return!1},T.prototype.destroy=function(){return this._sp=this._sp&&this._sp.destroy(),this._spTranslucent=this._spTranslucent&&this._spTranslucent.destroy(),this._spPick=this._spPick&&this._spPick.destroy(),this._vaf=this._vaf&&this._vaf.destroy(),I(this._pointPrimitives),a(this)},T}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"varying vec4 v_color;\nvarying vec4 v_outlineColor;\nvarying float v_innerPercent;\nvarying float v_pixelDistance;\nvarying vec4 v_pickColor;\n\nvoid main()\n{\n    // The distance in UV space from this fragment to the center of the point, at most 0.5.\n    float distanceToCenter = length(gl_PointCoord - vec2(0.5));\n    // The max distance stops one pixel shy of the edge to leave space for anti-aliasing.\n    float maxDistance = max(0.0, 0.5 - v_pixelDistance);\n    float wholeAlpha = 1.0 - smoothstep(maxDistance, 0.5, distanceToCenter);\n    float innerAlpha = 1.0 - smoothstep(maxDistance * v_innerPercent, 0.5 * v_innerPercent, distanceToCenter);\n\n    vec4 color = mix(v_outlineColor, v_color, innerAlpha);\n    color.a *= wholeAlpha;\n\n// Fully transparent parts of the billboard are not pickable.\n#if !defined(OPAQUE) && !defined(TRANSLUCENT)\n    if (color.a < 0.005)   // matches 0/255 and 1/255\n    {\n        discard;\n    }\n#else\n// The billboard is rendered twice. The opaque pass discards translucent fragments\n// and the translucent pass discards opaque fragments.\n#ifdef OPAQUE\n    if (color.a < 0.995)   // matches < 254/255\n    {\n        discard;\n    }\n#else\n    if (color.a >= 0.995)  // matches 254/255 and 255/255\n    {\n        discard;\n    }\n#endif\n#endif\n\n    gl_FragColor = color;\n    czm_writeLogDepth();\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return'uniform float u_maxTotalPointSize;\n\nattribute vec4 positionHighAndSize;\nattribute vec4 positionLowAndOutline;\nattribute vec4 compressedAttribute0;                       // color, outlineColor, pick color\nattribute vec4 compressedAttribute1;                       // show, translucency by distance, some free space\nattribute vec4 scaleByDistance;                            // near, nearScale, far, farScale\nattribute vec3 distanceDisplayConditionAndDisableDepth;    // near, far, disableDepthTestDistance\n\nvarying vec4 v_color;\nvarying vec4 v_outlineColor;\nvarying float v_innerPercent;\nvarying float v_pixelDistance;\nvarying vec4 v_pickColor;\n\nconst float SHIFT_LEFT8 = 256.0;\nconst float SHIFT_RIGHT8 = 1.0 / 256.0;\n\nvoid main()\n{\n    // Modifying this shader may also require modifications to PointPrimitive._computeScreenSpacePosition\n\n    // unpack attributes\n    vec3 positionHigh = positionHighAndSize.xyz;\n    vec3 positionLow = positionLowAndOutline.xyz;\n    float outlineWidthBothSides = 2.0 * positionLowAndOutline.w;\n    float totalSize = positionHighAndSize.w + outlineWidthBothSides;\n    float outlinePercent = outlineWidthBothSides / totalSize;\n    // Scale in response to browser-zoom.\n    totalSize *= czm_resolutionScale;\n    // Add padding for anti-aliasing on both sides.\n    totalSize += 3.0;\n\n    float temp = compressedAttribute1.x * SHIFT_RIGHT8;\n    float show = floor(temp);\n\n#ifdef EYE_DISTANCE_TRANSLUCENCY\n    vec4 translucencyByDistance;\n    translucencyByDistance.x = compressedAttribute1.z;\n    translucencyByDistance.z = compressedAttribute1.w;\n\n    translucencyByDistance.y = ((temp - floor(temp)) * SHIFT_LEFT8) / 255.0;\n\n    temp = compressedAttribute1.y * SHIFT_RIGHT8;\n    translucencyByDistance.w = ((temp - floor(temp)) * SHIFT_LEFT8) / 255.0;\n#endif\n\n    ///////////////////////////////////////////////////////////////////////////\n\n    vec4 color;\n    vec4 outlineColor;\n    vec4 pickColor;\n\n    // compressedAttribute0.z => pickColor.rgb\n\n    temp = compressedAttribute0.z * SHIFT_RIGHT8;\n    pickColor.b = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    pickColor.g = (temp - floor(temp)) * SHIFT_LEFT8;\n    pickColor.r = floor(temp);\n\n    // compressedAttribute0.x => color.rgb\n\n    temp = compressedAttribute0.x * SHIFT_RIGHT8;\n    color.b = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    color.g = (temp - floor(temp)) * SHIFT_LEFT8;\n    color.r = floor(temp);\n\n    // compressedAttribute0.y => outlineColor.rgb\n\n    temp = compressedAttribute0.y * SHIFT_RIGHT8;\n    outlineColor.b = (temp - floor(temp)) * SHIFT_LEFT8;\n    temp = floor(temp) * SHIFT_RIGHT8;\n    outlineColor.g = (temp - floor(temp)) * SHIFT_LEFT8;\n    outlineColor.r = floor(temp);\n\n    // compressedAttribute0.w => color.a, outlineColor.a, pickColor.a\n\n    temp = compressedAttribute0.w * SHIFT_RIGHT8;\n    pickColor.a = (temp - floor(temp)) * SHIFT_LEFT8;\n    pickColor = pickColor / 255.0;\n\n    temp = floor(temp) * SHIFT_RIGHT8;\n    outlineColor.a = (temp - floor(temp)) * SHIFT_LEFT8;\n    outlineColor /= 255.0;\n    color.a = floor(temp);\n    color /= 255.0;\n\n    ///////////////////////////////////////////////////////////////////////////\n\n    vec4 p = czm_translateRelativeToEye(positionHigh, positionLow);\n    vec4 positionEC = czm_modelViewRelativeToEye * p;\n    positionEC.xyz *= show;\n\n    ///////////////////////////////////////////////////////////////////////////\n\n#if defined(EYE_DISTANCE_SCALING) || defined(EYE_DISTANCE_TRANSLUCENCY) || defined(DISTANCE_DISPLAY_CONDITION) || defined(DISABLE_DEPTH_DISTANCE)\n    float lengthSq;\n    if (czm_sceneMode == czm_sceneMode2D)\n    {\n        // 2D camera distance is a special case\n        // treat all billboards as flattened to the z=0.0 plane\n        lengthSq = czm_eyeHeight2D.y;\n    }\n    else\n    {\n        lengthSq = dot(positionEC.xyz, positionEC.xyz);\n    }\n#endif\n\n#ifdef EYE_DISTANCE_SCALING\n    totalSize *= czm_nearFarScalar(scaleByDistance, lengthSq);\n#endif\n    // Clamp to max point size.\n    totalSize = min(totalSize, u_maxTotalPointSize);\n    // If size is too small, push vertex behind near plane for clipping.\n    // Note that context.minimumAliasedPointSize "will be at most 1.0".\n    if (totalSize < 1.0)\n    {\n        positionEC.xyz = vec3(0.0);\n        totalSize = 1.0;\n    }\n\n    float translucency = 1.0;\n#ifdef EYE_DISTANCE_TRANSLUCENCY\n    translucency = czm_nearFarScalar(translucencyByDistance, lengthSq);\n    // push vertex behind near plane for clipping\n    if (translucency < 0.004)\n    {\n        positionEC.xyz = vec3(0.0);\n    }\n#endif\n\n#ifdef DISTANCE_DISPLAY_CONDITION\n    float nearSq = distanceDisplayConditionAndDisableDepth.x;\n    float farSq = distanceDisplayConditionAndDisableDepth.y;\n    if (lengthSq < nearSq || lengthSq > farSq) {\n        positionEC.xyz = vec3(0.0);\n    }\n#endif\n\n    gl_Position = czm_projection * positionEC;\n    czm_vertexLogDepth();\n\n#ifdef DISABLE_DEPTH_DISTANCE\n    float disableDepthTestDistance = distanceDisplayConditionAndDisableDepth.z;\n    if (disableDepthTestDistance == 0.0 && czm_minimumDisableDepthTestDistance != 0.0)\n    {\n        disableDepthTestDistance = czm_minimumDisableDepthTestDistance;\n    }\n\n    if (disableDepthTestDistance != 0.0)\n    {\n        // Don\'t try to "multiply both sides" by w.  Greater/less-than comparisons won\'t work for negative values of w.\n        float zclip = gl_Position.z / gl_Position.w;\n        bool clipped = (zclip < -1.0 || zclip > 1.0);\n        if (!clipped && (disableDepthTestDistance < 0.0 || (lengthSq > 0.0 && lengthSq < disableDepthTestDistance)))\n        {\n            // Position z on the near plane.\n            gl_Position.z = -gl_Position.w;\n#ifdef LOG_DEPTH\n            czm_vertexLogDepth(vec4(czm_currentFrustum.x));\n#endif\n        }\n    }\n#endif\n\n    v_color = color;\n    v_color.a *= translucency;\n    v_outlineColor = outlineColor;\n    v_outlineColor.a *= translucency;\n\n    v_innerPercent = 1.0 - outlinePercent;\n    v_pixelDistance = 2.0 / totalSize;\n    gl_PointSize = totalSize;\n\n    v_pickColor = pickColor;\n}\n'}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[],void 0!==(i=function(){"use strict";function e(e,n,r,i,o){return new t(e,n,r,i,o)}function t(e,t,i,a,s){t=t||n,i=i||r,s=s||Array,this.nodeSize=a||64,this.points=e,this.ids=new s(e.length),this.coords=new s(2*e.length);for(var u=0;u<e.length;u++)this.ids[u]=u,this.coords[2*u]=t(e[u]),this.coords[2*u+1]=i(e[u]);o(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function n(e){return e[0]}function r(e){return e[1]}function i(e,t,n,r,i,o,a){for(var s,u,l=[0,e.length-1,0],c=[];l.length;){var h=l.pop(),d=l.pop(),f=l.pop();if(d-f<=a)for(var p=f;p<=d;p++)s=t[2*p],u=t[2*p+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(e[p]);else{var m=Math.floor((f+d)/2);s=t[2*m],u=t[2*m+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(e[m]);var g=(h+1)%2;(0===h?n<=s:r<=u)&&(l.push(f),l.push(m-1),l.push(g)),(0===h?i>=s:o>=u)&&(l.push(m+1),l.push(d),l.push(g))}}return c}function o(e,t,n,r,i,s){if(!(i-r<=n)){var u=Math.floor((r+i)/2);a(e,t,u,r,i,s%2),o(e,t,n,r,u-1,s+1),o(e,t,n,u+1,i,s+1)}}function a(e,t,n,r,i,o){for(;i>r;){if(i-r>600){var u=i-r+1,l=n-r+1,c=Math.log(u),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1);a(e,t,n,Math.max(r,Math.floor(n-l*h/u+d)),Math.min(i,Math.floor(n+(u-l)*h/u+d)),o)}var f=t[2*n+o],p=r,m=i;for(s(e,t,r,n),t[2*i+o]>f&&s(e,t,r,i);p<m;){for(s(e,t,p,m),p++,m--;t[2*p+o]<f;)p++;for(;t[2*m+o]>f;)m--}t[2*r+o]===f?s(e,t,r,m):(m++,s(e,t,m,i)),m<=n&&(r=m+1),n<=m&&(i=m-1)}}function s(e,t,n,r){u(e,n,r),u(t,2*n,2*r),u(t,2*n+1,2*r+1)}function u(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function l(e,t,n,r,i,o){for(var a=[0,e.length-1,0],s=[],u=i*i;a.length;){var l=a.pop(),h=a.pop(),d=a.pop();if(h-d<=o)for(var f=d;f<=h;f++)c(t[2*f],t[2*f+1],n,r)<=u&&s.push(e[f]);else{var p=Math.floor((d+h)/2),m=t[2*p],g=t[2*p+1];c(m,g,n,r)<=u&&s.push(e[p]);var _=(l+1)%2;(0===l?n-i<=m:r-i<=g)&&(a.push(d),a.push(p-1),a.push(_)),(0===l?n+i>=m:r+i>=g)&&(a.push(p+1),a.push(h),a.push(_))}}return s}function c(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}return t.prototype={range:function(e,t,n,r){return i(this.ids,this.coords,e,t,n,r,this.nodeSize)},within:function(e,t,n){return l(this.ids,this.coords,e,t,n,this.nodeSize)}},e}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"uniform sampler2D u_texture;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main()\n{\n    gl_FragColor = texture2D(u_texture, v_textureCoordinates);\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"attribute vec4 position;\nattribute float webMercatorT;\n\nuniform vec2 u_textureDimensions;\n\nvarying vec2 v_textureCoordinates;\n\nvoid main()\n{\n    v_textureCoordinates = vec2(position.x, webMercatorT);\n    gl_Position = czm_viewportOrthographic * (position * vec4(u_textureDimensions, 1.0, 1.0));\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(0),n(21),n(306)],void 0!==(i=function(e,t,n){"use strict";function r(t,r,i,o,a){if(this.imageryLayer=t,this.x=r,this.y=i,this.level=o,this.request=void 0,0!==o){var s=r/2|0,u=i/2|0,l=o-1;this.parent=t.getImageryFromCache(s,u,l)}if(this.state=n.UNLOADED,this.imageUrl=void 0,this.image=void 0,this.texture=void 0,this.textureWebMercator=void 0,this.credits=void 0,this.referenceCount=0,!e(a)&&t.imageryProvider.ready){a=t.imageryProvider.tilingScheme.tileXYToRectangle(r,i,o)}this.rectangle=a}return r.createPlaceholder=function(e){var t=new r(e,0,0,0);return t.addReference(),t.state=n.PLACEHOLDER,t},r.prototype.addReference=function(){++this.referenceCount},r.prototype.releaseReference=function(){return--this.referenceCount,0===this.referenceCount?(this.imageryLayer.removeImageryFromCache(this),e(this.parent)&&this.parent.releaseReference(),e(this.image)&&e(this.image.destroy)&&this.image.destroy(),e(this.texture)&&this.texture.destroy(),e(this.textureWebMercator)&&this.texture!==this.textureWebMercator&&this.textureWebMercator.destroy(),t(this),0):this.referenceCount},r.prototype.processStateMachine=function(e,t,r){this.state===n.UNLOADED&&(this.state=n.TRANSITIONING,this.imageryLayer._requestImagery(this,r)),this.state===n.RECEIVED&&(this.state=n.TRANSITIONING,this.imageryLayer._createTexture(e.context,this));var i=this.state===n.READY&&t&&!this.texture;(this.state===n.TEXTURE_LOADED||i)&&(this.state=n.TRANSITIONING,this.imageryLayer._reprojectTexture(e,this,t))},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(306)],void 0!==(i=function(e,t){"use strict";function n(e,t,n){this.readyImagery=void 0,this.loadingImagery=e,this.textureCoordinateRectangle=t,this.textureTranslationAndScale=void 0,this.useWebMercatorT=n}return n.prototype.freeResources=function(){e(this.readyImagery)&&this.readyImagery.releaseReference(),e(this.loadingImagery)&&this.loadingImagery.releaseReference()},n.prototype.processStateMachine=function(n,r){var i=this.loadingImagery,o=i.imageryLayer;if(i.processStateMachine(r,!this.useWebMercatorT,n._priorityFunction),i.state===t.READY)return e(this.readyImagery)&&this.readyImagery.releaseReference(),this.readyImagery=this.loadingImagery,this.loadingImagery=void 0,this.textureTranslationAndScale=o._calculateTextureTranslationAndScale(n,this),!0;for(var a,s=i.parent;e(s)&&(s.state!==t.READY||!this.useWebMercatorT&&!e(s.texture));)s.state!==t.FAILED&&s.state!==t.INVALID&&(a=a||s),s=s.parent;return this.readyImagery!==s&&(e(this.readyImagery)&&this.readyImagery.releaseReference(),this.readyImagery=s,e(s)&&(s.addReference(),this.textureTranslationAndScale=o._calculateTextureTranslationAndScale(n,this))),(i.state===t.FAILED||i.state===t.INVALID)&&(!e(a)||(a.processStateMachine(r,!this.useWebMercatorT,n._priorityFunction),!1))},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(235),o=n(0),a=n(540);i.prototype.configureDescriptionFromProperties=function(e){function t(e){var n='<table class="cesium-infoBox-defaultTable">';for(var i in e)if(e.hasOwnProperty(i)){var s=e[i];o(s)&&("object"===(void 0===s?"undefined":r(s))?n+="<tr><td>"+i+"</td><td>"+t(s)+"</td></tr>":n+="<tr><td>"+i+"</td><td>"+a(s)+"</td></tr>")}return n+="</table>"}this.description=t(e)}},function(e,t,n){"use strict";function r(e){e.Map.mergeOptions({dragBox:!1}),e.Map.DragBox=e.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._moved=!1,this._dragging=e.dragging.enabled()},addHooks:function(){this._dragging&&this._map.dragging.disable(),this._map.boxZoom.disable(),e.DomEvent.on(this._container,"mousedown",this._onMouseDown,this),this._dragging&&this._map.dragging.enable(),this._map.boxZoom.enable()},removeHooks:function(){this._dragging&&this._map.dragging.enable(),e.DomEvent.off(this._container,"mousedown",this._onMouseDown,this),this._moved=!1},_onMouseDown:function(t){if(this._moved=!1,!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._dragging&&this._map.dragging.disable(),this._map.boxZoom.disable(),e.DomUtil.disableTextSelection(),e.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),e.DomEvent.on(document,"mousemove",this._onMouseMove,this).on(document,"mouseup",this._onMouseUp,this).on(document,"keydown",this._onKeyDown,this)},_onMouseMove:function(t){this._moved||(this._box=e.DomUtil.create("div","leaflet-zoom-box",this._pane),e.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("dragboxstart"));var n=this._startLayerPoint,r=this._box,i=this._map.mouseEventToLayerPoint(t),o=i.subtract(n),a=new e.Point(Math.min(i.x,n.x),Math.min(i.y,n.y));e.DomUtil.setPosition(r,a),this._moved=!0,r.style.width=Math.abs(o.x)-4+"px",r.style.height=Math.abs(o.y)-4+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),this._dragging&&this._map.dragging.enable(),this._map.boxZoom.enable(),e.DomUtil.enableTextSelection(),e.DomUtil.enableImageDrag(),e.DomEvent.off(document,"mousemove",this._onMouseMove,this).off(document,"mouseup",this._onMouseUp,this).off(document,"keydown",this._onKeyDown,this)},_onMouseUp:function(t){this._finish();var n=this._map,r=n.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(r)){var i=new e.LatLngBounds(n.layerPointToLatLng(this._startLayerPoint),n.layerPointToLatLng(r));n.fire("dragboxend",{dragBoxBounds:i})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}}),e.Map.addInitHook("addHandler","dragBox",e.Map.DragBox)}var i=!1,o={initialize:function(e){i||(i=!0,r(e))}};e.exports=o},function(e,t,n){"use strict";var r=n(15),i=function(e){this.map=e,this.featureClicked=new r,this.featureMousedown=new r};e.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(6),a=n(1183),s=n(231),u=n(196),l=function(e){if(e=r(e,r.EMPTY_OBJECT),this.minDisplayValue=e.minDisplayValue,this.yAxisMin=e.yAxisMin,this.yAxisMax=e.yAxisMax,this.maxDisplayValue=e.maxDisplayValue,this.displayDuration=e.displayDuration,this.replaceWithZeroValues=e.replaceWithZeroValues,this.replaceWithNullValues=e.replaceWithNullValues,this.nullColor=e.nullColor,this.nullLabel=e.nullLabel,this.scale=e.scale,this.scaleByValue=e.scaleByValue,this.clampDisplayValue=e.clampDisplayValue,this.imageUrl=e.imageUrl,this.featureInfoFields=e.featureInfoFields,this.chartLineColor=e.chartLineColor,this.colorBins=e.colorBins,this.colorBinMethod=r(e.colorBinMethod,"auto"),i(e.colorMap)?this.colorMap=new a(e.colorMap):this.colorMap=void 0,this.colorPalette=e.colorPalette,i(e.colorPalette)){var t=this;a.loadFromPalette(this.colorPalette).then(function(e){t.colorMap=e})}this.legendTicks=r(e.legendTicks,3),this.name=e.name,this.legendName=e.legendName,this.type=e.type,this.units=e.units,this.active=e.active,this.format=e.format};l.prototype.updaters={colorMap:function(e,t,n){e.colorMap=new a(t[n])},colorPalette:function(e,t,n){return a.loadFromPalette(t[n]).then(function(t){e.colorMap=t})}},o(l.prototype.updaters),l.prototype.serializers={colorMap:function(e,t,n){i(e.colorPalette)||(t[n]=e[n])}},o(l.prototype.serializers),l.prototype.updateFromJson=function(e,t){return u(this,e,t)},l.prototype.serializeToJson=function(e){return s(this,void 0,e)},e.exports=l},function(e,t,n){"use strict";function r(e){return e.map(function(t,n){return{color:t,offset:1===e.length?0:n/(e.length-1)}}).filter(function(e){return""!==e.color})}function i(e){if(e)return r(e.split("-"))}var o=n(0),a=n(44),s=n(7),u=n(14),l=function(e){var t;("string"==typeof e||e instanceof String)&&(t=i(e)),e instanceof Array&&e.length>0&&(t="string"==typeof e[0]||e[0]instanceof String?r(e):e),o(t)&&t.forEach(function(e){this.push(e)},this)};u(Array,l),l.prototype.toJSON=function(){return this.slice()},l.colorBrewerFile=function(){return l.colorBrewerJSON?s(l.colorBrewerJSON):l.colorBrewerJSON=a("build/TerriaJS/data/colorbrewer.json").then(function(e){return l.colorBrewerJSON=e,e})},l.loadFromPalette=function(e){if(!e)return s(void 0);var t=e.match(/^((\d+)-class *)?([^-]+)/i);if(t){var n=t[3],i=t[2]?t[2]:7;return l.colorBrewerFile().then(function(e){return e&&e[n]&&e[n][i]?new l(r(e[n][i])):void 0})}return s(void 0)},e.exports=l},function(e,t,n){"use strict";var r=e.exports={};r.linearRegression=n(1185),r.linearRegressionLine=n(1186),r.standardDeviation=n(565),r.rSquared=n(1187),r.mode=n(1188),r.modeFast=n(1189),r.modeSorted=n(569),r.min=n(570),r.max=n(571),r.minSorted=n(1190),r.maxSorted=n(1191),r.sum=n(567),r.sumSimple=n(1192),r.product=n(1193),r.quantile=n(349),r.quantileSorted=n(350),r.interquartileRange=r.iqr=n(1195),r.medianAbsoluteDeviation=r.mad=n(1196),r.chunk=n(1197),r.sampleWithReplacement=n(1198),r.shuffle=n(573),r.shuffleInPlace=n(574),r.sample=n(1199),r.ckmeans=n(1200),r.uniqueCountSorted=n(575),r.sumNthPowerDeviations=n(348),r.equalIntervalBreaks=n(1201),r.sampleCovariance=n(576),r.sampleCorrelation=n(1202),r.sampleVariance=n(351),r.sampleStandardDeviation=n(577),r.sampleSkewness=n(1203),r.sampleKurtosis=n(1204),r.permutationsHeap=n(1205),r.combinations=n(1206),r.combinationsReplacement=n(1207),r.addToMean=n(1208),r.combineMeans=n(578),r.combineVariances=n(1209),r.geometricMean=n(1210),r.harmonicMean=n(1211),r.mean=r.average=n(123),r.median=n(572),r.medianSorted=n(1212),r.subtractFromMean=n(1213),r.rootMeanSquare=r.rms=n(1214),r.variance=n(566),r.tTest=n(1215),r.tTestTwoSample=n(1216),r.BayesianClassifier=r.bayesian=n(1217),r.PerceptronModel=r.perceptron=n(1218),r.epsilon=n(256),r.factorial=n(1219),r.bernoulliDistribution=n(1220),r.binomialDistribution=n(1221),r.poissonDistribution=n(1222),r.chiSquaredGoodnessOfFit=n(1223),r.zScore=n(1225),r.cumulativeStdNormalProbability=n(1226),r.standardNormalTable=n(579),r.errorFunction=r.erf=n(1227),r.inverseErrorFunction=n(580),r.probit=n(1228),r.bisect=n(1229)},function(e,t,n){"use strict";function r(e){var t,n,r=e.length;if(1===r)t=0,n=e[0][1];else{for(var i,o,a,s=0,u=0,l=0,c=0,h=0;h<r;h++)i=e[h],o=i[0],a=i[1],s+=o,u+=a,l+=o*o,c+=o*a;t=(r*c-s*u)/(r*l-s*s),n=u/r-t*s/r}return{m:t,b:n}}e.exports=r},function(e,t,n){"use strict";function r(e){return function(t){return e.b+e.m*t}}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(e.length<2)return 1;for(var n,r=0,i=0;i<e.length;i++)r+=e[i][1];n=r/e.length;for(var o=0,a=0;a<e.length;a++)o+=Math.pow(n-e[a][1],2);for(var s=0,u=0;u<e.length;u++)s+=Math.pow(e[u][1]-t(e[u][0]),2);return 1-s/o}e.exports=r},function(e,t,n){"use strict";function r(e){return o(i(e))}var i=n(568),o=n(569);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t,n=new Map,r=0,i=0;i<e.length;i++){var o=n.get(e[i]);void 0===o?o=1:o++,o>r&&(t=e[i],r=o),n.set(e[i],o)}if(0===r)throw new Error("mode requires at last one data point");return t}e.exports=r},function(e,t,n){"use strict";function r(e){return e[0]}e.exports=r},function(e,t,n){"use strict";function r(e){return e[e.length-1]}e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=1,n=0;n<e.length;n++)t*=e[n];return t}e.exports=r},function(e,t,n){"use strict";function r(e,t,n,o){for(n=n||0,o=o||e.length-1;o>n;){if(o-n>600){var a=o-n+1,s=t-n+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a);s-a/2<0&&(c*=-1);r(e,t,Math.max(n,Math.floor(t-s*l/a+c)),Math.min(o,Math.floor(t+(a-s)*l/a+c)))}var h=e[t],d=n,f=o;for(i(e,n,t),e[o]>h&&i(e,n,o);d<f;){for(i(e,d,f),d++,f--;e[d]<h;)d++;for(;e[f]>h;)f--}e[n]===h?i(e,n,f):(f++,i(e,f,o)),f<=t&&(n=f+1),t<=f&&(o=f-1)}}function i(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}e.exports=r},function(e,t,n){"use strict";function r(e){var t=i(e,.75),n=i(e,.25);if("number"==typeof t&&"number"==typeof n)return t-n}var i=n(349);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=i(e),n=[],r=0;r<e.length;r++)n.push(Math.abs(e[r]-t));return i(n)}var i=n(572);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=[];if(t<1)throw new Error("chunk size must be a positive number");if(Math.floor(t)!==t)throw new Error("chunk size must be an integer");for(var r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(0===e.length)return[];n=n||Math.random;for(var r=e.length,i=[],o=0;o<t;o++){var a=Math.floor(n()*r);i.push(e[a])}return i}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return i(e,n).slice(0,t)}var i=n(573);e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;r<e;r++){for(var i=[],o=0;o<t;o++)i.push(0);n.push(i)}return n}function i(e,t,n,r){var i;if(e>0){var o=(n[t]-n[e-1])/(t-e+1);i=r[t]-r[e-1]-(t-e+1)*o*o}else i=r[t]-n[t]*n[t]/(t+1);return i<0?0:i}function o(e,t,n,r,a,s,u){if(!(e>t)){var l=Math.floor((e+t)/2);r[n][l]=r[n-1][l-1],a[n][l]=l;var c=n;e>n&&(c=Math.max(c,a[n][e-1]||0)),c=Math.max(c,a[n-1][l]||0);var h=l-1;t<r.length-1&&(h=Math.min(h,a[n][t+1]||0));for(var d,f,p,m,g=h;g>=c&&!((d=i(g,l,s,u))+r[n-1][c-1]>=r[n][l]);--g)f=i(c,l,s,u),p=f+r[n-1][c-1],p<r[n][l]&&(r[n][l]=p,a[n][l]=c),c++,(m=d+r[n-1][g-1])<r[n][l]&&(r[n][l]=m,a[n][l]=g);o(e,l-1,n,r,a,s,u),o(l+1,t,n,r,a,s,u)}}function a(e,t,n){for(var r,a=t[0].length,s=e[Math.floor(a/2)],u=[],l=[],c=0;c<a;++c)r=e[c]-s,0===c?(u.push(r),l.push(r*r)):(u.push(u[c-1]+r),l.push(l[c-1]+r*r)),t[0][c]=i(0,c,u,l),n[0][c]=0;for(var h,d=1;d<t.length;++d)h=d<t.length-1?d:a-1,o(h,a-1,d,t,n,u,l)}function s(e,t){if(t>e.length)throw new Error("cannot generate more classes than there are data values");var n=l(e);if(1===u(n))return[n];var i=r(t,n.length),o=r(t,n.length);a(n,i,o);for(var s=[],c=o[0].length-1,h=o.length-1;h>=0;h--){var d=o[h][c];s[h]=n.slice(d,c+1),h>0&&(c=d-1)}return s}var u=n(575),l=n(568);e.exports=s},function(e,t,n){"use strict";function r(e,t){if(e.length<2)return e;for(var n=o(e),r=i(e),a=[n],s=(r-n)/t,u=1;u<t;u++)a.push(a[0]+s*u);return a.push(r),a}var i=n(571),o=n(570);e.exports=r},function(e,t,n){"use strict";function r(e,t){return i(e,t)/o(e)/o(t)}var i=n(576),o=n(577);e.exports=r},function(e,t,n){"use strict";function r(e){if(e.length<3)throw new Error("sampleSkewness requires at least three data points");for(var t,n=i(e),r=0,o=0,a=0;a<e.length;a++)t=e[a]-n,r+=t*t,o+=t*t*t;var s=e.length-1,u=Math.sqrt(r/s),l=e.length;return l*o/((l-1)*(l-2)*Math.pow(u,3))}var i=n(123);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.length;if(t<4)throw new Error("sampleKurtosis requires at least four data points");for(var n,r=i(e),o=0,a=0,s=0;s<t;s++)n=e[s]-r,o+=n*n,a+=n*n*n*n;return(t-1)/((t-2)*(t-3))*(t*(t+1)*a/(o*o)-3*(t-1))}var i=n(123);e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=new Array(e.length),n=[e.slice()],r=0;r<e.length;r++)t[r]=0;for(r=0;r<e.length;)if(t[r]<r){var i=0;r%2!=0&&(i=t[r]);var o=e[i];e[i]=e[r],e[r]=o,n.push(e.slice()),t[r]++,r=0}else t[r]=0,r++;return n}e.exports=r},function(e,t,n){"use strict";function r(e,t){var n,i,o,a,s=[];for(n=0;n<e.length;n++)if(1===t)s.push([e[n]]);else for(o=r(e.slice(n+1,e.length),t-1),i=0;i<o.length;i++)a=o[i],a.unshift(e[n]),s.push(a);return s}e.exports=r},function(e,t,n){"use strict";function r(e,t){for(var n=[],i=0;i<e.length;i++)if(1===t)n.push([e[i]]);else for(var o=r(e.slice(i,e.length),t-1),a=0;a<o.length;a++)n.push([e[i]].concat(o[a]));return n}e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return e+(n-e)/(t+1)}e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o,a){var s=i(t,n,o,a);return(n*(e+Math.pow(t-s,2))+a*(r+Math.pow(o-s,2)))/(n+a)}var i=n(578);e.exports=r},function(e,t,n){"use strict";function r(e){if(0===e.length)throw new Error("geometricMean requires at least one data point");for(var t=1,n=0;n<e.length;n++){if(e[n]<=0)throw new Error("geometricMean requires only positive numbers as input");t*=e[n]}return Math.pow(t,1/e.length)}e.exports=r},function(e,t,n){"use strict";function r(e){if(0===e.length)throw new Error("harmonicMean requires at least one data point");for(var t=0,n=0;n<e.length;n++){if(e[n]<=0)throw new Error("harmonicMean requires only positive numbers as input");t+=1/e[n]}return e.length/t}e.exports=r},function(e,t,n){"use strict";function r(e){return i(e,.5)}var i=n(350);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return(e*t-n)/(t-1)}e.exports=r},function(e,t,n){"use strict";function r(e){if(0===e.length)throw new Error("rootMeanSquare requires at least one data point");for(var t=0,n=0;n<e.length;n++)t+=Math.pow(e[n],2);return Math.sqrt(t/e.length)}e.exports=r},function(e,t,n){"use strict";function r(e,t){return(o(e)-t)/(i(e)/Math.sqrt(e.length))}var i=n(565),o=n(123);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=e.length,a=t.length;if(!r||!a)return null;n||(n=0);var s=i(e),u=i(t),l=o(e),c=o(t);if("number"==typeof s&&"number"==typeof u&&"number"==typeof l&&"number"==typeof c){var h=((r-1)*l+(a-1)*c)/(r+a-2);return(s-u-n)/Math.sqrt(h*(1/r+1/a))}}var i=n(123),o=n(351);e.exports=r},function(e,t,n){"use strict";function r(){this.totalCount=0,this.data={}}r.prototype.train=function(e,t){this.data[t]||(this.data[t]={});for(var n in e){var r=e[n];void 0===this.data[t][n]&&(this.data[t][n]={}),void 0===this.data[t][n][r]&&(this.data[t][n][r]=0),this.data[t][n][r]++}this.totalCount++},r.prototype.score=function(e){var t,n={};for(var r in e){var i=e[r];for(t in this.data)n[t]={},this.data[t][r]?n[t][r+"_"+i]=(this.data[t][r][i]||0)/this.totalCount:n[t][r+"_"+i]=0}var o={};for(t in n){o[t]=0;for(var a in n[t])o[t]+=n[t][a]}return o},e.exports=r},function(e,t,n){"use strict";function r(){this.weights=[],this.bias=0}r.prototype.predict=function(e){if(e.length!==this.weights.length)return null;for(var t=0,n=0;n<this.weights.length;n++)t+=this.weights[n]*e[n];return t+=this.bias,t>0?1:0},r.prototype.train=function(e,t){if(0!==t&&1!==t)return null;e.length!==this.weights.length&&(this.weights=e,this.bias=1);var n=this.predict(e);if(n!==t){for(var r=t-n,i=0;i<this.weights.length;i++)this.weights[i]+=r*e[i];this.bias+=r}return this},e.exports=r},function(e,t,n){"use strict";function r(e){if(e<0)throw new Error("factorial requires a non-negative value");if(Math.floor(e)!==e)throw new Error("factorial requires an integer input");for(var t=1,n=2;n<=e;n++)t*=n;return t}e.exports=r},function(e,t,n){"use strict";function r(e){if(e<0||e>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-e,e]}e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(t<0||t>1||e<=0||e%1!=0)){var n=0,r=0,o=[],a=1;do{o[n]=a*Math.pow(t,n)*Math.pow(1-t,e-n),r+=o[n],n++,a=a*(e-n+1)/n}while(r<1-i);return o}}var i=n(256);e.exports=r},function(e,t,n){"use strict";function r(e){if(!(e<=0)){var t=0,n=0,r=[],o=1;do{r[t]=Math.exp(-e)*Math.pow(e,t)/o,n+=r[t],t++,o*=t}while(n<1-i);return r}}var i=n(256);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){for(var r,a,s=i(e),u=0,l=t(s),c=[],h=[],d=0;d<e.length;d++)void 0===c[e[d]]&&(c[e[d]]=0),c[e[d]]++;for(d=0;d<c.length;d++)void 0===c[d]&&(c[d]=0);for(a in l)a in c&&(h[+a]=l[a]*e.length);for(a=h.length-1;a>=0;a--)h[a]<3&&(h[a-1]+=h[a],h.pop(),c[a-1]+=c[a],c.pop());for(a=0;a<c.length;a++)u+=Math.pow(c[a]-h[a],2)/h[a];return r=c.length-1-1,o[r][n]<u}var i=n(123),o=n(1224);e.exports=r},function(e,t,n){"use strict";var r={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return(e-t)/n}e.exports=r},function(e,t,n){"use strict";function r(e){var t=Math.abs(e),n=Math.min(Math.round(100*t),i.length-1);return e>=0?i[n]:+(1-i[n]).toFixed(4)}var i=n(579);e.exports=r},function(e,t,n){"use strict";function r(e){var t=1/(1+.5*Math.abs(e)),n=t*Math.exp(-Math.pow(e,2)-1.26551223+1.00002368*t+.37409196*Math.pow(t,2)+.09678418*Math.pow(t,3)-.18628806*Math.pow(t,4)+.27886807*Math.pow(t,5)-1.13520398*Math.pow(t,6)+1.48851587*Math.pow(t,7)-.82215223*Math.pow(t,8)+.17087277*Math.pow(t,9));return e>=0?1-n:n-1}e.exports=r},function(e,t,n){"use strict";function r(e){return 0===e?e=i:e>=1&&(e=1-i),Math.sqrt(2)*o(2*e-1)}var i=n(256),o=n(580);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o){if("function"!=typeof e)throw new TypeError("func must be a function");for(var a=0;a<r;a++){var s=(t+n)/2;if(0===e(s)||Math.abs((n-t)/2)<o)return s;i(e(s))===i(e(t))?t=s:n=s}throw new Error("maximum number of iterations exceeded")}var i=n(1230);e.exports=r},function(e,t,n){"use strict";function r(e){if("number"==typeof e)return e<0?-1:0===e?0:1;throw new TypeError("not a number")}e.exports=r},function(e,t,n){"use strict";RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")};var r={};!function(e){e.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(e,t){var n=/\./;if(isNaN(e))return e;if(n.test(e))return parseFloat(e);var r=parseInt(e);return isNaN(r)?null:r}},parsers:{parse:function(e,t){function n(){if(u=0,l="",t.start&&t.state.rowNum<t.start)return s=[],t.state.rowNum++,void(t.state.colNum=1);if(void 0===t.onParseEntry)a.push(s);else{var e=t.onParseEntry(s,t.state);!1!==e&&a.push(e)}s=[],t.end&&t.state.rowNum>=t.end&&(c=!0),t.state.rowNum++,t.state.colNum=1}function r(){if(void 0===t.onParseValue)s.push(l);else{var e=t.onParseValue(l,t.state);!1!==e&&s.push(e)}l="",u=0,t.state.colNum++}var i=t.separator,o=t.delimiter;t.state.rowNum||(t.state.rowNum=1),t.state.colNum||(t.state.colNum=1);var a=[],s=[],u=0,l="",c=!1,h=RegExp.escape(i),d=RegExp.escape(o),f=/(D|S|\n|\r|[^DS\r\n]+)/,p=f.source;return p=p.replace(/S/g,h),p=p.replace(/D/g,d),f=RegExp(p,"gm"),e.replace(f,function(e){if(!c)switch(u){case 0:if(e===i){l+="",r();break}if(e===o){u=1;break}if("\n"===e){r(),n();break}if(/^\r$/.test(e))break;l+=e,u=3;break;case 1:if(e===o){u=2;break}l+=e,u=1;break;case 2:if(e===o){l+=e,u=1;break}if(e===i){r();break}if("\n"===e){r(),n();break}if(/^\r$/.test(e))break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===i){r();break}if("\n"===e){r(),n();break}if(/^\r$/.test(e))break;if(e===o)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}}),0!==s.length&&(r(),n()),a},splitLines:function(e,t){function n(){if(a=0,t.start&&t.state.rowNum<t.start)return s="",void t.state.rowNum++;if(void 0===t.onParseEntry)o.push(s);else{var e=t.onParseEntry(s,t.state);!1!==e&&o.push(e)}s="",t.end&&t.state.rowNum>=t.end&&(u=!0),t.state.rowNum++}var r=t.separator,i=t.delimiter;t.state.rowNum||(t.state.rowNum=1);var o=[],a=0,s="",u=!1,l=RegExp.escape(r),c=RegExp.escape(i),h=/(D|S|\n|\r|[^DS\r\n]+)/,d=h.source;return d=d.replace(/S/g,l),d=d.replace(/D/g,c),h=RegExp(d,"gm"),e.replace(h,function(e){if(!u)switch(a){case 0:if(e===r){s+=e,a=0;break}if(e===i){s+=e,a=1;break}if("\n"===e){n();break}if(/^\r$/.test(e))break;s+=e,a=3;break;case 1:if(e===i){s+=e,a=2;break}s+=e,a=1;break;case 2:var o=s.substr(s.length-1);if(e===i&&o===i){s+=e,a=1;break}if(e===r){s+=e,a=0;break}if("\n"===e){n();break}if("\r"===e)break;throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");case 3:if(e===r){s+=e,a=0;break}if("\n"===e){n();break}if("\r"===e)break;if(e===i)throw new Error("CSVDataError: Illegal quote [Row:"+t.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+t.state.rowNum+"]")}}),""!==s&&n(),o},parseEntry:function(e,t){function n(){if(void 0===t.onParseValue)o.push(s);else{var e=t.onParseValue(s,t.state);!1!==e&&o.push(e)}s="",a=0,t.state.colNum++}var r=t.separator,i=t.delimiter;t.state.rowNum||(t.state.rowNum=1),t.state.colNum||(t.state.colNum=1);var o=[],a=0,s="";if(!t.match){var u=RegExp.escape(r),l=RegExp.escape(i),c=/(D|S|\n|\r|[^DS\r\n]+)/,h=c.source;h=h.replace(/S/g,u),h=h.replace(/D/g,l),t.match=RegExp(h,"gm")}return e.replace(t.match,function(e){switch(a){case 0:if(e===r){s+="",n();break}if(e===i){a=1;break}if("\n"===e||"\r"===e)break;s+=e,a=3;break;case 1:if(e===i){a=2;break}s+=e,a=1;break;case 2:if(e===i){s+=e,a=1;break}if(e===r){n();break}if("\n"===e||"\r"===e)break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(e===r){n();break}if("\n"===e||"\r"===e)break;if(e===i)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]")}}),n(),o}},toArray:function(t,n,r){var n=void 0!==n?n:{},i={};i.callback=void 0!==r&&"function"==typeof r&&r,i.separator="separator"in n?n.separator:e.csv.defaults.separator,i.delimiter="delimiter"in n?n.delimiter:e.csv.defaults.delimiter;var o=void 0!==n.state?n.state:{},n={delimiter:i.delimiter,separator:i.separator,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,state:o},a=e.csv.parsers.parseEntry(t,n);if(!i.callback)return a;i.callback("",a)},toArrays:function(t,n,r){var n=void 0!==n?n:{},i={};i.callback=void 0!==r&&"function"==typeof r&&r,i.separator="separator"in n?n.separator:e.csv.defaults.separator,i.delimiter="delimiter"in n?n.delimiter:e.csv.defaults.delimiter;var o=[],n={delimiter:i.delimiter,separator:i.separator,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,start:n.start,end:n.end,state:{rowNum:1,colNum:1}};if(o=e.csv.parsers.parse(t,n),!i.callback)return o;i.callback("",o)},toObjects:function(t,n,r){var n=void 0!==n?n:{},i={};i.callback=void 0!==r&&"function"==typeof r&&r,i.separator="separator"in n?n.separator:e.csv.defaults.separator,i.delimiter="delimiter"in n?n.delimiter:e.csv.defaults.delimiter,i.headers="headers"in n?n.headers:e.csv.defaults.headers,n.start="start"in n?n.start:1,i.headers&&n.start++,n.end&&i.headers&&n.end++;var o=[],a=[],n={delimiter:i.delimiter,separator:i.separator,onParseEntry:n.onParseEntry,onParseValue:n.onParseValue,start:n.start,end:n.end,state:{rowNum:1,colNum:1},match:!1},s={delimiter:i.delimiter,separator:i.separator,start:1,end:1,state:{rowNum:1,colNum:1}},u=e.csv.parsers.splitLines(t,s),l=e.csv.toArray(u[0],n),o=e.csv.parsers.splitLines(t,n);n.state.colNum=1,n.state.rowNum=l?2:1;for(var c=0,h=o.length;c<h;c++){var d=e.csv.toArray(o[c],n),f={};for(var p in l)f[l[p]]=d[p];a.push(f),n.state.rowNum++}if(!i.callback)return a;i.callback("",a)},fromArrays:function(t,n,r){var n=void 0!==n?n:{},o={};if(o.callback=void 0!==r&&"function"==typeof r&&r,o.separator="separator"in n?n.separator:e.csv.defaults.separator,o.delimiter="delimiter"in n?n.delimiter:e.csv.defaults.delimiter,o.escaper="escaper"in n?n.escaper:e.csv.defaults.escaper,o.experimental="experimental"in n&&n.experimental,!o.experimental)throw new Error("not implemented");var a=[];for(i in t)a.push(t[i]);if(!o.callback)return a;o.callback("",a)},fromObjects2CSV:function(t,n,r){var n=void 0!==n?n:{},o={};if(o.callback=void 0!==r&&"function"==typeof r&&r,o.separator="separator"in n?n.separator:e.csv.defaults.separator,o.delimiter="delimiter"in n?n.delimiter:e.csv.defaults.delimiter,o.experimental="experimental"in n&&n.experimental,!o.experimental)throw new Error("not implemented");var a=[];for(i in t)a.push(arrays[i]);if(!o.callback)return a;o.callback("",a)}},e.csvEntry2Array=e.csv.toArray,e.csv2Array=e.csv.toArrays,e.csv2Dictionary=e.csv.toObjects}(r),e.exports=r.csv},function(e,t,n){"use strict";function r(e,t){t.west=s.toDegrees(t.west),t.south=s.toDegrees(t.south),t.east=s.toDegrees(t.east),t.north=s.toDegrees(t.north);var n={service:"WCS",request:"GetCoverage",version:"1.0.0",format:"GeoTIFF",crs:"EPSG:4326",width:1024,height:Math.round(1024*t.height/t.width),coverage:e.linkedWcsCoverage,bbox:t.west+","+t.south+","+t.east+","+t.north};u(e.discreteTime)&&(n.time=e.discreteTime.toISOString());var r=new i(e.linkedWcsUrl).query(n),a=f(e,r.toString(),"1d"),c=new Date,d=h("%04d-%02d-%02dT%02d:%02d:%02d",c.getFullYear(),c.getMonth()+1,c.getDate(),c.getHours(),c.getMinutes(),c.getSeconds()),g=new p(e.terria);g.name=e.name+" "+d,g.description="This is the result of exporting data from "+e.name+" service at "+d+" with the input parameters below.";var _=[{name:"Bounding box",value:n.bbox},{name:"Format",value:n.format}],v='<table class="cesium-infoBox-defaultTable">'+_.reduce(function(e,t){return e+'<tr><td style="vertical-align: middle">'+t.name+"</td><td>"+t.value+"</td></tr>"},"")+"</table>";g.info.push({name:"Inputs",content:v});var A=l(a).then(function(t){if(-1!==t.type.indexOf("xml"))return e.terria.error.raiseEvent(new m({sender:e,title:"Data export failed",message:"The Web Coverage Service failed"})),void(g.isEnabled=!1);o.saveAs(t,e.name+" clip.tiff"),g.isEnabled=!1}).otherwise(function(t){e.terria.error.raiseEvent(new m({sender:e,title:"Data export failed",message:"The Web Coverage Service failed: "+t})),g.isEnabled=!1});g.loadPromise=A,g.isEnabled=!0}var i=n(33),o=n(1233),a=n(13),s=n(9),u=n(0),l=n(534),c=n(16),h=n(232),d=n(204),f=n(32),p=n(173),m=n(22),g=function(e){var t=e.terria;t.pickedFeatures=void 0;var n=new d({message:"Press the SHIFT key and hold down the left mouse button to draw a rectangle to download",drawRectangle:!0,onCancel:function(){t.mapInteractionModeStack.pop(),t.selectBox=!1,i.dispose()}});t.selectBox=!0,t.mapInteractionModeStack.push(n);var i=a.getObservable(n,"pickedFeatures").subscribe(function(n){n instanceof c&&(t.mapInteractionModeStack.pop(),t.selectBox=!1,r(e,n),i.dispose())})};e.exports=g},function(e,t,n){var r,i=i||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,4e4)},c=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(e){u(e)}}},h=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},d=function(t,u,d){d||(t=h(t));var f,p=this,m=t.type,g="application/octet-stream"===m,_=function(){c(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,i)return f=n().createObjectURL(t),void setTimeout(function(){r.href=f,r.download=u,o(r),_(),l(f),p.readyState=p.DONE});!function(){if((s||g&&a)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,_()},r.readAsDataURL(t),void(p.readyState=p.INIT)}if(f||(f=n().createObjectURL(t)),g)e.location.href=f;else{e.open(f,"_blank")||(e.location.href=f)}p.readyState=p.DONE,_(),l(f)}()},f=d.prototype,p=function(e,t,n){return new d(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=h(e)),navigator.msSaveOrOpenBlob(e,t)}:(f.abort=function(){},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,p)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports?e.exports.saveAs=i:null!==n(462)&&null!==n(141)&&void 0!==(r=function(){return i}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){var t=e._tableStructure.activeItems[0],n=v(e._regionDetails)?e._regionDetails[0].regionProvider:void 0;e._legendHelper=new k(t,e.tableStyle,n,e.name),e._legendUrl=e._legendHelper.legendUrl()}function o(e){i(e),h(e),e._changed.raiseEvent(e)}function a(e){var t=new L;if(v(e)&&v(e.start)){var n=e.start,r=e.stop;t.intervals.addInterval(new P({start:T.MINIMUM_VALUE,stop:T.MAXIMUM_VALUE,data:!1})),t.intervals.addInterval(new P({start:n,stop:r,data:!0}))}else t.intervals.addInterval(new P({start:T.MINIMUM_VALUE,stop:T.MAXIMUM_VALUE,data:!0}));return t}function s(e,t,n,r,i,o){v(t)&&v(t.imageUrl)&&""!==t.imageUrl?e.billboard={horizontalOrigin:S.CENTER,verticalOrigin:N.BOTTOM,image:t.imageUrl,scale:n,color:i,show:o}:e.point={outlineColor:new g(0,0,0,1),outlineWidth:1,pixelSize:r,color:i,show:o}}function u(e,t){return v(e.latitude.values[t])&&v(e.longitude.values[t])?p.fromDegrees(e.longitude.values[t],e.latitude.values[t],v(e.height)&&!isNaN(e.height)?e.height.values[t]:void 0):void console.log("Missing lat/lon on row "+t)}function l(e,t,n){var r=e._legendHelper,i=r.tableColumnStyle,o=d(t.getColumnNames()),l=e._entityCollection;if(l.values.length>e._rowObjects.length)for(var c=e._rowObjects.length;c<l.values.length;c++)l.removeById(e._guid+"-"+c);var h,p=!1;for(c=0;c<e._rowObjects.length;c++)if(v(n.latitude.values[c])&&v(n.longitude.values[c]))if(isNaN(n.latitude.values[c])||isNaN(n.longitude.values[c]))p||(e._terria.error.raiseEvent(new z({sender:e,title:"Invalid characters in latitude and longitude columns",message:"Could not interpret latitude and longitude pair "+n.longitude.values[c]+","+n.latitude.values[c]})),p=!0);else{var m=e._rowObjects[c].string,g=l.getById(e._guid+"-"+c);h=!v(g),h&&(g=new R({id:e._guid+"-"+c})),g.name=m.title||m[o]||H,g.position=u(n,c),e._isUpdating?(g.description=new f(function(t){return function(){return e._rowDescriptions[t]}}(c),!1),g.properties=new f(function(n){return function(){var r=e._rowObjects[n].string;return r._terria_columnAliases=t.getColumnAliases(),r._terria_numericalProperties=e._rowObjects[n].number,r}}(c),!1)):(g.description=e._rowDescriptions[c],m._terria_columnAliases=t.getColumnAliases(),m._terria_numericalProperties=e._rowObjects[c].number,g.properties=m);var _=v(n.value)?n.value.values[c]:void 0,A=r.getColorFromValue(_),y=r.getScaleFromValue(_);n.time&&n.time.timeIntervals&&n.time.timeIntervals[c]&&(g.availability=new D([n.time.timeIntervals[c]]));var b=a(g.availability);s(g,i,y,8*y,A,b),h&&e._entityCollection.add(g)}}function c(e,t,n){var r=e._legendHelper,i=r.tableColumnStyle,o=d(t.getColumnNames(),t.idColumnNames),l=t.getIdMapping(),c=t.getColumnAliases(),h=t.isSampled,f=h&&v(n.value)&&!n.value.isEnum;e._hasFeaturePerRow&&e._entityCollection.removeAll();for(var p in l)if(l.hasOwnProperty(p)){var m=e._rowObjects[l[p][0]].string,_=e._guid+"-"+p,A=e._entityCollection.getById(_),y=v(A);y||(A=new R({id:_,name:m.title||m[o]||H}));var b,w=new D;b=h?new M:new B;var x,E,C;f?(x=new O(g),E=new O(Number),C=new O(Number)):(x=new L,E=new L,C=new L);for(var S=new L,T=new L,I=l[p],P=function(e,t){return function(){return e.getChartDetailsForRowNumbers(t)}}(t,I),N=0;N<I.length;N++){var k=I[N],F=u(n,k),U=n.time.timeIntervals[k];w.addInterval(U);var z=U.clone();z.data=e._rowObjects[k].string,z.data._terria_columnAliases=c,z.data._terria_numericalProperties=e._rowObjects[k].number,v(I)&&(z.data._terria_getChartDetails=P),S.intervals.addInterval(z);var j=U.clone();if(j.data=e._rowDescriptions[k],T.intervals.addInterval(j),h)v(F)&&b.addSample(n.time.julianDates[k],F);else{var V=U.clone();V.data=F,b.intervals.addInterval(V)}var Q=v(n.value)?n.value.values[k]:void 0;if(f){var G=n.time.julianDates[k];x.addSample(G,r.getColorFromValue(Q)),E.addSample(G,r.getScaleFromValue(Q)),C.addSample(G,8*r.getScaleFromValue(Q))}else{var W=U.clone(),q=U.clone(),Y=U.clone();W.data=r.getColorFromValue(Q),q.data=r.getScaleFromValue(Q),Y.data=8*r.getScaleFromValue(Q),x.intervals.addInterval(W),E.intervals.addInterval(q),C.intervals.addInterval(Y)}}var K=a(w);A.availability=w,A.position=b,A.properties=S,A.description=T,s(A,i,E,C,x,K),y||e._entityCollection.add(A)}}function h(e){var t=e._tableStructure,n=e._legendHelper,i=n.tableStyle,o={longitude:t.columnsByType[j.LON][0],latitude:t.columnsByType[j.LAT][0],height:t.columnsByType[j.ALT][0],time:t.activeTimeColumn,value:n.tableColumn};if(v(o.longitude)&&v(o.latitude)){var a=t.toStringAndNumberRowObjects(),s=t.toRowDescriptions(i&&i.featureInfoFields);e._rowObjects=a,e._rowDescriptions=s;var u=e._entityCollection;u.suspendEvents(),v(o.time)&&v(t.idColumnNames)&&t.idColumnNames.length>0?(c(e,t,o),e._hasFeaturePerRow=!1):(l(e,t,o),e._hasFeaturePerRow=!0),u.resumeEvents(),e._extent=I.fromCartographicArray(o.longitude.values.map(function(e,t){return[e,o.latitude.values[t]]}).filter(function(e){return e.every(function(e){return!isNaN(e)})}).map(function(e){return m.fromDegrees.apply(m,r(e))}))}}function d(e,t){for(var n,r=Number.MAX_VALUE,i=0;i<e.length;i++){var o=e[i],a=o.toLowerCase();if(r>1&&"title"===a){r=1,n=o;break}r>2&&"name"===a?(r=2,n=o):r>3&&/title/i.test(o)?(r=3,n=o):r>4&&/name/i.test(o)&&(r=4,n=o)}return n||t&&t[0]}var f=n(219),p=n(10),m=n(24),g=n(25),_=n(101),v=n(0),A=n(2),y=n(21),b=n(3),w=n(431),x=n(430),E=n(15),C=n(13),S=n(158),T=n(215),I=n(16),M=n(759),O=n(449),P=n(78),D=n(131),B=n(767),L=n(768),N=n(132),R=n(224),k=n(563),F=n(124),U=n(203),z=n(22),j=n(85),H="Site Data",V=function(e,t,n,r,i){if(this._guid=_(),this._name=r,this._isUpdating=i||!1,this._hasFeaturePerRow=void 0,this._changed=new E,this._error=new E,this._loading=new E,this._entityCollection=new w(this),this._entityCluster=new x,this._terria=e,this._tableStructure=v(t)?t:new F,v(n)&&!(n instanceof U))throw new b("Please pass a TableStyle object.");this.tableStyle=n,this._legendHelper=void 0,this._legendUrl=void 0,this._extent=void 0,this._rowObjects=void 0,this._rowDescriptions=void 0,this.loadingData=!1,C.track(this,["_tableStructure","_legendUrl","_extent"]),C.getObservable(this._tableStructure,"activeItems").subscribe(o.bind(null,this),this)};A(V.prototype,{name:{get:function(){return this._name}},clock:{get:function(){if(v(this._tableStructure))return this._tableStructure.clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this.loadingData}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},tableStructure:{get:function(){return this._tableStructure}},extent:{get:function(){return this._extent}},legendUrl:{get:function(){return this._legendUrl}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!v(e))throw new b("value must be defined.");this._entityCluster=e}}}),V.prototype.loadFromCsv=function(e){this._tableStructure.loadFromCsv(e)},V.prototype.destroy=function(){return y(this)},e.exports=V},function(e,t,n){"use strict";var r=n(0),i=function(e,t){var n=e._load;e._load=function(){var e=n.call(this);return r(e)?e.then(t.bind(this)):t.call(this)}};e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r){this.regionCodes=e,this.columnHeadings=t,this.table=n,this.singleSelectValues=r}e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(51),o=function(e,t,n){return t.getRegionFeature(e.terria,n).then(function(t){if(r(t)&&"Feature"===t.type){var n=new i(e.terria);return n.data=t,n.load().then(function(){e.rectangle=n.rectangle})}}).otherwise(function(){})};e.exports=o},function(e,t,n){"use strict";var r=n(590),i=n(194),o=n(138),a=n(2),s=n(14),u=n(354),l=n(355),c=n(205),h=n(26),d=function(e){i.call(this,e),this.url=void 0,this.name="Spatial Detailing",this.description="Predicts the characteristics of fine-grained regions by learning and exploiting correlations of coarse-grained data with Census characteristics.",this._regionTypeToPredictParameter=new c({terria:this.terria,catalogFunction:this,id:"regionTypeToPredict",name:"Region Type to Predict",description:"The type of region for which to predict characteristics."}),this._coarseDataRegionTypeParameter=new c({terria:this.terria,catalogFunction:this,id:"coarseDataRegionType",name:"Coarse Data Region Type",description:"The type of region with which the coarse-grained input characteristics are associated."}),this._isMeanAggregationParameter=new r({terria:this.terria,catalogFunction:this,id:"isMeanAggregation",name:"Aggregation",description:"Specifies how coarse region values were aggregated.  True if the value is the mean of the values across the region, or False if the value is the sum of the values across the region.",trueName:"Mean Aggregation",trueDescription:"Coarse region values are the mean of samples in the region.  For example, average household income.",falseName:"Sum Aggregation",falseDescription:"Coarse region values are the sum of samples in the region.  For example, total population.",defaultValue:!0}),this._dataParameter=new l({terria:this.terria,catalogFunction:this,id:"data",name:"Characteristic to Predict",description:"The characteristic to predict for each region.",regionProvider:this._coarseDataRegionTypeParameter,singleSelect:!0}),this._parameters=[this._coarseDataRegionTypeParameter,this._regionTypeToPredictParameter,this._isMeanAggregationParameter,this._dataParameter]};s(i,d),a(d.prototype,{type:{get:function(){return"spatial-detailing-function"}},typeName:{get:function(){return"Spatial Detailing"}},parameters:{get:function(){return this._parameters}}}),d.prototype._load=function(){},d.prototype.invoke=function(){var e,t=this._dataParameter.getRegionDataValue(),n={algorithm:"spatialdetailing",boundaries_name:this._coarseDataRegionTypeParameter.value.regionType.replace(/_2011$/,""),region_codes:t.regionCodes,columns:t.columnHeadings[0],table:t.singleSelectValues,parameters:{disagg_boundaries_name:this._regionTypeToPredictParameter.value.regionType.replace(/_2011$/,""),mean_agg:this._isMeanAggregationParameter.value}},r=this._dataParameter.value;for(var i in r)if(r.hasOwnProperty(i)&&r[i]){e=i;break}var a="Spatial detailing of "+t.columnHeadings[0]+" at "+this._regionTypeToPredictParameter.value.regionType,s=this;return u(this.terria,a,this.url,n).then(function(n){var r=n.result,i=s._regionTypeToPredictParameter.value.aliases[0]+",Predicted "+e+" (Quality: "+r.Quality+"),Lower bound of 95% confidence interval,Upper bound of 95% confidence interval\n",u=r.disagg_mean,l=r.disagg_regions,c=r.disagg_95conf_upper,d=r.disagg_95conf_lower;if(u.length!==l.length)throw new h("The list of values and the list of region codes do not contain the same number of elements.");for(var f=0;f<l.length;++f)i+=l[f]+","+u[f]+","+d[f]+","+c[f]+"\n";var p=new o(s.terria);p.name=a,p.data=i,p.dataUrl=n.url;var m='This is the result of invoking "'+s.name+'" at '+n.startDate+" with these parameters:\n\n";return m+=" * Region type to predict: "+s._regionTypeToPredictParameter.value.regionType+"\n",m+=" * Coarse data region type: "+s._coarseDataRegionTypeParameter.value.regionType+"\n",s._isMeanAggregationParameter.value?m+=" * Treat values as a mean aggregation.\n":m+=" * Treat values as a sum aggregation.\n",m+=" * Predicted characteristic: "+t.columnHeadings[0]+"\n",p.description=m,p.loadAndEnable()})},e.exports=d},function(e,t,n){"use strict";var r=n(194),i=n(0),o=n(2),a=n(51),s=n(14),u=n(354),l=n(22),c=n(355),h=n(589),d=n(205),f=n(7),p=function(e){r.call(this,e),this.url=void 0,this.name="What makes this region unique or special?",this.description="Determines the characteristics by which a particular region is _most different_ from all other regions.",this._regionTypeParameter=new d({terria:this.terria,catalogFunction:this,id:"regionType",name:"Region Type",description:"The type of region to analyze."}),this._regionParameter=new h({terria:this.terria,catalogFunction:this,id:"region",name:"Region",description:"The region to analyze.  The analysis will determine the characteristics by which this region is most different from all others.",regionProvider:this._regionTypeParameter}),this._dataParameter=new c({terria:this.terria,catalogFunction:this,id:"data",name:"Characteristics",description:"The region characteristics to include in the analysis.",regionProvider:this._regionTypeParameter}),this._parameters=[this._regionTypeParameter,this._regionParameter,this._dataParameter]};s(r,p),o(p.prototype,{type:{get:function(){return"why-am-i-special-function"}},typeName:{get:function(){return"Why Am I Special?"}},parameters:{get:function(){return this._parameters}}}),p.prototype._load=function(){},p.prototype.invoke=function(){var e=this._regionParameter.value,t=this._dataParameter.getRegionDataValue();if(!i(e))throw new l({title:"Region not selected",message:"You must select a Region."});var n=this._regionTypeParameter.value,r={algorithm:"whyamispecial",boundaries_name:n.regionType,region_codes:t.regionCodes,columns:t.columnHeadings,table:t.table,parameters:{query:e.id}},o=n.regions.indexOf(e),s=e.id;o>=0&&(s=n.regionNames[o]||s);var c="Why is "+s+" special?",h=n.getRegionFeature(this.terria,e),d=u(this.terria,c,this.url,r),p=this;return f.all([h,d]).then(function(r){var o=r[0],u=r[1],l=u.result,h=new a(p.terria);h.name=c,h.data=o,h.dataUrl=u.url;var d='This is the result of invoking "'+p.name+'" at '+u.startDate+" with these parameters:\n\n";d+=" * "+n.regionType+" Region: "+s+" ("+e.id+")\n",d+=" * Characteristics: "+t.columnHeadings.join(", ")+"\n",h.description=d;for(var f="<p>These are the top characteristics that make "+s+" unique or special:</p>",m=0;m<5&&m<l.columns.length;++m){for(var g=t.columnHeadings[l.columns[m]],_=l.histograms[m],v=_.bin_counts,A=_.bin_edges,y=[["Value","Count"]],b=0;b<v.length;++b){var w=A[b],x=A[b+1];i(x)||(x=w+(A[1]-A[0]));var E=.5*(w+x);y.push([E,v[b]])}var C=l.percentiles[m],S="lower";C>50&&(C=100-C,S="higher"),f+='<collapsible title="'+g+'" open="'+(0===m?"true":"false")+'">\n',f+='<p style="font-size: 0.8em">The value of '+g+" in "+s+" is "+l.values[m]+".</p>\n",f+='<p style="font-size: 0.8em">Only '+C.toFixed(1)+"% of regions have an equal or "+S+" value.</p>\n",f+='<chart title="Distribution of '+g+" across "+n.regionType+' regions" id="'+g+"\" data='"+JSON.stringify(y)+'\' column-names="," y-column="1" styling="histogram" highlight-x="'+l.values[m]+'" hide-buttons="true"></chart>\n',f+="</collapsible>\n"}h.shortReport=f,h.isEnabled=!0})},e.exports=p},function(e,t,n){"use strict";function r(e){var t=new RegExp("\\."+e+"$","i");return function(e){return e.match(t)}}function i(e){return/./.test.bind(e)}var o=n(1241),a=n(591),s=n(1245),u=n(594),l=n(263),c=n(595),h=n(206),d=n(173),f=n(598),p=n(55),m=n(1248),g=n(1306),_=n(1311),v=n(622),A=n(497),y=n(623),b=n(96),w=n(138),x=n(1314),E=n(369),C=n(51),S=n(1320),T=n(634),I=n(268),M=n(637),O=n(371),P=n(1329),D=n(1331),B=n(1333),L=n(1334),N=n(1336),R=n(370),k=n(270),F=n(269),U=n(107),z=n(1337),j=n(639),H=n(624),V=n(633),Q=n(625),G=n(1338),W=n(1339),q=function(){b.register("3d-tiles",m),b.register("abs-itt",a),b.register("abs-itt-dataset-list",o),b.register("result-pending",d),b.register("bing-maps",f),b.register("ckan",_),b.register("ckan-resource",v),b.register("composite",A),b.register("csv",w),b.register("csw",x),b.register("cesium-terrain",g),b.register("czml",E),b.register("esri-group",s),b.register("esri-featureServer",l),b.register("esri-featureServer-group",u),b.register("esri-mapServer",h),b.register("esri-mapServer-group",c),b.register("geojson",C),b.register("gpx",S),b.register("group",p),b.register("ion-imagery",T),b.register("kml",I),b.register("kmz",I),b.register("ogr",M),b.register("open-street-map",O),b.register("sdmx-json",P),b.register("socrata",B),b.register("sos",D),b.register("terria-json",L),b.register("url-template",N),b.register("wfs",k),b.register("wfs-features-group",G),b.register("wfs-getCapabilities",R),b.register("wms",U),b.register("wms-getCapabilities",F),b.register("wmts",j),b.register("wmts-getCapabilities",z),b.register("wps-getCapabilities",H),b.register("wps-result",V),b.register("wps",Q),b.register("magda-item",W),y.register(r("csv"),w),y.register(r("czm"),E),y.register(r("czml"),E),y.register(r("geojson"),C),y.register(r("gpx"),S),y.register(r("json"),C),y.register(r("kml"),I),y.register(r("kmz"),I),y.register(r("topojson"),C),y.register(i(/\/WMTS\b/i),z,!0),y.register(i(/\/wfs/i),R,!0),y.register(i(/\/wms/i),F,!0),y.register(i(/\/arcgis\/rest\/.*\/MapServer\/\d+\b/i),h,!0),y.register(i(/\/arcgis\/rest\/.*\/FeatureServer\/\d+\b/i),l,!0),y.register(i(/\/arcgis\/rest\/.*\/MapServer(\/.*)?$/i),c,!0),y.register(i(/\/arcgis\/rest\/.*\/FeatureServer(\/.*)?$/i),u,!0),y.register(i(/\/arcgis\/rest\/.*\/\d+\b/i),h,!0),y.register(i(/\/ArcGis\/rest\//i),s,!0),y.register(i(/\/sdmx-json\//i),P,!0),y.register(void 0,F,!0),y.register(void 0,R,!0),y.register(void 0,h,!0),y.register(void 0,c,!0),y.register(void 0,s,!0),y.register(void 0,l,!0),y.register(void 0,u,!0)};e.exports=q},function(e,t,n){"use strict";function r(e,t){var n=new a(t);n.search("");var r=n.toString();return v(e,r,"1d")}function i(e,t){var n=new p(e.terria);return n.name=t.description,n.description=t.description,n.dataCustodian=e.dataCustodian,n.url=e.url,n.datasetId=t.id,n.filter=e.filter,n.conceptNamesUrl=e.conceptNamesUrl,n.regionPopulationsUrlPrefix=e.regionPopulationsUrlPrefix,"object"===o(e.itemProperties)&&n.updateFromJson(e.itemProperties),n}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(33),s=n(27),u=n(0),l=n(2),c=n(6),h=n(13),d=n(44),f=n(189),p=n(591),m=n(55),g=n(14),_=n(22),v=n(32),A=function(e){m.call(this,e,"abs-itt-by-concept"),this.url=void 0,this.filter=void 0,this.conceptNamesUrl=void 0,this.regionPopulationsUrlPrefix=void 0,this.dataCustodian=void 0,this.blacklist=void 0,this.whitelist=void 0,this.itemProperties=void 0,h.track(this,["url","filter","dataCustodian","blacklist","whitelist","itemProperties"])};g(m,A),l(A.prototype,{type:{get:function(){return"abs-itt-dataset-list"}},typeName:{get:function(){return"ABS.Stat Dataset List"}},serializers:{get:function(){return A.defaultSerializers}}}),A.defaultSerializers=s(m.defaultSerializers),A.defaultSerializers.items=m.enabledShareableItemsSerializer,c(A.defaultSerializers),A.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.blacklist,this.whitelist]},A.prototype._load=function(){var e=r(this,this.url),t={method:"GetDatasetList",format:"json"},n=this,o=e+"?"+f(t);return d(o).then(function(e){var t,r=e.datasets,o=[];for(t in n.blacklist)n.blacklist.hasOwnProperty(t)&&"?"===t[0]&&o.push(t.substring(1));var a=[];for(t in n.whitelist)n.whitelist.hasOwnProperty(t)&&"?"===t[0]&&a.push(t.substring(1));for(var s=0;s<r.length-1;++s){var l,c=r[s],h=u(n.blacklist)&&u(n.blacklist[c.description]);for(l=0;l<o.length&&!h;l++)-1!==c.id.indexOf(o[l])&&(h=!0);for(l=0;l<a.length&&!h;l++)-1===c.id.indexOf(a[l])&&(h=!0);u(n.whitelist)&&u(n.whitelist[c.description])&&(h=!0),h?console.log("Provider Feedback: Filtering out "+c.description+" ("+c.id+") because it is blacklisted."):n.add(i(n,c))}}).otherwise(function(e){throw console.log(e.message),new _({sender:n,title:"Group is not available",message:'An error occurred while invoking GetCodeListValue on the ABS ITT server.  <p>This error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href="mailto:'+n.terria.supportEmail+'">'+n.terria.supportEmail+"</a>.</p>"})})},e.exports=A},function(e,t,n){"use strict";function r(e){if(s(e)){var t=[];return e.items.forEach(function(e){e.isActive&&t.push(e),t=t.concat(r(e))}),t}}function i(e,t,n,r){r.sort(function(e,t){return o(e.description.replace(",",""),t.description.replace(",",""))});for(var a=!1,u=0;u<r.length;++u){var l=e instanceof c?e.code:"";if(r[u].parentCode===l){var h=new c(r[u].code,r[u].description,n),d=n.id+"."+h.code;s(t)&&-1!==t.indexOf(d)&&(h.isActive=!0,a=!0),""===l&&r.length<50&&(h.isOpen=!0),h.parent=e,e.items.push(h);a=i(h,t,n,r)||a}}return a}var o=n(356);o.insensitive=!0;var a=n(1),s=n(0),u=n(2),l=n(13),c=n(1243),h=n(14),d=n(352),f=function(e){if(e=a(e,a.EMPTY_OBJECT),d.call(this,e.name||e.id),this.id=e.id,this.items=[],this.isOpen=!0,this.isSelectable=!1,this.allowMultiple=a(e.allowMultiple,!1),s(e.codes)){!i(this,e.filter,this,e.codes)&&this.items.length>0&&(this.items[0].isActive=!0)}l.track(this,["items","isOpen"]),l.defineProperty(this,"activeItems",{get:function(){return r(this)}}),l.getObservable(this,"activeItems").subscribe(function(t){e.activeItemsChangedCallback(this,t)},this)};h(d,f),u(f.prototype,{hasChildren:{get:function(){return this.items.length>0}}}),f.prototype.toggleOpen=function(){this.isOpen=!this.isOpen},f.prototype.toFilter=function(){return r(this).map(function(e){return e.concept.id+"."+e.code})},e.exports=f},function(e,t,n){"use strict";var r=n(2),i=n(13),o=n(0),a=n(14),s=n(352),u=function(e,t,n){s.call(this,t),this.code=e,this.items=[],this.parent=void 0,this.concept=n,this.allowMultiple=this.concept.allowMultiple,this.isOpen=!1,this.isActive=!1,this.isSelectable=!0,i.track(this,["code","items","isOpen","isActive"])};a(s,u),r(u.prototype,{hasChildren:{get:function(){return this.items.length>0}}}),u.prototype.toggleOpen=function(){this.isOpen=!this.isOpen},u.prototype.toggleActive=function(e){function t(e){o(e.parent)&&(e.parent.isActive=!1,t(e.parent))}function n(e){e.items.forEach(function(e){e.isActive=!1,n(e)})}this.isActive=!this.isActive,this.isActive&&(t(this),n(this),function(e){e.parent.allowMultiple||e.parent.items.forEach(function(t){t!==e&&(t.isActive=!1)})}(this))},e.exports=u},function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return e.concat(t)},[])}e.exports=r},function(e,t,n){"use strict";function r(e){var t=i(e,e.url)+"?f=json",n=e.terria;return m(t).then(function(t){if(!t||!t.folders&&!t.services)throw new g({title:"Invalid ArcGIS Server",message:"An error occurred while invoking the ArcGIS REST service.  The server's response does not appear to be a valid ArcGIS REST document.  <p>If you entered the link manually, please verify that the link is correct.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href=\"mailto:"+n.supportEmail+'">'+n.supportEmail+"</a>.</p>"});var r,i=s(e),u=t.folders;if(h(u))for(r=0;r<u.length;++r)o(e,i,u[r]);var l=t.services;if(h(l))for(r=0;r<l.length;++r)a(e,i,l[r])}).otherwise(function(t){throw new g({sender:e,title:"Group is not available",message:'An error occurred while invoking the ArcGIS REST service. <p>If you entered the link manually, please verify that the link is correct.</p><p>This error may also indicate that the server does not support <a href="http://enable-cors.org/" target="_blank">CORS</a>.  If this is your server, verify that CORS is enabled and enable it if it is not.  If you do not control the server, please contact the administrator of the server and ask them to enable CORS.  Or, contact the '+n.appName+' team by emailing <a href="mailto:'+n.supportEmail+'">'+n.supportEmail+"</a> and ask us to add this server to the list of non-CORS-supporting servers that may be proxied by "+n.appName+' itself.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href="mailto:'+n.supportEmail+'">'+n.supportEmail+"</a>.</p>"})})}function i(e,t){var n=new l(t);n.search("");var r=n.toString();return A(e,r,"1d")}function o(e,t,n){var r=u(t,n),i=new x(e.terria);return i.name=y(r),i.url=new l(e.url).segment(r).toString(),i.dataCustodian=e.dataCustodian,i.blacklist=e.blacklist,h(e.itemProperties)&&i.updateFromJson(e.itemProperties),e.add(i),i}function a(e,t,n){var r=E.indexOf(n.type);if(!(r<0)){var i,o=u(t,n.name);if(i=0===r?new w(e.terria):new b(e.terria),i.name=y(o),i.url=new l(e.url).segment(o).segment(n.type).toString(),i.dataCustodian=e.dataCustodian,i.blacklist=e.blacklist,h(e.itemProperties))for(var a in e.itemProperties)e.itemProperties.hasOwnProperty(a)&&(i[a]=e.itemProperties[a]);return e.add(i),i}}function s(e){var t=/rest\/services\/(.*)/i.exec(e.url);return t&&t.length>1?t[1]:""}function u(e,t){return(e||0!==e.length)&&0===t.indexOf(e)?t.substring(e.length+1):t}var l=n(33),c=n(27),h=n(0),d=n(2),f=n(6),p=n(13),m=n(44),g=n(22),_=n(55),v=n(14),A=n(32),y=n(262),b=n(594),w=n(595),x=function(e){_.call(this,e,"esri-group"),this.url="",this.dataCustodian=void 0,this.blacklist=void 0,this.itemProperties=void 0,p.track(this,["url","dataCustodian","blacklist","itemProperties"])};v(_,x),d(x.prototype,{type:{get:function(){return"esri-group"}},typeName:{get:function(){return"ArcGIS Service Group"}},serializers:{get:function(){return x.defaultSerializers}}}),x.defaultSerializers=c(_.defaultSerializers),x.defaultSerializers.items=_.enabledShareableItemsSerializer,x.defaultSerializers.isLoading=function(e,t,n,r){},f(x.defaultSerializers),x.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.blacklist]},x.prototype._load=function(){return/\/MapServer\/?$/i.test(this.url)?w.loadMapServer(this):/\/FeatureServer\/?$/i.test(this.url)?b.loadFeatureServer(this):r(this)};var E=["MapServer","FeatureServer"];e.exports=x},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";function t(t,r,i){e(r)||(r=t.width),e(i)||(i=t.height);var o=n[r];e(o)||(o={},n[r]=o);var a=o[i];if(!e(a)){var s=document.createElement("canvas");s.width=r,s.height=i,a=s.getContext("2d"),a.globalCompositeOperation="copy",o[i]=a}return a.drawImage(t,0,0,r,i),a.getImageData(0,0,r,i).data}var n={};return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){e.exports=n.p+"544660a38c7604f85f23899c1145d6fd.png"},function(e,t,n){"use strict";var r=n(56),i=n(1249),o=n(42),a=n(0),s=n(2),u=n(14),l=n(267),c=n(32),h=n(106),d=n(22),f=function(e){r.call(this,e),this.options=void 0,this.ionAssetId=void 0,this.ionAccessToken=void 0,this.ionServer=void 0,this._tileset=void 0};u(r,f),s(f.prototype,{type:{get:function(){return"3d-tiles"}},typeName:{get:function(){return"Cesium 3D Tiles"}},supportsReordering:{get:function(){return!1}},supportsOpacity:{get:function(){return!1}}}),f.prototype._showInCesium=function(){a(this._tileset)&&(this._tileset.show=!0)},f.prototype._hideInCesium=function(){a(this._tileset)&&(this._tileset.show=!1)},f.prototype._showInLeaflet=function(){throw this.isShown=!1,new d({sender:this,title:"Not supported in 2D",message:'"'+this.name+'" cannot be show in the 2D view.  Switch to 3D and try again.'})},f.prototype._hideInLeaflet=function(){},f.prototype._enableInCesium=function(){var e=this;if(!a(this._tileset)){var t=c(this,this.url);a(this.ionAssetId)&&(t=l.fromAssetId(this.ionAssetId,{accessToken:this.ionAccessToken||this.terria.configParameters.cesiumIonAccessToken,server:this.ionServer}).otherwise(function(t){h(e.terria,t)}));var n={show:this.isShown,url:t};this.options&&(n=o(n,this.options)),this._tileset=new i(n)}var r=this.terria.cesium.scene.primitives;r.contains(this._tileset)||r.add(this._tileset)},f.prototype._disableInCesium=function(){a(this._tileset)&&(this.terria.cesium.scene.primitives.removeAndDestroy(this._tileset),this._tileset=void 0)},f.prototype._enableInLeaflet=function(){},f.prototype._disableInLeaflet=function(){},e.exports=f},function(e,t,n){var r,i;r=[n(17),n(10),n(24),n(12),n(1),n(0),n(2),n(94),n(21),n(3),n(600),n(23),n(15),n(36),n(601),n(9),n(20),n(29),n(26),n(50),n(423),n(47),n(7),n(174),n(1250),n(602),n(615),n(1299),n(266),n(1300),n(1301),n(1302),n(1303),n(307),n(347),n(617),n(1305),n(46),n(184),n(308),n(616),n(364)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L,N,R,k,F,U,z,j){"use strict";function H(e){e=i(e,i.EMPTY_OBJECT),this._url=void 0,this._basePath=void 0,this._root=void 0,this._asset=void 0,this._properties=void 0,this._geometricError=void 0,this._extensionsUsed=void 0,this._gltfUpAxis=void 0,this._cache=new M,this._processingQueue=[],this._selectedTiles=[],this._emptyTiles=[],this._requestedTiles=[],this._selectedTilesToStyle=[],this._loadTimestamp=void 0,this._timeSinceLoad=0,this._extras=void 0,this._cullWithChildrenBounds=i(e.cullWithChildrenBounds,!0),this._allTilesAdditive=!0,this._hasMixedContent=!1,this._backfaceCommands=new p,this._maximumScreenSpaceError=i(e.maximumScreenSpaceError,16),this._maximumMemoryUsage=i(e.maximumMemoryUsage,512),this._styleEngine=new D,this._modelMatrix=o(e.modelMatrix)?g.clone(e.modelMatrix):g.clone(g.IDENTITY),this._statistics=new O,this._statisticsLastColor=new O,this._statisticsLastPick=new O,this._tilesLoaded=!1,this._initialTilesLoaded=!1,this._tileDebugLabels=void 0,this._readyPromise=w.defer(),this._classificationType=e.classificationType,this._ellipsoid=i(e.ellipsoid,h.WGS84),this._useBoundingSphereForClipping=!1,this._clippingPlaneOffsetMatrix=void 0,this.dynamicScreenSpaceError=i(e.dynamicScreenSpaceError,!1),this.dynamicScreenSpaceErrorDensity=.00278,this.dynamicScreenSpaceErrorFactor=4,this.dynamicScreenSpaceErrorHeightFalloff=.25,this._dynamicScreenSpaceErrorComputedDensity=0,this.shadows=i(e.shadows,F.ENABLED),this.show=i(e.show,!0),this.colorBlendMode=C.HIGHLIGHT,this.colorBlendAmount=.5,this.pointCloudShading=new R(e.pointCloudShading),this._pointCloudEyeDomeLighting=new N,this.loadProgress=new d,this.allTilesLoaded=new d,this.initialTilesLoaded=new d,this.tileLoad=new d,this.tileUnload=new d,this.tileFailed=new d,this.tileVisible=new d,this.skipLevelOfDetail=i(e.skipLevelOfDetail,!0),this._skipLevelOfDetail=this.skipLevelOfDetail,this._disableSkipLevelOfDetail=!1,this.baseScreenSpaceError=i(e.baseScreenSpaceError,1024),this.skipScreenSpaceErrorFactor=i(e.skipScreenSpaceErrorFactor,16),this.skipLevels=i(e.skipLevels,1),this.immediatelyLoadDesiredLevelOfDetail=i(e.immediatelyLoadDesiredLevelOfDetail,!1),this.loadSiblings=i(e.loadSiblings,!1),this._clippingPlanes=void 0,this.clippingPlanes=e.clippingPlanes,this.debugFreezeFrame=i(e.debugFreezeFrame,!1),this.debugColorizeTiles=i(e.debugColorizeTiles,!1),this.debugWireframe=i(e.debugWireframe,!1),this.debugShowBoundingVolume=i(e.debugShowBoundingVolume,!1),this.debugShowContentBoundingVolume=i(e.debugShowContentBoundingVolume,!1),this.debugShowViewerRequestVolume=i(e.debugShowViewerRequestVolume,!1),this._tileDebugLabels=void 0,this.debugPickedTileLabelOnly=!1,this.debugPickedTile=void 0,this.debugPickPosition=void 0,this.debugShowGeometricError=i(e.debugShowGeometricError,!1),this.debugShowRenderingStatistics=i(e.debugShowRenderingStatistics,!1),this.debugShowMemoryUsage=i(e.debugShowMemoryUsage,!1),this.debugShowUrl=i(e.debugShowUrl,!1),this._credits=void 0;var t,n=this;w(e.url).then(function(e){var r;return t=_.createIfNeeded(e),n._credits=t.credits,"json"===t.extension?r=t.getBaseUri(!0):t.isDataUri&&(r=""),n._url=t.url,n._basePath=r,H.loadJson(t)}).then(function(e){n._root=n.loadTileset(t,e);var r=o(e.asset.gltfUpAxis)?x.fromName(e.asset.gltfUpAxis):x.Y;n._asset=e.asset,n._properties=e.properties,n._geometricError=e.geometricError,n._extensionsUsed=e.extensionsUsed,n._gltfUpAxis=r,n._extras=e.extras,o(e.root.transform)||(n._useBoundingSphereForClipping=!0,n._clippingPlaneOffsetMatrix=A.eastNorthUpToFixedFrame(n.boundingSphere.center)),n._readyPromise.resolve(n)}).otherwise(function(e){n._readyPromise.reject(e)})}function V(e,r){var i,o,a,s,u,l=r.camera,c=e._root,h=c.contentBoundingVolume;if(h instanceof U)i=t.normalize(l.positionWC,ue),o=l.directionWC,a=l.positionCartographic.height,s=h.minimumHeight,u=h.maximumHeight;else{var d=g.inverseTransformation(c.computedTransform,ce),f=r.mapProjection.ellipsoid,p=h.boundingVolume,_=g.multiplyByPoint(d,p.center,he);if(t.magnitude(_)>f.minimumRadius){var v=n.fromCartesian(_,f,le);i=t.normalize(l.positionWC,ue),o=l.directionWC,a=l.positionCartographic.height,s=0,u=2*v.height}else{var A=g.multiplyByPoint(d,l.positionWC,de);if(i=t.UNIT_Z,o=g.multiplyByPointAsVector(d,l.directionWC,fe),o=t.normalize(o,o),a=A.z,h instanceof j){var y=c._header.boundingVolume.box[11];s=_.z-y,u=_.z+y}else if(h instanceof z){var b=p.radius;s=_.z-b,u=_.z+b}}}var w=e.dynamicScreenSpaceErrorHeightFalloff,x=s+(u-s)*w,E=u,C=m.clamp((a-x)/(E-x),0,1),S=Math.abs(t.dot(o,i)),T=1-S;T*=1-C;var I=e.dynamicScreenSpaceErrorDensity;I*=T,e._dynamicScreenSpaceErrorComputedDensity=I}function Q(e,t){if(!t.hasEmptyContent){var n=e._statistics,r=t.contentExpired;if(!t.requestContent())return void++n.numberOfAttemptedRequests;r&&(t.hasTilesetContent?re(e,t):(n.decrementLoadCounts(t.content),--e._statistics.numberOfTilesWithContentReady)),++n.numberOfPendingRequests,t.contentReadyToProcessPromise.then(q(e,t)),t.contentReadyPromise.then(K(e,t)).otherwise(Y(e,t))}}function G(e,t){return e._priority-t._priority}function W(e){var t=e._requestedTiles,n=t.length;t.sort(G);for(var r=0;r<n;++r)Q(e,t[r])}function q(e,t){return function(){e._processingQueue.push(t),--e._statistics.numberOfPendingRequests,++e._statistics.numberOfTilesProcessing}}function Y(e,t){return function(n){e._processingQueue.indexOf(t)>=0?--e._statistics.numberOfTilesProcessing:--e._statistics.numberOfPendingRequests;var r=t._contentResource.url,i=o(n.message)?n.message:n.toString();e.tileFailed.numberOfListeners>0?e.tileFailed.raiseEvent({url:r,message:i}):(console.log("A 3D tile failed to load: "+r),console.log("Error: "+i))}}function K(e,t){return function(){--e._statistics.numberOfTilesProcessing,t.hasTilesetContent||(e._statistics.incrementLoadCounts(t.content),++e._statistics.numberOfTilesWithContentReady,e._cache.add(t)),e.tileLoad.raiseEvent(t)}}function X(e){for(var t=e._processingQueue,n=t.length,r=0,i=0;i<n;++i){var o=t[i];o._contentState===S.PROCESSING?r>0&&(t[i-r]=o):++r}t.length-=r}function Z(e,t){X(e);for(var n=e._processingQueue,r=n.length,i=0;i<r;++i)n[i].process(e,t)}function J(e){var t=e/1048576;return t<1?t.toLocaleString(void 0,me):Math.round(t).toLocaleString()}function $(e){var n=e.boundingVolume.boundingVolume,r=n.halfAxes,i=n.radius,a=t.clone(n.center,pe);if(o(r))a.x+=.75*(r[0]+r[3]+r[6]),a.y+=.75*(r[1]+r[4]+r[7]),a.z+=.75*(r[2]+r[5]+r[8]);else if(o(i)){var s=t.normalize(n.center,pe);s=t.multiplyByScalar(s,.75*i,pe),a=t.add(s,n.center,pe)}return a}function ee(e,t,n){var r="",i=0;if(t.debugShowGeometricError&&(r+="\nGeometric error: "+e.geometricError,i++),t.debugShowRenderingStatistics){r+="\nCommands: "+e.commandsLength,i++;e.content.pointsLength>0&&(r+="\nPoints: "+e.content.pointsLength,i++);e.content.trianglesLength>0&&(r+="\nTriangles: "+e.content.trianglesLength,i++),r+="\nFeatures: "+e.content.featuresLength,i++}t.debugShowMemoryUsage&&(r+="\nTexture Memory: "+J(e.content.texturesByteLength),r+="\nGeometry Memory: "+J(e.content.geometryByteLength),i+=2),t.debugShowUrl&&(r+="\nUrl: "+e._header.content.uri,i++);var o={text:r.substring(1),position:n,font:19-i+"px sans-serif",showBackground:!0,disableDepthTestDistance:Number.POSITIVE_INFINITY};return t._tileDebugLabels.add(o)}function te(t,n){var r,i,a=t._selectedTiles,s=a.length,u=t._emptyTiles,l=u.length;if(t._tileDebugLabels.removeAll(),t.debugPickedTileLabelOnly){if(o(t.debugPickedTile)){var c=o(t.debugPickPosition)?t.debugPickPosition:$(t.debugPickedTile),h=ee(t.debugPickedTile,t,c);h.pixelOffset=new e(15,-15)}}else{for(r=0;r<s;++r)i=a[r],ee(i,t,$(i));for(r=0;r<l;++r)i=u[r],i.hasTilesetContent&&ee(i,t,$(i))}t._tileDebugLabels.update(n)}function ne(e,t){e._styleEngine.applyStyle(e,t);var n,r,i=e._statistics,a=t.commandList,s=a.length,u=e._selectedTiles,l=u.length,c=e._emptyTiles,h=c.length,d=e.tileVisible,f=e._skipLevelOfDetail&&e._hasMixedContent&&t.context.stencilBuffer&&l>0;e._backfaceCommands.length=0,f&&a.push(ge);var p=a.length;for(n=0;n<l;++n)r=u[n],d.raiseEvent(r),r.update(e,t),i.incrementSelectionCounts(r.content),++i.selected;for(n=0;n<h;++n)r=c[n],r.update(e,t);var m=a.length,g=m-p;if(e._backfaceCommands.trim(),f){var _=e._backfaceCommands.values,v=_.length;for(a.length+=v,n=g-1;n>=0;--n)a[p+v+n]=a[p+n];for(n=0;n<v;++n)a[p+n]=_[n]}i.numberOfCommands=a.length-s,e.pointCloudShading.attenuation&&e.pointCloudShading.eyeDomeLighting&&g>0&&e._pointCloudEyeDomeLighting.update(t,s,e.pointCloudShading),e.debugShowGeometricError||e.debugShowRenderingStatistics||e.debugShowMemoryUsage||e.debugShowUrl?(o(e._tileDebugLabels)||(e._tileDebugLabels=new L),te(e,t)):e._tileDebugLabels=e._tileDebugLabels&&e._tileDebugLabels.destroy()}function re(e,t){var n=t,r=e._statistics,i=_e;for(i.push(t);i.length>0;){t=i.pop();for(var o=t.children,a=o.length,s=0;s<a;++s)i.push(o[s]);t!==n&&(oe(e,t),--r.numberOfTilesTotal)}n.children=[]}function ie(e,t){e.tileUnload.raiseEvent(t),e._statistics.decrementLoadCounts(t.content),--e._statistics.numberOfTilesWithContentReady,t.unloadContent()}function oe(e,t){e._cache.unloadTile(e,t,ie),t.destroy()}function ae(e){e._cache.unloadTiles(e,ie)}function se(e,t){var n=e._statistics,r=e._statisticsLastColor,i=n.numberOfPendingRequests,o=n.numberOfTilesProcessing,a=r.numberOfPendingRequests,s=r.numberOfTilesProcessing,u=i!==a||o!==s;u&&t.afterRender.push(function(){e.loadProgress.raiseEvent(i,o)}),e._tilesLoaded=0===n.numberOfPendingRequests&&0===n.numberOfTilesProcessing&&0===n.numberOfAttemptedRequests,u&&e._tilesLoaded&&(t.afterRender.push(function(){e.allTilesLoaded.raiseEvent()}),e._initialTilesLoaded||(e._initialTilesLoaded=!0,t.afterRender.push(function(){e.initialTilesLoaded.raiseEvent()})))}a(H.prototype,{asset:{get:function(){return this._asset}},clippingPlanes:{get:function(){return this._clippingPlanes},set:function(e){B.setOwner(e,this,"_clippingPlanes")}},properties:{get:function(){return this._properties}},ready:{get:function(){return o(this._root)}},readyPromise:{get:function(){return this._readyPromise.promise}},tilesLoaded:{get:function(){return this._tilesLoaded}},url:{get:function(){return this._url}},basePath:{get:function(){return s("Cesium3DTileset.basePath","Cesium3DTileset.basePath has been deprecated. All tiles are relative to the url of the tileset JSON file that contains them. Use the url property instead."),this._basePath}},style:{get:function(){return this._styleEngine.style},set:function(e){this._styleEngine.style=e}},maximumScreenSpaceError:{get:function(){return this._maximumScreenSpaceError},set:function(e){this._maximumScreenSpaceError=e}},maximumMemoryUsage:{get:function(){return this._maximumMemoryUsage},set:function(e){this._maximumMemoryUsage=e}},root:{get:function(){return this._root}},boundingSphere:{get:function(){return this._root.updateTransform(this._modelMatrix),this._root.boundingSphere}},modelMatrix:{get:function(){return this._modelMatrix},set:function(e){this._modelMatrix=g.clone(e,this._modelMatrix)}},timeSinceLoad:{get:function(){return this._timeSinceLoad}},totalMemoryUsageInBytes:{get:function(){var e=this._statistics;return e.texturesByteLength+e.geometryByteLength+e.batchTableByteLength}},clippingPlaneOffsetMatrix:{get:function(){return this._useBoundingSphereForClipping?this._clippingPlaneOffsetMatrix:this.root.computedTransform}},styleEngine:{get:function(){return this._styleEngine}},statistics:{get:function(){return this._statistics}},classificationType:{get:function(){return this._classificationType}},ellipsoid:{get:function(){return this._ellipsoid}},extras:{get:function(){return this._extras}}}),H.loadJson=function(e){return _.createIfNeeded(e).fetchJson()},H.prototype.makeStyleDirty=function(){this._styleEngine.makeDirty()},H.prototype.loadTileset=function(e,t,n){var r=t.asset;if(!o(r))throw new v("Tileset must have an asset property.");if("0.0"!==r.version&&"1.0"!==r.version)throw new v("The tileset must be 3D Tiles version 0.0 or 1.0.");var i=this._statistics,a=r.tilesetVersion;o(a)?(this._basePath+="?v="+a,e.setQueryParameters({v:a})):delete e.queryParameters.v;var s=new E(this,e,t.root,n);o(n)&&(n.children.push(s),s._depth=n._depth+1);var u=[];for(u.push(s);u.length>0;){var l=u.pop();++i.numberOfTilesTotal,this._allTilesAdditive=this._allTilesAdditive&&l.refine===I.ADD;var c=l._header.children;if(o(c))for(var h=c.length,d=0;d<h;++d){var f=c[d],p=new E(this,e,f,l);l.children.push(p),p._depth=l._depth+1,u.push(p)}this._cullWithChildrenBounds&&T.checkChildrenWithinParent(l)}return s};var ue=new t,le=new n,ce=new g,he=new t,de=new t,fe=new t,pe=new t,me={maximumFractionDigits:3},ge=new y({stencil:0,pass:b.CESIUM_3D_TILE}),_e=[];return H.prototype.trimLoadedTiles=function(){this._cache.trim()},H.prototype.update=function(e){if(e.mode!==k.MORPHING&&this.show&&this.ready){o(this._loadTimestamp)||(this._loadTimestamp=f.clone(e.time));var t=this._clippingPlanes;o(t)&&t.enabled&&(t.update(e),this._useBoundingSphereForClipping&&(this._clippingPlaneOffsetMatrix=A.eastNorthUpToFixedFrame(this.boundingSphere.center))),this._timeSinceLoad=Math.max(1e3*f.secondsDifference(e.time,this._loadTimestamp),0),this._skipLevelOfDetail=this.skipLevelOfDetail&&!o(this._classificationType)&&!this._disableSkipLevelOfDetail&&!this._allTilesAdditive;var n=e.passes,r=n.render,i=n.pick,a=r,s=this._statistics;s.clear(),this.dynamicScreenSpaceError&&V(this,e),a&&this._cache.reset(),this._requestedTiles.length=0,P.selectTiles(this,e),a&&(W(this),Z(this,e)),ne(this,e),a&&ae(this),se(this,e);var u=i?this._statisticsLastPick:this._statisticsLastColor;if(O.clone(s,u),0!==s.selected){var l=this._credits;if(o(l))for(var c=l.length,h=0;h<c;h++)e.creditDisplay.addCredit(l[h])}}},H.prototype.hasExtension=function(e){return!!o(this._extensionsUsed)&&this._extensionsUsed.indexOf(e)>-1},H.prototype.isDestroyed=function(){return!1},H.prototype.destroy=function(){if(this._tileDebugLabels=this._tileDebugLabels&&this._tileDebugLabels.destroy(),this._clippingPlanes=this._clippingPlanes&&this._clippingPlanes.destroy(),o(this._root)){var e=_e;for(e.push(this._root);e.length>0;){var t=e.pop();t.destroy();for(var n=t.children,r=n.length,i=0;i<r;++i)e.push(n[i])}}return this._root=void 0,u(this)},H}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(38),n(10),n(25),n(150),n(221),n(1),n(0),n(2),n(94),n(21),n(23),n(175),n(71),n(36),n(9),n(40),n(20),n(118),n(16),n(223),n(438),n(190),n(161),n(29),n(26),n(50),n(7),n(1251),n(615),n(363),n(266),n(1298),n(46),n(308),n(616),n(364)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L,N){"use strict";function R(e,t,r,i){this._tileset=e,this._header=r;var o=r.content;this.transform=a(r.transform)?g.unpack(r.transform):g.clone(g.IDENTITY);var s=a(i)?i.computedTransform:e.modelMatrix,u=g.multiply(s,this.transform,new g),l=a(i)?i._initialTransform:g.IDENTITY;this._initialTransform=g.multiply(l,this.transform,new g),this.computedTransform=u,this._boundingVolume=this.createBoundingVolume(r.boundingVolume,u),this._boundingVolume2D=void 0;var c;a(o)&&a(o.boundingVolume)&&(c=this.createBoundingVolume(o.boundingVolume,u)),this._contentBoundingVolume=c,this._contentBoundingVolume2D=void 0;var h;a(r.viewerRequestVolume)&&(h=this.createBoundingVolume(r.viewerRequestVolume,u)),this._viewerRequestVolume=h,this.geometricError=r.geometricError,a(this.geometricError)||(this.geometricError=a(i)?i.geometricError:e._geometricError,R._deprecationWarning("geometricErrorUndefined","Required property geometricError is undefined for this tile. Using parent's geometric error instead."));var d;a(r.refine)?("replace"!==r.refine&&"add"!==r.refine||R._deprecationWarning("lowercase-refine",'This tile uses a lowercase refine "'+r.refine+'". Instead use "'+r.refine.toUpperCase()+'".'),d="REPLACE"===r.refine.toUpperCase()?O.REPLACE:O.ADD):d=a(i)?i.refine:O.REPLACE,this.refine=d,this.children=[],this.parent=i;var p,m,_,v,A;if(t=x.createIfNeeded(t),a(o)){var b=o.uri;a(o.url)&&(R._deprecationWarning("contentUrl",'This tileset JSON uses the "content.url" property which has been deprecated. Use "content.uri" instead.'),b=o.url),m=!1,_=I.UNLOADED,v=t.getDerivedResource({url:b}),A=y.getServerKey(v.getUrlComponent())}else p=new P(e,this),m=!0,_=I.READY;this._content=p,this._contentResource=v,this._contentState=_,this._contentReadyToProcessPromise=void 0,this._contentReadyPromise=void 0,this._expiredContent=void 0,this._serverKey=A,this.hasEmptyContent=m,this.hasTilesetContent=!1,this.cacheNode=void 0;var w,E,C=r.expire;a(C)&&(w=C.duration,a(C.date)&&(E=f.fromIso8601(C.date))),this.expireDuration=w,this.expireDate=E,this.lastStyleTime=0,this._optimChildrenWithinParent=M.NOT_COMPUTED,this.clippingPlanesDirty=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=0,this._visible=!1,this._inRequestVolume=!1,this._finalResolution=!0,this._depth=0,this._stackLength=0,this._selectionDepth=0,this._updatedVisibilityFrame=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._ancestorWithContent=void 0,this._ancestorWithContentAvailable=void 0,this._refines=!1,this._shouldSelect=!1,this._priority=0,this._isClipped=!0,this._clippingPlanesState=0,this._debugBoundingVolume=void 0,this._debugContentBoundingVolume=void 0,this._debugViewerRequestVolume=void 0,this._debugColor=n.fromRandom({alpha:1}),this._debugColorizeTiles=!1,this._commandsLength=0,this._color=void 0,this._colorDirty=!1}function k(e){if(a(e.expireDuration)){var t=f.now(K);f.addSeconds(t,e.expireDuration,t),a(e.expireDate)?f.lessThan(e.expireDate,t)&&f.clone(t,e.expireDate):e.expireDate=f.clone(t)}}function F(e){return function(t){e._contentState=I.FAILED,e._contentReadyPromise.reject(t),e._contentReadyToProcessPromise.reject(t)}}function U(e){return function(){return e._priority}}function z(t,n){if(n.mode!==D.SCENE3D&&!a(t._boundingVolume2D)){var r=t._boundingVolume.boundingSphere,i=e.projectTo2D(r,n.mapProjection,X);t._boundingVolume2D=new L(i.center,i.radius)}return n.mode!==D.SCENE3D?t._boundingVolume2D:t._boundingVolume}function j(t,n){if(n.mode!==D.SCENE3D&&!a(t._contentBoundingVolume2D)){var r=t._contentBoundingVolume.boundingSphere,i=e.projectTo2D(r,n.mapProjection,X);t._contentBoundingVolume2D=new L(i.center,i.radius)}return n.mode!==D.SCENE3D?t._contentBoundingVolume2D:t._contentBoundingVolume}function H(e,n,r){var i=t.fromElements(e[0],e[1],e[2],te),o=m.fromArray(e,3,ee);i=g.multiplyByPoint(n,i,i);var s=g.getRotation(n,J);return o=m.multiply(s,o,o),a(r)?(r.update(i,o),r):new N(i,o)}function V(e,t,n,r){var i=v.unpack(e,0,ne),o=e[4],s=e[5],u=_.fromRectangle(i,o,s,c.WGS84,re),l=u.center,h=u.halfAxes;t=g.multiplyTransformation(t,g.inverseTransformation(n,ie),ie),l=g.multiplyByPoint(t,l,l);var d=g.getRotation(t,J);return h=m.multiply(d,h,h),a(r)&&r instanceof N?(r.update(l,h),r):new N(l,h)}function Q(e,t,n,r){if(!g.equalsEpsilon(t,n,p.EPSILON8))return V(e,t,n,r);if(a(r))return r;var i=v.unpack(e,0,ne);return new B({rectangle:i,minimumHeight:e[4],maximumHeight:e[5]})}function G(e,n,r){var i=t.fromElements(e[0],e[1],e[2],te),o=e[3];i=g.multiplyByPoint(n,i,i);var s=g.getScale(n,$);return o*=t.maximumComponent(s),a(r)?(r.update(i,o),r):new L(i,o)}function W(e,t,i){var o=a(e._header.content)&&a(e._header.content.boundingVolume),s=e.hasEmptyContent||e.hasTilesetContent,u=t.debugShowBoundingVolume||t.debugShowContentBoundingVolume&&!o;if(u){var l;l=e._finalResolution?s?n.DARKGRAY:n.WHITE:n.YELLOW,a(e._debugBoundingVolume)||(e._debugBoundingVolume=e._boundingVolume.createDebugVolume(l)),e._debugBoundingVolume.update(i);var c=e._debugBoundingVolume.getGeometryInstanceAttributes("outline");c.color=r.toValue(l,c.color)}else!u&&a(e._debugBoundingVolume)&&(e._debugBoundingVolume=e._debugBoundingVolume.destroy());t.debugShowContentBoundingVolume&&o?(a(e._debugContentBoundingVolume)||(e._debugContentBoundingVolume=e._contentBoundingVolume.createDebugVolume(n.BLUE)),e._debugContentBoundingVolume.update(i)):!t.debugShowContentBoundingVolume&&a(e._debugContentBoundingVolume)&&(e._debugContentBoundingVolume=e._debugContentBoundingVolume.destroy()),t.debugShowViewerRequestVolume&&a(e._viewerRequestVolume)?(a(e._debugViewerRequestVolume)||(e._debugViewerRequestVolume=e._viewerRequestVolume.createDebugVolume(n.YELLOW)),e._debugViewerRequestVolume.update(i)):!t.debugShowViewerRequestVolume&&a(e._debugViewerRequestVolume)&&(e._debugViewerRequestVolume=e._debugViewerRequestVolume.destroy());var h=t.debugColorizeTiles&&!e._debugColorizeTiles,d=!t.debugColorizeTiles&&e._debugColorizeTiles;h?(e._debugColorizeTiles=!0,e.color=e._debugColor):d&&(e._debugColorizeTiles=!1,e.color=n.WHITE),e._colorDirty&&(e._colorDirty=!1,e._content.applyDebugSettings(!0,e._color)),d&&t.makeStyleDirty()}function q(e,t,n){var r=e._content,i=e._expiredContent;if(a(i)){if(!e.contentReady)return void i.update(t,n);e._expiredContent.destroy(),e._expiredContent=void 0}r.update(t,n)}function Y(e,t){var n=t.clippingPlanes,r=0;a(n)&&e._isClipped&&n.enabled&&(r=n.clippingPlanesState),r!==e._clippingPlanesState&&(e._clippingPlanesState=r,e.clippingPlanesDirty=!0)}R._deprecationWarning=u,s(R.prototype,{tileset:{get:function(){return this._tileset}},content:{get:function(){return this._content}},boundingVolume:{get:function(){return this._boundingVolume}},contentBoundingVolume:{get:function(){return o(this._contentBoundingVolume,this._boundingVolume)}},boundingSphere:{get:function(){return this._boundingVolume.boundingSphere}},extras:{get:function(){return this._header.extras}},color:{get:function(){return a(this._color)||(this._color=new n),n.clone(this._color)},set:function(e){this._color=n.clone(e,this._color),this._colorDirty=!0}},contentAvailable:{get:function(){return this.contentReady&&!this.hasEmptyContent&&!this.hasTilesetContent||a(this._expiredContent)&&!this.contentFailed}},contentReady:{get:function(){return this._contentState===I.READY}},contentUnloaded:{get:function(){return this._contentState===I.UNLOADED}},contentExpired:{get:function(){return this._contentState===I.EXPIRED}},contentFailed:{get:function(){return this._contentState===I.FAILED}},contentReadyToProcessPromise:{get:function(){if(a(this._contentReadyToProcessPromise))return this._contentReadyToProcessPromise.promise}},contentReadyPromise:{get:function(){if(a(this._contentReadyPromise))return this._contentReadyPromise.promise}},commandsLength:{get:function(){return this._commandsLength}}});var K=new f;R.prototype.updateExpiration=function(){if(a(this.expireDate)&&this.contentReady&&!this.hasEmptyContent){var e=f.now(K);f.lessThan(this.expireDate,e)&&(this._contentState=I.EXPIRED,this._expiredContent=this._content)}},R.prototype.requestContent=function(){var e=this,t=this._tileset;if(this.hasEmptyContent)return!1;var n=this._contentResource.clone(),r=this.contentExpired;r&&n.setQueryParameters({expired:this.expireDate.toString()});var i=new A({throttle:!0,throttleByServer:!0,type:w.TILES3D,priorityFunction:U(this),serverKey:this._serverKey});n.request=i;var o=n.fetchArrayBuffer();if(!a(o))return!1;var s=this._contentState;this._contentState=I.LOADING,this._contentReadyToProcessPromise=S.defer(),this._contentReadyPromise=S.defer(),r&&(this.expireDate=void 0);var u=F(this);return o.then(function(n){if(e.isDestroyed())return void u();var r,i=new Uint8Array(n),o=h(i),s=T[o];return t._disableSkipLevelOfDetail=t._disableSkipLevelOfDetail||"vctr"===o||"geom"===o,a(s)?r=s(t,e,e._contentResource,n,0):(r=T.json(t,e,e._contentResource,n,0),e.hasTilesetContent=!0),e._content=r,e._contentState=I.PROCESSING,e._contentReadyToProcessPromise.resolve(r),r.readyPromise.then(function(t){if(e.isDestroyed())return void u();k(e),e._selectedFrame=0,e.lastStyleTime=0,e._contentState=I.READY,e._contentReadyPromise.resolve(t)})}).otherwise(function(n){if(i.state===b.CANCELLED)return e._contentState=s,--t.statistics.numberOfPendingRequests,void++t.statistics.numberOfAttemptedRequests;u(n)}),!0},R.prototype.unloadContent=function(){this.hasEmptyContent||this.hasTilesetContent||(this._content=this._content&&this._content.destroy(),this._contentState=I.UNLOADED,this._contentReadyToProcessPromise=void 0,this._contentReadyPromise=void 0,this.lastStyleTime=0,this.clippingPlanesDirty=0===this._clippingPlanesState,this._clippingPlanesState=0,this._debugColorizeTiles=!1,this._debugBoundingVolume=this._debugBoundingVolume&&this._debugBoundingVolume.destroy(),this._debugContentBoundingVolume=this._debugContentBoundingVolume&&this._debugContentBoundingVolume.destroy(),this._debugViewerRequestVolume=this._debugViewerRequestVolume&&this._debugViewerRequestVolume.destroy())};var X=new e;R.prototype.visibility=function(e,t){var n=e.cullingVolume,r=z(this,e),o=this._tileset,s=o.clippingPlanes;if(a(s)&&s.enabled){var u=s.computeIntersectionWithBoundingVolume(r,o.clippingPlaneOffsetMatrix);if(this._isClipped=u!==d.INSIDE,u===d.OUTSIDE)return i.MASK_OUTSIDE}return n.computeVisibilityWithPlaneMask(r,t)},R.prototype.contentVisibility=function(e){if(!a(this._contentBoundingVolume))return d.INSIDE;var t=e.cullingVolume,n=j(this,e),r=this._tileset,i=r.clippingPlanes;if(a(i)&&i.enabled){var o=i.computeIntersectionWithBoundingVolume(n,r.clippingPlaneOffsetMatrix);if(this._isClipped=o!==d.INSIDE,o===d.OUTSIDE)return d.OUTSIDE}return t.computeVisibility(n)},R.prototype.distanceToTile=function(e){return z(this,e).distanceToCamera(e)};var Z=new t;R.prototype.distanceToTileCenter=function(e){var n=z(this,e),r=n.boundingVolume,i=t.subtract(r.center,e.camera.positionWC,Z),o=t.magnitude(i);return t.divideByScalar(i,o,i),o*t.dot(e.camera.directionWC,i)},R.prototype.insideViewerRequestVolume=function(e){var t=this._viewerRequestVolume;return!a(t)||0===t.distanceToCamera(e)};var J=new m,$=new t,ee=new m,te=new t,ne=new v,re=new _,ie=new g;R.prototype.createBoundingVolume=function(e,t,n){if(!a(e))throw new E("boundingVolume must be defined");if(a(e.box))return H(e.box,t,n);if(a(e.region))return Q(e.region,t,this._initialTransform,n);if(a(e.sphere))return G(e.sphere,t,n);throw new E("boundingVolume must contain a sphere, region, or box")},R.prototype.updateTransform=function(e){e=o(e,g.IDENTITY);var t=g.multiply(e,this.transform,ie);if(!g.equals(t,this.computedTransform)){g.clone(t,this.computedTransform);var n=this._header,r=this._header.content;this._boundingVolume=this.createBoundingVolume(n.boundingVolume,this.computedTransform,this._boundingVolume),a(this._contentBoundingVolume)&&(this._contentBoundingVolume=this.createBoundingVolume(r.boundingVolume,this.computedTransform,this._contentBoundingVolume)),a(this._viewerRequestVolume)&&(this._viewerRequestVolume=this.createBoundingVolume(n.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)),this._debugBoundingVolume=this._debugBoundingVolume&&this._debugBoundingVolume.destroy(),this._debugContentBoundingVolume=this._debugContentBoundingVolume&&this._debugContentBoundingVolume.destroy(),this._debugViewerRequestVolume=this._debugViewerRequestVolume&&this._debugViewerRequestVolume.destroy()}},R.prototype.update=function(e,t){var n=t.commandList.length;Y(this,e),W(this,e,t),q(this,e,t),this._commandsLength=t.commandList.length-n,this.clippingPlanesDirty=!1};var oe=[];return R.prototype.process=function(e,t){var n=t.commandList;t.commandList=oe,this._content.update(e,t),oe.length=0,t.commandList=n},R.prototype.isDestroyed=function(){return!1},R.prototype.destroy=function(){return this._content=this._content&&this._content.destroy(),this._expiredContent=this._expiredContent&&!this._expiredContent.isDestroyed()&&this._expiredContent.destroy(),this._debugBoundingVolume=this._debugBoundingVolume&&this._debugBoundingVolume.destroy(),this._debugContentBoundingVolume=this._debugContentBoundingVolume&&this._debugContentBoundingVolume.destroy(),this._debugViewerRequestVolume=this._debugViewerRequestVolume&&this._debugViewerRequestVolume.destroy(),l(this)},R}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1252),n(1281),n(1282),n(1284),n(1287),n(1289),n(1290)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";var s={b3dm:function(t,n,r,i,o){return new e(t,n,r,i,o)},pnts:function(e,t,n,r,o){return new i(e,t,n,r,o)},i3dm:function(e,t,n,i,o){return new r(e,t,n,i,o)},cmpt:function(e,n,r,i,o){return new t(e,n,r,i,o,s)},json:function(e,t,n,r,i){return new o(e,t,n,r,i)},geom:function(e,t,r,i,o){return new n(e,t,r,i,o)},vctr:function(e,t,n,r,i){return new a(e,t,n,r,i)}};return s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(25),n(31),n(1),n(0),n(2),n(94),n(21),n(3),n(39),n(108),n(20),n(161),n(26),n(50),n(47),n(174),n(176),n(163),n(360),n(1254),n(451),n(178)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w){"use strict";function x(e,t,n,r,i){this._tileset=e,this._tile=t,this._resource=n,this._model=void 0,this._batchTable=void 0,this._features=void 0,this._batchIdAttributeName=void 0,this._diffuseAttributeOrUniformName={},this._rtcCenterTransform=void 0,this._contentModelMatrix=void 0,this.featurePropertiesDirty=!1,O(this,r,i)}function E(e){var t=w.getAttributeOrUniformBySemantic(e,"_BATCHID");return i(t)||(t=w.getAttributeOrUniformBySemantic(e,"BATCHID"),i(t)&&x._deprecationWarning("b3dm-legacy-batchid","The glTF in this b3dm uses the semantic `BATCHID`. Application-specific semantics should be prefixed with an underscore: `_BATCHID`.")),t}function C(e){return function(t,n){var r=e._batchTable,o=!i(e._tileset.classificationType),a=e._model.gltf;i(a)&&(e._batchIdAttributeName=E(a),e._diffuseAttributeOrUniformName[n]=w.getDiffuseAttributeOrUniform(a,n));var s=r.getVertexShaderCallback(o,e._batchIdAttributeName,e._diffuseAttributeOrUniformName[n]);return i(s)?s(t):t}}function S(e){return function(t,n){var r=e._batchTable,o=!i(e._tileset.classificationType),a=e._model.gltf;i(a)&&(e._diffuseAttributeOrUniformName[n]=w.getDiffuseAttributeOrUniform(a,n));var s=r.getFragmentShaderCallback(o,e._diffuseAttributeOrUniformName[n]);return i(s)?s(t):t}}function T(e){return function(){return e._batchTable.getPickId()}}function I(e){return function(t){var n=e._batchTable,r=n.getClassificationFragmentShaderCallback();return i(r)?r(t):t}}function M(e){return function(t,n){e._model.updateCommands(t,n)}}function O(t,o,a){var s=t._tileset,u=t._tile,l=t._resource,p=r(a,0);a=p;var v=new Uint8Array(o),w=new DataView(o);a+=D;var E=w.getUint32(a,!0);if(1!==E)throw new f("Only Batched 3D Model version 1 is supported.  Version "+E+" is not.");a+=D;var O=w.getUint32(a,!0);a+=D;var P=w.getUint32(a,!0);a+=D;var B=w.getUint32(a,!0);a+=D;var L=w.getUint32(a,!0);a+=D;var N=w.getUint32(a,!0);a+=D;var R;L>=570425344?(a-=2*D,R=P,L=B,N=0,P=0,B=0,x._deprecationWarning("b3dm-legacy-header","This b3dm header is using the legacy format [batchLength] [batchTableByteLength]. The new format is [featureTableJsonByteLength] [featureTableBinaryByteLength] [batchTableJsonByteLength] [batchTableBinaryByteLength] from https://github.com/AnalyticalGraphicsInc/3d-tiles/tree/master/specification/TileFormats/Batched3DModel.")):N>=570425344&&(a-=D,R=L,L=P,N=B,P=0,B=0,x._deprecationWarning("b3dm-legacy-header","This b3dm header is using the legacy format [batchTableJsonByteLength] [batchTableBinaryByteLength] [batchLength]. The new format is [featureTableJsonByteLength] [featureTableBinaryByteLength] [batchTableJsonByteLength] [batchTableBinaryByteLength] from https://github.com/AnalyticalGraphicsInc/3d-tiles/tree/master/specification/TileFormats/Batched3DModel."));var k;if(0===P)k={BATCH_LENGTH:r(R,0)};else{var F=c(v,a,P);k=JSON.parse(F),a+=P}var U=new Uint8Array(o,a,B);a+=B;var z=new A(k,U);R=z.getGlobalProperty("BATCH_LENGTH"),z.featuresLength=R;var j,H;if(L>0){var V=c(v,a,L);j=JSON.parse(V),a+=L,N>0&&(H=new Uint8Array(o,a,N),H=new Uint8Array(H),a+=N)}var Q;i(s.classificationType)&&(Q=M(t));var G=new _(t,R,j,H,Q);t._batchTable=G;var W=p+O-a;if(0===W)throw new f("glTF byte length must be greater than 0.");var q;a%4==0?q=new Uint8Array(o,a,W):(x._deprecationWarning("b3dm-glb-unaligned","The embedded glb is not aligned to a 4-byte boundary."),q=new Uint8Array(v.subarray(a,a+W)));var Y={content:t,primitive:s};t._rtcCenterTransform=h.IDENTITY;var K=z.getGlobalProperty("RTC_CENTER",n.FLOAT,3);i(K)&&(t._rtcCenterTransform=h.fromTranslation(e.fromArray(K))),t._contentModelMatrix=h.multiply(u.computedTransform,t._rtcCenterTransform,new h),i(s.classificationType)?t._model=new y({gltf:q,cull:!1,basePath:l,requestType:d.TILES3D,modelMatrix:t._contentModelMatrix,upAxis:s._gltfUpAxis,forwardAxis:g.X,debugWireframe:s.debugWireframe,vertexShaderLoaded:C(t),classificationShaderLoaded:I(t),uniformMapLoaded:G.getUniformMapCallback(),pickIdLoaded:T(t),classificationType:s._classificationType,batchTable:G}):t._model=new b({gltf:q,cull:!1,releaseGltfJson:!0,opaquePass:m.CESIUM_3D_TILE,basePath:l,requestType:d.TILES3D,modelMatrix:t._contentModelMatrix,upAxis:s._gltfUpAxis,forwardAxis:g.X,shadows:s.shadows,debugWireframe:s.debugWireframe,incrementallyLoadTextures:!1,vertexShaderLoaded:C(t),fragmentShaderLoaded:S(t),uniformMapLoaded:G.getUniformMapCallback(),pickIdLoaded:T(t),addBatchIdToGeneratedShaders:R>0,pickObject:Y})}function P(e){var t=e.featuresLength;if(!i(e._features)&&t>0){for(var n=new Array(t),r=0;r<t;++r)n[r]=new v(e,r);e._features=n}}if(!l.supportsTypedArrays())return{};x._deprecationWarning=a,o(x.prototype,{featuresLength:{get:function(){return this._batchTable.featuresLength}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return this._model.trianglesLength}},geometryByteLength:{get:function(){return this._model.geometryByteLength}},texturesByteLength:{get:function(){return this._model.texturesByteLength}},batchTableByteLength:{get:function(){return this._batchTable.memorySizeInBytes}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._model.readyPromise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){return this._batchTable}}});var D=Uint32Array.BYTES_PER_ELEMENT;return x.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},x.prototype.getFeature=function(e){return P(this),this._features[e]},x.prototype.applyDebugSettings=function(e,n){n=e?n:t.WHITE,0===this.featuresLength?this._model.color=n:this._batchTable.setAllColor(n)},x.prototype.applyStyle=function(e){this._batchTable.applyStyle(e)},x.prototype.update=function(e,t){var n=t.commandList.length;this._batchTable.update(e,t),this._contentModelMatrix=h.multiply(this._tile.computedTransform,this._rtcCenterTransform,this._contentModelMatrix),this._model.modelMatrix=this._contentModelMatrix,this._model.shadows=this._tileset.shadows,this._model.debugWireframe=this._tileset.debugWireframe;var r=this._tileset.clippingPlanes;this._tile.clippingPlanesDirty&&i(r)&&(this._model.clippingPlaneOffsetMatrix=this._tileset.clippingPlaneOffsetMatrix,this._model._clippingPlanes=r.enabled&&this._tile._isClipped?r:void 0),i(r)&&i(this._model._clippingPlanes)&&this._model._clippingPlanes!==r&&(this._model._clippingPlanes=r),this._model.update(t),n<t.commandList.length&&(t.passes.render||t.passes.pick)&&!i(e.classificationType)&&this._batchTable.addDerivedCommands(t,n)},x.prototype.isDestroyed=function(){return!1},x.prototype.destroy=function(){return this._model=this._model&&this._model.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),s(this)},x}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(10),n(41),n(31),n(120),n(40),n(20)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function s(e){var t,n=e.componentType;t="string"==typeof n?r.fromName(n):n;var i=u[e.type],o=l[e.type];return{componentsPerAttribute:i,classType:o,createArrayBufferView:function(e,n,o){return r.createArrayBufferView(t,e,n,i*o)}}}var u={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},l={SCALAR:void 0,VEC2:e,VEC3:t,VEC4:n,MAT2:i,MAT3:o,MAT4:a};return s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(136),n(38),n(10),n(41),n(25),n(42),n(31),n(1),n(0),n(2),n(21),n(3),n(39),n(49),n(20),n(54),n(26),n(50),n(34),n(603),n(57),n(145),n(110),n(604),n(606),n(7),n(174),n(159),n(608),n(178),n(609),n(611),n(46),n(265),n(361)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L){"use strict";function N(e){e=s(e,s.EMPTY_OBJECT);var n=e.gltf;if(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),!(n instanceof Uint8Array))throw new g("Only binary glTF is supported as a classifier.");n=x(n),E(n),A(n),O(n),P(n),y.buffer(n,function(e){if(!u(e.extras._pipeline.source))throw new g("Buffer data must be embedded in the binary gltf.")});var r=n.nodes,i=n.meshes,o=r[0],a=o.mesh;if(1!==r.length||!u(a))throw new g("Only one node is supported for classification and it must have a mesh.");if(1!==i.length)throw new g("Only one mesh is supported when using b3dm for classification.");var l=i[0].primitives;if(1!==l.length)throw new g("Only one primitive per mesh is supported when using b3dm for classification.");var c=l[0].attributes.POSITION;if(!u(c))throw new g("The mesh must have a position attribute.");var h=l[0].attributes._BATCHID;if(!u(h))throw new g("The mesh must have a batch id attribute.");this._gltf=n,this.show=s(e.show,!0),this.modelMatrix=p.clone(s(e.modelMatrix,p.IDENTITY)),this._modelMatrix=p.clone(this.modelMatrix),this._ready=!1,this._readyPromise=C.defer(),this.debugShowBoundingVolume=s(e.debugShowBoundingVolume,!1),this._debugShowBoundingVolume=!1,this.debugWireframe=s(e.debugWireframe,!1),this._debugWireframe=!1,this._classificationType=e.classificationType,this._vertexShaderLoaded=e.vertexShaderLoaded,this._classificationShaderLoaded=e.classificationShaderLoaded,this._uniformMapLoaded=e.uniformMapLoaded,this._pickIdLoaded=e.pickIdLoaded,this._ignoreCommands=s(e.ignoreCommands,!1),this._upAxis=s(e.upAxis,S.Y),this._batchTable=e.batchTable,this._computedModelMatrix=new p,this._initialRadius=void 0,this._boundingSphere=void 0,this._scaledBoundingSphere=new t,this._state=ee.NEEDS_LOAD,this._loadResources=void 0,this._mode=void 0,this._dirty=!1,this._nodeMatrix=new p,this._primitive=void 0,this._extensionsUsed=void 0,this._extensionsRequired=void 0,this._quantizedUniforms=void 0,this._buffers={},this._vertexArray=void 0,this._shaderProgram=void 0,this._uniformMap=void 0,this._geometryByteLength=0,this._trianglesLength=0,this._rtcCenter=void 0,this._rtcCenterEye=void 0,this._rtcCenter3D=void 0,this._rtcCenter2D=void 0}function R(e){var t=e.gltf,n=e._loadResources;y.buffer(t,function(e,t){n.buffers[t]=e.extras._pipeline.source})}function k(e){var t=e.gltf.bufferViews,n=e._loadResources.vertexBuffersToCreate;y.bufferView(e.gltf,function(e,t){e.target===v.ARRAY_BUFFER&&n.enqueue(t)});var r=e._loadResources.indexBuffersToCreate,i={};y.accessor(e.gltf,function(e){var n=e.bufferView;t[n].target!==v.ELEMENT_ARRAY_BUFFER||u(i[n])||(i[n]=!0,r.enqueue({id:n,componentType:e.componentType}))})}function F(e,t){var n=t._loadResources,r=t.gltf.bufferViews,i=r[e],o=n.getBuffer(i);t._buffers[e]=o,t._geometryByteLength+=o.byteLength}function U(e,t,n){var r=n._loadResources,i=n.gltf.bufferViews,o=i[e],a={typedArray:r.getBuffer(o),indexDatatype:t};n._buffers[e]=a,n._geometryByteLength+=a.typedArray.byteLength}function z(e){var t=e._loadResources;if(0===t.pendingBufferLoads){for(var n=t.vertexBuffersToCreate,r=t.indexBuffersToCreate;n.length>0;)F(n.dequeue(),e);for(;r.length>0;){var i=r.dequeue();U(i.id,i.componentType,e)}}}function j(e,t){var n=t.gltf.meshes[0].primitives[0],r=M.modifyShaderForQuantizedAttributes(t.gltf,n,e);return t._quantizedUniforms=r.uniforms,r.shader}function H(e,t){return u(t)&&(e=t(e)),e}function V(e){var t=e.gltf,n=M.getAttributeOrUniformBySemantic(t,"POSITION"),r=M.getAttributeOrUniformBySemantic(t,"_BATCHID"),i={};i[n]=0,i[r]=1;var o,a,s=M.getAttributeOrUniformBySemantic(t,"MODELVIEWPROJECTION");if(u(s))o="uniform mat4 "+s+";\n",a=s+" * vec4("+n+", 1.0)";else{var l=M.getAttributeOrUniformBySemantic(t,"PROJECTION"),c=M.getAttributeOrUniformBySemantic(t,"MODELVIEW");u(c)||(c=M.getAttributeOrUniformBySemantic(t,"CESIUM_RTC_MODELVIEW")),o="uniform mat4 "+c+";\nuniform mat4 "+l+";\n",a=l+" * "+c+" * vec4("+n+", 1.0)"}var h="    vec4 positionInClipCoords = "+a+";\n",d="attribute vec3 "+n+";\nattribute float "+r+";\n"+o+"void main() {\n"+h+"    gl_Position = czm_depthClampFarPlane(positionInClipCoords);\n}\n";e.extensionsUsed.WEB3D_quantized_attributes&&(d=j(d,e));var f=H(d,e._vertexShaderLoaded),p=H("#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n#endif\nvoid main() \n{ \n    gl_FragColor = vec4(1.0); \n    czm_writeDepthClampedToFarPlane();\n}\n",e._classificationShaderLoaded);f=M.modifyVertexShaderForLogDepth(f,a),p=M.modifyFragmentShaderForLogDepth(p),e._shaderProgram={vertexShaderSource:f,fragmentShaderSource:p,attributeLocations:i}}function Q(){return{POSITION:0,_BATCHID:1}}function G(e){if(e._loadResources.finishedBuffersCreation()&&!u(e._vertexArray)){var t=e._buffers,n=e.gltf,r=n.accessors,i=n.meshes,o=i[0].primitives,a=o[0],s=Q(),l={};y.meshPrimitiveAttribute(a,function(e,i){var o=s[i];if(u(o)){var a=r[e];l[i]={index:o,vertexBuffer:t[a.bufferView],componentsPerAttribute:w(a.type),componentDatatype:a.componentType,offsetInBytes:a.byteOffset,strideInBytes:b(n,a)}}});var c;if(u(a.indices)){var h=r[a.indices];c=t[h.bufferView]}e._vertexArray={attributes:l,indexBuffer:c}}}function W(e,t){if(!u(e._uniformMap)){var n={};y.technique(e.gltf,function(r){y.techniqueUniform(r,function(r,i){u(r.semantic)&&u(te[r.semantic])&&(n[i]=te[r.semantic](t.uniformState,e))})}),e._uniformMap=n}}function q(e,t){return M.createUniformsForQuantizedAttributes(e.gltf,t,e._quantizedUniforms)}function Y(e,t){switch(e.mode){case m.TRIANGLES:return t/3;case m.TRIANGLE_STRIP:case m.TRIANGLE_FAN:return Math.max(t-2,0);default:return 0}}function K(r){var s,l,c=r._batchTable,h=r._uniformMap,d=r._vertexArray,m=r.gltf,g=m.accessors,_=m.meshes,v=_[0].primitives[0],A=g[v.indices],y=v.attributes.POSITION,b=M.getAccessorMinMax(m,y),w=t.fromCornerPoints(n.fromArray(b.min),n.fromArray(b.max));if(u(A))l=A.count,s=A.byteOffset/f.getSizeInBytes(A.componentType);else{l=g[v.attributes.POSITION].count,s=0}if(r._trianglesLength+=Y(v,l),u(r._uniformMapLoaded)&&(h=r._uniformMapLoaded(h)),r.extensionsUsed.WEB3D_quantized_attributes){var x=q(r,v);h=o(h,x)}var E=d.attributes.POSITION,C=E.componentDatatype,S=E.vertexBuffer,T=S.byteOffset,I=S.byteLength/a.getSizeInBytes(C),O=a.createArrayBufferView(C,S.buffer,T,I);E=d.attributes._BATCHID,C=E.componentDatatype,S=E.vertexBuffer,T=S.byteOffset,I=S.byteLength/a.getSizeInBytes(C);var P,D=a.createArrayBufferView(C,S.buffer,T,I),N=d.indexBuffer.typedArray;P=d.indexBuffer.indexDatatype===f.UNSIGNED_SHORT?new Uint16Array(N.buffer,N.byteOffset,N.byteLength/Uint16Array.BYTES_PER_ELEMENT):new Uint32Array(N.buffer,N.byteOffset,N.byteLength/Uint32Array.BYTES_PER_ELEMENT),O=e(O),D=e(D),P=e(P,s,s+l);var R=[],k=[],F=[],U=[],z=D[P[0]];R.push(z),F.push(0);for(var j,H,V,Q=P.length,G=1;G<Q;++G)(j=D[P[G]])!==z&&(H=F[F.length-1],V=G-H,R.push(j),k.push(V),F.push(G),U.push(new B({offset:H,count:V,batchIds:[z],color:i.WHITE})),z=j);H=F[F.length-1],V=Q-H,k.push(V),U.push(new B({offset:H,count:V,batchIds:[z],color:i.WHITE}));var W=r._shaderProgram,K=W.vertexShaderSource,X=W.fragmentShaderSource,Z=W.attributeLocations,J=u(r._pickIdLoaded)?r._pickIdLoaded():void 0;r._primitive=new L({classificationType:r._classificationType,positions:O,indices:P,indexOffsets:F,indexCounts:k,batchIds:R,vertexBatchIds:D,batchedIndices:U,batchTable:c,boundingVolume:new t,_vertexShaderSource:K,_fragmentShaderSource:X,_attributeLocations:Z,_uniformMap:h,_pickId:J,_modelMatrix:new p,_boundingSphere:w}),r._buffers=void 0,r._vertexArray=void 0,r._shaderProgram=void 0,r._uniformMap=void 0}function X(e){if(e._loadResources.finished()&&!u(e._primitive)){var t=e.gltf,n=t.nodes,r=n[0];e._nodeMatrix=M.getTransform(r,e._nodeMatrix),K(e)}}function Z(e,t){var n=t.context;M.checkSupportedGlExtensions(e.gltf.glExtensionsUsed,n),z(e),V(e),G(e),W(e,n),X(e)}function J(e,i,o,a){var s=e._computedModelMatrix;if(e._mode!==D.SCENE3D&&!e._ignoreCommands){var l=p.getColumn(s,3,ne);if(r.equals(l,r.UNIT_W)){var c=e.boundingSphere.center,h=_.wgs84To2DModelMatrix(a,c,re);s=p.multiply(h,s,re),u(e._rtcCenter)&&(p.setTranslation(s,r.UNIT_W,s),e._rtcCenter=e._rtcCenter2D)}else s=_.basisTo2D(a,s,re),e._rtcCenter=e._rtcCenter3D}var d=e._primitive;(i||o)&&(p.multiplyTransformation(s,e._nodeMatrix,d._modelMatrix),t.transform(d._boundingSphere,d._modelMatrix,d._boundingVolume),u(e._rtcCenter)&&n.add(e._rtcCenter,d._boundingVolume.center,d._boundingVolume.center))}if(!d.supportsTypedArrays())return{};var $=new n,ee=M.ModelState;l(N.prototype,{gltf:{get:function(){return this._gltf}},boundingSphere:{get:function(){var e=this.modelMatrix,t=p.getScale(e,$),r=this._scaledBoundingSphere;return r.center=n.multiplyComponents(this._boundingSphere.center,t,r.center),r.radius=n.maximumComponent(t)*this._initialRadius,u(this._rtcCenter)&&n.add(this._rtcCenter,r.center,r.center),r}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},dirty:{get:function(){return this._dirty}},extensionsUsed:{get:function(){return u(this._extensionsUsed)||(this._extensionsUsed=M.getUsedExtensions(this.gltf)),this._extensionsUsed}},extensionsRequired:{get:function(){return u(this._extensionsRequired)||(this._extensionsRequired=M.getRequiredExtensions(this.gltf)),this._extensionsRequired}},upAxis:{get:function(){return this._upAxis}},trianglesLength:{get:function(){return this._trianglesLength}},geometryByteLength:{get:function(){return this._geometryByteLength}},texturesByteLength:{get:function(){return 0}},classificationType:{get:function(){return this._classificationType}}});var te={PROJECTION:function(e,t){return M.getGltfSemanticUniforms().PROJECTION(e,t)},MODELVIEW:function(e,t){return M.getGltfSemanticUniforms().MODELVIEW(e,t)},CESIUM_RTC_MODELVIEW:function(e,t){return M.getGltfSemanticUniforms().CESIUM_RTC_MODELVIEW(e,t)},MODELVIEWPROJECTION:function(e,t){return M.getGltfSemanticUniforms().MODELVIEWPROJECTION(e,t)}},ne=new r,re=new p;return N.prototype.updateCommands=function(e,t){this._primitive.updateCommands(e,t)},N.prototype.update=function(e){if(e.mode!==D.MORPHING){if(this._state===ee.NEEDS_LOAD&&u(this.gltf)&&(this._state=ee.LOADING,this._state!==ee.FAILED)){var t=this.gltf.extensions;if(u(t)&&u(t.CESIUM_RTC)){var r=n.fromArray(t.CESIUM_RTC.center);if(!n.equals(r,n.ZERO)){this._rtcCenter3D=r;var i=e.mapProjection,o=i.ellipsoid,a=o.cartesianToCartographic(this._rtcCenter3D),s=i.project(a);n.fromElements(s.z,s.x,s.y,s),this._rtcCenter2D=s,this._rtcCenterEye=new n,this._rtcCenter=this._rtcCenter3D}}this._loadResources=new I,M.parseBuffers(this)}var l=this._loadResources,c=!1;this._state===ee.LOADING&&(0===l.pendingBufferLoads&&(M.checkSupportedExtensions(this.extensionsRequired),R(this),k(this),this._boundingSphere=M.computeBoundingSphere(this),this._initialRadius=this._boundingSphere.radius,Z(this,e)),l.finished()&&(this._state=ee.LOADED,c=!0)),u(l)&&this._state===ee.LOADED&&(c||Z(this,e),l.finished()&&(this._loadResources=void 0));var h=this.show;if(h&&this._state===ee.LOADED||c){this._dirty=!1;var d=this.modelMatrix,f=e.mode!==this._mode;this._mode=e.mode;var m=!p.equals(this._modelMatrix,d)||f;if(m||c){p.clone(d,this._modelMatrix);var g=this._computedModelMatrix;p.clone(d,g),this._upAxis===S.Y?p.multiplyTransformation(g,S.Y_UP_TO_Z_UP,g):this._upAxis===S.X&&p.multiplyTransformation(g,S.X_UP_TO_Z_UP,g)}(m||c)&&(J(this,m,c,e.mapProjection),this._dirty=!0)}if(c){var _=this;return void e.afterRender.push(function(){_._ready=!0,_._readyPromise.resolve(_)})}h&&!this._ignoreCommands&&(this._primitive.debugShowBoundingVolume=this.debugShowBoundingVolume,this._primitive.debugWireframe=this.debugWireframe,this._primitive.update(e))}},N.prototype.isDestroyed=function(){return!1},N.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),c(this)},N}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1256),n(0)],void 0!==(i=function(e,t){"use strict";function n(n,r){var i=n.extensionsUsed;if(t(i)){var o=i.indexOf(r);o>=0&&i.splice(o,1),e(n,r),0===i.length&&delete n.extensionsUsed}}return n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";function t(t,n){var r=t.extensionsRequired;if(e(r)){var i=r.indexOf(n);i>=0&&r.splice(i,1),0===r.length&&delete t.extensionsRequired}}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(145),n(607),n(110),n(130),n(31),n(0)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(a,s){var u=a.bufferViews,l=a.buffers,c=s.bufferView,h=n(s.type);if(!o(s.bufferView))return{min:r(new Array(h),0),max:r(new Array(h),0)};for(var d=r(new Array(h),Number.POSITIVE_INFINITY),f=r(new Array(h),Number.NEGATIVE_INFINITY),p=u[c],m=p.buffer,g=l[m],_=g.extras._pipeline.source,v=s.count,A=e(a,s),y=s.byteOffset+p.byteOffset+_.byteOffset,b=s.componentType,w=i.getSizeInBytes(b),x=new DataView(_.buffer),E=new Array(h),C=t(b),S=0;S<v;S++){C(x,y,h,w,E);for(var T=0;T<h;T++){var I=E[T];d[T]=Math.min(d[T],I),f[T]=Math.max(f[T],I)}y+=A}return{min:d,max:f}}return a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(264),n(57),n(1),n(0),n(34)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(e,t){var n=e.enable;return!!r(n)&&n.indexOf(t)>-1}function a(e,t){if(!r(e))return t;for(var n=0;n<4;n++)if(-1===c.indexOf(e[n]))return t;return e}function s(s){var c={},h={},d=s.techniques;return r(d)?(t.technique(s,function(e,t){var s=e.states;if(r(s)){var d=h[t]={};if(o(s,i.BLEND)){d.alphaMode="BLEND";var f=s.functions;r(f)&&(r(f.blendEquationSeparate)||r(f.blendFuncSeparate))&&(c[t]={blendEquation:n(f.blendEquationSeparate,u),blendFactors:a(f.blendFuncSeparate,l)})}o(s,i.CULL_FACE)||(d.doubleSided=!0),delete e.states}}),Object.keys(c).length>0&&(r(s.extensions)||(s.extensions={}),e(s,"KHR_blend")),t.material(s,function(e){if(r(e.technique)){var n=h[e.technique];t.objectLegacy(n,function(t,n){e[n]=t});var i=c[e.technique];r(i)&&(r(e.extensions)||(e.extensions={}),e.extensions.KHR_blend=i)}}),s):s}var u=[i.FUNC_ADD,i.FUNC_ADD],l=[i.ONE,i.ZERO,i.ONE,i.ZERO],c=[i.ZERO,i.ONE,i.SRC_COLOR,i.ONE_MINUS_SRC_COLOR,i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.DST_ALPHA,i.ONE_MINUS_DST_ALPHA,i.DST_COLOR,i.ONE_MINUS_DST_COLOR];return s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(264),n(1260),n(109),n(57),n(0)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(o){var a=o.techniques,s={},u={};if(i(a)){var l={programs:[],shaders:[],techniques:[]},c=o.glExtensionsUsed;delete o.glExtensionsUsed,r.technique(o,function(e,t){var i,a={name:e.name,program:void 0,attributes:{},uniforms:{}};r.techniqueAttribute(e,function(t,n){i=e.parameters[t],a.attributes[n]={semantic:i.semantic}}),r.techniqueUniform(e,function(t,n){i=e.parameters[t],a.uniforms[n]={count:i.count,node:i.node,type:i.type,semantic:i.semantic,value:i.value},s[t]=n});var h=o.programs[e.program],d={name:h.name,fragmentShader:void 0,vertexShader:void 0,glExtensions:c},f=o.shaders[h.fragmentShader];d.fragmentShader=n(l.shaders,f,!0);var p=o.shaders[h.vertexShader];d.vertexShader=n(l.shaders,p,!0),a.program=n(l.programs,d),u[t]=n(l.techniques,a)}),l.techniques.length>0&&(i(o.extensions)||(o.extensions={}),o.extensions.KHR_techniques_webgl=l,e(o,"KHR_techniques_webgl"),t(o,"KHR_techniques_webgl"))}return r.material(o,function(e){if(i(e.technique)){var t={technique:u[e.technique]};r.objectLegacy(e.values,function(e,n){i(t.values)||(t.values={});var r=s[n];t.values[r]=e}),i(e.extensions)||(e.extensions={}),e.extensions.KHR_techniques_webgl=t}delete e.technique,delete e.values}),delete o.techniques,delete o.programs,delete o.shaders,o}return o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(264),n(109),n(0)],void 0!==(i=function(e,t,n){"use strict";function r(r,i){var o=r.extensionsRequired;n(o)||(o=[],r.extensionsRequired=o),t(o,i,!0),e(r,i)}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(57),n(177),n(0)],void 0!==(i=function(e,t,n){"use strict";function r(e){return i(e,"accessor"),i(e,"bufferView"),i(e,"buffer"),e}function i(e,t){var r=s[t],i=e[r];if(n(i))for(var u=0,l=a[t](e),c=i.length,h=0;h<c;++h)l[h]||(o[t](e,h-u),u++)}function o(){}function a(){}var s={accessor:"accessors",buffer:"buffers",bufferView:"bufferViews"};return o.accessor=function(t,r){t.accessors.splice(r,1),e.mesh(t,function(t){e.meshPrimitive(t,function(t){e.meshPrimitiveAttribute(t,function(e,n){e>r&&t.attributes[n]--}),e.meshPrimitiveTarget(t,function(t){e.meshPrimitiveTargetAttribute(t,function(e,n){e>r&&t[n]--})});var i=t.indices;n(i)&&i>r&&t.indices--})}),e.skin(t,function(e){n(e.inverseBindMatrices)&&e.inverseBindMatrices>r&&e.inverseBindMatrices--}),e.animation(t,function(t){e.animationSampler(t,function(e){n(e.input)&&e.input>r&&e.input--,n(e.output)&&e.output>r&&e.output--})})},o.buffer=function(t,r){t.buffers.splice(r,1),e.bufferView(t,function(e){n(e.buffer)&&e.buffer>r&&e.buffer--})},o.bufferView=function(r,i){r.bufferViews.splice(i,1),e.accessor(r,function(e){n(e.bufferView)&&e.bufferView>i&&e.bufferView--}),e.shader(r,function(e){n(e.bufferView)&&e.bufferView>i&&e.bufferView--}),e.image(r,function(t){n(t.bufferView)&&t.bufferView>i&&t.bufferView--,e.compressedImage(t,function(e){var t=e.bufferView;n(t)&&t>i&&e.bufferView--})}),t(r,"KHR_draco_mesh_compression")&&e.mesh(r,function(t){e.meshPrimitive(t,function(e){n(e.extensions)&&n(e.extensions.KHR_draco_mesh_compression)&&e.extensions.KHR_draco_mesh_compression.bufferView>i&&e.extensions.KHR_draco_mesh_compression.bufferView--})})},a.accessor=function(t){var r={};return e.mesh(t,function(t){e.meshPrimitive(t,function(t){e.meshPrimitiveAttribute(t,function(e){r[e]=!0}),e.meshPrimitiveTarget(t,function(t){e.meshPrimitiveTargetAttribute(t,function(e){r[e]=!0})});var i=t.indices;n(i)&&(r[i]=!0)})}),e.skin(t,function(e){n(e.inverseBindMatrices)&&(r[e.inverseBindMatrices]=!0)}),e.animation(t,function(t){e.animationSampler(t,function(e){n(e.input)&&(r[e.input]=!0),n(e.output)&&(r[e.output]=!0)})}),r},a.buffer=function(t){var r={};return e.bufferView(t,function(e){n(e.buffer)&&(r[e.buffer]=!0)}),r},a.bufferView=function(r){var i={};return e.accessor(r,function(e){n(e.bufferView)&&(i[e.bufferView]=!0)}),e.shader(r,function(e){n(e.bufferView)&&(i[e.bufferView]=!0)}),e.image(r,function(t){n(t.bufferView)&&(i[t.bufferView]=!0),e.compressedImage(t,function(e){n(e.bufferView)&&(i[e.bufferView]=!0)})}),t(r,"KHR_draco_mesh_compression")&&e.mesh(r,function(t){e.meshPrimitive(t,function(e){n(e.extensions)&&n(e.extensions.KHR_draco_mesh_compression)&&(i[e.extensions.KHR_draco_mesh_compression.bufferView]=!0)})}),i},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1263),n(57),n(1264),n(31),n(34)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(e){var n;return t.accessorWithSemantic(e,"JOINTS_0",function(t){var o=e.accessors[t];n=o.componentType,n===i.BYTE?a(e,o,r.UNSIGNED_BYTE):n!==i.UNSIGNED_BYTE&&n!==i.UNSIGNED_SHORT&&a(e,o,r.UNSIGNED_SHORT)}),t.accessorWithSemantic(e,"WEIGHTS_0",function(t){var o=e.accessors[t];n=o.componentType,n===i.BYTE?a(e,o,r.UNSIGNED_BYTE):n===i.SHORT&&a(e,o,r.UNSIGNED_SHORT)}),e}function a(t,i,o){var a=r.createTypedArray(o,n(t,i)),s=new Uint8Array(a.buffer);i.bufferView=e(t,s),i.componentType=o,i.byteOffset=0}return o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(109)],void 0!==(i=function(e){"use strict";function t(t,n){var r={byteLength:n.length,extras:{_pipeline:{source:n}}},i=e(t.buffers,r),o={buffer:i,byteOffset:0,byteLength:n.length};return e(t.bufferViews,o)}return t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(145),n(607),n(110),n(130),n(31),n(0)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(a,s){var u=e(a,s),l=i.getSizeInBytes(s.componentType),c=n(s.type),h=s.count,d=new Array(c*h);if(!o(s.bufferView))return r(d,0),d;for(var f=a.bufferViews[s.bufferView],p=a.buffers[f.buffer].extras._pipeline.source,m=s.byteOffset+f.byteOffset+p.byteOffset,g=new DataView(p.buffer),_=new Array(c),v=t(s.componentType),A=0;A<h;++A){v(g,m,c,l,_);for(var y=0;y<c;++y)d[A*c+y]=_[y];m+=u}return d}return a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"attribute vec3 position;\nattribute float a_batchId;\n\nuniform mat4 u_modifiedModelViewProjection;\n\nvoid main()\n{\n    gl_Position = czm_depthClampFarPlane(u_modifiedModelViewProjection * vec4(position, 1.0));\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(17),n(10),n(41),n(12),n(25),n(0),n(2),n(3),n(62),n(9),n(26),n(1267),n(1268)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d){"use strict";function f(e,t){this._expression=e,e=S(e,t),e=M(T(e)),h.addBinaryOp("=~",0),h.addBinaryOp("!~",0);var n;try{n=h(e)}catch(e){throw new c(e)}this._runtimeAst=z(this,n)}function p(e){return e-Math.floor(e)}function m(e){return Math.pow(2,e)}function g(e){return l.log2(e)}function _(r){return function(i,o){if("number"==typeof o)return r(o);if(o instanceof e)return e.fromElements(r(o.x),r(o.y),$.getCartesian2());if(o instanceof t)return t.fromElements(r(o.x),r(o.y),r(o.z),$.getCartesian3());if(o instanceof n)return n.fromElements(r(o.x),r(o.y),r(o.z),r(o.w),$.getCartesian4());throw new c('Function "'+i+'" requires a vector or number argument. Argument is '+o+".")}}function v(r,i){return function(o,a,s){if(i&&"number"==typeof s){if("number"==typeof a)return r(a,s);if(a instanceof e)return e.fromElements(r(a.x,s),r(a.y,s),$.getCartesian2());if(a instanceof t)return t.fromElements(r(a.x,s),r(a.y,s),r(a.z,s),$.getCartesian3());if(a instanceof n)return n.fromElements(r(a.x,s),r(a.y,s),r(a.z,s),r(a.w,s),$.getCartesian4())}if("number"==typeof a&&"number"==typeof s)return r(a,s);if(a instanceof e&&s instanceof e)return e.fromElements(r(a.x,s.x),r(a.y,s.y),$.getCartesian2());if(a instanceof t&&s instanceof t)return t.fromElements(r(a.x,s.x),r(a.y,s.y),r(a.z,s.z),$.getCartesian3());if(a instanceof n&&s instanceof n)return n.fromElements(r(a.x,s.x),r(a.y,s.y),r(a.z,s.z),r(a.w,s.w),$.getCartesian4());throw new c('Function "'+o+'" requires vector or number arguments of matching types. Arguments are '+a+" and "+s+".")}}function A(r,i){return function(o,a,s,u){if(i&&"number"==typeof u){if("number"==typeof a&&"number"==typeof s)return r(a,s,u);if(a instanceof e&&s instanceof e)return e.fromElements(r(a.x,s.x,u),r(a.y,s.y,u),$.getCartesian2());if(a instanceof t&&s instanceof t)return t.fromElements(r(a.x,s.x,u),r(a.y,s.y,u),r(a.z,s.z,u),$.getCartesian3());if(a instanceof n&&s instanceof n)return n.fromElements(r(a.x,s.x,u),r(a.y,s.y,u),r(a.z,s.z,u),r(a.w,s.w,u),$.getCartesian4())}if("number"==typeof a&&"number"==typeof s&&"number"==typeof u)return r(a,s,u);if(a instanceof e&&s instanceof e&&u instanceof e)return e.fromElements(r(a.x,s.x,u.x),r(a.y,s.y,u.y),$.getCartesian2());if(a instanceof t&&s instanceof t&&u instanceof t)return t.fromElements(r(a.x,s.x,u.x),r(a.y,s.y,u.y),r(a.z,s.z,u.z),$.getCartesian3());if(a instanceof n&&s instanceof n&&u instanceof n)return n.fromElements(r(a.x,s.x,u.x),r(a.y,s.y,u.y),r(a.z,s.z,u.z),r(a.w,s.w,u.w),$.getCartesian4());throw new c('Function "'+o+'" requires vector or number arguments of matching types. Arguments are '+a+", "+s+", and "+u+".")}}function y(r,i){if("number"==typeof i)return Math.abs(i);if(i instanceof e)return e.magnitude(i);if(i instanceof t)return t.magnitude(i);if(i instanceof n)return n.magnitude(i);throw new c('Function "'+r+'" requires a vector or number argument. Argument is '+i+".")}function b(r,i){if("number"==typeof i)return 1;if(i instanceof e)return e.normalize(i,$.getCartesian2());if(i instanceof t)return t.normalize(i,$.getCartesian3());if(i instanceof n)return n.normalize(i,$.getCartesian4());throw new c('Function "'+r+'" requires a vector or number argument. Argument is '+i+".")}function w(r,i,o){if("number"==typeof i&&"number"==typeof o)return Math.abs(i-o);if(i instanceof e&&o instanceof e)return e.distance(i,o);if(i instanceof t&&o instanceof t)return t.distance(i,o);if(i instanceof n&&o instanceof n)return n.distance(i,o);throw new c('Function "'+r+'" requires vector or number arguments of matching types. Arguments are '+i+" and "+o+".")}function x(r,i,o){if("number"==typeof i&&"number"==typeof o)return i*o;if(i instanceof e&&o instanceof e)return e.dot(i,o);if(i instanceof t&&o instanceof t)return t.dot(i,o);if(i instanceof n&&o instanceof n)return n.dot(i,o);throw new c('Function "'+r+'" requires vector or number arguments of matching types. Arguments are '+i+" and "+o+".")}function E(e,n,r){if(n instanceof t&&r instanceof t)return t.cross(n,r,$.getCartesian3());throw new c('Function "'+e+'" requires vec3 arguments. Arguments are '+n+" and "+r+".")}function C(e,t,n,r,i){this._type=e,this._value=t,this._left=n,this._right=r,this._test=i,this.evaluate=void 0,j(this)}function S(e,t){if(!o(t))return e;for(var n in t)if(t.hasOwnProperty(n)){var r=new RegExp("\\$\\{"+n+"\\}","g"),i="("+t[n]+")";o(i)&&(e=e.replace(r,i))}return e}function T(e){return e.replace(re,ie)}function I(e){return e.replace(oe,"\\")}function M(e){for(var t=e,n="",r=t.indexOf("${");r>=0;){var i,o=t.indexOf("'"),a=t.indexOf('"');if(o>=0&&o<r)i=t.indexOf("'",o+1),n+=t.substr(0,i+1),t=t.substr(i+1),r=t.indexOf("${");else if(a>=0&&a<r)i=t.indexOf('"',a+1),n+=t.substr(0,i+1),t=t.substr(i+1),r=t.indexOf("${");else{n+=t.substr(0,r);var s=t.indexOf("}");if(s<0)throw new c("Unmatched {.");n+="czm_"+t.substr(r+2,s-(r+2)),t=t.substr(s+1),r=t.indexOf("${")}}return n+=t}function O(e){var t=typeof e.value;return null===e.value?new C(d.LITERAL_NULL,null):"boolean"===t?new C(d.LITERAL_BOOLEAN,e.value):"number"===t?new C(d.LITERAL_NUMBER,e.value):"string"===t?e.value.indexOf("${")>=0?new C(d.VARIABLE_IN_STRING,e.value):new C(d.LITERAL_STRING,I(e.value)):void 0}function P(e,t){var n,r,i,a,s=t.arguments,u=s.length;if("MemberExpression"===t.callee.type){n=t.callee.property.name;var l=t.callee.object;if("test"===n||"exec"===n){if("regExp"!==l.callee.name)throw new c(n+" is not a function.");return 0===u?"test"===n?new C(d.LITERAL_BOOLEAN,!1):new C(d.LITERAL_NULL,null):(i=z(e,l),a=z(e,s[0]),new C(d.FUNCTION_CALL,n,i,a))}if("toString"===n)return r=z(e,l),new C(d.FUNCTION_CALL,n,r);throw new c('Unexpected function call "'+n+'".')}if("color"===(n=t.callee.name)){if(0===u)return new C(d.LITERAL_COLOR,n);if(r=z(e,s[0]),o(s[1])){var h=z(e,s[1]);return new C(d.LITERAL_COLOR,n,[r,h])}return new C(d.LITERAL_COLOR,n,[r])}if("rgb"===n||"hsl"===n){if(u<3)throw new c(n+" requires three arguments.");return r=[z(e,s[0]),z(e,s[1]),z(e,s[2])],new C(d.LITERAL_COLOR,n,r)}if("rgba"===n||"hsla"===n){if(u<4)throw new c(n+" requires four arguments.");return r=[z(e,s[0]),z(e,s[1]),z(e,s[2]),z(e,s[3])],new C(d.LITERAL_COLOR,n,r)}if("vec2"===n||"vec3"===n||"vec4"===n){r=new Array(u);for(var f=0;f<u;++f)r[f]=z(e,s[f]);return new C(d.LITERAL_VECTOR,n,r)}if("isNaN"===n||"isFinite"===n)return 0===u?"isNaN"===n?new C(d.LITERAL_BOOLEAN,!0):new C(d.LITERAL_BOOLEAN,!1):(r=z(e,s[0]),new C(d.UNARY,n,r));if("isExactClass"===n||"isClass"===n){if(u<1||u>1)throw new c(n+" requires exactly one argument.");return r=z(e,s[0]),new C(d.UNARY,n,r)}if("getExactClassName"===n){if(u>0)throw new c(n+" does not take any argument.");return new C(d.UNARY,n)}if(o(se[n])){if(1!==u)throw new c(n+" requires exactly one argument.");return r=z(e,s[0]),new C(d.UNARY,n,r)}if(o(ue[n])){if(2!==u)throw new c(n+" requires exactly two arguments.");return i=z(e,s[0]),a=z(e,s[1]),new C(d.BINARY,n,i,a)}if(o(le[n])){if(3!==u)throw new c(n+" requires exactly three arguments.");i=z(e,s[0]),a=z(e,s[1]);var p=z(e,s[2]);return new C(d.TERNARY,n,i,a,p)}if("Boolean"===n)return 0===u?new C(d.LITERAL_BOOLEAN,!1):(r=z(e,s[0]),new C(d.UNARY,n,r));if("Number"===n)return 0===u?new C(d.LITERAL_NUMBER,0):(r=z(e,s[0]),new C(d.UNARY,n,r));if("String"===n)return 0===u?new C(d.LITERAL_STRING,""):(r=z(e,s[0]),new C(d.UNARY,n,r));if("regExp"===n)return D(e,t);throw new c('Unexpected function call "'+n+'".')}function D(e,t){var n=t.arguments;if(0===n.length)return new C(d.LITERAL_REGEX,new RegExp);var r,i=z(e,n[0]);if(n.length>1){var o=z(e,n[1]);if(k(i)&&k(o)){try{r=new RegExp(I(String(i._value)),o._value)}catch(e){throw new c(e)}return new C(d.LITERAL_REGEX,r)}return new C(d.REGEX,i,o)}if(k(i)){try{r=new RegExp(I(String(i._value)))}catch(e){throw new c(e)}return new C(d.LITERAL_REGEX,r)}return new C(d.REGEX,i)}function B(e){if(F(e.name)){var t=U(e.name);return"tiles3d_"===t.substr(0,8)?new C(d.BUILTIN_VARIABLE,t):new C(d.VARIABLE,t)}if("NaN"===e.name)return new C(d.LITERAL_NUMBER,NaN);if("Infinity"===e.name)return new C(d.LITERAL_NUMBER,1/0);if("undefined"===e.name)return new C(d.LITERAL_UNDEFINED,void 0);throw new c(e.name+" is not defined.")}function L(e){var t=e.property.name;return"PI"===t?new C(d.LITERAL_NUMBER,Math.PI):"E"===t?new C(d.LITERAL_NUMBER,Math.E):void 0}function N(e){if("POSITIVE_INFINITY"===e.property.name)return new C(d.LITERAL_NUMBER,Number.POSITIVE_INFINITY)}function R(e,t){if("Math"===t.object.name)return L(t);if("Number"===t.object.name)return N(t);var n,r=z(e,t.object);return t.computed?(n=z(e,t.property),new C(d.MEMBER,"brackets",r,n)):(n=new C(d.LITERAL_STRING,t.property.name),new C(d.MEMBER,"dot",r,n))}function k(e){return e._type>=d.LITERAL_NULL}function F(e){return"czm_"===e.substr(0,4)}function U(e){return e.substr(4)}function z(e,t){var n,r,i,o;if("Literal"===t.type)n=O(t);else if("CallExpression"===t.type)n=P(e,t);else if("Identifier"===t.type)n=B(t);else if("UnaryExpression"===t.type){r=t.operator;var a=z(e,t.argument);if(!(ee.indexOf(r)>-1))throw new c('Unexpected operator "'+r+'".');n=new C(d.UNARY,r,a)}else if("BinaryExpression"===t.type){if(r=t.operator,i=z(e,t.left),o=z(e,t.right),!(te.indexOf(r)>-1))throw new c('Unexpected operator "'+r+'".');n=new C(d.BINARY,r,i,o)}else if("LogicalExpression"===t.type)r=t.operator,i=z(e,t.left),o=z(e,t.right),te.indexOf(r)>-1&&(n=new C(d.BINARY,r,i,o));else if("ConditionalExpression"===t.type){var s=z(e,t.test);i=z(e,t.consequent),o=z(e,t.alternate),n=new C(d.CONDITIONAL,"?",i,o,s)}else if("MemberExpression"===t.type)n=R(e,t);else{if("ArrayExpression"!==t.type)throw new c("Compound"===t.type?"Provide exactly one expression.":"Cannot parse expression.");for(var u=[],l=0;l<t.elements.length;l++)u[l]=z(e,t.elements[l]);n=new C(d.ARRAY,u)}return n}function j(e){e._type===d.CONDITIONAL?e.evaluate=e._evaluateConditional:e._type===d.FUNCTION_CALL?"test"===e._value?e.evaluate=e._evaluateRegExpTest:"exec"===e._value?e.evaluate=e._evaluateRegExpExec:"toString"===e._value&&(e.evaluate=e._evaluateToString):e._type===d.UNARY?"!"===e._value?e.evaluate=e._evaluateNot:"-"===e._value?e.evaluate=e._evaluateNegative:"+"===e._value?e.evaluate=e._evaluatePositive:"isNaN"===e._value?e.evaluate=e._evaluateNaN:"isFinite"===e._value?e.evaluate=e._evaluateIsFinite:"isExactClass"===e._value?e.evaluate=e._evaluateIsExactClass:"isClass"===e._value?e.evaluate=e._evaluateIsClass:"getExactClassName"===e._value?e.evaluate=e._evaluategetExactClassName:"Boolean"===e._value?e.evaluate=e._evaluateBooleanConversion:"Number"===e._value?e.evaluate=e._evaluateNumberConversion:"String"===e._value?e.evaluate=e._evaluateStringConversion:o(se[e._value])&&(e.evaluate=V(e._value)):e._type===d.BINARY?"+"===e._value?e.evaluate=e._evaluatePlus:"-"===e._value?e.evaluate=e._evaluateMinus:"*"===e._value?e.evaluate=e._evaluateTimes:"/"===e._value?e.evaluate=e._evaluateDivide:"%"===e._value?e.evaluate=e._evaluateMod:"==="===e._value?e.evaluate=e._evaluateEqualsStrict:"!=="===e._value?e.evaluate=e._evaluateNotEqualsStrict:"<"===e._value?e.evaluate=e._evaluateLessThan:"<="===e._value?e.evaluate=e._evaluateLessThanOrEquals:">"===e._value?e.evaluate=e._evaluateGreaterThan:">="===e._value?e.evaluate=e._evaluateGreaterThanOrEquals:"&&"===e._value?e.evaluate=e._evaluateAnd:"||"===e._value?e.evaluate=e._evaluateOr:"=~"===e._value?e.evaluate=e._evaluateRegExpMatch:"!~"===e._value?e.evaluate=e._evaluateRegExpNotMatch:o(ue[e._value])&&(e.evaluate=Q(e._value)):e._type===d.TERNARY?e.evaluate=G(e._value):e._type===d.MEMBER?"brackets"===e._value?e.evaluate=e._evaluateMemberBrackets:e.evaluate=e._evaluateMemberDot:e._type===d.ARRAY?e.evaluate=e._evaluateArray:e._type===d.VARIABLE?e.evaluate=e._evaluateVariable:e._type===d.VARIABLE_IN_STRING?e.evaluate=e._evaluateVariableString:e._type===d.LITERAL_COLOR?e.evaluate=e._evaluateLiteralColor:e._type===d.LITERAL_VECTOR?e.evaluate=e._evaluateLiteralVector:e._type===d.LITERAL_STRING?e.evaluate=e._evaluateLiteralString:e._type===d.REGEX?e.evaluate=e._evaluateRegExp:e._type===d.BUILTIN_VARIABLE?"tiles3d_tileset_time"===e._value&&(e.evaluate=H):e.evaluate=e._evaluateLiteral}function H(e){return e.content.tileset.timeSinceLoad}function V(e){var t=se[e];return function(n){var r=this._left.evaluate(n);return t(e,r)}}function Q(e){var t=ue[e];return function(n){var r=this._left.evaluate(n),i=this._right.evaluate(n);return t(e,r,i)}}function G(e){var t=le[e];return function(n){var r=this._left.evaluate(n),i=this._right.evaluate(n),o=this._test.evaluate(n);return t(e,r,i,o)}}function W(e){return"feature"===e._value}function q(e){for(var t=e._left,n=t.length,r=0;r<n;++r)if(t[r]._type!==d.LITERAL_NUMBER)return;var o=t[0]._value,a=t[1]._value,s=t[2]._value,u=4===n?t[3]._value:1;return i.fromHsl(o,a,s,u,ae)}function Y(e){for(var t=e._left,n=t.length,r=0;r<n;++r)if(t[r]._type!==d.LITERAL_NUMBER)return;var i=ae;return i.red=t[0]._value/255,i.green=t[1]._value/255,i.blue=t[2]._value/255,i.alpha=4===n?t[3]._value:1,i}function K(e){return e%1==0?e.toFixed(1):e.toString()}function X(e){return"vec3("+K(e.red)+", "+K(e.green)+", "+K(e.blue)+")"}function Z(e){return"vec4("+K(e.red)+", "+K(e.green)+", "+K(e.blue)+", "+K(e.alpha)+")"}function J(e,t,n,r){for(var i=e.length,o=new Array(i),a=0;a<i;++a)o[a]=e[a].getShaderExpression(t,n,r);return o}a(f.prototype,{expression:{get:function(){return this._expression}}});var $={arrayIndex:0,arrayArray:[[]],cartesian2Index:0,cartesian3Index:0,cartesian4Index:0,cartesian2Array:[new e],cartesian3Array:[new t],cartesian4Array:[new n],reset:function(){this.arrayIndex=0,this.cartesian2Index=0,this.cartesian3Index=0,this.cartesian4Index=0},getArray:function(){this.arrayIndex>=this.arrayArray.length&&this.arrayArray.push([]);var e=this.arrayArray[this.arrayIndex++];return e.length=0,e},getCartesian2:function(){return this.cartesian2Index>=this.cartesian2Array.length&&this.cartesian2Array.push(new e),this.cartesian2Array[this.cartesian2Index++]},getCartesian3:function(){return this.cartesian3Index>=this.cartesian3Array.length&&this.cartesian3Array.push(new t),this.cartesian3Array[this.cartesian3Index++]},getCartesian4:function(){return this.cartesian4Index>=this.cartesian4Array.length&&this.cartesian4Array.push(new n),this.cartesian4Array[this.cartesian4Index++]}};f.prototype.evaluate=function(r,o){$.reset();var a=this._runtimeAst.evaluate(r);return o instanceof i&&a instanceof n?i.fromCartesian4(a,o):a instanceof e||a instanceof t||a instanceof n?a.clone(o):a},f.prototype.evaluateColor=function(e,t){$.reset();var n=this._runtimeAst.evaluate(e);return i.fromCartesian4(n,t)},f.prototype.getShaderFunction=function(e,t,n,r){var i=this.getShaderExpression(t,n);return i=r+" "+e+"() \n{ \n    return "+i+"; \n} \n"},f.prototype.getShaderExpression=function(e,t){return this._runtimeAst.getShaderExpression(e,t)};var ee=["!","-","+"],te=["+","-","*","/","%","===","!==",">",">=","<","<=","&&","||","!~","=~"],ne=/\${(.*?)}/g,re=/\\/g,ie="@#%",oe=/@#%/g,ae=new i,se={abs:_(Math.abs),sqrt:_(Math.sqrt),cos:_(Math.cos),sin:_(Math.sin),tan:_(Math.tan),acos:_(Math.acos),asin:_(Math.asin),atan:_(Math.atan),radians:_(l.toRadians),degrees:_(l.toDegrees),sign:_(l.sign),floor:_(Math.floor),ceil:_(Math.ceil),round:_(Math.round),exp:_(Math.exp),exp2:_(m),log:_(Math.log),log2:_(g),fract:_(p),length:y,normalize:b},ue={atan2:v(Math.atan2,!1),pow:v(Math.pow,!1),min:v(Math.min,!0),max:v(Math.max,!0),distance:w,dot:x,cross:E},le={clamp:A(l.clamp,!0),mix:A(l.lerp,!0)};return C.prototype._evaluateLiteral=function(){return this._value},C.prototype._evaluateLiteralColor=function(e){var t=ae,r=this._left;if("color"===this._value)o(r)?r.length>1?(i.fromCssColorString(r[0].evaluate(e),t),t.alpha=r[1].evaluate(e)):i.fromCssColorString(r[0].evaluate(e),t):i.fromBytes(255,255,255,255,t);else if("rgb"===this._value)i.fromBytes(r[0].evaluate(e),r[1].evaluate(e),r[2].evaluate(e),255,t);else if("rgba"===this._value){var a=255*r[3].evaluate(e);i.fromBytes(r[0].evaluate(e),r[1].evaluate(e),r[2].evaluate(e),a,t)}else"hsl"===this._value?i.fromHsl(r[0].evaluate(e),r[1].evaluate(e),r[2].evaluate(e),1,t):"hsla"===this._value&&i.fromHsl(r[0].evaluate(e),r[1].evaluate(e),r[2].evaluate(e),r[3].evaluate(e),t);return n.fromColor(t,$.getCartesian4())},C.prototype._evaluateLiteralVector=function(r){for(var i=$.getArray(),o=this._value,a=this._left,s=a.length,u=0;u<s;++u){var l=a[u].evaluate(r);if("number"==typeof l)i.push(l);else if(l instanceof e)i.push(l.x,l.y);else if(l instanceof t)i.push(l.x,l.y,l.z);else{if(!(l instanceof n))throw new c(o+" argument must be a vector or number. Argument is "+l+".");i.push(l.x,l.y,l.z,l.w)}}var h=i.length,d=parseInt(o.charAt(3));if(0===h)throw new c("Invalid "+o+" constructor. No valid arguments.");if(h<d&&h>1)throw new c("Invalid "+o+" constructor. Not enough arguments.");if(h>d&&s>1)throw new c("Invalid "+o+" constructor. Too many arguments.");if(1===h){var f=i[0];i.push(f,f,f)}return"vec2"===o?e.fromArray(i,0,$.getCartesian2()):"vec3"===o?t.fromArray(i,0,$.getCartesian3()):"vec4"===o?n.fromArray(i,0,$.getCartesian4()):void 0},C.prototype._evaluateLiteralString=function(){return this._value},C.prototype._evaluateVariableString=function(e){for(var t=this._value,n=ne.exec(t);null!==n;){var r=n[0],i=n[1],a=e.getProperty(i);o(a)||(a=""),t=t.replace(r,a),n=ne.exec(t)}return t},C.prototype._evaluateVariable=function(e){return e.getProperty(this._value)},C.prototype._evaluateMemberDot=function(r){if(W(this._left))return r.getProperty(this._right.evaluate(r));var i=this._left.evaluate(r);if(o(i)){var a=this._right.evaluate(r);if(i instanceof e||i instanceof t||i instanceof n){if("r"===a)return i.x;if("g"===a)return i.y;if("b"===a)return i.z;if("a"===a)return i.w}return i[a]}},C.prototype._evaluateMemberBrackets=function(r){if(W(this._left))return r.getProperty(this._right.evaluate(r));var i=this._left.evaluate(r);if(o(i)){var a=this._right.evaluate(r);if(i instanceof e||i instanceof t||i instanceof n){if(0===a||"r"===a)return i.x;if(1===a||"g"===a)return i.y;if(2===a||"b"===a)return i.z;if(3===a||"a"===a)return i.w}return i[a]}},C.prototype._evaluateArray=function(e){for(var t=[],n=0;n<this._value.length;n++)t[n]=this._value[n].evaluate(e);return t},C.prototype._evaluateNot=function(e){var t=this._left.evaluate(e);if("boolean"!=typeof t)throw new c('Operator "!" requires a boolean argument. Argument is '+t+".");return!t},C.prototype._evaluateNegative=function(r){var i=this._left.evaluate(r);if(i instanceof e)return e.negate(i,$.getCartesian2());if(i instanceof t)return t.negate(i,$.getCartesian3());if(i instanceof n)return n.negate(i,$.getCartesian4());if("number"==typeof i)return-i;throw new c('Operator "-" requires a vector or number argument. Argument is '+i+".")},C.prototype._evaluatePositive=function(r){var i=this._left.evaluate(r);if(!(i instanceof e||i instanceof t||i instanceof n||"number"==typeof i))throw new c('Operator "+" requires a vector or number argument. Argument is '+i+".");return i},C.prototype._evaluateLessThan=function(e){var t=this._left.evaluate(e),n=this._right.evaluate(e);if("number"!=typeof t||"number"!=typeof n)throw new c('Operator "<" requires number arguments. Arguments are '+t+" and "+n+".");return t<n},C.prototype._evaluateLessThanOrEquals=function(e){var t=this._left.evaluate(e),n=this._right.evaluate(e);if("number"!=typeof t||"number"!=typeof n)throw new c('Operator "<=" requires number arguments. Arguments are '+t+" and "+n+".");return t<=n},C.prototype._evaluateGreaterThan=function(e){var t=this._left.evaluate(e),n=this._right.evaluate(e);if("number"!=typeof t||"number"!=typeof n)throw new c('Operator ">" requires number arguments. Arguments are '+t+" and "+n+".");return t>n},C.prototype._evaluateGreaterThanOrEquals=function(e){var t=this._left.evaluate(e),n=this._right.evaluate(e);if("number"!=typeof t||"number"!=typeof n)throw new c('Operator ">=" requires number arguments. Arguments are '+t+" and "+n+".");return t>=n},C.prototype._evaluateOr=function(e){var t=this._left.evaluate(e);if("boolean"!=typeof t)throw new c('Operator "||" requires boolean arguments. First argument is '+t+".");if(t)return!0;var n=this._right.evaluate(e);if("boolean"!=typeof n)throw new c('Operator "||" requires boolean arguments. Second argument is '+n+".");return t||n},C.prototype._evaluateAnd=function(e){var t=this._left.evaluate(e);if("boolean"!=typeof t)throw new c('Operator "&&" requires boolean arguments. First argument is '+t+".");if(!t)return!1;var n=this._right.evaluate(e);if("boolean"!=typeof n)throw new c('Operator "&&" requires boolean arguments. Second argument is '+n+".");return t&&n},C.prototype._evaluatePlus=function(r){var i=this._left.evaluate(r),o=this._right.evaluate(r);if(o instanceof e&&i instanceof e)return e.add(i,o,$.getCartesian2());if(o instanceof t&&i instanceof t)return t.add(i,o,$.getCartesian3());if(o instanceof n&&i instanceof n)return n.add(i,o,$.getCartesian4());if("string"==typeof i||"string"==typeof o)return i+o;if("number"==typeof i&&"number"==typeof o)return i+o;throw new c('Operator "+" requires vector or number arguments of matching types, or at least one string argument. Arguments are '+i+" and "+o+".")},C.prototype._evaluateMinus=function(r){var i=this._left.evaluate(r),o=this._right.evaluate(r);if(o instanceof e&&i instanceof e)return e.subtract(i,o,$.getCartesian2());if(o instanceof t&&i instanceof t)return t.subtract(i,o,$.getCartesian3());if(o instanceof n&&i instanceof n)return n.subtract(i,o,$.getCartesian4());if("number"==typeof i&&"number"==typeof o)return i-o;throw new c('Operator "-" requires vector or number arguments of matching types. Arguments are '+i+" and "+o+".")},C.prototype._evaluateTimes=function(r){var i=this._left.evaluate(r),o=this._right.evaluate(r);if(o instanceof e&&i instanceof e)return e.multiplyComponents(i,o,$.getCartesian2());if(o instanceof e&&"number"==typeof i)return e.multiplyByScalar(o,i,$.getCartesian2());if(i instanceof e&&"number"==typeof o)return e.multiplyByScalar(i,o,$.getCartesian2());if(o instanceof t&&i instanceof t)return t.multiplyComponents(i,o,$.getCartesian3());if(o instanceof t&&"number"==typeof i)return t.multiplyByScalar(o,i,$.getCartesian3());if(i instanceof t&&"number"==typeof o)return t.multiplyByScalar(i,o,$.getCartesian3());if(o instanceof n&&i instanceof n)return n.multiplyComponents(i,o,$.getCartesian4());if(o instanceof n&&"number"==typeof i)return n.multiplyByScalar(o,i,$.getCartesian4());if(i instanceof n&&"number"==typeof o)return n.multiplyByScalar(i,o,$.getCartesian4());if("number"==typeof i&&"number"==typeof o)return i*o;throw new c('Operator "*" requires vector or number arguments. If both arguments are vectors they must be matching types. Arguments are '+i+" and "+o+".")},C.prototype._evaluateDivide=function(r){var i=this._left.evaluate(r),o=this._right.evaluate(r);if(o instanceof e&&i instanceof e)return e.divideComponents(i,o,$.getCartesian2());if(i instanceof e&&"number"==typeof o)return e.divideByScalar(i,o,$.getCartesian2());if(o instanceof t&&i instanceof t)return t.divideComponents(i,o,$.getCartesian3());if(i instanceof t&&"number"==typeof o)return t.divideByScalar(i,o,$.getCartesian3());if(o instanceof n&&i instanceof n)return n.divideComponents(i,o,$.getCartesian4());if(i instanceof n&&"number"==typeof o)return n.divideByScalar(i,o,$.getCartesian4());if("number"==typeof i&&"number"==typeof o)return i/o;throw new c('Operator "/" requires vector or number arguments of matching types, or a number as the second argument. Arguments are '+i+" and "+o+".")},C.prototype._evaluateMod=function(r){var i=this._left.evaluate(r),o=this._right.evaluate(r);if(o instanceof e&&i instanceof e)return e.fromElements(i.x%o.x,i.y%o.y,$.getCartesian2());if(o instanceof t&&i instanceof t)return t.fromElements(i.x%o.x,i.y%o.y,i.z%o.z,$.getCartesian3());if(o instanceof n&&i instanceof n)return n.fromElements(i.x%o.x,i.y%o.y,i.z%o.z,i.w%o.w,$.getCartesian4());if("number"==typeof i&&"number"==typeof o)return i%o;throw new c('Operator "%" requires vector or number arguments of matching types. Arguments are '+i+" and "+o+".")},C.prototype._evaluateEqualsStrict=function(r){var i=this._left.evaluate(r),o=this._right.evaluate(r);return o instanceof e&&i instanceof e||o instanceof t&&i instanceof t||o instanceof n&&i instanceof n?i.equals(o):i===o},C.prototype._evaluateNotEqualsStrict=function(r){var i=this._left.evaluate(r),o=this._right.evaluate(r);return o instanceof e&&i instanceof e||o instanceof t&&i instanceof t||o instanceof n&&i instanceof n?!i.equals(o):i!==o},C.prototype._evaluateConditional=function(e){var t=this._test.evaluate(e);if("boolean"!=typeof t)throw new c("Conditional argument of conditional expression must be a boolean. Argument is "+t+".");return t?this._left.evaluate(e):this._right.evaluate(e)},C.prototype._evaluateNaN=function(e){return isNaN(this._left.evaluate(e))},C.prototype._evaluateIsFinite=function(e){return isFinite(this._left.evaluate(e))},C.prototype._evaluateIsExactClass=function(e){return e.isExactClass(this._left.evaluate(e))},C.prototype._evaluateIsClass=function(e){return e.isClass(this._left.evaluate(e))},C.prototype._evaluategetExactClassName=function(e){return e.getExactClassName()},C.prototype._evaluateBooleanConversion=function(e){return Boolean(this._left.evaluate(e))},C.prototype._evaluateNumberConversion=function(e){return Number(this._left.evaluate(e))},C.prototype._evaluateStringConversion=function(e){return String(this._left.evaluate(e))},C.prototype._evaluateRegExp=function(e){var t=this._value.evaluate(e),n="";o(this._left)&&(n=this._left.evaluate(e));var r;try{r=new RegExp(t,n)}catch(e){throw new c(e)}return r},C.prototype._evaluateRegExpTest=function(e){var t=this._left.evaluate(e),n=this._right.evaluate(e);if(!(t instanceof RegExp&&"string"==typeof n))throw new c("RegExp.test requires the first argument to be a RegExp and the second argument to be a string. Arguments are "+t+" and "+n+".");return t.test(n)},C.prototype._evaluateRegExpMatch=function(e){var t=this._left.evaluate(e),n=this._right.evaluate(e);if(t instanceof RegExp&&"string"==typeof n)return t.test(n);if(n instanceof RegExp&&"string"==typeof t)return n.test(t);throw new c('Operator "=~" requires one RegExp argument and one string argument. Arguments are '+t+" and "+n+".")},C.prototype._evaluateRegExpNotMatch=function(e){var t=this._left.evaluate(e),n=this._right.evaluate(e);if(t instanceof RegExp&&"string"==typeof n)return!t.test(n);if(n instanceof RegExp&&"string"==typeof t)return!n.test(t);throw new c('Operator "!~" requires one RegExp argument and one string argument. Arguments are '+t+" and "+n+".")},C.prototype._evaluateRegExpExec=function(e){var t=this._left.evaluate(e),n=this._right.evaluate(e);if(!(t instanceof RegExp&&"string"==typeof n))throw new c("RegExp.exec requires the first argument to be a RegExp and the second argument to be a string. Arguments are "+t+" and "+n+".");var r=t.exec(n);return o(r)?r[1]:null},C.prototype._evaluateToString=function(r){var i=this._left.evaluate(r);if(i instanceof RegExp||i instanceof e||i instanceof t||i instanceof n)return String(i);throw new c('Unexpected function call "'+this._value+'".')},C.prototype.getShaderExpression=function(e,t,n){var r,a,s,l,h=this._type,f=this._value;switch(o(this._left)&&(a=u(this._left)?J(this._left,e,t,this):this._left.getShaderExpression(e,t,this)),o(this._right)&&(s=this._right.getShaderExpression(e,t,this)),o(this._test)&&(l=this._test.getShaderExpression(e,t,this)),u(this._value)&&(f=J(this._value,e,t,this)),h){case d.VARIABLE:return e+f;case d.UNARY:if("Boolean"===f)return"bool("+a+")";if("Number"===f)return"float("+a+")";if("round"===f)return"floor("+a+" + 0.5)";if(o(se[f]))return f+"("+a+")";if("isNaN"===f||"isFinite"===f||"String"===f||"isExactClass"===f||"isClass"===f||"getExactClassName"===f)throw new c('Error generating style shader: "'+f+'" is not supported.');return o(se[f])?f+"("+a+")":f+a;case d.BINARY:return"%"===f?"mod("+a+", "+s+")":"==="===f?"("+a+" == "+s+")":"!=="===f?"("+a+" != "+s+")":"atan2"===f?"atan("+a+", "+s+")":o(ue[f])?f+"("+a+", "+s+")":"("+a+" "+f+" "+s+")";case d.TERNARY:if(o(le[f]))return f+"("+a+", "+s+", "+l+")";break;case d.CONDITIONAL:return"("+l+" ? "+a+" : "+s+")";case d.MEMBER:return"r"===s||"x"===s||"0.0"===s?a+"[0]":"g"===s||"y"===s||"1.0"===s?a+"[1]":"b"===s||"z"===s||"2.0"===s?a+"[2]":"a"===s||"w"===s||"3.0"===s?a+"[3]":a+"[int("+s+")]";case d.FUNCTION_CALL:throw new c('Error generating style shader: "'+f+'" is not supported.');case d.ARRAY:if(4===f.length)return"vec4("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")";if(3===f.length)return"vec3("+f[0]+", "+f[1]+", "+f[2]+")";if(2===f.length)return"vec2("+f[0]+", "+f[1]+")";throw new c("Error generating style shader: Invalid array length. Array length should be 2, 3, or 4.");case d.REGEX:throw new c("Error generating style shader: Regular expressions are not supported.");case d.VARIABLE_IN_STRING:throw new c("Error generating style shader: Converting a variable to a string is not supported.");case d.LITERAL_NULL:throw new c("Error generating style shader: null is not supported.");case d.LITERAL_BOOLEAN:return f?"true":"false";case d.LITERAL_NUMBER:return K(f);case d.LITERAL_STRING:if(o(n)&&n._type===d.MEMBER&&("r"===f||"g"===f||"b"===f||"a"===f||"x"===f||"y"===f||"z"===f||"w"===f))return f;if(r=i.fromCssColorString(f,ae),o(r))return X(r);throw new c("Error generating style shader: String literals are not supported.");case d.LITERAL_COLOR:var p=a;if("color"===f){if(!o(p))return"vec4(1.0)";if(p.length>1){var m=p[0],g=p[1];return"1.0"!==g&&(t.translucent=!0),"vec4("+m+", "+g+")"}return"vec4("+p[0]+", 1.0)"}if("rgb"===f)return r=Y(this),o(r)?Z(r):"vec4("+p[0]+" / 255.0, "+p[1]+" / 255.0, "+p[2]+" / 255.0, 1.0)";if("rgba"===f)return"1.0"!==p[3]&&(t.translucent=!0),r=Y(this),o(r)?Z(r):"vec4("+p[0]+" / 255.0, "+p[1]+" / 255.0, "+p[2]+" / 255.0, "+p[3]+")";if("hsl"===f)return r=q(this),o(r)?Z(r):"vec4(czm_HSLToRGB(vec3("+p[0]+", "+p[1]+", "+p[2]+")), 1.0)";if("hsla"===f)return r=q(this),o(r)?(1!==r.alpha&&(t.translucent=!0),Z(r)):("1.0"!==p[3]&&(t.translucent=!0),"vec4(czm_HSLToRGB(vec3("+p[0]+", "+p[1]+", "+p[2]+")), "+p[3]+")");break;case d.LITERAL_VECTOR:for(var _=a.length,v=f+"(",A=0;A<_;++A)v+=a[A],A<_-1&&(v+=", ");return v+=")";case d.LITERAL_REGEX:throw new c("Error generating style shader: Regular expressions are not supported.");case d.LITERAL_UNDEFINED:throw new c("Error generating style shader: undefined is not supported.");case d.BUILTIN_VARIABLE:if("tiles3d_tileset_time"===f)return"u_time"}},f}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){if(function(n){"use strict";var r=function(e,t){var n=new Error(e+" at character "+t);throw n.index=t,n.description=e,n},i={"-":!0,"!":!0,"~":!0,"+":!0},o={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},a=function(e){var t,n=0;for(var r in e)(t=r.length)>n&&e.hasOwnProperty(r)&&(n=t);return n},s=a(i),u=a(o),l={true:!0,false:!1,null:null},c=function(e){return o[e]||0},h=function(e,t,n){return{type:"||"===e||"&&"===e?"LogicalExpression":"BinaryExpression",operator:e,left:t,right:n}},d=function(e){return e>=48&&e<=57},f=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&!o[String.fromCharCode(e)]},p=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e>=128&&!o[String.fromCharCode(e)]},m=function(e){for(var t,n,a=0,m=e.charAt,g=e.charCodeAt,_=function(t){return m.call(e,t)},v=function(t){return g.call(e,t)},A=e.length,y=function(){for(var e=v(a);32===e||9===e;)e=v(++a)},b=function(){var e,t,n=x();return y(),63!==v(a)?n:(a++,e=b(),e||r("Expected expression",a),y(),58===v(a)?(a++,t=b(),t||r("Expected expression",a),{type:"ConditionalExpression",test:n,consequent:e,alternate:t}):void r("Expected :",a))},w=function(){y();for(var t=e.substr(a,u),n=t.length;n>0;){if(o.hasOwnProperty(t))return a+=n,t;t=t.substr(0,--n)}return!1},x=function(){var e,t,n,i,o,s,u,l;if(s=E(),!(t=w()))return s;for(o={value:t,prec:c(t)},u=E(),u||r("Expected expression after "+t,a),i=[s,o,u];(t=w())&&0!==(n=c(t));){for(o={value:t,prec:n};i.length>2&&n<=i[i.length-2].prec;)u=i.pop(),t=i.pop().value,s=i.pop(),e=h(t,s,u),i.push(e);e=E(),e||r("Expected expression after "+t,a),i.push(o,e)}for(l=i.length-1,e=i[l];l>1;)e=h(i[l-1].value,i[l-2],e),l-=2;return e},E=function(){var t,n,r;if(y(),t=v(a),d(t)||46===t)return C();if(39===t||34===t)return S();if(f(t)||40===t)return M();if(91===t)return P();for(n=e.substr(a,s),r=n.length;r>0;){if(i.hasOwnProperty(n))return a+=r,{type:"UnaryExpression",operator:n,argument:E(),prefix:!0};n=n.substr(0,--r)}return!1},C=function(){for(var e,t,n="";d(v(a));)n+=_(a++);if(46===v(a))for(n+=_(a++);d(v(a));)n+=_(a++);if("e"===(e=_(a))||"E"===e){for(n+=_(a++),e=_(a),"+"!==e&&"-"!==e||(n+=_(a++));d(v(a));)n+=_(a++);d(v(a-1))||r("Expected exponent ("+n+_(a)+")",a)}return t=v(a),f(t)?r("Variable names cannot start with a number ("+n+_(a)+")",a):46===t&&r("Unexpected period",a),{type:"Literal",value:parseFloat(n),raw:n}},S=function(){for(var e,t="",n=_(a++),i=!1;a<A;){if((e=_(a++))===n){i=!0;break}if("\\"===e)switch(e=_(a++)){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+="\\"+e}else t+=e}return i||r('Unclosed quote after "'+t+'"',a),{type:"Literal",value:t,raw:n+t+n}},T=function(){var t,n=v(a),i=a;for(f(n)?a++:r("Unexpected "+_(a),a);a<A&&(n=v(a),p(n));)a++;return t=e.slice(i,a),l.hasOwnProperty(t)?{type:"Literal",value:l[t],raw:t}:"this"===t?{type:"ThisExpression"}:{type:"Identifier",name:t}},I=function(e){for(var t,n,i=[],o=!1;a<A;){if(y(),(t=v(a))===e){o=!0,a++;break}44===t?a++:(n=b(),n&&"Compound"!==n.type||r("Expected comma",a),i.push(n))}return o||r("Expected "+String.fromCharCode(e),a),i},M=function(){var e,t;for(e=v(a),t=40===e?O():T(),y(),e=v(a);46===e||91===e||40===e;)a++,46===e?(y(),t={type:"MemberExpression",computed:!1,object:t,property:T()}):91===e?(t={type:"MemberExpression",computed:!0,object:t,property:b()},y(),e=v(a),93!==e&&r("Unclosed [",a),a++):40===e&&(t={type:"CallExpression",arguments:I(41),callee:t}),y(),e=v(a);return t},O=function(){a++;var e=b();if(y(),41===v(a))return a++,e;r("Unclosed (",a)},P=function(){return a++,{type:"ArrayExpression",elements:I(93)}},D=[];a<A;)t=v(a),59===t||44===t?a++:(n=b())?D.push(n):a<A&&r('Unexpected "'+_(a)+'"',a);return 1===D.length?D[0]:{type:"Compound",body:D}};m.version="0.3.1",m.toString=function(){return"JavaScript Expression Parser (JSEP) v"+m.version},m.addUnaryOp=function(e){return s=Math.max(e.length,s),i[e]=!0,this},m.addBinaryOp=function(e,t){return u=Math.max(e.length,u),o[e]=t,this},m.addLiteral=function(e,t){return l[e]=t,this},m.removeUnaryOp=function(e){return delete i[e],e.length===s&&(s=a(i)),this},m.removeAllUnaryOps=function(){return i={},s=0,this},m.removeBinaryOp=function(e){return delete o[e],e.length===u&&(u=a(o)),this},m.removeAllBinaryOps=function(){return o={},u=0,this},m.removeLiteral=function(e){return delete l[e],this},m.removeAllLiterals=function(){return l={},this};void 0!==e&&e.exports?t=e.exports=m:t.parse=m}(),"undefined"!=typeof jsep)return jsep.noConflict()}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(6)],void 0!==(i=function(e){"use strict";return e({VARIABLE:0,UNARY:1,BINARY:2,TERNARY:3,CONDITIONAL:4,MEMBER:5,FUNCTION_CALL:6,ARRAY:7,REGEX:8,VARIABLE_IN_STRING:9,LITERAL_NULL:10,LITERAL_BOOLEAN:11,LITERAL_NUMBER:12,LITERAL_STRING:13,LITERAL_COLOR:14,LITERAL_VECTOR:15,LITERAL_REGEX:16,LITERAL_UNDEFINED:17,BUILTIN_VARIABLE:18})}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(12),n(29)],void 0!==(i=function(e,t,n){"use strict";function r(t,r,i){var o=new Blob([t],{type:r}),a=window.URL.createObjectURL(o);return new n({url:a,request:i}).fetchImage().then(function(e){return window.URL.revokeObjectURL(a),e},function(t){return window.URL.revokeObjectURL(a),e.reject(t)})}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(57),n(0)],void 0!==(i=function(e,t){"use strict";function n(t){return e.shader(t,function(e){r(e)}),e.buffer(t,function(e){r(e)}),e.image(t,function(t){r(t),e.compressedImage(t,function(e){r(e)})}),r(t),t}function r(e){t(e.extras)&&(t(e.extras._pipeline)&&delete e.extras._pipeline,0===Object.keys(e.extras).length&&delete e.extras)}return n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(12),n(0),n(2)],void 0!==(i=function(e,t,n,r){"use strict";function i(e,t){this._distance=t,this._normal=new o(e,this),this.onChangeCallback=void 0,this.index=-1}function o(t,n){this._clippingPlane=n,this._cartesian3=e.clone(t)}return r(i.prototype,{distance:{get:function(){return this._distance},set:function(e){n(this.onChangeCallback)&&e!==this._distance&&this.onChangeCallback(this.index),this._distance=e}},normal:{get:function(){return this._normal},set:function(t){n(this.onChangeCallback)&&!e.equals(this._normal._cartesian3,t)&&this.onChangeCallback(this.index),e.clone(t,this._normal._cartesian3)}}}),i.fromPlane=function(e,t){return n(t)?(t.normal=e.normal,t.distance=e.distance):t=new i(e.normal,e.distance),t},i.clone=function(e,t){return n(t)?(t.normal=e.normal,t.distance=e.distance,t):new i(e.normal,e.distance)},r(o.prototype,{x:{get:function(){return this._cartesian3.x},set:function(e){n(this._clippingPlane.onChangeCallback)&&e!==this._cartesian3.x&&this._clippingPlane.onChangeCallback(this._clippingPlane.index),this._cartesian3.x=e}},y:{get:function(){return this._cartesian3.y},set:function(e){n(this._clippingPlane.onChangeCallback)&&e!==this._cartesian3.y&&this._clippingPlane.onChangeCallback(this._clippingPlane.index),this._cartesian3.y=e}},z:{get:function(){return this._cartesian3.z},set:function(e){n(this._clippingPlane.onChangeCallback)&&e!==this._cartesian3.z&&this._clippingPlane.onChangeCallback(this._clippingPlane.index),this._cartesian3.z=e}}}),i}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(31),n(1),n(0),n(1274),n(20),n(59),n(1273),n(34),n(1275),n(145),n(110),n(359)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d){"use strict";function f(){}function p(e,t){var n=e.gltf,r=n.buffers,i=n.bufferViews,o=i[t.bufferView],a=r[o.buffer],s=o.byteOffset+t.byteOffset,u=t.count*h(t.type),l=_.test(a.uri)?"":a.uri;return e.cacheKey+"//"+l+"/"+s+"/"+u}function m(e,t,n){return e.cacheKey+"//"+t+"/"+n}function g(e){this._value=e}var _=/^data\:/i,v={};f.getAnimationParameterValues=function(i,o){var s=p(i,o),u=v[s];if(!r(u)){var l=i.gltf,d=l.buffers,f=l.bufferViews,m=f[o.bufferView],g=m.buffer,_=d[g],A=_.extras._pipeline.source,y=o.componentType,b=o.type,w=h(b),x=o.count,E=c(l,o);u=new Array(x);for(var C=n(o.byteOffset,0),S=m.byteOffset+C,T=0;T<x;T++){var I=t.createArrayBufferView(y,A.buffer,A.byteOffset+S,w);"SCALAR"===b?u[T]=I[0]:"VEC3"===b?u[T]=e.fromArray(I):"VEC4"===b&&(u[T]=a.unpack(I)),S+=E}r(i.cacheKey)&&(v[s]=u)}return u};var A={};g.prototype.evaluate=function(e,t){return this._value},g.prototype.wrapTime=function(e){return 0},g.prototype.clampTime=function(e){return 0},f.getAnimationSpline=function(e,t,n,o,a,u,c,h){var d=m(e,t,o),f=A[d];if(!r(f)){var p=u,_=h;1===p.length&&1===_.length?f=new g(_[0]):"LINEAR"===a.interpolation&&("translation"===c||"scale"===c?f=new i({times:p,points:_}):"rotation"===c?f=new s({times:p,points:_}):"weights"===c&&(f=new l({times:p,weights:_}))),r(e.cacheKey)&&(A[d]=f)}return f};var y={};return f.getSkinInverseBindMatrices=function(e,n){var i=p(e,n),a=y[i];if(!r(a)){var s=e.gltf,l=s.buffers,f=s.bufferViews,m=n.bufferView,g=f[m],_=g.buffer,v=l[_],A=v.extras._pipeline.source,b=n.componentType,w=n.type,x=n.count,E=c(s,n),C=g.byteOffset+n.byteOffset,S=h(w);if(a=new Array(x),b===u.FLOAT&&w===d.MAT4)for(var T=0;T<x;++T){var I=t.createArrayBufferView(b,A.buffer,A.byteOffset+C,S);a[T]=o.fromArray(I),C+=E}y[i]=a}return a},f}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(59),n(362)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e){var n=e.points,r=e.times;return function(o,a){t(a)||(a=new i);var s=e._lastTimeIndex=e.findTimeInterval(o,e._lastTimeIndex),u=(o-r[s])/(r[s+1]-r[s]),l=n[s],c=n[s+1];return i.fastSlerp(l,c,u,a)}}function s(t){t=e(t,e.EMPTY_OBJECT);var n=t.points,r=t.times;this._times=r,this._points=n,this._evaluateFunction=a(this),this._lastTimeIndex=0}return n(s.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}}}),s.prototype.findTimeInterval=o.prototype.findTimeInterval,s.prototype.wrapTime=o.prototype.wrapTime,s.prototype.clampTime=o.prototype.clampTime,s.prototype.evaluate=function(e,t){return this._evaluateFunction(e,t)},s}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(1),n(0),n(2),n(3),n(362)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e){e=t(e,t.EMPTY_OBJECT);var n=e.points,r=e.times;this._times=r,this._points=n,this._lastTimeIndex=0}return r(a.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}}}),a.prototype.findTimeInterval=o.prototype.findTimeInterval,a.prototype.wrapTime=o.prototype.wrapTime,a.prototype.clampTime=o.prototype.clampTime,a.prototype.evaluate=function(t,r){var i=this.points,o=this.times,a=this._lastTimeIndex=this.findTimeInterval(t,this._lastTimeIndex),s=(t-o[a])/(o[a+1]-o[a]);return n(r)||(r=new e),e.lerp(i[a],i[a+1],s,r)},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(2),n(3),n(362)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e){e=t(e,t.EMPTY_OBJECT);var n=e.weights,r=e.times;this._times=r,this._weights=n,this._count=n.length/r.length,this._lastTimeIndex=0}return r(a.prototype,{times:{get:function(){return this._times}},weights:{get:function(){return this._weights}}}),a.prototype.findTimeInterval=o.prototype.findTimeInterval,a.prototype.wrapTime=o.prototype.wrapTime,a.prototype.clampTime=o.prototype.clampTime,a.prototype.evaluate=function(e,t){var r=this.weights,i=this.times,o=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),a=(e-i[o])/(i[o+1]-i[o]);n(t)||(t=new Array(this._count));for(var s=0;s<this._count;s++){var u=o*this._count+s;t[s]=r[u]*(1-a)+r[u+this._count]*a}return t},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(3),n(15),n(36),n(9),n(1277),n(453),n(614)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l){"use strict";function c(e){this.animationAdded=new i,this.animationRemoved=new i,this._model=e,this._scheduledAnimations=[],this._previousTime=void 0}function h(e,t,n){var r=e._model,i=r._runtime.animations,o=i[t],a=new s(n,r,o);return e._scheduledAnimations.push(a),e.animationAdded.raiseEvent(r,a),a}function d(e,t){for(var n=e.channelEvaluators,r=n.length,i=0;i<r;++i)n[i](t)}function f(e,t,n){return function(){e.animationRemoved.raiseEvent(t,n)}}n(c.prototype,{length:{get:function(){return this._scheduledAnimations.length}}}),c.prototype.add=function(n){n=e(n,e.EMPTY_OBJECT);var r=this._model,i=r._runtime.animations;if(t(n.index))return h(this,n.index,n);for(var o,a=i.length,s=0;s<a;++s)if(i[s].name===n.name){o=s;break}return h(this,o,n)},c.prototype.addAll=function(t){t=e(t,e.EMPTY_OBJECT);for(var n=[],r=this._model,i=r._runtime.animations,o=i.length,a=0;a<o;++a)n.push(h(this,a,t));return n},c.prototype.remove=function(e){if(t(e)){var n=this._scheduledAnimations,r=n.indexOf(e);if(-1!==r)return n.splice(r,1),this.animationRemoved.raiseEvent(this._model,e),!0}return!1},c.prototype.removeAll=function(){var e=this._model,t=this._scheduledAnimations,n=t.length;this._scheduledAnimations=[];for(var r=0;r<n;++r)this.animationRemoved.raiseEvent(e,t[r])},c.prototype.contains=function(e){return!!t(e)&&-1!==this._scheduledAnimations.indexOf(e)},c.prototype.get=function(e){return this._scheduledAnimations[e]};var p=[];return c.prototype.update=function(n){var r=this._scheduledAnimations,i=r.length;if(0===i)return this._previousTime=void 0,!1;if(o.equals(n.time,this._previousTime))return!1;this._previousTime=o.clone(n.time,this._previousTime);for(var s=!1,c=n.time,h=this._model,m=0;m<i;++m){var g=r[m],_=g._runtimeAnimation;t(g._computedStartTime)||(g._computedStartTime=o.addSeconds(e(g.startTime,c),g.delay,new o)),t(g._duration)||(g._duration=_.stopTime*(1/g.speedup));var v=g._computedStartTime,A=g._duration,y=g.stopTime,b=0!==A?o.secondsDifference(c,v)/A:0,w=b>=0,x=g.loop===u.REPEAT||g.loop===u.MIRRORED_REPEAT;if((w||x&&!t(g.startTime))&&(b<=1||x)&&(!t(y)||o.lessThanOrEquals(c,y))){if(g._state===l.STOPPED&&(g._state=l.ANIMATING,g.start.numberOfListeners>0&&n.afterRender.push(g._raiseStartEvent)),g.loop===u.REPEAT)b-=Math.floor(b);else if(g.loop===u.MIRRORED_REPEAT){var E=Math.floor(b),C=b-E;b=E%2==1?1-C:C}g.reverse&&(b=1-b);var S=b*A*g.speedup;S=a.clamp(S,_.startTime,_.stopTime),d(_,S),g.update.numberOfListeners>0&&(g._updateEventTime=S,n.afterRender.push(g._raiseUpdateEvent)),s=!0}else w&&g._state===l.ANIMATING&&(g._state=l.STOPPED,g.stop.numberOfListeners>0&&n.afterRender.push(g._raiseStopEvent),g.removeOnStop&&p.push(g))}i=p.length;for(var T=0;T<i;++T){var I=p[T];r.splice(r.indexOf(I),1),n.afterRender.push(f(this,h,I))}return p.length=0,s},c}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(2),n(15),n(36),n(453),n(614)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(t,a,s){this._name=s.name,this._startTime=r.clone(t.startTime),this._delay=e(t.delay,0),this._stopTime=t.stopTime,this.removeOnStop=e(t.removeOnStop,!1),this._speedup=e(t.speedup,1),this._reverse=e(t.reverse,!1),this._loop=e(t.loop,i.NONE),this.start=new n,this.update=new n,this.stop=new n,this._state=o.STOPPED,this._runtimeAnimation=s,this._computedStartTime=void 0,this._duration=void 0;var u=this;this._raiseStartEvent=function(){u.start.raiseEvent(a,u)},this._updateEventTime=0,this._raiseUpdateEvent=function(){u.update.raiseEvent(a,u,u._updateEventTime)},this._raiseStopEvent=function(){u.stop.raiseEvent(a,u)}}return t(a.prototype,{name:{get:function(){return this._name}},startTime:{get:function(){return this._startTime}},delay:{get:function(){return this._delay}},stopTime:{get:function(){return this._stopTime}},speedup:{get:function(){return this._speedup}},reverse:{get:function(){return this._reverse}},loop:{get:function(){return this._loop}}}),a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(3)],void 0!==(i=function(e,t,n){"use strict";function r(e,t,n){this._name=t.name,this._id=n,this._uniformMap=e._uniformMaps[n],this._technique=void 0,this._program=void 0,this._values=void 0}return t(r.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}}}),r.prototype.setValue=function(e,t){var n="u_"+e,r=this._uniformMap.values[n];r.value=r.clone(t,r.value)},r.prototype.getValue=function(t){var n="u_"+t,r=this._uniformMap.values[n];if(e(r))return r.value},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(2)],void 0!==(i=function(e){"use strict";function t(e,t,n){for(var r=[],i=e.primitives,o=i.length,a=0;a<o;++a){var s=i[a];r[a]=t[s.material]}this._name=e.name,this._materials=r,this._id=n}return e(t.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}},materials:{get:function(){return this._materials}}}),t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(20)],void 0!==(i=function(e,t){"use strict";function n(e,n,r,i,o){this._model=e,this._runtimeNode=r,this._name=n.name,this._id=i,this.useMatrix=!1,this._show=!0,this._matrix=t.clone(o)}return e(n.prototype,{name:{get:function(){return this._name}},id:{get:function(){return this._id}},show:{get:function(){return this._show},set:function(e){this._show!==e&&(this._show=e,this._model._perNodeShowDirty=!0)}},matrix:{get:function(){return this._matrix},set:function(e){this._matrix=t.clone(e,this._matrix),this.useMatrix=!0;var n=this._model;n._cesiumAnimationsDirty=!0,this._runtimeNode.dirtyNumber=n._maxDirtyNumber}}}),n.prototype.setMatrix=function(e){t.clone(e,this._matrix)},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(21),n(39),n(175),n(26),n(7)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e,t,n,r,i,o){this._tileset=e,this._tile=t,this._resource=n,this._contents=[],this._readyPromise=s.defer(),l(this,r,i,o)}function l(n,r,i,u){i=e(i,0);var l=new Uint8Array(r),h=new DataView(r);i+=c;var d=h.getUint32(i,!0);if(1!==d)throw new a("Only Composite Tile version 1 is supported. Version "+d+" is not.");i+=c,i+=c;var f=h.getUint32(i,!0);i+=c;for(var p=[],m=0;m<f;++m){var g=o(l,i),_=h.getUint32(i+2*c,!0),v=u[g];if(!t(v))throw new a("Unknown tile content type, "+g+", inside Composite tile");var A=v(n._tileset,n._tile,n._resource,r,i);n._contents.push(A),p.push(A.readyPromise),i+=_}s.all(p).then(function(){n._readyPromise.resolve(n)}).otherwise(function(e){n._readyPromise.reject(e)})}if(!i.supportsTypedArrays())return{};n(u.prototype,{featurePropertiesDirty:{get:function(){for(var e=this._contents,t=e.length,n=0;n<t;++n)if(e[n].featurePropertiesDirty)return!0;return!1},set:function(e){for(var t=this._contents,n=t.length,r=0;r<n;++r)t[r].featurePropertiesDirty=e}},featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){return this._contents}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){}}});var c=Uint32Array.BYTES_PER_ELEMENT;return u.prototype.hasProperty=function(e,t){return!1},u.prototype.getFeature=function(e){},u.prototype.applyDebugSettings=function(e,t){for(var n=this._contents,r=n.length,i=0;i<r;++i)n[i].applyDebugSettings(e,t)},u.prototype.applyStyle=function(e){for(var t=this._contents,n=t.length,r=0;r<n;++r)t[r].applyStyle(e)},u.prototype.update=function(e,t){for(var n=this._contents,r=n.length,i=0;i<r;++i)n[i].update(e,t)},u.prototype.isDestroyed=function(){return!1},u.prototype.destroy=function(){for(var e=this._contents,t=e.length,n=0;n<t;++n)e[n].destroy();return r(this)},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(1),n(0),n(2),n(21),n(3),n(23),n(39),n(175),n(108),n(9),n(20),n(16),n(26),n(7),n(176),n(1283)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g){"use strict";function _(e,t,n,r,i){this._tileset=e,this._tile=t,this._resource=n,this._geometries=void 0,this._contentReadyPromise=void 0,this._readyPromise=p.defer(),this._batchTable=void 0,this._features=void 0,this.featurePropertiesDirty=!1,y(this,r,i)}function v(e){return function(t,r){n(e._geometries)&&e._geometries.updateCommands(t,r)}}function A(e,r){var i,o,a,s,u,l=t(e.BOXES_LENGTH,0),c=t(e.CYLINDERS_LENGTH,0),h=t(e.ELLIPSOIDS_LENGTH,0),d=t(e.SPHERES_LENGTH,0);if(l>0&&n(e.BOX_BATCH_IDS)){var p=r.byteOffset+e.BOX_BATCH_IDS.byteOffset;i=new Uint16Array(r.buffer,p,l)}if(c>0&&n(e.CYLINDER_BATCH_IDS)){var m=r.byteOffset+e.CYLINDER_BATCH_IDS.byteOffset;o=new Uint16Array(r.buffer,m,c)}if(h>0&&n(e.ELLIPSOID_BATCH_IDS)){var g=r.byteOffset+e.ELLIPSOID_BATCH_IDS.byteOffset;a=new Uint16Array(r.buffer,g,h)}if(d>0&&n(e.SPHERE_BATCH_IDS)){var _=r.byteOffset+e.SPHERE_BATCH_IDS.byteOffset;s=new Uint16Array(r.buffer,_,d)}var v=n(i)||n(o)||n(a)||n(s),A=l>0&&!n(i)||c>0&&!n(o)||h>0&&!n(a)||d>0&&!n(s);if(v&&A)throw new f("If one group of batch ids is defined, then all batch ids must be defined.");if(!(n(i)||n(o)||n(a)||n(s))){var y=0;if(!n(i)&&l>0)for(i=new Uint16Array(l),u=0;u<l;++u)i[u]=y++;if(!n(o)&&c>0)for(o=new Uint16Array(c),u=0;u<c;++u)o[u]=y++;if(!n(a)&&h>0)for(a=new Uint16Array(h),u=0;u<h;++u)a[u]=y++;if(!n(s)&&d>0)for(s=new Uint16Array(d),u=0;u<d;++u)s[u]=y++}return{boxes:i,cylinders:o,ellipsoids:a,spheres:s}}function y(r,i,o){o=t(o,0);var a=new Uint8Array(i),s=new DataView(i);o+=w;var u=s.getUint32(o,!0);if(1!==u)throw new f("Only Geometry tile version 1 is supported.  Version "+u+" is not.");o+=w;var c=s.getUint32(o,!0);if(o+=w,0===c)return void r._readyPromise.resolve(r);var d=s.getUint32(o,!0);if(o+=w,0===d)throw new f("Feature table must have a byte length greater than zero");var p=s.getUint32(o,!0);o+=w;var _=s.getUint32(o,!0);o+=w;var y=s.getUint32(o,!0);o+=w;var b=l(a,o,d),x=JSON.parse(b);o+=d;var E=new Uint8Array(i,o,p);o+=p;var C,S;if(_>0){var T=l(a,o,_);C=JSON.parse(T),o+=_,y>0&&(S=new Uint8Array(i,o,y),S=new Uint8Array(S))}var I=t(x.BOXES_LENGTH,0),M=t(x.CYLINDERS_LENGTH,0),O=t(x.ELLIPSOIDS_LENGTH,0),P=t(x.SPHERES_LENGTH,0),D=I+M+O+P,B=new m(r,D,C,S,v(r));if(r._batchTable=B,0!==D){var L,N=r.tile.computedTransform;n(x.RTC_CENTER)&&(L=e.unpack(x.RTC_CENTER),h.multiplyByPoint(N,L,L));var R=A(x,E);if(I>0||M>0||O>0||P>0){var k,F,U,z;if(I>0){var j=E.byteOffset+x.BOXES.byteOffset;k=new Float32Array(E.buffer,j,g.packedBoxLength*I)}if(M>0){var H=E.byteOffset+x.CYLINDERS.byteOffset;F=new Float32Array(E.buffer,H,g.packedCylinderLength*M)}if(O>0){var V=E.byteOffset+x.ELLIPSOIDS.byteOffset;U=new Float32Array(E.buffer,V,g.packedEllipsoidLength*O)}if(P>0){var Q=E.byteOffset+x.SPHERES.byteOffset;z=new Float32Array(E.buffer,Q,g.packedSphereLength*P)}r._geometries=new g({boxes:k,boxBatchIds:R.boxes,cylinders:F,cylinderBatchIds:R.cylinders,ellipsoids:U,ellipsoidBatchIds:R.ellipsoids,spheres:z,sphereBatchIds:R.spheres,center:L,modelMatrix:N,batchTable:B,boundingVolume:r.tile.boundingVolume.boundingVolume})}}}function b(e){var t=e.featuresLength;if(!n(e._features)&&t>0){var r=new Array(t);n(e._geometries)&&e._geometries.createFeatures(e,r),e._features=r}}if(!s.supportsTypedArrays())return{};r(_.prototype,{featuresLength:{get:function(){return n(this._batchTable)?this._batchTable.featuresLength:0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return n(this._geometries)?this._geometries.trianglesLength:0}},geometryByteLength:{get:function(){return n(this._geometries)?this._geometries.geometryByteLength:0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return n(this._batchTable)?this._batchTable.memorySizeInBytes:0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){return this._batchTable}}});var w=Uint32Array.BYTES_PER_ELEMENT;return _.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},_.prototype.getFeature=function(e){return b(this),this._features[e]},_.prototype.applyDebugSettings=function(e,t){n(this._geometries)&&this._geometries.applyDebugSettings(e,t)},_.prototype.applyStyle=function(e){b(this),n(this._geometries)&&this._geometries.applyStyle(e,this._features)},_.prototype.update=function(e,t){if(n(this._geometries)&&(this._geometries.classificationType=this._tileset.classificationType,this._geometries.debugWireframe=this._tileset.debugWireframe,this._geometries.update(t)),n(this._batchTable)&&this._geometries._ready&&this._batchTable.update(e,t),!n(this._contentReadyPromise)){var r=this;this._contentReadyPromise=this._geometries.readyPromise.then(function(){r._readyPromise.resolve(r)})}},_.prototype.isDestroyed=function(){return!1},_.prototype.destroy=function(){return this._geometries=this._geometries&&this._geometries.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),i(this)},_}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(136),n(38),n(10),n(25),n(1),n(0),n(2),n(21),n(20),n(104),n(7),n(159),n(265),n(361)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f){"use strict";function p(e){this._boxes=e.boxes,this._boxBatchIds=e.boxBatchIds,this._cylinders=e.cylinders,this._cylinderBatchIds=e.cylinderBatchIds,this._ellipsoids=e.ellipsoids,this._ellipsoidBatchIds=e.ellipsoidBatchIds,this._spheres=e.spheres,this._sphereBatchIds=e.sphereBatchIds,this._modelMatrix=e.modelMatrix,this._batchTable=e.batchTable,this._boundingVolume=e.boundingVolume,this._center=e.center,o(this._center)||(o(this._boundingVolume)?this._center=n.clone(this._boundingVolume.center):this._center=n.clone(n.ZERO)),this._boundingVolumes=void 0,this._batchedIndices=void 0,this._indices=void 0,this._indexOffsets=void 0,this._indexCounts=void 0,this._positions=void 0,this._vertexBatchIds=void 0,this._batchIds=void 0,this._batchTableColors=void 0,this._packedBuffer=void 0,this._ready=!1,this._readyPromise=c.defer(),this._verticesPromise=void 0,this._primitive=void 0,this.debugWireframe=!1,this.forceRebatch=!1,this.classificationType=h.CESIUM_3D_TILE}function m(e){var t=new Float64Array(u.packedLength+n.packedLength),r=0;return n.pack(e._center,t,r),r+=n.packedLength,u.pack(e._modelMatrix,t,r),t}function g(e,n){for(var i=0,o=n[i++],a=n[i++],s=e._boundingVolumes=new Array(a),u=0;u<a;++u)s[u]=t.unpack(n,i),i+=t.packedLength;for(var l=n[i++],c=e._batchedIndices=new Array(l),h=0;h<l;++h){var f=r.unpack(n,i);i+=r.packedLength;for(var p=n[i++],m=n[i++],g=n[i++],_=new Array(g),v=0;v<g;++v)_[v]=n[i++];c[h]=new d({color:f,offset:p,count:m,batchIds:_})}return o}function _(t){if(!o(t._primitive)){if(!o(t._verticesPromise)){var n=t._boxes,r=t._boxBatchIds,a=t._cylinders,s=t._cylinderBatchIds,u=t._ellipsoids,l=t._ellipsoidBatchIds,c=t._spheres,h=t._sphereBatchIds,d=t._batchTableColors,p=t._packedBuffer;if(!o(d)){var _=0;o(t._boxes)&&(n=t._boxes=e(n),r=t._boxBatchIds=e(r),_+=r.length),o(t._cylinders)&&(a=t._cylinders=e(a),s=t._cylinderBatchIds=e(s),_+=s.length),o(t._ellipsoids)&&(u=t._ellipsoids=e(u),l=t._ellipsoidBatchIds=e(l),_+=l.length),o(t._spheres)&&(c=t._sphere=e(c),h=t._sphereBatchIds=e(h),_+=h.length),d=t._batchTableColors=new Uint32Array(_);for(var y=t._batchTable,b=0;b<_;++b){var w=y.getColor(b,A);d[b]=w.toRgba()}p=t._packedBuffer=m(t)}var x=[];o(n)&&x.push(n.buffer,r.buffer),o(a)&&x.push(a.buffer,s.buffer),o(u)&&x.push(u.buffer,l.buffer),o(c)&&x.push(c.buffer,h.buffer),x.push(d.buffer,p.buffer);var E={boxes:o(n)?n.buffer:void 0,boxBatchIds:o(n)?r.buffer:void 0,cylinders:o(a)?a.buffer:void 0,cylinderBatchIds:o(a)?s.buffer:void 0,ellipsoids:o(u)?u.buffer:void 0,ellipsoidBatchIds:o(u)?l.buffer:void 0,spheres:o(c)?c.buffer:void 0,sphereBatchIds:o(c)?h.buffer:void 0,batchTableColors:d.buffer,packedBuffer:p.buffer},C=t._verticesPromise=v.scheduleTask(E,x);if(!o(C))return;C.then(function(e){var n=new Float64Array(e.packedBuffer),r=g(t,n);t._indices=2===r?new Uint16Array(e.indices):new Uint32Array(e.indices),t._indexOffsets=new Uint32Array(e.indexOffsets),t._indexCounts=new Uint32Array(e.indexCounts),t._positions=new Float32Array(e.positions),t._vertexBatchIds=new Uint16Array(e.vertexBatchIds),t._batchIds=new Uint16Array(e.batchIds),t._ready=!0})}t._ready&&!o(t._primitive)&&(t._primitive=new f({batchTable:t._batchTable,positions:t._positions,batchIds:t._batchIds,vertexBatchIds:t._vertexBatchIds,indices:t._indices,indexOffsets:t._indexOffsets,indexCounts:t._indexCounts,batchedIndices:t._batchedIndices,boundingVolume:t._boundingVolume,boundingVolumes:t._boundingVolumes,center:t._center,pickObject:i(t._pickObject,t)}),t._boxes=void 0,t._boxBatchIds=void 0,t._cylinders=void 0,t._cylinderBatchIds=void 0,t._ellipsoids=void 0,t._ellipsoidBatchIds=void 0,t._spheres=void 0,t._sphereBatchIds=void 0,t._center=void 0,t._modelMatrix=void 0,t._batchTable=void 0,t._boundingVolume=void 0,t._boundingVolumes=void 0,t._batchedIndices=void 0,t._indices=void 0,t._indexOffsets=void 0,t._indexCounts=void 0,t._positions=void 0,t._vertexBatchIds=void 0,t._batchIds=void 0,t._batchTableColors=void 0,t._packedBuffer=void 0,t._verticesPromise=void 0,t._readyPromise.resolve())}}a(p.prototype,{trianglesLength:{get:function(){return o(this._primitive)?this._primitive.trianglesLength:0}},geometryByteLength:{get:function(){return o(this._primitive)?this._primitive.geometryByteLength:0}},readyPromise:{get:function(){return this._readyPromise.promise}}}),p.packedBoxLength=u.packedLength+n.packedLength,p.packedCylinderLength=u.packedLength+2,p.packedEllipsoidLength=u.packedLength+n.packedLength,p.packedSphereLength=n.packedLength+1;var v=new l("createVectorTileGeometries"),A=new r;return p.prototype.createFeatures=function(e,t){this._primitive.createFeatures(e,t)},p.prototype.applyDebugSettings=function(e,t){this._primitive.applyDebugSettings(e,t)},p.prototype.applyStyle=function(e,t){this._primitive.applyStyle(e,t)},p.prototype.updateCommands=function(e,t){this._primitive.updateCommands(e,t)},p.prototype.update=function(e){_(this),this._ready&&(this._primitive.debugWireframe=this.debugWireframe,this._primitive.forceRebatch=this.forceRebatch,this._primitive.classificationType=this.classificationType,this._primitive.update(e))},p.prototype.isDestroyed=function(){return!1},p.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),s(this)},p}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(169),n(10),n(25),n(31),n(1),n(0),n(2),n(94),n(21),n(3),n(23),n(39),n(459),n(108),n(40),n(20),n(59),n(161),n(26),n(50),n(533),n(47),n(174),n(176),n(163),n(360),n(1285)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S){"use strict";function T(e,t,n,r,i){this._tileset=e,this._tile=t,this._resource=n,this._modelInstanceCollection=void 0,this._batchTable=void 0,this._features=void 0,this.featurePropertiesDirty=!1,M(this,r,i)}function I(e){return function(){return e._batchTable.getPickId()}}function M(n,a,s){var u=i(s,0);s=u;var l=new Uint8Array(a),h=new DataView(a);s+=P;var d=h.getUint32(s,!0);if(1!==d)throw new v("Only Instanced 3D Model version 1 is supported. Version "+d+" is not.");s+=P;var E=h.getUint32(s,!0);s+=P;var M=h.getUint32(s,!0);if(0===M)throw new v("featureTableJsonByteLength is zero, the feature table must be defined.");s+=P;var O=h.getUint32(s,!0);s+=P;var L=h.getUint32(s,!0);s+=P;var N=h.getUint32(s,!0);s+=P;var R=h.getUint32(s,!0);if(1!==R&&0!==R)throw new v("Only glTF format 0 (uri) or 1 (embedded) are supported. Format "+R+" is not.");s+=P;var k=f(l,s,M),F=JSON.parse(k);s+=M;var U=new Uint8Array(a,s,O);s+=O;var z=new C(F,U),j=z.getGlobalProperty("INSTANCES_LENGTH");if(z.featuresLength=j,!o(j))throw new v("Feature table global property: INSTANCES_LENGTH must be defined");var H,V;if(L>0){var Q=f(l,s,L);H=JSON.parse(Q),s+=L,N>0&&(V=new Uint8Array(a,s,N),V=new Uint8Array(V),s+=N)}n._batchTable=new x(n,j,H,V);var G=u+E-s;if(0===G)throw new v("glTF byte length is zero, i3dm must have a glTF to instance.");var W;s%4==0?W=new Uint8Array(a,s,G):(T._deprecationWarning("i3dm-glb-unaligned","The embedded glb is not aligned to a 4-byte boundary."),W=new Uint8Array(l.subarray(s,s+G)));var q={instances:new Array(j),batchTable:n._batchTable,cull:!1,url:void 0,requestType:_.TILES3D,gltf:void 0,basePath:void 0,incrementallyLoadTextures:!1,upAxis:n._tileset._gltfUpAxis,forwardAxis:w.X,opaquePass:b.CESIUM_3D_TILE,pickIdLoaded:I(n)};if(0===R){var Y=f(W);Y=Y.replace(/[\s\0]+$/,""),q.url=n._resource.getDerivedResource({url:Y})}else q.gltf=W,q.basePath=n._resource.clone();var K,X=z.getGlobalProperty("EAST_NORTH_UP"),Z=z.getGlobalProperty("RTC_CENTER",r.FLOAT,3);o(Z)&&(K=t.unpack(Z));for(var J=q.instances,$=new t,ee=new Array(3),te=new t,ne=new t,re=new t,ie=new p,oe=new g,ae=new t,se=new y,ue=new m,le=0;le<j;le++){var ce=z.getProperty("POSITION",r.FLOAT,3,le,D);if(!o(ce)){ce=ee;var he=z.getProperty("POSITION_QUANTIZED",r.UNSIGNED_SHORT,3,le,D);if(!o(he))throw new v("Either POSITION or POSITION_QUANTIZED must be defined for each instance.");var de=z.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",r.FLOAT,3);if(!o(de))throw new v("Global property: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");var fe=z.getGlobalProperty("QUANTIZED_VOLUME_SCALE",r.FLOAT,3);if(!o(fe))throw new v("Global property: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");for(var pe=0;pe<3;pe++)ce[pe]=he[pe]/65535*fe[pe]+de[pe]}t.unpack(ce,0,$),o(K)&&t.add($,K,$),se.translation=$;var me=z.getProperty("NORMAL_UP",r.FLOAT,3,le,D),ge=z.getProperty("NORMAL_RIGHT",r.FLOAT,3,le,B),_e=!1;if(o(me)){if(!o(ge))throw new v("To define a custom orientation, both NORMAL_UP and NORMAL_RIGHT must be defined.");t.unpack(me,0,ne),t.unpack(ge,0,te),_e=!0}else{var ve=z.getProperty("NORMAL_UP_OCT32P",r.UNSIGNED_SHORT,2,le,D),Ae=z.getProperty("NORMAL_RIGHT_OCT32P",r.UNSIGNED_SHORT,2,le,B);if(o(ve)){if(!o(Ae))throw new v("To define a custom orientation with oct-encoded vectors, both NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P must be defined.");e.octDecodeInRange(ve[0],ve[1],65535,ne),e.octDecodeInRange(Ae[0],Ae[1],65535,te),_e=!0}else X?(A.eastNorthUpToFixedFrame($,c.WGS84,ue),m.getRotation(ue,ie)):p.clone(p.IDENTITY,ie)}_e&&(t.cross(te,ne,re),t.normalize(re,re),p.setColumn(ie,0,te,ie),p.setColumn(ie,1,ne,ie),p.setColumn(ie,2,re,ie)),g.fromRotationMatrix(ie,oe),se.rotation=oe,ae=t.fromElements(1,1,1,ae);var ye=z.getProperty("SCALE",r.FLOAT,1,le);o(ye)&&t.multiplyByScalar(ae,ye,ae);var be=z.getProperty("SCALE_NON_UNIFORM",r.FLOAT,3,le,D);o(be)&&(ae.x*=be[0],ae.y*=be[1],ae.z*=be[2]),se.scale=ae;var we=z.getProperty("BATCH_ID",r.UNSIGNED_SHORT,1,le);o(we)||(we=le),m.fromTranslationRotationScale(se,ue);var xe=ue.clone();J[le]={modelMatrix:xe,batchId:we}}n._modelInstanceCollection=new S(q)}function O(e){var t=e.featuresLength;if(!o(e._features)&&t>0){for(var n=new Array(t),r=0;r<t;++r)n[r]=new E(e,r);e._features=n}}if(!h.supportsTypedArrays())return{};T._deprecationWarning=s,a(T.prototype,{featuresLength:{get:function(){return this._batchTable.featuresLength}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){var e=this._modelInstanceCollection._model;return o(e)?e.trianglesLength:0}},geometryByteLength:{get:function(){var e=this._modelInstanceCollection._model;return o(e)?e.geometryByteLength:0}},texturesByteLength:{get:function(){var e=this._modelInstanceCollection._model;return o(e)?e.texturesByteLength:0}},batchTableByteLength:{get:function(){return this._batchTable.memorySizeInBytes}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._modelInstanceCollection.readyPromise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){return this._batchTable}}});var P=Uint32Array.BYTES_PER_ELEMENT,D=new Array(4),B=new Array(4);return T.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},T.prototype.getFeature=function(e){this.featuresLength;return O(this),this._features[e]},T.prototype.applyDebugSettings=function(e,t){t=e?t:n.WHITE,this._batchTable.setAllColor(t)},T.prototype.applyStyle=function(e){this._batchTable.applyStyle(e)},T.prototype.update=function(e,t){var n=t.commandList.length;this._batchTable.update(e,t),this._modelInstanceCollection.modelMatrix=this._tile.computedTransform,this._modelInstanceCollection.shadows=this._tileset.shadows,this._modelInstanceCollection.debugWireframe=this._tileset.debugWireframe;var r=this._modelInstanceCollection._model;if(o(r)){var i=this._tileset.clippingPlanes;this._tile.clippingPlanesDirty&&o(i)&&(r.clippingPlaneOffsetMatrix=this._tileset.clippingPlaneOffsetMatrix,r._clippingPlanes=i.enabled&&this._tile._isClipped?i:void 0),o(i)&&o(r._clippingPlanes)&&r._clippingPlanes!==i&&(r._clippingPlanes=i)}this._modelInstanceCollection.update(t),n<t.commandList.length&&(t.passes.render||t.passes.pick)&&this._batchTable.addDerivedCommands(t,n,!1)},T.prototype.isDestroyed=function(){return!1},T.prototype.destroy=function(){return this._modelInstanceCollection=this._modelInstanceCollection&&this._modelInstanceCollection.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),u(this)},T}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(38),n(10),n(27),n(25),n(31),n(1),n(0),n(2),n(21),n(3),n(20),n(54),n(29),n(26),n(50),n(93),n(64),n(60),n(47),n(52),n(57),n(7),n(451),n(1286),n(178),n(46),n(184)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S){"use strict";function T(e){e=o(e,o.EMPTY_OBJECT),this.show=o(e.show,!0),this._instancingSupported=!1,this._dynamic=o(e.dynamic,!1),this._allowPicking=o(e.allowPicking,!0),this._ready=!1,this._readyPromise=b.defer(),this._state=ne.NEEDS_LOAD,this._dirty=!1,this._cull=o(e.cull,!0),this._opaquePass=o(e.opaquePass,v.OPAQUE),this._instances=I(this,e.instances),this._batchTable=e.batchTable,this._model=void 0,this._vertexBufferTypedArray=void 0,this._vertexBuffer=void 0,this._batchIdBuffer=void 0,this._instancedUniformsByProgram=void 0,this._drawCommands=[],this._modelCommands=void 0,this._boundingSphere=M(this),this._center=t.clone(this._boundingSphere.center),this._rtcTransform=new c,this._rtcModelView=new c,this._mode=void 0,this.modelMatrix=c.clone(c.IDENTITY),this._modelMatrix=c.clone(this.modelMatrix),this._url=d.createIfNeeded(e.url),this._requestType=e.requestType,this._gltf=e.gltf,this._basePath=d.createIfNeeded(e.basePath),this._asynchronous=e.asynchronous,this._incrementallyLoadTextures=e.incrementallyLoadTextures,this._upAxis=e.upAxis,this._forwardAxis=e.forwardAxis,this.shadows=o(e.shadows,S.ENABLED),this._shadows=this.shadows,this._pickIdLoaded=e.pickIdLoaded,this.debugShowBoundingVolume=o(e.debugShowBoundingVolume,!1),this._debugShowBoundingVolume=!1,this.debugWireframe=o(e.debugWireframe,!1),this._debugWireframe=!1}function I(e,t){t=o(t,[]);for(var n=t.length,r=new Array(n),i=0;i<n;++i){var a=t[i],s=a.modelMatrix,u=o(a.batchId,i);r[i]=new x(e,s,u)}return r}function M(n){for(var r=n.length,i=new Array(r),o=0;o<r;++o)i[o]=c.getTranslation(n._instances[o]._modelMatrix,new t);return e.fromPoints(i)}function O(e,t,n,r){return function(i,o){var s=i.semantic;if(a(s)&&e.indexOf(s)>-1){if(!(t.indexOf(s)>-1))throw new f('Shader program cannot be optimized for instancing. Uniform "'+o+'" in program "'+n+'" uses unsupported semantic "'+s+'"');r[o]=s}}}function P(e,t){if(a(e._instancedUniformsByProgram))return e._instancedUniformsByProgram[t];var n={};e._instancedUniformsByProgram=n;var r=["MODEL","MODELVIEW","CESIUM_RTC_MODELVIEW","MODELVIEWPROJECTION","MODELINVERSE","MODELVIEWINVERSE","MODELVIEWPROJECTIONINVERSE","MODELINVERSETRANSPOSE","MODELVIEWINVERSETRANSPOSE"],i=["MODELVIEW","CESIUM_RTC_MODELVIEW","MODELVIEWPROJECTION","MODELVIEWINVERSETRANSPOSE"],o=e._model._sourceTechniques;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s],l=u.program;if(!a(n[l])){var c={};n[l]=c,y.techniqueUniform(u,O(r,i,t,c))}}return n[t]}function D(e){return function(t,n){var r=P(e,n),i=a(e._batchTable),o=A.replaceMain(t,"czm_instancing_main"),s="",u="";for(var l in r)if(r.hasOwnProperty(l)){var c,h=r[l];"MODELVIEW"===h||"CESIUM_RTC_MODELVIEW"===h?c="czm_instanced_modelView":"MODELVIEWPROJECTION"===h?(c="czm_instanced_modelViewProjection",s+="mat4 czm_instanced_modelViewProjection;\n",u+="czm_instanced_modelViewProjection = czm_projection * czm_instanced_modelView;\n"):"MODELVIEWINVERSETRANSPOSE"===h&&(c="czm_instanced_modelViewInverseTranspose",s+="mat3 czm_instanced_modelViewInverseTranspose;\n",u+="czm_instanced_modelViewInverseTranspose = mat3(czm_instanced_modelView);\n");var d=new RegExp("uniform.*"+l+".*");o=o.replace(d,""),d=new RegExp(l+"\\b","g"),o=o.replace(d,c)}var f,p,m;i?(f="attribute float a_batchId;\n",p="",m=""):(f="",p="attribute vec4 pickColor;\nvarying vec4 v_pickColor;\n",m="    v_pickColor = pickColor;\n");var g="uniform mat4 czm_instanced_modifiedModelView;\nuniform mat4 czm_instanced_nodeTransform;\n"+s+"mat4 czm_instanced_modelView;\nattribute vec4 czm_modelMatrixRow0;\nattribute vec4 czm_modelMatrixRow1;\nattribute vec4 czm_modelMatrixRow2;\n"+f+p+o+"void main()\n{\n    mat4 czm_instanced_model = mat4(czm_modelMatrixRow0.x, czm_modelMatrixRow1.x, czm_modelMatrixRow2.x, 0.0, czm_modelMatrixRow0.y, czm_modelMatrixRow1.y, czm_modelMatrixRow2.y, 0.0, czm_modelMatrixRow0.z, czm_modelMatrixRow1.z, czm_modelMatrixRow2.z, 0.0, czm_modelMatrixRow0.w, czm_modelMatrixRow1.w, czm_modelMatrixRow2.w, 1.0);\n    czm_instanced_modelView = czm_instanced_modifiedModelView * czm_instanced_model * czm_instanced_nodeTransform;\n"+u+"    czm_instancing_main();\n"+m+"}\n";if(i){var _=e._model.gltf,v=E.getDiffuseAttributeOrUniform(_,n);g=e._batchTable.getVertexShaderCallback(!0,"a_batchId",v)(g)}return g}}function B(e){return function(t,n){var r=e._batchTable;if(a(r)){var i=e._model.gltf,o=E.getDiffuseAttributeOrUniform(i,n);t=r.getFragmentShaderCallback(!0,o)(t)}else t="varying vec4 v_pickColor;\n"+t;return t}}function L(e,t){return function(){return c.multiply(t.uniformState.view,e._rtcTransform,e._rtcModelView)}}function N(e){return function(){return e.computedMatrix}}function R(e,t){return function(r,i,o){r=n(r),r.czm_instanced_modifiedModelView=L(e,t),r.czm_instanced_nodeTransform=N(o);var s=P(e,i);for(var u in s)s.hasOwnProperty(u)&&delete r[u];return a(e._batchTable)&&(r=e._batchTable.getUniformMapCallback()(r)),r}}function k(e){return function(t,n){if(a(e._batchTable)){var r=e._model.gltf,i=E.getDiffuseAttributeOrUniform(r,n);t=e._batchTable.getVertexShaderCallback(!0,"a_batchId",i)(t),t="uniform float a_batchId\n;"+t}return t}}function F(e){return function(t,n){var r=e._batchTable;if(a(r)){var i=e._model.gltf,o=E.getDiffuseAttributeOrUniform(i,n);t=r.getFragmentShaderCallback(!0,o)(t)}else t="uniform vec4 czm_pickColor;\n"+t;return t}}function U(e){return function(t){return a(e._batchTable)&&(t=e._batchTable.getUniformMapCallback()(t)),t}}function z(e){var t=e._instances,n=e.length,r=e._center,i=e._vertexBufferTypedArray;a(i)||(i=new Float32Array(12*n)),e._dynamic&&(e._vertexBufferTypedArray=i);for(var o=0;o<n;++o){var s=t[o]._modelMatrix,u=c.clone(s,ie);u[12]-=r.x,u[13]-=r.y,u[14]-=r.z;var l=12*o;i[l+0]=u[0],i[l+1]=u[4],i[l+2]=u[8],i[l+3]=u[12],i[l+4]=u[1],i[l+5]=u[5],i[l+6]=u[9],i[l+7]=u[13],i[l+8]=u[2],i[l+9]=u[6],i[l+10]=u[10],i[l+11]=u[14]}return i}function j(e,t){var n,i=e._instances,o=e.length,s=e._dynamic,u=a(e._batchTable);if(u){var l=new Uint16Array(o);for(n=0;n<o;++n)l[n]=i[n]._instanceId;e._batchIdBuffer=m.createVertexBuffer({context:t,typedArray:l,usage:g.STATIC_DRAW})}if(!u){var c=new Uint8Array(4*o);for(n=0;n<o;++n){var h=e._pickIds[n],d=h.color,f=4*n;c[f]=r.floatToByte(d.red),c[f+1]=r.floatToByte(d.green),c[f+2]=r.floatToByte(d.blue),c[f+3]=r.floatToByte(d.alpha)}e._pickIdBuffer=m.createVertexBuffer({context:t,typedArray:c,usage:g.STATIC_DRAW})}var p=z(e);e._vertexBuffer=m.createVertexBuffer({context:t,typedArray:p,usage:s?g.STREAM_DRAW:g.STATIC_DRAW})}function H(e){var t=z(e);e._vertexBuffer.copyFromArrayView(t)}function V(e,t){for(var n=e._instances,r=n.length,i=new Array(r),o=0;o<r;++o)i[o]=t.createPickId(n[o]);return i}function Q(e,t){var n=e._instancingSupported,r=a(e._batchTable),o=e._allowPicking,s={url:e._url,requestType:e._requestType,gltf:e._gltf,basePath:e._basePath,shadows:e._shadows,cacheKey:void 0,asynchronous:e._asynchronous,allowPicking:o,incrementallyLoadTextures:e._incrementallyLoadTextures,upAxis:e._upAxis,forwardAxis:e._forwardAxis,precreatedAttributes:void 0,vertexShaderLoaded:void 0,fragmentShaderLoaded:void 0,uniformMapLoaded:void 0,pickIdLoaded:e._pickIdLoaded,ignoreCommands:!0,opaquePass:e._opaquePass};if(r||(e._pickIds=V(e,t)),n){j(e,t);var u=i.getSizeInBytes(i.FLOAT),l={czm_modelMatrixRow0:{index:0,vertexBuffer:e._vertexBuffer,componentsPerAttribute:4,componentDatatype:i.FLOAT,normalize:!1,offsetInBytes:0,strideInBytes:12*u,instanceDivisor:1},czm_modelMatrixRow1:{index:0,vertexBuffer:e._vertexBuffer,componentsPerAttribute:4,componentDatatype:i.FLOAT,normalize:!1,offsetInBytes:4*u,strideInBytes:12*u,instanceDivisor:1},czm_modelMatrixRow2:{index:0,vertexBuffer:e._vertexBuffer,componentsPerAttribute:4,componentDatatype:i.FLOAT,normalize:!1,offsetInBytes:8*u,strideInBytes:12*u,instanceDivisor:1}};r&&(l.a_batchId={index:0,vertexBuffer:e._batchIdBuffer,componentsPerAttribute:1,componentDatatype:i.UNSIGNED_SHORT,normalize:!1,offsetInBytes:0,strideInBytes:0,instanceDivisor:1}),r||(l.pickColor={index:0,vertexBuffer:e._pickIdBuffer,componentsPerAttribute:4,componentDatatype:i.UNSIGNED_BYTE,normalize:!0,offsetInBytes:0,strideInBytes:0,instanceDivisor:1}),s.precreatedAttributes=l,s.vertexShaderLoaded=D(e),s.fragmentShaderLoaded=B(e),s.uniformMapLoaded=R(e,t),a(e._url)&&(s.cacheKey=e._url.getUrlComponent()+"#instanced")}else s.vertexShaderLoaded=k(e),s.fragmentShaderLoaded=F(e),s.uniformMapLoaded=U(e,t);a(e._url)?e._model=w.fromGltf(s):e._model=new w(s)}function G(e){if(e._debugWireframe!==e.debugWireframe){e._debugWireframe=e.debugWireframe;for(var t=e.debugWireframe?h.LINES:h.TRIANGLES,n=e._drawCommands,r=n.length,i=0;i<r;++i)n[i].primitiveType=t}}function W(e){if(e.debugShowBoundingVolume!==e._debugShowBoundingVolume){e._debugShowBoundingVolume=e.debugShowBoundingVolume;for(var t=e._drawCommands,n=t.length,r=0;r<n;++r)t[r].debugShowBoundingVolume=e.debugShowBoundingVolume}}function q(e,t){for(var n=t.length,r=e.length,i=e._boundingSphere,o=e._cull,s=0;s<n;++s){var u=_.shallowClone(t[s]);u.instanceCount=r,u.boundingVolume=i,u.cull=o,a(e._batchTable)?u.pickId=e._batchTable.getPickId():u.pickId="v_pickColor",e._drawCommands.push(u)}}function Y(e){return function(){return e}}function K(e){return function(){return e}}function X(t,r){for(var i=t._instances,o=r.length,s=t.length,u=t._batchTable,l=a(u),h=t._cull,d=0;d<o;++d)for(var f=0;f<s;++f){var p=_.shallowClone(r[d]);if(p.modelMatrix=new c,p.boundingVolume=new e,p.cull=h,p.uniformMap=n(p.uniformMap),l)p.uniformMap.a_batchId=Y(i[f]._instanceId);else{var m=t._pickIds[f];p.uniformMap.czm_pickColor=K(m.color)}t._drawCommands.push(p)}}function Z(t){for(var n=t._modelCommands,r=n.length,i=t.length,o=t._rtcTransform,a=t._center,s=0;s<r;++s)for(var u=n[s],l=0;l<i;++l){var h=s*i+l,d=t._drawCommands[h],f=c.clone(t._instances[l]._modelMatrix,ie);f[12]-=a.x,f[13]-=a.y,f[14]-=a.z,f=c.multiply(o,f,ie);var p=u.modelMatrix,m=d.modelMatrix;c.multiply(f,p,m);var g=u.boundingVolume,_=d.boundingVolume;e.transform(g,f,_)}}function J(e){for(var t=e._nodeCommands,n=t.length,r=[],i=0;i<n;++i){var o=t[i];o.show&&r.push(o.command)}return r}function $(e){for(var t=e._nodeCommands,n=t.length,r=0;r<n;r++){if(t[r].command.dirty)return!0}return!1}function ee(e,t){e._drawCommands=[];var n=J(e._model);t?q(e,n):(X(e,n),Z(e))}function te(e){if(e.shadows!==e._shadows){e._shadows=e.shadows;for(var t=S.castShadows(e.shadows),n=S.receiveShadows(e.shadows),r=e._drawCommands,i=r.length,o=0;o<i;++o){var a=r[o];a.castShadows=t,a.receiveShadows=n}}}var ne={NEEDS_LOAD:0,LOADING:1,LOADED:2,FAILED:3};s(T.prototype,{allowPicking:{get:function(){return this._allowPicking}},length:{get:function(){return this._instances.length}},activeAnimations:{get:function(){return this._model.activeAnimations}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}}});var re=new t,ie=new c;return T.prototype.expandBoundingSphere=function(t){var n=c.getTranslation(t,re);e.expand(this._boundingSphere,n,this._boundingSphere)},T.prototype.update=function(e){if(e.mode!==C.MORPHING&&this.show&&0!==this.length){var n=e.context;if(this._state===ne.NEEDS_LOAD){this._state=ne.LOADING,this._instancingSupported=n.instancedArrays,Q(this,n);var r=this;this._model.readyPromise.otherwise(function(e){r._state=ne.FAILED,r._readyPromise.reject(e)})}var i=this._instancingSupported,o=this._model;if(o.update(e),o.ready&&this._state===ne.LOADING){this._state=ne.LOADED,this._ready=!0;var a=o.boundingSphere.radius+t.magnitude(o.boundingSphere.center);return this._boundingSphere.radius+=a,this._modelCommands=J(o),ee(this,i),void this._readyPromise.resolve(this)}if(this._state===ne.LOADED){var s=e.mode!==this._mode,u=this.modelMatrix,l=!c.equals(this._modelMatrix,u);if(s||l){this._mode=e.mode,c.clone(u,this._modelMatrix);var h=c.multiplyByTranslation(this._modelMatrix,this._center,this._rtcTransform);this._mode!==C.SCENE3D&&(h=p.basisTo2D(e.mapProjection,h,h)),c.getTranslation(h,this._boundingSphere.center)}i&&this._dirty&&(this._dynamic=!0,this._dirty=!1,H(this)),$(o)&&ee(this,i),!i&&(o.dirty||this._dirty||s||l)&&Z(this),te(this),G(this),W(this);var d=e.passes;if(d.render||d.pick)for(var f=e.commandList,m=this._drawCommands,g=m.length,_=0;_<g;++_)f.push(m[_])}}},T.prototype.isDestroyed=function(){return!1},T.prototype.destroy=function(){this._model=this._model&&this._model.destroy();var e=this._pickIds;if(a(e))for(var t=e.length,n=0;n<t;++n)e[n].destroy();return u(this)},T}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(20)],void 0!==(i=function(e,t){"use strict";function n(e,n,r){this.primitive=e,this._modelMatrix=t.clone(n),this._instanceId=r}return e(n.prototype,{instanceId:{get:function(){return this._instanceId}},model:{get:function(){return this.primitive._model}},modelMatrix:{get:function(){return t.clone(this._modelMatrix)},set:function(e){t.clone(e,this._modelMatrix),this.primitive.expandBoundingSphere(this._modelMatrix),this.primitive._dirty=!0}}}),n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(25),n(42),n(1),n(0),n(2),n(21),n(3),n(39),n(9),n(47),n(52),n(176),n(163),n(266),n(1288),n(46)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m){"use strict";function g(e,t,n,r,i){this._tileset=e,this._tile=t,this._resource=n,this._pickId=void 0,this._batchTable=void 0,this._styleDirty=!1,this._features=void 0,this.featurePropertiesDirty=!1,this._pointCloud=new p({arrayBuffer:r,byteOffset:i,cull:!1,opaquePass:l.CESIUM_3D_TILE,vertexShaderLoaded:_(this),fragmentShaderLoaded:v(this),uniformMapLoaded:A(this),batchTableLoaded:y(this),pickIdLoaded:b(this)})}function _(e){return function(t){return r(e._batchTable)?e._batchTable.getVertexShaderCallback(!1,"a_batchId",void 0)(t):t}}function v(e){return function(t){return r(e._batchTable)?e._batchTable.getFragmentShaderCallback(!1,void 0)(t):"uniform vec4 czm_pickColor;\n"+t}}function A(e){return function(n){return r(e._batchTable)?e._batchTable.getUniformMapCallback()(n):t(n,{czm_pickColor:function(){return e._pickId.color}})}}function y(e){return function(t,n,r){e._batchTable=new h(e,t,n,r)}}function b(e){return function(){return r(e._batchTable)?e._batchTable.getPickId():"czm_pickColor"}}function w(e){var t=e._tileset.pointCloudShading,n=e._tile.contentBoundingVolume.boundingSphere.volume(),i=u.cbrt(n/e.pointsLength),o=e._tile.geometricError;return 0===o&&(o=r(t)&&r(t.baseResolution)?t.baseResolution:i),o}function x(e){var t=e.featuresLength;if(!r(e._features)&&t>0){for(var n=new Array(t),i=0;i<t;++i)n[i]=new d(e,i);e._features=n}}return i(g.prototype,{featuresLength:{get:function(){return r(this._batchTable)?this._batchTable.featuresLength:0}},pointsLength:{get:function(){return this._pointCloud.pointsLength}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return this._pointCloud.geometryByteLength}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return r(this._batchTable)?this._batchTable.memorySizeInBytes:0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._pointCloud.readyPromise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){return this._batchTable}}}),g.prototype.hasProperty=function(e,t){return!!r(this._batchTable)&&this._batchTable.hasProperty(e,t)},g.prototype.getFeature=function(e){if(r(this._batchTable)){this.featuresLength;return x(this),this._features[e]}},g.prototype.applyDebugSettings=function(t,n){this._pointCloud.color=t?n:e.WHITE},g.prototype.applyStyle=function(e){r(this._batchTable)?this._batchTable.applyStyle(e):this._styleDirty=!0},g.prototype.update=function(e,t){var n=this._pointCloud,i=e.pointCloudShading,o=this._tile,a=this._batchTable,s=t.mode,u=e.clippingPlanes;r(this._pickId)||r(a)||(this._pickId=t.context.createPickId({primitive:e,content:this})),r(a)&&a.update(e,t);var l;l=r(o._contentBoundingVolume)?s===m.SCENE3D?o._contentBoundingVolume.boundingSphere:o._contentBoundingVolume2D.boundingSphere:s===m.SCENE3D?o._boundingVolume.boundingSphere:o._boundingVolume2D.boundingSphere;var c=this._styleDirty;this._styleDirty=!1,n.clippingPlaneOffsetMatrix=e.clippingPlaneOffsetMatrix,n.style=r(a)?void 0:e.style,n.styleDirty=c,n.modelMatrix=o.computedTransform,n.time=e.timeSinceLoad,n.shadows=e.shadows,n.boundingSphere=l,n.clippingPlanes=u,n.isClipped=r(u)&&u.enabled&&o._isClipped,n.clippingPlanesDirty=o.clippingPlanesDirty,n.attenuation=!!r(i)&&i.attenuation,n.geometricError=w(this),n.geometricErrorScale=r(i)?i.geometricErrorScale:1,r(i)&&r(i.maximumAttenuation)?n.maximumAttenuation=i.maximumAttenuation:o.refine===f.ADD?n.maximumAttenuation=5:n.maximumAttenuation=e.maximumScreenSpaceError,n.update(t)},g.prototype.isDestroyed=function(){return!1},g.prototype.destroy=function(){return this._pickId=this._pickId&&this._pickId.destroy(),this._pointCloud=this._pointCloud&&this._pointCloud.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),o(this)},g}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(136),n(38),n(10),n(41),n(9),n(12),n(25),n(42),n(31),n(1),n(0),n(2),n(21),n(39),n(108),n(20),n(428),n(289),n(79),n(54),n(26),n(50),n(93),n(64),n(60),n(47),n(68),n(77),n(52),n(115),n(7),n(70),n(176),n(163),n(360),n(612),n(613),n(452),n(46),n(184)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L,N,R,k,F,U){"use strict";function z(e){this._parsedContent=void 0,this._drawCommand=void 0,this._isTranslucent=!1,this._styleTranslucent=!1,this._constantColor=a.clone(a.DARKGRAY),this._highlightColor=a.clone(a.WHITE),this._pointSize=1,this._rtcCenter=void 0,this._quantizedVolumeScale=void 0,this._quantizedVolumeOffset=void 0,this._styleableShaderAttributes=void 0,this._isQuantized=!1,this._isOctEncoded16P=!1,this._isRGB565=!1,this._hasColors=!1,this._hasNormals=!1,this._hasBatchIds=!1,this._decodingState=J.READY,this._dequantizeInShader=!0,this._isQuantizedDraco=!1,this._isOctEncodedDraco=!1,this._quantizedRange=0,this._octEncodedRange=0,this.backFaceCulling=!1,this._backFaceCulling=!1,this.normalShading=!0,this._normalShading=!0,this._opaqueRenderState=void 0,this._translucentRenderState=void 0,this._mode=void 0,this._ready=!1,this._readyPromise=O.defer(),this._pointsLength=0,this._geometryByteLength=0,this._vertexShaderLoaded=e.vertexShaderLoaded,this._fragmentShaderLoaded=e.fragmentShaderLoaded,this._uniformMapLoaded=e.uniformMapLoaded,this._batchTableLoaded=e.batchTableLoaded,this._pickIdLoaded=e.pickIdLoaded,this._opaquePass=l(e.opaquePass,C.OPAQUE),this._cull=l(e.cull,!0),this.style=void 0,this._style=void 0,this.styleDirty=!1,this.modelMatrix=m.clone(m.IDENTITY),this._modelMatrix=m.clone(m.IDENTITY),this.time=0,this.shadows=U.ENABLED,this._boundingSphere=void 0,this.clippingPlanes=void 0,this.isClipped=!1,this.clippingPlanesDirty=!1,this.clippingPlaneOffsetMatrix=void 0,this.attenuation=!1,this._attenuation=!1,this.geometricError=0,this.geometricErrorScale=1,this.maximumAttenuation=this._pointSize,j(this,e)}function j(t,r){var i=r.arrayBuffer,o=l(r.byteOffset,0),h=new Uint8Array(i),d=new DataView(i);o+=ee;var f=d.getUint32(o,!0);if(1!==f)throw new y("Only Point Cloud tile version 1 is supported.  Version "+f+" is not.");o+=ee,o+=ee;var m=d.getUint32(o,!0);if(0===m)throw new y("Feature table must have a byte length greater than zero");o+=ee;var g=d.getUint32(o,!0);o+=ee;var _=d.getUint32(o,!0);o+=ee;var v=d.getUint32(o,!0);o+=ee;var A=p(h,o,m),b=JSON.parse(A);o+=m;var w=new Uint8Array(i,o,g);o+=g;var x,E;if(_>0){var C=p(h,o,_);x=JSON.parse(C),o+=_,v>0&&(E=new Uint8Array(i,o,v),o+=v)}var S=new L(b,w),T=S.getGlobalProperty("POINTS_LENGTH");if(S.featuresLength=T,!c(T))throw new y("Feature table global property: POINTS_LENGTH must be defined");var I=S.getGlobalProperty("RTC_CENTER",u.FLOAT,3);c(I)&&(t._rtcCenter=n.unpack(I));var M,O,P,B,N,R,k,F=!1,U=!1,z=!1,j=!1,H=!1,V=!1,Q=!1,G=!1,W=c(b.extensions)?b.extensions["3DTILES_draco_point_compression"]:void 0,q=c(x)&&c(x.extensions)?x.extensions["3DTILES_draco_point_compression"]:void 0;if(c(q)&&(k=q.properties),c(W)){R=W.properties;var Y=W.byteOffset,K=W.byteLength;if(!c(R)||!c(Y)||!c(K))throw new y("Draco properties, byteOffset, and byteLength must be defined");N=e(w,Y,Y+K),F=c(R.POSITION),U=c(R.RGB)||c(R.RGBA),z=c(R.NORMAL),j=c(R.BATCH_ID),V=c(R.RGBA),t._decodingState=J.NEEDS_DECODE}var X;if(c(N)&&(X={buffer:N,featureTableProperties:R,batchTableProperties:k,properties:s(R,k),dequantizeInShader:t._dequantizeInShader}),!F)if(c(b.POSITION))M=S.getPropertyArray("POSITION",u.FLOAT,3),F=!0;else if(c(b.POSITION_QUANTIZED)){M=S.getPropertyArray("POSITION_QUANTIZED",u.UNSIGNED_SHORT,3),H=!0,F=!0;var Z=S.getGlobalProperty("QUANTIZED_VOLUME_SCALE",u.FLOAT,3);if(!c(Z))throw new y("Global property: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");t._quantizedVolumeScale=n.unpack(Z),t._quantizedRange=65535;var $=S.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",u.FLOAT,3);if(!c($))throw new y("Global property: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");t._quantizedVolumeOffset=n.unpack($)}if(U||(c(b.RGBA)?(O=S.getPropertyArray("RGBA",u.UNSIGNED_BYTE,4),V=!0,U=!0):c(b.RGB)?(O=S.getPropertyArray("RGB",u.UNSIGNED_BYTE,3),U=!0):c(b.RGB565)&&(O=S.getPropertyArray("RGB565",u.UNSIGNED_SHORT,1),Q=!0,U=!0)),z||(c(b.NORMAL)?(P=S.getPropertyArray("NORMAL",u.FLOAT,3),z=!0):c(b.NORMAL_OCT16P)&&(P=S.getPropertyArray("NORMAL_OCT16P",u.UNSIGNED_BYTE,2),G=!0,z=!0)),j||c(b.BATCH_ID)&&(B=S.getPropertyArray("BATCH_ID",u.UNSIGNED_SHORT,1),j=!0),!F)throw new y("Either POSITION or POSITION_QUANTIZED must be defined.");if(c(b.CONSTANT_RGBA)){var te=S.getGlobalProperty("CONSTANT_RGBA",u.UNSIGNED_BYTE,4);t._constantColor=a.fromBytes(te[0],te[1],te[2],te[3],t._constantColor)}if(j){var ne=S.getGlobalProperty("BATCH_LENGTH");if(!c(ne))throw new y("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");c(E)&&(E=new Uint8Array(E)),c(t._batchTableLoaded)&&t._batchTableLoaded(ne,x,E)}var re;!j&&c(E)&&(re=D.getBinaryProperties(T,x,E)),t._parsedContent={positions:M,colors:O,normals:P,batchIds:B,styleableProperties:re,draco:X},t._pointsLength=T,t._isQuantized=H,t._isOctEncoded16P=G,t._isRGB565=Q,t._isTranslucent=V,t._hasColors=U,t._hasNormals=z,t._hasBatchIds=j}function H(e){if(!c($)){i.setRandomNumberSeed(0),$=new Array(e);for(var t=0;t<e;++t)$[t]=i.nextRandomNumber()}return $}function V(e){for(var r=e.length/3,o=Math.min(r,20),a=H(20),s=Number.MAX_VALUE,u=-Number.MAX_VALUE,l=n.fromElements(s,s,s,te),c=n.fromElements(u,u,u,ne),h=0;h<o;++h){var d=Math.floor(a[h]*r),f=n.unpack(e,3*d,re);n.minimumByComponent(l,f,l),n.maximumByComponent(c,f,c)}var p=t.fromCornerPoints(l,c);return p.radius+=i.EPSILON2,p}function Q(e){var t=u.fromTypedArray(e);return t===u.INT||t===u.UNSIGNED_INT||t===u.DOUBLE?(g("Cast pnts property to floats",'Point cloud property "'+name+'" will be casted to a float array because INT, UNSIGNED_INT, and DOUBLE are not valid WebGL vertex attribute types. Some precision may be lost.'),new Float32Array(e)):e}function G(e,r){var i,o,a=r.context,s=e._parsedContent,l=e._pointsLength,h=s.positions,d=s.colors,f=s.normals,p=s.batchIds,g=s.styleableProperties,_=c(g),v=e._isQuantized,y=e._isQuantizedDraco,b=e._isOctEncoded16P,T=e._isOctEncodedDraco,I=e._quantizedRange,O=e._octEncodedRange,D=e._isRGB565,B=e._isTranslucent,L=e._hasColors,N=e._hasNormals,R=e._hasBatchIds,k=[],F={};if(e._styleableShaderAttributes=F,_){var U=he;for(var z in g)if(g.hasOwnProperty(z)){var j=g[z],H=Q(j.typedArray);i=j.componentCount,o=u.fromTypedArray(H);var G=w.createVertexBuffer({context:a,typedArray:H,usage:x.STATIC_DRAW});e._geometryByteLength+=G.sizeInBytes;var W={index:U,vertexBuffer:G,componentsPerAttribute:i,componentDatatype:o,normalize:!1,offsetInBytes:0,strideInBytes:0};k.push(W),F[z]={location:U,componentCount:i},++U}}var q=w.createVertexBuffer({context:a,typedArray:h,usage:x.STATIC_DRAW});e._geometryByteLength+=q.sizeInBytes;var Y;L&&(Y=w.createVertexBuffer({context:a,typedArray:d,usage:x.STATIC_DRAW}),e._geometryByteLength+=Y.sizeInBytes);var K;N&&(K=w.createVertexBuffer({context:a,typedArray:f,usage:x.STATIC_DRAW}),e._geometryByteLength+=K.sizeInBytes);var X;R&&(p=Q(p),X=w.createVertexBuffer({context:a,typedArray:p,usage:x.STATIC_DRAW}),e._geometryByteLength+=X.sizeInBytes);var Z=[];if(o=v?u.UNSIGNED_SHORT:y?I<=255?u.UNSIGNED_BYTE:u.UNSIGNED_SHORT:u.FLOAT,Z.push({index:se,vertexBuffer:q,componentsPerAttribute:3,componentDatatype:o,normalize:!1,offsetInBytes:0,strideInBytes:0}),e._cull&&(e._boundingSphere=v||y?t.fromCornerPoints(n.ZERO,e._quantizedVolumeScale):V(h)),L)if(D)Z.push({index:ue,vertexBuffer:Y,componentsPerAttribute:1,componentDatatype:u.UNSIGNED_SHORT,normalize:!1,offsetInBytes:0,strideInBytes:0});else{var J=B?4:3;Z.push({index:ue,vertexBuffer:Y,componentsPerAttribute:J,componentDatatype:u.UNSIGNED_BYTE,normalize:!0,offsetInBytes:0,strideInBytes:0})}N&&(b?(i=2,o=u.UNSIGNED_BYTE):T?(i=2,o=O<=255?u.UNSIGNED_BYTE:u.UNSIGNED_SHORT):(i=3,o=u.FLOAT),Z.push({index:le,vertexBuffer:K,componentsPerAttribute:i,componentDatatype:o,normalize:!1,offsetInBytes:0,strideInBytes:0})),R&&Z.push({index:ce,vertexBuffer:X,componentsPerAttribute:1,componentDatatype:u.fromTypedArray(p),normalize:!1,offsetInBytes:0,strideInBytes:0}),_&&(Z=Z.concat(k));var $=new M({context:a,attributes:Z});e._opaqueRenderState=S.fromCache({depthTest:{enabled:!0}}),e._translucentRenderState=S.fromCache({depthTest:{enabled:!0},depthMask:!1,blending:P.ALPHA_BLEND}),e._drawCommand=new E({boundingVolume:new t,cull:e._cull,modelMatrix:new m,primitiveType:A.POINTS,vertexArray:$,count:l,shaderProgram:void 0,uniformMap:void 0,renderState:B?e._translucentRenderState:e._opaqueRenderState,pass:B?C.TRANSLUCENT:e._opaquePass,owner:e,castShadows:!1,receiveShadows:!1,pickId:e._pickIdLoaded()})}function W(e,t){var r=t.context,i=e._isQuantized,o=e._isQuantizedDraco,u=e._isOctEncodedDraco,h={u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier:function(){var n=ie;if(n.x=e._attenuation?e.maximumAttenuation:e._pointSize,n.y=e.time,e._attenuation){var i,o=t.camera.frustum;i=t.mode===F.SCENE2D||o instanceof _?Number.POSITIVE_INFINITY:r.drawingBufferHeight/t.camera.frustum.sseDenominator,n.z=e.geometricError*e.geometricErrorScale,n.w=i}return n},u_highlightColor:function(){return e._highlightColor},u_constantColor:function(){return e._constantColor},u_clippingPlanes:function(){var t=e.clippingPlanes;return e.isClipped?t.texture:r.defaultTexture},u_clippingPlanesEdgeStyle:function(){var t=e.clippingPlanes;if(!c(t))return a.TRANSPARENT;var n=a.clone(t.edgeColor,ae);return n.alpha=t.edgeWidth,n},u_clippingPlanesMatrix:function(){var t=e.clippingPlanes;if(!c(t))return m.IDENTITY;var n=l(e.clippingPlaneOffsetMatrix,e._modelMatrix);return m.multiply(r.uniformState.view3D,n,de),m.multiply(de,t.modelMatrix,de)}};(i||o||u)&&(h=s(h,{u_quantizedVolumeScaleAndOctEncodedRange:function(){var t=oe;if(c(e._quantizedVolumeScale)){var r=n.clone(e._quantizedVolumeScale,t);n.divideByScalar(r,e._quantizedRange,t)}return t.w=e._octEncodedRange,t}})),c(e._uniformMapLoaded)&&(h=e._uniformMapLoaded(h)),e._drawCommand.uniformMap=h}function q(e,t){for(var n=/czm_tiles3d_style_(\w+)/g,r=n.exec(e);null!==r;){var i=r[1];-1===t.indexOf(i)&&t.push(i),r=n.exec(e)}}function Y(e,t){for(var n=e.numberOfAttributes,r=0;r<n;++r){var i=e.getAttribute(r);if(i.index===t)return i}}function K(e){for(var t=fe.length,n=0;n<t;++n){var r=fe[n],i="czm_tiles3d_style_"+r,o=r.toLowerCase();e=e.replace(new RegExp(i+"(\\W)","g"),o+"$1")}return e.replace("()","(vec3 position, vec3 position_absolute, vec4 color, vec3 normal)")}function X(e,t,n){var r,i,o,a,s,u,l=t.context,h=c(n),d=e._isQuantized,f=e._isQuantizedDraco,p=e._isOctEncoded16P,m=e._isOctEncodedDraco,g=e._isRGB565,_=e._isTranslucent,v=e._hasColors,A=e._hasNormals,b=e._hasBatchIds,w=e._backFaceCulling,x=e._normalShading,E=e._drawCommand.vertexArray,C=e.clippingPlanes,S=e._attenuation,I=_;if(h){var M={translucent:!1};a=n.getColorShaderFunction("getColorFromStyle","czm_tiles3d_style_",M),s=n.getShowShaderFunction("getShowFromStyle","czm_tiles3d_style_",M),u=n.getPointSizeShaderFunction("getPointSizeFromStyle","czm_tiles3d_style_",M),c(a)&&M.translucent&&(I=!0)}e._styleTranslucent=I;var O=c(a),P=c(s),D=c(u),B=e.isClipped,L=[];O&&(q(a,L),a=K(a)),P&&(q(s,L),s=K(s)),D&&(q(u,L),u=K(u));var N=L.indexOf("COLOR")>=0,F=L.indexOf("NORMAL")>=0,U=L.filter(function(e){return-1===fe.indexOf(e)});if(F&&!A)throw new y("Style references the NORMAL semantic but the point cloud does not have normals");var z=e._styleableShaderAttributes;for(i in z)if(z.hasOwnProperty(i)){o=z[i];var j=U.indexOf(i)>=0,H=Y(E,o.location);H.enabled=j}var V=v&&(!O||N);if(v){Y(E,ue).enabled=V}var Q=A&&(x||w||F);if(A){Y(E,le).enabled=Q}var G={a_position:se};V&&(G.a_color=ue),Q&&(G.a_normal=le),b&&(G.a_batchId=ce);var X="",Z=U.length;for(r=0;r<Z;++r){if(i=U[r],o=z[i],!c(o))throw new y('Style references a property "'+i+'" that does not exist or is not styleable.');var J,$=o.componentCount,ee="czm_tiles3d_style_"+i;J=1===$?"float":"vec"+$,X+="attribute "+J+" "+ee+"; \n",G[ee]=o.location}W(e,t);var te="attribute vec3 a_position; \nvarying vec4 v_color; \nuniform vec4 u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier; \nuniform vec4 u_constantColor; \nuniform vec4 u_highlightColor; \n";te+="float u_pointSize; \nfloat u_time; \n",S&&(te+="float u_geometricError; \nfloat u_depthMultiplier; \n"),te+=X,V&&(te+=_?"attribute vec4 a_color; \n":g?"attribute float a_color; \nconst float SHIFT_RIGHT_11 = 1.0 / 2048.0; \nconst float SHIFT_RIGHT_5 = 1.0 / 32.0; \nconst float SHIFT_LEFT_11 = 2048.0; \nconst float SHIFT_LEFT_5 = 32.0; \nconst float NORMALIZE_6 = 1.0 / 64.0; \nconst float NORMALIZE_5 = 1.0 / 32.0; \n":"attribute vec3 a_color; \n"),Q&&(te+=p||m?"attribute vec2 a_normal; \n":"attribute vec3 a_normal; \n"),b&&(te+="attribute float a_batchId; \n"),(d||f||m)&&(te+="uniform vec4 u_quantizedVolumeScaleAndOctEncodedRange; \n"),O&&(te+=a),P&&(te+=s),D&&(te+=u),te+="void main() \n{ \n    u_pointSize = u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier.x; \n    u_time = u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier.y; \n",S&&(te+="    u_geometricError = u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier.z; \n    u_depthMultiplier = u_pointSizeAndTimeAndGeometricErrorAndDepthMultiplier.w; \n"),te+=V?_?"    vec4 color = a_color; \n":g?"    float compressed = a_color; \n    float r = floor(compressed * SHIFT_RIGHT_11); \n    compressed -= r * SHIFT_LEFT_11; \n    float g = floor(compressed * SHIFT_RIGHT_5); \n    compressed -= g * SHIFT_LEFT_5; \n    float b = compressed; \n    vec3 rgb = vec3(r * NORMALIZE_5, g * NORMALIZE_6, b * NORMALIZE_5); \n    vec4 color = vec4(rgb, 1.0); \n":"    vec4 color = vec4(a_color, 1.0); \n":"    vec4 color = u_constantColor; \n",te+=d||f?"    vec3 position = a_position * u_quantizedVolumeScaleAndOctEncodedRange.xyz; \n":"    vec3 position = a_position; \n",te+="    vec3 position_absolute = vec3(czm_model * vec4(position, 1.0)); \n",te+=Q?p?"    vec3 normal = czm_octDecode(a_normal); \n":m?"    vec3 normal = czm_octDecode(a_normal, u_quantizedVolumeScaleAndOctEncodedRange.w).zxy; \n":"    vec3 normal = a_normal; \n":"    vec3 normal = vec3(1.0); \n",O&&(te+="    color = getColorFromStyle(position, position_absolute, color, normal); \n"),P&&(te+="    float show = float(getShowFromStyle(position, position_absolute, color, normal)); \n"),te+=D?"    gl_PointSize = getPointSizeFromStyle(position, position_absolute, color, normal); \n":S?"    vec4 positionEC = czm_modelView * vec4(position, 1.0); \n    float depth = -positionEC.z; \n    gl_PointSize = min((u_geometricError / depth) * u_depthMultiplier, u_pointSize); \n":"    gl_PointSize = u_pointSize; \n",te+="    color = color * u_highlightColor; \n",Q&&x&&(te+="    normal = czm_normal * normal; \n    float diffuseStrength = czm_getLambertDiffuse(czm_sunDirectionEC, normal); \n    diffuseStrength = max(diffuseStrength, 0.4); \n    color.xyz *= diffuseStrength; \n"),te+="    v_color = color; \n    gl_Position = czm_modelViewProjection * vec4(position, 1.0); \n",Q&&w&&(te+="    float visible = step(-normal.z, 0.0); \n    gl_Position *= visible; \n    gl_PointSize *= visible; \n"),P&&(te+="    gl_Position *= show; \n    gl_PointSize *= show; \n"),te+="} \n";var ne="varying vec4 v_color; \n";B&&(ne+="uniform sampler2D u_clippingPlanes; \nuniform mat4 u_clippingPlanesMatrix; \nuniform vec4 u_clippingPlanesEdgeStyle; \n",ne+="\n",ne+=k(C,l),ne+="\n"),ne+="void main() \n{ \n    gl_FragColor = v_color; \n",B&&(ne+=R("u_clippingPlanes","u_clippingPlanesMatrix","u_clippingPlanesEdgeStyle")),ne+="} \n",c(e._vertexShaderLoaded)&&(te=e._vertexShaderLoaded(te)),c(e._fragmentShaderLoaded)&&(ne=e._fragmentShaderLoaded(ne));var re=e._drawCommand;c(re.shaderProgram)&&re.shaderProgram.destroy(),re.shaderProgram=T.fromCache({context:l,vertexShaderSource:te,fragmentShaderSource:ne,attributeLocations:G});try{re.shaderProgram._bind()}catch(e){throw new y("Error generating style shader: this may be caused by a type mismatch, index out-of-bounds, or other syntax error.")}}function Z(e,t){if(e._decodingState===J.READY)return!1;if(e._decodingState===J.NEEDS_DECODE){var r=e._parsedContent,i=r.draco,o=N.decodePointCloud(i,t);c(o)&&(e._decodingState=J.DECODING,o.then(function(t){e._decodingState=J.READY;var o=c(t.POSITION)?t.POSITION.array:void 0,a=c(t.RGB)?t.RGB.array:void 0,s=c(t.RGBA)?t.RGBA.array:void 0,u=c(t.NORMAL)?t.NORMAL.array:void 0,h=c(t.BATCH_ID)?t.BATCH_ID.array:void 0,d=c(o)&&c(t.POSITION.data.quantization),f=c(u)&&c(t.NORMAL.data.quantization);if(d){var p=t.POSITION.data.quantization,m=p.range;e._quantizedVolumeScale=n.fromElements(m,m,m),e._quantizedVolumeOffset=n.unpack(p.minValues),e._quantizedRange=(1<<p.quantizationBits)-1,e._isQuantizedDraco=!0}f&&(e._octEncodedRange=(1<<t.NORMAL.data.quantization.quantizationBits)-1,e._isOctEncodedDraco=!0);var g=r.styleableProperties,_=i.batchTableProperties;for(var v in _)if(_.hasOwnProperty(v)){var A=t[v];c(g)||(g={}),g[v]={typedArray:A.array,componentCount:A.data.componentsPerAttribute}}r.positions=l(o,r.positions),r.colors=l(l(s,a),r.colors),r.normals=l(u,r.normals),r.batchIds=l(h,r.batchIds),r.styleableProperties=g}).otherwise(function(t){e._decodingState=J.FAILED,e._readyPromise.reject(t)}))}return!0}if(!f.supportsTypedArrays())return{};var J={NEEDS_DECODE:0,DECODING:1,READY:2,FAILED:3};h(z.prototype,{pointsLength:{get:function(){return this._pointsLength}},geometryByteLength:{get:function(){return this._geometryByteLength}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},color:{get:function(){return a.clone(this._highlightColor)},set:function(e){this._highlightColor=a.clone(e,this._highlightColor)}},boundingSphere:{get:function(){if(c(this._drawCommand))return this._drawCommand.boundingVolume},set:function(e){this._boundingSphere=t.clone(e)}}});var $,ee=Uint32Array.BYTES_PER_ELEMENT,te=new n,ne=new n,re=new n,ie=new r,oe=new r,ae=new a,se=0,ue=1,le=2,ce=3,he=4,de=new m,fe=["POSITION","COLOR","NORMAL","POSITION_ABSOLUTE"],pe=new r,me=new n;return z.prototype.update=function(e){if(!Z(this,e.context)){var i=!1,o=!m.equals(this._modelMatrix,this.modelMatrix);if(this._mode!==e.mode&&(this._mode=e.mode,o=!0),c(this._drawCommand)||(G(this,e),o=!0,i=!0,this._ready=!0,this._readyPromise.resolve(this),this._parsedContent=void 0),o){m.clone(this.modelMatrix,this._modelMatrix);var a=this._drawCommand.modelMatrix;if(m.clone(this._modelMatrix,a),c(this._rtcCenter)&&m.multiplyByTranslation(a,this._rtcCenter,a),c(this._quantizedVolumeOffset)&&m.multiplyByTranslation(a,this._quantizedVolumeOffset,a),e.mode!==F.SCENE3D){var s=e.mapProjection,u=m.getColumn(a,3,pe);r.equals(u,r.UNIT_W)||b.basisTo2D(s,a,a)}var l=this._drawCommand.boundingVolume;if(t.clone(this._boundingSphere,l),this._cull){var h=l.center;m.multiplyByPoint(a,h,h);var d=m.getScale(a,me);l.radius*=n.maximumComponent(d)}}this.clippingPlanesDirty&&(this.clippingPlanesDirty=!1,i=!0),this._attenuation!==this.attenuation&&(this._attenuation=this.attenuation,i=!0),this.backFaceCulling!==this._backFaceCulling&&(this._backFaceCulling=this.backFaceCulling,i=!0),this.normalShading!==this._normalShading&&(this._normalShading=this.normalShading,i=!0),(this._style!==this.style||this.styleDirty)&&(this._style=this.style,this.styleDirty=!1,i=!0),i&&X(this,e,this._style),this._drawCommand.castShadows=U.castShadows(this.shadows),this._drawCommand.receiveShadows=U.receiveShadows(this.shadows);var f=this._highlightColor.alpha<1||this._constantColor.alpha<1||this._styleTranslucent;this._drawCommand.renderState=f?this._translucentRenderState:this._opaqueRenderState,this._drawCommand.pass=f?C.TRANSLUCENT:this._opaquePass;var p=e.commandList,g=e.passes;(g.render||g.pick)&&p.push(this._drawCommand)}},z.prototype.isDestroyed=function(){return!1},z.prototype.destroy=function(){var e=this._drawCommand;return c(e)&&(e.vertexArray=e.vertexArray&&e.vertexArray.destroy(),e.shaderProgram=e.shaderProgram&&e.shaderProgram.destroy()),d(this)},z}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(2),n(21),n(108),n(26),n(7)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e,t,n,r,i){this._tileset=e,this._tile=t,this._resource=n,this._readyPromise=o.defer(),this.featurePropertiesDirty=!1,s(this,r,i)}function s(t,n,o){o=e(o,0);var a,s=new Uint8Array(n),u=r(s,o);try{a=JSON.parse(u)}catch(e){return void t._readyPromise.reject(new i("Invalid tile content."))}t._tileset.loadTileset(t._resource,a,t._tile),t._readyPromise.resolve(t)}return t(a.prototype,{featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){}}}),a.prototype.hasProperty=function(e,t){return!1},a.prototype.getFeature=function(e){},a.prototype.applyDebugSettings=function(e,t){},a.prototype.applyStyle=function(e){},a.prototype.update=function(e,t){},a.prototype.isDestroyed=function(){return!1},a.prototype.destroy=function(){return n(this)},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(1),n(0),n(2),n(21),n(3),n(23),n(39),n(175),n(108),n(9),n(20),n(16),n(26),n(7),n(176),n(1291),n(1295),n(1296)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v){"use strict";function A(e,t,n,r,i){this._tileset=e,this._tile=t,this._resource=n,this._polygons=void 0,this._polylines=void 0,this._points=void 0,this._contentReadyPromise=void 0,this._readyPromise=p.defer(),this._batchTable=void 0,this._features=void 0,this.featurePropertiesDirty=!1,w(this,r,i)}function y(e){return function(t,r){n(e._polygons)&&e._polygons.updateCommands(t,r)}}function b(e,r){var i,o,a,s,u=t(e.POLYGONS_LENGTH,0),l=t(e.POLYLINES_LENGTH,0),c=t(e.POINTS_LENGTH,0);if(u>0&&n(e.POLYGON_BATCH_IDS)){var h=r.byteOffset+e.POLYGON_BATCH_IDS.byteOffset;i=new Uint16Array(r.buffer,h,u)}if(l>0&&n(e.POLYLINE_BATCH_IDS)){var d=r.byteOffset+e.POLYLINE_BATCH_IDS.byteOffset;o=new Uint16Array(r.buffer,d,l)}if(c>0&&n(e.POINT_BATCH_IDS)){var p=r.byteOffset+e.POINT_BATCH_IDS.byteOffset;a=new Uint16Array(r.buffer,p,c)}var m=n(i)||n(o)||n(a),g=u>0&&!n(i)||l>0&&!n(o)||c>0&&!n(a);if(m&&g)throw new f("If one group of batch ids is defined, then all batch ids must be defined.");if(!n(i)&&!n(o)&&!n(a)){var _=0;if(!n(i)&&u>0)for(i=new Uint16Array(u),s=0;s<u;++s)i[s]=_++;if(!n(o)&&l>0)for(o=new Uint16Array(l),s=0;s<l;++s)o[s]=_++;if(!n(a)&&c>0)for(a=new Uint16Array(c),s=0;s<c;++s)a[s]=_++}return{polygons:i,polylines:o,points:a}}function w(r,i,o){o=t(o,0);var s=new Uint8Array(i),u=new DataView(i);o+=C;var p=u.getUint32(o,!0);if(1!==p)throw new f("Only Vector tile version 1 is supported.  Version "+p+" is not.");o+=C;var A=u.getUint32(o,!0);if(o+=C,0===A)return void r._readyPromise.resolve(r);var w=u.getUint32(o,!0);if(o+=C,0===w)throw new f("Feature table must have a byte length greater than zero");var x=u.getUint32(o,!0);o+=C;var S=u.getUint32(o,!0);o+=C;var T=u.getUint32(o,!0);o+=C;var I=u.getUint32(o,!0);o+=C;var M=u.getUint32(o,!0);o+=C;var O=u.getUint32(o,!0);o+=C;var P=u.getUint32(o,!0);o+=C;var D=l(s,o,w),B=JSON.parse(D);o+=w;var L=new Uint8Array(i,o,x);o+=x;var N,R;if(S>0){var k=l(s,o,S);N=JSON.parse(k),o+=S,T>0&&(R=new Uint8Array(i,o,T),R=new Uint8Array(R),o+=T)}var F=t(B.POLYGONS_LENGTH,0),U=t(B.POLYLINES_LENGTH,0),z=t(B.POINTS_LENGTH,0),j=F+U+z,H=new m(r,j,N,R,y(r));if(r._batchTable=H,0!==j){var V,Q,G;if(!n(B.REGION))throw new f("REGION is required in the feature table.");var W=B.REGION;V=d.unpack(W),Q=W[4],G=W[5];var q,Y=r._tile.computedTransform;n(B.RTC_CENTER)?(q=e.unpack(B.RTC_CENTER),h.multiplyByPoint(Y,q,q)):(q=d.center(V),q.height=c.lerp(Q,G,.5),q=a.WGS84.cartographicToCartesian(q));var K=b(B,L);if(o+=o%4,F>0){var X=new Uint32Array(i,o,I/C);o+=I;var Z=new Uint16Array(i,o,M/E);o+=M;var J,$,ee=L.byteOffset+B.POLYGON_COUNT.byteOffset,te=new Uint32Array(L.buffer,ee,F),ne=L.byteOffset+B.POLYGON_INDEX_COUNT.byteOffset,re=new Uint32Array(L.buffer,ne,F);if(n(B.POLYGON_MINIMUM_HEIGHTS)&&n(B.POLYGON_MAXIMUM_HEIGHTS)){var ie=L.byteOffset+B.POLYGON_MINIMUM_HEIGHTS.byteOffset;J=new Float32Array(L.buffer,ie,F);var oe=L.byteOffset+B.POLYGON_MAXIMUM_HEIGHTS.byteOffset;$=new Float32Array(L.buffer,oe,F)}r._polygons=new _({positions:Z,counts:te,indexCounts:re,indices:X,minimumHeight:Q,maximumHeight:G,polygonMinimumHeights:J,polygonMaximumHeights:$,center:q,rectangle:V,boundingVolume:r.tile.boundingVolume.boundingVolume,batchTable:H,batchIds:K.polygons,modelMatrix:Y})}if(U>0){var ae=new Uint16Array(i,o,O/E);o+=O;var se,ue=L.byteOffset+B.POLYLINE_COUNT.byteOffset,le=new Uint32Array(L.buffer,ue,U);if(n(B.POLYLINE_WIDTHS)){var ce=L.byteOffset+B.POLYLINE_WIDTHS.byteOffset;se=new Uint16Array(L.buffer,ce,U)}else{se=new Uint16Array(U);for(var he=0;he<U;++he)se[he]=2}r._polylines=new v({positions:ae,widths:se,counts:le,batchIds:K.polylines,minimumHeight:Q,maximumHeight:G,center:q,rectangle:V,boundingVolume:r.tile.boundingVolume.boundingVolume,batchTable:H})}if(z>0){var de=new Uint16Array(i,o,P/E);r._points=new g({positions:de,batchIds:K.points,minimumHeight:Q,maximumHeight:G,rectangle:V,batchTable:H})}}}function x(e){var t=e.featuresLength;if(!n(e._features)&&t>0){var r=new Array(t);n(e._polygons)&&e._polygons.createFeatures(e,r),n(e._polylines)&&e._polylines.createFeatures(e,r),n(e._points)&&e._points.createFeatures(e,r),e._features=r}}if(!s.supportsTypedArrays())return{};r(A.prototype,{featuresLength:{get:function(){return n(this._batchTable)?this._batchTable.featuresLength:0}},pointsLength:{get:function(){return n(this._points)?this._points.pointsLength:0}},trianglesLength:{get:function(){var e=0;return n(this._polygons)&&(e+=this._polygons.trianglesLength),n(this._polylines)&&(e+=this._polylines.trianglesLength),e}},geometryByteLength:{get:function(){var e=0;return n(this._polygons)&&(e+=this._polygons.geometryByteLength),n(this._polylines)&&(e+=this._polylines.geometryByteLength),e}},texturesByteLength:{get:function(){return n(this._points)?this._points.texturesByteLength:0}},batchTableByteLength:{get:function(){return n(this._batchTable)?this._batchTable.memorySizeInBytes:0}},innerContents:{get:function(){}},readyPromise:{get:function(){return this._readyPromise.promise}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){return this._resource.getUrlComponent(!0)}},batchTable:{get:function(){return this._batchTable}}});var E=Uint16Array.BYTES_PER_ELEMENT,C=Uint32Array.BYTES_PER_ELEMENT;return A.prototype.hasProperty=function(e,t){return this._batchTable.hasProperty(e,t)},A.prototype.getFeature=function(e){return x(this),this._features[e]},A.prototype.applyDebugSettings=function(e,t){n(this._polygons)&&this._polygons.applyDebugSettings(e,t),n(this._polylines)&&this._polylines.applyDebugSettings(e,t),n(this._points)&&this._points.applyDebugSettings(e,t)},A.prototype.applyStyle=function(e){x(this),n(this._polygons)&&this._polygons.applyStyle(e,this._features),n(this._polylines)&&this._polylines.applyStyle(e,this._features),n(this._points)&&this._points.applyStyle(e,this._features)},A.prototype.update=function(e,t){var r=!0;if(n(this._polygons)&&(this._polygons.classificationType=this._tileset.classificationType,this._polygons.update(t),r=r&&this._polygons._ready),n(this._polylines)&&(this._polylines.update(t),r=r&&this._polylines._ready),n(this._points)&&(this._points.update(t),r=r&&this._points._ready),n(this._batchTable)&&r&&this._batchTable.update(e,t),!n(this._contentReadyPromise)){var i=n(this._points)?this._points.readyPromise:void 0,o=n(this._polygons)?this._polygons.readyPromise:void 0,a=n(this._polylines)?this._polylines.readyPromise:void 0,s=this;this._contentReadyPromise=p.all([i,o,a]).then(function(){s._readyPromise.resolve(s)})}},A.prototype.isDestroyed=function(){return!1},A.prototype.destroy=function(){return this._polygons=this._polygons&&this._polygons.destroy(),this._polylines=this._polylines&&this._polylines.destroy(),this._points=this._points&&this._points.destroy(),this._batchTable=this._batchTable&&this._batchTable.destroy(),i(this)},A}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(136),n(17),n(10),n(25),n(0),n(2),n(21),n(154),n(23),n(218),n(16),n(104),n(7),n(345),n(1292),n(158),n(347),n(297),n(770),n(132)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A){"use strict";function y(e){this._positions=e.positions,this._batchTable=e.batchTable,this._batchIds=e.batchIds,this._rectangle=e.rectangle,this._minHeight=e.minimumHeight,this._maxHeight=e.maximumHeight,this._billboardCollection=void 0,this._labelCollection=void 0,this._polylineCollection=void 0,this._verticesPromise=void 0,this._packedBuffer=void 0,this._ready=!1,this._readyPromise=d.defer(),this._resolvedPromise=!1}function b(e,t){var n=e._rectangle,r=e._minHeight,i=e._maxHeight,o=2+c.packedLength+u.packedLength,a=new Float64Array(o),s=0;return a[s++]=r,a[s++]=i,c.pack(n,a,s),s+=c.packedLength,u.pack(t,a,s),a}function w(t,r){if(!i(t._billboardCollection)){var o;if(!i(t._verticesPromise)){o=t._positions;var a=t._packedBuffer;i(a)||(o=t._positions=e(o),t._batchIds=e(t._batchIds),a=t._packedBuffer=b(t,r));var s=[o.buffer,a.buffer],u={positions:o.buffer,packedBuffer:a.buffer},l=t._verticesPromise=E.scheduleTask(u,s);if(!i(l))return;l.then(function(e){t._positions=new Float64Array(e.positions),t._ready=!0})}if(t._ready&&!i(t._billboardCollection)){o=t._positions;var c=t._batchTable,h=t._batchIds,d=t._billboardCollection=new f({batchTable:c}),p=t._labelCollection=new g({batchTable:c}),m=t._polylineCollection=new v;m._useHighlightColor=!0;for(var _=o.length/3,A=0;A<_;++A){var y=h[A],w=n.unpack(o,3*A,C),x=d.add();x.position=w,x._batchIndex=y;var S=p.add();S.text=" ",S.position=w,S._batchIndex=y;m.add().positions=[n.clone(w),n.clone(w)]}t._positions=void 0,t._packedBuffer=void 0}}}function x(e,n){for(var i=e._batchIds,o=i.length,a=0;a<o;++a){var s=i[a],u=n[s];u.show=!0,u.pointSize=p.defaultPointSize,u.color=p.defaultColor,u.pointOutlineColor=p.defaultPointOutlineColor,u.pointOutlineWidth=p.defaultPointOutlineWidth,u.labelColor=r.WHITE,u.labelOutlineColor=r.WHITE,u.labelOutlineWidth=1,u.font="30px sans-serif",u.labelStyle=_.FILL,u.labelText=void 0,u.backgroundColor=new r(.165,.165,.165,.8),u.backgroundPadding=new t(7,5),u.backgroundEnabled=!1,u.scaleByDistance=void 0,u.translucencyByDistance=void 0,u.distanceDisplayCondition=void 0,u.heightOffset=0,u.anchorLineEnabled=!1,u.anchorLineColor=r.WHITE,u.image=void 0,u.disableDepthTestDistance=0,u.horizontalOrigin=m.CENTER,u.verticalOrigin=A.CENTER,u.labelHorizontalOrigin=m.RIGHT,u.labelVerticalOrigin=A.BASELINE}}o(y.prototype,{pointsLength:{get:function(){return this._billboardCollection.length}},texturesByteLength:{get:function(){return this._billboardCollection.textureAtlas.texture.sizeInBytes+this._labelCollection._textureAtlas.texture.sizeInBytes}},readyPromise:{get:function(){return this._readyPromise.promise}}});var E=new h("createVectorTilePoints"),C=new n;y.prototype.createFeatures=function(e,t){for(var n=this._billboardCollection,r=this._labelCollection,i=this._polylineCollection,o=this._batchIds,a=o.length,s=0;s<a;++s){var u=o[s],l=n.get(s),c=r.get(s),h=i.get(s);t[u]=new p(e,u,l,c,h)}},y.prototype.applyDebugSettings=function(e,t){e?(r.clone(t,this._billboardCollection._highlightColor),r.clone(t,this._labelCollection._highlightColor),r.clone(t,this._polylineCollection._highlightColor)):(r.clone(r.WHITE,this._billboardCollection._highlightColor),r.clone(r.WHITE,this._labelCollection._highlightColor),r.clone(r.WHITE,this._polylineCollection._highlightColor))};var S=new r,T=new r,I=new r,M=new r,O=new r,P=new r,D=new l,B=new l,L=new s;return y.prototype.applyStyle=function(e,t){if(!i(e))return void x(this,t);for(var n=this._batchIds,r=n.length,o=0;o<r;++o){var a=n[o],s=t[a];if(i(e.show)&&(s.show=e.show.evaluate(s)),i(e.pointSize)&&(s.pointSize=e.pointSize.evaluate(s)),i(e.color)&&(s.color=e.color.evaluateColor(s,S)),i(e.pointOutlineColor)&&(s.pointOutlineColor=e.pointOutlineColor.evaluateColor(s,T)),i(e.pointOutlineWidth)&&(s.pointOutlineWidth=e.pointOutlineWidth.evaluate(s)),i(e.labelColor)&&(s.labelColor=e.labelColor.evaluateColor(s,I)),i(e.labelOutlineColor)&&(s.labelOutlineColor=e.labelOutlineColor.evaluateColor(s,M)),i(e.labelOutlineWidth)&&(s.labelOutlineWidth=e.labelOutlineWidth.evaluate(s)),i(e.font)&&(s.font=e.font.evaluate(s)),i(e.labelStyle)&&(s.labelStyle=e.labelStyle.evaluate(s)),i(e.labelText)?s.labelText=e.labelText.evaluate(s):s.labelText=void 0,i(e.backgroundColor)&&(s.backgroundColor=e.backgroundColor.evaluateColor(s,O)),i(e.backgroundPadding)&&(s.backgroundPadding=e.backgroundPadding.evaluate(s)),i(e.backgroundEnabled)&&(s.backgroundEnabled=e.backgroundEnabled.evaluate(s)),i(e.scaleByDistance)){var u=e.scaleByDistance.evaluate(s);D.near=u.x,D.nearValue=u.y,D.far=u.z,D.farValue=u.w,s.scaleByDistance=D}else s.scaleByDistance=void 0;if(i(e.translucencyByDistance)){var l=e.translucencyByDistance.evaluate(s);B.near=l.x,B.nearValue=l.y,B.far=l.z,B.farValue=l.w,s.translucencyByDistance=B}else s.translucencyByDistance=void 0;if(i(e.distanceDisplayCondition)){var c=e.distanceDisplayCondition.evaluate(s);L.near=c.x,L.far=c.y,s.distanceDisplayCondition=L}else s.distanceDisplayCondition=void 0;i(e.heightOffset)&&(s.heightOffset=e.heightOffset.evaluate(s)),i(e.anchorLineEnabled)&&(s.anchorLineEnabled=e.anchorLineEnabled.evaluate(s)),i(e.anchorLineColor)&&(s.anchorLineColor=e.anchorLineColor.evaluateColor(s,P)),i(e.image)?s.image=e.image.evaluate(s):s.image=void 0,i(e.disableDepthTestDistance)&&(s.disableDepthTestDistance=e.disableDepthTestDistance.evaluate(s)),i(e.horizontalOrigin)&&(s.horizontalOrigin=e.horizontalOrigin.evaluate(s)),i(e.verticalOrigin)&&(s.verticalOrigin=e.verticalOrigin.evaluate(s)),i(e.labelHorizontalOrigin)&&(s.labelHorizontalOrigin=e.labelHorizontalOrigin.evaluate(s)),i(e.labelVerticalOrigin)&&(s.labelVerticalOrigin=e.labelVerticalOrigin.evaluate(s))}},y.prototype.update=function(e){w(this,e.mapProjection.ellipsoid),this._ready&&(this._polylineCollection.update(e),this._billboardCollection.update(e),this._labelCollection.update(e),this._resolvedPromise||(this._readyPromise.resolve(),this._resolvedPromise=!0))},y.prototype.isDestroyed=function(){return!1},y.prototype.destroy=function(){return this._billboardCollection=this._billboardCollection&&this._billboardCollection.destroy(),this._labelCollection=this._labelCollection&&this._labelCollection.destroy(),this._polylineCollection=this._polylineCollection&&this._polylineCollection.destroy(),a(this)},y}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(24),n(25),n(1),n(0),n(2),n(795)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e,t,n,r,i){this._content=e,this._billboard=n,this._label=r,this._polyline=i,this._batchId=t,this._billboardImage=void 0,this._billboardColor=void 0,this._billboardOutlineColor=void 0,this._billboardOutlineWidth=void 0,this._billboardSize=void 0,this._pointSize=void 0,this._color=void 0,this._pointSize=void 0,this._pointOutlineColor=void 0,this._pointOutlineWidth=void 0,this._heightOffset=void 0,this._pickIds=new Array(3),s(this)}function s(e){var i=e._billboard;if(r(e._billboardImage)&&e._billboardImage!==i.image)return void(i.image=e._billboardImage);if(!r(e._billboardImage)){var s=n(e._color,a.defaultColor),u=n(e._pointOutlineColor,a.defaultPointOutlineColor),l=n(e._pointOutlineWidth,a.defaultPointOutlineWidth),c=n(e._pointSize,a.defaultPointSize),h=e._billboardColor,d=e._billboardOutlineColor,f=e._billboardOutlineWidth,p=e._billboardSize;if(!t.equals(s,h)||!t.equals(u,d)||l!==f||c!==p){e._billboardColor=t.clone(s,e._billboardColor),e._billboardOutlineColor=t.clone(u,e._billboardOutlineColor),e._billboardOutlineWidth=l,e._billboardSize=c;var m=s.alpha,g=s.toCssColorString(),_=u.toCssColorString(),v=JSON.stringify([g,c,_,l]);i.setImage(v,o(m,g,_,l,c))}}}var u=new e;return i(a.prototype,{show:{get:function(){return this._label.show},set:function(e){this._label.show=e,this._billboard.show=e,this._polyline.show=e}},color:{get:function(){return this._color},set:function(e){this._color=t.clone(e,this._color),s(this)}},pointSize:{get:function(){return this._pointSize},set:function(e){this._pointSize=e,s(this)}},pointOutlineColor:{get:function(){return this._pointOutlineColor},set:function(e){this._pointOutlineColor=t.clone(e,this._pointOutlineColor),s(this)}},pointOutlineWidth:{get:function(){return this._pointOutlineWidth},set:function(e){this._pointOutlineWidth=e,s(this)}},labelColor:{get:function(){return this._label.fillColor},set:function(e){this._label.fillColor=e,this._polyline.show=this._label.show&&e.alpha>0}},labelOutlineColor:{get:function(){return this._label.outlineColor},set:function(e){this._label.outlineColor=e}},labelOutlineWidth:{get:function(){return this._label.outlineWidth},set:function(e){this._label.outlineWidth=e}},font:{get:function(){return this._label.font},set:function(e){this._label.font=e}},labelStyle:{get:function(){return this._label.style},set:function(e){this._label.style=e}},labelText:{get:function(){return this._label.text},set:function(e){r(e)||(e=""),this._label.text=e}},backgroundColor:{get:function(){return this._label.backgroundColor},set:function(e){this._label.backgroundColor=e}},backgroundPadding:{get:function(){return this._label.backgroundPadding},set:function(e){this._label.backgroundPadding=e}},backgroundEnabled:{get:function(){return this._label.showBackground},set:function(e){this._label.showBackground=e}},scaleByDistance:{get:function(){return this._label.scaleByDistance},set:function(e){this._label.scaleByDistance=e,this._billboard.scaleByDistance=e}},translucencyByDistance:{get:function(){return this._label.translucencyByDistance},set:function(e){this._label.translucencyByDistance=e,this._billboard.translucencyByDistance=e}},distanceDisplayCondition:{get:function(){return this._label.distanceDisplayCondition},set:function(e){this._label.distanceDisplayCondition=e,this._polyline.distanceDisplayCondition=e,this._billboard.distanceDisplayCondition=e}},heightOffset:{get:function(){return this._heightOffset},set:function(e){var t=n(this._heightOffset,0),r=this._content.tileset.ellipsoid,i=r.cartesianToCartographic(this._billboard.position,u);i.height=i.height-t+e;var o=r.cartographicToCartesian(i);this._billboard.position=o,this._label.position=this._billboard.position,this._polyline.positions=[this._polyline.positions[0],o],this._heightOffset=e}},anchorLineEnabled:{get:function(){return this._polyline.show},set:function(e){this._polyline.show=e}},anchorLineColor:{get:function(){return this._polyline.material.uniforms.color},set:function(e){this._polyline.material.uniforms.color=e}},image:{get:function(){return this._billboardImage},set:function(e){var t=this._billboardImage!==e;this._billboardImage=e,t&&s(this)}},disableDepthTestDistance:{get:function(){return this._label.disableDepthTestDistance},set:function(e){this._label.disableDepthTestDistance=e,this._billboard.disableDepthTestDistance=e}},horizontalOrigin:{get:function(){return this._billboard.horizontalOrigin},set:function(e){this._billboard.horizontalOrigin=e}},verticalOrigin:{get:function(){return this._billboard.verticalOrigin},set:function(e){this._billboard.verticalOrigin=e}},labelHorizontalOrigin:{get:function(){return this._label.horizontalOrigin},set:function(e){this._label.horizontalOrigin=e}},labelVerticalOrigin:{get:function(){return this._label.verticalOrigin},set:function(e){this._label.verticalOrigin=e}},content:{get:function(){return this._content}},tileset:{get:function(){return this._content.tileset}},primitive:{get:function(){return this._content.tileset}},pickIds:{get:function(){var e=this._pickIds;return e[0]=this._billboard.pickId,e[1]=this._label.pickId,e[2]=this._polyline.pickId,e}}}),a.defaultColor=t.WHITE,a.defaultPointOutlineColor=t.BLACK,a.defaultPointOutlineWidth=0,a.defaultPointSize=8,a.prototype.hasProperty=function(e){return this._content.batchTable.hasProperty(this._batchId,e)},a.prototype.getPropertyNames=function(e){return this._content.batchTable.getPropertyNames(this._batchId,e)},a.prototype.getProperty=function(e){return this._content.batchTable.getProperty(this._batchId,e)},a.prototype.setProperty=function(e,t){this._content.batchTable.setProperty(this._batchId,e,t),this._content.featurePropertiesDirty=!0},a.prototype.isExactClass=function(e){return this._content.batchTable.isExactClass(this._batchId,e)},a.prototype.isClass=function(e){return this._content.batchTable.isClass(this._batchId,e)},a.prototype.getExactClassName=function(){return this._content.batchTable.getExactClassName(this._batchId)},a}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"attribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 position2DHigh;\nattribute vec3 position2DLow;\nattribute vec3 prevPosition3DHigh;\nattribute vec3 prevPosition3DLow;\nattribute vec3 prevPosition2DHigh;\nattribute vec3 prevPosition2DLow;\nattribute vec3 nextPosition3DHigh;\nattribute vec3 nextPosition3DLow;\nattribute vec3 nextPosition2DHigh;\nattribute vec3 nextPosition2DLow;\nattribute vec4 texCoordExpandAndBatchIndex;\n\nvarying vec2  v_st;\nvarying float v_width;\nvarying vec4 v_pickColor;\nvarying float v_polylineAngle;\n\nvoid main()\n{\n    float texCoord = texCoordExpandAndBatchIndex.x;\n    float expandDir = texCoordExpandAndBatchIndex.y;\n    bool usePrev = texCoordExpandAndBatchIndex.z < 0.0;\n    float batchTableIndex = texCoordExpandAndBatchIndex.w;\n\n    vec2 widthAndShow = batchTable_getWidthAndShow(batchTableIndex);\n    float width = widthAndShow.x + 0.5;\n    float show = widthAndShow.y;\n\n    if (width < 1.0)\n    {\n        show = 0.0;\n    }\n\n    vec4 pickColor = batchTable_getPickColor(batchTableIndex);\n\n    vec4 p, prev, next;\n    if (czm_morphTime == 1.0)\n    {\n        p = czm_translateRelativeToEye(position3DHigh.xyz, position3DLow.xyz);\n        prev = czm_translateRelativeToEye(prevPosition3DHigh.xyz, prevPosition3DLow.xyz);\n        next = czm_translateRelativeToEye(nextPosition3DHigh.xyz, nextPosition3DLow.xyz);\n    }\n    else if (czm_morphTime == 0.0)\n    {\n        p = czm_translateRelativeToEye(position2DHigh.zxy, position2DLow.zxy);\n        prev = czm_translateRelativeToEye(prevPosition2DHigh.zxy, prevPosition2DLow.zxy);\n        next = czm_translateRelativeToEye(nextPosition2DHigh.zxy, nextPosition2DLow.zxy);\n    }\n    else\n    {\n        p = czm_columbusViewMorph(\n                czm_translateRelativeToEye(position2DHigh.zxy, position2DLow.zxy),\n                czm_translateRelativeToEye(position3DHigh.xyz, position3DLow.xyz),\n                czm_morphTime);\n        prev = czm_columbusViewMorph(\n                czm_translateRelativeToEye(prevPosition2DHigh.zxy, prevPosition2DLow.zxy),\n                czm_translateRelativeToEye(prevPosition3DHigh.xyz, prevPosition3DLow.xyz),\n                czm_morphTime);\n        next = czm_columbusViewMorph(\n                czm_translateRelativeToEye(nextPosition2DHigh.zxy, nextPosition2DLow.zxy),\n                czm_translateRelativeToEye(nextPosition3DHigh.xyz, nextPosition3DLow.xyz),\n                czm_morphTime);\n    }\n\n    #ifdef DISTANCE_DISPLAY_CONDITION\n        vec3 centerHigh = batchTable_getCenterHigh(batchTableIndex);\n        vec4 centerLowAndRadius = batchTable_getCenterLowAndRadius(batchTableIndex);\n        vec3 centerLow = centerLowAndRadius.xyz;\n        float radius = centerLowAndRadius.w;\n        vec2 distanceDisplayCondition = batchTable_getDistanceDisplayCondition(batchTableIndex);\n\n        float lengthSq;\n        if (czm_sceneMode == czm_sceneMode2D)\n        {\n            lengthSq = czm_eyeHeight2D.y;\n        }\n        else\n        {\n            vec4 center = czm_translateRelativeToEye(centerHigh.xyz, centerLow.xyz);\n            lengthSq = max(0.0, dot(center.xyz, center.xyz) - radius * radius);\n        }\n\n        float nearSq = distanceDisplayCondition.x * distanceDisplayCondition.x;\n        float farSq = distanceDisplayCondition.y * distanceDisplayCondition.y;\n        if (lengthSq < nearSq || lengthSq > farSq)\n        {\n            show = 0.0;\n        }\n    #endif\n\n    vec4 positionWC = getPolylineWindowCoordinates(p, prev, next, expandDir, width, usePrev, v_polylineAngle);\n    gl_Position = czm_viewportOrthographic * positionWC * show;\n\n    v_st = vec2(texCoord, clamp(expandDir, 0.0, 1.0));\n    v_width = width;\n    v_pickColor = pickColor;\n\n#ifdef LOG_DEPTH\n    czm_vertexLogDepth(czm_modelViewProjectionRelativeToEye * p);\n#endif\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(292),n(38),n(10),n(25),n(1),n(0),n(2),n(3),n(154),n(20),n(748),n(295)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h){"use strict";function d(a,s){a=i(a,i.EMPTY_OBJECT),this._show=i(a.show,!0),this._width=i(a.width,1),this._loop=i(a.loop,!1),this._distanceDisplayCondition=a.distanceDisplayCondition,this._material=a.material,o(this._material)||(this._material=h.fromType(h.ColorType,{color:new r(1,1,1,1)}));var u=a.positions;o(u)||(u=[]),this._positions=u,this._actualPositions=e(u,n.equalsEpsilon),this._loop&&this._actualPositions.length>2&&(this._actualPositions===this._positions&&(this._actualPositions=u.slice()),this._actualPositions.push(n.clone(this._actualPositions[0]))),this._length=this._actualPositions.length,this._id=a.id;var d;o(s)&&(d=l.clone(s.modelMatrix)),this._modelMatrix=d,this._segments=c.wrapLongitude(this._actualPositions,d),this._actualLength=void 0,this._propertiesChanged=new Uint32Array(y),this._polylineCollection=s,this._dirty=!1,this._pickId=void 0,this._boundingVolume=t.fromPoints(this._actualPositions),this._boundingVolumeWC=t.transform(this._boundingVolume,this._modelMatrix),this._boundingVolume2D=new t}function f(e,t){++e._propertiesChanged[t];var n=e._polylineCollection;o(n)&&(n._updatePolyline(e,t),e._dirty=!0)}var p=d.POSITION_INDEX=0,m=d.SHOW_INDEX=1,g=d.WIDTH_INDEX=2,_=d.MATERIAL_INDEX=3,v=d.POSITION_SIZE_INDEX=4,A=d.DISTANCE_DISPLAY_CONDITION=5,y=d.NUMBER_OF_PROPERTIES=6;return a(d.prototype,{show:{get:function(){return this._show},set:function(e){e!==this._show&&(this._show=e,f(this,m))}},positions:{get:function(){return this._positions},set:function(r){var i=e(r,n.equalsEpsilon);this._loop&&i.length>2&&(i===r&&(i=r.slice()),i.push(n.clone(i[0]))),this._actualPositions.length===i.length&&this._actualPositions.length===this._length||f(this,v),this._positions=r,this._actualPositions=i,this._length=i.length,this._boundingVolume=t.fromPoints(this._actualPositions,this._boundingVolume),this._boundingVolumeWC=t.transform(this._boundingVolume,this._modelMatrix,this._boundingVolumeWC),f(this,p),this.update()}},material:{get:function(){return this._material},set:function(e){this._material!==e&&(this._material=e,f(this,_))}},width:{get:function(){return this._width},set:function(e){e!==this._width&&(this._width=e,f(this,g))}},loop:{get:function(){return this._loop},set:function(e){if(e!==this._loop){var t=this._actualPositions;e?t.length>2&&!n.equals(t[0],t[t.length-1])&&(t.length===this._positions.length&&(this._actualPositions=t=this._positions.slice()),t.push(n.clone(t[0]))):t.length>2&&n.equals(t[0],t[t.length-1])&&(t.length-1===this._positions.length?this._actualPositions=this._positions:t.pop()),this._loop=e,f(this,v)}}},id:{get:function(){return this._id},set:function(e){this._id=e,o(this._pickId)&&(this._pickId.object.id=e)}},pickId:{get:function(){return this._pickId}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){u.equals(e,this._distanceDisplayCondition)||(this._distanceDisplayCondition=u.clone(e,this._distanceDisplayCondition),f(this,A))}}}),d.prototype.update=function(){var e=l.IDENTITY;o(this._polylineCollection)&&(e=this._polylineCollection.modelMatrix);var n=this._segments.positions.length,r=this._segments.lengths,i=this._propertiesChanged[p]>0||this._propertiesChanged[v]>0;if(l.equals(e,this._modelMatrix)&&!i||(this._segments=c.wrapLongitude(this._actualPositions,e),this._boundingVolumeWC=t.transform(this._boundingVolume,e,this._boundingVolumeWC)),this._modelMatrix=l.clone(e,this._modelMatrix),this._segments.positions.length!==n)f(this,v);else for(var a=r.length,s=0;s<a;++s)if(r[s]!==this._segments.lengths[s]){f(this,v);break}},d.prototype.getPickId=function(e){return o(this._pickId)||(this._pickId=e.createPickId({primitive:this,collection:this._polylineCollection,id:this._id})),this._pickId},d.prototype._clean=function(){this._dirty=!1;for(var e=this._propertiesChanged,t=0;t<y-1;++t)e[t]=0},d.prototype._destroy=function(){this._pickId=this._pickId&&this._pickId.destroy(),this._material=this._material&&this._material.destroy(),this._polylineCollection=void 0},d}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(136),n(10),n(25),n(1),n(0),n(2),n(21),n(23),n(49),n(118),n(16),n(104),n(7),n(159),n(265),n(361)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m){"use strict";function g(e){this._batchTable=e.batchTable,this._batchIds=e.batchIds,this._positions=e.positions,this._counts=e.counts,this._indices=e.indices,this._indexCounts=e.indexCounts,this._indexOffsets=void 0,this._batchTableColors=void 0,this._packedBuffer=void 0,this._batchedPositions=void 0,this._transferrableBatchIds=void 0,this._vertexBatchIds=void 0,this._ellipsoid=r(e.ellipsoid,s.WGS84),this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._polygonMinimumHeights=e.polygonMinimumHeights,this._polygonMaximumHeights=e.polygonMaximumHeights,this._center=r(e.center,t.ZERO),this._rectangle=e.rectangle,this._center=void 0,this._boundingVolume=e.boundingVolume,this._boundingVolumes=void 0,this._batchedIndices=void 0,this._ready=!1,this._readyPromise=d.defer(),this._verticesPromise=void 0,this._primitive=void 0,this.debugWireframe=!1,this.forceRebatch=!1,this.classificationType=f.CESIUM_3D_TILE}function _(e){var n=new Float64Array(3+t.packedLength+s.packedLength+c.packedLength),r=0;return n[r++]=e._indices.BYTES_PER_ELEMENT,n[r++]=e._minimumHeight,n[r++]=e._maximumHeight,t.pack(e._center,n,r),r+=t.packedLength,s.pack(e._ellipsoid,n,r),r+=s.packedLength,c.pack(e._rectangle,n,r),n}function v(e,t){for(var r=1,i=t[r++],o=e._boundingVolumes=new Array(i),a=0;a<i;++a)o[a]=l.unpack(t,r),r+=l.packedLength;for(var s=t[r++],u=e._batchedIndices=new Array(s),c=0;c<s;++c){var h=n.unpack(t,r);r+=n.packedLength;for(var d=t[r++],f=t[r++],m=t[r++],g=new Array(m),_=0;_<m;++_)g[_]=t[r++];u[c]=new p({color:h,offset:d,count:f,batchIds:g})}}function A(t){if(!i(t._primitive)){if(!i(t._verticesPromise)){var n=t._positions,r=t._counts,o=t._indexCounts,a=t._indices,s=t._transferrableBatchIds,l=t._batchTableColors,h=t._packedBuffer;if(!i(l)){n=t._positions=e(t._positions),r=t._counts=e(t._counts),o=t._indexCounts=e(t._indexCounts),a=t._indices=e(t._indices),t._center=t._ellipsoid.cartographicToCartesian(c.center(t._rectangle)),s=t._transferrableBatchIds=new Uint32Array(t._batchIds),l=t._batchTableColors=new Uint32Array(s.length);for(var f=t._batchTable,p=l.length,g=0;g<p;++g){var A=f.getColor(g,b);l[g]=A.toRgba()}h=t._packedBuffer=_(t)}var w=[n.buffer,r.buffer,o.buffer,a.buffer,s.buffer,l.buffer,h.buffer],x={packedBuffer:h.buffer,positions:n.buffer,counts:r.buffer,indexCounts:o.buffer,indices:a.buffer,batchIds:s.buffer,batchTableColors:l.buffer},E=t._polygonMinimumHeights,C=t._polygonMaximumHeights;i(E)&&i(C)&&(w.push(E.buffer,C.buffer),x.minimumHeights=E,x.maximumHeights=C);var S=t._verticesPromise=y.scheduleTask(x,w);if(!i(S))return;d(S,function(e){t._positions=void 0,t._counts=void 0,t._polygonMinimumHeights=void 0,t._polygonMaximumHeights=void 0;var n=new Float64Array(e.packedBuffer),r=n[0];v(t,n),t._indices=2===u.getSizeInBytes(r)?new Uint16Array(e.indices):new Uint32Array(e.indices),t._indexOffsets=new Uint32Array(e.indexOffsets),t._indexCounts=new Uint32Array(e.indexCounts),t._batchedPositions=new Float32Array(e.positions),t._vertexBatchIds=new Uint16Array(e.batchIds),t._ready=!0})}t._ready&&!i(t._primitive)&&(t._primitive=new m({batchTable:t._batchTable,positions:t._batchedPositions,batchIds:t._batchIds,vertexBatchIds:t._vertexBatchIds,indices:t._indices,indexOffsets:t._indexOffsets,indexCounts:t._indexCounts,batchedIndices:t._batchedIndices,boundingVolume:t._boundingVolume,boundingVolumes:t._boundingVolumes,center:t._center}),t._batchTable=void 0,t._batchIds=void 0,t._positions=void 0,t._counts=void 0,t._indices=void 0,t._indexCounts=void 0,t._indexOffsets=void 0,t._batchTableColors=void 0,t._packedBuffer=void 0,t._batchedPositions=void 0,t._transferrableBatchIds=void 0,t._vertexBatchIds=void 0,t._ellipsoid=void 0,t._minimumHeight=void 0,t._maximumHeight=void 0,t._polygonMinimumHeights=void 0,t._polygonMaximumHeights=void 0,t._center=void 0,t._rectangle=void 0,t._boundingVolume=void 0,t._boundingVolumes=void 0,t._batchedIndices=void 0,t._verticesPromise=void 0,t._readyPromise.resolve())}}o(g.prototype,{trianglesLength:{get:function(){return i(this._primitive)?this._primitive.trianglesLength:0}},geometryByteLength:{get:function(){return i(this._primitive)?this._primitive.geometryByteLength:0}},readyPromise:{get:function(){return this._readyPromise.promise}}});var y=new h("createVectorTilePolygons"),b=new n;return g.prototype.createFeatures=function(e,t){this._primitive.createFeatures(e,t)},g.prototype.applyDebugSettings=function(e,t){this._primitive.applyDebugSettings(e,t)},g.prototype.applyStyle=function(e,t){this._primitive.applyStyle(e,t)},g.prototype.updateCommands=function(e,t){this._primitive.updateCommands(e,t)},g.prototype.update=function(e){A(this),this._ready&&(this._primitive.debugWireframe=this.debugWireframe,this._primitive.forceRebatch=this.forceRebatch,this._primitive.classificationType=this.classificationType,this._primitive.update(e))},g.prototype.isDestroyed=function(){return!1},g.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),a(this)},g}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(136),n(10),n(25),n(31),n(1),n(0),n(2),n(21),n(23),n(49),n(20),n(16),n(104),n(93),n(64),n(60),n(47),n(68),n(77),n(52),n(115),n(244),n(1297),n(7),n(70),n(163)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C){"use strict";function S(e){this._positions=e.positions,this._widths=e.widths,this._counts=e.counts,this._batchIds=e.batchIds,this._ellipsoid=i(e.ellipsoid,u.WGS84),this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._center=e.center,this._rectangle=e.rectangle,this._boundingVolume=e.boundingVolume,this._batchTable=e.batchTable,this._va=void 0,this._sp=void 0,this._rs=void 0,this._uniformMap=void 0,this._command=void 0,this._transferrableBatchIds=void 0,this._packedBuffer=void 0,this._currentPositions=void 0,this._previousPositions=void 0,this._nextPositions=void 0,this._expandAndWidth=void 0,this._vertexBatchIds=void 0,this._indices=void 0,this._constantColor=n.clone(n.WHITE),this._highlightColor=this._constantColor,this._trianglesLength=0,this._geometryByteLength=0,this._ready=!1,this._readyPromise=x.defer(),this._verticesPromise=void 0}function T(e){var n=e._rectangle,r=e._minimumHeight,i=e._maximumHeight,o=e._ellipsoid,a=e._center,s=2+h.packedLength+u.packedLength+t.packedLength,l=new Float64Array(s),c=0;return l[c++]=r,l[c++]=i,h.pack(n,l,c),c+=h.packedLength,u.pack(o,l,c),c+=u.packedLength,t.pack(a,l,c),l}function I(t,n){if(!o(t._va)){if(!o(t._verticesPromise)){var i=t._positions,a=t._widths,s=t._counts,u=t._transferrableBatchIds,c=t._packedBuffer;o(c)||(i=t._positions=e(i),a=t._widths=e(a),s=t._counts=e(s),u=t._transferrableBatchIds=e(t._batchIds),c=t._packedBuffer=T(t));var h=[i.buffer,a.buffer,s.buffer,u.buffer,c.buffer],d={positions:i.buffer,widths:a.buffer,counts:s.buffer,batchIds:u.buffer,packedBuffer:c.buffer},m=t._verticesPromise=L.scheduleTask(d,h);if(!o(m))return;x(m,function(e){t._currentPositions=new Float32Array(e.currentPositions),t._previousPositions=new Float32Array(e.previousPositions),t._nextPositions=new Float32Array(e.nextPositions),t._expandAndWidth=new Float32Array(e.expandAndWidth),t._vertexBatchIds=new Uint16Array(e.batchIds);var n=e.indexDatatype;t._indices=n===l.UNSIGNED_SHORT?new Uint16Array(e.indices):new Uint32Array(e.indices),t._ready=!0})}if(t._ready&&!o(t._va)){var g=t._currentPositions,_=t._previousPositions,v=t._nextPositions,A=t._expandAndWidth,b=t._vertexBatchIds,w=t._indices,E=_.byteLength+g.byteLength+v.byteLength;E+=A.byteLength+b.byteLength+w.byteLength,t._trianglesLength=w.length/3,t._geometryByteLength=E;var C=f.createVertexBuffer({context:n,typedArray:_,usage:p.STATIC_DRAW}),S=f.createVertexBuffer({context:n,typedArray:g,usage:p.STATIC_DRAW}),I=f.createVertexBuffer({context:n,typedArray:v,usage:p.STATIC_DRAW}),M=f.createVertexBuffer({context:n,typedArray:A,usage:p.STATIC_DRAW}),O=f.createVertexBuffer({context:n,typedArray:b,usage:p.STATIC_DRAW}),P=f.createIndexBuffer({context:n,typedArray:w,usage:p.STATIC_DRAW,indexDatatype:2===w.BYTES_PER_ELEMENT?l.UNSIGNED_SHORT:l.UNSIGNED_INT}),D=[{index:N.previousPosition,vertexBuffer:C,componentDatatype:r.FLOAT,componentsPerAttribute:3},{index:N.currentPosition,vertexBuffer:S,componentDatatype:r.FLOAT,componentsPerAttribute:3},{index:N.nextPosition,vertexBuffer:I,componentDatatype:r.FLOAT,componentsPerAttribute:3},{index:N.expandAndWidth,vertexBuffer:M,componentDatatype:r.FLOAT,componentsPerAttribute:2},{index:N.a_batchId,vertexBuffer:O,componentDatatype:r.UNSIGNED_SHORT,componentsPerAttribute:1}];t._va=new y({context:n,attributes:D,indexBuffer:P}),t._positions=void 0,t._widths=void 0,t._counts=void 0,t._ellipsoid=void 0,t._minimumHeight=void 0,t._maximumHeight=void 0,t._rectangle=void 0,t._transferrableBatchIds=void 0,t._packedBuffer=void 0,t._currentPositions=void 0,t._previousPositions=void 0,t._nextPositions=void 0,t._expandAndWidth=void 0,t._vertexBatchIds=void 0,t._indices=void 0,t._readyPromise.resolve()}}}function M(e,t){o(e._uniformMap)||(e._uniformMap={u_modifiedModelView:function(){var n=t.uniformState.view;return c.clone(n,R),c.multiplyByPoint(R,e._center,k),c.setTranslation(R,k,R),R},u_highlightColor:function(){return e._highlightColor}})}function O(e){if(!o(e._rs)){var t={enabled:!0,factor:-5,units:-5};e._rs=_.fromCache({blending:E.ALPHA_BLEND,depthMask:!1,depthTest:{enabled:!0},polygonOffset:t})}}function P(e,t){if(!o(e._sp)){var n=e._batchTable,r=n.getVertexShaderCallback(!1,"a_batchId",void 0)(w),i=n.getFragmentShaderCallback()(F,!1,void 0),a=new A({defines:["VECTOR_TILE"],sources:[b,r]}),s=new A({defines:["VECTOR_TILE"],sources:[i]});e._sp=v.fromCache({context:t,vertexShaderSource:a,fragmentShaderSource:s,attributeLocations:N})}}function D(e,t){if(!o(e._command)){var n=e._batchTable.getUniformMapCallback()(e._uniformMap);e._command=new m({owner:e,vertexArray:e._va,renderState:e._rs,shaderProgram:e._sp,uniformMap:n,boundingVolume:e._boundingVolume,pass:g.TRANSLUCENT,pickId:e._batchTable.getPickId()})}t.commandList.push(e._command)}function B(e,t){for(var r=e._batchIds,i=r.length,o=0;o<i;++o){var a=r[o],s=t[a];s.show=!0,s.color=n.WHITE}}a(S.prototype,{trianglesLength:{get:function(){return this._trianglesLength}},geometryByteLength:{get:function(){return this._geometryByteLength}},readyPromise:{get:function(){return this._readyPromise.promise}}});var L=new d("createVectorTilePolylines"),N={previousPosition:0,currentPosition:1,nextPosition:2,expandAndWidth:3,a_batchId:4},R=new c,k=new t,F="uniform vec4 u_highlightColor; \nvoid main()\n{\n    gl_FragColor = u_highlightColor;\n}\n";S.prototype.createFeatures=function(e,t){for(var n=this._batchIds,r=n.length,i=0;i<r;++i){var o=n[i];t[o]=new C(e,o)}},S.prototype.applyDebugSettings=function(e,t){this._highlightColor=e?t:this._constantColor};var U=new n,z=n.WHITE;return S.prototype.applyStyle=function(e,t){if(!o(e))return void B(this,t);for(var n=this._batchIds,r=n.length,i=0;i<r;++i){var a=n[i],s=t[a];s.color=o(e.color)?e.color.evaluateColor(s,U):z,s.show=!o(e.show)||e.show.evaluate(s)}},S.prototype.update=function(e){var t=e.context;if(I(this,t),M(this,t),P(this,t),O(this),this._ready){var n=e.passes;(n.render||n.pick)&&D(this,e)}},S.prototype.isDestroyed=function(){return!1},S.prototype.destroy=function(){return this._va=this._va&&this._va.destroy(),this._sp=this._sp&&this._sp.destroy(),s(this)},S}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"attribute vec4 currentPosition;\nattribute vec4 previousPosition;\nattribute vec4 nextPosition;\nattribute vec2 expandAndWidth;\nattribute float a_batchId;\n\nuniform mat4 u_modifiedModelView;\n\nvoid main()\n{\n    float expandDir = expandAndWidth.x;\n    float width = abs(expandAndWidth.y) + 0.5;\n    bool usePrev = expandAndWidth.y < 0.0;\n\n    vec4 p = u_modifiedModelView * currentPosition;\n    vec4 prev = u_modifiedModelView * previousPosition;\n    vec4 next = u_modifiedModelView * nextPosition;\n\n    float angle;\n    vec4 positionWC = getPolylineWindowCoordinatesEC(p, prev, next, expandDir, width, usePrev, angle);\n    gl_Position = czm_viewportOrthographic * positionWC;\n\n#ifdef LOG_DEPTH\n    czm_vertexLogDepth(czm_projection * p);\n#endif\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(2),n(21)],void 0!==(i=function(e,t){"use strict";function n(e,t){this._tileset=e,this._tile=t,this.featurePropertiesDirty=!1}return e(n.prototype,{featuresLength:{get:function(){return 0}},pointsLength:{get:function(){return 0}},trianglesLength:{get:function(){return 0}},geometryByteLength:{get:function(){return 0}},texturesByteLength:{get:function(){return 0}},batchTableByteLength:{get:function(){return 0}},innerContents:{get:function(){}},readyPromise:{get:function(){}},tileset:{get:function(){return this._tileset}},tile:{get:function(){return this._tile}},url:{get:function(){}},batchTable:{get:function(){}}}),n.prototype.hasProperty=function(e,t){return!1},n.prototype.getFeature=function(e){},n.prototype.applyDebugSettings=function(e,t){},n.prototype.applyStyle=function(e){},n.prototype.update=function(e,t){},n.prototype.isDestroyed=function(){return!1},n.prototype.destroy=function(){return t(this)},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(10),n(12),n(363),n(308),n(364)],void 0!==(i=function(e,t,n,r,i){"use strict";var o={},a=new e;return o.checkChildrenWithinParent=function(t){var o=t.children,s=o.length,u=t.boundingVolume;if(u instanceof i||u instanceof r){var l=u._orientedBoundingBox;t._optimChildrenWithinParent=n.USE_OPTIMIZATION;for(var c=0;c<s;++c){var h=o[c],d=h.boundingVolume;if(!(d instanceof i||d instanceof r)){t._optimChildrenWithinParent=n.SKIP_OPTIMIZATION;break}var f=d._orientedBoundingBox,p=e.subtract(f.center,l.center,a),m=e.magnitude(p);e.divideByScalar(p,m,p);if(Math.abs(l.halfAxes[0]*p.x)+Math.abs(l.halfAxes[1]*p.y)+Math.abs(l.halfAxes[2]*p.z)+Math.abs(l.halfAxes[3]*p.x)+Math.abs(l.halfAxes[4]*p.y)+Math.abs(l.halfAxes[5]*p.z)+Math.abs(l.halfAxes[6]*p.x)+Math.abs(l.halfAxes[7]*p.y)+Math.abs(l.halfAxes[8]*p.z)<=Math.abs(f.halfAxes[0]*p.x)+Math.abs(f.halfAxes[1]*p.y)+Math.abs(f.halfAxes[2]*p.z)+Math.abs(f.halfAxes[3]*p.x)+Math.abs(f.halfAxes[4]*p.y)+Math.abs(f.halfAxes[5]*p.z)+Math.abs(f.halfAxes[6]*p.x)+Math.abs(f.halfAxes[7]*p.y)+Math.abs(f.halfAxes[8]*p.z)+m){t._optimChildrenWithinParent=n.SKIP_OPTIMIZATION;break}}}return t._optimChildrenWithinParent===n.USE_OPTIMIZATION},o}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(600)],void 0!==(i=function(e,t){"use strict";function n(){this._list=new t,this._sentinel=this._list.add(),this._trimTiles=!1}return n.prototype.reset=function(){this._list.splice(this._list.tail,this._sentinel)},n.prototype.touch=function(t){var n=t.cacheNode;e(n)&&this._list.splice(this._sentinel,n)},n.prototype.add=function(t){e(t.cacheNode)||(t.cacheNode=this._list.add(t))},n.prototype.unloadTile=function(t,n,r){var i=n.cacheNode;e(i)&&(this._list.remove(i),n.cacheNode=void 0,r(t,n))},n.prototype.unloadTiles=function(e,t){var n=this._trimTiles;this._trimTiles=!1;for(var r=this._list,i=1024*e.maximumMemoryUsage*1024,o=this._sentinel,a=r.head;a!==o&&(e.totalMemoryUsageInBytes>i||n);){var s=a.item;a=a.next,this.unloadTile(e,s,t)}},n.prototype.trim=function(){this._trimTiles=!0},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0)],void 0!==(i=function(e){"use strict";function t(){this.selected=0,this.visited=0,this.numberOfCommands=0,this.numberOfAttemptedRequests=0,this.numberOfPendingRequests=0,this.numberOfTilesProcessing=0,this.numberOfTilesWithContentReady=0,this.numberOfTilesTotal=0,this.numberOfFeaturesSelected=0,this.numberOfFeaturesLoaded=0,this.numberOfPointsSelected=0,this.numberOfPointsLoaded=0,this.numberOfTrianglesSelected=0,this.numberOfTilesStyled=0,this.numberOfFeaturesStyled=0,this.numberOfTilesCulledWithChildrenUnion=0,this.geometryByteLength=0,this.texturesByteLength=0,this.batchTableByteLength=0}function n(t,r,i,o){var a=r.innerContents,s=r.pointsLength,u=r.trianglesLength,l=r.featuresLength,c=r.geometryByteLength,h=r.texturesByteLength,d=r.batchTableByteLength;if(o?(t.numberOfFeaturesLoaded+=i?-l:l,t.numberOfPointsLoaded+=i?-s:s,t.geometryByteLength+=i?-c:c,t.texturesByteLength+=i?-h:h,t.batchTableByteLength+=i?-d:d):(t.numberOfFeaturesSelected+=i?-l:l,t.numberOfPointsSelected+=i?-s:s,t.numberOfTrianglesSelected+=i?-u:u),e(a))for(var f=a.length,p=0;p<f;++p)n(t,a[p],i,o)}return t.prototype.clear=function(){this.selected=0,this.visited=0,this.numberOfCommands=0,this.numberOfAttemptedRequests=0,this.numberOfFeaturesSelected=0,this.numberOfPointsSelected=0,this.numberOfTrianglesSelected=0,this.numberOfTilesStyled=0,this.numberOfFeaturesStyled=0,this.numberOfTilesCulledWithChildrenUnion=0},t.prototype.incrementSelectionCounts=function(e){n(this,e,!1,!1)},t.prototype.incrementLoadCounts=function(e){n(this,e,!1,!0)},t.prototype.decrementLoadCounts=function(e){n(this,e,!0,!0)},t.clone=function(e,t){t.selected=e.selected,t.visited=e.visited,t.numberOfCommands=e.numberOfCommands,t.selected=e.selected,t.numberOfAttemptedRequests=e.numberOfAttemptedRequests,t.numberOfPendingRequests=e.numberOfPendingRequests,t.numberOfTilesProcessing=e.numberOfTilesProcessing,t.numberOfTilesWithContentReady=e.numberOfTilesWithContentReady,t.numberOfTilesTotal=e.numberOfTilesTotal,t.numberOfFeaturesSelected=e.numberOfFeaturesSelected,t.numberOfFeaturesLoaded=e.numberOfFeaturesLoaded,t.numberOfPointsSelected=e.numberOfPointsSelected,t.numberOfPointsLoaded=e.numberOfPointsLoaded,t.numberOfTrianglesSelected=e.numberOfTrianglesSelected,t.numberOfTilesStyled=e.numberOfTilesStyled,t.numberOfFeaturesStyled=e.numberOfFeaturesStyled,t.numberOfTilesCulledWithChildrenUnion=e.numberOfTilesCulledWithChildrenUnion,t.geometryByteLength=e.geometryByteLength,t.texturesByteLength=e.texturesByteLength,t.batchTableByteLength=e.batchTableByteLength},t}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(221),n(1),n(0),n(6),n(71),n(601),n(9),n(289),n(363),n(266),n(46)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c){"use strict";function h(){}function d(e){return e._visible&&e._inRequestVolume}function f(e,t,n){U(e,t,e._maximumScreenSpaceError,e._maximumScreenSpaceError,n)}function p(e,t,n){U(e,t,Number.MAX_VALUE,e._maximumScreenSpaceError,n),j(e,t,n)}function m(e,t,n){U(e,t,Math.max(e.baseScreenSpaceError,e.maximumScreenSpaceError),e.maximumScreenSpaceError,n),j(e,t,n)}function g(e){return e._skipLevelOfDetail}function _(e,t){e._emptyTiles.push(t)}function v(t,n){return t._visibilityPlaneMask===e.MASK_INSIDE||t.contentVisibility(n)!==i.OUTSIDE}function A(e,t,n){if(v(t,n)){var r=t.content;r.featurePropertiesDirty?(r.featurePropertiesDirty=!1,t.lastStyleTime=0,e._selectedTilesToStyle.push(t)):t._selectedFrame<n.frameNumber-1&&e._selectedTilesToStyle.push(t),t._selectedFrame=n.frameNumber,e._selectedTiles.push(t)}}function y(e,t,n){var r=Q.stack;for(r.push(t);r.length>0;){Q.stackMaximumLength=Math.max(Q.stackMaximumLength,r.length);for(var i=r.pop(),o=i.children,a=o.length,s=0;s<a;++s){var u=o[s];d(u)&&(u.contentAvailable?(P(e,u,n),x(e,u,n),A(e,u,n)):u._depth-t._depth<W&&r.push(u))}}}function b(e,t,r){if(!g(e))return void(t.contentAvailable&&A(e,t,r));var i=t.contentAvailable?t:t._ancestorWithContentAvailable;n(i)?i._shouldSelect=!0:y(e,t,r)}function w(e,t,n){++e._statistics.visited,t._visitedFrame=n.frameNumber}function x(e,t,n){t._touchedFrame!==n.frameNumber&&(e._cache.touch(t),t._touchedFrame=n.frameNumber)}function E(e,t){if(t.refine===l.ADD)return t._distanceToCamera;var r=t.parent,i=n(r)&&(!g(e)||0===t._screenSpaceError||r.hasTilesetContent),o=i?r._screenSpaceError:t._screenSpaceError;return e.root._screenSpaceError-o}function C(e,t,n){(B(t)||t.contentExpired)&&(t._requestedFrame=n.frameNumber,t._priority=E(e,t),e._requestedTiles.push(t))}function S(e,t,r,i){if(0===t)return 0;var o,u=i.camera,l=u.frustum,h=i.context,d=h.drawingBufferHeight;if(i.mode===c.SCENE2D||l instanceof s){n(l._offCenterFrustum)&&(l=l._offCenterFrustum);var f=h.drawingBufferWidth;o=t/(Math.max(l.top-l.bottom,l.right-l.left)/Math.max(f,d))}else{var p=Math.max(r._distanceToCamera,a.EPSILON7);if(o=t*d/(p*u.frustum.sseDenominator),e.dynamicScreenSpaceError){var m=e._dynamicScreenSpaceErrorComputedDensity,g=e.dynamicScreenSpaceErrorFactor;o-=a.fog(p,m)*g}}return o}function T(t,r,i){if(r._updatedVisibilityFrame!==i.frameNumber){var o=r.parent,a=n(o)?o.computedTransform:t._modelMatrix,s=n(o)?o._visibilityPlaneMask:e.MASK_INDETERMINATE;r.updateTransform(a),r._distanceToCamera=r.distanceToTile(i),r._centerZDepth=r.distanceToTileCenter(i),r._screenSpaceError=S(t,r.geometricError,r,i),r._visibilityPlaneMask=r.visibility(i,s),r._visible=r._visibilityPlaneMask!==e.MASK_OUTSIDE,r._inRequestVolume=r.insideViewerRequestVolume(i),r._updatedVisibilityFrame=i.frameNumber}}function I(e,t,n){for(var r=!1,i=t.children,o=i.length,a=0;a<o;++a){var s=i[a];T(e,s,n),r=r||d(s)}return r}function M(e,t,r){var i=t.parent;return!(!n(i)||i.hasTilesetContent||i.refine!==l.ADD)&&S(e,i.geometricError,t,r)<=e._maximumScreenSpaceError}function O(e,t,n){if(T(e,t,n),d(t)){var r=t.children.length>0;if(t.hasTilesetContent&&r){var i=t.children[0];return O(e,i,n),void(t._visible=i._visible)}if(M(e,t,n))return void(t._visible=!1);var o=t.refine===l.REPLACE,a=t._optimChildrenWithinParent===u.USE_OPTIMIZATION;return o&&a&&r&&!I(e,t,n)?(++e._statistics.numberOfTilesCulledWithChildrenUnion,void(t._visible=!1)):void 0}}function P(e,t,r){O(e,t,r),t.updateExpiration(),t._shouldSelect=!1,t._finalResolution=!0,t._ancestorWithContent=void 0,t._ancestorWithContentAvailable=void 0;var i=t.parent;if(n(i)){var o=!B(i)||i._requestedFrame===r.frameNumber;t._ancestorWithContent=o?i:i._ancestorWithContent,t._ancestorWithContentAvailable=i.contentAvailable?i:i._ancestorWithContentAvailable}}function D(e){return e.hasEmptyContent||e.hasTilesetContent}function B(e){return!D(e)&&e.contentUnloaded}function L(e,t){var r=t._ancestorWithContent;return!e.immediatelyLoadDesiredLevelOfDetail&&n(r)&&t._screenSpaceError<r._screenSpaceError/e.skipScreenSpaceErrorFactor&&t._depth>r._depth+e.skipLevels}function N(e,t){return 0===t._distanceToCamera&&0===e._distanceToCamera?t._centerZDepth-e._centerZDepth:t._distanceToCamera-e._distanceToCamera}function R(e,t,n,r){var i,o=t.refine===l.REPLACE,a=t.children,s=a.length;for(i=0;i<s;++i)P(e,a[i],r);a.sort(N);var u=!g(e)&&o&&!D(t),c=!0,h=!1;for(i=0;i<s;++i){var f=a[i];if(d(f)?(n.push(f),h=!0):(u||e.loadSiblings)&&(C(e,f,r),x(e,f,r)),u){var p;p=!!f._inRequestVolume&&(D(f)?z(e,f,r):f.contentAvailable),c=c&&p}}return h||(c=!1),c}function k(e,t,r){return!g(e)||!e.immediatelyLoadDesiredLevelOfDetail&&(!n(t._ancestorWithContent)||(0===t._screenSpaceError?t.parent._screenSpaceError>r:t._screenSpaceError>r))}function F(e,t){return 0!==t.children.length&&(t.hasTilesetContent?!t.contentExpired:t._screenSpaceError>e._maximumScreenSpaceError)}function U(e,t,r,i,o){var a=H.stack;for(a.push(t);a.length>0;){H.stackMaximumLength=Math.max(H.stackMaximumLength,a.length);var s=a.pop(),u=k(e,s,r),c=s.refine===l.ADD,h=s.refine===l.REPLACE,d=s.parent,f=!n(d)||d._refines,p=!1;F(e,s)&&(p=R(e,s,a,o)&&f);var m=!p&&f;D(s)?(_(e,s,o),C(e,s,o),m&&b(e,s,o)):c?(b(e,s,o),C(e,s,o)):h&&(u?(C(e,s,o),m&&b(e,s,o)):m?(b(e,s,o),C(e,s,o)):L(e,s)&&C(e,s,o)),w(e,s,o),x(e,s,o),s._refines=p,s._updatedVisibilityFrame=0}}function z(e,t,n){var r=!0,i=V.stack;for(i.push(t);i.length>0;){V.stackMaximumLength=Math.max(V.stackMaximumLength,i.length);var o=i.pop(),a=o.children,s=a.length,u=D(o)&&F(e,o);if(u||o.contentAvailable||(r=!1),P(e,o,n),d(o)||(C(e,o,n),x(e,o,n)),u)for(var l=0;l<s;++l){var c=a[l];i.push(c)}}return r}function j(e,t,r){var i,o=G.stack,a=G.ancestorStack;for(o.push(t);o.length>0||a.length>0;){if(G.stackMaximumLength=Math.max(G.stackMaximumLength,o.length),G.ancestorStackMaximumLength=Math.max(G.ancestorStackMaximumLength,a.length),a.length>0){var s=a.peek();if(s._stackLength===o.length){a.pop(),s!==i&&(s._finalResolution=!1),A(e,s,r);continue}}var u=o.pop();if(n(u)){var c=u.refine===l.ADD,h=u._shouldSelect,f=u.children,p=f.length,m=F(e,u);if(h)if(c)A(e,u,r);else{if(u._selectionDepth=a.length,u._selectionDepth>0&&(e._hasMixedContent=!0),i=u,!m){A(e,u,r);continue}a.push(u),u._stackLength=o.length}if(m)for(var g=0;g<p;++g){var _=f[g];d(_)&&o.push(_)}}}}var H={stack:new o,stackMaximumLength:0},V={stack:new o,stackMaximumLength:0},Q={stack:new o,stackMaximumLength:0},G={stack:new o,stackMaximumLength:0,ancestorStack:new o,ancestorStackMaximumLength:0},W=2;return h.selectTiles=function(e,t){if(!e.debugFreezeFrame){e._selectedTiles.length=0,e._selectedTilesToStyle.length=0,e._emptyTiles.length=0,e._hasMixedContent=!1;var n=e.root;P(e,n,t),d(n)&&(S(e,e._geometricError,n,t)<=e._maximumScreenSpaceError||(g(e)?e.immediatelyLoadDesiredLevelOfDetail?p(e,n,t):m(e,n,t):f(e,n,t),H.stack.trim(H.stackMaximumLength),V.stack.trim(V.stackMaximumLength),Q.stack.trim(Q.stackMaximumLength),G.stack.trim(G.stackMaximumLength),G.ancestorStack.trim(G.ancestorStackMaximumLength)))}},h}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2)],void 0!==(i=function(e,t){"use strict";function n(){this._style=void 0,this._styleDirty=!1,this._lastStyleTime=0}return t(n.prototype,{style:{get:function(){return this._style},set:function(e){this._style=e,this._styleDirty=!0}}}),n.prototype.makeDirty=function(){this._styleDirty=!0},n.prototype.applyStyle=function(t,n){if(t.ready&&(!e(this._style)||this._style.ready)){var r=this._styleDirty;n.passes.render&&(this._styleDirty=!1),r&&++this._lastStyleTime;for(var i=this._lastStyleTime,o=t._statistics,a=r?t._selectedTiles:t._selectedTilesToStyle,s=a.length,u=0;u<s;++u){var l=a[u];if(l.lastStyleTime!==i){var c=l.content;l.lastStyleTime=i,c.applyStyle(this._style),o.numberOfFeaturesStyled+=c.featuresLength,++o.numberOfTilesStyled}}}},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r;void 0!==(r=function(){"use strict";return"#extension GL_EXT_frag_depth : enable\n\nuniform sampler2D u_pointCloud_colorGBuffer;\nuniform sampler2D u_pointCloud_depthGBuffer;\nuniform vec3 u_distancesAndEdlStrength;\nvarying vec2 v_textureCoordinates;\n\nvec2 neighborContribution(float log2Depth, vec2 padding)\n{\n    float depthOrLogDepth = czm_unpackDepth(texture2D(u_pointCloud_depthGBuffer, v_textureCoordinates + padding));\n    if (depthOrLogDepth == 0.0) { // 0.0 is the clear value for the gbuffer\n        return vec2(0.0);\n    }\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(v_textureCoordinates + padding, depthOrLogDepth);\n    return vec2(max(0.0, log2Depth - log2(-eyeCoordinate.z / eyeCoordinate.w)), 1.0);\n}\n\nvoid main()\n{\n    float depthOrLogDepth = czm_unpackDepth(texture2D(u_pointCloud_depthGBuffer, v_textureCoordinates));\n\n    vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, depthOrLogDepth);\n    eyeCoordinate /= eyeCoordinate.w;\n\n    float log2Depth = log2(-eyeCoordinate.z);\n\n    if (depthOrLogDepth == 0.0) // 0.0 is the clear value for the gbuffer\n    {\n        discard;\n    }\n\n    vec4 color = texture2D(u_pointCloud_colorGBuffer, v_textureCoordinates);\n\n    // sample from neighbors up, down, left, right\n    float distX = u_distancesAndEdlStrength.x;\n    float distY = u_distancesAndEdlStrength.y;\n\n    vec2 responseAndCount = vec2(0.0);\n\n    responseAndCount += neighborContribution(log2Depth, vec2(0, distY));\n    responseAndCount += neighborContribution(log2Depth, vec2(distX, 0));\n    responseAndCount += neighborContribution(log2Depth, vec2(0, -distY));\n    responseAndCount += neighborContribution(log2Depth, vec2(-distX, 0));\n\n    float response = responseAndCount.x / responseAndCount.y;\n    float shade = exp(-response * 300.0 * u_distancesAndEdlStrength.z);\n    color.rgb *= shade;\n    gl_FragColor = vec4(color);\n\n#ifdef LOG_DEPTH\n    czm_writeLogDepth(1.0 + (czm_projection * vec4(eyeCoordinate.xyz, 1.0)).w);\n#else\n    gl_FragDepthEXT = czm_eyeToWindowCoordinates(vec4(eyeCoordinate.xyz, 1.0)).z;\n#endif\n}\n"}.call(t,n,t,e))&&(e.exports=r)},function(e,t,n){var r,i;r=[n(1),n(617)],void 0!==(i=function(e,t){"use strict";function n(t){var n=e(t,{});this.attenuation=e(n.attenuation,!1),this.geometricErrorScale=e(n.geometricErrorScale,1),this.maximumAttenuation=n.maximumAttenuation,this.baseResolution=n.baseResolution,this.eyeDomeLighting=e(n.eyeDomeLighting,!0),this.eyeDomeLightingStrength=e(n.eyeDomeLightingStrength,1),this.eyeDomeLightingRadius=e(n.eyeDomeLightingRadius,1)}return n.isSupported=function(e){return t.isSupported(e.context)},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(365),i=n(0),o=n(2),a=n(267),s=n(106),u=n(1310),l=n(14),c=function(e){u.call(this,e),this.ionAssetId=void 0,this.ionAccessToken=void 0,this.ionServer=void 0};l(u,c),o(c.prototype,{type:{get:function(){return"cesium-terrain"}},typeName:{get:function(){return"Cesium Terrain"}}}),c.prototype._createTerrainProvider=function(){var e=this,t=this.url;return i(this.ionAssetId)&&(t=a.fromAssetId(this.ionAssetId,{accessToken:this.ionAccessToken||this.terria.configParameters.cesiumIonAccessToken,server:this.ionServer}).otherwise(function(t){s(e.terria,t)})),new r({url:t})},e.exports=c},function(e,t,n){var r,i;r=[n(525),n(38),n(17),n(10),n(1),n(0),n(3),n(23),n(447),n(6),n(9),n(20),n(118),n(16),n(366),n(50),n(134)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p,m,g){"use strict";var _={};_.DEFAULT_STRUCTURE=l({heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1});var v=new r,A=new h,y=new r,b=new r;return _.computeVertices=function(a){var l,w,x,E,C=Math.cos,S=Math.sin,T=Math.sqrt,I=Math.atan,M=Math.exp,O=c.PI_OVER_TWO,P=c.toRadians,D=a.heightmap,B=a.width,L=a.height,N=a.skirtHeight,R=i(a.isGeographic,!0),k=i(a.ellipsoid,s.WGS84),F=1/k.maximumRadius,U=a.nativeRectangle,z=a.rectangle;o(z)?(l=z.west,w=z.south,x=z.east,E=z.north):R?(l=P(U.west),w=P(U.south),x=P(U.east),E=P(U.north)):(l=U.west*F,w=O-2*I(M(-U.south*F)),x=U.east*F,E=O-2*I(M(-U.north*F)));var j=a.relativeToCenter,H=o(j);j=H?j:r.ZERO;var V=i(a.exaggeration,1),Q=i(a.includeWebMercatorT,!1),G=i(a.structure,_.DEFAULT_STRUCTURE),W=i(G.heightScale,_.DEFAULT_STRUCTURE.heightScale),q=i(G.heightOffset,_.DEFAULT_STRUCTURE.heightOffset),Y=i(G.elementsPerHeight,_.DEFAULT_STRUCTURE.elementsPerHeight),K=i(G.stride,_.DEFAULT_STRUCTURE.stride),X=i(G.elementMultiplier,_.DEFAULT_STRUCTURE.elementMultiplier),Z=i(G.isBigEndian,_.DEFAULT_STRUCTURE.isBigEndian),J=f.computeWidth(U),$=f.computeHeight(U),ee=J/(B-1),te=$/(L-1);R||(J*=F,$*=F);var ne,re,ie=k.radiiSquared,oe=ie.x,ae=ie.y,se=ie.z,ue=65536,le=-65536,ce=m.eastNorthUpToFixedFrame(j,k),he=h.inverseTransformation(ce,A);Q&&(ne=g.geodeticLatitudeToMercatorAngle(w),re=1/(g.geodeticLatitudeToMercatorAngle(E)-ne));var de=y;de.x=Number.POSITIVE_INFINITY,de.y=Number.POSITIVE_INFINITY,de.z=Number.POSITIVE_INFINITY;var fe=b;fe.x=Number.NEGATIVE_INFINITY,fe.y=Number.NEGATIVE_INFINITY,fe.z=Number.NEGATIVE_INFINITY;var pe=Number.POSITIVE_INFINITY,me=B+(N>0?2:0),ge=L+(N>0?2:0),_e=me*ge,ve=new Array(_e),Ae=new Array(_e),ye=new Array(_e),be=Q?new Array(_e):[],we=0,xe=L,Ee=0,Ce=B;N>0&&(--we,++xe,--Ee,++Ce);for(var Se=0,Te=we;Te<xe;++Te){var Ie=Te;Ie<0&&(Ie=0),Ie>=L&&(Ie=L-1);var Me=U.north-te*Ie;Me=R?P(Me):O-2*I(M(-Me*F));var Oe=C(Me),Pe=S(Me),De=se*Pe,Be=(Me-w)/(E-w);Be=c.clamp(Be,0,1);var Le;Q&&(Le=(g.geodeticLatitudeToMercatorAngle(Me)-ne)*re);for(var Ne=Ee;Ne<Ce;++Ne){var Re=Ne;Re<0&&(Re=0),Re>=B&&(Re=B-1);var ke=U.west+ee*Re;R?ke=P(ke):ke*=F;var Fe,Ue=Ie*(B*K)+Re*K;if(1===Y)Fe=D[Ue];else{Fe=0;var ze;if(Z)for(ze=0;ze<Y;++ze)Fe=Fe*X+D[Ue+ze];else for(ze=Y-1;ze>=0;--ze)Fe=Fe*X+D[Ue+ze]}Fe=(Fe*W+q)*V;var je=(ke-l)/(x-l);if(je=c.clamp(je,0,1),ye[Se]=new n(je,Be),le=Math.max(le,Fe),ue=Math.min(ue,Fe),Ne!==Re||Te!==Ie){Ne<0?ke-=1e-5*J:ke+=1e-5*J,Te<0?Me+=1e-5*$:Me-=1e-5*$,Oe=C(Me),Pe=S(Me),De=se*Pe,Fe-=N}var He=Oe*C(ke),Ve=Oe*S(ke),Qe=oe*He,Ge=ae*Ve,We=T(Qe*He+Ge*Ve+De*Pe),qe=1/We,Ye=Qe*qe,Ke=Ge*qe,Xe=De*qe,Ze=new r;Ze.x=Ye+He*Fe,Ze.y=Ke+Ve*Fe,Ze.z=Xe+Pe*Fe,ve[Se]=Ze,Ae[Se]=Fe,Q&&(be[Se]=Le),Se++,h.multiplyByPoint(he,Ze,v),r.minimumByComponent(v,de,de),r.maximumByComponent(v,fe,fe),pe=Math.min(pe,Fe)}}var Je,$e=t.fromPoints(ve);o(z)&&z.width<c.PI_OVER_TWO+c.EPSILON5&&(Je=d.fromRectangle(z,ue,le,k));var et;if(H){et=new u(k).computeHorizonCullingPoint(j,ve)}for(var tt=new e(de,fe,j),nt=new p(tt,pe,le,ce,!1,Q),rt=new Float32Array(_e*nt.getStride()),it=0,ot=0;ot<_e;++ot)it=nt.encode(rt,it,ve[ot],ye[ot],Ae[ot],void 0,be[ot]);return{vertices:rt,maximumHeight:le,minimumHeight:ue,encoding:nt,boundingSphere3D:$e,orientedBoundingBox:Je,occludeePointInScaledSpace:et}},_}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(7),n(38),n(17),n(10),n(1),n(0),n(2),n(3),n(49),n(621),n(9),n(118),n(104),n(366),n(620)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f,p){"use strict";function m(e){function t(e,t){return a[e]-a[t]}function n(e,t){return o[e]-o[t]}this._quantizedVertices=e.quantizedVertices,this._encodedNormals=e.encodedNormals,this._indices=e.indices,this._minimumHeight=e.minimumHeight,this._maximumHeight=e.maximumHeight,this._boundingSphere=e.boundingSphere,this._orientedBoundingBox=e.orientedBoundingBox,this._horizonOcclusionPoint=e.horizonOcclusionPoint,this._credits=e.credits;var r=this._quantizedVertices.length/3,o=this._uValues=this._quantizedVertices.subarray(0,r),a=this._vValues=this._quantizedVertices.subarray(r,2*r);this._heightValues=this._quantizedVertices.subarray(2*r,3*r),this._westIndices=g(e.westIndices,t,r),this._southIndices=g(e.southIndices,n,r),this._eastIndices=g(e.eastIndices,t,r),this._northIndices=g(e.northIndices,n,r),this._westSkirtHeight=e.westSkirtHeight,this._southSkirtHeight=e.southSkirtHeight,this._eastSkirtHeight=e.eastSkirtHeight,this._northSkirtHeight=e.northSkirtHeight,this._childTileMask=i(e.childTileMask,15),this._createdByUpsampling=i(e.createdByUpsampling,!1),this._waterMask=e.waterMask,this._mesh=void 0}function g(e,t,n){A.length=e.length;for(var r=!1,i=0,o=e.length;i<o;++i)A[i]=e[i],r=r||i>0&&t(e[i-1],e[i])>0;return r?(A.sort(t),u.createTypedArray(n,A)):e}function _(e,t,n){for(var r=e._mesh,i=r.vertices,o=r.encoding,a=r.indices,s=0,u=a.length;s<u;s+=3){var c=a[s],h=a[s+1],d=a[s+2],f=o.decodeTextureCoordinates(i,c,E),p=o.decodeTextureCoordinates(i,h,C),m=o.decodeTextureCoordinates(i,d,S),g=l.computeBarycentricCoordinates(t,n,f.x,f.y,p.x,p.y,m.x,m.y,x);if(g.x>=-1e-15&&g.y>=-1e-15&&g.z>=-1e-15){var _=o.decodeHeight(i,c),v=o.decodeHeight(i,h),A=o.decodeHeight(i,d);return g.x*_+g.y*v+g.z*A}}}function v(e,t,n){for(var r=e._uValues,i=e._vValues,o=e._heightValues,a=e._indices,s=0,u=a.length;s<u;s+=3){var h=a[s],d=a[s+1],f=a[s+2],p=r[h],m=r[d],g=r[f],_=i[h],v=i[d],A=i[f],y=l.computeBarycentricCoordinates(t,n,p,_,m,v,g,A,x);if(y.x>=-1e-15&&y.y>=-1e-15&&y.z>=-1e-15){var b=y.x*o[h]+y.y*o[d]+y.z*o[f];return c.lerp(e._minimumHeight,e._maximumHeight,b/w)}}}a(m.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){return this._waterMask}}});var A=[],y=new d("createVerticesFromQuantizedTerrainMesh");m.prototype.createMesh=function(t,n,r,a,s){var l=t.ellipsoid,c=t.tileXYToRectangle(n,r,a);s=i(s,1);var h=y.scheduleTask({minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,quantizedVertices:this._quantizedVertices,octEncodedNormals:this._encodedNormals,includeWebMercatorT:!0,indices:this._indices,westIndices:this._westIndices,southIndices:this._southIndices,eastIndices:this._eastIndices,northIndices:this._northIndices,westSkirtHeight:this._westSkirtHeight,southSkirtHeight:this._southSkirtHeight,eastSkirtHeight:this._eastSkirtHeight,northSkirtHeight:this._northSkirtHeight,rectangle:c,relativeToCenter:this._boundingSphere.center,ellipsoid:l,exaggeration:s});if(o(h)){var d=this;return e(h,function(e){var t=d._quantizedVertices.length/3;t+=d._westIndices.length+d._southIndices.length+d._eastIndices.length+d._northIndices.length;var n=u.createTypedArray(t,e.indices),r=new Float32Array(e.vertices),o=e.center,a=e.minimumHeight,l=e.maximumHeight,c=i(e.boundingSphere,d._boundingSphere),h=i(e.orientedBoundingBox,d._orientedBoundingBox),m=d._horizonOcclusionPoint,g=e.vertexStride,_=f.clone(e.encoding);return d._skirtIndex=e.skirtIndex,d._vertexCountWithoutSkirts=d._quantizedVertices.length/3,d._mesh=new p(o,r,n,a,l,c,m,g,h,_,s),d._quantizedVertices=void 0,d._encodedNormals=void 0,d._indices=void 0,d._uValues=void 0,d._vValues=void 0,d._heightValues=void 0,d._westIndices=void 0,d._southIndices=void 0,d._eastIndices=void 0,d._northIndices=void 0,d._mesh})}};var b=new d("upsampleQuantizedTerrainMesh");m.prototype.upsample=function(n,i,a,s,l,c,d){var f=this._mesh;if(o(this._mesh)){var p=2*i!==l,g=2*a===c,_=n.ellipsoid,v=n.tileXYToRectangle(l,c,d),A=b.scheduleTask({vertices:f.vertices,vertexCountWithoutSkirts:this._vertexCountWithoutSkirts,indices:f.indices,skirtIndex:this._skirtIndex,encoding:f.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:p,isNorthChild:g,childRectangle:v,ellipsoid:_,exaggeration:f.exaggeration});if(o(A)){var y=Math.min(this._westSkirtHeight,this._eastSkirtHeight);y=Math.min(y,this._southSkirtHeight),y=Math.min(y,this._northSkirtHeight);var w=p?.5*y:this._westSkirtHeight,x=g?.5*y:this._southSkirtHeight,E=p?this._eastSkirtHeight:.5*y,C=g?this._northSkirtHeight:.5*y,S=this._credits;return e(A).then(function(e){var n,i=new Uint16Array(e.vertices),a=u.createTypedArray(i.length/3,e.indices);return o(e.encodedNormals)&&(n=new Uint8Array(e.encodedNormals)),new m({quantizedVertices:i,indices:a,encodedNormals:n,minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight,boundingSphere:t.clone(e.boundingSphere),orientedBoundingBox:h.clone(e.orientedBoundingBox),horizonOcclusionPoint:r.clone(e.horizonOcclusionPoint),westIndices:e.westIndices,southIndices:e.southIndices,eastIndices:e.eastIndices,northIndices:e.northIndices,westSkirtHeight:w,southSkirtHeight:x,eastSkirtHeight:E,northSkirtHeight:C,childTileMask:0,credits:S,createdByUpsampling:!0})})}}};var w=32767,x=new r;m.prototype.interpolateHeight=function(e,t,n){var r=c.clamp((t-e.west)/e.width,0,1);r*=w;var i=c.clamp((n-e.south)/e.height,0,1);return i*=w,o(this._mesh)?_(this,r,i):v(this,r,i)};var E=new n,C=new n,S=new n;return m.prototype.isChildAvailable=function(e,t,n,r){var i=2;return n!==2*e&&++i,r!==2*t&&(i-=2),0!=(this._childTileMask&1<<i)},m.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling},m}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(197),n(24),n(0),n(2),n(3),n(16)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e,t){this._tilingScheme=e,this._maximumLevel=t,this._rootNodes=[]}function s(e,t,n,r){for(var i=r.length,o=0;o<i;++o){var a=r[o];if(a.x===t&&a.y===n&&a.level===e)return!0}return!1}function u(e,t,n,r,i){this.tilingScheme=e,this.parent=t,this.level=n,this.x=r,this.y=i,this.extent=e.tileXYToRectangle(r,i,n),this.rectangles=[],this._sw=void 0,this._se=void 0,this._nw=void 0,this._ne=void 0}function l(e,t,n,r,i){this.level=e,this.west=t,this.south=n,this.east=r,this.north=i}function c(e,t){var n=Math.max(e.west,t.west),r=Math.max(e.south,t.south),i=Math.min(e.east,t.east);return r<Math.min(e.north,t.north)&&n<i}function h(t,n,r){for(;n.level<t;)if(f(n.nw.extent,r))n=n.nw;else if(f(n.ne.extent,r))n=n.ne;else if(f(n.sw.extent,r))n=n.sw;else{if(!f(n.se.extent,r))break;n=n.se}if(0===n.rectangles.length||n.rectangles[n.rectangles.length-1].level<=r.level)n.rectangles.push(r);else{var i=e(n.rectangles,r.level,d);i<=0&&(i=~i),n.rectangles.splice(i,0,r)}}function d(e,t){return e.level-t}function f(e,t){return t.west>=e.west&&t.east<=e.east&&t.south>=e.south&&t.north<=e.north}function p(e,t){return t.longitude>=e.west&&t.longitude<=e.east&&t.latitude>=e.south&&t.latitude<=e.north}function m(e,t,n){for(var r=0,i=!1;!i;){var o=t._nw&&p(t._nw.extent,n),a=t._ne&&p(t._ne.extent,n),s=t._sw&&p(t._sw.extent,n),u=t._se&&p(t._se.extent,n);if(o+a+s+u>1){o&&(r=Math.max(r,m(t,t._nw,n))),a&&(r=Math.max(r,m(t,t._ne,n))),s&&(r=Math.max(r,m(t,t._sw,n))),u&&(r=Math.max(r,m(t,t._se,n)));break}o?t=t._nw:a?t=t._ne:s?t=t._sw:u?t=t._se:i=!0}for(;t!==e;){for(var l=t.rectangles,c=l.length-1;c>=0&&l[c].level>r;--c){var h=l[c];p(h,n)&&(r=h.level)}t=t.parent}return r}function g(e,t,n){if(t){var r,i=!1;for(r=0;r<n.length;++r)i=i||c(t.extent,n[r]);if(i){var o=t.rectangles;for(r=0;r<o.length;++r){var a=o[r];e[a.level]||(e[a.level]=n),e[a.level]=_(e[a.level],a)}g(e,t._nw,n),g(e,t._ne,n),g(e,t._sw,n),g(e,t._se,n)}}}function _(e,t){for(var n=[],r=0;r<e.length;++r){var i=e[r];c(i,t)?(i.west<t.west&&n.push(new o(i.west,i.south,t.west,i.north)),i.east>t.east&&n.push(new o(t.east,i.south,i.east,i.north)),i.south<t.south&&n.push(new o(Math.max(t.west,i.west),i.south,Math.min(t.east,i.east),t.south)),i.north>t.north&&n.push(new o(Math.max(t.west,i.west),t.north,Math.min(t.east,i.east),i.north))):n.push(i)}return n}var v=new o;a.prototype.addAvailableTileRange=function(e,t,n,r,i){var o=this._tilingScheme,a=this._rootNodes;if(0===e)for(var d=n;d<=i;++d)for(var f=t;f<=r;++f)s(e,f,d,a)||a.push(new u(o,void 0,0,f,d));o.tileXYToRectangle(t,n,e,v);var p=v.west,m=v.north;o.tileXYToRectangle(r,i,e,v);for(var g=v.east,_=v.south,A=new l(e,p,_,g,m),y=0;y<a.length;++y){var b=a[y];c(b.extent,A)&&h(this._maximumLevel,b,A)}},a.prototype.computeMaximumLevelAtPosition=function(e){for(var t,r=0;r<this._rootNodes.length;++r){var i=this._rootNodes[r];if(p(i.extent,e)){t=i;break}}return n(t)?m(void 0,t,e):-1};var A=[],y=[],b=new o,w=new o;a.prototype.computeBestAvailableLevelOverRectangle=function(e){var t=A;t.length=0,e.east<e.west?(t.push(o.fromRadians(-Math.PI,e.south,e.east,e.north,b)),t.push(o.fromRadians(e.west,e.south,Math.PI,e.north,w))):t.push(e);var r=y;r.length=0;var i;for(i=0;i<this._rootNodes.length;++i)g(r,this._rootNodes[i],t);for(i=r.length-1;i>=0;--i)if(n(r[i])&&0===r[i].length)return i;return 0};var x=new t;return a.prototype.isTileAvailable=function(e,t,n){var r=this._tilingScheme.tileXYToRectangle(t,n,e,v);return o.center(r,x),this.computeMaximumLevelAtPosition(x)>=e},a.prototype.computeChildMaskForTile=function(e,t,n){var r=e+1;if(r>=this._maximumLevel)return 0;var i=0;return i|=this.isTileAvailable(r,2*t,2*n+1)?1:0,i|=this.isTileAvailable(r,2*t+1,2*n+1)?2:0,i|=this.isTileAvailable(r,2*t,2*n)?4:0,i|=this.isTileAvailable(r,2*t+1,2*n)?8:0},r(u.prototype,{nw:{get:function(){return this._nw||(this._nw=new u(this.tilingScheme,this,this.level+1,2*this.x,2*this.y)),this._nw}},ne:{get:function(){return this._ne||(this._ne=new u(this.tilingScheme,this,this.level+1,2*this.x+1,2*this.y)),this._ne}},sw:{get:function(){return this._sw||(this._sw=new u(this.tilingScheme,this,this.level+1,2*this.x,2*this.y+1)),this._sw}},se:{get:function(){return this._se||(this._se=new u(this.tilingScheme,this,this.level+1,2*this.x+1,2*this.y+1)),this._se}}}),a}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){if(i(e.terrainProvider))return!0;if(e.isMappable&&i(e.items))for(var t=0;t<e.items.length;++t)if(r(e.items[t]))return!0;return!1}var i=n(0),o=n(2),a=n(3),s=n(56),u=n(14),l=n(22),c=function(e){s.call(this,e),this._terrainProvider=void 0,this._originalTerrainProvider=void 0};u(s,c),o(c.prototype,{terrainProvider:{get:function(){return this._terrainProvider}},supportsReordering:{get:function(){return!1}},supportsOpacity:{get:function(){return!1}}}),c.prototype._createTerrainProvider=function(){throw new a("_createTerrainProvider must be implemented in the derived class.")},c.prototype._showInCesium=function(){this._disableOtherTerrainItems();var e=this._terrainProvider=this._createTerrainProvider(),t=this.terria.cesium.scene;this._originalTerrainProvider=t.terrainProvider,t.terrainProvider=e},c.prototype._hideInCesium=function(){i(this._originalTerrainProvider)&&(this.terria.cesium.scene.terrainProvider=this._originalTerrainProvider,this._originalTerrainProvider=void 0,this._terrainProvider=void 0)},c.prototype._showInLeaflet=function(){throw this.isShown=!1,new l({sender:this,title:"Not supported in 2D",message:'"'+this.name+'" cannot be show in the 2D view.  Switch to 3D and try again.'})},c.prototype._hideInLeaflet=function(){},c.prototype._enableInCesium=function(){},c.prototype._disableInCesium=function(){},c.prototype._enableInLeaflet=function(){},c.prototype._disableInLeaflet=function(){},c.prototype._disableOtherTerrainItems=function(){for(var e=this.terria.nowViewing.items,t=0;t<e.length;t++){var n=e[t];n!==this&&r(n)&&(n.isShown=!1)}},e.exports=c},function(e,t,n){"use strict";function r(e,t){for(var n={},r=0;r<t.length;++r)for(var o=t[r],a=o.resources,s=0;s<a.length;++s){var u=a[s];if(u.format.match(e.wmsResourceFormat)){var l=u.wms_url;if(d(l)||(l=u.url,d(l))){var h=new c(l),f=h.search(!0),p=f.LAYERS;h.search("");var m=h.toString();d(n[m])||(n[m]={}),n[m][p]=u}}}var g=[];for(var _ in n)if(n.hasOwnProperty(_)){var v=e.terria.corsProxy.getURLProxyIfNecessary(_+"?service=WMS&request=GetCapabilities","1d");g.push(i(e,v,n[_]))}return A.all(g)}function i(e,t,n){for(var r in n)n.hasOwnProperty(r)&&(n[r].__filtered=!0);return v(t).then(function(t){var r=T(t);o(e,r.Capability.Layer,n)}).otherwise(function(){})}function o(e,t,n){!d(t)||t instanceof Array||(t=[t]);for(var r=0;r<t.length;++r){var i=t[r];if(i.Name){var a=n[i.Name];a&&(!d(e.minimumMaxScaleDenominator)||!d(i.MaxScaleDenominator)||i.MaxScaleDenominator>=e.minimumMaxScaleDenominator?a.__filtered=!1:console.log("Provider Feedback: Filtering out "+i.Title+" ("+i.Name+") because its MaxScaleDenominator is "+i.MaxScaleDenominator))}i.Layer&&o(e,i.Layer,n)}}function a(e,t,n,r,i){return y.createCatalogItemFromResource({terria:t.terria,itemData:n,resource:e,extras:r,parent:i,ckanBaseUrl:t.url,wmsResourceFormat:t.includeWms?t.wmsResourceFormat:void 0,wfsResourceFormat:t.includeWfs?t.wfsResourceFormat:void 0,kmlResourceFormat:t.includeKml?t.kmlResourceFormat:void 0,csvResourceFormat:t.includeCsv?t.csvResourceFormat:void 0,esriMapServerResourceFormat:t.includeEsriMapServer?t.esriMapServerResourceFormat:void 0,esriFeatureServerResourceFormat:t.includeEsriFeatureServer?t.esriFeatureServerResourceFormat:void 0,geoJsonResourceFormat:t.includeGeoJson?t.geoJsonResourceFormat:void 0,czmlResourceFormat:t.includeCzml?t.czmlResourceFormat:void 0,allowWmsGroups:t.allowEntireWmsServers,allowWfsGroups:t.allowEntireWfsServers,dataCustodian:t.dataCustodian,itemProperties:t.itemProperties,useResourceName:t.useResourceName})}function s(e,t){function n(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase();return n<r?-1:n>r?1:0}for(var r,i=0;i<t.length;++i){var o=t[i];if(e.blacklist&&e.blacklist[o.title])console.log("Provider Feedback: Filtering out "+o.title+" ("+o.name+") because it is blacklisted.");else{var a={};if(d(o.extras))for(var s=0;s<o.extras.length;s++)a[o.extras[s].key]=o.extras[s].value;for(var l=[],c=o.resources,h=0;h<c.length;++h){var f,p=c[h];f="group"===e.groupBy?o.groups:"organization"===e.groupBy&&o.organization?[o.organization]:void 0;var m;if(d(f)&&f.length>0)for(var g=0;g<f.length;++g){var _=f[g],v=_.display_name||_.title,A=e.uniqueId+"/"+_.id;if(!e.blacklist||!e.blacklist[v]){var b=e.terria.catalog.shareKeyIndex[A],w=d(b);d(b)||(b=new E(e.terria),b.name=v,b.id=A),m=u(p,e,o,a,b),!w&&b.items.length&&e.add(b)}}else e.ungroupedTitle?(d(r)||(r=new E(e.terria),r.name=e.ungroupedTitle,r.id=e.uniqueId+"/_ungrouped",e.add(r)),m=u(p,e,o,a,r)):m=u(p,e,o,a,e);d(m)&&l.push(m)}l.length>1&&!e.useResourceName&&l.forEach(function(e){var t=y.shortHumanReadableTypeNames[e.type]||"Other";e.name+=" ("+t+")"})}}e.items.sort(n);for(var x=0;x<e.items.length;++x)d(e.items[x].items)&&e.items[x].items.sort(n)}function u(e,t,n,r,i){var o=t.terria.catalog.shareKeyIndex[i.uniqueId+"/"+e.id];return d(o)||(o=a(e,t,n,r,i))&&i.add(o),o}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=n(33),h=n(27),d=n(0),f=n(2),p=n(188),m=n(6),g=n(13),_=n(44),v=n(172),A=n(7),y=n(622),b=n(367),w=n(368),x=n(22),E=n(55),C=n(14),S=n(32),T=n(84),I=function(e){E.call(this,e,"ckan"),this.url="",this.dataCustodian=void 0,this.filterQuery=void 0,this.blacklist=void 0,this.filterByWmsGetCapabilities=!1,this.minimumMaxScaleDenominator=void 0,this.wmsParameters=void 0,this.groupBy="group",this.ungroupedTitle="No group",this.useResourceName=!1,this.allowEntireWmsServers=!1,this.allowEntireWfsServers=!1,this.includeWms=!0,this.wmsResourceFormat=/^wms$/i,this.includeWfs=!0,this.wfsResourceFormat=/^wfs$/i,this.includeKml=!1,this.kmlResourceFormat=/^km[lz]$/i,this.includeCsv=!1,this.csvResourceFormat=/^csv-geo-/i,this.includeEsriMapServer=!1,this.includeEsriFeatureServer=!1,this.esriMapServerResourceFormat=/^esri rest$/i,this.esriFeatureServerResourceFormat=/^esri rest$/i,this.includeGeoJson=!1,this.geoJsonResourceFormat=/^geojson$/i,this.includeCzml=!1,this.czmlResourceFormat=/^czml$/i,this.itemProperties=void 0,g.track(this,["url","dataCustodian","filterQuery","blacklist","wmsParameters","groupBy","ungroupedTitle","useResourceName","allowEntireWmsServers","allowEntireWfsServers","includeWms","includeWfs","includeKml","includeCsv","includeEsriMapServer","includeGeoJson","includeCzml","itemProperties"])};C(E,I),f(I.prototype,{type:{get:function(){return"ckan"}},typeName:{get:function(){return"CKAN Server"}},updaters:{get:function(){return I.defaultUpdaters}},serializers:{get:function(){return I.defaultSerializers}}}),I.defaultUpdaters=h(E.defaultUpdaters),I.defaultUpdaters.wmsResourceFormat=b("wmsResourceFormat"),I.defaultUpdaters.wfsResourceFormat=b("wfsResourceFormat"),I.defaultUpdaters.kmlResourceFormat=b("kmlResourceFormat"),I.defaultUpdaters.csvResourceFormat=b("csvResourceFormat"),I.defaultUpdaters.esriMapServerResourceFormat=b("esriMapServerResourceFormat"),I.defaultUpdaters.esriFeatureServerResourceFormat=b("esriFeatureServerResourceFormat"),I.defaultUpdaters.geoJsonResourceFormat=b("geoJsonResourceFormat"),I.defaultUpdaters.czmlResourceFormat=b("czmlResourceFormat"),m(I.defaultUpdaters),I.defaultSerializers=h(E.defaultSerializers),I.defaultSerializers.items=E.enabledShareableItemsSerializer,I.defaultSerializers.wmsResourceFormat=w("wmsResourceFormat"),I.defaultSerializers.wfsResourceFormat=w("wfsResourceFormat"),I.defaultSerializers.kmlResourceFormat=w("kmlResourceFormat"),I.defaultSerializers.csvResourceFormat=w("csvResourceFormat"),I.defaultSerializers.esriMapServerResourceFormat=w("esriMapServerResourceFormat"),I.defaultSerializers.esriFeatureServerResourceFormat=w("esriFeatureServerResourceFormat"),I.defaultSerializers.geoJsonResourceFormat=w("geoJsonResourceFormat"),I.defaultSerializers.czmlResourceFormat=w("czmlResourceFormat"),m(I.defaultSerializers),I.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.filterQuery,this.blacklist,this.filterByWmsGetCapabilities,this.minimumMaxScaleDenominator,this.allowEntireWmsServers,this.allowEntireWfsServers,this.includeWms,this.includeWfs,this.includeKml,this.includeCsv,this.includeEsriMapServer,this.includeGeoJson,this.includeCzml,this.groupBy,this.ungroupedTitle]},I.prototype._load=function(){if(d(this.url)&&0!==this.url.length){var e=this,t=[];if(!d(this.filterQuery)||!Array.isArray(this.filterQuery)||"string"!=typeof this.filterQuery[0]&&"object"!==l(this.filterQuery[0]))throw new x({title:"Error loading CKAN catalogue",message:"The definition for this CKAN catalogue does not have a valid filter query."});var n=[];return this.filterQuery.forEach(function(r){function i(){var t=o.clone().addQuery({start:a}),s=t.toString();return"string"==typeof r&&(s+="&"+r),_(S(e,s,"1d")).then(function(e){if(e&&e.result&&e.result.results){for(var t=e.result.results,r=0;r<t.length;++r)n.push(t[r]);if((a+=t.length)<e.result.count)return i()}})}var o=new c(e.url).segment("api/3/action/package_search").addQuery({rows:1e5,sort:"metadata_created asc"});"object"===(void 0===r?"undefined":l(r))&&Object.keys(r).forEach(function(e){return o.addQuery(e,r[e])});var a=0;t.push(i().then(function(){return n}))}),A.all(t).then(function(t){if(d(t)){for(var n=[],i=0;i<t.length;i++)for(var o=t[i],a=0;a<o.length;++a)n.push(o[a]);if(e.filterByWmsGetCapabilities)return A(r(e,n),function(){s(e,n)});s(e,n)}}).otherwise(function(t){throw new x({sender:e,title:e.name,message:'Couldn\'t retrieve packages from this CKAN server.<br/><br/>If you entered the URL manually, please double-check it.<br/><br/>If it\'s your server, make sure <a href="http://enable-cors.org/" target="_blank">CORS</a> is enabled.<br/><br/>Otherwise, if reloading doesn\'t fix it, please report the problem by sending an email to <a href="mailto:'+e.terria.supportEmail+'">'+e.terria.supportEmail+"</a> with the technical details below.  Thank you!<br/><br/><pre>"+p(t)+"</pre>"})})}},e.exports=I},function(e,t,n){"use strict";function r(e){return a(i(e),function(e){var t=s.parseFromString(e,"application/xml");if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length>0)throw new o("The file does not contain valid XML.");return t},function(e){throw e})}var i=n(246),o=n(26),a=n(7),s=new DOMParser;e.exports=r},function(e,t,n){"use strict";function r(e){if("string"==typeof e){e=(new DOMParser).parseFromString(e,"text/xml")}for(var t=[],n=e.documentElement,r=n.getElementsByTagNameNS(_,"featureMember"),a=0;a<r.length;++a){var s=r[a],u={};i(s,u);var l={type:"Feature",geometry:o(s),properties:u};m(l.geometry)&&t.push(l)}return{type:"FeatureCollection",crs:{type:"EPSG",properties:{code:"4326"}},features:t}}function i(e,t){for(var n=!0,r=0;r<e.childNodes.length;++r){var o=e.childNodes[r];o.nodeType===Node.ELEMENT_NODE&&(n=!1),v.indexOf(o.localName)>=0||o.hasChildNodes()&&i(o,t)&&(t[o.localName]=o.textContent)}return n}function o(e){for(var t,n=0;!m(t)&&n<e.childNodes.length;++n){var r=e.childNodes[n];if(v.indexOf(r.localName)>=0)return d(r);t=o(r)}return t}function a(e){for(var t=[],n=e.getElementsByTagNameNS(_,"posList"),r=0;r<n.length;++r)for(var i=p(n[r].textContent),o=0;o<i.length;++o)t.push(i[o]);return{type:"LineString",coordinates:t}}function s(e){var t=e.getElementsByTagNameNS(_,"pos");if(t<1)throw new g("GML point element is missing a pos element.");return{type:"Point",coordinates:p(t[0].textContent)[0]}}function u(e){for(var t=e.getElementsByTagNameNS(_,"posList"),n=[],r=0;r<t.length;++r)n.push(p(t[r].textContent));return{type:"MultiLineString",coordinates:n}}function l(e){for(var t=[],n=e.getElementsByTagNameNS(_,"Polygon"),r=0;r<n.length;++r){var i=n[r],o=i.getElementsByTagNameNS(_,"exterior");if(o.length<1)throw new g("GML polygon is missing its exterior ring.");var a=[],s=o[0],u=s.getElementsByTagNameNS(_,"posList");if(u.length<1)throw new g("GML polygon's exterior ring is missing a posList.");a.push(p(u[0].textContent));for(var l=i.getElementsByTagNameNS(_,"interior"),c=0;c<l.length;++c){var h=l[c],d=h.getElementsByTagNameNS(_,"posList");d.length<1||a.push(p(d[0].textContent))}t.push(a)}return{type:"MultiPolygon",coordinates:t}}function c(e){var t=[],n=e.getElementsByTagNameNS(_,"exterior");if(n.length<1)throw new g("GML polygon is missing its exterior ring.");var r=n[0],i=r.getElementsByTagNameNS(_,"posList");if(i.length<1)throw new g("GML polygon's exterior ring is missing a posList.");t.push(p(i[0].textContent));for(var o=e.getElementsByTagNameNS(_,"interior"),a=0;a<o.length;++a){var s=o[a],u=s.getElementsByTagNameNS(_,"posList");u.length<1||t.push(p(u[0].textContent))}return{type:"Polygon",coordinates:t}}function h(e){for(var t=e.getElementsByTagNameNS(_,"pos"),n=[],r=0;r<t.length;++r)n.push(p(t[r].textContent)[0]);return{type:"MultiPoint",coordinates:n}}function d(e){var t=e.localName,n=A[t];if(!m(n))throw new g("GML contains unsupported feature type: "+t);return n(e)}function f(e){return 0!==e.length}function p(e){for(var t=e.split(/[ ,]+/).filter(f),n=[],r=0;r<t.length;r+=2)n.push([parseFloat(t[r+1]),parseFloat(t[r])]);return n}var m=n(0),g=n(26),_="http://www.opengis.net/gml",v=["Curve","LineString","Point","Polygon","MultiCurve","MultPoint","MultiSurface","Surface"],A={Curve:a,LineString:a,Point:s,Polygon:c,MultiCurve:u,MultPoint:h,MultiSurface:l,Surface:c};e.exports=r},function(e,t,n){"use strict";function r(e){return function(t,n,r,i){A(n[e])&&(t[e]=new RegExp(n[e],"i"))}}function i(e){return function(t,n,r,i){A(t[e])&&(n[e]=t[e].source)}}function o(e,t,n,r,i){if(0!==n.length&&t!==e.length-1||(a(e,t,n,r,i),t!==e.length-1)){for(var s=-1,u=0;u<n.length;u++)if(n[u].group===e[t]){s=u;break}-1===s&&(a(e,t,n,r,i),s=n.length-1),A(n[s].children)||(n[s].children=[]),o(e,t+1,n[s].children,r,i)}}function a(e,t,n,r,i){var o,a=!0;if(t+1!==e.length){var s=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");o="^"+e.slice(0,t+1).join(s)+s}else o=e.slice(0,t+1).join(r),a=!1;n.push({field:i,value:o,regex:a,group:e[t]})}function s(e,t,n){for(var r=0;r<t.length;r++){var i=t[r],o=n[i.field],a=!1;if(A(o)){(o instanceof String||"string"==typeof o)&&(o=[o]);for(var c=0;c<o.length;c++){var h=o[c];if(u(i.value,h,i.regex)){a=!0;break}}}if(a){var d=l(i.group?i.group:i.value,e);return i.children&&A(d)?(e=s(d,i.children,n),A(e)||(e=d)):A(d)&&(e=d),e}}}function u(e,t,n){if(A(n)&&n){return new RegExp(e).test(t)}return e===t}function l(e,t){var n=t.findFirstItemByName(e);return A(n)||(n=new m(t.terria),n.name=e,t.items.push(n)),n}function c(e,t,n,r,i){var o;A(n.name)&&(o=n.name);var a;return U.forEach(function(t){!A(a)&&(n.protocol||n.scheme).match(e[t[0]])&&e[t[1]]&&(a=t[2]!==L||A(o)?new t[2](e.terria):new B(e.terria))}),A(a)&&(a instanceof N?(a.name=t.title,a.url=n.toString()):(a.name=t.title,a.description=t.description,a.url=n.toString(),a.dataCustodian="",A(t.contributor)&&a.info.push({name:"Data Responsibility",content:t.contributor.toString()}),a.info.push({name:"Links",content:r.reduce(function(e,t){return e+"["+t.description+"]("+t.url+")\n\n"},"")}),a.info.push({name:"Metadata Record URL",content:e.url+"?&version=2.0.2&service=CSW&request=GetRecordById&outputSchema=http://www.opengis.net/cat/csw/2.0.2&ElementSetName=full&id="+t.identifier}),A(i)&&(a.legendUrl=new T(i)),a.hasOwnProperty("layers")&&A(o)&&(a.layers=o),"object"===f(e.itemProperties)&&a.updateFromJson(e.itemProperties))),a}function h(e){var t=new D(e);return t.search(""),t.toString()}function d(e){for(var t=!1,n=0;n<U.length;n++){var r=U[n][1];A(e[r])&&e[r]&&"includeWps"!==r&&(t=!0)}return t}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n(206),m=n(55),g=n(27),_=n(138),v=n(1),A=n(0),y=n(2),b=n(188),w=n(6),x=n(51),E=n(14),C=n(268),S=n(13),T=n(165),I=n(105),M=n(97),O=n(32),P=n(22),D=n(33),B=n(269),L=n(107),N=n(624),R=n(7),k=n(84),F=function(e){m.call(this,e,"csw"),this.url="",this.getRecordsTemplate=void 0,this.includeWms=!0,this.wmsResourceFormat=/\bwms\b/i,this.includeKml=!1,this.kmlResourceFormat=/\bkml\b/i,this.includeCsv=!1,this.csvResourceFormat=/\bcsv-geo-/i,this.includeEsriMapServer=!1,this.esriMapServerResourceFormat=/\besri rest\b/i,this.includeGeoJson=!1,this.geoJsonResourceFormat=/\bgeojson\b/i,this.metadataGroups=[],this.domainSpecification=void 0,this.includeWps=!1,this.wpsResourceFormat=/\bwps\b/i,this.itemProperties=void 0,S.track(this,["url","getRecordsParameters","includeWms","includeKml","includeCsv","includeEsriMapServer","includeGeoJson","includeWps","itemProperties"])};F.defaultGetRecordsTemplate=n(1318),F.wpsGetRecordsTemplate=n(1319),E(m,F),y(F.prototype,{type:{get:function(){return"csw"}},typeName:{get:function(){return"Catalogue Service (CSW)"}},updaters:{get:function(){return F.defaultUpdaters}},serializers:{get:function(){return F.defaultSerializers}}}),F.defaultUpdaters=g(m.defaultUpdaters),F.defaultUpdaters.wmsResourceFormat=r("wmsResourceFormat"),F.defaultUpdaters.kmlResourceFormat=r("kmlResourceFormat"),F.defaultUpdaters.csvResourceFormat=r("csvResourceFormat"),F.defaultUpdaters.esriMapServerResourceFormat=r("esriMapServerResourceFormat"),F.defaultUpdaters.geoJsonResourceFormat=r("geoJsonResourceFormat"),F.defaultUpdaters.wpsResourceFormat=r("wpsResourceFormat"),w(F.defaultUpdaters),F.defaultSerializers=g(m.defaultSerializers),F.defaultSerializers.items=m.enabledShareableItemsSerializer,F.defaultSerializers.wmsResourceFormat=i("wmsResourceFormat"),F.defaultSerializers.kmlResourceFormat=i("kmlResourceFormat"),F.defaultSerializers.csvResourceFormat=i("csvResourceFormat"),F.defaultSerializers.esriMapServerResourceFormat=i("esriMapServerResourceFormat"),F.defaultSerializers.geoJsonResourceFormat=i("geoJsonResourceFormat"),F.defaultSerializers.wpsResourceFormat=i("wpsResourceFormat"),w(F.defaultSerializers),F.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.filterQuery,this.blacklist,this.filterByWmsGetCapabilities,this.minimumMaxScaleDenominator,this.allowEntireWmsServers,this.includeKml,this.includeWms,this.includeCsv,this.includeEsriMapServer,this.includeWps]};var U=[["wmsResourceFormat","includeWms",L],["esriMapServerResourceFormat","includeEsriMapServer",p],["kmlResourceFormat","includeKml",C],["geoJsonResourceFormat","includeGeoJson",x],["csvResourceFormat","includeCsv",_],["wpsResourceFormat","includeWps",N]];F.prototype._load=function(){function e(){var o=t.replace("{startPosition}",i);if(o!==n)return I({url:O(r,h(r.url),"1d"),responseType:"document",method:"POST",overrideMimeType:"text/xml",data:o,headers:{"Content-Type":"application/xml"}}).then(function(t){if(A(t)){var a=k(t);if(a.Exception){var u="The CSW server reported an unknown error.";throw a.Exception.ExceptionText&&(u="The CSW server reported an error:\n\n"+a.Exception.ExceptionText),new P({sender:r,title:r.name,message:u})}var l=a.SearchResults;if(A(l)&&A(l.Record)){var h=l.Record;Array.isArray(h)||(h=[h]);for(var d=0;d<h.length;++d){var f=h[d],p=f.URI||f.references;if(A(p)){(p instanceof String||"string"==typeof p)&&(p=[p]);for(var m,g=[],_=[],v=0;v<p.length;v++){for(var y=p[v],b=!1,w=0;w<U.length;w++){var x=U[w],E=y.protocol||y.scheme;E&&E.match(r[x[0]])&&(b=!0,_.push(y))}b||("LegendUrl"===y.description&&(m=y.toString()),g.push({url:y.toString(),description:A(y.description)?y.description:y.name}))}for(var C=0;C<_.length;++C){var S=_[C],T=r;if(r.metadataGroups.length>0&&(T=s(r,r.metadataGroups,f)),A(T)){var I=c(r,f,S,g,m);A(I)&&T.items.push(I)}}}}var M=parseInt(l.nextRecord,10);return 0!==M&&M<parseInt(l.numberOfRecordsMatched,10)?(i=M,n=o,e()):void 0}}})}var t;t=this.includeWps&&!d(this)?v(this.getRecordsTemplate,F.wpsGetRecordsTemplate):v(this.getRecordsTemplate,F.defaultGetRecordsTemplate);var n,r=this,i=1,a=R();return A(r.domainSpecification)&&(a=function(){var e=h(r.url)+"?service=CSW&version=2.0.2&request=GetDomain&propertyname="+r.domainSpecification.domainPropertyName;return M(O(r,e,"1d")).then(function(e){if(!e||!e.documentElement||"GetDomainResponse"!==e.documentElement.localName)throw new P({sender:r,title:"Catalogue service is not useable",message:'Invalid response obtained when invoking GetDomain on the CSW server.  <p>This error may indicate that the catalogue server you specified is temporarily unavailable or there is a problem with your internet connection.  Try opening the processing server again, and if the problem persists, please report it by sending an email to <a href="mailto:'+r.terria.supportEmail+'">'+r.terria.supportEmail+"</a>.</p>"});for(var t=k(e),n=t.DomainValues.ListOfValues.Value,i=0;i<n.length;i++){o(n[i].split(r.domainSpecification.hierarchySeparator),0,r.metadataGroups,r.domainSpecification.hierarchySeparator,r.domainSpecification.queryPropertyName)}}).otherwise(function(e){throw new P({sender:r,title:"Catalogue service is not useable",message:'An error occurred while invoking GetDomain on the CSW server.  <p>This error may indicate that the catalogue server you specified is temporarily unavailable or there is a problem with your internet connection.  Try opening the processing server again, and if the problem persists, please report it by sending an email to <a href="mailto:'+r.terria.supportEmail+'">'+r.terria.supportEmail+"</a>.</p>"})})}().otherwise(function(e){if(e instanceof P)throw e;throw new P({sender:r,title:r.name,message:'Couldn\'t execute GetDomain on this CSW server.<br/><br/>If you entered the URL manually, please double-check it.<br/><br/>If it\'s your server, make sure <a href="http://enable-cors.org/" target="_blank">CORS</a> is enabled.<br/><br/>Otherwise, if reloading doesn\'t fix it, please report the problem by sending an email to <a href="mailto:'+r.terria.supportEmail+'">'+r.terria.supportEmail+"</a> with the technical details below.  Thank you!<br/><br/><pre>"+b(e)+"</pre>"})})),R(a,function(){return e().otherwise(function(e){if(e instanceof P)throw e;throw new P({sender:r,title:r.name,message:'Couldn\'t execute GetRecords on this CSW server.<br/><br/>If you entered the URL manually, please double-check it.<br/><br/>If it\'s your server, make sure <a href="http://enable-cors.org/" target="_blank">CORS</a> is enabled.<br/><br/>Otherwise, if reloading doesn\'t fix it, please report the problem by sending an email to <a href="mailto:'+r.terria.supportEmail+'">'+r.terria.supportEmail+"</a> with the technical details below.  Thank you!<br/><br/><pre>"+b(e)+"</pre>"})})})},F._findLevel=o,e.exports=F},function(e,t,n){"use strict";var r=n(9),i=n(16),o=function(e){var t=i.southwest(e),n=i.southeast(e),o=i.northwest(e),a=i.northeast(e);return[[[r.toDegrees(t.longitude),r.toDegrees(t.latitude)],[r.toDegrees(n.longitude),r.toDegrees(n.latitude)],[r.toDegrees(a.longitude),r.toDegrees(a.latitude)],[r.toDegrees(o.longitude),r.toDegrees(o.latitude)],[r.toDegrees(t.longitude),r.toDegrees(t.latitude)]]]};e.exports=o},function(e,t,n){"use strict";function r(e){this.name=e.name,this.content=e.content,this.isOpen=i(e.isOpen,!0),o.track(this,["name","content","isOpen"])}var i=n(1),o=n(13);r.prototype.toggleOpen=function(){this.isOpen=!this.isOpen},e.exports=r},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n<wps:Execute version="1.0.0" service="WPS" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.opengis.net/wps/1.0.0" xmlns:wfs="http://www.opengis.net/wfs" xmlns:wps="http://www.opengis.net/wps/1.0.0" xmlns:ows="http://www.opengis.net/ows/1.1" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:wcs="http://www.opengis.net/wcs/1.1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd">\n  <ows:Identifier>{{identifier}}</ows:Identifier>\n  <wps:DataInputs>\n{{#dataInputs}}\n    <wps:Input>\n      <ows:Identifier>{{inputIdentifier}}</ows:Identifier>\n      <wps:Data>\n        <wps:{{inputType}}>{{inputValue}}</wps:{{inputType}}>\n      </wps:Data>\n    </wps:Input>\n{{/dataInputs}}\n  </wps:DataInputs>\n  <wps:ResponseForm>\n    <wps:ResponseDocument storeExecuteResponse="{{storeExecuteResponse}}" status="{{status}}"/>\n  </wps:ResponseForm>\n</wps:Execute>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<csw:GetRecords xmlns:csw="http://www.opengis.net/cat/csw/2.0.2" version="2.0.2" service="CSW" resultType="results" startPosition="{startPosition}" maxRecords="100">\n    <csw:Query typeNames="csw:Record" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml">\n        <csw:ElementSetName>full</csw:ElementSetName>\n        <csw:Constraint version="1.1.0">\n            <ogc:Filter>\n                <ogc:Or>\n                    <ogc:PropertyIsLike wildCard="%" singleChar="#" escapeChar="!">\n                        <ogc:PropertyName>dc:format</ogc:PropertyName>\n                        <ogc:Literal>%WMS%</ogc:Literal>\n                    </ogc:PropertyIsLike>\n                    <ogc:PropertyIsLike wildCard="%" singleChar="#" escapeChar="!">\n                        <ogc:PropertyName>OnlineResourceType</ogc:PropertyName>\n                        <ogc:Literal>%WMS%</ogc:Literal>\n                    </ogc:PropertyIsLike>\n                    <ogc:PropertyIsLike wildCard="%" singleChar="#" escapeChar="!">\n                        <ogc:PropertyName>apiso:ServiceType</ogc:PropertyName>\n                        <ogc:Literal>%WMS%</ogc:Literal>\n                    </ogc:PropertyIsLike>\n                </ogc:Or>\n            </ogc:Filter>\n        </csw:Constraint>\n    </csw:Query>\n</csw:GetRecords>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<csw:GetRecords xmlns:csw="http://www.opengis.net/cat/csw/2.0.2" version="2.0.2" service="CSW" resultType="results" startPosition="{startPosition}" maxRecords="100">\n    <csw:Query typeNames="csw:Record" xmlns:ogc="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml">\n        <csw:ElementSetName>full</csw:ElementSetName>\n        <csw:Constraint version="1.1.0">\n            <ogc:Filter>\n                <ogc:And>\n                    <ogc:PropertyIsLike wildCard="%" singleChar="#" escapeChar="!">\n                        <ogc:PropertyName>apiso:ServiceType</ogc:PropertyName>\n                        <ogc:Literal>%WPS%</ogc:Literal>\n                    </ogc:PropertyIsLike>\n                    <ogc:PropertyIsEqualTo>\n                        <ogc:PropertyName>apiso:Type</ogc:PropertyName>\n                        <ogc:Literal>service</ogc:Literal>\n                    </ogc:PropertyIsEqualTo>\n                </ogc:And>\n            </ogc:Filter>\n        </csw:Constraint>\n    </csw:Query>\n</csw:GetRecords>\n'},function(e,t,n){"use strict";function r(e,t){var n=(new DOMParser).parseFromString(t,"text/xml"),r=o.gpx(n);return e._geoJsonItem.data=r,e._geoJsonItem.load().then(function(){e.rectangle=e._geoJsonItem.rectangle,e.clock=e._geoJsonItem.clock})}function i(e){var t=e.terria;throw new h({sender:e,title:"Error loading GPX",message:"An error occurred while loading a GPX file.  This may indicate that the file is invalid or that it is not supported by "+t.appName+'.  If you would like assistance or further information, please email us at <a href="mailto:'+t.supportEmail+'">'+t.supportEmail+"</a>."})}var o=n(1321),a=n(0),s=n(2),u=n(13),l=n(7),c=n(74),h=n(22),d=n(56),f=n(14),p=n(32),m=n(51),g=n(246),_=n(172),v=function(e,t){d.call(this,e),this._geoJsonItem=void 0,this.url=t,this.data=void 0,this.dataSourceUrl=void 0,u.track(this,["data","dataSourceUrl"])};f(d,v),s(v.prototype,{type:{get:function(){return"gpx"}},typeName:{get:function(){return"GPX"}},metadata:{get:function(){var e=new c;return e.isLoading=!1,e.dataSourceErrorMessage="This data source does not have any details available.",e.serviceErrorMessage="This service does not have any details available.",e}},dataSource:{get:function(){return a(this._geoJsonItem)?this._geoJsonItem.dataSource:void 0}}}),v.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.data]},v.prototype._load=function(){this._geoJsonItem=new m(this.terria);var e=this;return a(e.data)?l(e.data,function(t){var n;return n=t instanceof Blob?g(t):t,l(n,function(t){return r(e,t)})}):_(p(e,e.url,"1d")).then(function(t){return r(e,t)}).otherwise(function(){i(e)})},v.prototype._enable=function(){a(this._geoJsonItem)&&this._geoJsonItem._enable()},v.prototype._disable=function(){a(this._geoJsonItem)&&this._geoJsonItem._disable()},v.prototype._show=function(){a(this._geoJsonItem)&&this._geoJsonItem._show()},v.prototype._hide=function(){a(this._geoJsonItem)&&this._geoJsonItem._hide()},v.prototype.showOnSeparateMap=function(e){if(a(this._geoJsonItem))return this._geoJsonItem.showOnSeparateMap(e)},e.exports=v},function(e,t,n){(function(r){var i=function(){"use strict";function e(e){if(!e||!e.length)return 0;for(var t=0,n=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t)|0;return n}function i(e,t){return e.getElementsByTagName(t)}function o(e,t){return e.getAttribute(t)}function a(e,t){return parseFloat(o(e,t))}function s(e,t){var n=i(e,t);return n.length?n[0]:null}function u(e){return e.normalize&&e.normalize(),e}function l(e){for(var t=0,n=[];t<e.length;t++)n[t]=parseFloat(e[t]);return n}function c(e){return e&&u(e),e&&e.textContent||""}function h(e,t){var n,r,i={};for(r=0;r<t.length;r++)(n=s(e,t[r]))&&(i[t[r]]=c(n));return i}function d(e,t){for(var n in t)e[n]=t[n]}function f(e){return l(e.replace(A,"").split(","))}function p(e){for(var t=e.replace(y,"").split(b),n=[],r=0;r<t.length;r++)n.push(f(t[r]));return n}function m(e){var t,n=[a(e,"lon"),a(e,"lat")],r=s(e,"ele"),i=s(e,"gpxtpx:hr")||s(e,"hr"),o=s(e,"time");return r&&(t=parseFloat(c(r)),isNaN(t)||n.push(t)),{coordinates:n,time:o?c(o):null,heartRate:i?parseFloat(c(i)):null}}function g(){return{type:"FeatureCollection",features:[]}}function _(e){return void 0!==e.xml?e.xml:v.serializeToString(e)}var v,A=/\s*/g,y=/^\s*|\s*$/g,b=/\s+/;return"undefined"!=typeof XMLSerializer?v=new XMLSerializer:"object"!=typeof t||"object"!=typeof r||r.browser||(v=new(n(1322).XMLSerializer)),{kml:function(t){function n(e){var t,n;return e=e||"","#"===e.substr(0,1)&&(e=e.substr(1)),6!==e.length&&3!==e.length||(t=e),8===e.length&&(n=parseInt(e.substr(0,2),16)/255,t="#"+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)),[t,isNaN(n)?void 0:n]}function r(e){return l(e.split(" "))}function a(e){var t=i(e,"coord","gx"),n=[],o=[];0===t.length&&(t=i(e,"gx:coord"));for(var a=0;a<t.length;a++)n.push(r(c(t[a])));for(var s=i(e,"when"),u=0;u<s.length;u++)o.push(c(s[u]));return{coords:n,times:o}}function u(e){var t,n,r,o,l,h=[],d=[];if(s(e,"MultiGeometry"))return u(s(e,"MultiGeometry"));if(s(e,"MultiTrack"))return u(s(e,"MultiTrack"));if(s(e,"gx:MultiTrack"))return u(s(e,"gx:MultiTrack"));for(r=0;r<A.length;r++)if(n=i(e,A[r]))for(o=0;o<n.length;o++)if(t=n[o],"Point"===A[r])h.push({type:"Point",coordinates:f(c(s(t,"coordinates")))});else if("LineString"===A[r])h.push({type:"LineString",coordinates:p(c(s(t,"coordinates")))});else if("Polygon"===A[r]){var m=i(t,"LinearRing"),g=[];for(l=0;l<m.length;l++)g.push(p(c(s(m[l],"coordinates"))));h.push({type:"Polygon",coordinates:g})}else if("Track"===A[r]||"gx:Track"===A[r]){var _=a(t);h.push({type:"LineString",coordinates:_.coords}),_.times.length&&d.push(_.times)}return{geoms:h,coordTimes:d}}for(var h=g(),d={},m={},v={},A=["Polygon","LineString","Point","Track","gx:Track"],y=i(t,"Placemark"),b=i(t,"Style"),w=i(t,"StyleMap"),x=0;x<b.length;x++){var E=e(_(b[x])).toString(16);d["#"+o(b[x],"id")]=E,m[E]=b[x]}for(var C=0;C<w.length;C++){d["#"+o(w[C],"id")]=e(_(w[C])).toString(16);for(var S=i(w[C],"Pair"),T={},I=0;I<S.length;I++)T[c(s(S[I],"key"))]=c(s(S[I],"styleUrl"));v["#"+o(w[C],"id")]=T}for(var M=0;M<y.length;M++)h.features=h.features.concat(function(e){var t,r=u(e),a={},l=c(s(e,"name")),h=c(s(e,"address")),f=c(s(e,"styleUrl")),p=c(s(e,"description")),g=s(e,"TimeSpan"),_=s(e,"TimeStamp"),A=s(e,"ExtendedData"),y=s(e,"LineStyle"),b=s(e,"PolyStyle"),w=s(e,"visibility");if(!r.geoms.length)return[];if(l&&(a.name=l),h&&(a.address=h),f){"#"!==f[0]&&(f="#"+f),a.styleUrl=f,d[f]&&(a.styleHash=d[f]),v[f]&&(a.styleMapHash=v[f],a.styleHash=d[v[f].normal]);var x=m[a.styleHash];x&&(y||(y=s(x,"LineStyle")),b||(b=s(x,"PolyStyle")))}if(p&&(a.description=p),g){var E=c(s(g,"begin")),C=c(s(g,"end"));a.timespan={begin:E,end:C}}if(_&&(a.timestamp=c(s(_,"when"))),y){var S=n(c(s(y,"color"))),T=S[0],I=S[1],M=parseFloat(c(s(y,"width")));T&&(a.stroke=T),isNaN(I)||(a["stroke-opacity"]=I),isNaN(M)||(a["stroke-width"]=M)}if(b){var O=n(c(s(b,"color"))),P=O[0],D=O[1],B=c(s(b,"fill")),L=c(s(b,"outline"));P&&(a.fill=P),isNaN(D)||(a["fill-opacity"]=D),B&&(a["fill-opacity"]="1"===B?a["fill-opacity"]||1:0),L&&(a["stroke-opacity"]="1"===L?a["stroke-opacity"]||1:0)}if(A){var N=i(A,"Data"),R=i(A,"SimpleData");for(t=0;t<N.length;t++)a[N[t].getAttribute("name")]=c(s(N[t],"value"));for(t=0;t<R.length;t++)a[R[t].getAttribute("name")]=c(R[t])}w&&(a.visibility=c(w)),r.coordTimes.length&&(a.coordTimes=1===r.coordTimes.length?r.coordTimes[0]:r.coordTimes);var k={type:"Feature",geometry:1===r.geoms.length?r.geoms[0]:{type:"GeometryCollection",geometries:r.geoms},properties:a};return o(e,"id")&&(k.id=o(e,"id")),[k]}(y[M]));return h},gpx:function(e){function t(e,t){var n=i(e,t),r=[],o=[],a=[],s=n.length;if(s<2)return{};for(var u=0;u<s;u++){var l=m(n[u]);r.push(l.coordinates),l.time&&o.push(l.time),l.heartRate&&a.push(l.heartRate)}return{line:r,times:o,heartRates:a}}function n(e){var t={};if(e){var n=s(e,"line");if(n){var r=c(s(n,"color")),i=parseFloat(c(s(n,"opacity"))),o=parseFloat(c(s(n,"width")));r&&(t.stroke=r),isNaN(i)||(t["stroke-opacity"]=i),isNaN(o)||(t["stroke-width"]=96*o/25.4)}}return t}function r(e){var t=h(e,["name","cmt","desc","type","time","keywords"]),n=i(e,"link");n.length&&(t.links=[]);for(var r,a=0;a<n.length;a++)r={href:o(n[a],"href")},d(r,h(n[a],["text","type"])),t.links.push(r);return t}var a,u,l=i(e,"trk"),f=i(e,"rte"),p=i(e,"wpt"),_=g();for(a=0;a<l.length;a++)(u=function(e){for(var o,a=i(e,"trkseg"),u=[],l=[],c=[],h=0;h<a.length;h++)(o=t(a[h],"trkpt"))&&(o.line&&u.push(o.line),o.times&&o.times.length&&l.push(o.times),o.heartRates&&o.heartRates.length&&c.push(o.heartRates));if(0!==u.length){var f=r(e);return d(f,n(s(e,"extensions"))),l.length&&(f.coordTimes=1===u.length?l[0]:l),c.length&&(f.heartRates=1===u.length?c[0]:c),{type:"Feature",properties:f,geometry:{type:1===u.length?"LineString":"MultiLineString",coordinates:1===u.length?u[0]:u}}}}(l[a]))&&_.features.push(u);for(a=0;a<f.length;a++)(u=function(e){var i=t(e,"rtept");if(i.line){var o=r(e);d(o,n(s(e,"extensions")));return{type:"Feature",properties:o,geometry:{type:"LineString",coordinates:i.line}}}}(f[a]))&&_.features.push(u);for(a=0;a<p.length;a++)_.features.push(function(e){var t=r(e);return d(t,h(e,["sym"])),{type:"Feature",properties:t,geometry:{type:"Point",coordinates:m(e).coordinates}}}(p[a]));return _}}}();e.exports=i}).call(t,n(73))},function(e,t){},function(e,t,n){var r,i;r=[n(17),n(24),n(1),n(0),n(3),n(72),n(65),n(16),n(29),n(26),n(119),n(63),n(7),n(139)],void 0!==(i=function(e,t,n,r,i,o,a,s,u,l,c,h,d,f){"use strict";function p(i){function p(u){for(var d,f,p,m=/tileformat/i,w=/tileset/i,x=/tilesets/i,E=/boundingbox/i,C=[],S=u.childNodes[0].childNodes,T=0;T<S.length;T++)if(m.test(S.item(T).nodeName))d=S.item(T);else if(x.test(S.item(T).nodeName)){p=S.item(T);for(var I=S.item(T).childNodes,M=0;M<I.length;M++)w.test(I.item(M).nodeName)&&C.push(I.item(M))}else E.test(S.item(T).nodeName)&&(f=S.item(T));var O;if(!r(p)||!r(f))return O="Unable to find expected tilesets or bbox attributes in "+A.url+".",_=c.handleError(_,b,b.errorEvent,O,void 0,void 0,void 0,g),void(_.retry||y.reject(new l(O)));var P=n(i.fileExtension,d.getAttribute("extension")),D=n(i.tileWidth,parseInt(d.getAttribute("width"),10)),B=n(i.tileHeight,parseInt(d.getAttribute("height"),10)),L=n(i.minimumLevel,parseInt(C[0].getAttribute("order"),10)),N=n(i.maximumLevel,parseInt(C[C.length-1].getAttribute("order"),10)),R=p.getAttribute("profile"),k=i.tilingScheme;if(!r(k))if("geodetic"===R||"global-geodetic"===R)k=new a({ellipsoid:i.ellipsoid});else{if("mercator"!==R&&"global-mercator"!==R)return O=A.url+"specifies an unsupported profile attribute, "+R+".",_=c.handleError(_,b,b.errorEvent,O,void 0,void 0,void 0,g),void(_.retry||y.reject(new l(O)));k=new h({ellipsoid:i.ellipsoid})}var F=s.clone(i.rectangle);if(!r(F)){var U,z,j,H;n(i.flipXY,!1)?(j=new e(parseFloat(f.getAttribute("miny")),parseFloat(f.getAttribute("minx"))),H=new e(parseFloat(f.getAttribute("maxy")),parseFloat(f.getAttribute("maxx")))):(j=new e(parseFloat(f.getAttribute("minx")),parseFloat(f.getAttribute("miny"))),H=new e(parseFloat(f.getAttribute("maxx")),parseFloat(f.getAttribute("maxy"))));var V="geodetic"===R||"mercator"===R;if(k.projection instanceof o||V)U=t.fromDegrees(j.x,j.y),z=t.fromDegrees(H.x,H.y);else{var Q=k.projection;U=Q.unproject(j),z=Q.unproject(H)}F=new s(U.longitude,U.latitude,z.longitude,z.latitude)}F.west<k.rectangle.west&&(F.west=k.rectangle.west),F.east>k.rectangle.east&&(F.east=k.rectangle.east),F.south<k.rectangle.south&&(F.south=k.rectangle.south),F.north>k.rectangle.north&&(F.north=k.rectangle.north);var G=k.positionToTileXY(s.southwest(F),L),W=k.positionToTileXY(s.northeast(F),L);(Math.abs(W.x-G.x)+1)*(Math.abs(W.y-G.y)+1)>4&&(L=0);var q=v.getDerivedResource({url:"{z}/{x}/{reverseY}."+P});y.resolve({url:q,tilingScheme:k,rectangle:F,tileWidth:D,tileHeight:B,minimumLevel:L,maximumLevel:N,tileDiscardPolicy:i.tileDiscardPolicy,credit:i.credit})}function m(e){var t=n(i.fileExtension,"png"),o=n(i.tileWidth,256),a=n(i.tileHeight,256),s=n(i.minimumLevel,0),u=i.maximumLevel,l=r(i.tilingScheme)?i.tilingScheme:new h({ellipsoid:i.ellipsoid}),c=n(i.rectangle,l.rectangle),d=v.getDerivedResource({url:"{z}/{x}/{reverseY}."+t});y.resolve({url:d,tilingScheme:l,rectangle:c,tileWidth:o,tileHeight:a,minimumLevel:s,maximumLevel:u,tileDiscardPolicy:i.tileDiscardPolicy,credit:i.credit})}function g(){A.fetchXML().then(p).otherwise(m)}i=n(i,{});var _,v,A,y=d.defer(),b=new f(y.promise);return d(i.url).then(function(e){v=u.createIfNeeded(e),v.appendForwardSlash(),A=v.getDerivedResource({url:"tilemapresource.xml"}),g()}).otherwise(function(e){y.reject(e)}),b}return p}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(103),n(12),n(53),n(1),n(0),n(2),n(3),n(15),n(65),n(16),n(29),n(26),n(119),n(63),n(7),n(140)],void 0!==(i=function(e,t,r,i,o,a,s,u,l,c,h,d,f,p,m,g){"use strict";function _(e){function t(t){var n;try{n=JSON.parse(t)}catch(e){n=JSON.parse(t.replace(/([\[\{,])[\n\r ]*([A-Za-z0-9]+)[\n\r ]*:/g,'$1"$2":'))}for(var r,i=0;i<n.layers.length;i++)if(n.layers[i].id===b._channel){r=n.layers[i];break}var s;if(!o(r))throw s="Could not find layer with channel (id) of "+b._channel+".",A=f.handleError(A,b,b._errorEvent,s,void 0,void 0,void 0,a),new d(s);if(!o(r.version))throw s="Could not find a version in channel (id) "+b._channel+".",A=f.handleError(A,b,b._errorEvent,s,void 0,void 0,void 0,a),new d(s);if(b._version=r.version,o(n.projection)&&"flat"===n.projection)b._tilingScheme=new l({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new c(-Math.PI,-Math.PI,Math.PI,Math.PI),ellipsoid:e.ellipsoid});else{if(o(n.projection)&&"mercator"!==n.projection)throw s="Unsupported projection "+n.projection+".",A=f.handleError(A,b,b._errorEvent,s,void 0,void 0,void 0,a),new d(s);b._tilingScheme=new p({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,ellipsoid:e.ellipsoid})}b._ready=!0,b._readyPromise.resolve(!0),f.handleSuccess(A)}function n(e){var t="An error occurred while accessing "+y.url+".";A=f.handleError(A,b,b._errorEvent,t,void 0,void 0,void 0,a),b._readyPromise.reject(new d(t))}function a(){var e=y.fetchText();m(e,t,n)}e=i(e,{});var s=e.url,g=i(e.path,"/default_map"),v=h.createIfNeeded(s).getDerivedResource({url:"/"===g[0]?g.substring(1):g});v.appendForwardSlash(),this._resource=v,this._url=s,this._path=g,this._tileDiscardPolicy=e.tileDiscardPolicy,this._channel=e.channel,this._requestType="ImageryMaps",this._credit=new r('<a href="http://www.google.com/enterprise/mapsearth/products/earthenterprise.html"><img src="'+_.logoUrl+'" title="Google Imagery"/></a>'),this.defaultGamma=1.9,this._tilingScheme=void 0,this._version=void 0,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=e.maximumLevel,this._errorEvent=new u,this._ready=!1,this._readyPromise=m.defer();var A,y=v.getDerivedResource({url:"query",queryParameters:{request:"Json",vars:"geeServerDefs",is2d:"t"}}),b=this;a()}return a(_.prototype,{url:{get:function(){return this._url}},path:{get:function(){return this._path}},proxy:{get:function(){return this._resource.proxy}},channel:{get:function(){return this._channel}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},version:{get:function(){return this._version}},requestType:{get:function(){return this._requestType}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},readyPromise:{get:function(){return this._readyPromise.promise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),_.prototype.getTileCredits=function(e,t,n){},_.prototype.requestImage=function(e,t,n,r){var i=this._resource.getDerivedResource({url:"query",request:r,queryParameters:{request:this._requestType,channel:this._channel,version:this._version,x:e,y:t,z:n+1}});return g.loadImage(this,i)},_.prototype.pickFeatures=function(e,t,n,r,i){},_._logoUrl=void 0,a(_,{logoUrl:{get:function(){return o(_._logoUrl)||(_._logoUrl=n(1325)),_._logoUrl},set:function(e){_._logoUrl=e}}}),_}.apply(t,r))&&(e.exports=i)},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAAnCAYAAACmP2LfAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAAHdElNRQfcDB4TJDr1mp5kAAAAGnRFWHRTb2Z0d2FyZQBQYWludC5ORVQgdjMuNS4xMDD0cqEAAB1zSURBVHhe7ZwHeFTFFsf/u+l9N70npOxuSAKEFFIhCSH0qhEQUHkgKCgWUFGBB6IoCAoo0ntooaRvEkIIBBBpoYSa3nvvfd+5u4sQUigPfMX8v2/Y3Tkzs3fv/d0z58zcgF69Ql1SY+MM1wQJem44ZeiJk8beEOqPwG6uC7ZqyElb9eo/JZEIkH2nRQkBIlNMauuPCS3uGN/kjkmNDghoskBAgzrZ2NLmf1+JwIKQpYsoxdmIV9+N07onCegzBPM9bOdmYKnazF6g/1N6UySPqSJzvCaaiLHtP8G/Phq+FRfgU5ogKWUXMLT6Mvzqr2BE40mMadqO8c3zMabBC6PqDDC8SlY60t9HByCLVTKu+ERmHr5TWI9wjVxEaOZivWo1pil8D1tZeWnLXv1l8iZ3PF2kjymiWRgvCoJv5U243IyAXcQq8A9Mg9W+4bDe6wv+kVGwCZkL+4Sf4ZR+BZ5VGQR3EkbWn8Hopm3wq54Lz2JD6ah/P21XGopQ9Qoc16jGSqVyTJWbQbUsibFXf42mihTwZpsvAtp3k0dOhFOSEH1+ngaDefrgjFCgFkxY8fCisCBvKgODzxRh9qslBFGfYmDGLbiV5mBwRRo8KtPhVBgPu8teMP7u73chD6kMRYRGBY5xqrFKqQwz5SdTbS/Qf5mmUYw8rf01CjHC4VP7AHZxO6E3qy9ZZCQNnio2rE/4o9/tkxiQUYp+KRXgx8XC5FsXcLz/hkCrDUU4pxLHuDVYpdwL9F+qqSJZKlPwenskfOoI5tN7YPCJGVme7wKYr5EBXzgYfW+mwTI0Gjrznaj2WW+I/y8dVPdDGLcKRzXrsEqlHO8oTKHaXqAZWe9hQXCi63NhHWYI3ilfWIW/YLjqL2JRiOFBJRz+LffhcPs09D+0J8vzn3zXdBnYnp8Mi6NboTWzH9X8fVc+DhDQodxqAroe36lU9AJNWr4cEAjNwI8OAC9cT1rbUfzwGeCfKiL7dGnNc+q1NiO80b4BY1oT4V6WDcsdc6j2xbyq4wMWrA9rQmeWFn36ey/jBaoPQ4hmLYI0G/AtAf22fC/QDols8ITrIYi/Bl6knbS2o3gRbxHQxQQ0k0S/gCa2v4OJovPwacqAQ1ICjL40klr+UrWoQbFBETo18jCpZsOoFODkvuCNJYoHW3QKXFEM7ETRcKfiQe8d6NVIFImXvg4skhY40mxnQYVRIIeA1qrHEc1GrFSpxFtP99AiFbDbNKDZpAzzGkVYVcvBuBJQEo/9/6C+dyjPitwLwak74D8V6Bfw0P5VShjXFoTR7TfhUZkL29M/wfATJan1lauWC3aDOgyaVDCuTgbf1bFkfmtkye1ogsK2asivLYfCglIoD8qCknI2NHuG4QSVGMgQyMbt0fioRYh9VYcRU7QX55uDcaHtFOJEsThMtmWtQgxsDodsWaC0c3ea3MzGBJEqxrfbYmzr6xjfPAeTmt5HQPO7eK1xDibUz8eY+k8xtHYJPCtXwvHOu7AXMrMTsF/TH8HajTis1YwVqpWY0TXQDKy1OpBr5EJA52Fukxx+bmKxtjWx2DuaWawNlZD5qhzyo9KhpHAbKpJO/6t65UCPbPHA2PYrGNacgkElabCJJDev/MpDhUKKnuq44LRoYEK1IiswkS1zYCfk5y+F0qjvoTwqBOof34dGeAnUL1ZCLboEnJ9zoe0QD/Nuj00UBVXRabzVLETM3S0ICfwA8yc7Y6C3ANYbZsA7aQ1W1xzEfZEQ6dT2BkG9pP4ouo7jGE1u42JS20QMrzkCr4xwuN4+AM+cYII3EaNar2J86zmMrP8DHulCON4NhU3YWuhOYy6SZENpH9cfx7WacFC7BSvUqjBDsRPQIiugURvazeqYVaqAw6dYrJ9WQy7gayj4nYDy3HtQOVQGpYRqKEWXQf2HdGha/AFdae9Xr4czz0ubISRA75ECbSut7agegO75OLxpahze8j5GtifBpzEDLiV30Dd2mNT6StWiCbVmLt5rUkBQCEt2zWzIMSA8HgrIBkLD+Sp0jhHISYXQ/KMYukfvQ3fQxq68XCTBHId/tMTg7LV1CFs4BszJ6hBarBgHlcRv8H7tbuSKQpFPYGe0BmND+nZ0npECaPKf0r4UIxsuoF/IMpitsAVnrA4s15uh3x8fwLXkLobUZGJIXTqcUzbDaJE5FAVq0t4S7dEcjqMEc6B2K5arVWN6Z6AbdOmm5mJelQKOHWSxF44Cy4CqxW0s6RwchCovFRohdGNfLgX3WiZ0N4aD++y7jfwYJUrAPCle/ZjKV+BFTSegrGAZIm3QjXhBytTWB3zhByzryMUU986jz16wD+96ijCNUIAgmkc3tS6G7GERjCbgR82B4OTbEESqIiCIcqsIYzoGGyrBEMSmgh8xBoIIAR2fAHZhj8Z9DOhl9FHeKkSDvn809fuc+iyCddRYaiOZBTvIt1YJfs0b4N+WDO+GHPLQN2Ab7S61vjJV60C9SRPvNSqzTpxlyQfS1dGUmjppK7gW16B/LhN6abnQu5cDwzO3YNhhqqK4WJY887sEdGzWFpxfOxmDpKZOOvgWFB8sx9L6nShvP4FyUQjKGg5gScpGKEqbUE7RxiGYv6QQ4zIG/r4D2m88sjEy/EIW/a6+TQ4gHe5VhXCvy4JL7gLYnesI2i6t4Tii04r92u1YKt767gB0ozrkGzmY26zEOh7Hkt+kAKhLTX9qOVVdg9aoNOjcToR+wUVKLYKgN0Zq7l7884wn9CKgr4AfWw/B6SwqKQRKOdXVghe9CpbherASSjtIpGpxRIHFjwygNreoXy0lb+lU7lHJBP9kPcGXQnBNghUB/Lh44fbUp5JA+5Hs71LbPPLCVRDEJZDNGIJgeQI6mG6KegKzldq1U7tGKjQmHR8vwl86kgRoAQN0xBw6ztn0nQ/ocxEdQ7L4d/BjG6g+m8aZTL/xsXPuW82Fb8t+DG1Ox5D6XAwqvQ67OA+p9ZWoUQPsei78mjSwNU9GLmEzVGZJTd3qFPTn3YZhXgYMMjNhlHsDxms/hNWfoUdrNPgEc2h7BG5d/Bo7Blt0BuNxXf4MVmXrkdRyEHWiY6hr2oc7mevRX2wc18gioEeI1+N9a+/CNnImVAZ0mhEoNOPAJT8MHjUF8KTiWhqHgbfMpVaJdhLQh3XasU9bJAZ6ekeg6zQwgEKuLSWysmd3QGmatLqD8qDNug3dCX/AIPk4jGr2wDB/JXTmkan70IvmZTY/rB9BdZlKLkG0lG0d5klAObKsw1+jzyFiWPnRawiaDrMYwTyMwMwh220WP2IWFVfqN4CKO8E3n0C6R/ZUej9Y2kUiMdDRFTRePH3nA3q/m7xpAEtAXl0QrkTwscnmS/3eptdzNEYevZLnZ5booqk8tuYs9tAny+n1LL1mghezlcULH0VtHamOZhvhIvoNOXQsd2EZIbluYnlWaMO75TCFG9kYXJ8H14o76H/10Z3yClSrCm6jGtbWK7LC7kIlYRfUmY2XHnUa+mbXYRSfCuNCptyE6b1jMBD/EPKwchQPLxGdxOWWI8iKXYBPqLozgI8pfA5YBWvxbfMeNLUfRmPTLjRnr8YKsdGvRQ5j2zZTSSRQ78H+7GhxfScFAINypsG9ukDspZ0LKKE+O0pqlGi71ggcIqD3dga6RhFKjSqYT+VEFkvu/E9Q+HNWKaE2VVDgVkPFqwAaay5CN3En9M59BM2vfKDs7AvljjPGE5LlharQdL+LoCmhOHU0rIUyD+NgVTOa+q2iVQiIcAKpHtbhXuJOjPqeVCRYThNE6VTvKNs3hM3cHGIxntxKyCbP7Erj1lHZJbVIJAG6iiCroZCAPGukvOyASJbvCgoaAoKoAQ1kHcGC7nmZDkmhBR2PfSQLtkcl4zCSAE2eO6qExYuYxrE4KqdvelBiM4+ncYQy1IY8d0wbhUSLJAZGbsUceNYdwJCGPAyuy4NbZToG3JoO1Qk9AvHvqF4ejo0KCKlisyl04Jw+AE1ma71HRUJP+QqM1t2HcVEyTEoSYVYQCuN3HenCt4XDhGA+KorAnYZ9KIj5ELOl3XpU/k/wrt+OmraDaG7cjpacbxFvYAAZDG5Vw/DWCxjRdp+ATsWAS6+D69H1+XDNsoVb1T06b0VwzCmBIOYdqUWibTojcFBH1CXQctBtUcA6Oh/RmVC4sBmKA5j6erC1qqE4sRpqG25A43QIOHuXgvOmP5R4ZH6m5UY2L9SSLjZ5sKjjsI/o8olH8ngjCZoSgmw9DMIl3t42Up0g+pq89/sEjLK47knZhSkSuDepJP4JOyNJyEFAR8VQKMOR1nbWM69yxNJYwh+VLE90ffPyxLE3EwL9Jq0huWQqwL1iA7zq8+FVl0+epgBO6T+gb2TH+OglqgastxtZrNNlkLt8E5oJx6HZdab7mFZBk3UZRjMewCT7HkzLfodZxREYr5sBjiIBPYiAPt8ehvSGPSg5vwjzpd16VNkmmDTswp22QDTXbkJrxhJkzHGDFoUQmvBpvo2hrZl0TnLhlLIYfUO7nt7dSg3hURcP1/JiDEgphuXBqVKLRFsfA3oJAf3mI6Cr2OjTwGYdqWGzzmZD6WoYVCfehdqsZKjuuwS1oB1Q+5piHac3oaxBzZ9vLZ4nHEeesoXg6niDPSYWP9yUgD5PHu48eKE64krHcErchHIEuRysTpAXjObQWIYEHiV4EQYEojp5aEoyY+IIpOQugKYYOnIdJXrdJ63PtWwXMQM6m6SVT4gfZkbHV0XHsVtaQ3K8yoJr0YfwoHDDq5ZiQSqDik/B4Q9taYtn18gyNia1qGJsmTrGlUjK2FJ1jCjRwOASDnkxDvN95ZD/og5yl0qgfCMJ2leDoeksHaFHXYOJVyrMkm/DrPwMzGr2wmjnLGipthyHL0W7t9pDkduwF2U3lmGFtvbTdyirt0OreT+iWwPRUrUBbSkLkT/fCUZwKVYikBMwpDlPXNzLwuAQ2rWX8KzUh2dDDJyLSmB7/S5Mf3WRWiR6CPSezkCXQs6qBnLCKsheyoXqnTCoL9oOFd9/Qtl9KJT6UJMX3/zhCz8iuCjhiviSYtMx3ZTJBN8lCE7eIRgF0p6krRRaRBDskTTGySBKws5SuUjJHYUiMQdpzCUE0Q3y5MnSDhJJQg5JUvjSgO5hHZofaioGmvc40IycMgbRtJktjgOZ5Ma9irzSg46xYHcaVEZevkgBHqUWGFK+FENKQ+BdGAq/wiMYWbwHI6h4FwTDOes0BMKFMHxPNg9qn1dANakYanfuQSs5FJoTpaP1qBswsSGgb9+EeUU0Af0LDH4dBhXlmv3wajuOpPYQFDcEojxtNQ6sn9ZzUsiofjfUWg/iYOt+tJatRtvN95DqZgxNuKTKwLV4Jdyqc8Wz1uCGTLjmDIVDQqewQ8anwpJi6GsYkF4Ey2O/QvsfXKlJIgboAwT07s5AZ0G1TylUIsuhdKMI6vcuQ3PVAqg+9UZ8JvGEywiuNoIwD4IzaV2X+HSa1otgE3+NwJImVkycG0kx8snfyUZJW+QFApeSu+hN9BpIn6n+ZBp9bqDv+C8Fum+8IpzzJNOmR3UhTaGFcC07iAHXmamuZw28C/S/aIt+CcthF7+ToN0EQdhqOFzcBu/Sm/ApvAGX3DzYXIiF9jtWTJf74L6ZC83UfGg8SId2xnloSZKxp+gWjC0J6KSrMK8KhmnlSugtInpkCzaBV78Hl5oPoaLpECrLt+Bi4jfgS7t1q+YDUGsPwj5KDFsLlqD97JuIpmpZmP+TftM1ezjlxsOllM4H3eReDWHwKrOBW84jqMeK5OBTv4Bu6HxxgqU1s/N3MkAHSoH+ioCe+gjoJHB0s8ENLID6/UJo3E+GVlwoNEwY278tXhR50RhmeexzgmM8JXjdF36MHwEoiXn70Csv6gxBm8PiRc6gJFD1HDzFpq1cP0omo5QJZAfqQzH0f6uHZjQgeR4cC/IJZCnUtSkYVPAWBiX2/CdU/S7Ql+9TgtFCTaiP0qAEXA2yRsqwuzECziWZcM4tgv2DSljF7ID+l+JNh9+hY38HuvcYmLOhk5EEnVPfQOmpW+33YGaXhj53E2BWuxvGebOh5cPUX/sWSgXrsa9mB2qaDqCK4C7I2IA3jn8u7tat2g6D034MIbWb0fZgHlr2DscXUhNNuYdkYRPrg/7JiXDMLYBrZS6GNEZgVJM/JjWY4I16G4xr/BCDq2nKjjoAvY+Zpwo7eXBskQK9Swr0lEdAn4a2wk3o/DMNWmn54KYUQIuZsebGQuXFQ42H4kfNk4QckSOkNZ1lGkGAUoInOKkAm2jJsVtH+om9Nj9ytZxNcNdhljXByo+JJXj/i4G2u2xM02YInPJLxFB7VudTPH0ZHkWu0hbPpwHpfnAszoFDVgVsb1fDMmoL9L8S7wTFQE/1AvR33oB+QSp0czKgl34B2iO9uwJCKib5SGaZjbqLPlkhMG1YDr1gQyioSs24vQTDitagsnIL6loCUVu9C2EJK9FjYtsWBNP2Q7hb9A155zdwY5mTeGexo0w32hEcy2F7JQaOqZfgk38KY6rDMKFBiGHNt+iGPgCNYd0/s/sbAb2fgN5JQC9Wq8bkR0AzioOOx3Xo30mGbnY+tNMKoJOQCm03qfnFxRf6E1yUFAqZJcyuZRWuQmB+TWHJcgJfkjPxImcSSIUsXviMx/O9DvqfALrPDjb6nhuBAWkZ5JFKKTYuIqhz4FUdAo9CGwzO7Ra2LjUg0w9OxdlwyKxAXzHQm8lDi4HeAT1WMPSHnYXR7aswKE6Gfl4K9PdfgZ6+uG8XSmMbKyXD/LsEmFduglH2NHA7rA3Hvg+Ve1/gYO4KNFRvQUPLQVRU7MG4yn1dJ4eiULAo3JhW9xsa77+Hml8GY8FQ425uAM5wRRivNoPlTjs4XhoH35oLGFZ/S/wglyDkbWmrrsUAvY+A3kHlSwJ6ihKzCvLnuQyElmIs9LdfhmHxA+jn5kI3jcrRFOjxU6DTbTx9DybsOBh0f034EeYEVyaFD0IYhnQ9y1pTIsiPvU5AnKYkUBL78yKmQhDLgDRPSWtPp/HFkFtHqFCfRBr73wX67qsD+qFsEubCnqKBAZllcCkkT12RjSHVMfApH0bJXfcH+aQGZg6FU1EWeeoK2NwgoMM3Q++zP/fq/Smf2g392ZEwzk2Acfl9GBHURmuSYPyn132oHBizH8B8wjX0SadQI2cWtOZZQbHTdEgRn8XN93EiczFayn5GU3Mg7lJMPab5SEeoCWZZ0TF4Ne/A/ZSPUbXdDz9Qdddrrk/KtcwR7jX34VXDzGCFGFT0GzyLu922x069kdiv145tOu34jlOHBWoz4arUAZQt0LYOhmFcHJ2H6zAsYnZDc2FwKhv60+m9UQrLUJ4hSYQAVhpM1O6jj30EDD33Q6frZyoY8cMVaWZZR560kuB5V9H6iVUas+Py5L1/IHsT2ZldR4nEkMdkUd8Y8tYd43mLIMhYhenDWvgjQSQiGFOkiEv0rEAzK2u8yG10M2WwBWFdb6q9NKDNd6rCOuYD9L2VI/57QMfcEniU5cCnJgG+lR9haAnz4MzT5ZjmA4e8HBqnGtYXamF+nK7bpx0uwHxoqGyE3sKD5HHjYVJ1C6Z5qTD5Ph2G1hnQEV/0LBhxU2E+4yYsbgTCJGsuNBfYQrnjA0CPxDo2CRYJ0xGesgD1ZWvQ3LQbKeSJ54uC0UcUDVVRGExFR/FB2y7cSf4C+Zv9sXSUeQ9P2z2pQdnmBHQsPKqKqFCyWJsM75o1GMw8O/iEhFZs/KK9CD9wRfhCTYTP1dqwnBOHrQYz8IuuH5ZxxI/MLQZH5kfoeu6D4cVQGNecgXHFbRgXZsD4Xg5MjqfDeE0KTBbRDLXsLiwOR8HkxCJoOs+Eavdr08ZBBGdYP7rYzAZILsH3LYUYtgSsAXlYRwLqW0r8Ksl2id4/Onaz47IE+kayUfwddYhsgwkqXRrLgOpHEuyhVF9B7ytoTAL//qNjeFagGfGEi5nvYPEifqOx/ek4p1J/8aKBWC8N6Icy2+oL6zOhECTmw46SuoHZpXBn/pK7/DK8K1bCp3Q0vAv7wqfIBD55OuS9teFVYASPfAFccseThw+E4Ho5LOMqYB6ZCeOdK6H1bleJH2sOOPZradqlC3otDqY5F2GafQmmCZdgFnMBZteEML2yCnprh0CZWVp66gbDuD5Q2uSLUacm43jSB0gq+h55JeuRX7wRqUUbkJL8DS4GTcPqCdZgduZ6XiZjgvcp9fIY3aAH/yY+3KvcMDBjLSXQBXDML4VbaQG8a9PgUxcOzyIneKY/Or6FHDO8q7INY+RiMFJaJijE4i2VeEylej/FDs99TAPH8Dvofv8bDK/vhVHxMRhX0W+vOgXTijiY5UXANGkNnYeRUGN2VrsPNx6XVaQNgRNM03sBgUjeOKJJ/Cr+LNzFsg61YB5/elyKtic0qM031CaZAG0gqJnVEuYBIoI49gy9D6DXrQR3GoU2j3YE+WE2FI9TGBG1FLywnhNbPt1Y/OhY+o5iGqsGNmdLaVxfqZUB+g0Iztwi2AOkNZ3FCzOm30bHeHK9tKYHKfPZMFhlAtM9c2EpjALv93zY3qlE/8xyOOUVUTiSBrfy83CvDIdbRZC4uJSGwzHzd0qgkmEVfRnGW/dC79vPobtkFLRmm0HDpVt43MnrzoOm/dfQeeOf0P3wB+guJogXrIDuhHfAsdOFbKdQ5GkaYQbNNYNht2c8/AOnYNKB6Ri//Q14zRwIuohdPC76pCbWKGFCkx9GNC7B0NZD8CiJh8Odi7A59zud7EuwvU4hVUYZBhUXwqsqA56V0RiUM1Dam36UoiyFuprQhc6fRZuKKhV5+rcLKD2hrPQ+NPsvgNb0j6C9eCG0v/kU2l9/BK0ZM8EdRJQ833noG8Qib6lDkA0lYD6i8GIJlffZ/IhhbJtQjW4TP164EiWWztTnH9T+a4L/MxpjAn02hWWYDAQnefSZzm7Io7zDOpiSzGh3grwPwd3zDccPZdH4phBEkXcWBrD4wlE07qObw5pmBUGsK43T/YPfgmAFWEe5U2EeCXhGcV5nQ3u2KrTf6w+jdTNhtud7mB/ZC4vg43QAwbAMDYLF0e3os+8HGP80D7oLx0F9dD+oj9AGZ4Y85K0Yj/Vs3kQiFgeybFPIySiDzdwAz9O3JzHjPNtYk8gjv948FOOatlGodR0Dk07Bau9n0F8wFBp+luBO1CXeuDD51Q3830PRP7UIzgUlcC0vhHPRSdic6eI53ecT3W0sKyjI2EFRxhzyz3sOO8voBkEUTclYhAyshCwr642PR79diwlbBOEs8vLMFjgbbuelhpeoz5rEDxsNNl/+9ON5RWJOLsXCysQdh5IhWWbzhUmoel6v/l/RxGpZTKgbh3EtEZQMp5AX2ASd2f3AVu7695ky/7nOuc2U/BZSCFIGp+I82F/rfprsVa/+Mk0sZ2F0tTvGNZ+gRO8B7C/HQ92beWine+/IDWDBbJUmbBN/hUNOGRyyStH34vfQeP3ZV4R61atXIu9Kefg1rIB/XRJciwso9nymLXmxbP+wxcCsVAxIKwfv1AZoDH96jN6rXr1SuVeowKsuFINrs+BSXATbc59JLU/XwCwdDMw7B/vUEpgHfQYZ7v9HCNar/2E55ynDpSwYrhXF4uKUeQiY0/Oy3kM555nCITcJgmvp0F30Yo8L9KpXL1X9E2XhkPoVBuYWwbmolKDOhmv+WHiXyGNkgbTRE1pOublXkRycCz+AfUoRzPdsgKJN1w/19KpXf7n6xlnCPikE/SkWdswrozDkNoZUfIWhFTYYWaPy4a6NkgSR2XAZXSOLIWUWcCv7FP1T7sH8wFZwp7ycxz971auXIm4AG+b77MFLEKLv7ULJMy0FefCsPAOv0t0YUrIMg0s+gVfxYrgVbIJLUSzsrl2F2ZZl4L7J/Pdp/956ca969UrEna0O41/HwSJ4F3in42Fz5Trsbt5Bv3u30e9uImyvnoV15GGY/LIA6kOZP1966pZ8r3r1n5eqhwZ0F/aB4ToHGK9zh/FPHjD60RE6H1tDaaA2cdy7mvFfI+BffksPNrEksu0AAAAASUVORK5CYII="},function(e,t,n){var r,i;r=[n(53),n(1),n(0),n(2),n(3),n(1327),n(29),n(139)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(r){r=t(r,t.EMPTY_OBJECT);var i=r.mapId,u=r.url;n(u)||(u="https://{s}.tiles.mapbox.com/v4/"),this._url=u;var h=a.createIfNeeded(u),d=o.getAccessToken(r.accessToken);this._mapId=i,this._accessToken=d,this._accessTokenErrorCredit=e.clone(o.getErrorCredit(r.accessToken));var f=t(r.format,"png");/\./.test(f)||(f="."+f),this._format=f;var p=h.getUrlComponent();l.test(p)||(p+="/"),p+=i+"/{z}/{x}/{y}"+this._format,h.url=p,h.setQueryParameters({access_token:d});var m;n(r.credit)?"string"==typeof(m=r.credit)&&(m=new e(m)):m=c,this._resource=h,this._imageryProvider=new s({url:h,credit:m,ellipsoid:r.ellipsoid,minimumLevel:r.minimumLevel,maximumLevel:r.maximumLevel,rectangle:r.rectangle})}var l=/\/$/,c=new e('&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a> &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/">Improve this map</a></strong>');return r(u.prototype,{url:{get:function(){return this._url}},ready:{get:function(){return this._imageryProvider.ready}},readyPromise:{get:function(){return this._imageryProvider.readyPromise}},rectangle:{get:function(){return this._imageryProvider.rectangle}},tileWidth:{get:function(){return this._imageryProvider.tileWidth}},tileHeight:{get:function(){return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._imageryProvider.errorEvent}},credit:{get:function(){return this._imageryProvider.credit}},proxy:{get:function(){return this._imageryProvider.proxy}},hasAlphaChannel:{get:function(){return this._imageryProvider.hasAlphaChannel}}}),u.prototype.getTileCredits=function(e,t,r){if(n(this._accessTokenErrorCredit))return[this._accessTokenErrorCredit]},u.prototype.requestImage=function(e,t,n,r){return this._imageryProvider.requestImage(e,t,n,r)},u.prototype.pickFeatures=function(e,t,n,r,i){return this._imageryProvider.pickFeatures(e,t,n,r,i)},u._defaultCredit=c,u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(53),n(0)],void 0!==(i=function(e,t){"use strict";var n={};n.defaultAccessToken=void 0;var r,i=!1,o="<b>This application is using Cesium's default Mapbox access token.  Please create a new access token for the application as soon as possible and prior to deployment by visiting <a href=https://www.mapbox.com/account/apps/>https://www.mapbox.com/account/apps/</a>, and provide your token to Cesium by setting the Cesium.MapboxApi.defaultAccessToken property before constructing the CesiumWidget or any other object that uses the Mapbox API.</b>";return n.getAccessToken=function(e){return t(e)?e:t(n.defaultAccessToken)?n.defaultAccessToken:(i||(console.log(o),i=!0),"pk.eyJ1IjoiYW5hbHl0aWNhbGdyYXBoaWNzIiwiYSI6ImNpd204Zm4wejAwNzYyeW5uNjYyZmFwdWEifQ.7i-VIZZWX8pd1bTfxIVj9g")},n.getErrorCredit=function(i){if(!t(i)&&!t(n.defaultAccessToken))return t(r)||(r=new e(o,!0)),r},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(1),n(0),n(2),n(3),n(36),n(223),n(161)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e){e=t(e,t.EMPTY_OBJECT),this._tileCache={},this._tilesRequestedForInterval=[];var n=this._clock=e.clock;this._times=e.times,this._requestImageFunction=e.requestImageFunction,this._reloadFunction=e.reloadFunction,this._currentIntervalIndex=-1,n.onTick.addEventListener(this._clockOnTick,this),this._clockOnTick(n)}function l(e,t,n){return e+"-"+t+"-"+n}function c(e){var t=e.split("-");if(3===t.length)return{x:Number(t[0]),y:Number(t[1]),level:Number(t[2])}}function h(e){var t=e._times;if(n(t)){var r=e._clock,i=r.currentTime,a=r.canAnimate&&r.shouldAnimate,s=r.multiplier;if(a||0===s){var u,l=t.indexOf(i);if(!(l<0)){var c=t.get(l);return s>0?(u=o.secondsDifference(c.stop,i),++l):(u=o.secondsDifference(c.start,i),--l),u/=s,l>=0&&u<=5?t.get(l):void 0}}}}function d(e,t,r){var i=e._times.indexOf(r.start),o=e._tileCache,u=o[i];n(u)||(u=o[i]={});var l=t.key;if(n(u[l]))return!0;var h=c(l),d=new a({throttle:!0,throttleByServer:!0,type:s.IMAGERY,priorityFunction:t.priorityFunction}),f=e._requestImageFunction(h.x,h.y,h.level,d,r);return!!n(f)&&(u[l]={promise:f,request:d},!0)}return r(u.prototype,{clock:{get:function(){return this._clock},set:function(e){this._clock!==e&&(this._clock=e,this._clockOnTick(e),this._reloadFunction())}},times:{get:function(){return this._times},set:function(e){this._times!==e&&(this._times=e,this._clockOnTick(this._clock),this._reloadFunction())}},currentInterval:{get:function(){return this._times.get(this._currentIntervalIndex)}}}),u.prototype.getFromCache=function(e,t,r,i){var o,a=l(e,t,r),s=this._tileCache[this._currentIntervalIndex];if(n(s)&&n(s[a])){var u=s[a];o=u.promise.otherwise(function(e){throw i.state=u.request.state,e}),delete s[a]}return o},u.prototype.checkApproachingInterval=function(e,t,r,i){var o=l(e,t,r),a=this._tilesRequestedForInterval,s=h(this),u={key:o,priorityFunction:i.priorityFunction};n(s)&&d(this,u,s)||a.push(u),a.length>=512&&a.splice(0,256)},u.prototype._clockOnTick=function(e){var t=e.currentTime,r=this._times,i=r.indexOf(t),o=this._currentIntervalIndex;if(i!==o){var a=this._tileCache[o];for(var s in a)a.hasOwnProperty(s)&&a[s].request.cancel();return delete this._tileCache[o],this._tilesRequestedForInterval=[],this._currentIntervalIndex=i,void this._reloadFunction()}var u=h(this);if(n(u))for(var l=this._tilesRequestedForInterval,c=!0;c&&0!==l.length;){var f=l.pop();(c=d(this,f,u))||l.push(f)}},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){if(e.dataflowUrlComponent){var t="/"+e.dataUrlComponent+"/",n=e._originalUrl.lastIndexOf(t);if(n>=0){var r=e._originalUrl.slice(n+t.length);if(r.indexOf("/")>=0&&r.indexOf("/")<r.length-1)return;var i="/"+e.dataflowUrlComponent+"/";return e._originalUrl.replace(t,i)}}}function i(e,t){e._tableStructure.columns=t,0===e._tableStructure.columns.length&&(e._regionMapping.hideImageryLayer(),e.terria.currentViewer.notifyRepaintRequired()),e.terria.pickedFeatures=void 0}function o(e,t){return(e.totalValueIds["*"]||[]).concat(e.totalValueIds[t]||[])}function a(e,t){var n=t.trim();if(e.cleanFootnotes){var r=n.length;if(n.indexOf("(")===r-3&&n.indexOf(")")===r-1)return n.slice(0,r-3)}return n}function s(e,t){function n(e,t,n){var r=e[t];if(!W(r))return function(){return!0};try{var i=r.map(function(e){return new RegExp("^"+e+"$")});return function(e){var t=r.indexOf(e.id)>=0||i.map(function(t){return e.id.match(t)}).some(W);return n?t:!t}}catch(e){return function(e){var t=r.indexOf(e.id)>=0;return n?t:!t}}}for(var r=[],i=0;i<t.length;i++){var a=t[i],s=W(a.keyPosition)?a.keyPosition:i,l=a.values.filter(n(e.whitelist,a.id,!0)).filter(n(e.blacklist,a.id,!1));"id"===e.sortValues?l=l.sort(function(e,t){return V(e.id,t.id)}):"name"!==e.sortValues&&!0!==e.sortValues||(l=l.sort(function(e,t){return V(e.name,t.name)})),u(l,o(e,a.id)),r[s]={id:a.id,name:a.name,values:l}}return r}function u(e,t){if(W(t))for(var n=t.length-1;n>=0;n--){var r=t[n],i=e.map(function(e){return e.id}).indexOf(r);i>=0&&e.splice(0,0,e.splice(i,1)[0])}}function l(e,t,n){return t.filter(function(t,r){return-1===e._suppressedIds.indexOf(t.id)&&(n[r].values.length>1||e.forceShowDimensionIds.indexOf(t.id)>=0)&&-1===e.aggregatedDimensionIds.indexOf(t.id)})}function c(e,t,n){W(n)||(n=t);var r=l(e,t,n).map(function(e){return e.values}),i=r.map(function(e){return e.map(function(e){return e.id})}),o=r.map(function(e){return e.map(function(e){return e.name})});return{ids:$(i),names:$(o)}}function h(e,t){for(var n,r=0;r<e.length;r++)e[r].id===t&&(n=e[r]);return n}function d(e,t){for(var n,r=0;r<e.length;r++)e[r].id===t&&(n=r);return n}function f(e,t,n){var r=h(t,e.regionTypeDimensionId),i=h(t,e.regionDimensionId);if(W(r)){var o=r.values[n||0].id;if(W(e.regionNameTemplate))return j.render(e.regionNameTemplate,{name:o});var a=o.lastIndexOf("_");if(a>=0)return o.slice(0,a)+"_code"+o.slice(a);var s=o.match(/(.+)([0-9]{4})$/);return W(s)?s[1]+"_code_"+s[2]:o+"_code"}if(W(i))return W(e.regionType)&&W(e.regionType)?e.regionType:i.id}function p(e,t){var n=h(t,e.regionDimensionId),r=h(t,e.timePeriodDimensionId);if(!W(n)&&!W(r))return[];for(var i=[],o=[],a=W(n)?n.values.length:1,s=W(r)?r.values.length:1,u=0;u<s;u++)for(var l=0;l<a;l++)W(n)&&i.push(n.values[l].id),W(r)&&o.push(r.values[u].id);var c;if(W(r)){var d=Q(e._columnOptions);1===s&&(d.type=fe.ENUM),c=new le("date",o,d)}if(!W(n))return[c];var p=f(e,t,0),m=new le(p,i,e._columnOptions);return W(r)&&W(n)?[c,m]:[m]}function m(e){return e.filter(W).reduce(function(e,t){return e+t},null)}function g(e,t,n){for(var r=[],i=l(e,t,e._fullDimensions),o=i.map(function(e){return e.id}),a=0;a<t.length;a++){var s=t[a],u=o.indexOf(s.id);u>=0?r.push(n[u]):e._suppressedIds.indexOf(s.id)>=0?r.push(void 0):r.push(s.values[0].id)}return r}function _(e,t,n,r){var i=n.join(":"),o=r[i];if(0===e.aggregatedDimensionIds.length)return W(o)?o.obsValue:null;if(1===e.aggregatedDimensionIds.length){var a=e.aggregatedDimensionIds[0],s=[],u=d(t,a),l=h(t,a);return W(l)?(l.values.forEach(function(e){n[u]=e.id;var t=n.join(":");e=r[t],W(e)&&s.push(e.obsValue)}),m(s)):(console.warn("Tried to aggregate on a dimension that doesn't exist, "+a),W(o)?o.obsValue:null)}console.warn("SDMX-JSON aggregatedDimensionIds - only a single dimension id is implemented.")}function v(e,t,n,r){var i=Q(e._columnOptions);i.tableStructure=e._tableStructure;for(var o=[],a=0===e._concepts.length,s=h(t,e.regionDimensionId),u=d(t,e.regionDimensionId),l=h(t,e.timePeriodDimensionId),c=d(t,e.timePeriodDimensionId),f=W(s)?s.values.length:1,p=W(l)?l.values.length:1,m=0;m<n.ids.length;m++){for(var v=n.ids[m],A=g(e,t,v),y=n.names[m].filter(function(e){return!!e}).join(" ")||"Value",b=v.join(" ")||"Value",w=[],x=0;x<p;x++)for(var E=0;E<f;E++)W(u)&&(A[u]=s.values[E].id),W(c)&&(A[c]=l.values[x].id),w.push(_(e,t,A,r));i.id=b;var C=new le(y,w,i);a&&(C.isActive=!0),o.push(C)}return o}function A(e){return 0===e._concepts.length?[]:e._concepts[0].items.map(function(e){return e.activeItems.map(function(e){return e.id})})}function y(e){if(0===e._concepts.length)return[];var t=e._concepts[0].items,n=t.map(function(e){var t=e.items[0].id;return e.exclusiveChildIds.indexOf(t)>=0?[t]:e.allowMultiple?void 0:e.activeItems.map(function(e){return e.id})});return n.every(W)?n:void 0}function b(e,t){t.forEach(function(t){if(W(e.selectedInitially)){var n=e.selectedInitially[t.id];if(n){var r=t.values.map(function(e){return e.id});n.some(function(e){return r.indexOf(e)>=0})||(console.warn("Ignoring invalid initial selection "+n+" on "+t.name),e.selectedInitially[t.id]=void 0)}}})}function w(e,t){function n(t,n,r){if(!W(e.selectedInitially))return 0===r;var i=e.selectedInitially[t];return W(i)?i.indexOf(n.id)>=0:0===r}var r=l(e,t,t);b(e,r);var i=r.map(function(t,r){var i=-1===e.allSingleValuedDimensionIds.indexOf(t.id),s=new ee(t.name,{isOpen:!1,allowMultiple:i,requireSomeActive:!0,exclusiveChildIds:o(e,t.id)});return s.id=t.id,s.items=t.values.map(function(t,r){return new de(a(e,t.name),{parent:s,id:t.id,active:n(s.id,t,r)})}),s});return i.length>0?[new se(void 0,{items:i,isOpen:!1})]:[]}function x(e){var t=!0;if(W(e.cannotSum))if("object"===z(e.cannotSum)){var n=e._concepts[0].items;n.forEach(function(n){var r=e.cannotSum[n.id];if(W(r)){var i=n.activeItems.map(function(e){return e.id});r.some(function(e){return i.indexOf(e)>=0})&&(t=!1)}})}else t=!e.cannotSum;return t}function E(e){if(x(e))return!0;var t=e._concepts[0].items,n=[];return t.forEach(function(e){e.items.filter(function(e){return e.isActive}).length>1&&n.push('"'+e.name+'"')}),!(n.length>0)||(e.terria.error.raiseEvent(new he({sender:e,title:"Cannot calculate a total",message:"You have selected multiple values for "+n.join(" and ")+", but the measure you now have chosen cannot be totalled across them.             As a result, there is no obvious measure to use to shade the regions (although you can still choose a region to view its data).            To see the regions shaded again, please select only one value for "+n.join(" and ")+", or select a different measure."})),!1)}function C(e,t){if(!E(e))return[];var n=Q(e._columnOptions);n.tableStructure=e._tableStructure,n.id="total selected";var r=A(e);if(0===r.length)return[];var i=$(r),o=t.ids.map(function(e){return e.join("+")}),a=i.map(function(e){var t=e.join("+");return o.indexOf(t)}),s=e._tableStructure.columns.slice(e._numberOfInitialColumns,t.ids.length+e._numberOfInitialColumns),u=s.filter(function(e,t){return a.indexOf(t)>=0});if(0===u.length)return[];var l=new le("Total selected",le.sumValues(u),n);return l.isActive=!e.displayPercent,l}function S(e,t,n){var r=Q(e._columnOptions);r.tableStructure=e._tableStructure,r.id="region percent";var i=t.values.map(function(e,t){var r=n.values[t];if(!r)return null;var i=e/r;return i<.01?Math.round(1e3*i)/10:Math.round(1e4*i)/100}),o=new le("Percent selected in region",i,r);return o.isActive=e.displayPercent,o}function T(e,t,n){if(t.every(function(e){return e.length>0})){var r=0,i=n.filter(function(t){return e.timePeriodDimensionId!==t.id}),o=i.map(function(n,i){return n.id===e.regionDimensionId?[""]:e.aggregatedDimensionIds.indexOf(n.id)>=0?[""]:1===n.values.length&&-1===e.forceShowDimensionIds.indexOf(n.id)?[n.values[0].id]:t[r++]});if(o.some(function(e){return!W(e)}))throw new he({sender:e,title:"Dimension has no allowed values",message:"One of this catalog item's dimensions has no allowed values. This can be caused by a badly-formed whitelist."});return o.map(function(e){return e.join("+")}).join(".")}}function I(e){if(W(e._dataflowUrl)){var t=A(e),n=T(e,t,e._fullDimensions);if(!W(n))return;return R(e,n)}var r=c(e,e._fullDimensions),o=e._tableStructure.columns.slice(0,r.ids.length+e._numberOfInitialColumns);return o.length>0&&(o=o.concat(C(e,r)),i(e,o)),J()}function M(e,t){var n=e._originalUrl;return"/"!==n[n.length-1]&&(n+="/"),n+=t+"/"+e.providerId,W(e.startTime)?(n+="?startTime="+e.startTime,W(e.endTime)&&(n+="&endTime="+e.endTime)):W(e.endTime)&&(n+="?endTime="+e.endTime),n}function O(e){var t=U(e,e._dataflowUrl);return Z(t).then(function(t){var n=t.structure.dimensions.observation;if(e._fullDimensions=s(e,n),!W(d(e._fullDimensions,e.regionDimensionId)))throw k(e);return e._concepts=w(e,e._fullDimensions),I(e)})}function P(e){return W(d(e._loadedDimensions,e.regionDimensionId))}function D(e,t){return e._type=t,e}function B(e){var t={};return e.forEach(function(e){t[e._key]=e}),t}function L(e,t){return B(ae.response.mapDataSetsToArray(t))}function N(e,t){return s(e,ae.response.mapComponentsToArray(t,D).filter(function(e){return"dimensions"===e._type}))}function R(e,t){var n,r,o=[];if(W(t)){n=M(e,t),e.url=n;var a=y(e);if(W(a)&&(r=T(e,a,e._fullDimensions),W(r)&&!W(e._regionTotals[r]))){var s=M(e,r);o.push(Z(re(e,s)))}}else n=e.originalUrl;return o.push(Z(re(e,n))),e.isLoading=!0,J.all(o).then(function(n){var o=n[n.length-1];if(2===n.length){var a=n[0];ae.response.prepare(a),e._regionTotals[r]={dataSets:L(e,a),dimensions:N(e,a)}}var s=e._regionTotals[r];ae.response.prepare(o);var u=L(e,o);if(e._loadedDimensions=N(e,o),!P(e))throw k(e);W(e._fullDimensions)||(e._fullDimensions=e._loadedDimensions,e._concepts=w(e,e._fullDimensions));var l=c(e,e._loadedDimensions,e._fullDimensions),h=p(e,e._loadedDimensions);e._numberOfInitialColumns=h.length;var d=v(e,e._loadedDimensions,l,u),f=[];if(W(s)&&r!==t){var m=c(e,s.dimensions,e._fullDimensions);f=v(e,e._loadedDimensions,m,s.dataSets),f.forEach(function(e,t){e.id="region total"+(t>0?"_"+t:"")})}e._regionMapping.isLoading=!0,e._tableStructure.columns=h.concat(d);var g=C(e,l),_=[];W(g)&&f.length>0?(e.canDisplayPercent=x(e),e.canDisplayPercent&&(_=S(e,g,f[0]))):e.canDisplayPercent=!1;var A=e._tableStructure.columns.concat(g).concat(f).concat(_);return i(e,A),e._tableStructure.setActiveTimeColumn(e._tableStyle.timeColumn),e._regionMapping.loadRegionDetails()}).then(function(t){if(!t)throw k(e);return e._regionMapping.setRegionColumnType(),e._regionMapping.isLoading=!1,e.isLoading=!1,J()}).otherwise(function(t){e._regionMapping.isLoading=!1,e.isLoading=!1,i(e,[]),404===t.statusCode?e.terria.error.raiseEvent(new he({sender:e,title:t.title||"No data",message:"There is no data available for this combination. Please choose again."})):e.terria.error.raiseEvent(new he({sender:e,title:t.title||"No data available",message:t.message||t.response}))})}function k(e){return new he({sender:e,title:"No regions recognized",message:'This dataset cannot be shown geographically, because no regions were recognized in it. Please report this issue by sending an email to <a href="mailto:'+e.terria.supportEmail+'">'+e.terria.supportEmail+"</a>.</p>"})}function F(e){var t=new H(e);return t.search(""),t.toString()}function U(e,t){return re(e,F(t))}var z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j=n(271),H=n(33),V=n(356);V.insensitive=!0;var Q=n(27),G=n(1),W=n(0),q=n(2),Y=n(94),K=n(6),X=n(13),Z=n(44),J=n(7),$=n(592),ee=n(259),te=n(14),ne=n(83),re=n(32),ie=n(316),oe=n(81),ae=n(1330),se=n(638),ue=n(234),le=n(261),ce=n(124),he=n(22),de=n(260),fe=n(85),pe=function(e,t){ue.call(this,e,t),this._originalUrl=t,this._columnOptions=void 0,this._allDimensions=void 0,this._loadedDimensions=void 0,this._numberOfInitialColumns=void 0,this._suppressedIds=[],this._dataflowUrl=void 0,this._concepts=[],this._regionTotals={},this.dataUrlComponent=void 0,this.dataflowUrlComponent=void 0,this.providerId=void 0,this.regionTypeDimensionId=void 0,this.regionDimensionId=void 0,this.frequencyDimensionId=void 0,this.timePeriodDimensionId=void 0,this.regionType=void 0,this.regionNameTemplate=void 0,this.selectedInitially=void 0,this.singleValuedDimensionIds=[],this.startTime=void 0,this.endTime=void 0,this.whitelist={},this.blacklist={},this.aggregatedDimensionIds=[],this.sortValues=null,this.totalValueIds={},this.cleanFootnotes=!1,this.canDisplayPercent=!1,this.displayPercent=!1,this.cannotSum=void 0,this.cannotDisplayPercentMap=void 0,this.displayChoicesBeforeLegend=!0,this.forceShowDimensionIds=[],X.track(this,["_concepts","displayPercent","canDisplayPercent"]),ne(this,"concepts",{get:function(){return this._concepts}}),ne(this,"dataViewId",{get:function(){return T(this,A(this)||[],this._fullDimensions||[])}}),X.defineProperty(this,"activeConcepts",{get:function(){var e=function(e){return e.isActive};if(W(this._concepts)&&this._concepts.length>0)return this._concepts.map(function(t){return t.getNodes(e)})}}),X.getObservable(this,"activeConcepts").subscribe(function(){var e=this;this.isLoading||oe(function(){return I(e)})},this),X.getObservable(this,"canDisplayPercent").subscribe(function(e){e||(this.displayPercent=!1)},this),X.getObservable(this,"displayPercent").subscribe(function(e){var t=this;W(t._tableStructure)&&t._tableStructure.columns.forEach(function(n){e?n.isActive="region percent"===n.id:t._concepts.length>0&&(n.isActive="total selected"===n.id)})},this)};te(ue,pe),q(pe.prototype,{type:{get:function(){return"sdmx-json"}},typeName:{get:function(){return"SDMX-JSON"}},propertiesForSharing:{get:function(){return pe.defaultPropertiesForSharing}},serializers:{get:function(){return pe.defaultSerializers}},allSingleValuedDimensionIds:{get:function(){return[this.regionTypeDimensionId,this.frequencyDimensionId].concat(this.singleValuedDimensionIds)}},originalUrl:{get:function(){return G(this._originalUrl,this.url)}}}),pe.defaultPropertiesForSharing=Q(ue.defaultPropertiesForSharing),pe.defaultPropertiesForSharing.push("selectedInitially"),pe.defaultPropertiesForSharing.push("displayPercent"),K(pe.defaultPropertiesForSharing),pe.defaultSerializers=Q(ue.defaultSerializers),pe.defaultSerializers.selectedInitially=function(e,t){t.selectedInitially={},0!==e._concepts.length&&e._concepts[0].items.forEach(function(e){t.selectedInitially[e.id]=e.items.filter(function(e){return e.isActive}).map(function(e){return e.id})})},pe.defaultSerializers.activeConcepts=function(){},pe.defaultSerializers.url=function(e,t){t.url=e.originalUrl},K(pe.defaultSerializers),pe.prototype._getValuesThatInfluenceLoad=function(){return[this.originalUrl]},pe.prototype._load=function(){this._originalUrl=this.originalUrl,this.regionTypeDimensionId=G(this.regionTypeDimensionId,"REGIONTYPE"),this.regionDimensionId=G(this.regionDimensionId,"REGION"),this.frequencyDimensionId=G(this.frequencyDimensionId,"FREQUENCY"),this.timePeriodDimensionId=G(this.timePeriodDimensionId,"TIME_PERIOD"),this.providerId=G(this.providerId,"all"),this.dataUrlComponent=G(this.dataUrlComponent,"data"),this.dataflowUrlComponent=G(this.dataflowUrlComponent,"dataflow"),W(this.cannotDisplayPercentMap)&&(Y("cannotDisplayPercentMap is deprecated. Use cannotSum instead."),W(this.cannotSum)||(this.cannotSum=this.cannotDisplayPercentMap)),this._suppressedIds=[this.regionDimensionId,this.timePeriodDimensionId];var e=this._tableStyle;return this._columnOptions={displayDuration:e.displayDuration,displayVariableTypes:ce.defaultDisplayVariableTypes,replaceWithNullValues:e.replaceWithNullValues,replaceWithZeroValues:e.replaceWithZeroValues},this._tableStructure=new ce(this.name,this._columnOptions),this._regionMapping=new ie(this,this._tableStructure,e),this._dataflowUrl=r(this),W(this.metadataUrl)||(this.metadataUrl=this._dataflowUrl),this._dataflowUrl?O(this):R(this)},e.exports=pe},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={request:{},response:{}};i.version="0.5.2";i.response.obsCount=function(e){var t=function(e,t){if("object"===r(t.observations)&&null!==t.observations)return e+Object.keys(t.observations).length;var n=function(e,n){return void 0!==t.series[n].observations&&void 0!==t.series[n].observations?e+Object.keys(t.series[n].observations).length:e};return void 0!==t.series&&null!==t.series?e+Object.keys(t.series).reduce(n,0):e};return e.dataSets.reduce(t,0)},i.response._mapComponents=function(e,t,n){void 0!==n&&null!==n||(n=!1),["dimensions","attributes"].forEach(function(r){void 0!==e.structure[r]&&null!==e.structure[r]&&["dataSet","series","observation"].forEach(function(i){"dataSet"===i&&n||void 0!==e.structure[r][i]&&null!==e.structure[r][i]&&e.structure[r][i].forEach(function(e){t(e,r,i)})})})},i.response.mapComponentsToArray=function(e,t,n,r){var o=[];if(void 0===e||null===e)return o;void 0!==t&&null!==t||(t=i.response.identity);var a=function(e,n,i){return o.push(t.call(r,e,n,i))};return i.response._mapComponents(e,a,n),o},i.response.mapComponentsToObject=function(e,t,n,r){var o={};if(void 0===e||null===e)return o;void 0!==t&&null!==t||(t=i.response.identity);var a=function(e,n,i){o[e._propertyName]=t.call(r,e,n,i)};return i.response._mapComponents(e,a,n),o},i.response.mapDataSetsToArray=function(e,t,n,r){var o=[];if(void 0===e||null===e)return o;void 0!==t&&null!==t||(t=!1),void 0!==n&&null!==n||(n=i.response.obsToStructureSpecific);var a=e.structure.dimensions,s=e.structure.attributes,u=a.dataSet.length+a.series.length+a.observation.length,l=[],c=[],h=[],d=[],f=[].concat(a.series,a.observation),p=[].concat(s.series,s.observation),m=new Array(u),g=new Array(u),_=function(e){return void 0!==e.keyPosition&&null!==e.keyPosition?e.keyPosition:"TIME_PERIOD"===e.id?u-1:null},v=function(t,n){var r=e.structure.dimensions.observation[n],i=_(r);g[i]=r.values[t].id},A=function(e,t,i,a){if(void 0!==e&&null!==e)for(var s in e){var u=s.split(":").map(Number);u.forEach(v);var l=e[s];null!==l&&o.push(n.call(r,g.join(":"),t,l[0],i.concat(u),a.concat(l.slice(1)),f,p))}},y=function(t,n){var r=e.structure.dimensions.series[n],i=_(r);m[i]=g[i]=r.values[t].id},b=function(e){if(void 0!==e&&null!==e)for(var t in e){var n=t.split(":").map(Number);n.forEach(y);var r=e[t],i=[];Array.isArray(r.attributes)&&(i=r.attributes),A(r.observations,m.join(":"),l.concat(n),h.concat(i))}};return t||(c=e.structure.dimensions.dataSet.map(function(e){return e.values[0]}),l=c.map(function(e){return 0}),f=e.structure.dimensions.dataSet.concat(f),d=e.structure.attributes.dataSet.map(function(e){return e.values[0]}),h=d.map(function(e){return 0}),p=e.structure.attributes.dataSet.concat(p)),e.structure.dimensions.dataSet.forEach(function(e){var t=_(e);m[t]=g[t]=e.values[0].id}),e.dataSets.forEach(function(e){void 0!==e.series?b(e.series):A(e.observations,null,l,h)}),o},i.response.identity=function(e){return e},i.response.obsToStructureSpecific=function(e,t,n,r,i,o,a){var s={_key:e,_seriesKey:t,obsValue:n};return r.forEach(function(e,t){s[o[t]._propertyName]=o[t].values[e]}),i.forEach(function(e,t){s[a[t]._propertyName]=a[t].values[e]}),s},i.response.prepare=function(e){var t=function(e,t,n){void 0!==e[t]&&null!==e[t]||(e[t]=n)};["dataSet","series","observation"].forEach(function(n){t(e.structure.dimensions,n,[]),t(e.structure.attributes,n,[])}),i.response.updateComponentValues(e,i.response.addStartAndEndDates),i.response.updateComponentValues(e,i.response.addIndex),i.response.updateComponents(e,i.response.addPropertyName),i.response.addKeyPositionToDimensions(e)},i.response.addStartAndEndDates=function(e){return void 0!==e.start&&null!==e.start&&void 0!==e.end&&null!==e.end&&(e._startDate=new Date(e.start),e._endDate=new Date(e.end),!0)},i.response.addIndex=function(e,t,n,r){return e._index=r,!0},i.response.normalizeSdmxIdString=function(e){var t=function(e,t){return 0===t?e:e.substr(0,1).toUpperCase()+e.substr(1)};return e.toLowerCase().split("_").map(t).join("")},i.response.addPropertyName=function(e){return e._propertyName=i.response.normalizeSdmxIdString(e.id),!0},i.response.addKeyPositionToDimensions=function(e){var t=function(e){return Array.isArray(e)?e:[]},n=[].concat(t(e.structure.dimensions.dataSet),t(e.structure.dimensions.series),t(e.structure.dimensions.observation)),r=function(e,t){return void 0!==e.keyPosition&&null!==e.keyPosition||("TIME_PERIOD"===e.id||void(e.keyPosition=t))};n.forEach(r)},i.response.updateComponents=function(e,t,n){if(void 0===e||null===e)return!1;if(void 0===t||null===t)return!0;var r=0,i=function(e,i){if(void 0!==e&&null!==e){var o=function(e,o,s){void 0!==e&&null!==e&&(r+=!t.call(n,e,i,a,o,s))};for(var a in e)e[a].forEach(o)}};return i(e.structure.dimensions,"dimension"),i(e.structure.attributes,"attribute"),0===r},i.response.updateComponentValues=function(e,t,n){var r=function(e,r,i){if(void 0===e.values||null===e.values)return!0;var o=0,a=function(e,a){void 0!==e&&null!==e&&(o+=!t.call(n,e,r,i,a))};return e.values.forEach(a),0===o};return i.response.updateComponents(e,r,n)},i.response.mapDataSetsForD3=function(e){return i.response.prepare(e),i.response.mapDataSetsToArray(e,!1,i.response.obsToStructureSpecific)},i.response.mapComponentsForD3=function(e){return i.response.prepare(e),i.response.mapComponentsToObject(e,i.response.identity)},i.response.mapDataSetsToJsonStat=function(e){var t=0,n=0,r=[],o={id:[],size:[],role:{time:[]}},a={},s=function(e){var t={label:e.name,category:{label:{}}},n=function(e){t.category.label[e.id]=e.name},r=function(e,n){t.category.index[e.id]=n};e.values.forEach(n),1<e.values.length&&(t.category.index={},e.values.forEach(r)),o[e.id]=t,o.id.push(e.id),o.size.push(e.values.length),"time"===e.role&&o.role.time.push(e.id)},u=function(e){return function(t,n,i){return t+n*r[e+i]}},l=function(e,t,n,r){var i,o,a=u(n);for(var s in e)i=s.split(":").map(Number),o=i.reduce(a,r),t.value[o]=e[s][0]},c=function(e,r){var i,o,a=u(t);for(var s in e)i=s.split(":").map(Number),o=i.reduce(a,0),l(e[s].observations,r,n,o)},h=function(e,n){var r={value:{},dimension:o};null!==e.observations&&l(e.observations,r,t,0),null!==e.series&&c(e.series,r),a["dataset_"+n]=r};i.response.prepare(e),void 0!==e.structure.dimensions.dataSet&&null!==e.structure.dimensions.dataSet&&(t=e.structure.dimensions.dataSet.length,e.structure.dimensions.dataSet.forEach(s)),void 0!==e.structure.dimensions.series&&null!==e.structure.dimensions.series&&(n=e.structure.dimensions.series.length+t,e.structure.dimensions.series.forEach(s)),void 0!==e.structure.dimensions.observation&&null!==e.structure.dimensions.observation&&e.structure.dimensions.observation.forEach(s);var d=1,f=!0,p=function(e,t){var n=d;return d*=e,1===e?1:f?(f=!1,1):n};return r=o.size.slice(0).reverse().map(p).reverse(),e.dataSets.forEach(h),a},e.exports=i},function(e,t,n){"use strict";function r(e,t){var n=b(e.requestTemplate,V.defaultRequestTemplate),r=A.render(n,t);return I({url:N(e,e.url,"0d"),responseType:"document",method:"POST",overrideMimeType:"text/xml",data:r,headers:{"Content-Type":"application/soap+xml"}}).then(function(t){if(w(t)){var n=H(t);if(n.Exception){var r="The server reported an unknown error.";throw n.Exception.ExceptionText&&(r="The server reported an error:\n\n"+n.Exception.ExceptionText),new z({sender:e,title:e.name,message:r})}if(!w(n.Body))throw new z({sender:e,title:e.name,message:"The server responded with missing body."});return n.Body}})}function i(e,t,n){var r=t&&t.defaultDuration||n&&n.defaultDuration,i=e.endDate||S.toIso8601(S.now(),0);if(w(r)){var o=_(i,"-"+r);return o<e.startDate&&(o=e.startDate),[{index:1,startDate:o,endDate:i}]}if(e.startDate)return[{index:1,startDate:e.startDate,endDate:i}]}function o(e,t){if(1===e[t].length)return e[t][0];var n=e._concepts.filter(function(e){return e.id===t})[0],r=n.items.filter(function(e){return e.isActive});if(1===r.length){var i=r[0].id;return e[t].filter(function(e){return e.identifier===i})[0]}}function a(e,t,n){return 1===e[t].length?0:e._concepts.filter(function(e){return e.id===t})[0].items.map(function(e){return e.id}).indexOf(n)}function s(e){var t=g({procedure:e.procedures.map(function(e){return e.identifier}),observedProperty:e.observableProperties.map(function(e){return e.identifier})}),n={action:"GetFeatureOfInterest",actionClass:"foiRetrieval",parameters:t,temporalFilters:i(e)};return r(e,n).then(function(t){var n=t.GetFeatureOfInterestResponse;if(!n)throw new z({sender:e,title:e.name,message:"There are no features matching your query."});if(!w(n.featureMember))throw new z({sender:e,title:e.name,message:"The server responded with an unknown feature format."});var r=n.featureMember;if(Array.isArray(r)||(r=[r]),e.representAsGeoJson)return e._geoJsonItem=f(e,r),e._geoJsonItem.load().then(function(){e.rectangle=e._geoJsonItem.rectangle});e._featureMapping=h(r)}).otherwise(function(e){throw e})}function u(e){if(e._featureMapping){var t=Object.keys(e._featureMapping);if(!e.tryToLoadObservationData||t.length>e.requestSizeLimit*e.requestNumberLimit){var n=e._tableStructure;w(n)||(n=new U(e.name));var r=d(e,n);return n.columns=r,w(e._tableStructure)?e._tableStructure.columns=n.columns:(e._tableStyle.dataVariable=null,e.initializeFromTableStructure(n)),M()}return e.loadIntoTableStructure(t).then(function(t){if(!w(t)||0===t.columns[0].values.length)throw new z({sender:e,title:e.name,message:"The Sensor Observation Service did not return any features matching your query."});var n=t.getColumnWithName("identifier").values,r=d(e,t,n);if(t.activeTimeColumnNameIdOrIndex=void 0,t.columns=t.columns.concat(r),t.idColumnNames=e._idColumnNames,e.showFeaturesAtAllTimes){t.setActiveTimeColumn(e.tableStyle.timeColumn);var i=t.finishJulianDates.map(function(e){return Number(S.toDate(e))});t.finalEndJulianDate=S.fromDate(new Date(Math.max.apply(null,i))),t.columns=t.getColumnsWithFeatureRowsAtStartAndEndDates("date","value")}w(e._tableStructure)?(t.setActiveTimeColumn(e.tableStyle.timeColumn),t.columns.filter(function(e){return"value"===e.id})[0].isActive=!0,e._tableStructure.columns=t.columns,e.isShown&&(e.isShown=!1,e.isShown=!0)):(t.name=e.name,e.initializeFromTableStructure(t))})}}function l(e){var t=[];if(!w(e.procedures)||!w(e.observableProperties))throw new E("Both `procedures` and `observableProperties` arrays must be defined on the catalog item.");if(e.procedures.length>1){var n=new O(e.proceduresName);n.id="procedures",n.requireSomeActive=!0,n.items=e.procedures.map(function(t,r){return new j(t.title||t.identifier,{parent:n,id:t.identifier,active:r===e.initialProcedureIndex})}),t.push(n),e._previousProcedureIdentifier=n.items[e.initialProcedureIndex].id,e._loadingProcedureIdentifier=n.items[e.initialProcedureIndex].id}return e.observableProperties.length>1&&(n=new O(e.observablePropertiesName),n.id="observableProperties",n.requireSomeActive=!0,n.items=e.observableProperties.map(function(t,r){return new j(t.title||t.identifier,{parent:n,id:t.identifier,active:r===e.initialObservablePropertyIndex})}),t.push(n),e._previousObservablePropertyIdentifier=n.items[e.initialObservablePropertyIndex].id,e._loadingObservablePropertyIdentifier=n.items[e.initialObservablePropertyIndex].id),t}function c(e,t){return t=w(t)?' id="'+encodeURIComponent(t)+'"':"",'<chart src="'+e+'" can-download="false"'+t+"></chart>"}function h(e){var t={};return e.forEach(function(e){var n=e.MonitoringPoint.shape;if(!w(n.Point))throw new E("Non-point feature not shown. You may want to implement `representAsGeoJson`. "+JSON.stringify(n));var r=n.Point.pos;if(w(r.split)){var i=r.split(" ");if(2===i.length){var o=e.MonitoringPoint.identifier.toString();return t[o]={lat:i[0],lon:i[1],name:e.MonitoringPoint.name,id:e.MonitoringPoint["gml:id"],identifier:o,type:e.MonitoringPoint.type&&e.MonitoringPoint.type["xlink:href"]},t[o]}}}),t}function d(e,t,n){var r=e._featureMapping,i=!w(n);w(n)||(n=Object.keys(r));var a=n.map(function(e){return r[e]}),s={tableStructure:t},u={tableStructure:t,id:"chart"},l=[new F("type",a.map(function(e){return e.type}),s),new F("name",a.map(function(e){return e.name}),s),new F("id",a.map(function(e){return e.id}),s),new F("lat",a.map(function(e){return e.lat}),s),new F("lon",a.map(function(e){return e.lon}),s)];if(i){var h=o(e,"procedures"),d=o(e,"observableProperties"),f=h.title||d.title||"chart",p=h.title+"_"+d.title,m=a.map(function(e){return c(e.identifier,p)});l.push(new F("identifier",a.map(function(e){return e.identifier}),s),new F(f,m,u))}return l}function f(e,t){var n={type:"FeatureCollection",features:t.map(function(e){var t,n=e.MonitoringPoint.shape;if(!w(n.Point))throw new E("Feature shape type not implemented. "+JSON.stringify(n));var r=n.Point.pos;if(w(r.split)){var i=r.split(" ");2===i.length&&(t={type:"Point",coordinates:[i[1],i[0]]})}return{type:"Feature",geometry:t,properties:{name:e.MonitoringPoint.name,id:e.MonitoringPoint["gml:id"],identifier:e.MonitoringPoint.identifier.toString(),type:e.MonitoringPoint.type&&e.MonitoringPoint.type["xlink:href"]}}}).filter(function(e){return w(e.geometry)})},r=new B(e.terria);return r.data=D(n),r.style=e.style,r}function p(e,t,n){var r;if(e._revertingConcepts=!0,w(t)){r=e._concepts.filter(function(e){return"procedures"===e.id})[0];var i=r&&r.items.filter(function(e){return!e.isActive&&e.id===t})[0];w(i)&&i.toggleActive()}w(n)&&(r=e._concepts.filter(function(e){return"observableProperties"===e.id})[0],i=r&&r.items.filter(function(e){return!e.isActive&&e.id===n})[0],w(i)&&i.toggleActive()),e._revertingConcepts=!1}function m(e){var t=o(e,"procedures"),n=o(e,"observableProperties");w(t)&&w(n)&&(e.isLoading=!0,e._loadingProcedureIdentifier=t.identifier,e._loadingObservablePropertyIdentifier=n.identifier,e._observationDataPromise=u(e).then(function(){e.isLoading=!1,e._previousProcedureIdentifier=t.identifier,e._previousObservablePropertyIdentifier=n.identifier,e.initialProcedureIndex=a(e,"procedures",t.identifier),e.initialObservablePropertyIndex=a(e,"observableProperties",n.identifier)}).otherwise(function(t){p(e,e._previousProcedureIdentifier,e._previousObservablePropertyIdentifier),e.isLoading=!1,R(e.terria,t)}))}function g(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return Array.isArray(r)||(r=[r]),t.concat(r.map(function(e){return{name:n,value:e}}))},[])}function _(e,t){if(!w(e)||e.length<3)throw new E("Bad date "+e);var n=parseFloat(t);if(isNaN(n)||0===n)throw new E("Bad duration "+t);var r=S.fromIso8601(e,Q),i=t.slice(t.length-1);if("s"===i)r=S.addSeconds(r,n,Q);else if("h"===i)r=S.addHours(r,n,Q);else if("d"===i)r=S.addHours(r,24*n,Q);else{if("y"!==i)throw new E('Unknown duration type "'+t+'" (use s, h, d or y)');var o=Math.round(365*n);r=S.addDays(r,o,Q)}return S.toIso8601(r)}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=n(271),y=n(27),b=n(1),w=n(0),x=n(2),E=n(3),C=n(6),S=n(36),T=n(13),I=n(105),M=n(7),O=n(259),P=n(14),D=n(329),B=n(51),L=n(83),N=n(32),R=n(106),k=n(234),F=n(261),U=n(124),z=n(22),j=n(260),H=n(84),V=function(e,t){k.call(this,e,t),this._concepts=[],this._featureMapping=void 0,this._previousProcedureIdentifier=void 0,this._previousObservablePropertyIdentifier=void 0,this._loadingProcedureIdentifier=void 0,this._loadingObservablePropertyIdentifier=void 0,this._revertingConcepts=!1,this._loadingFeatures=!1,this._observationDataPromise=void 0,this.tryToLoadObservationData=!0,this.requestSizeLimit=200,this.requestNumberLimit=3,this.proceduresName="Procedure",this.observablePropertiesName="Property",this.procedures=void 0,this.observableProperties=void 0,this.initialProcedureIndex=0,this.initialObservablePropertyIndex=0,this.startDate=void 0,this.endDate=void 0,this.showFeaturesAtAllTimes=!1,this.representAsGeoJson=!1,this._idColumnNames=["identifier","id"],this._geoJsonItem=void 0,this.requestTemplate=void 0,T.track(this,["_concepts"]),L(this,"concepts",{get:function(){return this._concepts}}),L(this,"dataViewId",{get:function(){if(w(this.procedures)&&w(this.observableProperties)){var e=o(this,"procedures"),t=o(this,"observableProperties");return[e&&e.identifier||"",t&&t.identifier||""].join("-")}}}),T.defineProperty(this,"activeConcepts",{get:function(){return this._concepts.map(function(e){return e.items.filter(function(e){return e.isActive})})}}),T.getObservable(this,"activeConcepts").subscribe(function(){if(!this._revertingConcepts&&!this._loadingFeatures){var e=o(this,"procedures"),t=o(this,"observableProperties");if(w(e)&&w(t))if(this.isLoading){p(this,this._loadingProcedureIdentifier,this._loadingObservablePropertyIdentifier);var n=new z({sender:this,title:"Data already loading",message:"Your data is still loading. You will be able to change the display once it has loaded."});R(this.terria,n)}else m(this)}},this)};V.defaultRequestTemplate=n(1332),P(k,V),x(V.prototype,{type:{get:function(){return"sos"}},typeName:{get:function(){return"SOS"}},propertiesForSharing:{get:function(){return V.defaultPropertiesForSharing}},serializers:{get:function(){return V.defaultSerializers}},dataSource:{get:function(){return w(this._geoJsonItem)?this._geoJsonItem.dataSource:w(this._dataSource)?this._dataSource:void 0}}}),V.defaultPropertiesForSharing=y(k.defaultPropertiesForSharing),V.defaultPropertiesForSharing.push("initialProcedureIndex"),V.defaultPropertiesForSharing.push("initialObservablePropertyIndex"),C(V.defaultPropertiesForSharing),V.defaultSerializers=y(k.defaultSerializers),V.defaultSerializers.activeConcepts=function(){},C(V.defaultSerializers),V.prototype._getValuesThatInfluenceLoad=function(){return[this.url]},V.prototype._load=function(){var e=this;if(e.url)return e._loadingFeatures=!0,e._concepts=l(e),s(e).then(function(){return e._loadingFeatures=!1,u(e)}).otherwise(function(e){throw e})},V.prototype.loadIntoTableStructure=function(e){var t=this;Array.isArray(e)||(e=[e]);var n=0,a=[],s=o(t,"procedures"),u=o(t,"observableProperties");if(!w(s.identifier)||!w(u.identifier))return M();for(var l=0;l<e.length;l+=this.requestSizeLimit){var c=e.slice(l,l+this.requestSizeLimit),h=g({procedure:s.identifier,observedProperty:u.identifier,featureOfInterest:c}),d={action:"GetObservation",actionClass:"core",parameters:h,temporalFilters:i(t,s,u)};if(a.push(r(t,d)),++n>=this.requestNumberLimit)break}return M.all(a).then(function(e){var n=[],r=[],i=[],o=[],a=[];e.forEach(function(e){var t=e.GetObservationResponse&&e.GetObservationResponse.observationData;if(w(t)){Array.isArray(t)||(t=[t]);t.map(function(e){return e.OM_Observation}).forEach(function(e){if(w(e)){var t=e.result.MeasurementTimeseries.point;if(w(t)){Array.isArray(t)||(t=[t]);var l=t.map(function(e){return e.MeasurementTVP}),c=e.featureOfInterest["xlink:href"];n=n.concat(l.map(function(e){return"object"===v(e.time)?null:e.time})),r=r.concat(l.map(function(e){return"object"===v(e.value)?null:parseFloat(e.value)})),i=i.concat(l.map(function(e){return c})),o=o.concat(l.map(function(e){return s.identifier})),a=a.concat(l.map(function(e){return u.identifier}))}}})}});var l=new U("observations"),c={tableStructure:l},h=new F("date",n,c),d=u.units||s.units,f=u.title+" "+s.title+(w(d)?" ("+d+")":""),p=new F(f,r,c);p.id="value",p.units=d;var m=new F("identifier",i,c),g=new F(t.proceduresName,o,c),_=new F(t.observablePropertiesName,a,c);return l.columns=[h,p,m,g,_],l}).otherwise(function(e){if(!w(e.message)&&w(e.response)){var n=H(e.response);throw new z({sender:t,title:n.Exception&&n.Exception.exceptionCode,message:n.Exception&&n.Exception.ExceptionText})}throw e})},V.prototype._enable=function(){w(this._geoJsonItem)&&this._geoJsonItem._enable()},V.prototype._disable=function(){w(this._geoJsonItem)&&this._geoJsonItem._disable()},V.prototype._show=function(){if(w(this._geoJsonItem))this._geoJsonItem._show();else if(w(this._dataSource)){var e=this.terria.dataSources;if(e.contains(this._dataSource))return void(console&&console.log&&console.log(new Error("This data source is already shown.")));e.add(this._dataSource)}},V.prototype._hide=function(){if(w(this._geoJsonItem))this._geoJsonItem._hide();else if(w(this._dataSource)){var e=this.terria.dataSources;if(!e.contains(this._dataSource))throw new E("This data source is not shown.");e.remove(this._dataSource,!1)}},V.prototype.showOnSeparateMap=function(e){return w(this._geoJsonItem)?this._geoJsonItem.showOnSeparateMap(e):k.prototype.showOnSeparateMap.bind(this)(e)};var Q=new S;e.exports=V},function(e,t){e.exports='<soap12:Envelope xmlns:soap12="http://www.w3.org/2003/05/soap-envelope"\n  xmlns:sos="http://www.opengis.net/sos/2.0"\n  xmlns:wsa="http://www.w3.org/2005/08/addressing"\n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xmlns:ows="http://www.opengis.net/ows/1.1"\n  xmlns:fes="http://www.opengis.net/fes/2.0"\n  xmlns:gml="http://www.opengis.net/gml/3.2"\n  xmlns:swes="http://www.opengis.net/swes/2.0"\n  xsi:schemaLocation="http://www.w3.org/2003/05/soap-envelope http://www.w3.org/2003/05/soap-envelope/soap-envelope.xsd http://www.opengis.net/sos/2.0 http://schemas.opengis.net/sos/2.0/sos.xsd"\n>\n<soap12:Header>\n<wsa:To>http://www.ogc.org/SOS</wsa:To>\n<wsa:Action>http://www.opengis.net/def/serviceOperation/sos/{{actionClass}}/2.0/{{action}}</wsa:Action>\n<wsa:ReplyTo>\n<wsa:Address>http://www.w3.org/2005/08/addressing/anonymous</wsa:Address>\n</wsa:ReplyTo>\n<wsa:MessageID>0</wsa:MessageID>\n</soap12:Header>\n<soap12:Body>\n<sos:{{action}} service="SOS" version="2.0.0">\n{{#parameters}}\n<sos:{{name}}>{{value}}</sos:{{name}}>\n{{/parameters}}\n{{#temporalFilters}}\n<sos:temporalFilter>\n<fes:During>\n<fes:ValueReference>om:phenomenonTime</fes:ValueReference>\n<gml:TimePeriod gml:id="tp{{index}}">\n<gml:beginPosition>{{startDate}}</gml:beginPosition>\n<gml:endPosition>{{endDate}}</gml:endPosition>\n</gml:TimePeriod>\n</fes:During>\n</sos:temporalFilter>\n{{/temporalFilters}}\n</sos:{{action}}>\n</soap12:Body>\n</soap12:Envelope>'},function(e,t,n){"use strict";function r(e,t){for(var n=t.results,r=0;r<n.length;++r){var i=n[r].view,a=i.metadata.geo;if(a&&o(i.childViews)){var s=i.category?e.uniqueId+"/"+i.category+"/"+i.id:e.uniqueId+"/"+i.id,u=e.terria.catalog.shareKeyIndex[s];if(!o(u))if(i.newBackend)u=new g(e.terria),u.url=e.url+"/resource/"+i.childViews[0]+".geojson?$limit=10000";else if(u=new m(e.terria),u.url=e.url+a.owsUrl,u.layers=a.layers,a.namespace&&(u.layers=a.namespace+":"+u.layers.replace(/,/g,","+a.namespace+":")),"EPSG:4326"===a.bboxCrs&&o(a.bbox)){var l=a.bbox.split(",");4===l.length&&(u.rectangle=d.fromDegrees(l[0],l[1],l[2],l[3]))}if(u.name=i.name,u.id=s,o(i.description)&&u.info.push({name:"Description",content:i.description}),o(i.license)&&o(i.license.name)&&u.info.push({name:"Licence",content:(i.license.logoUrl?"<img src="+e.url+"/"+i.license.logoUrl+" /> &nbsp;":"")+(i.license.termsLink?'<a href="'+i.license.termsLink+'">'+i.license.name+"</a>":i.license.name)}),i.columns.length>0&&u.info.push({name:"Attributes",content:i.columns.map(function(e){return e.name}).join()}),o(i.tags)&&i.tags.length>0&&u.info.push({name:"Tags",content:i.tags.join()}),u.dataUrlType="direct",u.dataUrl=e.url+"/resource/"+i.id,o(e.dataCustodian)?u.dataCustodian=e.dataCustodian:u.dataCustodian=i.attribution,"category"===e.groupBy&&o(i.category)){var c=e.findFirstItemByName(i.category);o(c)||(c=new _(e.terria),c.name=i.category,c.id=i.category,e.add(c)),c.add(u)}else e.add(u)}}}var i=n(27),o=n(0),a=n(2),s=n(188),u=n(6),l=n(13),c=n(44),h=n(32),d=n(16),f=n(7),p=n(14),m=n(107),g=n(51),_=n(55),v=n(22),A=function(e){_.call(this,e,"socrata"),this.url="",this.filterQuery=["limitTo=MAPS"],this.dataCustodian=void 0,this.groupBy="category",l.track(this,["url","filterQuery","dataCustodian","category"])};p(_,A),a(A.prototype,{type:{get:function(){return"socrata"}},typeName:{get:function(){return"Socrata Server"}},updaters:{get:function(){return A.defaultUpdaters}},serializers:{get:function(){return A.defaultSerializers}}}),A.defaultUpdaters=i(_.defaultUpdaters),u(A.defaultUpdaters),A.defaultSerializers=i(_.defaultSerializers),A.defaultSerializers.items=_.enabledShareableItemsSerializer,A.defaultSerializers.isLoading=function(e,t,n,r){},A.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.filterQuery,this.groupBy,this.dataCustodian]},A.prototype._load=function(){if(o(this.url)&&0!==this.url.length){for(var e=this,t=[],n=0;n<this.filterQuery.length;n++){var i=h(e,this.url+"/api/search/views?"+this.filterQuery[n],"1d"),a=c(i);t.push(a)}return f.all(t).then(function(t){if(o(t)){for(var n=t[0],i=1;i<t.length;i++)n.result.results=n.result.results.concat(t[i].result.results);r(e,n)}}).otherwise(function(t){throw new v({sender:e,title:e.name,message:"Couldn't retrieve packages from this Socrata server.<br/><br/>If you entered the URL manually, please double-check it.<br/><br/>Otherwise, if reloading doesn't fix it, please report the problem by sending an email to <a href=\"mailto:"+e.terria.supportEmail+'">'+e.terria.supportEmail+"</a> with the technical details below.  Thank you!<br/><br/><pre>"+s(t)+"</pre>"})})}},e.exports=A},function(e,t,n){"use strict";function r(e){i.call(this,e),this.url=void 0,this.inputs=[],d.track(this,["url","inputs"])}var i=n(194),o=n(55),a=n(27),s=n(1335),u=n(0),l=n(2),c=n(6),h=n(14),d=n(13),f=n(44),p=n(32),m=n(173),g=n(232),_=n(33);h(i,r),l(r.prototype,{type:{get:function(){return"terria-json"}},typeName:{get:function(){return"Terria JSON Catalog Function"}},updaters:{get:function(){return r.defaultUpdaters}},serializers:{get:function(){return r.defaultSerializers}},propertiesForSharing:{get:function(){return r.defaultPropertiesForSharing}},parameters:{get:function(){return this.inputs}}}),r.defaultUpdaters=a(i.defaultUpdaters),r.defaultUpdaters.inputs=function(e,t,n,r){t.inputs&&(e.inputs=t.inputs.map(function(t){var n=s(t.type,{terria:e.terria,catalogFunction:e,id:t.id});return n.updateFromJson(t),n}))},c(r.defaultUpdaters),r.defaultSerializers=a(i.defaultSerializers),r.defaultSerializers.inputs=function(e,t,n,r){e.inputs&&(t[n]=e.inputs.map(function(e){return e.serializeToJson()}))},c(r.defaultSerializers),r.defaultPropertiesForSharing=a(i.defaultPropertiesForSharing),r.prototype._load=function(){},r.prototype.invoke=function(){var e=this,t=new Date,n=g("%04d-%02d-%02dT%02d:%02d:%02d",t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()),r=new m(this.terria);r.name=this.name+" "+n,r.description="This is the result of invoking the "+this.name+" process or service at "+n+' with the input parameters below.\n\n<table class="cesium-infoBox-defaultTable">'+(this.parameters||[]).reduce(function(e,t){return e+'<tr><td style="vertical-align: middle">'+t.name+"</td><td>"+t.formatValueAsString(t.value)+"</td></tr>"},"")+"</table>";var i={};this.parameters.forEach(function(e){u(e.value)&&""!==e.value&&(i[e.id]=e.formatForService())});var a=new _(this.url).addQuery(i),s=p(this,a.toString(),"1d"),l=f(s).then(function(t){if(r.isEnabled=!1,t.version&&t.initSources)return e.terria.updateFromStartData(t);if(Array.isArray(t.catalog))return e.terria.addInitSource(t);var n=Array.isArray(t)?t:[t];n.forEach(function(e){u(e.isEnabled)||(e.isEnabled=!0),e.name=e.name||r.name,e.description=e.description||r.description});var i=e.uniqueId+"-results",a=e.terria.catalog.shareKeyIndex[i];if(!a){var s=e.parent&&e.parent.items?e.parent:e.terria.catalog.group,l=s.items.indexOf(e);l>=0?++l:l=s.items.length,a=new o(e.terria),a.id=i,a.name=e.name+" Results",s.items.splice(l,0,a)}return o.updateItems(n,{isUserSupplied:!0},a)});return r.loadPromise=l,r.isEnabled=!0,l},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i,o=n(0),a=n(22),s=n(626),u=n(627),l=n(628),c=n(629),h=n(630),d=n(631),f=n(632),p=n(590),m=(i={},r(i,d.prototype.type,d),r(i,h.prototype.type,h),r(i,p.prototype.type,p),r(i,c.prototype.type,c),r(i,f.prototype.type,f),r(i,s.prototype.type,s),r(i,l.prototype.type,l),r(i,u.prototype.type,u),i),g=function(e,t){var n=m[e];if(!o(n))throw new a({title:"Unsupported function parameter type",message:"Unknown function parameter type: "+e+"."});return new n(t)};g.register=function(e,t){m[e]=t},e.exports=g},function(e,t,n){"use strict";var r=n(139),i=n(2),o=n(13),a=n(121),s=n(14),u=n(32),l=function(e){a.call(this,e),this.minimumLevel=0,this.maximumLevel=25,this.attribution=void 0,this.subdomains=void 0,this.tileDiscardPolicy=void 0,o.track(this,["minimumLevel","maximumLevel","attribution","subdomains","tileDiscardPolicy"])};s(a,l),i(l.prototype,{type:{get:function(){return"url-template"}},typeName:{get:function(){return"URL Template Map Server"}}}),l.prototype._createImageryProvider=function(){return new r({url:u(this,this.url),maximumLevel:this.maximumLevel,minimumLevel:this.minimumLevel,credit:this.attribution,subdomains:this.subdomains,tileDiscardPolicy:this.tileDiscardPolicy,rectangle:this.rectangle})},e.exports=l},function(e,t,n){"use strict";function r(e,t){var n=new s(t);n.search("");var r=n.toString();return _(e,r,"1d")}function i(e,t){return"name"===e.titleField?t.Identifier:"abstract"===e.titleField?t.Abstract:t.Title}function o(e,t,n){var r=new v(e.terria);return r.name=i(e,n),r.url=e.url,r.layer=n.Identifier,r.updateFromCapabilities(t,!0,n),"object"===a(e.itemProperties)&&r.updateFromJson(e.itemProperties),e.add(r),r}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(33),u=n(27),l=n(0),c=n(2),h=n(6),d=n(13),f=n(97),p=n(55),m=n(14),g=n(22),_=n(32),v=n(639),A=function(e){p.call(this,e,"wmts-getCapabilities"),this.url="",this.dataCustodian=void 0,this.parameters=void 0,this.blacklist=void 0,this.titleField="title",this.itemProperties=void 0,d.track(this,["url","dataCustodian","parameters","blacklist","titleField","itemProperties"])};m(p,A),c(A.prototype,{type:{get:function(){return"wmts-getCapabilities"}},typeName:{get:function(){return"Web Map Tile Service (WMTS) Server"}},serializers:{get:function(){return A.defaultSerializers}}}),A.defaultSerializers=u(p.defaultSerializers),A.defaultSerializers.items=p.enabledShareableItemsSerializer,A.defaultSerializers.isLoading=function(e,t,n,r){},h(A.defaultSerializers),A.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.blacklist,this.titleField]},A.prototype._load=function(){var e=r(this,this.url)+"?service=WMTS&request=GetCapabilities&version=1.0.0",t=this;return f(e).then(function(e){if(!e||!e.documentElement||"Capabilities"!==e.documentElement.localName)throw new g({title:"Invalid WMTS server",message:"An error occurred while invoking GetCapabilities on the WMTS server.  The server's response does not appear to be a valid GetCapabilities document.  <p>If you entered the link manually, please verify that the link is correct.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href=\"mailto:"+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>.</p>"});var n,r=v.capabilitiesXmlToJson(e);n=l(r.Contents)&&l(r.Contents.Layer)?Array.isArray(r.Contents.Layer)?r.Contents.Layer:[r.Contents.Layer]:[];for(var i=0;i<n.length;++i)o(t,r,n[i])}).otherwise(function(e){throw new g({sender:t,title:"Group is not available",message:'An error occurred while invoking GetCapabilities on the WMTS server.  <p>If you entered the link manually, please verify that the link is correct.</p><p>This error may also indicate that the server does not support <a href="http://enable-cors.org/" target="_blank">CORS</a>.  If this is your server, verify that CORS is enabled and enable it if it is not.  If you do not control the server, please contact the administrator of the server and ask them to enable CORS.  Or, contact the National Map team by emailing <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+'</a> and ask us to add this server to the list of non-CORS-supporting servers that may be proxied by National Map itself.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>.</p>"})})},e.exports=A},function(e,t,n){"use strict";function r(e){var t=new a(e);return t.search(""),t.toString()}function i(e,t){var n=r(t);return _(e,n,"1d")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(33),s=n(27),u=n(0),l=n(2),c=n(6),h=n(13),d=n(44),f=n(22),p=n(55),m=n(51),g=n(14),_=n(32),v=function(e){p.call(this,e,"wfs-getCapabilities"),this.url="",this.typeNames="",this.nameProperty=void 0,this.useFeatureID=!0,this.groupByProperty=void 0,this.dataCustodian=void 0,this.blacklist=void 0,this.itemProperties=void 0,h.track(this,["url","typeNames","nameProperty","groupByProperty","dataCustodian","blacklist"])};g(p,v),l(v.prototype,{type:{get:function(){return"wfs-features-group"}},typeName:{get:function(){return"Group of features in a Web Feature Service (WFS) Server"}},serializers:{get:function(){return v.defaultSerializers}}}),v.defaultSerializers=s(p.defaultSerializers),v.defaultSerializers.items=p.enabledShareableItemsSerializer,v.defaultSerializers.isLoading=function(e,t,n,r){},c(v.defaultSerializers),v.prototype._getValuesThatInfluenceLoad=function(){return[this.url,this.typeNames,this.nameProperty,this.groupByProperty,this.blacklist]},v.prototype._load=function(){var e=new a(i(this,this.url)).addQuery({service:"WFS",version:"1.1.0",request:"GetFeature",typeName:this.typeNames,outputFormat:"JSON",propertyName:this.nameProperty+(u(this.groupByProperty)?","+this.groupByProperty:"")}).toString(),t=this;return d(e).then(function(e){if(!e||"FeatureCollection"!==e.type||!u(e.features))throw new f({title:"Error querying WFS server",message:"An error occurred while invoking GetFeature on the WFS server.  The server's response does not appear to be a valid GeoJSON document.  <p>If you entered the link manually, please verify that the link is correct.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href=\"mailto:"+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>.</p>"});for(var n={},r=e.features,s=0;s<r.length;++s){var l=r[s],c=l.properties[t.nameProperty];if(t.blacklist&&t.blacklist[c])console.log("Provider Feedback: Filtering out "+c+" ("+l.id+") because it is blacklisted.");else{var h=new m(t.terria);h.name=c;var d=new a(i(t,t.url)).addQuery({service:"WFS",version:"1.1.0",request:"GetFeature",typeName:t.typeNames,outputFormat:"JSON"});t.useFeatureID?d.addQuery({featureID:l.id}):d.addQuery({cql_filter:t.nameProperty+"='"+l.properties[t.nameProperty]+"'"}),h.url=d.toString(),"object"===o(t.itemProperties)&&h.updateFromJson(t.itemProperties);var g=t;u(t.groupByProperty)&&u(l.properties[t.groupByProperty])&&(g=n[l.properties[t.groupByProperty]],u(g)||(g=n[l.properties[t.groupByProperty]]=new p(t.terria),g.name=l.properties[t.groupByProperty],t.add(g))),g.add(h)}}}).otherwise(function(e){throw new f({title:"Group is not available",message:'An error occurred while invoking GetFeature on the WFS server.  <p>If you entered the link manually, please verify that the link is correct.</p><p>This error may also indicate that the server does not support <a href="http://enable-cors.org/" target="_blank">CORS</a>.  If this is your server, verify that CORS is enabled and enable it if it is not.  If you do not control the server, please contact the administrator of the server and ask them to enable CORS.  Or, contact the '+t.terria.appName+' Map team by emailing <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a> and ask us to add this server to the list of non-CORS-supporting servers that may be proxied by "+t.terria.appName+' itself.</p><p>If you did not enter this link manually, this error may indicate that the group you opened is temporarily unavailable or there is a problem with your internet connection.  Try opening the group again, and if the problem persists, please report it by sending an email to <a href="mailto:'+t.terria.supportEmail+'">'+t.terria.supportEmail+"</a>.</p>"})})},e.exports=v},function(e,t,n){"use strict";function r(e){s.call(this,e),this.distributionId=void 0,this.datasetId=void 0,this.allowAnyDistributionIfDistributionIdNotFound=!0,this.allowWms=!0,this.wmsDistributionFormat=/^wms$/i,this.allowWfs=!0,this.wfsDistributionFormat=/^wfs$/i,this.allowKml=!0,this.kmlDistributionFormat=/^km[lz]$/i,this.allowCsv=!0,this.csvDistributionFormat=/^csv(-geo-)?/i,this.allowEsriMapServer=!0,this.allowEsriFeatureServer=!0,this.esriMapServerDistributionFormat=/^esri rest$/i,this.esriFeatureServerDistributionFormat=/^esri rest$/i,this.allowGeoJson=!0,this.geoJsonDistributionFormat=/^geojson$/i,this.allowCzml=!0,this.czmlDistributionFormat=/^czml$/i,this.itemProperties=void 0}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(263),a=n(206),s=n(56),u=n(27),l=n(367),c=n(368),h=n(138),d=n(369),f=n(0),p=n(2),m=n(6),g=n(51),_=n(14),v=n(268),A=n(44),y=n(74),b=n(22),w=n(32),x=n(33),E=n(269),C=n(107),S=n(370),T=n(270),I=n(7),M=n(13);_(s,r),p(r.prototype,{type:{get:function(){return"magda-distribution"}},typeName:{get:function(){return"MAGDA Distribution"}},metadata:{get:function(){var e=new y;return e.isLoading=!1,e.dataSourceErrorMessage="This data source does not have any details available.",e.serviceErrorMessage="This service does not have any details available.",e}},updaters:{get:function(){return r.defaultUpdaters}},serializers:{get:function(){return r.defaultSerializers}}}),r.defaultUpdaters=u(s.defaultUpdaters),r.defaultUpdaters.wmsDistributionFormat=l("wmsDistributionFormat"),r.defaultUpdaters.wfsDistributionFormat=l("wfsDistributionFormat"),r.defaultUpdaters.kmlDistributionFormat=l("kmlDistributionFormat"),r.defaultUpdaters.csvDistributionFormat=l("csvDistributionFormat"),r.defaultUpdaters.esriMapServerDistributionFormat=l("esriMapServerDistributionFormat"),r.defaultUpdaters.esriFeatureServerDistributionFormat=l("esriFeatureServerDistributionFormat"),r.defaultUpdaters.geoJsonDistributionFormat=l("geoJsonDistributionFormat"),r.defaultUpdaters.czmlDistributionFormat=l("czmlDistributionFormat"),m(r.defaultUpdaters),r.defaultSerializers=u(s.defaultSerializers),r.defaultSerializers.wmsDistributionFormat=c("wmsDistributionFormat"),r.defaultSerializers.wfsDistributionFormat=c("wfsDistributionFormat"),r.defaultSerializers.kmlDistributionFormat=c("kmlDistributionFormat"),r.defaultSerializers.csvDistributionFormat=c("csvDistributionFormat"),r.defaultSerializers.esriMapServerDistributionFormat=c("esriMapServerDistributionFormat"),r.defaultSerializers.esriFeatureServerDistributionFormat=c("esriFeatureServerDistributionFormat"),r.defaultSerializers.geoJsonDistributionFormat=c("geoJsonDistributionFormat"),r.defaultSerializers.czmlDistributionFormat=c("czmlDistributionFormat"),m(r.defaultSerializers),r.createCatalogItemFromDistribution=function(e){var t=e.distribution,n=e.parent,r=[[e.wmsDistributionFormat,C],[e.wfsDistributionFormat,T],[e.esriMapServerDistributionFormat,a,/MapServer/],[e.esriFeatureServerDistributionFormat,o,/FeatureServer/],[e.kmlDistributionFormat,v],[e.geoJsonDistributionFormat,g],[e.czmlDistributionFormat,d],[e.csvDistributionFormat,h]].filter(function(e){return f(e[0])}),s=t.aspects["dcat-distribution-strings"],u=t.aspects["dataset-format"],l=s.format;u&&u.format&&(l=u.format);var c=s.downloadURL;if(!f(c)){if(!s.accessURL)return I(void 0);c=s.accessURL}var p=r.filter(function(e){return l.match(e[0])&&(!f(e[2])||c.match(e[2]))});if(0===p.length)return I(void 0);var m,_=p[0][1]===C,A=p[0][1]===T,y=new x(c),b=y.search(!0),w=c;if(_||A){y.search(""),w=y.toString();var O=b.LAYERS||b.layers||b.typeName;if(f(O))m=_?new C(e.terria):new T(e.terria),m.layers=O,m.url=w;else{var P;if(_&&e.allowWmsGroups)P=new E(e.terria),P.flatten=!0;else{if(!A||!e.allowWfsGroups)return I(void 0);P=new S(e.terria)}P.url=w,m=P.load().then(function(){return 0===P.items.length?void 0:P.items[0]})}}else m=new p[0][1](e.terria),m.url=w;return I(m).then(function(r){if(r)return r.name=s.title,r.info.push({name:"Distribution Description",content:s.description}),f(e.dataCustodian)&&(r.dataCustodian=e.dataCustodian),"object"===i(e.itemProperties)&&r.updateFromJson(e.itemProperties),f(n)&&(r.id=n.uniqueId+"/"+t.id),f(e.zoomOnEnable)&&(r.zoomOnEnable=e.zoomOnEnable),M.getObservable(r,"isLoading").subscribe(function(e){try{if(!0===e)return;window.parent!==window&&window.parent.postMessage("loading complete","*"),window.opener&&window.opener.postMessage("loading complete","*")}catch(e){console.log(e)}}),r})},r.shortHumanReadableTypeNames={wms:"WMS","wms-getCapabilities":"WMS",wfs:"WFS","wfs-getCapabilities":"WFS","esri-mapServer":"MapServer","esri-featureServer":"FeatureServer",kml:"KML",geojson:"GeoJSON",czml:"CZML",csv:"CSV"},r.prototype._load=function(){var e=new x(this.url).segment("api/v0/registry");if(!f(this.distributionId)&&!f(this.datasetId))throw new b({sender:this,title:"distributionId or datasetId must be specified",message:"MagdaCatalogItem requires that either distributionId or datasetId be specified."});var t=this;return I().then(function(){if(f(t.distributionId)){var n=e.clone().segment("records/"+encodeURIComponent(t.distributionId)).addQuery({aspect:"dcat-distribution-strings",optionalAspect:"dataset-format"}),r=w(t,n.toString(),"1d");return A(r).then(function(e){return f(e.id)?[e]:[]})}if(f(t.datasetId)){var i=e.clone().segment("records/"+encodeURIComponent(t.datasetId)).addQuery({aspect:"dataset-distributions",optionalAspect:"dataset-format",dereference:!0}),o=w(t,i.toString(),"1d");return A(o).then(function(e){return e.aspects["dataset-distributions"].distributions})}throw new b({sender:t,title:"Error retrieving MAGDA record",message:"No distribution or dataset ID provided"})}).then(function(e){for(var n=[],i=0;i<e.length;++i){var o=r.createCatalogItemFromDistribution({terria:t.terria,distribution:e[i],magdaBaseUrl:t.url,wmsDistributionFormat:t.allowWms?t.wmsDistributionFormat:void 0,kmlDistributionFormat:t.allowKml?t.kmlDistributionFormat:void 0,wfsDistributionFormat:t.allowWfs?t.wfsDistributionFormat:void 0,csvDistributionFormat:t.allowCsv?t.csvDistributionFormat:void 0,esriMapServerDistributionFormat:t.allowEsriMapServer?t.esriMapServerDistributionFormat:void 0,geoJsonDistributionFormat:t.allowGeoJson?t.geoJsonDistributionFormat:void 0,czmlDistributionFormat:t.allowCzml?t.czmlDistributionFormat:void 0,dataCustodian:t.dataCustodian,itemProperties:t.itemProperties,allowWfsGroups:!0,allowWmsGroups:!0,zoomOnEnable:t.zoomOnEnable}).then(function(e){if(f(e))return e.name=t.name,e;var n=new Error;throw n.ignore=!0,n});n.push(o)}return I.any(n).otherwise(function(e){var n=new b({sender:t,title:"No compatible distributions found",message:f(t.distributionId)?"The MAGDA dataset does not have a distribution with the ID "+t.distributionId+" or it does not have a supported format.":"The MAGDA dataset does not have any distributions with a supported format."});if(e instanceof RangeError||!e.length)throw n;for(var r=0;r<e.length;r++)if(!e[r].ignore)throw e[r];throw n})})},e.exports=r},function(e,t,n){"use strict";function r(e){return s(e)?e.split(","):void 0}function i(e,t){for(var n in e)if(e.hasOwnProperty(n)&&-1===t.indexOf(n))throw console.log("Unknown attribute "+n),new u("Unknown attribute "+n)}var o=n(1341),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(0),u=n(3),l=n(372),c=n(1516),h=n(686),d=n(283),f=n(1578),p=n(124),m=n(85),g=n(4),_=["src","src-preview","sources","source-names","downloads","download-names","preview-x-label","data","id","x-column","y-column","y-columns","colors","column-names","column-units","styling","highlight-x","poll-seconds","poll-sources","poll-id-columns","poll-replace","title","can-download","hide-buttons"],v=function(e){function t(t,u,h){i(u.attribs,_);var f=r(u.attribs["column-names"]),p=r(u.attribs["column-units"]),m=u.attribs.styling||"feature-info",A=r(u.attribs.sources),y=r(u.attribs["source-names"]);!s(A)&&s(u.attribs.src)&&(A=[u.attribs.src],s(u.attribs["src-preview"])&&A.unshift(u.attribs["src-preview"]));var b=r(u.attribs.downloads)||A,w=r(u.attribs["download-names"])||y,x=r(u.attribs["poll-sources"]),E=u.attribs.id,C=u.attribs["x-column"],S=r(u.attribs["y-columns"]);!s(S)&&s(u.attribs["y-column"])&&(S=[u.attribs["y-column"]]);var T=s(A)?A[0]:void 0,I=o(n(u,h)),M=r(u.attribs.colors),O=u.attribs.title,P={url:T,xColumn:C,yColumns:S},D=d.getUpdateCounter(t.updateCounters,l,P),B=[O||"",E||"",A&&A.join("|")||"",C||"",s(S)?S.join("|"):"",M||""],L=[];return"true"!==u.attribs["hide-buttons"]&&L.push(g.createElement(c,{key:"button",terria:e,catalogItem:t.catalogItem,title:O,colors:M,feature:t.feature,sources:A,sourceNames:y,downloads:b,downloadNames:w,tableStructure:I,columnNames:f,columnUnits:p,xColumn:u.attribs["x-column"],yColumns:S,id:E,canDownload:!("false"===u.attribs["can-download"]),raiseToTitle:!!v(u),pollSources:x,pollSeconds:u.attribs["poll-seconds"],pollReplace:"true"===u.attribs["poll-replace"],updateCounter:D})),L.push(g.createElement(l,{key:"chart",axisLabel:{x:u.attribs["preview-x-label"],y:void 0},catalogItem:t.catalogItem,url:T,tableStructure:I,xColumn:u.attribs["x-column"],yColumns:S,styling:m,highlightX:u.attribs["highlight-x"],pollUrl:s(x)?x[0]:void 0,pollSeconds:u.attribs["poll-seconds"],updateCounter:D,transitionDuration:300})),g.createElement("div",{key:B.join("-")||"chart-wrapper",className:a.default.previewChartWrapper},L)}function n(e,t){var n=e.attribs.data;return n||(Array.isArray(t)&&t.length>0?t[0]:t)}function o(e){if(s(e)&&!(e.length<2)){var t=new p("chart",{unallowedTypes:[m.ALT,m.LAT,m.LON]});if("["===e[0]){var n=JSON.parse(e.replace(/&quot;/g,'"'));return p.fromJson(n,t)}return e.indexOf("\\n")>=0||e.indexOf("\n")>=0?p.fromCsv(e.replace(/\\n/g,"\n"),t):void 0}}function v(e){if(s(e.parent)&&"td"===e.parent.name&&s(e.parent.parent)&&"tr"===e.parent.parent.name&&s(e.parent.parent.children[0])&&s(e.parent.parent.children[0].children[0]))return e.parent.parent.children[0].children[0].data}var A=new f({name:"chart",attributes:_,processNode:t,furtherProcessing:[{shouldProcessNode:function(e){return"td"===e.name&&1===e.children.length&&"chart"===e.children[0].name&&"tr"===e.parent.name&&2===e.parent.children.length},processNode:function(e,t,n){var r=t.parent.children[0].children[0].data,i=[g.createElement("div",{key:"title",className:a.default.chartTitleFromTable},r)].concat(n);return g.createElement(t.name,{key:"chart",colSpan:2,className:a.default.chartTd},t.data,i)}},{shouldProcessNode:function(e){return"td"===e.name&&1===e.children.length&&"tr"===e.parent.name&&2===e.parent.children.length&&"td"===e.parent.children[1].name&&1===e.parent.children[1].children.length&&"chart"===e.parent.children[1].children[0].name},processNode:function(){}}],isCorresponding:function(e){return e.type===l},selfUpdateSeconds:function(e){return e.props.pollSeconds}});if(!s(e))throw new u("Terria is a required argument of registerCustomComponentTypes.");d.register(A);var y=new f({name:"collapsible",attributes:["title","open"],processNode:function(e,t,n){return g.createElement(h,{key:t.attribs.title,displayName:t.attribs.title,title:t.attribs.title,startsOpen:"string"==typeof t.attribs.open?JSON.parse(t.attribs.open):void 0},n)}});d.register(y)};e.exports=v},function(e,t){e.exports={"chart-td":"tjs-chart-preview__chart-td",chartTd:"tjs-chart-preview__chart-td","preview-chart-wrapper":"tjs-chart-preview__preview-chart-wrapper",previewChartWrapper:"tjs-chart-preview__preview-chart-wrapper","chart-title-from-table":"tjs-chart-preview__chart-title-from-table",chartTitleFromTable:"tjs-chart-preview__chart-title-from-table"}},function(e,t,n){"use strict";function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e,t,n){this.props=e,this.context=t,this.refs=N,this.updater=n||L}function o(){}function a(e,t,n){this.props=e,this.context=t,this.refs=N,this.updater=n||L}function s(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)F.call(t,r)&&!U.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:w,type:e,key:o,ref:a,props:i,_owner:k.current}}function u(e,t){return{$$typeof:w,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function l(e){return"object"==typeof e&&null!==e&&e.$$typeof===w}function c(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function h(e,t,n,r){if(j.length){var i=j.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>j.length&&j.push(e)}function f(e,t,n,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var a=!1;if(null===e)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case w:case x:a=!0}}if(a)return n(i,e,""===t?"."+m(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var u=t+m(o,s);a+=f(o,u,n,i)}else if(null===e||"object"!=typeof e?u=null:(u=B&&e[B]||e["@@iterator"],u="function"==typeof u?u:null),"function"==typeof u)for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=t+m(o,s++),a+=f(o,u,n,i);else if("object"===o)throw n=""+e,Error(r(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function p(e,t,n){return null==e?0:f(e,"",t,n)}function m(e,t){return"object"==typeof e&&null!==e&&null!=e.key?c(e.key):t.toString(36)}function g(e,t){e.func.call(e.context,t,e.count++)}function _(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?v(e,r,n,function(e){return e}):null!=e&&(l(e)&&(e=u(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(z,"$&/")+"/")+n)),r.push(e))}function v(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(z,"$&/")+"/"),t=h(t,o,r,i),p(e,_,t),d(t)}function A(){var e=H.current;if(null===e)throw Error(r(321));return e}/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var y=n(193),b="function"==typeof Symbol&&Symbol.for,w=b?Symbol.for("react.element"):60103,x=b?Symbol.for("react.portal"):60106,E=b?Symbol.for("react.fragment"):60107,C=b?Symbol.for("react.strict_mode"):60108,S=b?Symbol.for("react.profiler"):60114,T=b?Symbol.for("react.provider"):60109,I=b?Symbol.for("react.context"):60110,M=b?Symbol.for("react.forward_ref"):60112,O=b?Symbol.for("react.suspense"):60113,P=b?Symbol.for("react.memo"):60115,D=b?Symbol.for("react.lazy"):60116,B="function"==typeof Symbol&&Symbol.iterator,L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N={};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(r(85));this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=i.prototype;var R=a.prototype=new o;R.constructor=a,y(R,i.prototype),R.isPureReactComponent=!0;var k={current:null},F=Object.prototype.hasOwnProperty,U={key:!0,ref:!0,__self:!0,__source:!0},z=/\/+/g,j=[],H={current:null},V={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:y};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return v(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=h(null,null,t,n),p(e,g,t),d(t)},count:function(e){return p(e,function(){return null},null)},toArray:function(e){var t=[];return v(e,t,null,function(e){return e}),t},only:function(e){if(!l(e))throw Error(r(143));return e}},t.Component=i,t.Fragment=E,t.Profiler=S,t.PureComponent=a,t.StrictMode=C,t.Suspense=O,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(r(267,e));var i=y({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)F.call(t,l)&&!U.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:w,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),e={$$typeof:I,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:T,_context:e},e.Consumer=e},t.createElement=s,t.createFactory=function(e){var t=s.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:M,render:e}},t.isValidElement=l,t.lazy=function(e){return{$$typeof:D,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:P,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";function r(){}function i(){}var o=n(1344);i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a,s){if(u(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],h=0;l=new Error(t.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}function i(e){return e}function o(e,t,n){function o(e,t){var n=v.hasOwnProperty(t)?v[t]:null;x.hasOwnProperty(t)&&r("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&r("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function u(e,n){if(n){r("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),r(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=e.prototype,a=i.__reactAutoBindPairs;n.hasOwnProperty(l)&&y.mixins(e,n.mixins);for(var s in n)if(n.hasOwnProperty(s)&&s!==l){var u=n[s],c=i.hasOwnProperty(s);if(o(c,s),y.hasOwnProperty(s))y[s](e,u);else{var h=v.hasOwnProperty(s),p="function"==typeof u,m=p&&!h&&!c&&!1!==n.autobind;if(m)a.push(s,u),i[s]=u;else if(c){var g=v[s];r(h&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,s),"DEFINE_MANY_MERGED"===g?i[s]=d(i[s],u):"DEFINE_MANY"===g&&(i[s]=f(i[s],u))}else i[s]=u}}}else;}function c(e,t){if(t)for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){var o=n in y;r(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in e;if(a){var s=A.hasOwnProperty(n)?A[n]:null;return r("DEFINE_MANY_MERGED"===s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=d(e[n],i))}e[n]=i}}}function h(e,t){r(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(r(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function d(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return h(i,n),h(i,r),i}}function f(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function p(e,t){var n=t.bind(e);return n}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=p(e,i)}}function g(e){var t=i(function(e,i,o){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=i,this.refs=s,this.updater=o||n,this.state=null;var a=this.getInitialState?this.getInitialState():null;r("object"==typeof a&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=a});t.prototype=new E,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],_.forEach(u.bind(null,t)),u(t,b),u(t,e),u(t,w),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),r(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var o in v)t.prototype[o]||(t.prototype[o]=null);return t}var _=[],v={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},A={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},y={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)u(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=a({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=a({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=a({},e.propTypes,t)},statics:function(e,t){c(e,t)},autobind:function(){}},b={componentDidMount:function(){this.__isMounted=!0}},w={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},E=function(){};return a(E.prototype,e.prototype,x),g}var a=n(193),s={},u=function(e){},l="mixins";e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function n(e){return(0,h.line)().x(function(e){return g.x(e.x)}).y(function(t){return g.y[e](t.y)})}if((0,_.default)(t.data)){var r=(0,m.default)(t.margin,M),i=(0,A.default)(t.data.map(function(e){return e.units})),p=x.default.calculate(e,r,t,t.mini?1:i.length),g=b.default.calculate(p,t.domain,t.data),v=t.data,y=(0,m.default)(t.transitionDuration,P),w=v.length>0&&v[0].points.length>0&&v.some(function(e){return e.points.some(function(e){return(0,_.default)(e.y)})}),E=(0,c.select)(e),S=E.select("svg").attr("width",t.width).attr("height",t.height),D=(0,c.select)(e).selectAll(".line-chart"),B=(0,f.transition)().duration(y),L=D.selectAll(".line").data(v,function(e){return e.id}).attr("class","line"),N=!(0,_.default)(L.nodes()[0]),R="translate("+(r.left+p.yAxesWidth)+","+(r.top+C.default.getHeight(t.titleSettings))+")";N?D.attr("transform",R):D.transition(B).attr("transform",R);if(E.select("rect.plot-area").attr("width",p.width).attr("height",p.plotHeight),L.enter().append("path").attr("class","line").attr("d",function(e){return n(e.units||b.default.unknownUnits)(e.points.filter(function(e){return(0,_.default)(e.y)}))}).style("fill","none").style("opacity",1e-6).transition(B).style("opacity",1).style("stroke",function(e){return(0,_.default)(e.color)?e.color:""}),L.on("mouseover",l(D,.33)).on("mouseout",l(D,1)),L.transition(B).attr("d",function(e){return n(e.units||b.default.unknownUnits)(e.points.filter(function(e){return(0,_.default)(e.y)}))}).style("opacity",1).style("stroke",function(e){return(0,_.default)(e.color)?e.color:""}),L.exit().transition(B).style("opacity",1e-6).remove(),C.default.enterUpdateAndExit(E,t.titleSettings,r,v,y),(0,_.default)(t.tooltipSettings)){var k=T.default.select(t.tooltipSettings),F=s.bind(null,w,v,t,g,D,k);u(D,k),S.on("mouseover",F).on("mousemove",F).on("click",F).on("mouseout",u.bind(null,D,k))}if((0,_.default)(t.highlightX)){a(o(v,t.highlightX),g,D)}var U=D.select(".y.axes").selectAll(".y.axis").data(i,function(e){return e}),z=U.enter().append("g").attr("class","y axis").style("opacity",1e-6);z.append("g").attr("class","ticks"),z.append("g").attr("class","colors"),z.append("g").attr("class","units-label-shadow-group").attr("transform","translate("+-(x.default.yAxisWidth-I)+",6)rotate(270)").append("text").attr("class","units-label-shadow").style("text-anchor","end"),z.append("g").attr("class","units-label-group").attr("transform","translate("+-(x.default.yAxisWidth-I)+",6)rotate(270)").append("text").attr("class","units-label").style("text-anchor","end"),U.exit().remove();if(D.select(".no-data").style("opacity",w?1e-6:1).select("text").text(O).style("text-anchor","middle").attr("x",e.offsetWidth/2-r.left-p.yAxesWidth).attr("y",(p.height-24)/2),(0,_.default)(g)){var j=b.default.truncatedTickValues(g.x,Math.min(12,Math.floor(p.width/150)+1)),H=(0,d.axisBottom)().tickValues(j);(0,_.default)(t.grid)&&t.grid.x&&H.tickSizeInner(-p.plotHeight);var V=(0,d.axisLeft)().tickSizeOuter(i.length>1?0:3),Q=0,G=void 0;(0,_.default)(g)&&(G=g.y[i[0]||b.default.unknownUnits],H.scale(g.x),Q=Math.min(Math.max(G(0),0),p.plotHeight)),t.mini&&(Q=p.plotHeight),N&&D.select(".x.axis").attr("transform","translate(0,"+Q+")"),D.select(".x.axis").transition(B).attr("transform","translate(0,"+Q+")").style("opacity",1).call(H),(0,_.default)(t.grid)&&t.grid.x&&D.selectAll(".x.axis line").attr("transform","translate(0,"+(p.plotHeight-Q)+")");var W=(0,_.default)(t.axisLabel)&&(0,_.default)(t.axisLabel.x);D.select(".x.axis").selectAll(".tick").transition(B).style("opacity",t.mini&&W||!w?1e-6:1),W&&D.select(".x.axis .label").style("text-anchor","middle").text(t.axisLabel.x).style("opacity",w?1:1e-6).attr("transform","translate("+p.width/2+", "+(p.height-Q)+")"),t.mini&&V.tickSize(0,0);var q=D.select(".y.axes").selectAll(".y.axis");q.transition(B).attr("transform",function(e,t){return"translate("+-t*x.default.yAxisWidth+", 0)"}),q.nodes().forEach(function(e){var n=(0,c.select)(e),r=e.__data__,o=g.y[r||b.default.unknownUnits],a=o===G&&(0,_.default)(t.grid)&&t.grid.y?-p.width:3,s=void 0;if(t.mini)s=o.domain();else{var u=t.mini?2:Math.min(6,Math.floor(p.plotHeight/30)+1);s=b.default.truncatedTickValues(o,u)}V.tickValues(s).tickSizeInner(a).scale(o),n.transition(B).style("opacity",w?1:1e-6).select(".ticks").call(V);var l="";if(i.length>1){v.filter(function(e){return e.units===r}).map(function(e){return e.color}).forEach(function(e,t){l+='<path d="M-30 '+(-1-4*t)+' h 30" style="stroke:'+e+'"/>'})}n.select(".colors").html(l),n.select(".units-label").text(r||""),n.select(".units-label-shadow").text(r||"")})}}}function o(e,t){var n=e.map(function(e){return e.points.reduce(function(e,n){return Math.abs(n.x-t)<Math.abs(e.x-t)?n:e})}),r=n.reduce(function(e,n){return Math.abs(n.x-t)<Math.abs(e.x-t)?n:e}),i=function(e){return Math.abs(e.x-r.x)<D},o=n.filter(i),a=n.map(i),s=e.filter(function(e,t){return a[t]});return s.forEach(function(e,t){e.point=o[t]}),s}function a(e,t,n){var r=n.select(".selection").selectAll("line").data(e.length>0?[e[0]]:[]);r.enter().append("line").merge(r).attr("x1",function(e){return t.x(e.point.x)}).attr("y1",function(e){return t.y[e.units||b.default.unknownUnits].range()[0]}).attr("x2",function(e){return t.x(e.point.x)}).attr("y2",function(e){return t.y[e.units||b.default.unknownUnits].range()[1]}),r.exit().remove();var i=n.select(".selection").selectAll("circle").data(e);i.enter().append("circle").merge(i).attr("cx",function(e){return t.x(e.point.x)}).attr("cy",function(e){return t.y[e.units||b.default.unknownUnits](e.point.y)}).style("fill",function(e){return(0,_.default)(e.color)?e.color:""}),i.exit().remove()}function s(e,t,n,r,i,s){if(e){var u=(0,c.mouse)(i.nodes()[0]),l=r.x.invert(u[0]),h=o(t,l);a(h,r,i);var d=i._parents[0].getBoundingClientRect();T.default.show(T.default.html(h),s,n.tooltipSettings,d)}}function u(e,t){e.select(".selection").selectAll("circle").data([]).exit().remove(),e.select(".selection").selectAll("line").data([]).exit().remove(),T.default.hide(t)}function l(e,t){return function(n){e.selectAll(".line").filter(function(e){return e.id!==n.id}).transition().style("opacity",t)}}var c=n(87),h=n(1382),d=n(1408),f=n(661),p=n(1),m=r(p),g=n(0),_=r(g),v=n(237),A=r(v),y=n(1464),b=r(y),w=n(1513),x=r(w),E=n(685),C=r(E),S=n(1514),T=r(S),I=21,M={top:20,right:30,bottom:20,left:0},O="No preview available",P=1e3,D=1e-8,B={create:function(e,t){if(e){var n=(0,c.select)(e);n.style("position","relative"),C.default.create(n,t.titleSettings);var r=n.append("svg").attr("class","d3").attr("width",t.width).attr("height",t.height),i=r.append("g").attr("class","line-chart");i.append("rect").attr("class","plot-area").attr("x","0").attr("y","0"),i.append("g").attr("class","x axis").style("opacity",1e-6).append("text").attr("class","label"),i.append("g").attr("class","y axes"),i.append("g").attr("class","no-data").append("text"),i.append("g").attr("class","selection"),T.default.create(t.tooltipSettings),this.update(e,t)}},update:function(e,t){i(e,t)},destroy:function(e,t){T.default.destroy(t.tooltipSettings)}};e.exports=B},function(e,t,n){"use strict";var r=n(272),i=n(640);t.a=function(e){return Object(i.a)(Object(r.a)(e).call(document.documentElement))}},function(e,t,n){"use strict";var r=n(88),i=n(375);t.a=function(e){"function"!=typeof e&&(e=Object(i.a)(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var s,u,l=t[a],c=l.length,h=o[a]=new Array(c),d=0;d<c;++d)(s=l[d])&&(u=e.call(s,s.__data__,d,l))&&("__data__"in s&&(u.__data__=s.__data__),h[d]=u);return new r.a(o,this._parents)}},function(e,t,n){"use strict";var r=n(88),i=n(641);t.a=function(e){"function"!=typeof e&&(e=Object(i.a)(e));for(var t=this._groups,n=t.length,o=[],a=[],s=0;s<n;++s)for(var u,l=t[s],c=l.length,h=0;h<c;++h)(u=l[h])&&(o.push(e.call(u,u.__data__,h,l)),a.push(u));return new r.a(o,a)}},function(e,t,n){"use strict";var r=n(88),i=n(642);t.a=function(e){"function"!=typeof e&&(e=Object(i.a)(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var s,u=t[a],l=u.length,c=o[a]=[],h=0;h<l;++h)(s=u[h])&&e.call(s,s.__data__,h,u)&&c.push(s);return new r.a(o,this._parents)}},function(e,t,n){"use strict";function r(e,t,n,r,i,o){for(var s,u=0,l=t.length,c=o.length;u<c;++u)(s=t[u])?(s.__data__=o[u],r[u]=s):n[u]=new a.a(e,o[u]);for(;u<l;++u)(s=t[u])&&(i[u]=s)}function i(e,t,n,r,i,o,s){var l,c,h,d={},f=t.length,p=o.length,m=new Array(f);for(l=0;l<f;++l)(c=t[l])&&(m[l]=h=u+s.call(c,c.__data__,l,t),h in d?i[l]=c:d[h]=c);for(l=0;l<p;++l)h=u+s.call(e,o[l],l,o),(c=d[h])?(r[l]=c,c.__data__=o[l],d[h]=null):n[l]=new a.a(e,o[l]);for(l=0;l<f;++l)(c=t[l])&&d[m[l]]===c&&(i[l]=c)}var o=n(88),a=n(643),s=n(1352),u="$";t.a=function(e,t){if(!e)return _=new Array(this.size()),f=-1,this.each(function(e){_[++f]=e}),_;var n=t?i:r,a=this._parents,u=this._groups;"function"!=typeof e&&(e=Object(s.a)(e));for(var l=u.length,c=new Array(l),h=new Array(l),d=new Array(l),f=0;f<l;++f){var p=a[f],m=u[f],g=m.length,_=e.call(p,p&&p.__data__,f,a),v=_.length,A=h[f]=new Array(v),y=c[f]=new Array(v);n(p,m,A,y,d[f]=new Array(g),_,t);for(var b,w,x=0,E=0;x<v;++x)if(b=A[x]){for(x>=E&&(E=x+1);!(w=y[E])&&++E<v;);b._next=w||null}}return c=new o.a(c,a),c._enter=h,c._exit=d,c}},function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},function(e,t,n){"use strict";var r=n(644),i=n(88);t.a=function(){return new i.a(this._exit||this._groups.map(r.a),this._parents)}},function(e,t,n){"use strict";t.a=function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i}},function(e,t,n){"use strict";var r=n(88);t.a=function(e){for(var t=this._groups,n=e._groups,i=t.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=t[u],h=n[u],d=c.length,f=s[u]=new Array(d),p=0;p<d;++p)(l=c[p]||h[p])&&(f[p]=l);for(;u<i;++u)s[u]=t[u];return new r.a(s,this._parents)}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this}},function(e,t,n){"use strict";function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var i=n(88);t.a=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=r);for(var n=this._groups,o=n.length,a=new Array(o),s=0;s<o;++s){for(var u,l=n[s],c=l.length,h=a[s]=new Array(c),d=0;d<c;++d)(u=l[d])&&(h[d]=u);h.sort(t)}return new i.a(a,this._parents).order()}},function(e,t,n){"use strict";t.a=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}},function(e,t,n){"use strict";t.a=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}},function(e,t,n){"use strict";t.a=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}},function(e,t,n){"use strict";t.a=function(){var e=0;return this.each(function(){++e}),e}},function(e,t,n){"use strict";t.a=function(){return!this.node()}},function(e,t,n){"use strict";t.a=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this}},function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t){return function(){this.setAttribute(e,t)}}function a(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function s(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function u(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var l=n(373);t.a=function(e,t){var n=Object(l.a)(e);if(arguments.length<2){var c=this.node();return n.local?c.getAttributeNS(n.space,n.local):c.getAttribute(n)}return this.each((null==t?n.local?i:r:"function"==typeof t?n.local?u:s:n.local?a:o)(n,t))}},function(e,t,n){"use strict";function r(e){return function(){delete this[e]}}function i(e,t){return function(){this[e]=t}}function o(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}t.a=function(e,t){return arguments.length>1?this.each((null==t?r:"function"==typeof t?o:i)(e,t)):this.node()[e]}},function(e,t,n){"use strict";function r(e){return e.trim().split(/^|\s+/)}function i(e){return e.classList||new o(e)}function o(e){this._node=e,this._names=r(e.getAttribute("class")||"")}function a(e,t){for(var n=i(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function s(e,t){for(var n=i(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function u(e){return function(){a(this,e)}}function l(e){return function(){s(this,e)}}function c(e,t){return function(){(t.apply(this,arguments)?a:s)(this,e)}}o.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}},t.a=function(e,t){var n=r(e+"");if(arguments.length<2){for(var o=i(this.node()),a=-1,s=n.length;++a<s;)if(!o.contains(n[a]))return!1;return!0}return this.each(("function"==typeof t?c:t?u:l)(n,t))}},function(e,t,n){"use strict";function r(){this.textContent=""}function i(e){return function(){this.textContent=e}}function o(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?r:("function"==typeof e?o:i)(e)):this.node().textContent}},function(e,t,n){"use strict";function r(){this.innerHTML=""}function i(e){return function(){this.innerHTML=e}}function o(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}t.a=function(e){return arguments.length?this.each(null==e?r:("function"==typeof e?o:i)(e)):this.node().innerHTML}},function(e,t,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";var r=n(272);t.a=function(e){var t="function"==typeof e?e:Object(r.a)(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}},function(e,t,n){"use strict";function r(){return null}var i=n(272),o=n(375);t.a=function(e,t){var n="function"==typeof e?e:Object(i.a)(e),a=null==t?r:"function"==typeof t?t:Object(o.a)(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},function(e,t,n){"use strict";function r(){var e=this.parentNode;e&&e.removeChild(this)}t.a=function(){return this.each(r)}},function(e,t,n){"use strict";function r(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function i(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}t.a=function(e){return this.select(e?i:r)}},function(e,t,n){"use strict";t.a=function(e){return arguments.length?this.property("__data__",e):this.node().__data__}},function(e,t,n){"use strict";function r(e,t,n){var r=Object(a.a)(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function i(e,t){return function(){return r(this,e,t)}}function o(e,t){return function(){return r(this,e,t.apply(this,arguments))}}var a=n(376);t.a=function(e,t){return this.each(("function"==typeof t?o:i)(e,t))}},function(e,t,n){"use strict";function r(){return new i}function i(){this._="@"+(++o).toString(36)}t.a=r;var o=0;i.prototype=r.prototype={constructor:i,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}},function(e,t,n){"use strict";var r=n(378),i=n(273);t.a=function(e){var t=Object(r.a)();return t.changedTouches&&(t=t.changedTouches[0]),Object(i.a)(e,t)}},function(e,t,n){"use strict";var r=n(88);t.a=function(e){return"string"==typeof e?new r.a([document.querySelectorAll(e)],[document.documentElement]):new r.a([null==e?[]:e],r.c)}},function(e,t,n){"use strict";var r=n(378),i=n(273);t.a=function(e,t,n){arguments.length<3&&(n=t,t=Object(r.a)().changedTouches);for(var o,a=0,s=t?t.length:0;a<s;++a)if((o=t[a]).identifier===n)return Object(i.a)(e,o);return null}},function(e,t,n){"use strict";var r=n(378),i=n(273);t.a=function(e,t){null==t&&(t=Object(r.a)().touches);for(var n=0,o=t?t.length:0,a=new Array(o);n<o;++n)a[n]=Object(i.a)(e,t[n]);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1383);n.d(t,"arc",function(){return r.a});var i=n(646);n.d(t,"area",function(){return i.a});var o=n(379);n.d(t,"line",function(){return o.a});var a=n(1385);n.d(t,"pie",function(){return a.a});var s=n(1388);n.d(t,"areaRadial",function(){return s.a}),n.d(t,"radialArea",function(){return s.a});var u=n(648);n.d(t,"lineRadial",function(){return u.a}),n.d(t,"radialLine",function(){return u.a});var l=n(649);n.d(t,"pointRadial",function(){return l.a});var c=n(1389);n.d(t,"linkHorizontal",function(){return c.a}),n.d(t,"linkVertical",function(){return c.c}),n.d(t,"linkRadial",function(){return c.b});var h=n(1390);n.d(t,"symbol",function(){return h.a}),n.d(t,"symbols",function(){return h.b});var d=n(651);n.d(t,"symbolCircle",function(){return d.a});var f=n(652);n.d(t,"symbolCross",function(){return f.a});var p=n(653);n.d(t,"symbolDiamond",function(){return p.a});var m=n(655);n.d(t,"symbolSquare",function(){return m.a});var g=n(654);n.d(t,"symbolStar",function(){return g.a});var _=n(656);n.d(t,"symbolTriangle",function(){return _.a});var v=n(657);n.d(t,"symbolWye",function(){return v.a});var A=n(1391);n.d(t,"curveBasisClosed",function(){return A.a});var y=n(1392);n.d(t,"curveBasisOpen",function(){return y.a});var b=n(276);n.d(t,"curveBasis",function(){return b.b});var w=n(1393);n.d(t,"curveBundle",function(){return w.a});var x=n(658);n.d(t,"curveCardinalClosed",function(){return x.b});var E=n(659);n.d(t,"curveCardinalOpen",function(){return E.b});var C=n(277);n.d(t,"curveCardinal",function(){return C.b});var S=n(1394);n.d(t,"curveCatmullRomClosed",function(){return S.a});var T=n(1395);n.d(t,"curveCatmullRomOpen",function(){return T.a});var I=n(381);n.d(t,"curveCatmullRom",function(){return I.a});var M=n(1396);n.d(t,"curveLinearClosed",function(){return M.a});var O=n(274);n.d(t,"curveLinear",function(){return O.a});var P=n(1397);n.d(t,"curveMonotoneX",function(){return P.a}),n.d(t,"curveMonotoneY",function(){return P.b});var D=n(1398);n.d(t,"curveNatural",function(){return D.a});var B=n(1399);n.d(t,"curveStep",function(){return B.a}),n.d(t,"curveStepAfter",function(){return B.b}),n.d(t,"curveStepBefore",function(){return B.c});var L=n(1400);n.d(t,"stack",function(){return L.a});var N=n(1401);n.d(t,"stackOffsetExpand",function(){return N.a});var R=n(1402);n.d(t,"stackOffsetDiverging",function(){return R.a});var k=n(209);n.d(t,"stackOffsetNone",function(){return k.a});var F=n(1403);n.d(t,"stackOffsetSilhouette",function(){return F.a});var U=n(1404);n.d(t,"stackOffsetWiggle",function(){return U.a});var z=n(660);n.d(t,"stackOrderAppearance",function(){return z.a});var j=n(382);n.d(t,"stackOrderAscending",function(){return j.a});var H=n(1405);n.d(t,"stackOrderDescending",function(){return H.a});var V=n(1406);n.d(t,"stackOrderInsideOut",function(){return V.a});var Q=n(210);n.d(t,"stackOrderNone",function(){return Q.a});var G=n(1407);n.d(t,"stackOrderReverse",function(){return G.a})},function(e,t,n){"use strict";function r(e){return e.innerRadius}function i(e){return e.outerRadius}function o(e){return e.startAngle}function a(e){return e.endAngle}function s(e){return e&&e.padAngle}function u(e,t,n,r,i,o,a,s){var u=n-e,l=r-t,c=a-i,h=s-o,f=h*u-c*l;if(!(f*f<d.f))return f=(c*(t-o)-h*(e-i))/f,[e+f*u,t+f*l]}function l(e,t,n,r,i,o,a){var s=e-n,u=t-r,l=(a?o:-o)/Object(d.l)(s*s+u*u),c=l*u,h=-l*s,f=e+c,p=t+h,m=n+c,g=r+h,_=(f+m)/2,v=(p+g)/2,A=m-f,y=g-p,b=A*A+y*y,w=i-o,x=f*g-m*p,E=(y<0?-1:1)*Object(d.l)(Object(d.h)(0,w*w*b-x*x)),C=(x*y-A*E)/b,S=(-x*A-y*E)/b,T=(x*y+A*E)/b,I=(-x*A+y*E)/b,M=C-_,O=S-v,P=T-_,D=I-v;return M*M+O*O>P*P+D*D&&(C=T,S=I),{cx:C,cy:S,x01:-c,y01:-h,x11:C*(i/w-1),y11:S*(i/w-1)}}var c=n(207),h=n(146),d=n(208);t.a=function(){function e(){var e,r,i=+t.apply(this,arguments),o=+n.apply(this,arguments),a=m.apply(this,arguments)-d.g,s=g.apply(this,arguments)-d.g,h=Object(d.a)(s-a),A=s>a;if(v||(v=e=Object(c.a)()),o<i&&(r=o,o=i,i=r),o>d.f)if(h>d.m-d.f)v.moveTo(o*Object(d.e)(a),o*Object(d.k)(a)),v.arc(0,0,o,a,s,!A),i>d.f&&(v.moveTo(i*Object(d.e)(s),i*Object(d.k)(s)),v.arc(0,0,i,s,a,A));else{var y,b,w=a,x=s,E=a,C=s,S=h,T=h,I=_.apply(this,arguments)/2,M=I>d.f&&(p?+p.apply(this,arguments):Object(d.l)(i*i+o*o)),O=Object(d.i)(Object(d.a)(o-i)/2,+f.apply(this,arguments)),P=O,D=O;if(M>d.f){var B=Object(d.c)(M/i*Object(d.k)(I)),L=Object(d.c)(M/o*Object(d.k)(I));(S-=2*B)>d.f?(B*=A?1:-1,E+=B,C-=B):(S=0,E=C=(a+s)/2),(T-=2*L)>d.f?(L*=A?1:-1,w+=L,x-=L):(T=0,w=x=(a+s)/2)}var N=o*Object(d.e)(w),R=o*Object(d.k)(w),k=i*Object(d.e)(C),F=i*Object(d.k)(C);if(O>d.f){var U,z=o*Object(d.e)(x),j=o*Object(d.k)(x),H=i*Object(d.e)(E),V=i*Object(d.k)(E);if(h<d.j&&(U=u(N,R,H,V,z,j,k,F))){var Q=N-U[0],G=R-U[1],W=z-U[0],q=j-U[1],Y=1/Object(d.k)(Object(d.b)((Q*W+G*q)/(Object(d.l)(Q*Q+G*G)*Object(d.l)(W*W+q*q)))/2),K=Object(d.l)(U[0]*U[0]+U[1]*U[1]);P=Object(d.i)(O,(i-K)/(Y-1)),D=Object(d.i)(O,(o-K)/(Y+1))}}T>d.f?D>d.f?(y=l(H,V,N,R,o,D,A),b=l(z,j,k,F,o,D,A),v.moveTo(y.cx+y.x01,y.cy+y.y01),D<O?v.arc(y.cx,y.cy,D,Object(d.d)(y.y01,y.x01),Object(d.d)(b.y01,b.x01),!A):(v.arc(y.cx,y.cy,D,Object(d.d)(y.y01,y.x01),Object(d.d)(y.y11,y.x11),!A),v.arc(0,0,o,Object(d.d)(y.cy+y.y11,y.cx+y.x11),Object(d.d)(b.cy+b.y11,b.cx+b.x11),!A),v.arc(b.cx,b.cy,D,Object(d.d)(b.y11,b.x11),Object(d.d)(b.y01,b.x01),!A))):(v.moveTo(N,R),v.arc(0,0,o,w,x,!A)):v.moveTo(N,R),i>d.f&&S>d.f?P>d.f?(y=l(k,F,z,j,i,-P,A),b=l(N,R,H,V,i,-P,A),v.lineTo(y.cx+y.x01,y.cy+y.y01),P<O?v.arc(y.cx,y.cy,P,Object(d.d)(y.y01,y.x01),Object(d.d)(b.y01,b.x01),!A):(v.arc(y.cx,y.cy,P,Object(d.d)(y.y01,y.x01),Object(d.d)(y.y11,y.x11),!A),v.arc(0,0,i,Object(d.d)(y.cy+y.y11,y.cx+y.x11),Object(d.d)(b.cy+b.y11,b.cx+b.x11),A),v.arc(b.cx,b.cy,P,Object(d.d)(b.y11,b.x11),Object(d.d)(b.y01,b.x01),!A))):v.arc(0,0,i,C,E,A):v.lineTo(k,F)}else v.moveTo(0,0);if(v.closePath(),e)return v=null,e+""||null}var t=r,n=i,f=Object(h.a)(0),p=null,m=o,g=a,_=s,v=null;return e.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+m.apply(this,arguments)+ +g.apply(this,arguments))/2-d.j/2;return[Object(d.e)(r)*e,Object(d.k)(r)*e]},e.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:Object(h.a)(+n),e):t},e.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Object(h.a)(+t),e):n},e.cornerRadius=function(t){return arguments.length?(f="function"==typeof t?t:Object(h.a)(+t),e):f},e.padRadius=function(t){return arguments.length?(p=null==t?null:"function"==typeof t?t:Object(h.a)(+t),e):p},e.startAngle=function(t){return arguments.length?(m="function"==typeof t?t:Object(h.a)(+t),e):m},e.endAngle=function(t){return arguments.length?(g="function"==typeof t?t:Object(h.a)(+t),e):g},e.padAngle=function(t){return arguments.length?(_="function"==typeof t?t:Object(h.a)(+t),e):_},e.context=function(t){return arguments.length?(v=null==t?null:t,e):v},e}},function(e,t,n){"use strict";function r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function i(){return new r}var o=Math.PI,a=2*o,s=a-1e-6;r.prototype=i.prototype={constructor:r,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,s=this._y1,u=n-e,l=r-t,c=a-e,h=s-t,d=c*c+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>1e-6)if(Math.abs(h*u-l*c)>1e-6&&i){var f=n-a,p=r-s,m=u*u+l*l,g=f*f+p*p,_=Math.sqrt(m),v=Math.sqrt(d),A=i*Math.tan((o-Math.acos((m+d-g)/(2*_*v)))/2),y=A/v,b=A/_;Math.abs(y-1)>1e-6&&(this._+="L"+(e+y*c)+","+(t+y*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>c*p)+","+(this._x1=e+b*u)+","+(this._y1=t+b*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,u){e=+e,t=+t,n=+n,u=!!u;var l=n*Math.cos(r),c=n*Math.sin(r),h=e+l,d=t+c,f=1^u,p=u?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+d:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-d)>1e-6)&&(this._+="L"+h+","+d),n&&(p<0&&(p=p%a+a),p>s?this._+="A"+n+","+n+",0,1,"+f+","+(e-l)+","+(t-c)+"A"+n+","+n+",0,1,"+f+","+(this._x1=h)+","+(this._y1=d):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=o)+","+f+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.a=i},function(e,t,n){"use strict";var r=n(146),i=n(1386),o=n(1387),a=n(208);t.a=function(){function e(e){var r,i,o,h,d,f=e.length,p=0,m=new Array(f),g=new Array(f),_=+u.apply(this,arguments),v=Math.min(a.m,Math.max(-a.m,l.apply(this,arguments)-_)),A=Math.min(Math.abs(v)/f,c.apply(this,arguments)),y=A*(v<0?-1:1);for(r=0;r<f;++r)(d=g[m[r]=r]=+t(e[r],r,e))>0&&(p+=d);for(null!=n?m.sort(function(e,t){return n(g[e],g[t])}):null!=s&&m.sort(function(t,n){return s(e[t],e[n])}),r=0,o=p?(v-f*y)/p:0;r<f;++r,_=h)i=m[r],d=g[i],h=_+(d>0?d*o:0)+y,g[i]={data:e[i],index:r,value:d,startAngle:_,endAngle:h,padAngle:A};return g}var t=o.a,n=i.a,s=null,u=Object(r.a)(0),l=Object(r.a)(a.m),c=Object(r.a)(0);return e.value=function(n){return arguments.length?(t="function"==typeof n?n:Object(r.a)(+n),e):t},e.sortValues=function(t){return arguments.length?(n=t,s=null,e):n},e.sort=function(t){return arguments.length?(s=t,n=null,e):s},e.startAngle=function(t){return arguments.length?(u="function"==typeof t?t:Object(r.a)(+t),e):u},e.endAngle=function(t){return arguments.length?(l="function"==typeof t?t:Object(r.a)(+t),e):l},e.padAngle=function(t){return arguments.length?(c="function"==typeof t?t:Object(r.a)(+t),e):c},e}},function(e,t,n){"use strict";t.a=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";var r=n(647),i=n(646),o=n(648);t.a=function(){var e=Object(i.a)().curve(r.a),t=e.curve,n=e.lineX0,a=e.lineX1,s=e.lineY0,u=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Object(o.b)(n())},delete e.lineX0,e.lineEndAngle=function(){return Object(o.b)(a())},delete e.lineX1,e.lineInnerRadius=function(){return Object(o.b)(s())},delete e.lineY0,e.lineOuterRadius=function(){return Object(o.b)(u())},delete e.lineY1,e.curve=function(e){return arguments.length?t(Object(r.b)(e)):t()._curve},e}},function(e,t,n){"use strict";function r(e){return e.source}function i(e){return e.target}function o(e){function t(){var t,r=f.a.call(arguments),i=n.apply(this,r),l=o.apply(this,r);if(u||(u=t=Object(d.a)()),e(u,+a.apply(this,(r[0]=i,r)),+s.apply(this,r),+a.apply(this,(r[0]=l,r)),+s.apply(this,r)),t)return u=null,t+""||null}var n=r,o=i,a=m.a,s=m.b,u=null;return t.source=function(e){return arguments.length?(n=e,t):n},t.target=function(e){return arguments.length?(o=e,t):o},t.x=function(e){return arguments.length?(a="function"==typeof e?e:Object(p.a)(+e),t):a},t.y=function(e){return arguments.length?(s="function"==typeof e?e:Object(p.a)(+e),t):s},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t}function a(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function s(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function u(e,t,n,r,i){var o=Object(g.a)(t,n),a=Object(g.a)(t,n=(n+i)/2),s=Object(g.a)(r,n),u=Object(g.a)(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function l(){return o(a)}function c(){return o(s)}function h(){var e=o(u);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}t.a=l,t.c=c,t.b=h;var d=n(207),f=n(650),p=n(146),m=n(380),g=n(649)},function(e,t,n){"use strict";n.d(t,"b",function(){return d});var r=n(207),i=n(651),o=n(652),a=n(653),s=n(654),u=n(655),l=n(656),c=n(657),h=n(146),d=[i.a,o.a,a.a,u.a,s.a,l.a,c.a];t.a=function(){function e(){var e;if(o||(o=e=Object(r.a)()),t.apply(this,arguments).draw(o,+n.apply(this,arguments)),e)return o=null,e+""||null}var t=Object(h.a)(i.a),n=Object(h.a)(64),o=null;return e.type=function(n){return arguments.length?(t="function"==typeof n?n:Object(h.a)(n),e):t},e.size=function(t){return arguments.length?(n="function"==typeof t?t:Object(h.a)(+t),e):n},e.context=function(t){return arguments.length?(o=null==t?null:t,e):o},e}},function(e,t,n){"use strict";function r(e){this._context=e}var i=n(275),o=n(276);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Object(o.c)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},t.a=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e){this._context=e}var i=n(276);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Object(i.c)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},t.a=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e,t){this._basis=new i.a(e),this._beta=t}var i=n(276);r.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],o=t[0],a=e[n]-i,s=t[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*a),this._beta*t[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}},t.a=function e(t){function n(e){return 1===t?new i.a(e):new r(e,t)}return n.beta=function(t){return e(+t)},n}(.85)},function(e,t,n){"use strict";function r(e,t){this._context=e,this._alpha=t}var i=n(658),o=n(275),a=n(381);r.prototype={areaStart:o.a,areaEnd:o.a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Object(a.b)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.a=function e(t){function n(e){return t?new r(e,t):new i.a(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},function(e,t,n){"use strict";function r(e,t){this._context=e,this._alpha=t}var i=n(659),o=n(381);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Object(o.b)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},t.a=function e(t){function n(e){return t?new r(e,t):new i.a(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},function(e,t,n){"use strict";function r(e){this._context=e}var i=n(275);r.prototype={areaStart:i.a,areaEnd:i.a,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},t.a=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e){return e<0?-1:1}function i(e,t,n){var i=e._x1-e._x0,o=t-e._x1,a=(e._y1-e._y0)/(i||o<0&&-0),s=(n-e._y1)/(o||i<0&&-0),u=(a*o+s*i)/(i+o);return(r(a)+r(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function o(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function a(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function s(e){this._context=e}function u(e){this._context=new l(e)}function l(e){this._context=e}function c(e){return new s(e)}function h(e){return new u(e)}t.a=c,t.b=h,s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a(this,this._t0,o(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,a(this,o(this,n=i(this,e,t)),n);break;default:a(this,this._t0,n=i(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(u.prototype=Object.create(s.prototype)).point=function(e,t){s.prototype.point.call(this,t,e)},l.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}}},function(e,t,n){"use strict";function r(e){this._context=e}function i(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=i(e),o=i(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],o[0][a],r[1][a],o[1][a],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},t.a=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e,t){this._context=e,this._t=t}function i(e){return new r(e,0)}function o(e){return new r(e,1)}t.c=i,t.b=o,r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}},t.a=function(e){return new r(e,.5)}},function(e,t,n){"use strict";function r(e,t){return e[t]}var i=n(650),o=n(146),a=n(209),s=n(210);t.a=function(){function e(e){var r,i,o=t.apply(this,arguments),a=e.length,s=o.length,c=new Array(s);for(r=0;r<s;++r){for(var h,d=o[r],f=c[r]=new Array(a),p=0;p<a;++p)f[p]=h=[0,+l(e[p],d,p,e)],h.data=e[p];f.key=d}for(r=0,i=n(c);r<s;++r)c[i[r]].index=r;return u(c,i),c}var t=Object(o.a)([]),n=s.a,u=a.a,l=r;return e.keys=function(n){return arguments.length?(t="function"==typeof n?n:Object(o.a)(i.a.call(n)),e):t},e.value=function(t){return arguments.length?(l="function"==typeof t?t:Object(o.a)(+t),e):l},e.order=function(t){return arguments.length?(n=null==t?s.a:"function"==typeof t?t:Object(o.a)(i.a.call(t)),e):n},e.offset=function(t){return arguments.length?(u=null==t?a.a:t,e):u},e}},function(e,t,n){"use strict";var r=n(209);t.a=function(e,t){if((i=e.length)>0){for(var n,i,o,a=0,s=e[0].length;a<s;++a){for(o=n=0;n<i;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<i;++n)e[n][a][1]/=o}Object(r.a)(e,t)}}},function(e,t,n){"use strict";t.a=function(e,t){if((s=e.length)>0)for(var n,r,i,o,a,s,u=0,l=e[t[0]].length;u<l;++u)for(o=a=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}},function(e,t,n){"use strict";var r=n(209);t.a=function(e,t){if((n=e.length)>0){for(var n,i=0,o=e[t[0]],a=o.length;i<a;++i){for(var s=0,u=0;s<n;++s)u+=e[s][i][1]||0;o[i][1]+=o[i][0]=-u/2}Object(r.a)(e,t)}}},function(e,t,n){"use strict";var r=n(209);t.a=function(e,t){if((o=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,o,a=0,s=1;s<i;++s){for(var u=0,l=0,c=0;u<o;++u){for(var h=e[t[u]],d=h[s][1]||0,f=h[s-1][1]||0,p=(d-f)/2,m=0;m<u;++m){var g=e[t[m]];p+=(g[s][1]||0)-(g[s-1][1]||0)}l+=d,c+=p*d}n[s-1][1]+=n[s-1][0]=a,l&&(a-=c/l)}n[s-1][1]+=n[s-1][0]=a,Object(r.a)(e,t)}}},function(e,t,n){"use strict";var r=n(382);t.a=function(e){return Object(r.a)(e).reverse()}},function(e,t,n){"use strict";var r=n(660),i=n(382);t.a=function(e){var t,n,o=e.length,a=e.map(i.b),s=Object(r.a)(e),u=0,l=0,c=[],h=[];for(t=0;t<o;++t)n=s[t],u<l?(u+=a[n],c.push(n)):(l+=a[n],h.push(n));return h.reverse().concat(c)}},function(e,t,n){"use strict";var r=n(210);t.a=function(e){return Object(r.a)(e).reverse()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1409);n.d(t,"axisTop",function(){return r.d}),n.d(t,"axisRight",function(){return r.c}),n.d(t,"axisBottom",function(){return r.a}),n.d(t,"axisLeft",function(){return r.b})},function(e,t,n){"use strict";function r(e){return"translate("+(e+.5)+",0)"}function i(e){return"translate(0,"+(e+.5)+")"}function o(e){return function(t){return+e(t)}}function a(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function s(){return!this.__axis}function u(e,t){function n(n){var r=null==l?t.ticks?t.ticks.apply(t,u):t.domain():l,i=null==c?t.tickFormat?t.tickFormat.apply(t,u):p.a:c,f=Math.max(h,0)+y,E=t.range(),C=+E[0]+.5,S=+E[E.length-1]+.5,T=(t.bandwidth?a:o)(t.copy()),I=n.selection?n.selection():n,M=I.selectAll(".domain").data([null]),O=I.selectAll(".tick").data(r,t).order(),P=O.exit(),D=O.enter().append("g").attr("class","tick"),B=O.select("line"),L=O.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(D),B=B.merge(D.append("line").attr("stroke","currentColor").attr(w+"2",b*h)),L=L.merge(D.append("text").attr("fill","currentColor").attr(w,b*f).attr("dy",e===m?"0em":e===_?"0.71em":"0.32em")),n!==I&&(M=M.transition(n),O=O.transition(n),B=B.transition(n),L=L.transition(n),P=P.transition(n).attr("opacity",A).attr("transform",function(e){return isFinite(e=T(e))?x(e):this.getAttribute("transform")}),D.attr("opacity",A).attr("transform",function(e){var t=this.parentNode.__axis;return x(t&&isFinite(t=t(e))?t:T(e))})),P.remove(),M.attr("d",e===v||e==g?d?"M"+b*d+","+C+"H0.5V"+S+"H"+b*d:"M0.5,"+C+"V"+S:d?"M"+C+","+b*d+"V0.5H"+S+"V"+b*d:"M"+C+",0.5H"+S),O.attr("opacity",1).attr("transform",function(e){return x(T(e))}),B.attr(w+"2",b*h),L.attr(w,b*f).text(i),I.filter(s).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===g?"start":e===v?"end":"middle"),I.each(function(){this.__axis=T})}var u=[],l=null,c=null,h=6,d=6,y=3,b=e===m||e===v?-1:1,w=e===v||e===g?"x":"y",x=e===m||e===_?r:i;return n.scale=function(e){return arguments.length?(t=e,n):t},n.ticks=function(){return u=f.a.call(arguments),n},n.tickArguments=function(e){return arguments.length?(u=null==e?[]:f.a.call(e),n):u.slice()},n.tickValues=function(e){return arguments.length?(l=null==e?null:f.a.call(e),n):l&&l.slice()},n.tickFormat=function(e){return arguments.length?(c=e,n):c},n.tickSize=function(e){return arguments.length?(h=d=+e,n):h},n.tickSizeInner=function(e){return arguments.length?(h=+e,n):h},n.tickSizeOuter=function(e){return arguments.length?(d=+e,n):d},n.tickPadding=function(e){return arguments.length?(y=+e,n):y},n}function l(e){return u(m,e)}function c(e){return u(g,e)}function h(e){return u(_,e)}function d(e){return u(v,e)}t.d=l,t.c=c,t.a=h,t.b=d;var f=n(1410),p=n(1411),m=1,g=2,_=3,v=4,A=1e-6},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Array.prototype.slice},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";var r=n(87),i=n(1413),o=n(1418);r.selection.prototype.interrupt=i.a,r.selection.prototype.transition=o.a},function(e,t,n){"use strict";var r=n(662);t.a=function(e){return this.each(function(){Object(r.a)(this,e)})}},function(e,t,n){"use strict";var r=n(1415);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new i(r)}function i(e){this._=e}function o(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function a(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function s(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=u,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}var u={value:function(){}};i.prototype=r.prototype={constructor:i,on:function(e,t){var n,r=this._,i=o(e+"",r),u=-1,l=i.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++u<l;)if(n=(e=i[u]).type)r[n]=s(r[n],e.name,t);else if(null==t)for(n in r)r[n]=s(r[n],e.name,null);return this}for(;++u<l;)if((n=(e=i[u]).type)&&(n=a(r[n],e.name)))return n}},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new i(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}},t.a=r},function(e,t,n){"use strict";var r=n(383);t.a=function(e,t,n){var i=new r.a;return t=null==t?0:+t,i.restart(function(n){i.stop(),e(n+t)},t,n),i}},function(e,t,n){"use strict";n(383)},function(e,t,n){"use strict";function r(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return u.time=Object(s.a)(),u;return n}var i=n(125),o=n(66),a=n(1452),s=n(663),u={time:null,delay:0,duration:250,ease:a.a};t.a=function(e){var t,n;e instanceof i.a?(t=e._id,e=e._name):(t=Object(i.c)(),(n=u).time=Object(s.a)(),e=null==e?null:e+"");for(var a=this._groups,l=a.length,c=0;c<l;++c)for(var h,d=a[c],f=d.length,p=0;p<f;++p)(h=d[p])&&Object(o.e)(h,e,t,p,d,n||r(h,t));return new i.a(a,this._parents,e,t)}},function(e,t,n){"use strict";function r(e){return function(){this.removeAttribute(e)}}function i(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function a(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function s(e,t,n){var r,i,o;return function(){var a,s,u=n(this);return null==u?void this.removeAttribute(e):(a=this.getAttribute(e),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,u)))}}function u(e,t,n){var r,i,o;return function(){var a,s,u=n(this);return null==u?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,u)))}}var l=n(126),c=n(87),h=n(279),d=n(672);t.a=function(e,t){var n=Object(c.namespace)(e),f="transform"===n?l.h:d.a;return this.attrTween(e,"function"==typeof t?(n.local?u:s)(n,f,Object(h.b)(this,"attr."+e,t)):null==t?(n.local?i:r)(n):(n.local?a:o)(n,f,t))}},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.l,e.a,e.b,e.opacity);if(e instanceof d)return f(e);e instanceof m.b||(e=Object(m.h)(e));var t,n,r=l(e.r),i=l(e.g),s=l(e.b),u=a((.2225045*r+.7168786*i+.0606169*s)/v);return r===i&&i===s?t=n=u:(t=a((.4360747*r+.3850649*i+.1430804*s)/_),n=a((.0139322*r+.0971045*i+.7141733*s)/A)),new o(116*u-16,500*(t-u),200*(u-n),e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function a(e){return e>x?Math.pow(e,1/3):e/w+y}function s(e){return e>b?e*e*e:w*(e-y)}function u(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function l(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function c(e){if(e instanceof d)return new d(e.h,e.c,e.l,e.opacity);if(e instanceof o||(e=r(e)),0===e.a&&0===e.b)return new d(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*g.b;return new d(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function h(e,t,n,r){return 1===arguments.length?c(e):new d(e,t,n,null==r?1:r)}function d(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function f(e){if(isNaN(e.h))return new o(e.l,0,0,e.opacity);var t=e.h*g.a;return new o(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}t.a=i,t.b=h;var p=n(386),m=n(385),g=n(664),_=.96422,v=1,A=.82521,y=4/29,b=6/29,w=3*b*b,x=b*b*b;Object(p.a)(o,i,Object(p.b)(m.a,{brighter:function(e){return new o(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new o(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=_*s(t),e=v*s(e),n=A*s(n),new m.b(u(3.1338561*t-1.6168667*e-.4906146*n),u(-.9787684*t+1.9161415*e+.033454*n),u(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Object(p.a)(d,h,Object(p.b)(m.a,{brighter:function(e){return new d(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new d(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return f(this).rgb()}}))},function(e,t,n){"use strict";function r(e){if(e instanceof o)return new o(e.h,e.s,e.l,e.opacity);e instanceof s.b||(e=Object(s.h)(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(g*r+p*t-m*n)/(g+p-m),a=r-i,l=(f*(n-i)-h*a)/d,c=Math.sqrt(l*l+a*a)/(f*i*(1-i)),_=c?Math.atan2(l,a)*u.b-120:NaN;return new o(_<0?_+360:_,c,i,e.opacity)}function i(e,t,n,i){return 1===arguments.length?r(e):new o(e,t,n,null==i?1:i)}function o(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}t.a=i;var a=n(386),s=n(385),u=n(664),l=-.14861,c=1.78277,h=-.29227,d=-.90649,f=1.97294,p=f*d,m=f*c,g=c*h-d*l;Object(a.a)(o,i,Object(a.b)(s.a,{brighter:function(e){return e=null==e?s.c:Math.pow(s.c,e),new o(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?s.d:Math.pow(s.d,e),new o(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*u.a,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new s.b(255*(t+n*(l*r+c*i)),255*(t+n*(h*r+d*i)),255*(t+n*(f*r)),this.opacity)}}))},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(179)},function(e,t,n){"use strict";t.a=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}},function(e,t,n){"use strict";function r(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}function a(e,r,o,a,s,u){if(e!==o||r!==a){var l=s.push("translate(",null,t,null,n);u.push({i:l-4,x:Object(i.a)(e,o)},{i:l-2,x:Object(i.a)(r,a)})}else(o||a)&&s.push("translate("+o+t+a+n)}function s(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Object(i.a)(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}function u(e,t,n,a){e!==t?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Object(i.a)(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}function l(e,t,n,r,a,s){if(e!==n||t!==r){var u=a.push(o(a)+"scale(",null,",",null,")");s.push({i:u-4,x:Object(i.a)(e,n)},{i:u-2,x:Object(i.a)(t,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),s(t.rotate,n.rotate,r,i),u(t.skewX,n.skewX,r,i),l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,o=i.length;++n<o;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var i=n(278),o=n(1426),a=r(o.a,"px, ","px)","deg)"),s=r(o.b,", ",")",")")},function(e,t,n){"use strict";function r(e){return"none"===e?l.b:(o||(o=document.createElement("DIV"),a=document.documentElement,s=document.defaultView),o.style.transform=e,e=s.getComputedStyle(a.appendChild(o),null).getPropertyValue("transform"),a.removeChild(o),e=e.slice(7,-1).split(","),Object(l.a)(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function i(e){return null==e?l.b:(u||(u=document.createElementNS("http://www.w3.org/2000/svg","g")),u.setAttribute("transform",e),(e=u.transform.baseVal.consolidate())?(e=e.matrix,Object(l.a)(e.a,e.b,e.c,e.d,e.e,e.f)):l.b)}t.a=r,t.b=i;var o,a,s,u,l=n(1427)},function(e,t,n){"use strict";n.d(t,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};t.a=function(e,t,n,i,o,a){var s,u,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,l/=u),e*i<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*r,skewX:Math.atan(l)*r,scaleX:s,scaleY:u}}},function(e,t,n){"use strict";Math.SQRT2},function(e,t,n){"use strict";function r(e){return function(t,n){var r=e((t=Object(i.d)(t)).h,(n=Object(i.d)(n)).h),a=Object(o.a)(t.s,n.s),s=Object(o.a)(t.l,n.l),u=Object(o.a)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=a(e),t.l=s(e),t.opacity=u(e),t+""}}}var i=n(111),o=n(179);r(o.c),r(o.a)},function(e,t,n){"use strict";n(111),n(179)},function(e,t,n){"use strict";function r(e){return function(t,n){var r=e((t=Object(i.c)(t)).h,(n=Object(i.c)(n)).h),a=Object(o.a)(t.c,n.c),s=Object(o.a)(t.l,n.l),u=Object(o.a)(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=a(e),t.l=s(e),t.opacity=u(e),t+""}}}var i=n(111),o=n(179);r(o.c),r(o.a)},function(e,t,n){"use strict";function r(e){return function t(n){function r(t,r){var a=e((t=Object(i.b)(t)).h,(r=Object(i.b)(r)).h),s=Object(o.a)(t.s,r.s),u=Object(o.a)(t.l,r.l),l=Object(o.a)(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=s(e),t.l=u(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,r.gamma=t,r}(1)}n.d(t,"a",function(){return a});var i=n(111),o=n(179),a=(r(o.c),r(o.a))},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function i(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function o(e,t){function n(){var n=t.apply(this,arguments);return n!==o&&(r=(o=n)&&i(e,n)),r}var r,o;return n._value=t,n}function a(e,t){function n(){var n=t.apply(this,arguments);return n!==o&&(i=(o=n)&&r(e,n)),i}var i,o;return n._value=t,n}var s=n(87);t.a=function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Object(s.namespace)(e);return this.tween(n,(r.local?o:a)(r,t))}},function(e,t,n){"use strict";function r(e,t){return function(){Object(o.g)(this,e).delay=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){Object(o.g)(this,e).delay=t}}var o=n(66);t.a=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:i)(t,e)):Object(o.f)(this.node(),t).delay}},function(e,t,n){"use strict";function r(e,t){return function(){Object(o.h)(this,e).duration=+t.apply(this,arguments)}}function i(e,t){return t=+t,function(){Object(o.h)(this,e).duration=t}}var o=n(66);t.a=function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?r:i)(t,e)):Object(o.f)(this.node(),t).duration}},function(e,t,n){"use strict";function r(e,t){if("function"!=typeof t)throw new Error;return function(){Object(i.h)(this,e).ease=t}}var i=n(66);t.a=function(e){var t=this._id;return arguments.length?this.each(r(t,e)):Object(i.f)(this.node(),t).ease}},function(e,t,n){"use strict";var r=n(87),i=n(125);t.a=function(e){"function"!=typeof e&&(e=Object(r.matcher)(e));for(var t=this._groups,n=t.length,o=new Array(n),a=0;a<n;++a)for(var s,u=t[a],l=u.length,c=o[a]=[],h=0;h<l;++h)(s=u[h])&&e.call(s,s.__data__,h,u)&&c.push(s);return new i.a(o,this._parents,this._name,this._id)}},function(e,t,n){"use strict";var r=n(125);t.a=function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=t[u],h=n[u],d=c.length,f=s[u]=new Array(d),p=0;p<d;++p)(l=c[p]||h[p])&&(f[p]=l);for(;u<i;++u)s[u]=t[u];return new r.a(s,this._parents,this._name,this._id)}},function(e,t,n){"use strict";function r(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}function i(e,t,n){var i,a,s=r(t)?o.g:o.h;return function(){var r=s(this,e),o=r.on;o!==i&&(a=(i=o).copy()).on(t,n),r.on=a}}var o=n(66);t.a=function(e,t){var n=this._id;return arguments.length<2?Object(o.f)(this.node(),n).on.on(e):this.each(i(n,e,t))}},function(e,t,n){"use strict";function r(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}t.a=function(){return this.on("end.remove",r(this._id))}},function(e,t,n){"use strict";var r=n(87),i=n(125),o=n(66);t.a=function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(r.selector)(e));for(var a=this._groups,s=a.length,u=new Array(s),l=0;l<s;++l)for(var c,h,d=a[l],f=d.length,p=u[l]=new Array(f),m=0;m<f;++m)(c=d[m])&&(h=e.call(c,c.__data__,m,d))&&("__data__"in c&&(h.__data__=c.__data__),p[m]=h,Object(o.e)(p[m],t,n,m,p,Object(o.f)(c,n)));return new i.a(u,this._parents,t,n)}},function(e,t,n){"use strict";var r=n(87),i=n(125),o=n(66);t.a=function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(r.selectorAll)(e));for(var a=this._groups,s=a.length,u=[],l=[],c=0;c<s;++c)for(var h,d=a[c],f=d.length,p=0;p<f;++p)if(h=d[p]){for(var m,g=e.call(h,h.__data__,p,d),_=Object(o.f)(h,n),v=0,A=g.length;v<A;++v)(m=g[v])&&Object(o.e)(m,t,n,v,g,_);u.push(g),l.push(h)}return new i.a(u,l,t,n)}},function(e,t,n){"use strict";var r=n(87),i=r.selection.prototype.constructor;t.a=function(){return new i(this._groups,this._parents)}},function(e,t,n){"use strict";function r(e,t){var n,r,i;return function(){var o=Object(l.style)(this,e),a=(this.style.removeProperty(e),Object(l.style)(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function i(e){return function(){this.style.removeProperty(e)}}function o(e,t,n){var r,i,o=n+"";return function(){var a=Object(l.style)(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}function a(e,t,n){var r,i,o;return function(){var a=Object(l.style)(this,e),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(e),u=s=Object(l.style)(this,e)),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}function s(e,t){var n,r,o,a,s="style."+t,u="end."+s;return function(){var l=Object(c.h)(this,e),h=l.on,d=null==l.value[s]?a||(a=i(t)):void 0;h===n&&o===d||(r=(n=h).copy()).on(u,o=d),l.on=r}}var u=n(126),l=n(87),c=n(66),h=n(279),d=n(672);t.a=function(e,t,n){var l="transform"==(e+="")?u.g:d.a;return null==t?this.styleTween(e,r(e,l)).on("end.style."+e,i(e)):"function"==typeof t?this.styleTween(e,a(e,l,Object(h.b)(this,"style."+e,t))).each(s(this._id,e)):this.styleTween(e,o(e,l,t),n).on("end.style."+e,null)}},function(e,t,n){"use strict";function r(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function i(e,t,n){function i(){var i=t.apply(this,arguments);return i!==a&&(o=(a=i)&&r(e,i,n)),o}var o,a;return i._value=t,i}t.a=function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,i(e,t,null==n?"":n))}},function(e,t,n){"use strict";function r(e){return function(){this.textContent=e}}function i(e){return function(){var t=e(this);this.textContent=null==t?"":t}}var o=n(279);t.a=function(e){return this.tween("text","function"==typeof e?i(Object(o.b)(this,"text",e)):r(null==e?"":e+""))}},function(e,t,n){"use strict";function r(e){return function(t){this.textContent=e.call(this,t)}}function i(e){function t(){var t=e.apply(this,arguments);return t!==i&&(n=(i=t)&&r(t)),n}var n,i;return t._value=e,t}t.a=function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,i(e))}},function(e,t,n){"use strict";var r=n(125),i=n(66);t.a=function(){for(var e=this._name,t=this._id,n=Object(r.c)(),o=this._groups,a=o.length,s=0;s<a;++s)for(var u,l=o[s],c=l.length,h=0;h<c;++h)if(u=l[h]){var d=Object(i.f)(u,t);Object(i.e)(u,e,n,h,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new r.a(o,this._parents,e,n)}},function(e,t,n){"use strict";var r=n(66);t.a=function(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(a,s){var u={value:s},l={value:function(){0==--o&&a()}};n.each(function(){var n=Object(r.h)(this,i),o=n.on;o!==e&&(t=(e=o).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),n.on=t})})}},function(e,t,n){"use strict";var r=(n(1453),n(1454),n(1455));n.d(t,"a",function(){return r.a});n(1456),n(1457),n(1458),n(1459),n(1460),n(1461),n(1462)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}t.a=r},function(e,t,n){"use strict";(function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n})(3),function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3)},function(e,t,n){"use strict";Math.PI},function(e,t,n){"use strict";n(673)},function(e,t,n){"use strict"},function(e,t,n){"use strict"},function(e,t,n){"use strict";(function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n})(1.70158),function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(1.70158),function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158)},function(e,t,n){"use strict";var r=n(673),i=2*Math.PI;(function e(t,n){function o(e){return t*Object(r.a)(- --e)*Math.sin((a-e)/n)}var a=Math.asin(1/(t=Math.max(1,t)))*(n/=i);return o.amplitude=function(t){return e(t,n*i)},o.period=function(n){return e(t,n)},o})(1,.3),function e(t,n){function o(e){return 1-t*Object(r.a)(e=+e)*Math.sin((e+a)/n)}var a=Math.asin(1/(t=Math.max(1,t)))*(n/=i);return o.amplitude=function(t){return e(t,n*i)},o.period=function(n){return e(t,n)},o}(1,.3),function e(t,n){function o(e){return((e=2*e-1)<0?t*Object(r.a)(-e)*Math.sin((a-e)/n):2-t*Object(r.a)(e)*Math.sin((a+e)/n))/2}var a=Math.asin(1/(t=Math.max(1,t)))*(n/=i);return o.amplitude=function(t){return e(t,n*i)},o.period=function(n){return e(t,n)},o}(1,.3)},function(e,t,n){"use strict";var r=n(125),i=n(66),o=[null];t.a=function(e,t){var n,a,s=e.__transition;if(s){t=null==t?null:t+"";for(a in s)if((n=s[a]).state>i.c&&n.name===t)return new r.a([[e]],o,t,+a)}return null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(82),o=n(1465),a=n(0),s=r(a),u=n(237),l=r(u),c={calculate:function(e,t,n){var r=void 0;if(0!==n.length){var a=(0,l.default)(n.map(function(e){return e.units||"unknown"}));if(!(0,s.default)(t)){if(0===n[0].points.length)return;var u=n.map(function(e){return{units:e.units||"unknown",domain:e.getDomain()}});t={x:[(0,i.min)(u.map(function(e){return e.domain.x}),function(e){return e[0]}),(0,i.max)(u.map(function(e){return e.domain.x}),function(e){return e[1]})],y:{}},a.forEach(function(e){var n=u.filter(function(t){return t.units===e});t.y[e]=[(0,i.min)(n,function(e){return e.domain.y[0]}),(0,i.max)(n,function(e){return e.domain.y[1]})]});for(var c in t.y)!function(e){if(t.y.hasOwnProperty(e)){var r=t.y[e];r[0]>0&&r[0]/r[1]<.4&&(r[0]=0),r[1]<0&&r[0]/r[1]<.4&&(r[1]=0);var i=n.filter(function(t){return t.units===e}),o=Math.min.apply(Math,i.filter(function(e){return(0,s.default)(e.yAxisMin)}).map(function(e){return e.yAxisMin})),a=Math.max.apply(Math,i.filter(function(e){return(0,s.default)(e.yAxisMax)}).map(function(e){return e.yAxisMax}));o===o&&o!==1/0&&o!==-1/0&&r[0]<o&&(r[0]=o),a===a&&a!==1/0&&a!==-1/0&&r[1]>a&&(r[1]=a)}}(c)}var h=void 0;h=t.x[0]instanceof Date?(0,o.scaleTime)():(0,o.scaleLinear)(),h.range([0,e.width]).domain(t.x);var d=t.y[a[0]];if(d[0]<0&&d[1]>0){var f=(0,o.scaleLinear)().range([e.plotHeight,0]).domain([0,d[1]]);f(d[0])<e.heightMinusXAxisLabelHeight?e.plotHeight=f(d[0]):e.plotHeight=e.heightMinusXAxisLabelHeight}else d[0]<0&&d[1]<0&&(e.plotHeight=e.heightMinusXAxisLabelHeight);var p={};for(r in t.y)if(t.y.hasOwnProperty(r)){var m=t.y[r];p[r]=(0,o.scaleLinear)().range([e.plotHeight,0]).domain(m)}return{x:h,y:p}}},unknownUnits:"unknown",truncatedTickValues:function(e,t){var n=e.ticks(t);return(n[n.length-1]-e.domain()[0])/(e.domain()[1]-e.domain()[0])>1-.4/n.length&&n.pop(),n}};e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1466);n.d(t,"scaleBand",function(){return r.a}),n.d(t,"scalePoint",function(){return r.b});var i=n(1472);n.d(t,"scaleIdentity",function(){return i.a});var o=n(211);n.d(t,"scaleLinear",function(){return o.a});var a=n(1484);n.d(t,"scaleLog",function(){return a.a});var s=n(674);n.d(t,"scaleOrdinal",function(){return s.a}),n.d(t,"scaleImplicit",function(){return s.b});var u=n(1485);n.d(t,"scalePow",function(){return u.a}),n.d(t,"scaleSqrt",function(){return u.b});var l=n(1486);n.d(t,"scaleQuantile",function(){return l.a});var c=n(1487);n.d(t,"scaleQuantize",function(){return c.a});var h=n(1488);n.d(t,"scaleThreshold",function(){return h.a});var d=n(681);n.d(t,"scaleTime",function(){return d.b});var f=n(1504);n.d(t,"scaleUtc",function(){return f.a});var p=n(1505);n.d(t,"schemeCategory10",function(){return p.a});var m=n(1506);n.d(t,"schemeCategory20b",function(){return m.a});var g=n(1507);n.d(t,"schemeCategory20c",function(){return g.a});var _=n(1508);n.d(t,"schemeCategory20",function(){return _.a});var v=n(1509);n.d(t,"interpolateCubehelixDefault",function(){return v.a});var A=n(1510);n.d(t,"interpolateRainbow",function(){return A.b}),n.d(t,"interpolateWarm",function(){return A.c}),n.d(t,"interpolateCool",function(){return A.a});var y=n(1511);n.d(t,"interpolateViridis",function(){return y.a}),n.d(t,"interpolateMagma",function(){return y.c}),n.d(t,"interpolateInferno",function(){return y.b}),n.d(t,"interpolatePlasma",function(){return y.d});var b=n(1512);n.d(t,"scaleSequential",function(){return b.a})},function(e,t,n){"use strict";function r(){function e(){var e=o().length,r=l[1]<l[0],i=l[r-0],s=l[1-r];t=(s-i)/Math.max(1,e-h+2*d),c&&(t=Math.floor(t)),i+=(s-i-t*(e-h))*f,n=t*(1-h),c&&(i=Math.round(i),n=Math.round(n));var p=Object(a.range)(e).map(function(e){return i+t*e});return u(r?p.reverse():p)}var t,n,i=Object(s.a)().unknown(void 0),o=i.domain,u=i.range,l=[0,1],c=!1,h=0,d=0,f=.5;return delete i.unknown,i.domain=function(t){return arguments.length?(o(t),e()):o()},i.range=function(t){return arguments.length?(l=[+t[0],+t[1]],e()):l.slice()},i.rangeRound=function(t){return l=[+t[0],+t[1]],c=!0,e()},i.bandwidth=function(){return n},i.step=function(){return t},i.round=function(t){return arguments.length?(c=!!t,e()):c},i.padding=function(t){return arguments.length?(h=d=Math.max(0,Math.min(1,t)),e()):h},i.paddingInner=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},i.paddingOuter=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},i.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},i.copy=function(){return r().domain(o()).range(l).round(c).paddingInner(h).paddingOuter(d).align(f)},e()}function i(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i(t())},e}function o(){return i(r().paddingInner(1))}t.a=r,t.b=o;var a=n(82),s=n(674)},function(e,t,n){"use strict";function r(){return{}}function i(e,t,n){e[t]=n}function o(){return Object(s.a)()}function a(e,t,n){e.set(t,n)}var s=n(390);t.a=function(){function e(t,r,i,o){if(r>=c.length)return null!=n&&t.sort(n),null!=u?u(t):t;for(var a,l,h,d=-1,f=t.length,p=c[r++],m=Object(s.a)(),g=i();++d<f;)(h=m.get(a=p(l=t[d])+""))?h.push(l):m.set(a,[l]);return m.each(function(t,n){o(g,n,e(t,r,i,o))}),g}function t(e,n){if(++n>c.length)return e;var r,i=h[n-1];return null!=u&&n>=c.length?r=e.entries():(r=[],e.each(function(e,i){r.push({key:i,values:t(e,n)})})),null!=i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,u,l,c=[],h=[];return l={object:function(t){return e(t,0,r,i)},map:function(t){return e(t,0,o,a)},entries:function(n){return t(e(n,0,o,a),0)},key:function(e){return c.push(e),l},sortKeys:function(e){return h[c.length-1]=e,l},sortValues:function(e){return n=e,l},rollup:function(e){return u=e,l}}}},function(e,t,n){"use strict";function r(){}function i(e,t){var n=new r;if(e instanceof r)e.each(function(e){n.add(e)});else if(e){var i=-1,o=e.length;if(null==t)for(;++i<o;)n.add(e[i]);else for(;++i<o;)n.add(t(e[i],i,e))}return n}var o=n(390),a=o.a.prototype;r.prototype=i.prototype={constructor:r,has:a.has,add:function(e){return e+="",this[o.b+e]=e,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each},t.a=i},function(e,t,n){"use strict";t.a=function(e){var t=[];for(var n in e)t.push(n);return t}},function(e,t,n){"use strict";t.a=function(e){var t=[];for(var n in e)t.push(e[n]);return t}},function(e,t,n){"use strict";t.a=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}},function(e,t,n){"use strict";function r(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=i.a.call(n,a.a),e):t.slice()},e.copy=function(){return r().domain(t)},Object(o.b)(e)}t.a=r;var i=n(147),o=n(211),a=n(675)},function(e,t,n){"use strict";var r=n(82),i=n(676);t.a=function(e,t,n){var o,a=e[0],s=e[e.length-1],u=Object(r.tickStep)(a,s,null==t?10:t);switch(n=Object(i.c)(null==n?",f":n),n.type){case"s":var l=Math.max(Math.abs(a),Math.abs(s));return null!=n.precision||isNaN(o=Object(i.e)(u,l))||(n.precision=o),Object(i.b)(n,l);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(o=Object(i.f)(u,Math.max(Math.abs(a),Math.abs(s))))||(n.precision=o-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(o=Object(i.d)(u))||(n.precision=o-2*("%"===n.type))}return Object(i.a)(n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r,i,o,a=n(677);!function(e){r=Object(a.a)(e),i=r.format,o=r.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},function(e,t,n){"use strict";t.a=function(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}},function(e,t,n){"use strict";t.a=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}},function(e,t,n){"use strict";t.a=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}},function(e,t,n){"use strict";var r=n(282),i=n(679),o=n(1479);t.a={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:r.a,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Object(o.a)(100*e,t)},r:o.a,s:i.a,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}}},function(e,t,n){"use strict";var r=n(282);t.a=function(e,t){var n=Object(r.b)(e,t);if(!n)return e+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";var r=n(281);t.a=function(e){return Math.max(0,-Object(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(281);t.a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Object(r.a)(t)/3)))-Object(r.a)(Math.abs(e)))}},function(e,t,n){"use strict";var r=n(281);t.a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Object(r.a)(t)-Object(r.a)(e))+1}},function(e,t,n){"use strict";function r(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:Object(d.a)(t)}function i(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function o(e){return isFinite(e)?+("1e"+e):e<0?0:e}function a(e){return 10===e?o:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function s(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function u(e){return function(t){return-e(-t)}}function l(){function e(){return d=s(o),m=a(o),n()[0]<0&&(d=u(d),m=u(m)),t}var t=Object(p.b)(r,i).domain([1,10]),n=t.domain,o=10,d=s(10),m=a(10);return t.base=function(t){return arguments.length?(o=+t,e()):o},t.domain=function(t){return arguments.length?(n(t),e()):n()},t.ticks=function(e){var t,r=n(),i=r[0],a=r[r.length-1];(t=a<i)&&(h=i,i=a,a=h);var s,u,l,h=d(i),f=d(a),p=null==e?10:+e,g=[];if(!(o%1)&&f-h<p){if(h=Math.round(h)-1,f=Math.round(f)+1,i>0){for(;h<f;++h)for(u=1,s=m(h);u<o;++u)if(!((l=s*u)<i)){if(l>a)break;g.push(l)}}else for(;h<f;++h)for(u=o-1,s=m(h);u>=1;--u)if(!((l=s*u)<i)){if(l>a)break;g.push(l)}}else g=Object(c.ticks)(h,f,Math.min(f-h,p)).map(m);return t?g.reverse():g},t.tickFormat=function(e,n){if(null==n&&(n=10===o?".0e":","),"function"!=typeof n&&(n=Object(h.a)(n)),e===1/0)return n;null==e&&(e=10);var r=Math.max(1,o*e/t.ticks().length);return function(e){var t=e/m(Math.round(d(e)));return t*o<o-.5&&(t*=o),t<=r?n(e):""}},t.nice=function(){return n(Object(f.a)(n(),{floor:function(e){return m(Math.floor(d(e)))},ceil:function(e){return m(Math.ceil(d(e)))}}))},t.copy=function(){return Object(p.a)(t,l().base(o))},t}t.a=l;var c=n(82),h=n(676),d=n(391),f=n(680),p=n(280)},function(e,t,n){"use strict";function r(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function i(){function e(e,t){return(t=r(t,n)-(e=r(e,n)))?function(i){return(r(i,n)-e)/t}:Object(a.a)(t)}function t(e,t){return t=r(t,n)-(e=r(e,n)),function(i){return r(e+t*i,1/n)}}var n=1,o=Object(u.b)(e,t),l=o.domain;return o.exponent=function(e){return arguments.length?(n=+e,l(l())):n},o.copy=function(){return Object(u.a)(o,i().exponent(n))},Object(s.b)(o)}function o(){return i().exponent(.5)}t.a=i,t.b=o;var a=n(391),s=n(211),u=n(280)},function(e,t,n){"use strict";function r(){function e(){var e=0,r=Math.max(1,a.length);for(s=new Array(r-1);++e<r;)s[e-1]=Object(i.quantile)(n,e/r);return t}function t(e){if(!isNaN(e=+e))return a[Object(i.bisect)(s,e)]}var n=[],a=[],s=[];return t.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:[t>0?s[t-1]:n[0],t<s.length?s[t]:n[n.length-1]]},t.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var r,o=0,a=t.length;o<a;++o)null==(r=t[o])||isNaN(r=+r)||n.push(r);return n.sort(i.ascending),e()},t.range=function(t){return arguments.length?(a=o.b.call(t),e()):a.slice()},t.quantiles=function(){return s.slice()},t.copy=function(){return r().domain(n).range(a)},t}t.a=r;var i=n(82),o=n(147)},function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return c[Object(i.bisect)(l,e,0,u)]}function t(){var t=-1;for(l=new Array(u);++t<u;)l[t]=((t+1)*s-(t-u)*n)/(u+1);return e}var n=0,s=1,u=1,l=[.5],c=[0,1];return e.domain=function(e){return arguments.length?(n=+e[0],s=+e[1],t()):[n,s]},e.range=function(e){return arguments.length?(u=(c=o.b.call(e)).length-1,t()):c.slice()},e.invertExtent=function(e){var t=c.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,l[0]]:t>=u?[l[u-1],s]:[l[t-1],l[t]]},e.copy=function(){return r().domain([n,s]).range(c)},Object(a.b)(e)}t.a=r;var i=n(82),o=n(147),a=n(211)},function(e,t,n){"use strict";function r(){function e(e){if(e<=e)return n[Object(i.bisect)(t,e,0,a)]}var t=[.5],n=[0,1],a=1;return e.domain=function(r){return arguments.length?(t=o.b.call(r),a=Math.min(t.length,n.length-1),e):t.slice()},e.range=function(r){return arguments.length?(n=o.b.call(r),a=Math.min(t.length,n.length-1),e):n.slice()},e.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},e.copy=function(){return r().domain(t).range(n)},e}t.a=r;var i=n(82),o=n(147)},function(e,t,n){"use strict";var r=n(58),i=Object(r.a)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Object(r.a)(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):i:null},t.a=i;i.range},function(e,t,n){"use strict";var r=n(58),i=n(112),o=Object(r.a)(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*i.d)},function(e,t){return(t-e)/i.d},function(e){return e.getUTCSeconds()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(58),i=n(112),o=Object(r.a)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.d)},function(e,t){e.setTime(+e+t*i.c)},function(e,t){return(t-e)/i.c},function(e){return e.getMinutes()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(58),i=n(112),o=Object(r.a)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*i.d-e.getMinutes()*i.c)},function(e,t){e.setTime(+e+t*i.b)},function(e,t){return(t-e)/i.b},function(e){return e.getHours()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(58),i=n(112),o=Object(r.a)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.c)/i.a},function(e){return e.getDate()-1});t.a=o;o.range},function(e,t,n){"use strict";function r(e){return Object(i.a)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*o.c)/o.e})}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c});var i=n(58),o=n(112),a=r(0),s=r(1),u=r(2),l=r(3),c=r(4),h=r(5),d=r(6);a.range,s.range,u.range,l.range,c.range,h.range,d.range},function(e,t,n){"use strict";var r=n(58),i=Object(r.a)(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});t.a=i;i.range},function(e,t,n){"use strict";var r=n(58),i=Object(r.a)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(r.a)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null},t.a=i;i.range},function(e,t,n){"use strict";var r=n(58),i=n(112),o=Object(r.a)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*i.c)},function(e,t){return(t-e)/i.c},function(e){return e.getUTCMinutes()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(58),i=n(112),o=Object(r.a)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*i.b)},function(e,t){return(t-e)/i.b},function(e){return e.getUTCHours()});t.a=o;o.range},function(e,t,n){"use strict";var r=n(58),i=n(112),o=Object(r.a)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/i.a},function(e){return e.getUTCDate()-1});t.a=o;o.range},function(e,t,n){"use strict";function r(e){return Object(i.a)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/o.e})}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c});var i=n(58),o=n(112),a=r(0),s=r(1),u=r(2),l=r(3),c=r(4),h=r(5),d=r(6);a.range,s.range,u.range,l.range,c.range,h.range,d.range},function(e,t,n){"use strict";var r=n(58),i=Object(r.a)(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});t.a=i;i.range},function(e,t,n){"use strict";var r=n(58),i=Object(r.a)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});i.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Object(r.a)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null},t.a=i;i.range},function(e,t,n){"use strict";function r(e){var t=new Date(e);return isNaN(t)?null:t}var i=n(684),o=n(393);+new Date("2000-01-01T00:00:00.000Z")||Object(o.c)(i.a)},function(e,t,n){"use strict";var r=n(681),i=n(682),o=n(392);t.a=function(){return Object(r.a)(o.v,o.q,o.u,o.l,o.m,o.o,o.r,o.n,i.b).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}},function(e,t,n){"use strict";var r=n(212);t.a=Object(r.a)("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")},function(e,t,n){"use strict";var r=n(212);t.a=Object(r.a)("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6")},function(e,t,n){"use strict";var r=n(212);t.a=Object(r.a)("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9")},function(e,t,n){"use strict";var r=n(212);t.a=Object(r.a)("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5")},function(e,t,n){"use strict";var r=n(111),i=n(126);t.a=Object(i.b)(Object(r.b)(300,.5,0),Object(r.b)(-240,.5,1))},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r=n(111),i=n(126),o=Object(i.b)(Object(r.b)(-100,.75,.35),Object(r.b)(80,1.5,.8)),a=Object(i.b)(Object(r.b)(260,.75,.35),Object(r.b)(80,1.5,.8)),s=Object(r.b)();t.b=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return s.h=360*e-100,s.s=1.5-1.5*t,s.l=.8-.9*t,s+""}},function(e,t,n){"use strict";function r(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return s});var i=n(212);t.a=r(Object(i.a)("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var o=r(Object(i.a)("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),a=r(Object(i.a)("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),s=r(Object(i.a)("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))},function(e,t,n){"use strict";function r(e){function t(t){var r=(t-n)/(o-n);return e(a?Math.max(0,Math.min(1,r)):r)}var n=0,o=1,a=!1;return t.domain=function(e){return arguments.length?(n=+e[0],o=+e[1],t):[n,o]},t.clamp=function(e){return arguments.length?(a=!!e,t):a},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return r(e).domain([n,o]).clamp(a)},Object(i.b)(t)}t.a=r;var i=n(211)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1),o=r(i),a=n(0),s=r(a),u=n(685),l=r(u),c={calculate:function(e,t,n,r){var i=(0,o.default)(n.xAxisHeight,14),a=(0,o.default)(n.xAxisLabelHeight,20),u=l.default.getHeight(n.titleSettings),c=66*r,h=e.offsetWidth-t.left-t.right-c,d=e.offsetHeight-t.top-t.bottom-u,f=d-((0,s.default)(n.axisLabel)&&(0,s.default)(n.axisLabel.x)?a:0);return{width:h,yAxesWidth:c,height:d,heightMinusXAxisLabelHeight:f,plotHeight:f-(n.mini?0:i),xAxisHeight:i,xAxisLabelHeight:a}},yAxisWidth:66};e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(389),o=n(87),a=(n(661),n(1)),s=r(a),u=n(0),l=r(u),c={top:10,right:10,bottom:10,left:10},h={defaultClassName:"linechart-tooltip",defaultId:"linechart-tooltip-id",id:function(e){return(0,s.default)(e.id,"linechart-tooltip-id")},select:function(e){return(0,o.select)("#"+h.id(e))},create:function(e){(0,l.default)(e)&&(0,o.select)("body").append("div").attr("id",h.id(e)).attr("class",(0,s.default)(e.className,"linechart-tooltip")).style("opacity",1e-6).style("position","absolute").style("display","none")},destroy:function(e){if((0,l.default)(e)){var t=h.id(e);(0,o.select)("#"+t).nodes()&&(0,o.select)("#"+t).remove()}},singleRowHtml:function(e,t,n,r){var i=(0,l.default)(e)?'style="background-color: '+e+'" ':"",o="<tr>";return o+='<td><span class="color" '+i+'></span><span class="name">'+t+"</span></td>",o+='<td class="value">'+n+' <span class="units">'+(r||"")+"</span></td>",o+="</tr>"},html:function(e){var t=this;if(0===e.length)return"";var n=void 0,r=e[0].point.x;if(n='<p class="x-value">'+r+"</p>",1===e.length){n+='<table class="mouseover"><tbody>';var o=e[0];return n+=this.singleRowHtml(o.color,o.categoryName,o.point.y,o.units),n+="</tbody></table>",n}var a=(0,i.nest)().key(function(e){return e.categoryName}).entries(e),s=(0,i.nest)().key(function(e){return e.name}).entries(e);return 1===s.length?(n+='<table class="mouseover"><tbody>',s[0].values.forEach(function(e){n+=t.singleRowHtml(e.color,e.categoryName,e.point.y,e.units)}),n+="</tbody></table>",n):(a.forEach(function(e){a.length>1&&(n+='<p class="category-name">'+e.key+"</p>"),n+='<table class="mouseover"><tbody>',e.values.forEach(function(e){n+=t.singleRowHtml(e.color,e.name,e.point.y,e.units)}),n+="</tbody></table>"}),n)},show:function(e,t,n,r){t.html(e).style("opacity",1e-6).style("display","block").style("visibility","hidden").transition().duration(250).style("opacity",1).style("visibility","visible");var i=+t.nodes()[0].offsetHeight,a=+t.nodes()[0].offsetWidth,u=(0,s.default)(n.offset,c),l=void 0,h=void 0;switch(n.align){case"left":l=+r.top+u.top,h=+r.left+u.left;break;case"right":l=+r.top+u.top,h=+r.right-u.right-a;break;case"prefer-right":l=+r.top+u.top,h=+r.right-u.right-a;var d=+r.left+u.left+a;o.event.pageX>=h&&o.event.pageX>d&&(h=+r.left+u.left);break;case"hover":l=o.event.pageY-u.top,h=o.event.pageX+(-a-u.left);break;default:l=o.event.pageY-u.top,h=o.event.pageX+(-a-u.left)}l=Math.min(l,Math.max(5,window.innerHeight-i-u.bottom)),t.style("left",h+"px").style("top",l+"px")},hide:function(e){e.transition().duration(250).style("opacity",1e-6),setTimeout(function(){+e.style("opacity")<.002&&e.style("visibility","hidden")},300)}};e.exports=h},function(e,t){e.exports={chart:"tjs-chart__chart","tool-tip":"tjs-chart__tool-tip",toolTip:"tjs-chart__tool-tip"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=e.terria,r=(0,_.default)(t)?e.sources[t]:void 0,i={columns:{}},o=Math.max(e.columnNames&&e.columnNames.length||0,e.columnUnits&&e.columnUnits.length||0),a=0;a<o;a++)i.columns[a]={},(0,_.default)(e.columnNames)&&e.columnNames[a]&&(i.columns[a].name=e.columnNames[a]),(0,_.default)(e.columnUnits)&&e.columnUnits[a]&&(i.columns[a].units=e.columnUnits[a]);(0,_.default)(e.xColumn)&&(i.xAxis=e.xColumn),(0,_.default)(e.yColumns)&&e.yColumns.forEach(function(e){(0,_.default)(i.columns[e])||(i.columns[e]={}),i.columns[e].active=!0});var s={tableStyle:new P.default(i)},u=new x.default(n,r,s),l=e.tableStructure;if((0,_.default)(e.colors)&&e.colors.length>=l.columns.length&&(u.getNextColor=function(t){return e.colors[t]}),!(0,_.default)(l)&&(0,_.default)(e.catalogItem)&&(0,_.default)(e.catalogItem.loadIntoTableStructure)&&(l=e.catalogItem.loadIntoTableStructure(r)),u.data=l,u.cacheDuration=(0,m.default)(e.catalogItem.cacheDuration,"1m"),u.name=e.title||e.feature&&e.feature.name||"Chart",u.id=u.name+(e.id?" "+e.id:"")+" ("+e.catalogItem.name+")",(0,_.default)(e.pollSeconds)){var c=e.pollSources;u.polling=new T.default({seconds:e.pollSeconds,url:(0,_.default)(t)&&(0,_.default)(c)?c[Math.min(t,c.length-1)]:void 0,replace:e.pollReplace})}var h=n.catalog.upsertCatalogGroup(b.default,"Chart Data","A group for chart data.");h.isOpen=!0;var d=h.items.map(function(e){return e.uniqueId}),f=d.indexOf(u.uniqueId),p=void 0,g=void 0;if(f>=0){var v=h.items[f];g=v.tableStructure.columns.map(function(e){return e.isActive}),p=v.tableStructure.columns.map(function(e){return e.color}),v.isEnabled=!1,h.remove(v)}h.add(u),u.isLoading=!0,u.isMappable=!1,n.catalog.chartableItems.push(u),u.isEnabled=!0,u.load().then(function(){try{u.sourceCatalogItem=e.catalogItem;var t=u.tableStructure;t.sourceFeature=e.feature,(0,_.default)(p)&&t.columns.forEach(function(e,t){e.color=p[t]}),(0,_.default)(g)&&g.some(function(e){return e})&&t.columns.forEach(function(e,t){e.isActive=g[t]}),u.setChartable()}catch(e){return(0,M.default)(n,e)}})}var a=n(28),s=r(a),u=n(4),l=r(u),c=n(5),h=r(c),d=n(8),f=r(d),p=n(1),m=r(p),g=n(0),_=r(g),v=n(27),A=r(v),y=n(55),b=r(y),w=n(138),x=r(w),E=n(394),C=r(E),S=n(494),T=r(S),I=n(106),M=r(I),O=n(203),P=r(O),D=n(30),B=r(D),L=n(1576),N=r(L),R=(0,f.default)({displayName:"ChartExpandAndDownloadButtons",propTypes:{terria:h.default.object.isRequired,sources:h.default.array,sourceNames:h.default.array,downloads:h.default.array,downloadNames:h.default.array,pollSources:h.default.array,pollSeconds:h.default.oneOfType([h.default.string,h.default.number]),pollReplace:h.default.bool,updateCounter:h.default.any,tableStructure:h.default.object,catalogItem:h.default.object,title:h.default.string,colors:h.default.array,feature:h.default.object,id:h.default.oneOfType([h.default.string,h.default.number]),columnNames:h.default.array,columnUnits:h.default.array,xColumn:h.default.oneOfType([h.default.string,h.default.number]),yColumns:h.default.array,canDownload:h.default.bool,raiseToTitle:h.default.bool},expandButton:function(){(0,_.default)(this.props.sources)?o(this.props,this.props.sources.length-1):o(this.props)},expandDropdown:function(e,t){o(this.props,t)},render:function(){if(!(0,_.default)(this.props.sources)&&!(0,_.default)(this.props.tableStructure))return null;var e=this.props.downloads||this.props.sources,t=this.props.downloadNames||this.props.sourceNames,n=void 0;if((0,_.default)(this.props.sourceNames)){var r={dropdown:N.default.dropdown,list:N.default.dropdownList,button:N.default.dropdownBtn,btnOption:N.default.dropdownBtnOption},o=this.props.sourceNames.map(function(e){return{name:e}}),a=t.map(function(t,n){return{name:t,href:e[n]}});if(this.props.canDownload){var u=(0,A.default)(r);u.button=(0,s.default)(N.default.btnSmall,N.default.btnDownload),n=l.default.createElement(C.default,{selectOption:this.downloadDropdown,options:a,theme:u},"Download ▾")}return l.default.createElement("div",{className:(0,s.default)(N.default.chartExpand,i({},N.default.raiseToTitle,this.props.raiseToTitle))},l.default.createElement("div",{className:N.default.chartDropdownButton},l.default.createElement(C.default,{selectOption:this.expandDropdown,options:o,theme:r},"Expand ▾"),n))}if(this.props.canDownload&&(0,_.default)(e)){var c=e[0];n=l.default.createElement("a",{className:(0,s.default)(N.default.btnSmall,N.default.aDownload),href:c},l.default.createElement(B.default,{glyph:B.default.GLYPHS.download}))}return l.default.createElement("div",{className:N.default.chartExpand},l.default.createElement("button",{type:"button",className:N.default.btnChartExpand,onClick:this.expandButton},"Expand"),n)}});e.exports=R},function(e,t){e.exports={dropdown:"tjs-dropdown__dropdown",list:"tjs-dropdown__list tjs-_base__list-reset","is-open":"tjs-dropdown__is-open",isOpen:"tjs-dropdown__is-open","btn--dropdown":"tjs-dropdown__btn--dropdown tjs-_buttons__btn tjs-_buttons__btn-primary tjs-_buttons__btn-transparent",btnDropdown:"tjs-dropdown__btn--dropdown tjs-_buttons__btn tjs-_buttons__btn-primary tjs-_buttons__btn-transparent","btn--option":"tjs-dropdown__btn--option tjs-_buttons__btn tjs-_buttons__btn-transparent tjs-_buttons__btn--small",btnOption:"tjs-dropdown__btn--option tjs-_buttons__btn tjs-_buttons__btn-transparent tjs-_buttons__btn--small","is-selected":"tjs-dropdown__is-selected",isSelected:"tjs-dropdown__is-selected"}},function(e,t){e.exports={svg:"tjs-icon__svg"}},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"calendar",use:"calendar-usage",viewBox:"0 0 16 17",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" id="calendar">\n  <g fill-rule="evenodd" transform="translate(-2 -1)">\n    <path fill="#FFFFFF" d="M12,5 L8,5 C8,5.55228475 7.55228475,6 7,6 C6.44771525,6 6,5.55228475 6,5 L4,5 L4,8 L16,8 L16,5 L14,5 C14,5.55228475 13.5522847,6 13,6 C12.4477153,6 12,5.55228475 12,5 Z M14,3 L17,3 C17.5522847,3 18,3.44771525 18,4 L18,17 C18,17.5522847 17.5522847,18 17,18 L3,18 C2.44771525,18 2,17.5522847 2,17 L2,4 C2,3.44771525 2.44771525,3 3,3 L6,3 L6,2 C6,1.44771525 6.44771525,1 7,1 C7.55228475,1 8,1.44771525 8,2 L8,3 L12,3 L12,2 C12,1.44771525 12.4477153,1 13,1 C13.5522847,1 14,1.44771525 14,2 L14,3 Z M16,10 L4,10 L4,16 L16,16 L16,10 Z" />\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"add",use:"add-usage",viewBox:"20 20 60 60",content:'<symbol viewBox="20 20 60 60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="add">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>add</title>\n    <path d="M50,72.4137931 L50,72.4137931 C62.3787961,72.4137931 72.4137931,62.3787961 72.4137931,50 C72.4137931,37.6212039 62.3787961,27.5862069 50,27.5862069 C37.6212039,27.5862069 27.5862069,37.6212039 27.5862069,50 C27.5862069,62.3787961 37.6212039,72.4137931 50,72.4137931 L50,72.4137931 Z M50,76 L50,76 C35.6405965,76 24,64.3594035 24,50 C24,35.6405965 35.6405965,24 50,24 C64.3594035,24 76,35.6405965 76,50 C76,64.3594035 64.3594035,76 50,76 L50,76 Z M38.7931034,51.7931034 L62.1034483,51.7931034 C63.093752,51.7931034 63.8965517,50.9903037 63.8965517,50 C63.8965517,49.0096963 63.093752,48.2068966 62.1034483,48.2068966 L38.7931034,48.2068966 C37.8027998,48.2068966 37,49.0096963 37,50 C37,50.9903037 37.8027998,51.7931034 38.7931034,51.7931034 L38.7931034,51.7931034 Z M48.6551724,38.3448276 L48.6551724,61.6551724 C48.6551724,62.6454761 49.4579722,63.4482759 50.4482759,63.4482759 C51.4385796,63.4482759 52.2413793,62.6454761 52.2413793,61.6551724 L52.2413793,38.3448276 C52.2413793,37.3545239 51.4385796,36.5517241 50.4482759,36.5517241 C49.4579722,36.5517241 48.6551724,37.3545239 48.6551724,38.3448276 L48.6551724,38.3448276 Z" id="add_remove" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"ar-hover0",use:"ar-hover0-usage",viewBox:"0 0 100 100",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" id="ar-hover0">\n  <g fill="none" fill-rule="evenodd">\n    <rect width="100" height="100" />\n    <path fill="#000000" fill-rule="nonzero" d="M87.4516129,29.8870968 C87.4516129,31.4192416 88.6936617,32.6612903 90.2258065,32.6612903 C91.7579512,32.6612903 93,31.4192416 93,29.8870968 L93,9.77419355 C93,8.24204876 91.7579512,7 90.2258065,7 L70.1129032,7 C68.5807584,7 67.3387097,8.24204876 67.3387097,9.77419355 C67.3387097,11.3063383 68.5807584,12.5483871 70.1129032,12.5483871 L87.4516129,12.5483871 L87.4516129,29.8870968 Z M70.1129032,87.4516129 C68.5807584,87.4516129 67.3387097,88.6936617 67.3387097,90.2258065 C67.3387097,91.7579512 68.5807584,93 70.1129032,93 L90.2258065,93 C91.7579512,93 93,91.7579512 93,90.2258065 L93,70.1129032 C93,68.5807584 91.7579512,67.3387097 90.2258065,67.3387097 C88.6936617,67.3387097 87.4516129,68.5807584 87.4516129,70.1129032 L87.4516129,87.4516129 L70.1129032,87.4516129 Z M12.5483871,70.1129032 C12.5483871,68.5807584 11.3063383,67.3387097 9.77419355,67.3387097 C8.24204876,67.3387097 7,68.5807584 7,70.1129032 L7,90.2258065 C7,91.7579512 8.24204876,93 9.77419355,93 L29.8870968,93 C31.4192416,93 32.6612903,91.7579512 32.6612903,90.2258065 C32.6612903,88.6936617 31.4192416,87.4516129 29.8870968,87.4516129 L12.5483871,87.4516129 L12.5483871,70.1129032 Z M29.8870968,12.5483871 C31.4192416,12.5483871 32.6612903,11.3063383 32.6612903,9.77419355 C32.6612903,8.24204876 31.4192416,7 29.8870968,7 L9.77419355,7 C8.24204876,7 7,8.24204876 7,9.77419355 L7,29.8870968 C7,31.4192416 8.24204876,32.6612903 9.77419355,32.6612903 C11.3063383,32.6612903 12.5483871,31.4192416 12.5483871,29.8870968 L12.5483871,12.5483871 L29.8870968,12.5483871 Z" />\n    <path fill="#000000" fill-rule="nonzero" d="M73.5116279 37.4651163C73.5116279 38.9806884 74.7402418 40.2093023 76.255814 40.2093023 77.7713861 40.2093023 79 38.9806884 79 37.4651163L79 23.744186C79 22.2286139 77.7713861 21 76.255814 21L62.5348837 21C61.0193116 21 59.7906977 22.2286139 59.7906977 23.744186 59.7906977 25.2597582 61.0193116 26.4883721 62.5348837 26.4883721L73.5116279 26.4883721 73.5116279 37.4651163zM62.5348837 74.5116279C61.0193116 74.5116279 59.7906977 75.7402418 59.7906977 77.255814 59.7906977 78.7713861 61.0193116 80 62.5348837 80L76.255814 80C77.7713861 80 79 78.7713861 79 77.255814L79 63.5348837C79 62.0193116 77.7713861 60.7906977 76.255814 60.7906977 74.7402418 60.7906977 73.5116279 62.0193116 73.5116279 63.5348837L73.5116279 74.5116279 62.5348837 74.5116279zM25.4883721 63.5348837C25.4883721 62.0193116 24.2597582 60.7906977 22.744186 60.7906977 21.2286139 60.7906977 20 62.0193116 20 63.5348837L20 77.255814C20 78.7713861 21.2286139 80 22.744186 80L36.4651163 80C37.9806884 80 39.2093023 78.7713861 39.2093023 77.255814 39.2093023 75.7402418 37.9806884 74.5116279 36.4651163 74.5116279L25.4883721 74.5116279 25.4883721 63.5348837zM36.4651163 26.4883721C37.9806884 26.4883721 39.2093023 25.2597582 39.2093023 23.744186 39.2093023 22.2286139 37.9806884 21 36.4651163 21L22.744186 21C21.2286139 21 20 22.2286139 20 23.744186L20 37.4651163C20 38.9806884 21.2286139 40.2093023 22.744186 40.2093023 24.2597582 40.2093023 25.4883721 38.9806884 25.4883721 37.4651163L25.4883721 26.4883721 36.4651163 26.4883721zM62.3333333 44.2894737C62.3333333 45.8542805 63.6018599 47.122807 65.1666667 47.122807 66.7314735 47.122807 68 45.8542805 68 44.2894737L68 36.8333333C68 35.2685265 66.7314735 34 65.1666667 34L57.7105263 34C56.1457195 34 54.877193 35.2685265 54.877193 36.8333333 54.877193 38.3981401 56.1457195 39.6666667 57.7105263 39.6666667L62.3333333 39.6666667 62.3333333 44.2894737zM62.3333333 62.3333333L57.7105263 62.3333333C56.1457195 62.3333333 54.877193 63.6018599 54.877193 65.1666667 54.877193 66.7314735 56.1457195 68 57.7105263 68L65.1666667 68C66.7314735 68 68 66.7314735 68 65.1666667L68 57.7105263C68 56.1457195 66.7314735 54.877193 65.1666667 54.877193 63.6018599 54.877193 62.3333333 56.1457195 62.3333333 57.7105263L62.3333333 62.3333333zM39.6666667 57.7105263C39.6666667 56.1457195 38.3981401 54.877193 36.8333333 54.877193 35.2685265 54.877193 34 56.1457195 34 57.7105263L34 65.1666667C34 66.7314735 35.2685265 68 36.8333333 68L44.2894737 68C45.8542805 68 47.122807 66.7314735 47.122807 65.1666667 47.122807 63.6018599 45.8542805 62.3333333 44.2894737 62.3333333L39.6666667 62.3333333 39.6666667 57.7105263zM44.2894737 39.6666667C45.8542805 39.6666667 47.122807 38.3981401 47.122807 36.8333333 47.122807 35.2685265 45.8542805 34 44.2894737 34L36.8333333 34C35.2685265 34 34 35.2685265 34 36.8333333L34 44.2894737C34 45.8542805 35.2685265 47.122807 36.8333333 47.122807 38.3981401 47.122807 39.6666667 45.8542805 39.6666667 44.2894737L39.6666667 39.6666667 44.2894737 39.6666667z" opacity=".15" />\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"ar-hover1",use:"ar-hover1-usage",viewBox:"0 0 100 100",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" id="ar-hover1">\n  <g fill="none" fill-rule="evenodd">\n    <rect width="100" height="100" />\n    <path fill="#000000" fill-rule="nonzero" d="M87.4516129,29.8870968 C87.4516129,31.4192416 88.6936617,32.6612903 90.2258065,32.6612903 C91.7579512,32.6612903 93,31.4192416 93,29.8870968 L93,9.77419355 C93,8.24204876 91.7579512,7 90.2258065,7 L70.1129032,7 C68.5807584,7 67.3387097,8.24204876 67.3387097,9.77419355 C67.3387097,11.3063383 68.5807584,12.5483871 70.1129032,12.5483871 L87.4516129,12.5483871 L87.4516129,29.8870968 Z M70.1129032,87.4516129 C68.5807584,87.4516129 67.3387097,88.6936617 67.3387097,90.2258065 C67.3387097,91.7579512 68.5807584,93 70.1129032,93 L90.2258065,93 C91.7579512,93 93,91.7579512 93,90.2258065 L93,70.1129032 C93,68.5807584 91.7579512,67.3387097 90.2258065,67.3387097 C88.6936617,67.3387097 87.4516129,68.5807584 87.4516129,70.1129032 L87.4516129,87.4516129 L70.1129032,87.4516129 Z M12.5483871,70.1129032 C12.5483871,68.5807584 11.3063383,67.3387097 9.77419355,67.3387097 C8.24204876,67.3387097 7,68.5807584 7,70.1129032 L7,90.2258065 C7,91.7579512 8.24204876,93 9.77419355,93 L29.8870968,93 C31.4192416,93 32.6612903,91.7579512 32.6612903,90.2258065 C32.6612903,88.6936617 31.4192416,87.4516129 29.8870968,87.4516129 L12.5483871,87.4516129 L12.5483871,70.1129032 Z M29.8870968,12.5483871 C31.4192416,12.5483871 32.6612903,11.3063383 32.6612903,9.77419355 C32.6612903,8.24204876 31.4192416,7 29.8870968,7 L9.77419355,7 C8.24204876,7 7,8.24204876 7,9.77419355 L7,29.8870968 C7,31.4192416 8.24204876,32.6612903 9.77419355,32.6612903 C11.3063383,32.6612903 12.5483871,31.4192416 12.5483871,29.8870968 L12.5483871,12.5483871 L29.8870968,12.5483871 Z" opacity=".15" />\n    <path fill="#000000" fill-rule="nonzero" d="M74.2741935,36.8225806 C74.2741935,38.3547254 75.5162423,39.5967742 77.0483871,39.5967742 C78.5805319,39.5967742 79.8225806,38.3547254 79.8225806,36.8225806 L79.8225806,22.9516129 C79.8225806,21.4194681 78.5805319,20.1774194 77.0483871,20.1774194 L63.1774194,20.1774194 C61.6452746,20.1774194 60.4032258,21.4194681 60.4032258,22.9516129 C60.4032258,24.4837577 61.6452746,25.7258065 63.1774194,25.7258065 L74.2741935,25.7258065 L74.2741935,36.8225806 Z M63.1774194,74.2741935 C61.6452746,74.2741935 60.4032258,75.5162423 60.4032258,77.0483871 C60.4032258,78.5805319 61.6452746,79.8225806 63.1774194,79.8225806 L77.0483871,79.8225806 C78.5805319,79.8225806 79.8225806,78.5805319 79.8225806,77.0483871 L79.8225806,63.1774194 C79.8225806,61.6452746 78.5805319,60.4032258 77.0483871,60.4032258 C75.5162423,60.4032258 74.2741935,61.6452746 74.2741935,63.1774194 L74.2741935,74.2741935 L63.1774194,74.2741935 Z M25.7258065,63.1774194 C25.7258065,61.6452746 24.4837577,60.4032258 22.9516129,60.4032258 C21.4194681,60.4032258 20.1774194,61.6452746 20.1774194,63.1774194 L20.1774194,77.0483871 C20.1774194,78.5805319 21.4194681,79.8225806 22.9516129,79.8225806 L36.8225806,79.8225806 C38.3547254,79.8225806 39.5967742,78.5805319 39.5967742,77.0483871 C39.5967742,75.5162423 38.3547254,74.2741935 36.8225806,74.2741935 L25.7258065,74.2741935 L25.7258065,63.1774194 Z M36.8225806,25.7258065 C38.3547254,25.7258065 39.5967742,24.4837577 39.5967742,22.9516129 C39.5967742,21.4194681 38.3547254,20.1774194 36.8225806,20.1774194 L22.9516129,20.1774194 C21.4194681,20.1774194 20.1774194,21.4194681 20.1774194,22.9516129 L20.1774194,36.8225806 C20.1774194,38.3547254 21.4194681,39.5967742 22.9516129,39.5967742 C24.4837577,39.5967742 25.7258065,38.3547254 25.7258065,36.8225806 L25.7258065,25.7258065 L36.8225806,25.7258065 Z" />\n    <path fill="#000000" fill-rule="nonzero" d="M61.0967742,43.4295416 C61.0967742,44.9616864 62.338823,46.2037352 63.8709677,46.2037352 C65.4031125,46.2037352 66.6451613,44.9616864 66.6451613,43.4295416 L66.6451613,36.1290323 C66.6451613,34.5968875 65.4031125,33.3548387 63.8709677,33.3548387 L56.5704584,33.3548387 C55.0383136,33.3548387 53.7962648,34.5968875 53.7962648,36.1290323 C53.7962648,37.661177 55.0383136,38.9032258 56.5704584,38.9032258 L61.0967742,38.9032258 L61.0967742,43.4295416 Z M61.0967742,61.0967742 L56.5704584,61.0967742 C55.0383136,61.0967742 53.7962648,62.338823 53.7962648,63.8709677 C53.7962648,65.4031125 55.0383136,66.6451613 56.5704584,66.6451613 L63.8709677,66.6451613 C65.4031125,66.6451613 66.6451613,65.4031125 66.6451613,63.8709677 L66.6451613,56.5704584 C66.6451613,55.0383136 65.4031125,53.7962648 63.8709677,53.7962648 C62.338823,53.7962648 61.0967742,55.0383136 61.0967742,56.5704584 L61.0967742,61.0967742 Z M38.9032258,56.5704584 C38.9032258,55.0383136 37.661177,53.7962648 36.1290323,53.7962648 C34.5968875,53.7962648 33.3548387,55.0383136 33.3548387,56.5704584 L33.3548387,63.8709677 C33.3548387,65.4031125 34.5968875,66.6451613 36.1290323,66.6451613 L43.4295416,66.6451613 C44.9616864,66.6451613 46.2037352,65.4031125 46.2037352,63.8709677 C46.2037352,62.338823 44.9616864,61.0967742 43.4295416,61.0967742 L38.9032258,61.0967742 L38.9032258,56.5704584 Z M43.4295416,38.9032258 C44.9616864,38.9032258 46.2037352,37.661177 46.2037352,36.1290323 C46.2037352,34.5968875 44.9616864,33.3548387 43.4295416,33.3548387 L36.1290323,33.3548387 C34.5968875,33.3548387 33.3548387,34.5968875 33.3548387,36.1290323 L33.3548387,43.4295416 C33.3548387,44.9616864 34.5968875,46.2037352 36.1290323,46.2037352 C37.661177,46.2037352 38.9032258,44.9616864 38.9032258,43.4295416 L38.9032258,38.9032258 L43.4295416,38.9032258 Z" opacity=".15" />\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"ar-hover2",use:"ar-hover2-usage",viewBox:"0 0 100 100",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" id="ar-hover2">\n  <g fill="none" fill-rule="evenodd">\n    <rect width="100" height="100" />\n    <path fill="#000000" fill-rule="nonzero" d="M87.4516129,29.8870968 C87.4516129,31.4192416 88.6936617,32.6612903 90.2258065,32.6612903 C91.7579512,32.6612903 93,31.4192416 93,29.8870968 L93,9.77419355 C93,8.24204876 91.7579512,7 90.2258065,7 L70.1129032,7 C68.5807584,7 67.3387097,8.24204876 67.3387097,9.77419355 C67.3387097,11.3063383 68.5807584,12.5483871 70.1129032,12.5483871 L87.4516129,12.5483871 L87.4516129,29.8870968 Z M70.1129032,87.4516129 C68.5807584,87.4516129 67.3387097,88.6936617 67.3387097,90.2258065 C67.3387097,91.7579512 68.5807584,93 70.1129032,93 L90.2258065,93 C91.7579512,93 93,91.7579512 93,90.2258065 L93,70.1129032 C93,68.5807584 91.7579512,67.3387097 90.2258065,67.3387097 C88.6936617,67.3387097 87.4516129,68.5807584 87.4516129,70.1129032 L87.4516129,87.4516129 L70.1129032,87.4516129 Z M12.5483871,70.1129032 C12.5483871,68.5807584 11.3063383,67.3387097 9.77419355,67.3387097 C8.24204876,67.3387097 7,68.5807584 7,70.1129032 L7,90.2258065 C7,91.7579512 8.24204876,93 9.77419355,93 L29.8870968,93 C31.4192416,93 32.6612903,91.7579512 32.6612903,90.2258065 C32.6612903,88.6936617 31.4192416,87.4516129 29.8870968,87.4516129 L12.5483871,87.4516129 L12.5483871,70.1129032 Z M29.8870968,12.5483871 C31.4192416,12.5483871 32.6612903,11.3063383 32.6612903,9.77419355 C32.6612903,8.24204876 31.4192416,7 29.8870968,7 L9.77419355,7 C8.24204876,7 7,8.24204876 7,9.77419355 L7,29.8870968 C7,31.4192416 8.24204876,32.6612903 9.77419355,32.6612903 C11.3063383,32.6612903 12.5483871,31.4192416 12.5483871,29.8870968 L12.5483871,12.5483871 L29.8870968,12.5483871 Z" opacity=".15" />\n    <path fill="#000000" fill-rule="nonzero" d="M74.2741935,36.8225806 C74.2741935,38.3547254 75.5162423,39.5967742 77.0483871,39.5967742 C78.5805319,39.5967742 79.8225806,38.3547254 79.8225806,36.8225806 L79.8225806,22.9516129 C79.8225806,21.4194681 78.5805319,20.1774194 77.0483871,20.1774194 L63.1774194,20.1774194 C61.6452746,20.1774194 60.4032258,21.4194681 60.4032258,22.9516129 C60.4032258,24.4837577 61.6452746,25.7258065 63.1774194,25.7258065 L74.2741935,25.7258065 L74.2741935,36.8225806 Z M63.1774194,74.2741935 C61.6452746,74.2741935 60.4032258,75.5162423 60.4032258,77.0483871 C60.4032258,78.5805319 61.6452746,79.8225806 63.1774194,79.8225806 L77.0483871,79.8225806 C78.5805319,79.8225806 79.8225806,78.5805319 79.8225806,77.0483871 L79.8225806,63.1774194 C79.8225806,61.6452746 78.5805319,60.4032258 77.0483871,60.4032258 C75.5162423,60.4032258 74.2741935,61.6452746 74.2741935,63.1774194 L74.2741935,74.2741935 L63.1774194,74.2741935 Z M25.7258065,63.1774194 C25.7258065,61.6452746 24.4837577,60.4032258 22.9516129,60.4032258 C21.4194681,60.4032258 20.1774194,61.6452746 20.1774194,63.1774194 L20.1774194,77.0483871 C20.1774194,78.5805319 21.4194681,79.8225806 22.9516129,79.8225806 L36.8225806,79.8225806 C38.3547254,79.8225806 39.5967742,78.5805319 39.5967742,77.0483871 C39.5967742,75.5162423 38.3547254,74.2741935 36.8225806,74.2741935 L25.7258065,74.2741935 L25.7258065,63.1774194 Z M36.8225806,25.7258065 C38.3547254,25.7258065 39.5967742,24.4837577 39.5967742,22.9516129 C39.5967742,21.4194681 38.3547254,20.1774194 36.8225806,20.1774194 L22.9516129,20.1774194 C21.4194681,20.1774194 20.1774194,21.4194681 20.1774194,22.9516129 L20.1774194,36.8225806 C20.1774194,38.3547254 21.4194681,39.5967742 22.9516129,39.5967742 C24.4837577,39.5967742 25.7258065,38.3547254 25.7258065,36.8225806 L25.7258065,25.7258065 L36.8225806,25.7258065 Z" opacity=".15" />\n    <path fill="#000000" fill-rule="nonzero" d="M61.0967742,43.4295416 C61.0967742,44.9616864 62.338823,46.2037352 63.8709677,46.2037352 C65.4031125,46.2037352 66.6451613,44.9616864 66.6451613,43.4295416 L66.6451613,36.1290323 C66.6451613,34.5968875 65.4031125,33.3548387 63.8709677,33.3548387 L56.5704584,33.3548387 C55.0383136,33.3548387 53.7962648,34.5968875 53.7962648,36.1290323 C53.7962648,37.661177 55.0383136,38.9032258 56.5704584,38.9032258 L61.0967742,38.9032258 L61.0967742,43.4295416 Z M61.0967742,61.0967742 L56.5704584,61.0967742 C55.0383136,61.0967742 53.7962648,62.338823 53.7962648,63.8709677 C53.7962648,65.4031125 55.0383136,66.6451613 56.5704584,66.6451613 L63.8709677,66.6451613 C65.4031125,66.6451613 66.6451613,65.4031125 66.6451613,63.8709677 L66.6451613,56.5704584 C66.6451613,55.0383136 65.4031125,53.7962648 63.8709677,53.7962648 C62.338823,53.7962648 61.0967742,55.0383136 61.0967742,56.5704584 L61.0967742,61.0967742 Z M38.9032258,56.5704584 C38.9032258,55.0383136 37.661177,53.7962648 36.1290323,53.7962648 C34.5968875,53.7962648 33.3548387,55.0383136 33.3548387,56.5704584 L33.3548387,63.8709677 C33.3548387,65.4031125 34.5968875,66.6451613 36.1290323,66.6451613 L43.4295416,66.6451613 C44.9616864,66.6451613 46.2037352,65.4031125 46.2037352,63.8709677 C46.2037352,62.338823 44.9616864,61.0967742 43.4295416,61.0967742 L38.9032258,61.0967742 L38.9032258,56.5704584 Z M43.4295416,38.9032258 C44.9616864,38.9032258 46.2037352,37.661177 46.2037352,36.1290323 C46.2037352,34.5968875 44.9616864,33.3548387 43.4295416,33.3548387 L36.1290323,33.3548387 C34.5968875,33.3548387 33.3548387,34.5968875 33.3548387,36.1290323 L33.3548387,43.4295416 C33.3548387,44.9616864 34.5968875,46.2037352 36.1290323,46.2037352 C37.661177,46.2037352 38.9032258,44.9616864 38.9032258,43.4295416 L38.9032258,38.9032258 L43.4295416,38.9032258 Z" />\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"ar-off",use:"ar-off-usage",viewBox:"0 0 100 100",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" id="ar-off">\n  <g fill="none" fill-rule="evenodd">\n    <rect width="100" height="100" />\n    <path fill="#000000" fill-rule="nonzero" d="M44.8369093,36 L42.095994,29.7353362 L29.7407913,29.7353362 L26.9998759,36 L20,36 L32.7347141,7 L39.1020711,7 L51.8367852,36 L44.8369093,36 Z M35.9394766,15.6294708 L32.228699,24.0515022 L39.6080863,24.0515022 L35.9394766,15.6294708 Z M78.1446113,16.6251788 C78.1446113,21.2718401 76.2751851,24.2727639 72.5362768,25.6280401 L80,36 L71.903758,36 L65.3677292,26.7482118 L60.813593,26.7482118 L60.813593,36 L54.2353963,36 L54.2353963,7 L65.409897,7 C69.9921681,7 73.2601499,7.76060284 75.2139402,9.28183126 C77.1677308,10.8030597 78.1446113,13.2508177 78.1446113,16.6251788 Z M70.2170409,20.0686695 C71.0322916,19.3495434 71.4399107,18.2086393 71.4399107,16.6459227 C71.4399107,15.0832063 71.0182357,14.0114479 70.1748729,13.4306152 C69.3315102,12.8497826 67.8556474,12.5593706 65.7472406,12.5593706 L60.813593,12.5593706 L60.813593,21.1473533 L65.6207368,21.1473533 C67.8697042,21.1473533 69.4017902,20.7877958 70.2170409,20.0686695 Z" />\n    <g fill="#000000" fill-rule="nonzero" transform="translate(14 46)">\n      <path d="M5.90625,23.2670454 C5.90625,33.3653785 14.0889616,41.5482954 24.1849648,41.5482954 L47.8150351,41.5482954 C57.9025788,41.5482954 66.09375,33.3591228 66.09375,23.2670454 C66.09375,13.1687123 57.9110383,4.98579546 47.8150351,4.98579546 L24.1849648,4.98579546 C14.0974212,4.98579546 5.90625,13.1749681 5.90625,23.2670454 Z M0.920454546,23.2670454 C0.920454546,10.4170111 11.3482216,0 24.1849648,0 L47.8150351,0 C60.6636694,0 71.0795454,10.4141857 71.0795454,23.2670454 C71.0795454,36.1170798 60.6517785,46.5340909 47.8150351,46.5340909 L24.1849648,46.5340909 C11.3363306,46.5340909 0.920454546,36.1199052 0.920454546,23.2670454 Z" />\n      <ellipse cx="24.307" cy="23.443" rx="14.032" ry="13.96" />\n    </g>\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"ar-on",use:"ar-on-usage",viewBox:"0 0 100 100",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" id="ar-on">\n  <g fill="none" fill-rule="evenodd">\n    <rect width="100" height="100" />\n    <path fill="#FFFFFF" fill-rule="nonzero" d="M44.8369093 36L42.095994 29.7353362 29.7407913 29.7353362 26.9998759 36 20 36 32.7347141 7 39.1020711 7 51.8367852 36 44.8369093 36zM35.9394766 15.6294708L32.228699 24.0515022 39.6080863 24.0515022 35.9394766 15.6294708zM78.1446113 16.6251788C78.1446113 21.2718401 76.2751851 24.2727639 72.5362768 25.6280401L80 36 71.903758 36 65.3677292 26.7482118 60.813593 26.7482118 60.813593 36 54.2353963 36 54.2353963 7 65.409897 7C69.9921681 7 73.2601499 7.76060284 75.2139402 9.28183126 77.1677308 10.8030597 78.1446113 13.2508177 78.1446113 16.6251788zM70.2170409 20.0686695C71.0322916 19.3495434 71.4399107 18.2086393 71.4399107 16.6459227 71.4399107 15.0832063 71.0182357 14.0114479 70.1748729 13.4306152 69.3315102 12.8497826 67.8556474 12.5593706 65.7472406 12.5593706L60.813593 12.5593706 60.813593 21.1473533 65.6207368 21.1473533C67.8697042 21.1473533 69.4017902 20.7877958 70.2170409 20.0686695zM14.9200001 69.2670454C14.9200001 56.4170111 25.3479028 46 38.184813 46L61.8151908 46C74.6639921 46 85.0800037 56.4141857 85.0800037 69.2670454 85.0800037 82.1170798 74.652101 92.534091 61.8151908 92.534091L38.184813 92.534091C25.3360116 92.534091 14.9200001 82.1199052 14.9200001 69.2670454zM62.3069802 83.2272727C70.0566402 83.2272727 76.3389808 76.9770661 76.3389808 69.2670454 76.3389808 61.5570248 70.0566402 55.3068182 62.3069802 55.3068182 54.5573202 55.3068182 48.2749794 61.5570248 48.2749794 69.2670454 48.2749794 76.9770661 54.5573202 83.2272727 62.3069802 83.2272727z" />\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"ar-realign",use:"ar-realign-usage",viewBox:"0 0 100 100",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" id="ar-realign">\n  <g fill="none" fill-rule="evenodd">\n    <rect width="100" height="100" />\n    <path fill="#000000" fill-rule="nonzero" d="M50,64.5 C41.9918711,64.5 35.5,58.0081289 35.5,50 C35.5,41.9918711 41.9918711,35.5 50,35.5 C58.0081289,35.5 64.5,41.9918711 64.5,50 C64.5,58.0081289 58.0081289,64.5 50,64.5 Z M50,59.5 C55.2467051,59.5 59.5,55.2467051 59.5,50 C59.5,44.7532949 55.2467051,40.5 50,40.5 C44.7532949,40.5 40.5,44.7532949 40.5,50 C40.5,55.2467051 44.7532949,59.5 50,59.5 Z" />\n    <path fill="#000000" fill-rule="nonzero" d="M74.116503,70.0129771 C73.5431557,71.8604295 71.8125919,73.5882603 69.9699494,74.1569275 L12.4131808,91.9198116 C9.44603579,92.8355172 7.05384791,90.4488885 7.97086453,87.4774953 L25.7337487,29.9207268 C26.3009779,28.0827438 28.0372484,26.3453475 29.877699,25.7741731 L87.5788313,7.86692517 C90.5642603,6.94041274 92.9470404,9.33680109 92.023751,12.3118448 L74.116503,70.0129771 Z M31.3596951,30.5494938 C31.0943324,30.6318477 30.5917854,31.1347206 30.5114029,31.3951827 L13.5563604,86.3343157 L68.4954935,69.3792733 C68.7614492,69.2971953 69.2569137,68.8025132 69.3411823,68.5309811 L86.4328516,13.4578246 L31.3596951,30.5494938 Z" />\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"ar-reset-alignment",use:"ar-reset-alignment-usage",viewBox:"0 0 100 100",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" id="ar-reset-alignment">\n  <g fill="none" fill-rule="evenodd">\n    <rect width="100" height="100" />\n    <path fill="#000000" fill-rule="nonzero" d="M78.1528224,26.0850208 C71.2252031,17.6083867 60.8039236,12.5 49.5,12.5 C29.0654643,12.5 12.5,29.0654643 12.5,49.5 C12.5,69.9345357 29.0654643,86.5 49.5,86.5 C69.9345357,86.5 86.5,69.9345357 86.5,49.5 C86.5,48.1192881 87.6192881,47 89,47 C90.3807119,47 91.5,48.1192881 91.5,49.5 C91.5,72.6959595 72.6959595,91.5 49.5,91.5 C26.3040405,91.5 7.5,72.6959595 7.5,49.5 C7.5,26.3040405 26.3040405,7.5 49.5,7.5 C62.2770762,7.5 74.0650758,13.2534402 81.9272602,22.8025931 L82.6221935,12.864584 C82.718507,11.4872355 83.9131462,10.4487515 85.2904948,10.5450651 C86.6678433,10.6413787 87.7063273,11.8360179 87.6100137,13.2133664 L86.4939101,29.1743912 C86.3975965,30.5517397 85.2029573,31.5902237 83.8256088,31.4939101 L67.864584,30.3778065 C66.4872355,30.281493 65.4487515,29.0868538 65.5450651,27.7095052 C65.6413787,26.3321567 66.8360179,25.2936727 68.2133664,25.3899863 L78.1528224,26.0850208 Z" />\n    <path fill="#000000" d="M69.1932999,32.0773029 L60.9928,58.501136 C60.6642078,59.559933 59.5428575,60.6806778 58.4875853,61.0063507 L32.1298626,69.1407402 C31.0737147,69.4666833 30.4831333,68.874956 30.8088062,67.8196838 L38.9431957,41.4619611 C39.2691388,40.4058132 40.3904914,39.2850661 41.4484104,38.9567464 L67.8722435,30.7562465 C68.9310404,30.4276544 69.5216196,31.0193839 69.1932999,32.0773029 Z M50.0033122,55.9016393 C53.2626977,55.9016393 55.9049516,53.2593854 55.9049516,50 C55.9049516,46.7406146 53.2626977,44.0983607 50.0033122,44.0983607 C46.7439268,44.0983607 44.1016729,46.7406146 44.1016729,50 C44.1016729,53.2593854 46.7439268,55.9016393 50.0033122,55.9016393 Z" transform="matrix(-1 0 0 1 100.003 0)" />\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"back-to-start",use:"back-to-start-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="back-to-start">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>back-to-start</title>\n    <path d="M66.0383766,75.4605888 C67.6690388,76.5794619 69,75.902509 69,73.9409137 L69,26.0593234 C69,24.1037025 67.674036,23.4173465 66.0383766,24.5396483 L43.7025424,42.5215564 C43.6824988,42.5376928 43.6662503,42.5388157 43.6662503,42.5034444 L43.6662503,26.0518587 C43.6662503,25.0686362 42.8537524,24.2812557 41.8514855,24.2812557 L32.8147649,24.2812557 C31.8115992,24.2812557 31,25.0739817 31,26.0518587 L31,73.9483784 C31,74.9316009 31.8124979,75.7189814 32.8147649,75.7189814 L41.8514855,75.7189814 C42.8546512,75.7189814 43.6662503,74.9262554 43.6662503,73.9483784 L43.6662503,57.8907692 C43.6662503,57.6470426 43.8210593,57.5740952 44.017663,57.7323749 L66.0383766,75.4605888 Z" id="back-to-start_path-1" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"backward",use:"backward-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="backward">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>backward</title>\n    <path d="M48.3803476,44.969474 L48.3803476,26.3463056 C48.3803476,24.3511185 47.2702251,23.9033983 45.9008198,25.3451112 L23.0179163,49.4362805 C22.3259342,50.1648008 22.3287897,51.338085 23.0179163,52.0635989 L45.9008198,76.1547682 C47.2708188,77.5971061 48.3803476,77.1482311 48.3803476,75.1535738 L48.3803476,56.5304054 L67.0204722,76.1547682 C68.3904713,77.5971061 69.5,77.1482311 69.5,75.1535738 L69.5,26.3463056 C69.5,24.3511185 68.3898776,23.9033983 67.0204722,25.3451112 L48.3803476,44.969474 L48.3803476,44.969474 Z" id="backward_path-1" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"bar-chart",use:"bar-chart-usage",viewBox:"20 20 60 60",content:'<symbol viewBox="20 20 60 60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="bar-chart">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>linechart</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="bar-chart_Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="bar-chart_linechart">\n            <rect id="bar-chart_bounds" x="0" y="0" width="100" height="100" />\n            <path d="M74.163652,72.327304 L27.672696,72.327304 L27.672696,25.836348 C27.672696,24.8062016 26.8664944,24 25.836348,24 C24.8062016,24 24,24.8062016 24,25.836348 L24,74.163652 C24,75.1937984 24.8062016,76 25.836348,76 L74.163652,76 C75.1937984,76 76,75.1937984 76,74.163652 C76,73.1335056 75.1937984,72.327304 74.163652,72.327304 Z M45.453919,65.250646 L45.453919,38.8251507 C45.453919,37.7950043 44.6477175,36.9888028 43.6175711,36.9888028 C42.5874246,36.9888028 41.7812231,37.7950043 41.7812231,38.8251507 L41.7812231,65.250646 C41.7812231,66.2807924 42.5874246,67.086994 43.6175711,67.086994 C44.6477175,67.086994 45.453919,66.2807924 45.453919,65.250646 Z M36.585702,65.250646 L36.585702,38.8251507 C36.585702,37.7950043 35.7795004,36.9888028 34.749354,36.9888028 C33.7192076,36.9888028 32.913006,37.7950043 32.913006,38.8251507 L32.913006,65.250646 C32.913006,66.2807924 33.7192076,67.086994 34.749354,67.086994 C35.7795004,67.086994 36.585702,66.2807924 36.585702,65.250646 Z M63.1903531,65.250646 L63.1903531,38.8251507 C63.1903531,37.7950043 62.3841516,36.9888028 61.3540052,36.9888028 C60.3238587,36.9888028 59.5176572,37.7950043 59.5176572,38.8251507 L59.5176572,65.250646 C59.5176572,66.2807924 60.3238587,67.086994 61.3540052,67.086994 C62.3841516,67.086994 63.1903531,66.2807924 63.1903531,65.250646 Z M72.0585702,65.250646 L72.0585702,52.0378984 C72.0585702,51.0077519 71.2523686,50.2015504 70.2222222,50.2015504 C69.1920758,50.2015504 68.3858742,51.0077519 68.3858742,52.0378984 L68.3858742,65.250646 C68.3858742,66.2807924 69.1920758,67.086994 70.2222222,67.086994 C71.2523686,67.086994 72.0585702,66.2807924 72.0585702,65.250646 Z M54.3221361,65.250646 L54.3221361,52.0378984 C54.3221361,51.0077519 53.5159345,50.2015504 52.4857881,50.2015504 C51.4556417,50.2015504 50.6494401,51.0077519 50.6494401,52.0378984 L50.6494401,65.250646 C50.6494401,66.2807924 51.4556417,67.086994 52.4857881,67.086994 C53.5159345,67.086994 54.3221361,66.2807924 54.3221361,65.250646 Z" id="bar-chart_bar-chart" fill="#000000" />\n        </g>\n    </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"bulb",use:"bulb-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="bulb">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>bulb</title>\n    <path d="M43.905493,68.0184989 L43.905493,68.0184989 L43.9418118,68.0728245 C43.8533487,67.9378572 43.8367111,67.9235498 43.8550792,67.9334282 C43.877113,67.945278 43.8626956,67.9411762 43.713445,67.9411762 L56.2226972,67.9411764 C55.9836047,67.9411764 56.0772981,67.8898072 55.9780413,68.0491334 C56.0381946,67.9575444 56.1594473,67.7699763 56.3329844,67.4967044 C56.6270204,67.0336809 56.9559062,66.5052293 57.3107945,65.9217167 C58.3257273,64.2529485 59.340726,62.4853157 60.2842754,60.7044058 C61.0112358,59.3322986 61.6656364,58.0078206 62.22927,56.7547122 C63.5971929,53.7134535 64.3448826,51.2544474 64.3448826,49.8463469 C64.3448826,42.0112382 57.9150521,35.6470588 49.968071,35.6470588 C42.0210899,35.6470588 35.5912594,42.0112382 35.5912594,49.8463469 C35.5912594,51.3096771 36.2226369,53.5744869 37.4011703,56.3190228 C38.0224453,57.7658309 38.7763482,59.3060334 39.6336549,60.9031695 C40.5706178,62.6487024 41.578674,64.3668995 42.5864878,65.978189 C42.9386833,66.5412781 43.264928,67.0496178 43.5563873,67.4936034 C43.7278606,67.7548119 43.8471634,67.9329462 43.905493,68.0184989 L43.905493,68.0184989 Z M40.9342714,70.0375497 C40.9342714,70.0375497 31.9970565,56.9292414 31.9970565,49.8463469 C31.9970565,40.022569 40.0429537,32.0588235 49.968071,32.0588235 C59.8931882,32.0588235 67.9390855,40.022569 67.9390855,49.8463469 C67.9390855,56.3813114 58.9837479,70.0166534 58.9837479,70.0166534 C58.4628734,70.8455998 57.217553,71.5294117 56.2226971,71.5294117 L43.7134449,71.5294115 C42.7110928,71.5294114 41.4743107,70.8614822 40.9342714,70.0375497 Z M42.7796652,76.0147059 L57.1564768,76.0147059 C58.1489885,76.0147059 58.9535782,75.2114521 58.9535782,74.2205882 C58.9535782,73.2297244 58.1489885,72.4264706 57.1564768,72.4264706 L42.7796652,72.4264706 C41.7871535,72.4264706 40.9825637,73.2297244 40.9825637,74.2205882 C40.9825637,75.2114521 41.7871535,76.0147059 42.7796652,76.0147059 Z M42.7796652,80.5 L57.1564768,80.5 C58.1489885,80.5 58.9535782,79.6967462 58.9535782,78.7058824 C58.9535782,77.7150185 58.1489885,76.9117647 57.1564768,76.9117647 L42.7796652,76.9117647 C41.7871535,76.9117647 40.9825637,77.7150185 40.9825637,78.7058824 C40.9825637,79.6967462 41.7871535,80.5 42.7796652,80.5 Z M70.7437501,28.5156677 L66.9315223,32.321566 C66.2297105,33.0222125 66.2297105,34.158185 66.9315223,34.8588315 C67.633334,35.559478 68.7711957,35.559478 69.4730075,34.8588315 L73.2852354,31.0529332 C73.9870471,30.3522867 73.9870471,29.2163142 73.2852354,28.5156677 C72.5834236,27.8150212 71.4455619,27.8150212 70.7437501,28.5156677 Z M25.5981889,31.0529332 L29.4104168,34.8588315 C30.1122286,35.559478 31.2500903,35.559478 31.951902,34.8588315 C32.6537138,34.158185 32.6537138,33.0222125 31.951902,32.321566 L28.1396742,28.5156677 C27.4378624,27.8150212 26.3000007,27.8150212 25.5981889,28.5156677 C24.8963772,29.2163142 24.8963772,30.3522867 25.5981889,31.0529332 Z M79.2028986,49.5833466 L73.8115942,49.5833466 C72.8190825,49.5833466 72.0144928,50.3866004 72.0144928,51.3774642 C72.0144928,52.3683281 72.8190825,53.1715819 73.8115942,53.1715819 L79.2028986,53.1715819 C80.1954103,53.1715819 81,52.3683281 81,51.3774642 C81,50.3866004 80.1954103,49.5833466 79.2028986,49.5833466 Z M26.1884058,49.5833466 L20.7971014,49.5833466 C19.8045897,49.5833466 19,50.3866004 19,51.3774642 C19,52.3683281 19.8045897,53.1715819 20.7971014,53.1715819 L26.1884058,53.1715819 C27.1809175,53.1715819 27.9855072,52.3683281 27.9855072,51.3774642 C27.9855072,50.3866004 27.1809175,49.5833466 26.1884058,49.5833466 Z M48.1709695,21.2941176 L48.1709695,26.6764706 C48.1709695,27.6673344 48.9755593,28.4705882 49.968071,28.4705882 C50.9605827,28.4705882 51.7651724,27.6673344 51.7651724,26.6764706 L51.7651724,21.2941176 C51.7651724,20.3032538 50.9605827,19.5 49.968071,19.5 C48.9755593,19.5 48.1709695,20.3032538 48.1709695,21.2941176 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"checkbox-off",use:"checkbox-off-usage",viewBox:"0 0 52 52",content:'<symbol viewBox="0 0 52 52" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="checkbox-off">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>checkbox-off</title>\n    <path d="M4,2.0065993 L4,2.0065993 L4,49.9934007 C4,48.8910287 3.1102492,48 2.0065993,48 L49.9934007,48 C48.8910287,48 48,48.8897508 48,49.9934007 L48,2.0065993 C48,3.1089713 48.8897508,4 49.9934007,4 L2.0065993,4 C3.1089713,4 4,3.1102492 4,2.0065993 L4,2.0065993 L4,2.0065993 L4,2.0065993 Z M0,2.0065993 C0,0.8983851 0.9025574,0 2.0065993,0 L49.9934007,0 C51.1016149,0 52,0.9025574 52,2.0065993 L52,49.9934007 C52,51.1016149 51.0974426,52 49.9934007,52 L2.0065993,52 C0.8983851,52 0,51.0974426 0,49.9934007 L0,2.0065993 L0,2.0065993 L0,2.0065993 L0,2.0065993 Z" id="checkbox-off_Combined-Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"checkbox-on",use:"checkbox-on-usage",viewBox:"0 0 52 52",content:'<symbol viewBox="0 0 52 52" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="checkbox-on">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>checkbox-on</title>\n    <path d="M4,2.0065993 L4,2.0065993 L4,49.9934007 C4,48.8910287 3.1102492,48 2.0065993,48 L49.9934007,48 C48.8910287,48 48,48.8897508 48,49.9934007 L48,2.0065993 C48,3.1089713 48.8897508,4 49.9934007,4 L2.0065993,4 C3.1089713,4 4,3.1102492 4,2.0065993 L4,2.0065993 L4,2.0065993 L4,2.0065993 Z M0,2.0065993 C0,0.8983851 0.9025574,0 2.0065993,0 L49.9934007,0 C51.1016149,0 52,0.9025574 52,2.0065993 L52,49.9934007 C52,51.1016149 51.0974426,52 49.9934007,52 L2.0065993,52 C0.8983851,52 0,51.0974426 0,49.9934007 L0,2.0065993 L0,2.0065993 L0,2.0065993 L0,2.0065993 Z M8,9.9997073 C8,8.8952994 8.8898926,8 9.9997073,8 L42.0002927,8 C43.1047006,8 44,8.8898926 44,9.9997073 L44,42.0002927 C44,43.1047006 43.1101074,44 42.0002927,44 L9.9997073,44 C8.8952994,44 8,43.1101074 8,42.0002927 L8,9.9997073 L8,9.9997073 Z" id="checkbox-on_checkbox-on" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"close",use:"close-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="close">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>close</title>\n    <path d="M24.5370052,75.4629948 C24.8950086,75.8209983 25.3425129,76 25.8347676,76 C26.3270224,76 26.7745267,75.8209983 27.1325301,75.4629948 L50,52.595525 L72.8674699,75.4629948 C73.2254733,75.8209983 73.6729776,76 74.1652324,76 C74.6127367,76 75.1049914,75.8209983 75.4629948,75.4629948 C76.1790017,74.746988 76.1790017,73.5834768 75.4629948,72.8674699 L52.595525,50 L75.4629948,27.1325301 C76.1790017,26.4165232 76.1790017,25.253012 75.4629948,24.5370052 C74.746988,23.8209983 73.5834768,23.8209983 72.8674699,24.5370052 L50,47.404475 L27.1325301,24.5370052 C26.4165232,23.8209983 25.253012,23.8209983 24.5370052,24.5370052 C23.8209983,25.253012 23.8209983,26.4165232 24.5370052,27.1325301 L47.404475,50 L24.5370052,72.8674699 C23.8209983,73.5834768 23.8209983,74.746988 24.5370052,75.4629948 L24.5370052,75.4629948 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"closed",use:"closed-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="closed">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>closed</title>\n    <path d="M41.0634084,72.7146574 C39.647677,74.1014485 38.5,73.6041667 38.5,71.5972562 L38.5,28.4017241 C38.5,26.3978094 39.6481621,25.898007 41.0634084,27.2843228 L62.9667215,48.7398895 C63.6768971,49.4355477 63.6786213,50.5617436 62.9667215,51.2590908 L41.0634084,72.7146574 L41.0634084,72.7146574 Z" id="closed_path-1" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"decrease",use:"decrease-usage",viewBox:"0 0 50 6",content:'<symbol viewBox="0 0 50 6" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="decrease">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>decrease</title>\n    <path d="M46.6183575,0.657894737 L3.30112724,0.657894737 C1.44927539,0.657894737 0,1.66880618 0,2.96052632 C0,4.25224645 1.44927539,5.26315789 3.30112724,5.26315789 L46.6988728,5.26315789 C48.5507246,5.26315789 50,4.25224645 50,2.96052632 C49.9194847,1.66880618 48.4702093,0.657894737 46.6183575,0.657894737 L46.6183575,0.657894737 L46.6183575,0.657894737 Z" id="decrease_Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"download",use:"download-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="download">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>download</title>\n    <path d="M48.6146237,69.0577089 C48.7941056,69.2368648 49.0184581,69.3712317 49.2428105,69.4608096 L49.287681,69.4608096 C49.5120334,69.5503876 49.7363859,69.5951766 50.0056088,69.5951766 C50.2748317,69.5951766 50.4991842,69.5503876 50.7235366,69.4608096 L50.7684071,69.4608096 C50.9927595,69.3712317 51.217112,69.2368648 51.3965939,69.0577089 L76.9279013,43.5727821 C77.6906996,42.8113695 77.6906996,41.6020672 76.9279013,40.8406546 C76.165103,40.079242 74.9535998,40.079242 74.1908016,40.8406546 L51.8901693,63.0111972 L51.8901693,25.9259259 C51.8901693,24.8509905 51.03763,24 49.9607383,24 C48.8838466,24 48.0313074,24.8509905 48.0313074,25.9259259 L48.0313074,63.0559862 L25.8204161,40.8406546 C25.0576178,40.079242 23.8461146,40.079242 23.0833163,40.8406546 C22.3205181,41.6020672 22.3205181,42.8113695 23.0833163,43.5727821 L48.6146237,69.0577089 Z M24.429431,76 L75.4920457,76 C76.5689374,76 77.4214766,75.1490095 77.4214766,74.0740741 C77.4214766,72.9991387 76.5689374,72.1481481 75.4920457,72.1481481 L24.429431,72.1481481 C23.3525393,72.1481481 22.5,72.9991387 22.5,74.0740741 C22.5,75.1042205 23.3525393,76 24.429431,76 L24.429431,76 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"expand",use:"expand-usage",viewBox:"0 0 52 51",content:'<symbol viewBox="0 0 52 51" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="expand">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>expand</title>\n    <path d="M1.7243713,50.7200889 C1.9874281,50.8076567 2.206642,50.8514407 2.4258561,50.8514407 L21.7118791,50.8514407 C22.7202635,50.8514407 23.509434,50.0633298 23.509434,49.0562993 C23.509434,48.0492687 22.7202635,47.2611578 21.7118791,47.2611578 L6.7662934,47.2611578 L22.4067219,31.6405647 C23.1082067,30.9400217 23.1082067,29.8016394 22.4067219,29.1010964 C22.0559795,28.7508249 21.6175514,28.5756892 21.1352807,28.5756892 C20.6968527,28.5756892 20.2145818,28.7508249 19.8638394,29.1010964 L4.2234109,44.7216894 L4.2234109,29.7951414 C4.2234109,28.7881108 3.4342405,28 2.4258561,28 C1.4174717,28 0.6283012,28.7881108 0.6283012,29.7951414 L0.6283012,49.0562993 C0.5844584,49.275219 0.672144,49.4941387 0.7159868,49.7130583 C0.9352008,50.1508977 1.2859433,50.5011692 1.7243713,50.7200889 L1.7243713,50.7200889 L1.7243713,50.7200889 Z M50.4014149,0.1313518 C50.1383581,0.043784 49.9191441,0 49.6999301,0 L30.413907,0 C29.4055226,0 28.6163522,0.788111 28.6163522,1.7951415 C28.6163522,2.802172 29.4055226,3.5902829 30.413907,3.5902829 L45.3594927,3.5902829 L29.7190643,19.210876 C29.0175795,19.911419 29.0175795,21.0498014 29.7190643,21.7503444 C30.0698066,22.1006159 30.5082347,22.2757516 30.9905055,22.2757516 C31.4289335,22.2757516 31.9112043,22.1006159 32.2619467,21.7503444 L47.9023752,6.1297513 L47.9023752,21.0562993 C47.9023752,22.0633299 48.6915457,22.8514408 49.6999301,22.8514408 C50.7083145,22.8514408 51.4974849,22.0633299 51.4974849,21.0562993 L51.4974849,1.7951415 C51.5413278,1.5762218 51.4536421,1.3573021 51.4097994,1.1383825 C51.1905853,0.7005431 50.8398429,0.3502716 50.4014149,0.1313518 L50.4014149,0.1313518 L50.4014149,0.1313518 Z" id="expand_shrink" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"eye",use:"eye-usage",viewBox:"0 0 50 33",content:'<symbol viewBox="0 0 50 33" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="eye">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>eye</title>\n    <path d="M42.1662242,24.3586406 C44.0435399,22.7016904 45.7449706,20.9295613 47.2427557,19.1567113 C47.7678617,18.5351709 48.2306906,17.9570072 48.6275649,17.4365285 C48.868826,17.120128 49.0364997,16.8903077 49.1268396,16.7613928 L49.6424337,16.025641 L49.1268396,15.2898892 C49.0364997,15.1609744 48.868826,14.931154 48.6275649,14.6147535 C48.2306906,14.0942748 47.7678617,13.5161112 47.2427557,12.8945707 C45.7449706,11.1217208 44.0435399,9.34959167 42.1662242,7.69264141 C36.7338884,2.89797058 30.9453653,0 25,0 C19.0546347,0 13.2661116,2.89797058 7.83377577,7.69264141 C5.95646013,9.34959167 4.25502942,11.1217208 2.75724429,12.8945707 C2.23213833,13.5161112 1.76930942,14.0942748 1.37243506,14.6147535 C1.13117404,14.931154 0.963500256,15.1609744 0.873160385,15.2898892 L0.357566346,16.025641 L0.873160385,16.7613928 C0.963500256,16.8903077 1.13117404,17.120128 1.37243506,17.4365285 C1.76930942,17.9570072 2.23213833,18.5351709 2.75724429,19.1567113 C4.25502942,20.9295613 5.95646013,22.7016904 7.83377577,24.3586406 C13.2661116,29.1533115 19.0546347,32.0512821 25,32.0512821 C30.9453653,32.0512821 36.7338884,29.1533115 42.1662242,24.3586406 L42.1662242,24.3586406 Z M23.3974359,17.6990553 C25.3445937,17.6990553 26.9230769,16.1205721 26.9230769,14.1734143 C26.9230769,12.2262565 25.3445937,10.6477733 23.3974359,10.6477733 C21.4502781,10.6477733 19.8717949,12.2262565 19.8717949,14.1734143 C19.8717949,16.1205721 21.4502781,17.6990553 23.3974359,17.6990553 L23.3974359,17.6990553 Z M9.53052667,22.4362312 C7.75375327,20.8680212 3.4114009,16.3133615 3.4114009,16.025641 C3.4114009,16.025641 7.75375327,11.1832609 9.53052667,9.6150509 C14.538445,5.19497814 19.7934617,2.56410256 25,2.56410256 C30.2065383,2.56410256 35.461555,5.19497814 40.4694733,9.6150509 C42.2462467,11.1832609 43.8624879,12.8666606 45.2840924,14.5493396 C45.7807728,15.1372342 46.5885991,16.025641 46.5885991,16.025641 C46.5885991,16.025641 45.7807728,16.9140478 45.2840924,17.5019425 C43.8624879,19.1846214 42.2462467,20.8680212 40.4694733,22.4362312 C35.461555,26.8563039 30.2065383,29.4871795 25,29.4871795 C19.7934617,29.4871795 14.538445,26.8563039 9.53052667,22.4362312 L9.53052667,22.4362312 Z M25.1282051,24.8785425 L25.1282051,24.8785425 C30.0846067,24.8785425 34.1025641,20.8605851 34.1025641,15.9041835 C34.1025641,10.9477819 30.0846067,6.92982455 25.1282051,6.92982455 C20.1718035,6.92982455 16.1538462,10.9477819 16.1538462,15.9041835 C16.1538462,20.8605851 20.1718035,24.8785425 25.1282051,24.8785425 L25.1282051,24.8785425 L25.1282051,24.8785425 Z M25.1282051,27.4426451 L25.1282051,27.4426451 C18.7556888,27.4426451 13.5897436,22.2766999 13.5897436,15.9041835 C13.5897436,9.53166718 18.7556888,4.36572199 25.1282051,4.36572199 C31.5007215,4.36572199 36.6666667,9.53166718 36.6666667,15.9041835 C36.6666667,22.2766999 31.5007215,27.4426451 25.1282051,27.4426451 L25.1282051,27.4426451 L25.1282051,27.4426451 Z" id="eye_Combined-Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"feedback",use:"feedback-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="feedback">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>feedback</title>\n    <path d="M74.1652324,64.1460446 L68.2581756,64.1460446 L68.2581756,70.1703854 C68.2581756,70.8843813 67.8554217,71.5091278 67.2289157,71.821501 C66.9604131,71.9553753 66.6919105,72 66.4234079,72 C66.020654,72 65.6179002,71.8661258 65.3046472,71.643002 L55.4595525,64.1906694 L25.8347676,64.1906694 C24.8055077,64.1906694 24,63.3874239 24,62.3610548 L24,29.8296146 C24,28.8032454 24.8055077,28 25.8347676,28 L74.1652324,28 C75.1944923,28 76,28.8032454 76,29.8296146 L76,62.31643 C76,63.3427992 75.1497418,64.1460446 74.1652324,64.1460446 Z M27.7142857,31.6592292 L27.7142857,60.4868154 L56.0860585,60.4868154 C56.4888124,60.4868154 56.8915663,60.6206897 57.2048193,60.8438134 L64.5886403,66.4665314 L64.5886403,62.31643 C64.5886403,61.2900609 65.394148,60.4868154 66.4234079,60.4868154 L72.3304647,60.4868154 L72.3304647,31.6592292 L27.7142857,31.6592292 Z M62.5517241,50.4489796 C64.5323315,50.4489796 66.137931,48.8408595 66.137931,46.8571429 C66.137931,44.8734262 64.5323315,43.2653061 62.5517241,43.2653061 C60.5711168,43.2653061 58.9655172,44.8734262 58.9655172,46.8571429 C58.9655172,48.8408595 60.5711168,50.4489796 62.5517241,50.4489796 Z M37.4482759,50.4489796 C39.4288832,50.4489796 41.0344828,48.8408595 41.0344828,46.8571429 C41.0344828,44.8734262 39.4288832,43.2653061 37.4482759,43.2653061 C35.4676685,43.2653061 33.862069,44.8734262 33.862069,46.8571429 C33.862069,48.8408595 35.4676685,50.4489796 37.4482759,50.4489796 Z M50,50.4489796 C51.9806074,50.4489796 53.5862069,48.8408595 53.5862069,46.8571429 C53.5862069,44.8734262 51.9806074,43.2653061 50,43.2653061 C48.0193926,43.2653061 46.4137931,44.8734262 46.4137931,46.8571429 C46.4137931,48.8408595 48.0193926,50.4489796 50,50.4489796 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"folder",use:"folder-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="folder">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>folder</title>\n    <path d="M27.1,28.6064707 L27.1,28.6064707 L27.1,66.3935293 C27.1,66.3996507 27.1003481,66.4 27.094687,66.4 L71.905313,66.4 C71.8988831,66.4 71.9,66.3988818 71.9,66.398371 L71.9,34.001629 C71.9,34.0002686 71.8997318,34 71.9032879,34 L50.3965517,34 L48.8087966,34 L47.738151,32.8275307 L44.0260242,28.7623625 C44.0342721,28.7713948 43.6470637,28.6 43.6679868,28.6 L27.102562,28.6 C27.103149,28.6 27.1,28.603151 27.1,28.6064707 L27.1,28.6064707 Z M23.5,28.6064707 C23.5,26.614672 25.1151769,25 27.102562,25 L43.6679868,25 C44.6607354,25 46.0120647,25.5985268 46.6844249,26.3348318 L50.3965517,30.4 L71.9032879,30.4 C73.8896972,30.4 75.5,32.0137821 75.5,34.001629 L75.5,66.398371 C75.5,68.3874958 73.8867221,70 71.905313,70 L27.094687,70 C25.1093962,70 23.5,68.3851586 23.5,66.3935293 L23.5,28.6064707 L23.5,28.6064707 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"folder-open",use:"folder-open-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="folder-open">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>folder-open</title>\n    <path d="M27.2973939,57.8759716 C27.2986637,46.6766371 27.3,28.7961507 27.3,28.7961507 C27.3,28.8024306 45.7920728,28.8 45.7920728,28.8 C46.2780001,28.8 47.1532477,29.1854728 47.4782069,29.5401519 L51.2244511,33.629016 L51.7595409,34.2130435 L52.5516326,34.2130435 L76.0042761,34.2130435 C76.0015922,34.2130435 76.0002609,38.8333645 75.9999157,40.25 L40.2758955,40.25 C37.6004436,40.25 34.7003543,42.0780781 33.5807464,44.4673177 L33.5807464,44.4673177 L27.2973939,57.8759716 Z M79.5998231,40.25 L79.5998231,34.2214526 C79.5998231,32.227922 77.9937518,30.6130435 76.0042761,30.6130435 L52.5516326,30.6130435 L53.8788142,31.197071 L50.1325701,27.1082069 C49.1259789,26.009556 47.2878159,25.2 45.7920728,25.2 L27.3078947,25.2 C25.3203886,25.2 23.7,26.8079885 23.7,28.7961507 L23.7,66.7038493 C23.7,66.7986415 23.7081779,66.8843838 23.7237536,66.9617238 C23.933794,68.8394517 25.5213409,70.25 27.8681473,70.25 L72.124106,70.25 C74.7995579,70.25 77.6996472,68.4219219 78.8192551,66.0326823 L88.2336747,45.9423416 C89.6094306,43.0064828 87.812512,40.25 84.5318542,40.25 L79.5998231,40.25 Z M36.8301463,45.9423416 C37.3652329,44.8004686 38.9969601,43.7719056 40.2758955,43.7719056 L84.5318542,43.7719056 C85.2036204,43.7719056 85.2655967,43.8669775 84.9842747,44.4673177 L75.5698552,64.5576584 C75.0347686,65.6995314 73.4030415,66.7280944 72.124106,66.7280944 L27.8681473,66.7280944 C27.1963811,66.7280944 27.1344048,66.6330225 27.4157268,66.0326823 L36.8301463,45.9423416 L36.8301463,45.9423416 Z" id="folder-open_Combined-Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"forward",use:"forward-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="forward">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>backward</title>\n    <path d="M48.3803476,44.969474 L48.3803476,26.3463056 C48.3803476,24.3511185 47.2702251,23.9033983 45.9008198,25.3451112 L23.0179163,49.4362805 C22.3259342,50.1648008 22.3287897,51.338085 23.0179163,52.0635989 L45.9008198,76.1547682 C47.2708188,77.5971061 48.3803476,77.1482311 48.3803476,75.1535738 L48.3803476,56.5304054 L67.0204722,76.1547682 C68.3904713,77.5971061 69.5,77.1482311 69.5,75.1535738 L69.5,26.3463056 C69.5,24.3511185 68.3898776,23.9033983 67.0204722,25.3451112 L48.3803476,44.969474 L48.3803476,44.969474 Z" id="forward_path-1" transform="scale(-1,1) translate(-100,0)" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"geolocation",use:"geolocation-usage",viewBox:"0 0 50 50",content:'<symbol viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="geolocation">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>geolocation</title>\n    <path d="M25.2083333,40.9848485 L25.2083333,40.9848485 C33.9214621,40.9848485 40.9848485,33.9214621 40.9848485,25.2083333 C40.9848485,16.4952046 33.9214621,9.43181817 25.2083333,9.43181817 C16.4952046,9.43181817 9.43181817,16.4952046 9.43181817,25.2083333 C9.43181817,33.9214621 16.4952046,40.9848485 25.2083333,40.9848485 L25.2083333,40.9848485 L25.2083333,40.9848485 Z M6.485903,23.7069504 C7.21162342,14.5314545 14.5314545,7.21162342 23.7069504,6.485903 C23.7061912,6.46628533 23.7058081,6.44657125 23.7058081,6.42676767 L23.7058081,1.91919192 C23.7058081,1.08937017 24.3785116,0.416666667 25.2083333,0.416666667 C26.0381551,0.416666667 26.7108586,1.08937017 26.7108586,1.91919192 L26.7108586,6.42676767 C26.7108586,6.44657125 26.7104755,6.46628533 26.7097162,6.485903 C35.8852122,7.21162342 43.2050433,14.5314545 43.9307637,23.7069504 C43.9503813,23.7061912 43.9700954,23.7058081 43.989899,23.7058081 L48.4974747,23.7058081 C49.3272965,23.7058081 50,24.3785116 50,25.2083333 C50,26.0381551 49.3272965,26.7108586 48.4974747,26.7108586 L43.989899,26.7108586 C43.9700954,26.7108586 43.9503813,26.7104755 43.9307637,26.7097162 C43.2050433,35.8852122 35.8852122,43.2050433 26.7097162,43.9307637 C26.7104755,43.9503813 26.7108586,43.9700954 26.7108586,43.989899 L26.7108586,48.4974747 C26.7108586,49.3272965 26.0381551,50 25.2083333,50 C24.3785116,50 23.7058081,49.3272965 23.7058081,48.4974747 L23.7058081,43.989899 C23.7058081,43.9700954 23.7061912,43.9503813 23.7069504,43.9307637 C14.5314545,43.2050433 7.21162342,35.8852122 6.485903,26.7097162 C6.46628533,26.7104755 6.44657125,26.7108586 6.42676767,26.7108586 L1.91919192,26.7108586 C1.08937017,26.7108586 0.416666667,26.0381551 0.416666667,25.2083333 C0.416666667,24.3785116 1.08937017,23.7058081 1.91919192,23.7058081 L6.42676767,23.7058081 C6.44657125,23.7058081 6.46628533,23.7061912 6.485903,23.7069504 L6.485903,23.7069504 Z M25.2083333,29.7159091 C27.6977987,29.7159091 29.7159091,27.6977987 29.7159091,25.2083333 C29.7159091,22.718868 27.6977987,20.7007576 25.2083333,20.7007576 C22.718868,20.7007576 20.7007576,22.718868 20.7007576,25.2083333 C20.7007576,27.6977987 22.718868,29.7159091 25.2083333,29.7159091 L25.2083333,29.7159091 Z" id="geolocation_Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"increase",use:"increase-usage",viewBox:"0 0 50 50",content:'<symbol viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="increase">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>increase</title>\n    <path d="M0,25 C0,25.3514939 0.131810207,25.659051 0.373462207,25.900703 C0.615114207,26.142355 0.922671379,26.2741652 1.27416517,26.2741652 L23.7258348,26.2741652 L23.7258348,48.7258348 C23.7258348,49.0773286 23.857645,49.3848858 24.099297,49.6265378 C24.3189807,49.8462214 24.6485061,50 25,50 C25.7029877,50 26.2741652,49.4288225 26.2741652,48.7258348 L26.2741652,26.2741652 L48.7258348,26.2741652 C49.4288225,26.2741652 50,25.7029877 50,25 C50,24.2970123 49.4288225,23.7258348 48.7258348,23.7258348 L26.2741652,23.7258348 L26.2741652,1.27416517 C26.2741652,0.571177517 25.7029877,0 25,0 C24.2970123,0 23.7258348,0.571177517 23.7258348,1.27416517 L23.7258348,23.7258348 L1.27416517,23.7258348 C0.571177517,23.7258348 0,24.2970123 0,25 L0,25 L0,25 L0,25 Z" id="increase_Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"left",use:"left-usage",viewBox:"20 20 60 60",content:'<symbol viewBox="20 20 60 60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="left">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>left</title>\n    <path d="M60.8488746,75.462069 C61.2090032,75.8206897 61.659164,76 62.1543408,76 C62.6495177,76 63.0996785,75.8206897 63.4598071,75.462069 C64.1800643,74.7448276 64.1800643,73.5793103 63.4598071,72.862069 L40.5016077,50 L63.4598071,27.137931 C64.1800643,26.4206897 64.1800643,25.2551724 63.4598071,24.537931 C62.7395498,23.8206897 61.5691318,23.8206897 60.8488746,24.537931 L36.5401929,48.7 C35.8199357,49.4172414 35.8199357,50.5827586 36.5401929,51.3 L60.8488746,75.462069 L60.8488746,75.462069 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"line-chart",use:"line-chart-usage",viewBox:"0 0 95 95",content:'<symbol viewBox="0 0 95 95" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="line-chart">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>line-chart</title>\n    <path d="M8.70973308,9.55172414 L8.70973308,34.1206897 L14.2844827,34.1206897 C16.0936914,34.1206897 17.5603449,35.587343 17.5603449,37.3965517 C17.5603449,39.2057604 16.0936914,40.6724139 14.2844827,40.6724139 L8.70973308,40.6724139 L8.70973308,65.2413793 L14.2844827,65.2413793 C16.0936914,65.2413793 17.5603449,66.7080328 17.5603449,68.5172414 C17.5603449,70.3264501 16.0936914,71.7931034 14.2844827,71.7931034 L8.70973308,71.7931034 L8.70973308,91.2902669 L93.6451335,91.2902669 C95.5271317,91.2902669 97,92.7631352 97,94.6451335 C97,96.5271317 95.5271317,98 93.6451335,98 L5.35486654,98 C3.47286831,98 2,96.5271317 2,94.6451335 L2,6.35486654 C2,4.47286831 3.47286831,3 5.35486654,3 C5.48233827,3 5.6079332,3.00675706 5.73132066,3.0199405 C5.85067501,3.00676418 5.97196133,3 6.09482757,3 L14.2844827,3 C16.0936914,3 17.5603449,4.46665348 17.5603449,6.27586198 C17.5603449,8.08507066 16.0936914,9.55172414 14.2844827,9.55172414 L8.70973308,9.55172414 L8.70973308,9.55172414 Z M44.7942486,50.500076 L59.188643,59.0842764 C60.6746426,59.9638112 62.5882088,59.5388313 63.5622056,58.1129609 L89.877419,19.5891397 C90.897909,18.0952066 90.5141074,16.0568639 89.0201743,15.0363739 C87.526241,14.0158841 85.4878984,14.3996858 84.4674085,15.8936189 L59.1886428,51.7251627 L45.9168667,43.6156383 C44.3774009,42.7044577 42.3916334,43.1967776 41.4561045,44.7215696 L18.8629675,81.5454762 C17.916824,83.0875685 18.3999359,85.1046821 19.9420279,86.0508256 C21.4841202,86.9969692 23.5012338,86.5138573 24.4473774,84.971765 L44.7942486,50.500076 L44.7942486,50.500076 Z" id="line-chart_Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"link",use:"link-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="link">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>link</title>\n    <path d="M37.1900258,44.7016337 L26.1461737,55.7901978 C23.2846088,58.6517627 23.2846088,63.2570937 26.1461737,66.1186586 L33.8813414,73.8538263 C35.2674119,75.2398968 37.1006019,76 39.0679278,76 C41.0352537,76 42.8684437,75.2398968 44.2545142,73.8538263 L55.2536543,62.7652623 C56.6397248,61.3791917 57.399828,59.5460017 57.399828,57.5786758 C57.399828,57.4892519 57.399828,57.44454 57.3551161,57.3551161 C57.44454,57.3551161 57.4892519,57.399828 57.5786758,57.399828 C59.5460017,57.399828 61.3791917,56.6397248 62.7652623,55.2536543 L73.8538263,44.1650903 C76.7153912,41.3035254 76.7153912,36.6981943 73.8538263,33.8366294 L66.1186586,26.1014617 C64.7325881,24.7601032 62.8993981,24 60.9320722,24 C58.9647463,24 57.1762683,24.7601032 55.7901978,26.1461737 L44.7016337,37.1900258 C43.3155632,38.5760963 42.55546,40.4092863 42.55546,42.3766122 C42.55546,42.4660361 42.55546,42.5107481 42.600172,42.600172 C42.5107481,42.600172 42.4660361,42.55546 42.3766122,42.55546 C40.4092863,42.55546 38.5760963,43.3155632 37.1900258,44.7016337 L37.1900258,44.7016337 Z M47.5184867,40.0068788 L58.6070507,28.9183147 C59.2330181,28.2923474 60.0825451,27.9346518 60.9767842,27.9346518 C61.8710232,27.9346518 62.7205503,28.2923474 63.3465176,28.9183147 L71.0816853,36.6534824 C72.3783319,37.950129 72.3783319,40.0515907 71.0816853,41.3482373 L59.9484093,52.4368014 C58.6964746,53.688736 56.505589,53.688736 55.2536543,52.4368014 L52.794497,49.977644 L55.0300946,47.7420464 C55.7901978,46.9819433 55.7901978,45.6852966 55.0300946,44.9251935 C54.2699914,44.1650903 52.9733448,44.1650903 52.2132416,44.9251935 L49.977644,47.1607911 L47.5184867,44.7016337 C46.8925193,44.0756664 46.5348237,43.2261393 46.5348237,42.3319003 C46.5348237,41.4376612 46.8925193,40.6328461 47.5184867,40.0068788 L47.5184867,40.0068788 Z M44.7016337,47.5184867 L47.1607911,49.977644 L44.9251935,52.2132416 C44.1650903,52.9733448 44.1650903,54.2699914 44.9251935,55.0300946 C45.327601,55.4325021 45.8194325,55.61135 46.311264,55.61135 C46.8030954,55.61135 47.3396389,55.4325021 47.6973345,55.0300946 L49.9329321,52.794497 L52.3920894,55.2536543 C53.0180567,55.8796217 53.3757524,56.7291488 53.3757524,57.6233878 C53.3757524,58.5176268 53.0180567,59.3671539 52.3920894,59.9931212 L41.3035254,71.0816853 C40.0515907,72.3336199 37.8607051,72.3336199 36.6087704,71.0816853 L28.9183147,63.3018057 C27.6216681,62.0051591 27.6216681,59.9036973 28.9183147,58.6070507 L40.0068788,47.5184867 C40.6328461,46.8925193 41.4823732,46.5348237 42.3766122,46.5348237 C43.2261393,46.5348237 44.0756664,46.8925193 44.7016337,47.5184867 L44.7016337,47.5184867 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"loader",use:"loader-usage",viewBox:"20 20 60 60",content:'<symbol viewBox="20 20 60 60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="loader">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>loader</title>\n    <path d="M48.1935484,23.8064516 L48.1935484,34.283871 C48.1935484,35.2815466 49.0023243,36.0903226 50,36.0903226 C50.9976757,36.0903226 51.8064516,35.2815466 51.8064516,34.283871 L51.8064516,23.8064516 C51.8064516,22.8087759 50.9976757,22 50,22 C49.0023243,22 48.1935484,22.8087759 48.1935484,23.8064516 L48.1935484,23.8064516 Z M67.2442815,30.2010101 L59.8356272,37.6096644 C59.130164,38.3151276 59.130164,39.4589095 59.8356272,40.1643728 C60.5410905,40.869836 61.6848724,40.869836 62.3903356,40.1643728 L69.7989899,32.7557185 C70.5044531,32.0502553 70.5044531,30.9064734 69.7989899,30.2010101 C69.0935266,29.4955469 67.9497447,29.4955469 67.2442815,30.2010101 L67.2442815,30.2010101 Z M76.1935484,48.1935484 L65.716129,48.1935484 C64.7184534,48.1935484 63.9096774,49.0023243 63.9096774,50 C63.9096774,50.9976757 64.7184534,51.8064516 65.716129,51.8064516 L76.1935484,51.8064516 C77.1912241,51.8064516 78,50.9976757 78,50 C78,49.0023243 77.1912241,48.1935484 76.1935484,48.1935484 L76.1935484,48.1935484 Z M69.7989899,67.2442815 L62.3903356,59.8356272 C61.6848724,59.130164 60.5410905,59.130164 59.8356272,59.8356272 C59.130164,60.5410905 59.130164,61.6848724 59.8356272,62.3903356 L67.2442815,69.7989899 C67.9497447,70.5044531 69.0935266,70.5044531 69.7989899,69.7989899 C70.5044531,69.0935266 70.5044531,67.9497447 69.7989899,67.2442815 L69.7989899,67.2442815 Z M51.8064516,76.1935484 L51.8064516,65.716129 C51.8064516,64.7184534 50.9976757,63.9096774 50,63.9096774 C49.0023243,63.9096774 48.1935484,64.7184534 48.1935484,65.716129 L48.1935484,76.1935484 C48.1935484,77.1912241 49.0023243,78 50,78 C50.9976757,78 51.8064516,77.1912241 51.8064516,76.1935484 L51.8064516,76.1935484 Z M32.7557185,69.7989899 L40.1643728,62.3903356 C40.869836,61.6848724 40.869836,60.5410905 40.1643728,59.8356272 C39.4589095,59.130164 38.3151276,59.130164 37.6096644,59.8356272 L30.2010101,67.2442815 C29.4955469,67.9497447 29.4955469,69.0935266 30.2010101,69.7989899 C30.9064734,70.5044531 32.0502553,70.5044531 32.7557185,69.7989899 L32.7557185,69.7989899 Z M23.8064516,51.8064516 L34.283871,51.8064516 C35.2815466,51.8064516 36.0903226,50.9976757 36.0903226,50 C36.0903226,49.0023243 35.2815466,48.1935484 34.283871,48.1935484 L23.8064516,48.1935484 C22.8087759,48.1935484 22,49.0023243 22,50 C22,50.9976757 22.8087759,51.8064516 23.8064516,51.8064516 L23.8064516,51.8064516 Z M30.2010101,32.7557185 L37.6096644,40.1643728 C38.3151276,40.869836 39.4589095,40.869836 40.1643728,40.1643728 C40.869836,39.4589095 40.869836,38.3151276 40.1643728,37.6096644 L32.7557185,30.2010101 C32.0502553,29.4955469 30.9064734,29.4955469 30.2010101,30.2010101 C29.4955469,30.9064734 29.4955469,32.0502553 30.2010101,32.7557185 L30.2010101,32.7557185 Z" id="loader_Line" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"location",use:"location-usage",viewBox:"20 20 60 60",content:'<symbol viewBox="20 20 60 60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="location">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>location</title>\n    <path d="M50.2723518,24 C38.8318557,24 29.5,33.3161068 29.5,44.7820844 C29.5,46.1705426 29.6345941,47.5590009 29.9037822,48.9026701 C29.9037822,48.9922481 29.9486469,49.081826 29.9486469,49.2161929 C32.2367461,59.4728682 48.3431701,74.8802756 49.0161405,75.5073213 C49.375058,75.8656331 49.8237049,76 50.2723518,76 C50.7209987,76 51.1696456,75.8208441 51.5285631,75.5073213 C52.2015335,74.8354866 68.2182281,59.4728682 70.5063273,49.4401378 C70.5063273,49.3505599 70.551192,49.2609819 70.551192,49.171404 C70.8652448,47.7381568 70.9998389,46.2601206 70.9998389,44.7820844 C71.0447036,33.3161068 61.7128479,24 50.2723518,24 L50.2723518,24 Z M66.9620167,48.4995693 L66.9620167,48.6339363 C65.2571585,56.0689061 54.0858505,67.8036176 50.2723518,71.6106804 C46.4588531,67.8036176 35.2426804,56.0689061 33.5378222,48.4547804 C33.5378222,48.3652024 33.5378222,48.3204134 33.4929575,48.2308355 C33.268634,47.0663221 33.1340399,45.9018088 33.1340399,44.7372954 C33.1340399,35.3316107 40.8059021,27.627907 50.2274871,27.627907 C59.6490722,27.627907 67.365799,35.2868217 67.365799,44.7372954 C67.365799,46.0361757 67.2312049,47.290267 66.9620167,48.4995693 L66.9620167,48.4995693 Z M50.2723518,35.6899225 C46.4139884,35.6899225 43.3183247,38.8251507 43.3183247,42.6322136 C43.3183247,46.4392765 46.4588531,49.5745047 50.2723518,49.5745047 C54.0858505,49.5745047 57.2263789,46.4840655 57.2263789,42.6322136 C57.2263789,38.7803618 54.1307152,35.6899225 50.2723518,35.6899225 Z M50.2723518,45.9465978 C48.4328995,45.9465978 46.9523647,44.4685616 46.9523647,42.6322136 C46.9523647,40.7958656 48.4328995,39.3178295 50.2723518,39.3178295 C52.1118041,39.3178295 53.5923389,40.7958656 53.5923389,42.6322136 C53.5923389,44.4685616 52.1118041,45.9465978 50.2723518,45.9465978 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"loop",use:"loop-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="loop">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>repeat</title>\n    <path d="M67.6153315,36 L36.0056329,36 C32.6827817,36 30,38.6797175 30,41.990671 L30,53.1924192 C30,54.2969887 29.1045695,55.1924192 28,55.1924192 C26.8954305,55.1924192 26,54.2969887 26,53.1924192 L26,41.990671 C26,36.4695546 30.4746653,32 36.0056329,32 L67.7522248,32 L62.6178634,26.963241 C61.9276151,26.2853586 61.9276151,25.1862941 62.6178634,24.5084118 C63.3081117,23.8305294 64.4272253,23.8305294 65.1174736,24.5084118 L73.4823138,32.7233942 C74.1725621,33.4012765 74.1725621,34.500341 73.4823138,35.1782234 L65.0172965,43.4915882 C64.3270482,44.1694706 63.2079345,44.1694706 62.5176862,43.4915882 C61.8274379,42.8137059 61.8274379,41.7146414 62.5176862,41.036759 L67.6153315,36 Z M32.3846685,64 L63.9943671,64 C67.3172183,64 70,61.3202825 70,58.009329 L70,46.8075808 C70,45.7030113 70.8954305,44.8075808 72,44.8075808 C73.1045695,44.8075808 74,45.7030113 74,46.8075808 L74,58.009329 C74,63.5304454 69.5253347,68 63.9943671,68 L32.2477752,68 L37.3821366,73.036759 C38.0723849,73.7146414 38.0723849,74.8137059 37.3821366,75.4915882 C36.6918883,76.1694706 35.5727747,76.1694706 34.8825264,75.4915882 L26.5176862,67.2766058 C25.8274379,66.5987235 25.8274379,65.499659 26.5176862,64.8217766 L34.9827035,56.5084118 C35.6729518,55.8305294 36.7920655,55.8305294 37.4823138,56.5084118 C38.1725621,57.1862941 38.1725621,58.2853586 37.4823138,58.963241 L32.3846685,64 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"menu",use:"menu-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="menu">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>menu</title>\n    <path d="M25.2931034,38.1111111 L73.7068966,38.1111111 C74.6972002,38.1111111 75.5,37.3027364 75.5,36.3055556 C75.5,35.3083748 74.6972002,34.5 73.7068966,34.5 L25.2931034,34.5 C24.3027998,34.5 23.5,35.3083748 23.5,36.3055556 C23.5,37.3027364 24.3027998,38.1111111 25.2931034,38.1111111 Z M25.2931034,52.5555556 L73.7068966,52.5555556 C74.6972002,52.5555556 75.5,51.7471808 75.5,50.75 C75.5,49.7528192 74.6972002,48.9444444 73.7068966,48.9444444 L25.2931034,48.9444444 C24.3027998,48.9444444 23.5,49.7528192 23.5,50.75 C23.5,51.7471808 24.3027998,52.5555556 25.2931034,52.5555556 Z M25.2931034,67 L73.7068966,67 C74.6972002,67 75.5,66.1916252 75.5,65.1944444 C75.5,64.1972636 74.6972002,63.3888889 73.7068966,63.3888889 L25.2931034,63.3888889 C24.3027998,63.3888889 23.5,64.1972636 23.5,65.1944444 C23.5,66.1916252 24.3027998,67 25.2931034,67 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"measure",use:"measure-usage",viewBox:"0 0 50 50",content:'<symbol xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" id="measure">\n  <defs id="measure_defs9"></defs>\n  \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n  <title id="measure_title4">geolocation</title>\n  <g style="fill:none;fill-rule:evenodd;stroke:none;stroke-width:1" transform="matrix(2.4724577,0,0,2.4724577,-59.063562,-169.57639)" id="measure_Artboard-2">\n    <g transform="translate(19,63)" id="measure_tool-measure-noShadow">\n      <g transform="translate(6,11)" id="measure_Group-2" style="stroke:#3f4854">\n        <g transform="translate(0,8.526316)" id="measure_Group-Copy-4">\n          <path id="measure_Line-Copy-13" d="M 9,0 9,4.4428312" style="stroke:#000000;stroke-opacity:1" />\n          <path id="measure_Line-Copy-14" d="m 3.3157895,0 0,4.4428312" style="stroke:#000000;stroke-opacity:1" />\n          <path id="measure_Line-Copy-15" d="m 6.1578947,0 0,3.1361162" style="stroke:#000000;stroke-opacity:1" />\n          <path id="measure_Line-Copy-20" d="m 0.47368421,0 0,3.1361162" style="stroke:#000000;stroke-opacity:1" />\n          <path id="measure_Line-Copy-17" d="m 14.684211,0 0,4.4428312" style="stroke:#000000;stroke-opacity:1" />\n          <path id="measure_Line-Copy-19" d="m 11.842105,0 0,3.1361162" style="stroke:#000000;stroke-opacity:1" />\n          <path id="measure_Line-Copy-21" d="m 17.526316,0 0,3.1361162" style="stroke:#000000;stroke-opacity:1" />\n        </g>\n        <circle r="2.5" cy="2.5" cx="15.5" id="measure_Oval-46" style="stroke:#000000;stroke-width:1.82005136;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none" />\n        <circle r="2.5" cy="2.5" cx="2.5" id="measure_Oval-46-Copy" style="stroke:#000000;stroke-width:1.82005136;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none" />\n        <path id="measure_Line" d="m 11.842105,2.368421 -5.6842103,0" style="stroke:#000000;stroke-linecap:square;stroke-opacity:1" />\n      </g>\n    </g>\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"opened",use:"opened-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="opened">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>open</title>\n    <desc>Created with Sketch.</desc>\n    <path d="M27.2853426,40.0634084 C25.8985515,38.647677 26.3958333,37.5 28.4027438,37.5 L71.5982759,37.5 C73.6021906,37.5 74.101993,38.6481621 72.7156772,40.0634084 L51.2601105,61.9667215 C50.5644523,62.6768971 49.4382564,62.6786213 48.7409092,61.9667215 L27.2853426,40.0634084 L27.2853426,40.0634084 L27.2853426,40.0634084 Z" id="opened_path-1" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"pause",use:"pause-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="pause">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>pause</title>\n    <path d="M27.5,28.2993347 C27.5,27.3055896 28.296663,26.5 29.2917156,26.5 L43.7082844,26.5 C44.6978216,26.5 45.5,27.315773 45.5,28.2993347 L45.5,71.7006653 C45.5,72.6944104 44.703337,73.5 43.7082844,73.5 L29.2917156,73.5 C28.3021784,73.5 27.5,72.684227 27.5,71.7006653 L27.5,28.2993347 Z M54.5,28.2993347 C54.5,27.3055896 55.296663,26.5 56.2917156,26.5 L70.7082844,26.5 C71.6978216,26.5 72.5,27.315773 72.5,28.2993347 L72.5,71.7006653 C72.5,72.6944104 71.703337,73.5 70.7082844,73.5 L56.2917156,73.5 C55.3021784,73.5 54.5,72.684227 54.5,71.7006653 L54.5,28.2993347 Z" id="pause_path-1" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"play",use:"play-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="play">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>play</title>\n    <path d="M35.9973499,73.0785037 C34.0658169,74.1397168 32.5,73.2090253 32.5,70.9911368 L32.5,29.5088632 C32.5,27.2948292 34.0768654,26.3663534 35.9973499,27.4214963 L74.0505688,48.3285037 C75.9821018,49.3897168 75.9710533,51.1163534 74.0505688,52.1714963 L35.9973499,73.0785037 Z" id="play_Triangle-1" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"radio-off",use:"radio-off-usage",viewBox:"0 0 52 52",content:'<symbol viewBox="0 0 52 52" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="radio-off">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>radio-off</title>\n    <path d="M26,48.4137931 L26,48.4137931 C38.3787961,48.4137931 48.4137931,38.3787961 48.4137931,26 C48.4137931,13.6212039 38.3787961,3.5862069 26,3.5862069 C13.6212039,3.5862069 3.5862069,13.6212039 3.5862069,26 C3.5862069,38.3787961 13.6212039,48.4137931 26,48.4137931 L26,48.4137931 L26,48.4137931 Z M26,52 L26,52 C11.6405965,52 0,40.3594035 0,26 C0,11.6405965 11.6405965,0 26,0 C40.3594035,0 52,11.6405965 52,26 C52,40.3594035 40.3594035,52 26,52 L26,52 L26,52 Z" id="radio-off_Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"radio-on",use:"radio-on-usage",viewBox:"0 0 52 52",content:'<symbol viewBox="0 0 52 52" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="radio-on">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>radio-on</title>\n    <path d="M26,48.4137931 L26,48.4137931 C38.3787961,48.4137931 48.4137931,38.3787961 48.4137931,26 C48.4137931,13.6212039 38.3787961,3.5862069 26,3.5862069 C13.6212039,3.5862069 3.5862069,13.6212039 3.5862069,26 C3.5862069,38.3787961 13.6212039,48.4137931 26,48.4137931 L26,48.4137931 L26,48.4137931 Z M26,52 L26,52 C11.6405965,52 0,40.3594035 0,26 C0,11.6405965 11.6405965,0 26,0 C40.3594035,0 52,11.6405965 52,26 C52,40.3594035 40.3594035,52 26,52 L26,52 L26,52 Z M26,43.9310345 C35.9030369,43.9310345 43.9310345,35.9030369 43.9310345,26 C43.9310345,16.0969631 35.9030369,8.0689655 26,8.0689655 C16.0969631,8.0689655 8.0689655,16.0969631 8.0689655,26 C8.0689655,35.9030369 16.0969631,43.9310345 26,43.9310345 L26,43.9310345 Z" id="radio-on_Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"refresh",use:"refresh-usage",viewBox:"0 0 50 50",content:'<symbol viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="refresh">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>refresh</title>\n    <path d="M48.2758621,0 C47.2844828,0 46.5086207,0.775193846 46.5086207,1.76571923 L46.5086207,12.2308355 C42.0689655,4.78036173 34.0086207,0 25,0 C11.2068965,0 0,11.1972438 0,25.0215332 C0,38.8458226 11.2068965,50 25,50 C38.7931035,50 50,38.8027562 50,25.0215332 C50,24.0310078 49.2241379,23.2558139 48.2327587,23.2558139 C47.2413793,23.2558139 46.4655172,24.0310078 46.4655172,25.0215332 C46.4655172,36.8647717 36.8103448,46.5116279 24.9568965,46.5116279 C13.1034483,46.5116279 3.49137933,36.8217054 3.49137933,24.9784668 C3.49137933,13.1352283 13.1465517,3.48837212 25,3.48837212 C33.4913793,3.48837212 41.0775862,8.44099913 44.5258621,16.0206718 L32.1551724,16.0206718 C31.1637931,16.0206718 30.3879311,16.7958657 30.3879311,17.7863911 C30.3879311,18.7769164 31.1637931,19.5521103 32.1551724,19.5521103 L48.2327587,19.5521103 C49.2241379,19.5521103 50,18.7769164 50,17.7863911 L50,1.72265288 C50,0.775193846 49.2241379,0 48.2758621,0 L48.2758621,0 L48.2758621,0 Z" id="refresh_Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"remove",use:"remove-usage",viewBox:"20 20 60 60",content:'<symbol viewBox="20 20 60 60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="remove">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>remove</title>\n    <path d="M50,72.4137931 L50,72.4137931 C62.3787961,72.4137931 72.4137931,62.3787961 72.4137931,50 C72.4137931,37.6212039 62.3787961,27.5862069 50,27.5862069 C37.6212039,27.5862069 27.5862069,37.6212039 27.5862069,50 C27.5862069,62.3787961 37.6212039,72.4137931 50,72.4137931 L50,72.4137931 Z M50,76 L50,76 C35.6405965,76 24,64.3594035 24,50 C24,35.6405965 35.6405965,24 50,24 C64.3594035,24 76,35.6405965 76,50 C76,64.3594035 64.3594035,76 50,76 L50,76 Z M38.7931034,51.7931034 L62.1034483,51.7931034 C63.093752,51.7931034 63.8965517,50.9903037 63.8965517,50 C63.8965517,49.0096963 63.093752,48.2068966 62.1034483,48.2068966 L38.7931034,48.2068966 C37.8027998,48.2068966 37,49.0096963 37,50 C37,50.9903037 37.8027998,51.7931034 38.7931034,51.7931034 L38.7931034,51.7931034 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"right",use:"right-usage",viewBox:"20 20 60 60",content:'<symbol viewBox="20 20 60 60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="right">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>right</title>\n    <path d="M39.1511254,75.462069 C38.7909968,75.8206897 38.340836,76 37.8456592,76 C37.3504823,76 36.9003215,75.8206897 36.5401929,75.462069 C35.8199357,74.7448276 35.8199357,73.5793103 36.5401929,72.862069 L59.4983923,50 L36.5401929,27.137931 C35.8199357,26.4206897 35.8199357,25.2551724 36.5401929,24.537931 C37.2604502,23.8206897 38.4308682,23.8206897 39.1511254,24.537931 L63.4598071,48.7 C64.1800643,49.4172414 64.1800643,50.5827586 63.4598071,51.3 L39.1511254,75.462069 L39.1511254,75.462069 L39.1511254,75.462069 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"search",use:"search-usage",viewBox:"0 0 100 100",content:'<symbol viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="search">\n    \x3c!-- Generator: Sketch 3.8.3 (29802) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>search</title>\n    <path d="M44.2346851,66.9693701 C49.1699741,66.9693701 53.6566005,65.2195858 57.1561691,62.2584124 L72.8593615,77.9616048 C73.2182916,78.3205349 73.6669543,78.5 74.1604832,78.5 C74.6540121,78.5 75.1026747,78.3205349 75.4616048,77.9616048 C76.1794651,77.2437446 76.1794651,76.0772217 75.4616048,75.3593615 L59.7584124,59.6561691 C62.6747196,56.1566005 64.4693701,51.6251079 64.4693701,46.7346851 C64.4693701,35.5629853 55.4063848,26.5 44.2346851,26.5 C33.1078516,26.5 24,35.6078516 24,46.7346851 C24,57.9063848 33.1078516,66.9693701 44.2346851,66.9693701 L44.2346851,66.9693701 Z M44.2346851,30.1790336 C53.3874029,30.1790336 60.7903365,37.6268335 60.7903365,46.7346851 C60.7903365,55.8874029 53.3874029,63.2903365 44.2346851,63.2903365 C35.0819672,63.2903365 27.6790336,55.8425367 27.6790336,46.7346851 C27.6790336,37.6268335 35.1268335,30.1790336 44.2346851,30.1790336 L44.2346851,30.1790336 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"selected",use:"selected-usage",viewBox:"0 0 52 52",content:'<symbol viewBox="0 0 52 52" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="selected">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>selected</title>\n    <path d="M26,48.4137931 L26,48.4137931 C38.3787961,48.4137931 48.4137931,38.3787961 48.4137931,26 C48.4137931,13.6212039 38.3787961,3.5862069 26,3.5862069 C13.6212039,3.5862069 3.5862069,13.6212039 3.5862069,26 C3.5862069,38.3787961 13.6212039,48.4137931 26,48.4137931 L26,48.4137931 L26,48.4137931 Z M26,52 L26,52 C11.6405965,52 0,40.3594035 0,26 C0,11.6405965 11.6405965,0 26,0 C40.3594035,0 52,11.6405965 52,26 C52,40.3594035 40.3594035,52 26,52 L26,52 L26,52 Z M22.0875285,34.554843 C22.8334132,35.2939316 24.0519185,35.2367977 24.7253731,34.4311582 L37.019606,19.7238267 C37.6547446,18.9640239 37.5536842,17.8332004 36.7938814,17.1980618 C36.0340785,16.5629233 34.903255,16.6639836 34.2681165,17.4237865 L23.4064508,30.5968304 L17.1904443,24.6537674 C16.4869965,23.956729 15.3516781,23.9619248 14.6546397,24.6653726 C13.9576012,25.3688204 13.962797,26.5041388 14.6662448,27.2011772 L22.0875285,34.554843 L22.0875285,34.554843 Z" id="selected_Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"settings",use:"settings-usage",viewBox:"0 0 49 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 49 48" id="settings">\n  <g>\n    <polygon points="38.097 34.47 38.097 48 42.681 48 42.681 34.47" />\n    <polygon points="38.097 0 38.097 22.518 42.681 22.518 42.681 0" />\n    <path d="M40.3888889,35.85 C45.0296149,35.85 48.7916667,32.1563493 48.7916667,27.6 C48.7916667,23.0436508 45.0296149,19.35 40.3888889,19.35 C35.7481629,19.35 31.9861111,23.0436508 31.9861111,27.6 C31.9861111,32.1563493 35.7481629,35.85 40.3888889,35.85 Z M40.3888889,31.35 C38.279468,31.35 36.5694444,29.6710678 36.5694444,27.6 C36.5694444,25.5289322 38.279468,23.85 40.3888889,23.85 C42.4983098,23.85 44.2083333,25.5289322 44.2083333,27.6 C44.2083333,29.6710678 42.4983098,31.35 40.3888889,31.35 Z" />\n    <polygon points="22.208 0 22.208 7.65 26.792 7.65 26.792 0" />\n    <polygon points="22.208 19.461 22.208 48 26.792 48 26.792 19.461" />\n    <path d="M24.5,22.05 C29.140726,22.05 32.9027778,18.3563492 32.9027778,13.8 C32.9027778,9.24365082 29.140726,5.55 24.5,5.55 C19.859274,5.55 16.0972222,9.24365082 16.0972222,13.8 C16.0972222,18.3563492 19.859274,22.05 24.5,22.05 Z M24.5,17.55 C22.3905791,17.55 20.6805556,15.8710678 20.6805556,13.8 C20.6805556,11.7289322 22.3905791,10.05 24.5,10.05 C26.6094209,10.05 28.3194444,11.7289322 28.3194444,13.8 C28.3194444,15.8710678 26.6094209,17.55 24.5,17.55 Z" />\n    <polygon points="6.319 40.446 6.319 48 10.903 48 10.903 40.446" />\n    <polygon points="6.319 0 6.319 28.515 10.903 28.515 10.903 0" />\n    <path d="M8.61111111,43.05 C13.2518371,43.05 17.0138889,39.3563493 17.0138889,34.8 C17.0138889,30.2436507 13.2518371,26.55 8.61111111,26.55 C3.97038509,26.55 0.208333333,30.2436507 0.208333333,34.8 C0.208333333,39.3563493 3.97038509,43.05 8.61111111,43.05 Z M8.61111111,38.55 C6.50169018,38.55 4.79166667,36.8710677 4.79166667,34.8 C4.79166667,32.7289323 6.50169018,31.05 8.61111111,31.05 C10.720532,31.05 12.4305556,32.7289323 12.4305556,34.8 C12.4305556,36.8710677 10.720532,38.55 8.61111111,38.55 Z" />\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"share",use:"share-usage",viewBox:"0 0 34 52",content:'<symbol viewBox="0 0 34 52" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="share">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>share</title>\n    <path d="M7.5646259,32.9318378 C8.8408163,32.9318378 10.0258503,32.5729077 11.0741497,31.9896462 L20.8278912,41.5910267 C20.2353741,42.6229508 19.8707483,43.7894737 19.8707483,45.0457291 C19.8707483,48.9042278 23.0612245,52 26.9353741,52 C30.8095238,52 34,48.8593615 34,45.0457291 C34,41.1872304 30.8095238,38.0914582 26.9353741,38.0914582 C25.6591837,38.0914582 24.4741497,38.4503883 23.4258503,39.0336497 L13.7176871,29.4322692 C14.3102041,28.4003451 14.6748299,27.2338223 14.6748299,25.9775669 C14.6748299,24.7213115 14.3102041,23.5547886 13.7176871,22.5228645 L23.4258503,12.9663503 C24.4741497,13.5496117 25.6591837,13.9085418 26.9353741,13.9085418 C30.855102,13.9085418 34,10.7679034 34,6.9542709 C34,3.1406385 30.8095238,0 26.9353741,0 C23.0612245,0 19.8707483,3.1406385 19.8707483,6.9542709 C19.8707483,8.2105263 20.2353741,9.3770492 20.8278912,10.4089733 L11.0741497,19.9206212 C10.0714286,19.3373598 8.8408163,19.0232959 7.5646259,19.0232959 C3.644898,19.0232959 0.5,22.1639344 0.5,25.9775669 C0.5,29.7911993 3.6904762,32.9318378 7.5646259,32.9318378 L7.5646259,32.9318378 L7.5646259,32.9318378 Z M26.9809524,41.7704918 C28.8496599,41.7704918 30.3537415,43.2510785 30.3537415,45.0905953 C30.3537415,46.9301122 28.8496599,48.4106989 26.9809524,48.4106989 C25.1122449,48.4106989 23.6081633,46.9301122 23.6081633,45.0905953 C23.6081633,43.2510785 25.1122449,41.7704918 26.9809524,41.7704918 L26.9809524,41.7704918 L26.9809524,41.7704918 Z M26.9809524,3.5893011 C28.8496599,3.5893011 30.3537415,5.0698878 30.3537415,6.9094047 C30.3537415,8.7489215 28.8496599,10.2295082 26.9809524,10.2295082 C25.1122449,10.2295082 23.6081633,8.7489215 23.6081633,6.9094047 C23.6081633,5.0698878 25.1122449,3.5893011 26.9809524,3.5893011 L26.9809524,3.5893011 L26.9809524,3.5893011 Z M7.5646259,22.6574633 C9.4333333,22.6574633 10.937415,24.13805 10.937415,25.9775669 C10.937415,27.8170837 9.4333333,29.2976704 7.5646259,29.2976704 C5.6959184,29.2976704 4.1918367,27.8170837 4.1918367,25.9775669 C4.1918367,24.13805 5.7414966,22.6574633 7.5646259,22.6574633 L7.5646259,22.6574633 L7.5646259,22.6574633 Z" id="share_share" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"show-less",use:"show-less-usage",viewBox:"0 0 51 50",content:'<symbol viewBox="0 0 51 50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="show-less">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>show-less</title>\n    <path d="M6.85127796,50 L43.2020234,50 C45.0834576,50 46.6897764,49.3343983 48.0209798,48.0031949 C49.3521832,46.6719915 50.0177849,45.0656727 50.0177849,43.1842386 L50.0177849,6.83349308 C50.0177849,4.95205893 49.3521832,3.34574015 48.0209798,2.01453674 C46.6897764,0.683333333 45.0834576,0.0177316294 43.2020234,0.0177316294 L6.85127796,0.0177316294 C4.96984381,0.0177316294 3.36352503,0.683333333 2.03232162,2.01453674 C0.701118211,3.34574015 0.0355165069,4.95205893 0.0355165069,6.83349308 L0.0355165069,43.1842386 C0.0355165069,45.0656727 0.701118211,46.6719915 2.03232162,48.0031949 C3.36352503,49.3343983 4.96984381,50 6.85127796,50 L6.85127796,50 Z M43.2019702,45.4561768 L6.85122471,45.4561768 C6.22406816,45.4561768 5.68862265,45.2343095 5.24488818,44.7905751 C4.80115371,44.3468406 4.57928647,43.8113951 4.57928647,43.1842386 L4.57928647,6.83349308 C4.57928647,6.20633653 4.80115371,5.67089102 5.24488818,5.22715655 C5.68862265,4.78342208 6.22406816,4.56155485 6.85122471,4.56155485 L43.2019702,4.56155485 C43.8291267,4.56155485 44.3645722,4.78342208 44.8083067,5.22715655 C45.2520412,5.67089102 45.4739084,6.20633653 45.4739084,6.83349308 L45.4739084,43.1842386 C45.4739084,43.8113951 45.2520412,44.3468406 44.8083067,44.7905751 C44.3645722,45.2343095 43.8291267,45.4561768 43.2019702,45.4561768 L43.2019702,45.4561768 Z M15.9389244,27.2808307 L34.1142705,27.2808307 C34.7414271,27.2808307 35.2768726,27.0589634 35.720607,26.615229 C36.1643415,26.1714945 36.3862087,25.636049 36.3862087,25.0088924 C36.3862087,24.3817359 36.1643415,23.8462904 35.720607,23.4025559 C35.2768726,22.9588214 34.7414271,22.7369542 34.1142705,22.7369542 L15.9389244,22.7369542 C15.3117678,22.7369542 14.7763223,22.9588214 14.3325879,23.4025559 C13.8888534,23.8462904 13.6669862,24.3817359 13.6669862,25.0088924 C13.6669862,25.636049 13.8888534,26.1714945 14.3325879,26.615229 C14.7763223,27.0589634 15.3117678,27.2808307 15.9389244,27.2808307 L15.9389244,27.2808307 Z" id="show-less_Shape" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"show-more",use:"show-more-usage",viewBox:"0 0 51 50",content:'<symbol viewBox="0 0 51 50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="show-more">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>show-more</title>\n    <path d="M6.85127796,50 L43.2020234,50 C45.0834576,50 46.6897764,49.3343983 48.0209798,48.0031949 C49.3521832,46.6719915 50.0177849,45.0656727 50.0177849,43.1842386 L50.0177849,6.83349308 C50.0177849,4.95205893 49.3521832,3.34574015 48.0209798,2.01453674 C46.6897764,0.683333333 45.0834576,0.0177316294 43.2020234,0.0177316294 L6.85127796,0.0177316294 C4.96984381,0.0177316294 3.36352503,0.683333333 2.03232162,2.01453674 C0.701118211,3.34574015 0.0355165069,4.95205893 0.0355165069,6.83349308 L0.0355165069,43.1842386 C0.0355165069,45.0656727 0.701118211,46.6719915 2.03232162,48.0031949 C3.36352503,49.3343983 4.96984381,50 6.85127796,50 L6.85127796,50 Z M43.2019702,45.4561768 L6.85122471,45.4561768 C6.22406816,45.4561768 5.68862265,45.2343095 5.24488818,44.7905751 C4.80115371,44.3468406 4.57928647,43.8113951 4.57928647,43.1842386 L4.57928647,6.83349308 C4.57928647,6.20633653 4.80115371,5.67089102 5.24488818,5.22715655 C5.68862265,4.78342208 6.22406816,4.56155485 6.85122471,4.56155485 L43.2019702,4.56155485 C43.8291267,4.56155485 44.3645722,4.78342208 44.8083067,5.22715655 C45.2520412,5.67089102 45.4739084,6.20633653 45.4739084,6.83349308 L45.4739084,43.1842386 C45.4739084,43.8113951 45.2520412,44.3468406 44.8083067,44.7905751 C44.3645722,45.2343095 43.8291267,45.4561768 43.2019702,45.4561768 L43.2019702,45.4561768 Z M25.0266241,36.3684771 C25.6537806,36.3684771 26.1892261,36.1466099 26.6329606,35.7028754 C27.0766951,35.2591409 27.2985623,34.7236954 27.2985623,34.0965389 L27.2985623,27.2807774 L34.1143237,27.2807774 C34.7414803,27.2807774 35.2769258,27.0589102 35.7206603,26.6151757 C36.1643947,26.1714412 36.386262,25.6359957 36.386262,25.0088392 C36.386262,24.3816826 36.1643947,23.8462371 35.7206603,23.4025027 C35.2769258,22.9587682 34.7414803,22.736901 34.1143237,22.736901 L27.2985623,22.736901 L27.2985623,15.9211395 C27.2985623,15.293983 27.0766951,14.7585375 26.6329606,14.314803 C26.1892261,13.8710685 25.6537806,13.6492013 25.0266241,13.6492013 C24.3994675,13.6492013 23.864022,13.8710685 23.4202875,14.314803 C22.9765531,14.7585375 22.7546858,15.293983 22.7546858,15.9211395 L22.7546858,22.736901 L15.9389244,22.736901 C15.3117678,22.736901 14.7763223,22.9587682 14.3325879,23.4025027 C13.8888534,23.8462371 13.6669862,24.3816826 13.6669862,25.0088392 C13.6669862,25.6359957 13.8888534,26.1714412 14.3325879,26.6151757 C14.7763223,27.0589102 15.3117678,27.2807774 15.9389244,27.2807774 L22.7546858,27.2807774 L22.7546858,34.0965389 C22.7546858,34.7236954 22.9765531,35.2591409 23.4202875,35.7028754 C23.864022,36.1466099 24.3994675,36.3684771 25.0266241,36.3684771 L25.0266241,36.3684771 Z" id="show-more_Shape" />\n\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"sphere",use:"sphere-usage",viewBox:"0 0 52 52",content:'<symbol viewBox="0 0 52 52" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" id="sphere">\n    \x3c!-- Generator: Sketch 3.4.3 (16044) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>sphere</title>\n    <path d="M26,48.4 L26,48.4 C38.3711784,48.4 48.4,38.3711784 48.4,26 C48.4,13.6288216 38.3711784,3.6 26,3.6 C13.6288216,3.6 3.6,13.6288216 3.6,26 C3.6,38.3711784 13.6288216,48.4 26,48.4 L26,48.4 L26,48.4 Z M26,52 L26,52 C11.6405965,52 0,40.3594035 0,26 C0,11.6405965 11.6405965,0 26,0 C40.3594035,0 52,11.6405965 52,26 C52,40.3594035 40.3594035,52 26,52 L26,52 L26,52 Z" id="sphere_Oval-38" />\n    <path d="M26.4482759,48.4068966 L26.4482759,48.4068966 C32.8613268,48.4068966 38.5448276,38.5066048 38.5448276,26 C38.5448276,13.4933952 32.8613268,3.59310345 26.4482759,3.59310345 C20.035225,3.59310345 14.3517241,13.4933952 14.3517241,26 C14.3517241,38.5066048 20.035225,48.4068966 26.4482759,48.4068966 L26.4482759,48.4068966 L26.4482759,48.4068966 Z M26.4482759,50.2068966 L26.4482759,50.2068966 C18.7734223,50.2068966 12.5517241,39.3690998 12.5517241,26 C12.5517241,12.6309002 18.7734223,1.79310345 26.4482759,1.79310345 C34.1231295,1.79310345 40.3448276,12.6309002 40.3448276,26 C40.3448276,39.3690998 34.1231295,50.2068966 26.4482759,50.2068966 L26.4482759,50.2068966 L26.4482759,50.2068966 Z" id="sphere_Oval-38-Copy" />\n    <path d="M25.5482759,4.03448276 L25.5482759,48.862069 C25.5482759,49.3591252 25.9512196,49.762069 26.4482759,49.762069 C26.9453321,49.762069 27.3482759,49.3591252 27.3482759,48.862069 L27.3482759,4.03448276 C27.3482759,3.53742648 26.9453321,3.13448276 26.4482759,3.13448276 C25.9512196,3.13448276 25.5482759,3.53742648 25.5482759,4.03448276 L25.5482759,4.03448276 L25.5482759,4.03448276 Z" id="sphere_Line" />\n    <path d="M48.4137931,17.9275862 L3.5862069,17.9275862 C3.08915062,17.9275862 2.6862069,18.3305299 2.6862069,18.8275862 C2.6862069,19.3246425 3.08915062,19.7275862 3.5862069,19.7275862 L48.4137931,19.7275862 C48.9108494,19.7275862 49.3137931,19.3246425 49.3137931,18.8275862 C49.3137931,18.3305299 48.9108494,17.9275862 48.4137931,17.9275862 L48.4137931,17.9275862 L48.4137931,17.9275862 Z" id="sphere_Line" />\n    <path d="M48.4137931,32.2724138 L3.5862069,32.2724138 C3.08915062,32.2724138 2.6862069,32.6753575 2.6862069,33.1724138 C2.6862069,33.6694701 3.08915062,34.0724138 3.5862069,34.0724138 L48.4137931,34.0724138 C48.9108494,34.0724138 49.3137931,33.6694701 49.3137931,33.1724138 C49.3137931,32.6753575 48.9108494,32.2724138 48.4137931,32.2724138 L48.4137931,32.2724138 L48.4137931,32.2724138 Z" id="sphere_Line-Copy-15" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"splitter",use:"splitter-usage",viewBox:"0 0 19 28",content:'<symbol viewBox="0 0 19 28" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="splitter">\n    <path d="M0.6551724,2.3448276 L0.6551724,25.6551724 C0.6551724,26.6454761 1.4579722,27.4482759 2.4482759,27.4482759 C3.4385796,27.4482759 4.2413793,26.6454761 4.2413793,25.6551724 L4.2413793,2.3448276 C4.2413793,1.3545239 3.4385796,0.5517241 2.4482759,0.5517241 C1.4579722,0.5517241 0.6551724,1.3545239 0.6551724,2.3448276 L0.6551724,2.3448276 Z M7.6551724,2.3448276 L7.6551724,25.6551724 C7.6551724,26.6454761 8.4579722,27.4482759 9.4482759,27.4482759 C10.4385796,27.4482759 11.2413793,26.6454761 11.2413793,25.6551724 L11.2413793,2.3448276 C11.2413793,1.3545239 10.4385796,0.5517241 9.4482759,0.5517241 C8.4579722,0.5517241 7.6551724,1.3545239 7.6551724,2.3448276 L7.6551724,2.3448276 Z M14.6551724,2.3448276 L14.6551724,25.6551724 C14.6551724,26.6454761 15.4579722,27.4482759 16.4482759,27.4482759 C17.4385796,27.4482759 18.2413793,26.6454761 18.2413793,25.6551724 L18.2413793,2.3448276 C18.2413793,1.3545239 17.4385796,0.5517241 16.4482759,0.5517241 C15.4579722,0.5517241 14.6551724,1.3545239 14.6551724,2.3448276 L14.6551724,2.3448276 Z" id="splitter_splitter" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"splitterOn",use:"splitterOn-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="splitterOn">\n  <path fill-rule="evenodd" d="M8.46666667,9.6 L8.46666667,9.6 C8.5045695,9.62842712 8.53823954,9.66209717 8.56666667,9.7 C8.73235209,9.9209139 8.68758057,10.2343146 8.46666667,10.4 L5.8,12.4 C5.71345191,12.4649111 5.60818511,12.5 5.5,12.5 C5.22385763,12.5 5,12.2761424 5,12 L5,8 C5,7.89181489 5.03508894,7.78654809 5.1,7.7 C5.26568542,7.4790861 5.5790861,7.43431458 5.8,7.6 L8.46666667,9.6 Z M11.5333333,10.4 L11.5333333,10.4 C11.4954305,10.3715729 11.4617605,10.3379028 11.4333333,10.3 C11.2676479,10.0790861 11.3124194,9.76568542 11.5333333,9.6 L14.2,7.6 C14.2865481,7.53508894 14.3918149,7.5 14.5,7.5 C14.7761424,7.5 15,7.72385763 15,8 L15,12 C15,12.1081851 14.9649111,12.2134519 14.9,12.3 C14.7343146,12.5209139 14.4209139,12.5656854 14.2,12.4 L11.5333333,10.4 Z M16,16 L16,4 L11,4 L11,2 L18,2 L18,18 L11,18 L11,16 L16,16 Z M4,16 L9,16 L9,18 L2,18 L2,2 L9,2 L9,4 L4,4 L4,16 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"splitterOff",use:"splitterOff-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="splitterOff">\n  <path fill-rule="evenodd" d="M11,2 L18,2 L18,18 L11,18 L11,2 Z M16.4666667,10.4 L16.4666667,10.4 C16.5045695,10.3715729 16.5382395,10.3379028 16.5666667,10.3 C16.7323521,10.0790861 16.6875806,9.76568542 16.4666667,9.6 L16.4666667,9.6 L13.8,7.6 C13.7134519,7.53508894 13.6081851,7.5 13.5,7.5 C13.2238576,7.5 13,7.72385763 13,8 L13,8 L13,12 C13,12.1081851 13.0350889,12.2134519 13.1,12.3 C13.2656854,12.5209139 13.5790861,12.5656854 13.8,12.4 L16.4666667,10.4 Z M9,2 L9,18 L2,18 L2,2 L9,2 Z M3.53333333,10.4 L6.2,12.4 L6.2,12.4 C6.4209139,12.5656854 6.73431458,12.5209139 6.9,12.3 C6.96491106,12.2134519 7,12.1081851 7,12 L7,8 L7,8 C7,7.72385763 6.77614237,7.5 6.5,7.5 C6.39181489,7.5 6.28654809,7.53508894 6.2,7.6 L3.53333333,9.6 L3.53333333,9.6 C3.31241943,9.76568542 3.26764791,10.0790861 3.43333333,10.3 C3.46176046,10.3379028 3.4954305,10.3715729 3.53333333,10.4 L3.53333333,10.4 Z" />\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"previous",use:"previous-usage",viewBox:"0 0 6 8",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 8" id="previous">\n  <g fill="none" fill-rule="evenodd" transform="translate(-7 -6)">\n    <path fill="#FFFFFF" d="M6.11431886,12.0400056 C5.92496489,12.3051008 5.97613213,12.6811794 6.2286041,12.8800007 C6.32751578,12.9578935 6.4478202,13 6.5714598,13 L13.4285738,13 C13.7441638,13 14,12.7313724 14,12.4000035 C14,12.2701822 13.9598985,12.1438627 13.8857148,12.0400056 L10.4571578,7.2400339 C10.2678038,6.97493878 9.90963308,6.92121326 9.65716111,7.1200346 C9.61384377,7.15414695 9.57536389,7.19455077 9.54287588,7.2400339 L6.11431886,12.0400056 Z" transform="rotate(-90 10 10)" />\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"next",use:"next-usage",viewBox:"0 0 6 8",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 8" id="next">\n  <g fill="none" fill-rule="evenodd" transform="translate(-7 -6)">\n    <path fill="#FFFFFF" d="M6.11431886,12.0400056 C5.92496489,12.3051008 5.97613213,12.6811794 6.2286041,12.8800007 C6.32751578,12.9578935 6.4478202,13 6.5714598,13 L13.4285738,13 C13.7441638,13 14,12.7313724 14,12.4000035 C14,12.2701822 13.9598985,12.1438627 13.8857148,12.0400056 L10.4571578,7.2400339 C10.2678038,6.97493878 9.90963308,6.92121326 9.65716111,7.1200346 C9.61384377,7.15414695 9.57536389,7.19455077 9.54287588,7.2400339 L6.11431886,12.0400056 Z" transform="matrix(0 -1 -1 0 20 20)" />\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"timeline",use:"timeline-usage",viewBox:"0 0 18 17",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 17" id="timeline">\n  <g fill="none" fill-rule="evenodd" transform="translate(-1 -1)">\n    <path fill="#FFFFFF" d="M1,11 L3,11 L3,18 L1,18 L1,11 Z M5,14 L7,14 L7,18 L5,18 L5,14 Z M9,14 L11,14 L11,18 L9,18 L9,14 Z M13,14 L15,14 L15,18 L13,18 L13,14 Z M17,11 L19,11 L19,18 L17,18 L17,11 Z M14.1055728,5.4472136 L7.7236068,8.6381966 C7.47661755,8.76169123 7.17628103,8.66157905 7.0527864,8.4145898 C7.01807255,8.34516209 7,8.26860555 7,8.19098301 L7,1.80901699 C7,1.53287462 7.22385763,1.30901699 7.5,1.30901699 C7.57762255,1.30901699 7.65417908,1.32708954 7.7236068,1.3618034 L14.1055728,4.5527864 C14.3525621,4.67628103 14.4526742,4.97661755 14.3291796,5.2236068 C14.2807978,5.3203705 14.2023365,5.39883174 14.1055728,5.4472136 Z" />\n  </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t,n){var r=n(18),i=n(19),o=new r({id:"data",use:"data-usage",viewBox:"0 0 18 18",content:'<symbol viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="data">\n    \x3c!-- Generator: sketchtool 49 (51002) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>C84EA82A-FCC4-4A77-800E-3939EAD09123</title>\n    <desc>Created with sketchtool.</desc>\n    <defs></defs>\n    <g id="data_Symbols" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="data_icon/data-20" transform="translate(-1.000000, -1.000000)" fill="#FFFFFF" fill-rule="nonzero">\n            <path d="M9,11 L9,13 L17,13 L17,11 L9,11 Z M7,11 L3,11 L3,13 L7,13 L7,11 Z M9,17 L17,17 L17,15 L9,15 L9,17 Z M7,17 L7,15 L3,15 L3,17 L7,17 Z M9,7 L9,9 L17,9 L17,7 L9,7 Z M7,7 L3,7 L3,9 L7,9 L7,7 Z M9,3 L9,5 L17,5 L17,3 L9,3 Z M7,3 L3,3 L3,5 L7,5 L7,3 Z M3,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 C1,1.8954305 1.8954305,1 3,1 Z" />\n        </g>\n    </g>\n</symbol>'});i.add(o);e.exports=o},function(e,t){e.exports={dropdown:"tjs-chart-expand-and-download-buttons__dropdown",dropdown__list:"tjs-chart-expand-and-download-buttons__dropdown__list",dropdownList:"tjs-chart-expand-and-download-buttons__dropdown__list",dropdown__btn:"tjs-chart-expand-and-download-buttons__dropdown__btn tjs-_buttons__btn--small",dropdownBtn:"tjs-chart-expand-and-download-buttons__dropdown__btn tjs-_buttons__btn--small","dropdown__btn--option":"tjs-chart-expand-and-download-buttons__dropdown__btn--option",dropdownBtnOption:"tjs-chart-expand-and-download-buttons__dropdown__btn--option","chart-expand":"tjs-chart-expand-and-download-buttons__chart-expand",chartExpand:"tjs-chart-expand-and-download-buttons__chart-expand","raise-to-title":"tjs-chart-expand-and-download-buttons__raise-to-title",raiseToTitle:"tjs-chart-expand-and-download-buttons__raise-to-title","chart-dropdown-button":"tjs-chart-expand-and-download-buttons__chart-dropdown-button",chartDropdownButton:"tjs-chart-expand-and-download-buttons__chart-dropdown-button","btn--dropdown":"tjs-chart-expand-and-download-buttons__btn--dropdown",btnDropdown:"tjs-chart-expand-and-download-buttons__btn--dropdown","btn-small":"tjs-chart-expand-and-download-buttons__btn-small tjs-_buttons__btn--small",btnSmall:"tjs-chart-expand-and-download-buttons__btn-small tjs-_buttons__btn--small","btn-download":"tjs-chart-expand-and-download-buttons__btn-download tjs-_buttons__btn",btnDownload:"tjs-chart-expand-and-download-buttons__btn-download tjs-_buttons__btn","btn--chart-expand":"tjs-chart-expand-and-download-buttons__btn--chart-expand tjs-_buttons__btn tjs-_buttons__btn-primary",btnChartExpand:"tjs-chart-expand-and-download-buttons__btn--chart-expand tjs-_buttons__btn tjs-_buttons__btn-primary","a--download":"tjs-chart-expand-and-download-buttons__a--download undefined tjs-_buttons__btn-primary",aDownload:"tjs-chart-expand-and-download-buttons__a--download undefined tjs-_buttons__btn-primary"}},function(e,t){e.exports={root:"tjs-collapsible__root",body:"tjs-collapsible__body",header:"tjs-collapsible__header",btn:"tjs-collapsible__btn tjs-_buttons__btn undefined","is-open":"tjs-collapsible__is-open tjs-_buttons__is-open",isOpen:"tjs-collapsible__is-open tjs-_buttons__is-open","is-inverse":"tjs-collapsible__is-inverse",isInverse:"tjs-collapsible__is-inverse"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(3),s=r(a),u=function(e){if(!(0,o.default)(e.name))throw new s.default("Custom components must have a name.");if(!(0,o.default)(e.processNode))throw new s.default("Custom components must have a processNode method.");this.name=e.name.toLowerCase(),this.attributes=e.attributes,this.processNode=e.processNode,this.furtherProcessing=e.furtherProcessing,this.isCorresponding=e.isCorresponding||function(e){},this.selfUpdateSeconds=e.selfUpdateSeconds||function(e){}};e.exports=u},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(21),n(3),n(15),n(9),n(7)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(){this._dataSources=[],this._dataSourceAdded=new o,this._dataSourceRemoved=new o,this._dataSourceMoved=new o}function l(e,t){return e.indexOf(t)}function c(e,t,n){var r=e._dataSources,i=r.length-1;if(t=a.clamp(t,0,i),n=a.clamp(n,0,i),t!==n){var o=r[t];r[t]=r[n],r[n]=o,e.dataSourceMoved.raiseEvent(o,n,t)}}return n(u.prototype,{length:{get:function(){return this._dataSources.length}},dataSourceAdded:{get:function(){return this._dataSourceAdded}},dataSourceRemoved:{get:function(){return this._dataSourceRemoved}},dataSourceMoved:{get:function(){return this._dataSourceMoved}}}),u.prototype.add=function(e){var t=this,n=this._dataSources;return s(e,function(e){return n===t._dataSources&&(t._dataSources.push(e),t._dataSourceAdded.raiseEvent(t,e)),e})},u.prototype.remove=function(t,n){n=e(n,!1);var r=this._dataSources.indexOf(t);return-1!==r&&(this._dataSources.splice(r,1),this._dataSourceRemoved.raiseEvent(this,t),n&&"function"==typeof t.destroy&&t.destroy(),!0)},u.prototype.removeAll=function(t){t=e(t,!1);for(var n=this._dataSources,r=0,i=n.length;r<i;++r){var o=n[r];this._dataSourceRemoved.raiseEvent(this,o),t&&"function"==typeof o.destroy&&o.destroy()}this._dataSources=[]},u.prototype.contains=function(e){return-1!==this.indexOf(e)},u.prototype.indexOf=function(e){return this._dataSources.indexOf(e)},u.prototype.get=function(e){return this._dataSources[e]},u.prototype.raise=function(e){var t=l(this._dataSources,e);c(this,t,t+1)},u.prototype.lower=function(e){var t=l(this._dataSources,e);c(this,t,t-1)},u.prototype.raiseToTop=function(e){var t=l(this._dataSources,e);t!==this._dataSources.length-1&&(this._dataSources.splice(t,1),this._dataSources.push(e),this.dataSourceMoved.raiseEvent(e,this._dataSources.length-1,t))},u.prototype.lowerToBottom=function(e){var t=l(this._dataSources,e);0!==t&&(this._dataSources.splice(t,1),this._dataSources.splice(0,0,e),this.dataSourceMoved.raiseEvent(e,0,t))},u.prototype.isDestroyed=function(){return!1},u.prototype.destroy=function(){return this.removeAll(!0),r(this)},u}.apply(t,r))&&(e.exports=i)},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAASdEVYdFRpdGxlAG1hcC1sb2NhdGlvbq/0KoQAAAm5SURBVHic7Z1bbBTXHYe/zXptjy8Y1jGxMeZio8QMlxqEoDJUGFJRqUSloRMe8tBKqfLQ5AGpl1RBlZqWCqSqrUgU3tJWjao+oAVEE6qICoQToIUS1XHwmhRsg2PHDsaXBdtje724DztGG7RzZi9zZmbRfpJlyWf2/H+H355z5lzxzc3Nkcc7POG2gDxfJW+Ix8gb4jHyhniMvCEeI2+Ix8gb4jHyhniMvCEeo8BtAemghMLrgGeBOqAGWJLwG+ALYCDh9+fAWV1TP3VebWb4vDx1ooTCfmAbsMf4qc8wq27glPFzQdfUmD0K7ceThiihcAnwE2A/UGlz9sPAEeAPuqZO2px31njKEKNGvAT8inhTJJMB4JfAn7xUYzxjiBIKfxv4HbDa4dCdwE91Tf2Hw3GT4rohSij8BPAb4HVXhcBh4Be6pj5wU4SrhiihcDnwN+A510R8lfeBF3VNve+WANcMUULhBuDvgOqKAHPCwHd0Te1yI7grhhhmXCaDN6jieyMs7P2Msrv9BCbvUzhxn4Ae/0JHlXJmSsuJlpQz/mQtY8ueYWpBMBOJw8AWN0xx3BCjmfo3adSMgD5OdcdlFt3uRBkbSiuevrCK0eWrGVyzhahSls5Hw8DXnW6+HDXE6MBPkWKf4Y9OU9N+keprl/DPRrOKHSsIMLi2mYH1W4kFilL92PvAHic7eqcNOUSKb1PBng5WXjpNwdSErRpmi0vpad7NyMo1qX7ksK6pB2wVIcAxQ4xxxmnLB+fmqPv4HEs++VCqnv6m7fRt3AE+XyqP73ZqnOKIIcYI/FMsBn3+2Sj150MEb1+XrglgZIVKV8teHvgDVo92AuucGNE7Nf3+ElYj8Lm5tM2IFSlMVFYzVvc0Y3VPM1FZTaxISfnzwVthGlpPgvWXcjXxMkhHeg0xJgpvYjE3VXf1bErN1ExZBUOrmhhZsZrJyuRZlowMErzVSdWN/1I4HrHMs39DS7z5EjMArJI9IenEesiPsTAj2NORkhl3GjfRu3mX5VvSZLCayWA1A+uaWXblDIuvXxU+X9vWyuSixVYdfQ3xGeiDlkKzQGoNMfqOLxEMAP3RaZqOvSl8m5opq6B72x4itQ0Z6ajo76L+wilhbZktLqVt334rs4eBp2T2JbL7kG1YjMZr2i8KzRhdvpr2va9mbAZApLaB9r2vMrrcvBsrmJqgpv2iVVaVxMskDdmG7BElBvRxqq9dMk2fKauga/vz6QzkTIkFiuja/jwzZRWmz1Rfu0RAH7fKSlimbHHVkOqOy8IRePe2PbaYMU8sUET3NnNJ/tko1R2XrbLJTUOMDQnCNfBFtztN0+40bsqqmTIjUtvAncZNGWkyqDfKJgWZNeRZUWLxvRHTicKZsgp6N++SIgqgd/Mu06ZLGRui+N6IVRbCsmWDTEPqRIkLez8zTRta1WRrU/UosUARQ6uaTNNF2gyEZcsGmYYIxx5ld/tN00ZWyF9WF8UQaTOQtgFDpiFLRImByeTLDLEixXQEbieTlTWm0yxm2hIQli0bXKshhRPJCz0leC21G7NYZtoSeAxriJ680NGSBVLEpBPLTFsCOVlDcmrfcJpIK5tMQ0ZFiVGlPOnfA5P3pIhJJ5aZtgSEZcsG1wyZKU1e6OIUpsvtwiyWmbYEctKQMVFitCR5of3TOiXDA1IEJVIyPIB/Wk+aZqYtAWHZskGmIcLh7viTtaZpwVuW0xdZI4oh0mZgOZTPFJmG/E+UOLbsGdO0qptt+KPTtguaxx+dpupmm2m6SJuBsGzZINMQ4amlqQVB9IVVSdMKxyMsu3JGiiiAZVfOmC5W6QurUtntKO1ElkxD2q0eEC0YLb5+lYp++3dyVvR3CZd0RZoSsCxbpsg0JAwIlzoH12whVmC+Baf+wilbmy5/dJr6C6dM02MFAQbXbLHKJka8bFKQZoiuqVPE9zOZElXKGFzbbJpeOB6hofWkLab4o9M0tJ4UrqsPrm1OZf9vp1E2KcheMTT/OhoMrN/KbHGpafqi252sP3E0q+aror+L9SeOChefZotLGVi/NZXsLMuUDbINOW71QCxQRE/zbuEzheMRGj94l5UX30urtvij06y8+B6NH7wr3p/l89Gz9blU12Asy5QNTmyU6yKF48xLPz5HbVurZX4yNsr1bdxJ/4btls8B3bqm2r+unIATE4DHgZ9ZPdS3cQfK2BDBW+L+snA8Qm1bK7VtrcSKFKbKKh7O2gYm71E8HjEdgSdjuGFdqmaA5NoBHjIEn4+ulr3Q6iPY05FSxv5pndJpHYYHMxI23LCO7m98N52PSDfEic3WV4hfcWHJA3+AGzteoH9DS6rHBDLD56Nv405utmg88Kf8nfyceFmkIt0QXVPngBMpf8Dno2/jDm7seEH49pUps8Wl3Ni5L51map4TRlmk4tQi0nHi12SkzMjKNUSWrnL7SFsi0psrcO7AzhNAHxmuRbt06DORAWCpE2cNnTzS9jpwKNt8HDoW/SgHdE09bEdGVjhpSDlwG1jkSED7GAWWO3U82rEb5YwCHXEqno0ccfKsutNX/L0JOLdonj0R4podw1FDdE2NAG85GTNL3jI0O4Ybl2AeAVy7bScNXGliHTdE19QR4KjTcTPgqKHVUdy6Jvb3gL13ZtjLBHGNjuOKIbqm3gXediN2irxtaHQcNy9SPgj0uhjfjF4kn0UX4ZohuqZOAK+4FV/AK4Y2V3D1qnFdU08Dx9zU8AjHDE2u4YW73/cjca9sGoyR5oy0DFw3RNfUQeA1t3UArxlaXMV1QwzeAT5yMf5HhgbXcf0i5XmUULgR+AQodDj0DPA1XVOduTXNAq/UEIx/EDdeNw96xQzwkCEGh4BzDsY7iw2LZnbimSZrHiUUrgbagKckhxoANuia+qXkOGnhtRoy/9b1IiBz/TpG/I53T5kBHjQEQNfUc8jtT97QNfW8xPwzxpOGGPwaOf3JGTzWbyTiuT4kEQn9yRdAk66p6e0lchAv15D5/mQf8bFCtkwBmpfNAI8bAqBr6ofAD7PMZg74ga6p/7JBklQ8bwiArql/Bd7IIosDuqZ6aVbZFE/3IY+ihMJ/Ab6f5sfe0TX1ZRl6ZJATNSSBl4HzaTz/T+BHcqTIIadqCIASCi8i/jpsfmlinP8A39Q11bnrhWwg12oIuqaOAi2A6LL4s8DOXDMDctAQeLgD8lskP6J8gvh/wGJ5RbUXyUlD4OHFBN8D/pzw5z8C+3RNlXdzjWRyrg9JhhIK/xaY0zX1525ryZbHwpDHiZxtsh5X8oZ4jLwhHiNviMfIG+Ix8oZ4jLwhHiNviMfIG+Ix/g8n327yzDR9pAAAAABJRU5ErkJggg=="},function(e,t,n){"use strict";function r(e,t,n,r){t=a.clamp(t,-a.PI_OVER_TWO,a.PI_OVER_TWO),e=a.zeroToTwoPi(e)-a.PI_OVER_TWO;var o=m.fromAxisAngle(i.UNIT_Y,-t,I),s=m.fromAxisAngle(i.UNIT_Z,-e,M),u=m.multiply(s,o,s),l=f.fromQuaternion(u,O),c=i.clone(i.UNIT_X,r);return f.multiplyByVector(l,c,c),i.negate(c,c),i.multiplyByScalar(c,n,c),c}var i=n(10),o=n(24),a=n(9),s=n(0),u=n(2),l=n(3),c=n(23),h=n(773),d=n(761),f=n(40),p=n(20),m=n(59),g=n(16),_=n(50),v=function(e,t,n,r){if(!s(e))throw new l("rectangle is required.");if((s(t)||s(n)||s(r))&&(!s(t)||!s(n)||!s(r)))throw new l("If any of position, direction, or up are specified, all must be specified.");this._rectangle=e,this._position=t,this._direction=n,this._up=r};u(v.prototype,{rectangle:{get:function(){return this._rectangle}},position:{get:function(){return this._position}},direction:{get:function(){return this._direction}},up:{get:function(){return this._up}}}),v.fromJson=function(e){if(s(e.lookAt)){var t=o.fromDegrees(e.lookAt.targetLongitude,e.lookAt.targetLatitude,e.lookAt.targetHeight),n=new h(a.toRadians(e.lookAt.heading),a.toRadians(e.lookAt.pitch),e.lookAt.range);return v.fromLookAt(t,n)}if(s(e.positionHeadingPitchRoll)){var r=o.fromDegrees(e.positionHeadingPitchRoll.cameraLongitude,e.positionHeadingPitchRoll.cameraLatitude,e.positionHeadingPitchRoll.cameraHeight);return v.fromPositionHeadingPitchRoll(r,a.toRadians(e.positionHeadingPitchRoll.heading),a.toRadians(e.positionHeadingPitchRoll.pitch),a.toRadians(e.positionHeadingPitchRoll.roll))}return s(e.position)&&s(e.direction)&&s(e.up)?new v(g.fromDegrees(e.west,e.south,e.east,e.north),new i(e.position.x,e.position.y,e.position.z),new i(e.direction.x,e.direction.y,e.direction.z),new i(e.up.x,e.up.y,e.up.z)):new v(g.fromDegrees(e.west,e.south,e.east,e.north))};var A=new i,y=new i,b=new i,w=new i,x=new i,E=new i,C=new p;v.fromLookAt=function(e,t){if(!s(e))throw new l("targetPosition is required.");if(!s(t))throw new l("headingPitchRange is required.");var n=r(t.heading,-t.pitch,t.range,A),o=i.normalize(i.negate(n,b),b),u=i.cross(o,i.UNIT_Z,w);i.magnitudeSquared(u)<a.EPSILON10&&i.clone(i.UNIT_X,u),i.normalize(u,u);var h=i.cross(u,o,x);i.normalize(h,h);var d=c.WGS84.cartographicToCartesian(e,E),f=_.eastNorthUpToFixedFrame(d,c.WGS84,C),m=p.multiplyByPointAsVector(f,n,y),S=i.add(d,m,new i),T=i.normalize(i.negate(m,new i),new i),I=p.multiplyByPointAsVector(f,h,new i),M=a.toRadians(30),O=Math.tan(M)*(t.range+e.height),P=O/c.WGS84.minimumRadius,D=new g(e.longitude-P,e.latitude-P,e.longitude+P,e.latitude+P);return new v(D,S,T,I)};var S=new m,T=new f;v.fromPositionHeadingPitchRoll=function(e,t,n,r){if(!s(e))throw new l("cameraPosition is required.");if(!s(t))throw new l("heading is required.");if(!s(n))throw new l("pitch is required.");if(!s(r))throw new l("roll is required.");var o=new d(t-a.PI_OVER_TWO,n,r),u=m.fromHeadingPitchRoll(o,S),h=f.fromQuaternion(u,T),A=f.getColumn(h,0,b),y=f.getColumn(h,2,x),w=c.WGS84.cartographicToCartesian(e,E),I=_.eastNorthUpToFixedFrame(w,c.WGS84,C),M=p.multiplyByPointAsVector(I,A,new i),O=p.multiplyByPointAsVector(I,y,new i),P=a.toRadians(30),D=Math.tan(P)*e.height,B=D/c.WGS84.minimumRadius,L=new g(e.longitude-B,e.latitude-B,e.longitude+B,e.latitude+B);return new v(L,w,M,O)};var I=new m,M=new m,O=new f;e.exports=v},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(2),a=n(3),s=n(13),u=n(55),l=n(7),c=function(e){if(!r(e))throw new a("terria is required");this._terria=e,this._shareKeyIndex={},this._group=new u(e),this._group.name="Root Group",this._group.preserveOrder=!0,this.isLoading=!1,this.chartableItems=[],s.track(this,["isLoading","chartableItems"]),s.defineProperty(this,"userAddedDataGroup",{get:this.upsertCatalogGroup.bind(this,u,"User-Added Data","The group for data that was added by the user via the Add Data panel.")})};o(c.prototype,{terria:{get:function(){return this._terria}},group:{get:function(){return this._group}},shareKeyIndex:{get:function(){return this._shareKeyIndex}}}),c.prototype.updateFromJson=function(e,t){var n=this;return t=i(t,{}),u.updateItems(e,t,this.group).then(function(){n.terria.nowViewing.sortByNowViewingIndices()})},c.prototype.serializeToJson=function(e){return this.terria.nowViewing.recordNowViewingIndices(),this.group.serializeToJson(e).items},c.prototype.updateByShareKeys=function(e){var t=this;return Object.keys(e).reduce(function(t,n){var r=e[n];return t.then(this._loadInSerial.bind(this,r.parents||[])).then(this._updateAndEnable.bind(this,n,r))}.bind(this),l()).then(function(){t.terria.nowViewing.sortByNowViewingIndices()})},c.prototype._loadInSerial=function(e){return e.reduce(function(e,t){return e.then(function(){if(this.shareKeyIndex[t])return this.shareKeyIndex[t].load()}.bind(this))}.bind(this),l())},c.prototype._updateAndEnable=function(e,t){var n=this.shareKeyIndex[e];if(n)return n.updateFromJson(t).then(n.load.bind(n)).then(n.enableWithParents.bind(n));console.warn("Share link has a catalog member with shareKey "+e+" but could not find this in the catalog")},c.prototype.upsertCatalogGroup=function(e,t,n){for(var r,i=this.group.items,o=0;o<i.length;++o)if(r=i[o],r.name===t)return r;return r=new e(this.terria),r.name=t,r.description=n,r.isUserSupplied=!0,this.group.add(r),r},e.exports=c},function(e,t,n){"use strict";var r=n(439),i=n(78),o=n(14),a=n(0),s=function(e){r.call(this,e);var t=Object.getOwnPropertyDescriptor(r.prototype,"currentTime");Object.defineProperty(this,"currentTime",{get:function(){return t.get.call(this)},set:function(e){var n=this.determineGap(e);t.set.call(this,a(n)?n.stop:e)}}),this.onTick.addEventListener(function(){var e=this.currentTime,t=this.determineGap(e);this._currentTime=a(t)?t.stop:e},this)};o(r,s),s.prototype.setCatalogItem=function(e){this.catalogItem=e,e.clock.getValue(this)},s.prototype.determineGap=function(e){var t=this.catalogItem&&this.catalogItem.intervals;if(a(t)){var n=t.indexOf(e);if(n>=0)return;var r,o,s=~n;return 0===s?(r=this.catalogItem.clock.startTime,o=t.get(0).start):s===t.length&&(o=this.catalogItem.clock.stopTime),new i({start:r||t.get(s-1).stop,stop:o||t.get(s).start,isStartIncluded:!1,isStopIncluded:!1})}},s.prototype.tick=function(){return r.prototype.tick.call(this),this._currentTime},e.exports=s},function(e,t,n){"use strict";function r(e){this.loadJson=u(e,l),this.baseProxyUrl=void 0,this.proxyDomains=void 0,this.isOpenProxy=!1,this.corsDomains=[],this.alwaysUseProxy=c.isInternetExplorer()&&c.internetExplorerVersion()[0]<10,this.pageIsHttps="undefined"!=typeof window&&s(window.location)&&s(window.location.href)&&"https"===new a(window.location.href).protocol()}function i(e,t){if(!s(t))return!1;e=e.toLowerCase();for(var n=0;n<t.length;n++)if(e.match("(^|\\.)"+t[n]+"$"))return!0;return!1}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(33),s=n(0),u=n(1),l=n(44),c=n(39);r.prototype.init=function(e,t,n){this.baseProxyUrl=u(t,"proxy/"),this.proxyDomains=u(n,[]),e&&"object"===(void 0===e?"undefined":o(e))&&(this.isOpenProxy=!!e.proxyAllDomains,Array.isArray(e.allowProxyFor)&&(this.proxyDomains=e.allowProxyFor))},r.prototype.shouldUseProxy=function(e){if(!s(e))return!1;var t=new a(e),n=t.host();return""!==n&&(!(!this.isOpenProxy&&!i(n,this.proxyDomains))&&(!!this.alwaysUseProxy||(!(!this.pageIsHttps||"http"!==t.protocol())||!i(n,this.corsDomains))))},r.prototype.getURL=function(e,t){var n=void 0===t?"":"_"+t+"/";return this.baseProxyUrl+n+e},r.prototype.getURLProxyIfNecessary=function(e,t){return this.shouldUseProxy(e)?this.getURL(e,t):e},e.exports=r},function(e,t,n){"use strict";var r=n(0),i=function(e){return r(e)||(e=window.navigator.userAgent),/(Android|iPhone|iPad|Windows Phone|IEMobile)/.test(e)};e.exports=i},function(e,t,n){"use strict";function r(e){var t;return t=e instanceof o?e:new o({url:e,headers:a}),t.fetchText().then(function(e){return i.parse(e)})}var i=n(545),o=n(29),a={Accept:"application/json5,application/json;q=0.8,*/*;q=0.01"};r.defaultHeaders=a,e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=e.items,n=0;n<t.length;++n){var r=t[n];s(r._loadForEnablePromise)||(r.isShown&&r._hide(),r.isEnabled&&r._disable())}}function i(e){for(var t=e.items,n=t.length-1;n>=0;--n){var r=t[n];if(!s(r._loadForEnablePromise)){if(r.isEnabled){try{r._enable()}catch(t){d(e.terria,t)}e.terria.currentViewer.addAttribution(r.attribution)}if(r.isShown)try{r._show()}catch(t){d(e.terria,t)}}}}var o=n(15),a=n(1),s=n(0),u=n(2),l=n(3),c=n(217),h=n(13),d=n(106),f=function(e){this._terria=e,this._eventSubscriptions=new c,this.items=[],h.track(this,["items"]),this.showNowViewingRequested=new o,this._eventSubscriptions.add(this.terria.beforeViewerChanged,function(){r(this)},this),this._eventSubscriptions.add(this.terria.afterViewerChanged,function(){i(this)},this)};u(f.prototype,{terria:{get:function(){return this._terria}},hasItems:{get:function(){return this.items.length>0}},hasShownItems:{get:function(){for(var e=0;e<this.items.length;++e)if(this.items[e].isShown)return!0;return!1}},hasChildren:{get:function(){return this.items.length>0}}}),f.prototype.destroy=function(){this._eventSubscriptions.removeAll()},f.prototype.add=function(e,t){if(t=a(t,0),e.supportsReordering)for(;t<this.items.length&&!this.items[t].supportsReordering;)++t;else for(;t>0&&this.items.length>0&&this.items[t-1].supportsReordering;)--t;if(e.keepOnTop)for(;t>0&&this.items.length>0&&this.items[t-1].keepOnTop&&this.items[t-1]===e.supportsReordering;)--t;else for(;t<this.items.length&&this.items[t].keepOnTop&&this.items[t].supportsReordering===e.supportsReordering;)++t;this.items.splice(t,0,e)},f.prototype.remove=function(e){e.isEnabled=!1,this.items.remove(e)},f.prototype.removeAll=function(){for(var e=this.items.length-1;e>=0;--e)this.items[e].isEnabled=!1;this.items.removeAll()},f.prototype.raise=function(e,t){if(s(t)){if(this.items[t]!==e)throw new l("The provided index is not correct.")}else if((t=this.items.indexOf(e))<0)return;if(0!==t&&(!e.supportsReordering||this.items[t-1].supportsReordering)){var n=this.terria;n.currentViewer.raise(t),this.items.splice(t,1),this.items.splice(t-1,0,e),n.currentViewer.updateLayerOrderAfterReorder(),n.currentViewer.notifyRepaintRequired()}},f.prototype.lower=function(e,t){if(s(t)){if(this.items[t]!==e)throw new l("The provided index is not correct.")}else if((t=this.items.indexOf(e))<0)return;if(t!==this.items.length-1){var n=this.items[t+1];if(e.supportsReordering||!n.supportsReordering){var r=this.terria;r.currentViewer.lower(t),this.items.splice(t,1),this.items.splice(t+1,0,e),r.currentViewer.updateLayerOrderAfterReorder(),r.currentViewer.notifyRepaintRequired()}}},f.prototype.toggleOpen=function(){this.isOpen=!this.isOpen},f.prototype.recordNowViewingIndices=function(){for(var e=0;e<this.items.length;++e)this.items[e].nowViewingIndex=e},f.prototype.sortByNowViewingIndices=function(){var e=this.items.slice();e.sort(function(e,t){return e.nowViewingIndex-t.nowViewingIndex});for(var t=0;t<e.length;++t)for(var n,r=e[t],i=this.items.indexOf(r);i>t&&i!==n;)n=i,this.raise(r,n),i=this.items.indexOf(r);s(this.terria.currentViewer)&&this.terria.currentViewer.notifyRepaintRequired()},e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),s=r(a),u=n(81),l=r(u),c=function(){function e(t){var n=this;i(this,e),this._deferred=s.default.defer(),this._resolved=!1,t(function(e){return n._deferred.resolve(e)},function(e){return n._deferred.reject(e)}),this._deferred.promise.then(function(){n._resolved=!0})}return o(e,[{key:"catch",value:function(t){return e.resolve(this._deferred.promise.otherwise(t))}},{key:"then",value:function(t,n){var r=this;return this._resolved?e.resolve((0,l.default)(function(){return r._deferred.promise.then(t,n)})):e.resolve(this._deferred.promise.then(t,n))}}]),e}();c.all=function(e){return c.resolve(s.default.all(e))},c.race=function(e){return c.resolve(s.default.race(e))},c.reject=function(e){return new c(function(t,n){n(e)})},c.resolve=function(e){return new c(function(t,n){t(e)})},e.exports=c},function(e,t,n){"use strict";function r(){this.config=void 0}var i=n(1),o=n(44),a=n(7);r.prototype.init=function(e){if(void 0!==this.config)return a(this.config);this.serverConfigUrl=i(e,"serverconfig/");var t=this;return o(this.serverConfigUrl).then(function(e){return t.config=e,t.config}).otherwise(function(e){console.error("Failed to get server config from  "+t.serverConfigUrl+". This means services such as proxy, convert and URL shortening may not work.")})},e.exports=r},function(e,t,n){"use strict";var r=function(e){this.services=[]};e.exports=r},function(e,t,n){"use strict";var r=n(13),i=n(0),o=function(e){this.clock=e,this._layerStack=[],r.track(this,["_layerStack"]),r.defineProperty(this,"topLayer",{get:function(){if(this._layerStack.length)return this._layerStack[this._layerStack.length-1]}}),r.getObservable(this,"topLayer").subscribe(function(e){i(e)?this.clock.setCatalogItem(this.topLayer):this.clock.shouldAnimate=!1},this)};o.prototype.addLayerToTop=function(e){var t=this._layerStack.indexOf(e);this._layerStack.push(e),t>-1&&this._layerStack.splice(t,1)},o.prototype.removeLayer=function(e){var t=this._layerStack.indexOf(e);this._layerStack.splice(t,1)},o.prototype.promoteLayerToTop=function(e){this._layerStack.indexOf(e)>-1&&this.addLayerToTop(e)},e.exports=o},function(e,t,n){"use strict";var r=n(106),i=function(e,t,n){t.addEventListener("hashchange",function(){e.updateApplicationUrl(t.location,n).otherwise(function(t){r(e,t)})},!1)};e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(106),o=function(e,t){var n;t.addEventListener("message",function(o){var a=o.origin;!r(a)&&r(o.originalEvent)&&(a=o.originalEvent.origin),(r(n)&&a===n||o.source===t.parent||o.source===t.opener)&&(o.source!==t.opener&&o.source!==t.parent||!o.data.allowOrigin||(n=o.data.allowOrigin,delete o.data.allowOrigin),e.updateFromStartData(o.data).otherwise(function(t){i(e,t)}))},!1),t.parent!==t&&t.parent.postMessage("ready","*"),t.opener&&t.opener.postMessage("ready","*")};e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=r(a),u=n(42),l=r(u),c=function(){function e(t,n){i(this,e),this.terria=t,this.viewState=n,this._pending={},this.terria.disclaimerListener=this._handleInitialMessage.bind(this)}return o(e,[{key:"dispose",value:function(){this.terria.disclaimerListener=void 0}},{key:"_handleInitialMessage",value:function(e,t){var n=(0,s.default)(e.initialMessage.key);if(n&&this.terria.getLocalProperty(e.initialMessage.key))return void t();if(e.initialMessage.confirmation)if(n){var r=e.initialMessage.key;(0,s.default)(this._pending[r])?this._pending[r].push(t):(this._pending[r]=[t],this._openConfirmationModal(e,this._executeCallbacksForKey.bind(this,r)))}else this._openConfirmationModal(e,t);else n&&this.terria.setLocalProperty(e.initialMessage.key,!0),this._openNotificationModel(e),t()}},{key:"_openConfirmationModal",value:function(t,n){this.viewState.notifications.push((0,l.default)({confirmAction:n},e._generateOptions(t)))}},{key:"_openNotificationModel",value:function(t){this.viewState.notifications.push(e._generateOptions(t))}},{key:"_executeCallbacksForKey",value:function(e){(this._pending[e]||[]).forEach(function(e){e()}),this._pending[e]=void 0,this.terria.setLocalProperty(e,!0)}}],[{key:"_generateOptions",value:function(e){return{title:e.initialMessage.title,message:e.initialMessage.content,confirmText:e.initialMessage.confirmText,width:e.initialMessage.width,height:e.initialMessage.height}}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(24),s=r(a),u=n(9),l=r(u),c=n(398),h=r(c),d=n(0),f=r(d),p=n(1596),m=r(p),g=n(435),_=r(g),v=n(621),A=r(v),y=n(13),b=r(y),w=n(396),x=r(w),E=n(1597),C=r(E),S=n(801),T=r(S),I=n(7),M=r(I),O=function(){function e(){i(this,e),this.geoidModel=new m.default(n(1598)),this.proj4Projection="+proj=utm +ellps=GRS80 +units=m +no_defs",this.projectionUnits="m",this.proj4longlat="+proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees +no_defs",this.lastHeightSamplePosition=new s.default,this.accurateSamplingDebounceTime=250,this.tileRequestInFlight=void 0,this.elevation=void 0,this.utmZone=void 0,this.latitude=void 0,this.longitude=void 0,this.north=void 0,this.east=void 0,this.useProjection=!1,this.debounceSampleAccurateHeight=(0,h.default)(this.sampleAccurateHeight,this.accurateSamplingDebounceTime),b.default.track(this,["elevation","utmZone","latitude","longitude","north","east","useProjection"])}return o(e,[{key:"toggleUseProjection",value:function(){this.useProjection=!this.useProjection}},{key:"updateCoordinatesFromCesium",value:function(e,t){var n=e.cesium.scene,r=n.camera,i=r.getPickRay(t),o=n.globe,a=o.pickTriangle(i,n);if((0,f.default)(a)){var u=o.ellipsoid,l=u.cartesianToCartographic(a.v0),c=u.cartesianToCartographic(a.v1),h=u.cartesianToCartographic(a.v2),d=u.cartesianToCartographic(a.intersection),p=void 0;if(o.terrainProvider instanceof _.default)d.height=void 0;else{var m=A.default.computeBarycentricCoordinates(d.longitude,d.latitude,l.longitude,l.latitude,c.longitude,c.latitude,h.longitude,h.latitude);if(m.x>=-1e-15&&m.y>=-1e-15&&m.z>=-1e-15){var g=m.x*l.height+m.y*c.height+m.z*h.height;d.height=g}var v=o.terrainProvider.getLevelMaximumGeometricError(a.tile.level),y=d.height,b=Math.max(a.tile.data.minimumHeight,y-v),w=Math.min(a.tile.data.maximumHeight,y+v),x=b-(this.geoidModel?this.geoidModel.minimumHeight:0),E=w+(this.geoidModel?this.geoidModel.maximumHeight:0);p=Math.max(Math.abs(y-x),Math.abs(E-y))}s.default.clone(d,this.lastHeightSamplePosition);var C=o.terrainProvider;this.cartographicToFields(d,p),C instanceof _.default||this.debounceSampleAccurateHeight(C,d)}else this.elevation=void 0,this.utmZone=void 0,this.latitude=void 0,this.longitude=void 0,this.north=void 0,this.east=void 0}},{key:"updateCoordinatesFromLeaflet",value:function(e,t){var n=e.leaflet.map.mouseEventToLatLng(t),r=s.default.fromDegrees(n.lng,n.lat);r.height=void 0,this.cartographicToFields(r)}},{key:"cartographicToFields",value:function(e,t){var n=l.default.toDegrees(e.latitude),r=l.default.toDegrees(e.longitude);if(this.useProjection){var i=(0,C.default)(r,n,this.proj4Projection,this.proj4longlat,this.projectionUnits);this.utmZone=i.utmZone,this.north=i.north,this.east=i.east}var o=(0,x.default)(r,n,{height:e.height,errorBar:t});this.latitude=o.latitude,this.longitude=o.longitude,this.elevation=o.elevation}},{key:"sampleAccurateHeight",value:function(e,t){var n=this;if(this.tileRequestInFlight)return this.debounceSampleAccurateHeight.cancel(),void this.debounceSampleAccurateHeight(e,t);var r=s.default.clone(t),i=this.geoidModel?this.geoidModel.getHeight(t.longitude,t.latitude):void 0,o=(0,T.default)(e,[r]);this.tileRequestInFlight=M.default.all([i,o],function(e){var i=e[0]||0;n.tileRequestInFlight=void 0,s.default.equals(t,n.lastHeightSamplePosition)&&(t.height=r.height-i,n.cartographicToFields(t))},function(){n.tileRequestInFlight=void 0})}}]),e}();t.default=O},function(e,t,n){"use strict";function r(e){return s(e.data)||(e.data=u(e.gridFileUrl)),l(e.data,function(t){if(!(e.data instanceof Int16Array)){for(var n=new Uint8Array(t),r=0;r<n.length;r+=2){var i=n[r];n[r]=n[r+1],n[r+1]=i}e.data=new Int16Array(t)}return e.data})}function i(e,t,n){var r=720*(a.PI_OVER_TWO-n)/Math.PI;r<0?r=0:r>720&&(r=720),t=a.zeroToTwoPi(t);var i=1440*t/a.TWO_PI;i<0?i=0:i>1440&&(i=1440);var s=0|i,u=0|r,l=i-s,c=r-u,h=1-l,d=1-c;return(o(e,u,s)*h*d+o(e,u,s+1)*l*d+o(e,u+1,s)*h*c+o(e,u+1,s+1)*l*c)/100}function o(e,t,n){return t>720?t=720:t<0&&(t=0),n>1439?n-=1440:n<0&&(n+=1440),e[1440*t+n]}var a=n(9),s=n(0),u=n(522),l=n(7),c=function(e){this.gridFileUrl=e,this.data=void 0,this.minimumHeight=-106.99,this.maximumHeight=85.39};c.isSupported=function(){return"undefined"!=typeof Int16Array&&"undefined"!=typeof Uint8Array},c.prototype.getHeight=function(e,t){return r(this).then(function(n){return i(n,e,t)})},c.prototype.getHeights=function(e){return r(this).then(function(t){for(var n=0;n<e.length;++n){var r=e[n];r.height=i(t,r.longitude,r.latitude)}return e})},e.exports=c},function(e,t,n){"use strict";function r(e,t,n,r,i){var a=1+Math.floor((e+180)/6),s=n+" +zone="+a+(t<0?" +south":""),u=(0,o.default)(r,s,[e,t]);return{utmZone:a+(t<0?"S":"N"),north:u[1].toFixed(2)+i,east:u[0].toFixed(2)+i}}var i=n(337),o=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=r},function(e,t,n){e.exports=n.p+"a22e6e4f04234b080bfffee8e4993335.DAC"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1600),s=r(a),u=n(13),l=r(u),c=function(){function e(t){var n=this;i(this,e),this.catalogSearchProvider=t.catalogSearchProvider||new s.default({terria:t.terria}),this.locationSearchProviders=t.locationSearchProviders||[],this.catalogSearchText="",this.isWaitingToStartCatalogSearch=!1,this.locationSearchText="",this.isWaitingToStartLocationSearch=!1,this.unifiedSearchText="",this.isWaitingToStartUnifiedSearch=!1,this.showLocationSearchResults=!0,this.showMobileLocationSearch=!1,this.showMobileCatalogSearch=!1,l.default.track(this,["catalogSearchProvider","locationSearchProviders","catalogSearchText","isWaitingToStartCatalogSearch","locationSearchText","isWaitingToStartLocationSearch","unifiedSearchText","isWaitingToStartUnifiedSearch","showLocationSearchResults","showMobileLocationSearch","showMobileCatalogSearch","sourcePinDataSource"]),l.default.getObservable(this,"catalogSearchText").subscribe(function(){n.isWaitingToStartCatalogSearch=!0,n.catalogSearchProvider.search("")}),l.default.getObservable(this,"locationSearchText").subscribe(function(){n.isWaitingToStartLocationSearch=!0,n.locationSearchProviders.forEach(function(e){e.search("")})}),l.default.getObservable(this,"unifiedSearchText").subscribe(function(){n.isWaitingToStartUnifiedSearch=!0,n.unifiedSearchProviders.forEach(function(e){e.search("")})}),l.default.defineProperty(this,"unifiedSearchProviders",{get:function(){return[this.catalogSearchProvider].concat(this.locationSearchProviders)}})}return o(e,[{key:"searchCatalog",value:function(){if(this.isWaitingToStartCatalogSearch)return this.isWaitingToStartCatalogSearch=!1,this.catalogSearchProvider.search(this.catalogSearchText)}},{key:"searchLocations",value:function(){var e=this;if(this.isWaitingToStartLocationSearch)return this.isWaitingToStartLocationSearch=!1,this.locationSearchProviders.map(function(t){return t.search(e.locationSearchText)})}},{key:"searchUnified",value:function(){var e=this;if(this.isWaitingToStartUnifiedSearch)return this.isWaitingToStartUnifiedSearch=!1,this.unifiedSearchProviders.map(function(t){return t.search(e.unifiedSearchText)})}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e,t){if(t.typeIs.length>0&&t.typeIs.indexOf(e.type.toLowerCase())<0)return!1;if(t.typeIsNot.length>0&&t.typeIsNot.indexOf(e.type.toLowerCase())>=0)return!1;if(!e.url)return 0===t.urlMatches.length;var n=!0;return t.urlDoesNotMatch.forEach(function(t){e.url.toLowerCase().indexOf(t)>=0&&(n=!1)}),!!n&&(0===t.urlMatches.length||(n=!1,t.urlMatches.forEach(function(t){e.url.toLowerCase().indexOf(t)>=0&&(n=!0)}),n))}function i(e,t,n,i,a,u,l){a.push(i),p(l)||(l={});for(var c=i.items,h=p(l.maxResults)?l.maxResults:e.maxResults,d=0;!t.cancel&&e.searchResults.length<h&&d<c.length;++d){var f=c[d];f.isHidden||(n.test(f.name)&&r(f,l)&&s(e.searchResults,f,a),p(f.items)&&(u=o(e,f,t,n,a,u,l)))}return a.pop(),u}function o(e,t,n,r,o,s,u){return o=o.slice(),m(s).then(function(){if(!n.cancel)return c(function(){if(!n.cancel){var s=t.load();return p(s)&&t.isLoading?s.then(function(){return i(e,n,r,t,o,void 0,u)}).otherwise(a):i(e,n,r,t,o,void 0,u)}})})}function a(){}function s(e,t,n){for(var r=-1,i=0;i<e.length;++i)if(t===e[i].catalogItem){r=i;break}var o="In multiple locations including: ";r>=0?0!==e[r].tooltip.indexOf(o)&&(e[r].tooltip=e[r].tooltip.replace(/^In /,o)):e.push(new d({name:t.name,isImportant:!0,catalogItem:t,tooltip:u(n)}))}function u(e){for(var t="In Data Catalogue",n=1;n<e.length;++n)t+=" -> "+e[n].name;return t}var l=n(14),c=n(81),h=n(285),d=n(286),f=n(1),p=n(0),m=n(7),g=function(e){h.call(this),e=f(e,f.EMPTY_OBJECT),this.terria=e.terria,this._searchInProgress=void 0,this.name="Catalogue Items",this.maxResults=f(e.maxResults,1e4)};l(h,g),g.prototype.search=function(e){if(this._searchInProgress&&(this._searchInProgress.cancel=!0,this._searchInProgress=void 0),!p(e)||/^\s*$/.test(e))return this.isSearching=!1,void this.searchResults.removeAll();var t={typeIs:[],typeIsNot:[],urlMatches:[],urlDoesNotMatch:[]};!function(){for(var n=/(^|\s)(-?)is:([a-zA-Z0-9_-]+)\b/i;e.match(n);)e.match(n)[2]?t.typeIsNot.push(e.match(n)[3].toLowerCase()):t.typeIs.push(e.match(n)[3].toLowerCase()),e=e.replace(n,"").trim();for(var r=/\bshow:(all|[0-9]+)\b/i;e.match(r);)t.maxResults=e.match(r)[1].toLowerCase(),"all"===t.maxResults?t.maxResults=1e4:t.maxResults=parseInt(t.maxResults,10),e=e.replace(r,"").trim();for(var i=/(^|\s)(-?)url:([^ ]+)(\b|$)/i;e.match(i);)e.match(i)[2]?t.urlDoesNotMatch.push(e.match(i)[3].toLowerCase()):t.urlMatches.push(e.match(i)[3].toLowerCase()),e=e.replace(i,"").trim()}(),this.isSearching=!0,this.searchResults.removeAll(),this.searchMessage=void 0,this.terria.analytics.logEvent("search","catalogue",e);var n=this._searchInProgress={cancel:!1},r=[],o=this.terria.catalog.group,a=i(this,n,new RegExp(e,"i"),o,r,void 0,t),s=this;return m(a).then(function(){s.isSearching=!1,n.cancel||0===s.searchResults.length&&(s.searchMessage="Sorry, no catalogue items match your search query.")})},e.exports=g},function(e,t,n){"use strict";function r(e,t){var n=t.bbox,r=n[0],i=n[1],o=n[2],a=n[3],s=f.fromDegrees(i,r,a,o);return function(){e.terria.currentViewer.zoomTo(s,e.flightDurationSeconds)}}var i=n(14),o=n(285),a=n(286),s=n(357),u=n(9),l=n(1),c=n(0),h=n(23),d=n(1602),f=n(16),p=n(29),m=function(e){o.call(this),e=l(e,l.EMPTY_OBJECT),this.terria=e.terria,this._geocodeInProgress=void 0,this.name="Locations",this.url=l(e.url,"//dev.virtualearth.net/"),this.url.length>0&&"/"!==this.url[this.url.length-1]&&(this.url+="/"),this.key=s.getKey(e.key),this.flightDurationSeconds=l(e.flightDurationSeconds,1.5),this.primaryCountry=l(e.primaryCountry,"Australia"),this.culture=l(e.culture,"en-au"),this.key||console.warn("The "+this.name+" geocoder will always return no results because a Bing Maps key has not been provided. Please get a Bing Maps key from bingmapsportal.com and add it to parameters.bingMapsKey in config.json.")};i(o,m),m.prototype.search=function(e){if(!c(e)||/^\s*$/.test(e))return this.isSearching=!1,void this.searchResults.removeAll();this.isSearching=!0,this.searchResults.removeAll(),this.searchMessage=void 0,this.terria.analytics.logEvent("search","bing",e),c(this._geocodeInProgress)&&(this._geocodeInProgress.cancel=!0,this._geocodeInProgress=void 0);var t,n;if(c(this.terria.cesium)){var i=this.terria.cesium.scene,o=i.camera.positionWC,s=h.WGS84.cartesianToCartographic(o);t=u.toDegrees(s.longitude),n=u.toDegrees(s.latitude)}else if(c(this.terria.leaflet)){var l=this.terria.leaflet.map.getCenter();t=l.lng,n=l.lat}var f=d(new p({url:this.url+"REST/v1/Locations?culture="+this.culture+"&userLocation="+n+","+t,queryParameters:{query:e,key:this.key}}),"jsonp"),m=this,g=this._geocodeInProgress=f.then(function(e){if(!g.cancel){if(m.isSearching=!1,0===e.resourceSets.length)return void(m.searchMessage="Sorry, no locations match your search query.");var t=e.resourceSets[0];if(0===t.resources.length)return void(m.searchMessage="Sorry, no locations match your search query.");for(var n=[],i=[],o=0;o<t.resources.length;++o){var s=t.resources[o],u=s.name;if(c(u)){var l=n,h=!0,d=s.address?s.address.countryRegion:void 0;c(m.primaryCountry)&&d!==m.primaryCountry&&(l=i,h=!1,c(d)&&u.lastIndexOf(d)!==u.length-d.length&&(u+=", "+d)),l.push(new a({name:u,isImportant:h,clickAction:r(m,s),location:{latitude:s.point.coordinates[0],longitude:s.point.coordinates[1]}}))}}m.searchResults.push.apply(m.searchResults,n),m.searchResults.push.apply(m.searchResults,i),0===m.searchResults.length&&(m.searchMessage="Sorry, no locations match your search query.")}}).otherwise(function(){g.cancel||(m.isSearching=!1,m.searchMessage="An error occurred while searching.  Please check your internet connection or try again later.")});return g},e.exports=m},function(e,t,n){"use strict";function r(e,t){return o.createIfNeeded(e).fetchJsonp(t)}var i=n(2),o=n(29);i(r,{loadAndExecuteScript:{get:function(){return o._Implementations.loadAndExecuteScript},set:function(e){o._Implementations.loadAndExecuteScript=e}},defaultLoadAndExecuteScript:{get:function(){return o._DefaultImplementations.loadAndExecuteScript}}}),e.exports=r},function(e,t,n){"use strict";function r(e){var t,n={},r=[];for(t=0;t<e.length;t++){var i=Number(e[t].location.split(",")[0]).toFixed(1),o=Number(e[t].location.split(",")[1]).toFixed(1),a=e[t].name+"_"+i+" "+o;d(n[a])||(n[a]=e[t],r.push(e[t]))}return r}function i(e,t){var n=["CONT","STAT","URBN","LOCB","LOCU","SUB","DI","CNTY","DI"];n.push("HBR","CAPE","PEN","PT","BAY","PORT","GULF","BGHT","COVE","MT","HILL","PEAK","OCEN","SEA","RESV","LAKE","RES","STRM"),n.push("PLN","REEF","VAL","PRSH");var r=1e4-100*(n.indexOf(e.feature_code)+1);return 1e4===r&&(r=0),e.name.toUpperCase()===t.toUpperCase()?r+=1e3:e.name.match(new RegExp("^"+t+"\\b","i"))?r+=800:e.name.match(new RegExp("\\b"+t+"\\b","i"))?r+=400:e.name.match(new RegExp("^"+t,"i"))&&(r+=200),"N/A"===e.state_id&&(r-=1e3),"U"===e.status&&(r-=500),"H"===e.status&&(r-=1e3),r}function o(e,t,n){return i(t,n)-i(e,n)}function a(e,t,n){var r=c(t,n,.2);return function(){e.terria.currentViewer.zoomTo(r,e.flightDurationSeconds)}}var s=n(14),u=n(285),l=n(286),c=n(692),h=n(1),d=n(0),f=n(44),p=function(e){u.call(this),e=h(e,h.EMPTY_OBJECT),this.terria=e.terria,this._geocodeInProgress=void 0,this.name="Official Place Names",this.url=h(e.url,"http://www.ga.gov.au/gazetteer-search/gazetteer2012/select/"),this.forceUseOfProxy=h(e.forceUseOfProxy,!0),this.flightDurationSeconds=h(e.flightDurationSeconds,1.5)};s(u,p),p.prototype.search=function(e){if(!d(e)||/^\s*$/.test(e))return this.isSearching=!1,void this.searchResults.removeAll();this.isSearching=!0,this.searchResults.removeAll(),this.searchMessage=void 0,this.terria.analytics.logEvent("search","gazetteer",e),d(this._geocodeInProgress)&&(this._geocodeInProgress.cancel=!0,this._geocodeInProgress=void 0);var t=this.url+"?q=name:*"+e+"*";t+="%20-class_code:(D%20E%20G%20J%20T)%20-feature_code:PRS",t+="&rows=200",(this.forceUseOfProxy||this.terria.corsProxy.shouldUseProxy(t))&&(t=this.terria.corsProxy.getURL(t));var n=f(t),i=this,s=this._geocodeInProgress=n.then(function(t){if(!s.cancel){if(i.isSearching=!1,d(t.response)&&t.response.numFound>0){var n=t.response.docs.sort(function(t,n){return o(t,n,e)});n=r(n),n.slice(0,10).forEach(function(e){var t=e.location.split(",")[0],n=e.location.split(",")[1];i.searchResults.push(new l({name:e.name+("N/A"!==e.state_id?" ("+e.state_id+")":""),isImportant:!!e.feature_code.match("^(CNTY|CONT|DI|PRSH|STAT|LOCB|LOCU|SUB|URBN)$"),clickAction:a(i,t,n),location:{latitude:t,longitude:n}}))})}else i.searchMessage="Sorry, no official place names match your search query";i.isSearching=!1}}).otherwise(function(){s.cancel||(i.isSearching=!1,i.searchMessage="An error occurred while searching.  Please check your internet connection or try again later.")});return s},e.exports=p},function(e,t,n){"use strict";function r(e,t,n){var r=s(t.latitude,t.longitude,.01);return function(){e.currentViewer.zoomTo(r,n)}}var i=n(14),o=n(285),a=n(286),s=n(692),u=n(1605),l=n(1),c=n(0),h=function(e){o.call(this),e=l(e,l.EMPTY_OBJECT),this.terria=e.terria;var t=l(e.url,this.terria.configParameters.gnafSearchUrl);this.name="Addresses",this.gnafApi=l(e.gnafApi,new u(this.terria.corsProxy,t)),this._geocodeInProgress=void 0,this.flightDurationSeconds=l(e.flightDurationSeconds,1.5)};i(o,h),h.prototype.search=function(e){if(this.isSearching=!0,this.searchResults.removeAll(),c(e)&&!/^\s*$/.test(e)){this.searchMessage=void 0,this.terria.analytics.logEvent("search","gnaf",e),c(this._geocodeInProgress)&&(this._geocodeInProgress.cancel=!0,this._geocodeInProgress=void 0);var t=this.gnafApi.geoCode(e).then(function(e){if(!t.cancel){if(this.isSearching=!1,0===e.length)return void(this.searchMessage="Sorry, no locations match your search query.");this.searchResults=e.map(function(e){return new a({name:e.name,isImportant:e.locational,clickAction:r(this.terria,e.location,this.flightDurationSeconds),location:e.location})}.bind(this))}}.bind(this)).otherwise(function(){t.cancel||(this.isSearching=!1,this.searchMessage="An error occurred while searching.  Please check your internet connection or try again later.")}.bind(this));this._geocodeInProgress=t}},e.exports=h},function(e,t,n){"use strict";function r(e,t){var n=JSON.parse(t.json);return{score:t.score,locational:e,name:t.d61Address.slice(0,3).filter(function(e){return e.length>0}).join(", "),flatNumber:i(n.flat.number),level:i(n.level.number),numberFirst:i(n.numberFirst.number),numberLast:i(n.numberLast.number),street:n.street,localityName:n.localityName,localityVariantNames:n.localityVariant.map(function(e){return e.localityName}),state:{abbreviation:n.stateAbbreviation,name:n.stateName},postCode:n.postcode,location:{latitude:n.location.lat,longitude:n.location.lon}}}function i(e){return e>0?e:void 0}function o(e,t){var n={numHits:t,fuzzy:{maxEdits:2,minLength:5,prefixLength:2}};return e instanceof Array?n.addresses=e.map(a):n.addr=a(e),n}function a(e){return e.replace(/,/gi," ").replace(/\//gi," ")}function s(e,t){e.box={minLat:d.toDegrees(t.south),maxLon:d.toDegrees(t.east),maxLat:d.toDegrees(t.north),minLon:d.toDegrees(t.west)}}function u(e,t){for(var n=[],r=0,i=!1,o=t;o<1/0&&(o>=e.length&&(o=e.length,i=!0),n.push(e.slice(r,o)),r=o,!i);o+=t);return n}var l=n(105),c=n(0),h=n(1),d=n(9),f=n(7),p=function(e,t){this.url=e.getURLProxyIfNecessary(h(t,"http://gnaf.nationalmap.nicta.com.au/v2/search")),this.bulk_url=e.getURLProxyIfNecessary(h(t,"http://gnaf.nationalmap.nicta.com.au/v2/bulkSearch"))};p.prototype.geoCode=function(e,t,n){n=n||10;var i=o(e,n);return c(t)&&s(i,t),l({url:this.url,method:"POST",data:JSON.stringify(i),headers:{"Content-Type":"application/json"},responseType:"json"}).then(function(e){return e.hits.map(r.bind(void 0,c(t)))}.bind(this))},p.prototype.bulkGeoCode=function(e,t,n,r){n=n||40,r=r||1;var i=u(e,n),o=u(i,r),a=[];return this._runThrottledRequests(0,a,o,t)},p.prototype._runThrottledRequests=function(e,t,n,r){if(e===n.length)return t;var i=this,o=n[e].map(function(e){return i._bulkGeocodeSingleRequest(e,r)});return f.all(o).then(function(o){for(var a=0;a<o.length;a++)t=t.concat(o[a]);return i._runThrottledRequests(e+1,t,n,r)}).otherwise(function(e){throw e})},p.prototype._bulkGeocodeSingleRequest=function(e,t){var n=o(e,1);return c(t)&&s(n,t),l({url:this.bulk_url,method:"POST",data:JSON.stringify(n),headers:{"Content-Type":"application/json"},responseType:"json"}).then(function(e){for(var n=[],i=0;i<e.length;i++){var o=e[i];c(o.hits)&&n.push(o.hits.map(r.bind(void 0,c(t)))[0])}return n}.bind(this))},p._splitIntoBatches=u,e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){var i=function(){var i=n(1616).default;a.default.render(l.default.createElement(i,{terria:e,allBaseMaps:t,viewState:r}),document.getElementById("ui"))};i()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(213),a=r(o),s=n(1610),u=(r(s),n(4)),l=r(u)},function(e,t,n){"use strict";function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}function o(e,t,n,r,o,a,s,u,l){ji=!1,Hi=null,i.apply(Gi,arguments)}function a(e,t,n,i,a,s,u,l,c){if(o.apply(this,arguments),ji){if(!ji)throw Error(r(198));var h=Hi;ji=!1,Hi=null,Vi||(Vi=!0,Qi=h)}}function s(e,t,n){var r=e.type||"unknown-event";e.currentTarget=Yi(n),a(r,t,void 0,e),e.currentTarget=null}function u(){if(Ki)for(var e in Xi){var t=Xi[e],n=Ki.indexOf(e);if(!(-1<n))throw Error(r(96,e));if(!Zi[n]){if(!t.extractEvents)throw Error(r(97,e));Zi[n]=t,n=t.eventTypes;for(var i in n){var o=void 0,a=n[i],s=t,u=i;if(Ji.hasOwnProperty(u))throw Error(r(99,u));Ji[u]=a;var c=a.phasedRegistrationNames;if(c){for(o in c)c.hasOwnProperty(o)&&l(c[o],s,u);o=!0}else a.registrationName?(l(a.registrationName,s,u),o=!0):o=!1;if(!o)throw Error(r(98,i,e))}}}}function l(e,t,n){if($i[e])throw Error(r(100,e));$i[e]=t,eo[e]=t.eventTypes[n].dependencies}function c(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!Xi.hasOwnProperty(t)||Xi[t]!==i){if(Xi[t])throw Error(r(102,t));Xi[t]=i,n=!0}}n&&u()}function h(e){if(e=qi(e)){if("function"!=typeof no)throw Error(r(280));var t=e.stateNode;t&&(t=Wi(t),no(e.stateNode,e.type,t))}}function d(e){ro?io?io.push(e):io=[e]:ro=e}function f(){if(ro){var e=ro,t=io;if(io=ro=null,h(e),t)for(e=0;e<t.length;e++)h(t[e])}}function p(e,t){return e(t)}function m(e,t,n,r,i){return e(t,n,r,i)}function g(){}function _(){null===ro&&null===io||(g(),f())}function v(e,t,n){if(so)return e(t,n);so=!0;try{return oo(e,t,n)}finally{so=!1,_()}}function A(e){return!!lo.call(ho,e)||!lo.call(co,e)&&(uo.test(e)?ho[e]=!0:(co[e]=!0,!1))}function y(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function b(e,t,n,r){if(null===t||void 0===t||y(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function w(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}function x(e){return e[1].toUpperCase()}function E(e,t,n,r){var i=fo.hasOwnProperty(t)?fo[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(b(t,n,i,r)&&(n=null),r||null===i?A(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function C(e){return null===e||"object"!=typeof e?null:(e=Bo&&e[Bo]||e["@@iterator"],"function"==typeof e?e:null)}function S(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}}function T(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case bo:return"Fragment";case yo:return"Portal";case xo:return"Profiler";case wo:return"StrictMode";case Io:return"Suspense";case Mo:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Co:return"Context.Consumer";case Eo:return"Context.Provider";case To:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Oo:return T(e.type);case Do:return T(e.render);case Po:if(e=1===e._status?e._result:null)return T(e)}return null}function I(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=T(e.type);n=null,r&&(n=T(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(_o,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function M(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function O(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function P(e){var t=O(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function D(e){e._valueTracker||(e._valueTracker=P(e))}function B(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=O(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function L(e,t){var n=t.checked;return Ui({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function N(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=M(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function R(e,t){null!=(t=t.checked)&&E(e,"checked",t,!1)}function k(e,t){R(e,t);var n=M(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?U(e,t.type,n):t.hasOwnProperty("defaultValue")&&U(e,t.type,M(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function F(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function U(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function z(e){var t="";return Fi.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function j(e,t){return e=Ui({children:void 0},t),(t=z(t.children))&&(e.children=t),e}function H(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+M(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function V(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return Ui({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Q(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:M(n)}}function G(e,t){var n=M(t.value),r=M(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function W(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function q(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?q(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function K(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function X(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function Z(e){if(ko[e])return ko[e];if(!Ro[e])return e;var t,n=Ro[e];for(t in n)if(n.hasOwnProperty(t)&&t in Fo)return ko[e]=n[t];return e}function J(e){var t=qo.get(e);return void 0===t&&(t=new Map,qo.set(e,t)),t}function $(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!=(1026&t.effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ee(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function te(e){if($(e)!==e)throw Error(r(188))}function ne(e){var t=e.alternate;if(!t){if(null===(t=$(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return te(o),e;if(a===i)return te(o),t;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function re(e){if(!(e=ne(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function ie(e,t){if(null==t)throw Error(r(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function oe(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function ae(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)s(e,t[r],n[r]);else t&&s(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function se(e){if(null!==e&&(Yo=ie(Yo,e)),e=Yo,Yo=null,e){if(oe(e,ae),Yo)throw Error(r(95));if(Vi)throw e=Qi,Vi=!1,Qi=null,e}}function ue(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function le(e){if(!to)return!1;e="on"+e;var t=e in document;return t||(t=document.createElement("div"),t.setAttribute(e,"return;"),t="function"==typeof t[e]),t}function ce(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Ko.length&&Ko.push(e)}function he(e,t,n,r){if(Ko.length){var i=Ko.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function de(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;t=n.tag,5!==t&&6!==t||e.ancestors.push(n),n=Ye(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ue(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<Zi.length;u++){var l=Zi[u];l&&(l=l.extractEvents(r,t,o,i,a))&&(s=ie(s,l))}se(s)}}function fe(e,t,n){if(!n.has(e)){switch(e){case"scroll":Te(t,"scroll",!0);break;case"focus":case"blur":Te(t,"focus",!0),Te(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":le(e)&&Te(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Wo.indexOf(e)&&Se(e,t)}n.set(e,null)}}function pe(e,t){var n=J(t);ia.forEach(function(e){fe(e,t,n)}),oa.forEach(function(e){fe(e,t,n)})}function me(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function ge(e,t){switch(e){case"focus":case"blur":Jo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":ta.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(t.pointerId)}}function _e(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=me(t,n,r,i,o),null!==t&&null!==(t=Ke(t))&&zo(t),e):(e.eventSystemFlags|=r,e)}function ve(e,t,n,r,i){switch(t){case"focus":return Jo=_e(Jo,e,t,n,r,i),!0;case"dragenter":return $o=_e($o,e,t,n,r,i),!0;case"mouseover":return ea=_e(ea,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ta.set(o,_e(ta.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,na.set(o,_e(na.get(o)||null,e,t,n,r,i)),!0}return!1}function Ae(e){var t=Ye(e.target);if(null!==t){var n=$(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ee(n)))return e.blockedOn=t,void zi.unstable_runWithPriority(e.priority,function(){jo(n)})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function ye(e){if(null!==e.blockedOn)return!1;var t=Pe(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Ke(t);return null!==n&&zo(n),e.blockedOn=t,!1}return!0}function be(e,t,n){ye(e)&&n.delete(t)}function we(){for(Xo=!1;0<Zo.length;){var e=Zo[0];if(null!==e.blockedOn){e=Ke(e.blockedOn),null!==e&&Uo(e);break}var t=Pe(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Zo.shift()}null!==Jo&&ye(Jo)&&(Jo=null),null!==$o&&ye($o)&&($o=null),null!==ea&&ye(ea)&&(ea=null),ta.forEach(be),na.forEach(be)}function xe(e,t){e.blockedOn===t&&(e.blockedOn=null,Xo||(Xo=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,we)))}function Ee(e){function t(t){return xe(t,e)}if(0<Zo.length){xe(Zo[0],e);for(var n=1;n<Zo.length;n++){var r=Zo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Jo&&xe(Jo,e),null!==$o&&xe($o,e),null!==ea&&xe(ea,e),ta.forEach(t),na.forEach(t),n=0;n<ra.length;n++)r=ra[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ra.length&&(n=ra[0],null===n.blockedOn);)Ae(n),null===n.blockedOn&&ra.shift()}function Ce(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},ua.set(r,t),sa.set(r,o),aa[i]=o}}function Se(e,t){Te(t,e,!1)}function Te(e,t,n){var r=ua.get(t);switch(void 0===r?2:r){case 0:r=Ie.bind(null,t,1,e);break;case 1:r=Me.bind(null,t,1,e);break;default:r=Oe.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Ie(e,t,n,r){ao||g();var i=Oe,o=ao;ao=!0;try{m(i,e,t,n,r)}finally{(ao=o)||_()}}function Me(e,t,n,r){fa(da,Oe.bind(null,e,t,n,r))}function Oe(e,t,n,r){if(pa)if(0<Zo.length&&-1<ia.indexOf(e))e=me(null,e,t,n,r),Zo.push(e);else{var i=Pe(e,t,n,r);if(null===i)ge(e,r);else if(-1<ia.indexOf(e))e=me(i,e,t,n,r),Zo.push(e);else if(!ve(i,e,t,n,r)){ge(e,r),e=he(e,r,null,t);try{v(de,e)}finally{ce(e)}}}}function Pe(e,t,n,r){if(n=ue(r),null!==(n=Ye(n))){var i=$(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=ee(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=he(e,r,n,t);try{v(de,e)}finally{ce(e)}return null}function De(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ma.hasOwnProperty(e)&&ma[e]?(""+t).trim():t+"px"}function Be(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=De(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function Le(e,t){if(t){if(_a[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62,""))}}function Ne(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Re(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=J(e);t=eo[t];for(var r=0;r<t.length;r++)fe(t[r],e,n)}function ke(){}function Fe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ue(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ze(e,t){var n=Ue(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ue(n)}}function je(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?je(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function He(){for(var e=window,t=Fe();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;e=t.contentWindow,t=Fe(e.document)}return t}function Ve(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Qe(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ge(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function We(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qe(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Aa||n===wa||n===ba){if(0===t)return e;t--}else n===ya&&t++}e=e.previousSibling}return null}function Ye(e){var t=e[Ia];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oa]||n[Ia]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qe(e);null!==e;){if(n=e[Ia])return n;e=qe(e)}return t}e=n,n=e.parentNode}return null}function Ke(e){return e=e[Ia]||e[Oa],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Xe(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Ze(e){return e[Ma]||null}function Je(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function $e(e,t){var n=e.stateNode;if(!n)return null;var i=Wi(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}function et(e,t,n){(t=$e(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=ie(n._dispatchListeners,t),n._dispatchInstances=ie(n._dispatchInstances,e))}function tt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Je(t);for(t=n.length;0<t--;)et(n[t],"captured",e);for(t=0;t<n.length;t++)et(n[t],"bubbled",e)}}function nt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=$e(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=ie(n._dispatchListeners,t),n._dispatchInstances=ie(n._dispatchInstances,e))}function rt(e){e&&e.dispatchConfig.registrationName&&nt(e._targetInst,null,e)}function it(e){oe(e,tt)}function ot(){if(Ba)return Ba;var e,t,n=Da,r=n.length,i="value"in Pa?Pa.value:Pa.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Ba=i.slice(e,1<t?1-t:void 0)}function at(){return!0}function st(){return!1}function ut(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?at:st,this.isPropagationStopped=st,this}function lt(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function ct(e){if(!(e instanceof this))throw Error(r(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function ht(e){e.eventPool=[],e.getPooled=lt,e.release=ct}function dt(e,t){switch(e){case"keyup":return-1!==Ra.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ft(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function pt(e,t){switch(e){case"compositionend":return ft(t);case"keypress":return 32!==t.which?null:(Va=!0,ja);case"textInput":return e=t.data,e===ja&&Va?null:e;default:return null}}function mt(e,t){if(Qa)return"compositionend"===e||!ka&&dt(e,t)?(e=ot(),Ba=Da=Pa=null,Qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return za&&"ko"!==t.locale?null:t.data;default:return null}}function gt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wa[e.type]:"textarea"===t}function _t(e,t,n){return e=ut.getPooled(qa.change,e,t,n),e.type="change",d(n),it(e),e}function vt(e){se(e)}function At(e){if(B(Xe(e)))return e}function yt(e,t){if("change"===e)return t}function bt(){Ya&&(Ya.detachEvent("onpropertychange",wt),Ka=Ya=null)}function wt(e){if("value"===e.propertyName&&At(Ka))if(e=_t(Ka,e,ue(e)),ao)se(e);else{ao=!0;try{p(vt,e)}finally{ao=!1,_()}}}function xt(e,t,n){"focus"===e?(bt(),Ya=t,Ka=n,Ya.attachEvent("onpropertychange",wt)):"blur"===e&&bt()}function Et(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return At(Ka)}function Ct(e,t){if("click"===e)return At(t)}function St(e,t){if("input"===e||"change"===e)return At(t)}function Tt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=$a[e])&&!!t[e]}function It(){return Tt}function Mt(e,t){return e===t&&(0!==e||1/e==1/t)||e!==e&&t!==t}function Ot(e,t){if(us(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ls.call(t,n[r])||!us(e[n[r]],t[n[r]]))return!1;return!0}function Pt(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ms||null==ds||ds!==Fe(n)?null:(n=ds,"selectionStart"in n&&Ve(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ps&&Ot(ps,n)?null:(ps=n,e=ut.getPooled(hs.select,fs,e,t),e.type="select",e.target=ds,it(e),e))}function Dt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Bt(e){0>Ls||(e.current=Bs[Ls],Bs[Ls]=null,Ls--)}function Lt(e,t){Ls++,Bs[Ls]=e.current,e.current=t}function Nt(e,t){var n=e.type.contextTypes;if(!n)return Ns;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Rt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function kt(){Bt(ks),Bt(Rs)}function Ft(e,t,n){if(Rs.current!==Ns)throw Error(r(168));Lt(Rs,t),Lt(ks,n)}function Ut(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(r(108,T(t)||"Unknown",o));return Ui({},n,{},i)}function zt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ns,Fs=Rs.current,Lt(Rs,e),Lt(ks,ks.current),!0}function jt(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Ut(e,t,Fs),i.__reactInternalMemoizedMergedChildContext=e,Bt(ks),Bt(Rs),Lt(Rs,e)):Bt(ks),Lt(ks,n)}function Ht(){switch(Qs()){case Gs:return 99;case Ws:return 98;case qs:return 97;case Ys:return 96;case Ks:return 95;default:throw Error(r(332))}}function Vt(e){switch(e){case 99:return Gs;case 98:return Ws;case 97:return qs;case 96:return Ys;case 95:return Ks;default:throw Error(r(332))}}function Qt(e,t){return e=Vt(e),Us(e,t)}function Gt(e,t,n){return e=Vt(e),zs(e,t,n)}function Wt(e){return null===$s?($s=[e],eu=zs(Gs,Yt)):$s.push(e),Xs}function qt(){if(null!==eu){var e=eu;eu=null,js(e)}Yt()}function Yt(){if(!tu&&null!==$s){tu=!0;var e=0;try{var t=$s;Qt(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),$s=null}catch(t){throw null!==$s&&($s=$s.slice(e+1)),zs(Gs,qt),t}finally{tu=!1}}}function Kt(e,t,n){return n/=10,1073741821-(1+((1073741821-e+t/10)/n|0))*n}function Xt(e,t){if(e&&e.defaultProps){t=Ui({},t),e=e.defaultProps;for(var n in e)void 0===t[n]&&(t[n]=e[n])}return t}function Zt(){su=au=ou=null}function Jt(e){var t=iu.current;Bt(iu),e.type._context._currentValue=t}function $t(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function en(e,t){ou=e,su=au=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Nu=!0),e.firstContext=null)}function tn(e,t){if(su!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(su=e,t=1073741823),t={context:e,observedBits:t,next:null},null===au){if(null===ou)throw Error(r(308));au=t,ou.dependencies={expirationTime:0,firstContext:t,responders:null}}else au=au.next=t;return e._currentValue}function nn(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function rn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function on(e,t){return e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},e.next=e}function an(e,t){if(null!==(e=e.updateQueue)){e=e.shared;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function sn(e,t){var n=e.alternate;null!==n&&rn(n,e),e=e.updateQueue,n=e.baseQueue,null===n?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function un(e,t,n,r){var i=e.updateQueue;uu=!1;var o=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,i.shared.pending=null,s=e.alternate,null!==s&&null!==(s=s.updateQueue)&&(s.baseQueue=a)}if(null!==o){s=o.next;var u=i.baseState,l=0,c=null,h=null,d=null;if(null!==s)for(var f=s;;){if((a=f.expirationTime)<r){var p={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===d?(h=d=p,c=u):d=d.next=p,a>l&&(l=a)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),Zr(a,f.suspenseConfig);e:{var m=e,g=f;switch(a=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){u=m.call(p,u,a);break e}u=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(m=g.payload,null===(a="function"==typeof m?m.call(p,u,a):m)||void 0===a)break e;u=Ui({},u,a);break e;case 2:uu=!0}}null!==f.callback&&(e.effectTag|=32,a=i.effects,null===a?i.effects=[f]:a.push(f))}if(null===(f=f.next)||f===s){if(null===(a=i.shared.pending))break;f=o.next=a.next,a.next=s,i.baseQueue=o=a,i.shared.pending=null}}null===d?c=u:d.next=h,i.baseState=c,i.baseQueue=d,Jr(l),e.expirationTime=l,e.memoizedState=u}}function ln(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=o,o=n,"function"!=typeof i)throw Error(r(191,i));i.call(o)}}}function cn(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:Ui({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}function hn(e,t,n,r,i,o,a){return e=e.stateNode,"function"==typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Ot(n,r)||!Ot(i,o))}function dn(e,t,n){var r=!1,i=Ns,o=t.contextType;return"object"==typeof o&&null!==o?o=tn(o):(i=Rt(t)?Fs:Rs.current,r=t.contextTypes,o=(r=null!==r&&void 0!==r)?Nt(e,i):Ns),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=hu,e.stateNode=t,t._reactInternalFiber=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function fn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hu.enqueueReplaceState(t,t.state,null)}function pn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=cu,nn(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=tn(o):(o=Rt(t)?Fs:Rs.current,i.context=Nt(e,o)),un(e,n,i,r),i.state=e.memoizedState,o=t.getDerivedStateFromProps,"function"==typeof o&&(cn(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&hu.enqueueReplaceState(i,i.state,null),un(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}function mn(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===cu&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function gn(e,t){if("textarea"!==e.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function _n(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return e=vi(e,t),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=bi(n,e.mode,r),t.return=e,t):(t=o(t,n),t.return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?(r=o(t,n.props),r.ref=mn(e,t,n),r.return=e,r):(r=Ai(n.type,n.key,n.props,null,e.mode,r),r.ref=mn(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=wi(n,e.mode,r),t.return=e,t):(t=o(t,n.children||[]),t.return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?(t=yi(n,e.mode,r,i),t.return=e,t):(t=o(t,n),t.return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return t=bi(""+t,e.mode,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ao:return n=Ai(t.type,t.key,t.props,null,e.mode,n),n.ref=mn(e,null,t),n.return=e,n;case yo:return t=wi(t,e.mode,n),t.return=e,t}if(du(t)||C(t))return t=yi(t,e.mode,n,null),t.return=e,t;gn(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ao:return n.key===i?n.type===bo?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case yo:return n.key===i?c(e,t,n,r):null}if(du(n)||C(n))return null!==i?null:h(e,t,n,r,null);gn(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ao:return e=e.get(null===r.key?n:r.key)||null,r.type===bo?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case yo:return e=e.get(null===r.key?n:r.key)||null,c(t,e,r,i)}if(du(r)||C(r))return e=e.get(n)||null,h(t,e,r,i,null);gn(t,r)}return null}function m(r,o,s,u){for(var l=null,c=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var _=f(r,h,s[m],u);if(null===_){null===h&&(h=g);break}e&&h&&null===_.alternate&&t(r,h),o=a(_,o,m),null===c?l=_:c.sibling=_,c=_,h=g}if(m===s.length)return n(r,h),l;if(null===h){for(;m<s.length;m++)null!==(h=d(r,s[m],u))&&(o=a(h,o,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=i(r,h);m<s.length;m++)null!==(g=p(h,r,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(r,e)}),l}function g(o,s,u,l){var c=C(u);if("function"!=typeof c)throw Error(r(150));if(null==(u=c.call(u)))throw Error(r(151));for(var h=c=null,m=s,g=s=0,_=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(_=m,m=null):_=m.sibling;var A=f(o,m,v.value,l);if(null===A){null===m&&(m=_);break}e&&m&&null===A.alternate&&t(o,m),s=a(A,s,g),null===h?c=A:h.sibling=A,h=A,m=_}if(v.done)return n(o,m),c;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=d(o,v.value,l))&&(s=a(v,s,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=i(o,m);!v.done;g++,v=u.next())null!==(v=p(m,o,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(o,e)}),c}return function(e,i,a,u){var l="object"==typeof a&&null!==a&&a.type===bo&&null===a.key;l&&(a=a.props.children);var c="object"==typeof a&&null!==a;if(c)switch(a.$$typeof){case Ao:e:{for(c=a.key,l=i;null!==l;){if(l.key===c){switch(l.tag){case 7:if(a.type===bo){n(e,l.sibling),i=o(l,a.props.children),i.return=e,e=i;break e}break;default:if(l.elementType===a.type){n(e,l.sibling),i=o(l,a.props),i.ref=mn(e,l,a),i.return=e,e=i;break e}}n(e,l);break}t(e,l),l=l.sibling}a.type===bo?(i=yi(a.props.children,e.mode,u,a.key),i.return=e,e=i):(u=Ai(a.type,a.key,a.props,null,e.mode,u),u.ref=mn(e,i,a),u.return=e,e=u)}return s(e);case yo:e:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),i=o(i,a.children||[]),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=wi(a,e.mode,u),i.return=e,e=i}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),i=o(i,a),i.return=e,e=i):(n(e,i),i=bi(a,e.mode,u),i.return=e,e=i),s(e);if(du(a))return m(e,i,a,u);if(C(a))return g(e,i,a,u);if(c&&gn(e,a),void 0===a&&!l)switch(e.tag){case 1:case 0:throw e=e.type,Error(r(152,e.displayName||e.name||"Component"))}return n(e,i)}}function vn(e){if(e===mu)throw Error(r(174));return e}function An(e,t){switch(Lt(vu,t),Lt(_u,e),Lt(gu,mu),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Y(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Y(t,e)}Bt(gu),Lt(gu,t)}function yn(){Bt(gu),Bt(_u),Bt(vu)}function bn(e){vn(vu.current);var t=vn(gu.current),n=Y(t,e.type);t!==n&&(Lt(_u,e),Lt(gu,n))}function wn(e){_u.current===e&&(Bt(gu),Bt(_u))}function xn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===ba||n.data===wa))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function En(e,t){return{responder:e,props:t}}function Cn(){throw Error(r(321))}function Sn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!us(e[n],t[n]))return!1;return!0}function Tn(e,t,n,i,o,a){if(wu=a,xu=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,yu.current=null===e||null===e.memoizedState?Iu:Mu,e=n(i,o),t.expirationTime===wu){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(r(301));a+=1,Cu=Eu=null,t.updateQueue=null,yu.current=Ou,e=n(i,o)}while(t.expirationTime===wu)}if(yu.current=Tu,t=null!==Eu&&null!==Eu.next,wu=0,Cu=Eu=xu=null,Su=!1,t)throw Error(r(300));return e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Cu?xu.memoizedState=Cu=e:Cu=Cu.next=e,Cu}function Mn(){if(null===Eu){var e=xu.alternate;e=null!==e?e.memoizedState:null}else e=Eu.next;var t=null===Cu?xu.memoizedState:Cu.next;if(null!==t)Cu=t,Eu=e;else{if(null===e)throw Error(r(310));Eu=e,e={memoizedState:Eu.memoizedState,baseState:Eu.baseState,baseQueue:Eu.baseQueue,queue:Eu.queue,next:null},null===Cu?xu.memoizedState=Cu=e:Cu=Cu.next=e}return Cu}function On(e,t){return"function"==typeof t?t(e):t}function Pn(e){var t=Mn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=Eu,o=i.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var u=s=a=null,l=o;do{var c=l.expirationTime;if(c<wu){var h={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,a=i):u=u.next=h,c>xu.expirationTime&&(xu.expirationTime=c,Jr(c))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),Zr(c,l.suspenseConfig),i=l.eagerReducer===e?l.eagerState:e(i,l.action);l=l.next}while(null!==l&&l!==o);null===u?a=i:u.next=s,us(i,t.memoizedState)||(Nu=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=u,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Dn(e){var t=Mn(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);us(a,t.memoizedState)||(Nu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Bn(e){var t=In();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:On,lastRenderedState:e},e=e.dispatch=Yn.bind(null,xu,e),[t.memoizedState,e]}function Ln(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xu.updateQueue,null===t?(t={lastEffect:null},xu.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,null===n?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Nn(){return Mn().memoizedState}function Rn(e,t,n,r){var i=In();xu.effectTag|=e,i.memoizedState=Ln(1|t,n,void 0,void 0===r?null:r)}function kn(e,t,n,r){var i=Mn();r=void 0===r?null:r;var o=void 0;if(null!==Eu){var a=Eu.memoizedState;if(o=a.destroy,null!==r&&Sn(r,a.deps))return void Ln(t,n,o,r)}xu.effectTag|=e,i.memoizedState=Ln(1|t,n,o,r)}function Fn(e,t){return Rn(516,4,e,t)}function Un(e,t){return kn(516,4,e,t)}function zn(e,t){return kn(4,2,e,t)}function jn(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Hn(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,kn(4,2,jn.bind(null,t,e),n)}function Vn(){}function Qn(e,t){return In().memoizedState=[e,void 0===t?null:t],e}function Gn(e,t){var n=Mn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sn(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wn(e,t){var n=Mn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sn(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qn(e,t,n){var r=Ht();Qt(98>r?98:r,function(){e(!0)}),Qt(97<r?97:r,function(){var r=bu.suspense;bu.suspense=void 0===t?null:t;try{e(!1),n()}finally{bu.suspense=r}})}function Yn(e,t,n){var r=kr(),i=lu.suspense;r=Fr(r,e,i),i={expirationTime:r,suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===xu||null!==o&&o===xu)Su=!0,i.expirationTime=wu,xu.expirationTime=wu;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,us(s,a))return}catch(e){}Ur(e,r)}}function Kn(e,t){var n=mi(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Xn(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Zn(e){if(Bu){var t=Du;if(t){var n=t;if(!Xn(e,t)){if(!(t=We(n.nextSibling))||!Xn(e,t))return e.effectTag=-1025&e.effectTag|2,Bu=!1,void(Pu=e);Kn(Pu,n)}Pu=e,Du=We(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Bu=!1,Pu=e}}function Jn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Pu=e}function $n(e){if(e!==Pu)return!1;if(!Bu)return Jn(e),Bu=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ge(t,e.memoizedProps))for(t=Du;t;)Kn(e,t),t=We(t.nextSibling);if(Jn(e),13===e.tag){if(e=e.memoizedState,!(e=null!==e?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===ya){if(0===t){Du=We(e.nextSibling);break e}t--}else n!==Aa&&n!==wa&&n!==ba||t++}e=e.nextSibling}Du=null}}else Du=Pu?We(e.stateNode.nextSibling):null;return!0}function er(){Du=Pu=null,Bu=!1}function tr(e,t,n,r){t.child=null===e?pu(t,null,n,r):fu(t,e.child,n,r)}function nr(e,t,n,r,i){n=n.render;var o=t.ref;return en(t,i),r=Tn(e,t,n,r,o,i),null===e||Nu?(t.effectTag|=1,tr(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),pr(e,t,i))}function rr(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||gi(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=Ai(n.type,null,r,null,t.mode,o),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ir(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,n=n.compare,(n=null!==n?n:Ot)(i,r)&&e.ref===t.ref)?pr(e,t,o):(t.effectTag|=1,e=vi(a,r),e.ref=t.ref,e.return=t,t.child=e)}function ir(e,t,n,r,i,o){return null!==e&&Ot(e.memoizedProps,r)&&e.ref===t.ref&&(Nu=!1,i<o)?(t.expirationTime=e.expirationTime,pr(e,t,o)):ar(e,t,n,r,o)}function or(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ar(e,t,n,r,i){var o=Rt(n)?Fs:Rs.current;return o=Nt(t,o),en(t,i),n=Tn(e,t,n,r,o,i),null===e||Nu?(t.effectTag|=1,tr(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),pr(e,t,i))}function sr(e,t,n,r,i){if(Rt(n)){var o=!0;zt(t)}else o=!1;if(en(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),dn(t,n,r),pn(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"==typeof l&&null!==l?l=tn(l):(l=Rt(n)?Fs:Rs.current,l=Nt(t,l));var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&fn(t,a,r,l),uu=!1;var d=t.memoizedState;a.state=d,un(t,r,a,i),u=t.memoizedState,s!==r||d!==u||ks.current||uu?("function"==typeof c&&(cn(t,n,c,r),u=t.memoizedState),(s=uu||hn(t,n,s,r,d,u,l))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,rn(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Xt(t.type,s),u=a.context,l=n.contextType,"object"==typeof l&&null!==l?l=tn(l):(l=Rt(n)?Fs:Rs.current,l=Nt(t,l)),c=n.getDerivedStateFromProps,(h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&fn(t,a,r,l),uu=!1,u=t.memoizedState,a.state=u,un(t,r,a,i),d=t.memoizedState,s!==r||u!==d||ks.current||uu?("function"==typeof c&&(cn(t,n,c,r),d=t.memoizedState),(c=uu||hn(t,n,s,r,u,d,l))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ur(e,t,n,r,o,i)}function ur(e,t,n,r,i,o){or(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&jt(t,n,!1),pr(e,t,o);r=t.stateNode,Lu.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=fu(t,e.child,null,o),t.child=fu(t,null,s,o)):tr(e,t,s,o),t.memoizedState=r.state,i&&jt(t,n,!0),t.child}function lr(e){var t=e.stateNode;t.pendingContext?Ft(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ft(e,t.context,!1),An(e,t.containerInfo)}function cr(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Au.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),Lt(Au,1&a),null===e){if(void 0!==o.fallback&&Zn(t),s){if(s=o.fallback,o=yi(null,i,0,null),o.return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return n=yi(s,i,n,null),n.return=t,o.sibling=n,t.memoizedState=Ru,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=pu(t,null,i,n)}if(null!==e.memoizedState){if(e=e.child,i=e.sibling,s){if(o=o.fallback,n=vi(e,e.pendingProps),n.return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return i=vi(i,o),i.return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Ru,t.child=n,i}return n=fu(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,o=yi(null,i,0,null),o.return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return n=yi(s,i,n,null),n.return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ru,t.child=o,n}return t.memoizedState=null,t.child=fu(t,e,o.children,n)}function hr(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),$t(e.return,t)}function dr(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function fr(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(tr(e,t,r.children,n),0!=(2&(r=Au.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&hr(e,n);else if(19===e.tag)hr(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Lt(Au,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)e=n.alternate,null!==e&&null===xn(e)&&(i=n),n=n.sibling;n=i,null===n?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),dr(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===xn(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}dr(t,!0,n,null,o,t.lastEffect);break;case"together":dr(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function pr(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&Jr(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(e=t.child,n=vi(e,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=vi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mr(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gr(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Rt(t.type)&&kt(),null;case 3:return yn(),Bt(ks),Bt(Rs),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!$n(t)||(t.effectTag|=4),Os(t),null;case 5:wn(t),n=vn(vu.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ps(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(r(166));return null}if(e=vn(gu.current),$n(t)){i=t.stateNode,o=t.type;var a=t.memoizedProps;switch(i[Ia]=t,i[Ma]=a,o){case"iframe":case"object":case"embed":Se("load",i);break;case"video":case"audio":for(e=0;e<Wo.length;e++)Se(Wo[e],i);break;case"source":Se("error",i);break;case"img":case"image":case"link":Se("error",i),Se("load",i);break;case"form":Se("reset",i),Se("submit",i);break;case"details":Se("toggle",i);break;case"input":N(i,a),Se("invalid",i),Re(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Se("invalid",i),Re(n,"onChange");break;case"textarea":Q(i,a),Se("invalid",i),Re(n,"onChange")}Le(o,a),e=null;for(var s in a)if(a.hasOwnProperty(s)){var u=a[s];"children"===s?"string"==typeof u?i.textContent!==u&&(e=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(e=["children",""+u]):$i.hasOwnProperty(s)&&null!=u&&Re(n,s)}switch(o){case"input":D(i),F(i,a,!0);break;case"textarea":D(i),W(i);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(i.onclick=ke)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===va&&(e=q(o)),e===va?"script"===o?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=s.createElement(o,{is:i.is}):(e=s.createElement(o),"select"===o&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,o),e[Ia]=t,e[Ma]=i,Ms(e,t,!1,!1),t.stateNode=e,s=Ne(o,i),o){case"iframe":case"object":case"embed":Se("load",e),u=i;break;case"video":case"audio":for(u=0;u<Wo.length;u++)Se(Wo[u],e);u=i;break;case"source":Se("error",e),u=i;break;case"img":case"image":case"link":Se("error",e),Se("load",e),u=i;break;case"form":Se("reset",e),Se("submit",e),u=i;break;case"details":Se("toggle",e),u=i;break;case"input":N(e,i),u=L(e,i),Se("invalid",e),Re(n,"onChange");break;case"option":u=j(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=Ui({},i,{value:void 0}),Se("invalid",e),Re(n,"onChange");break;case"textarea":Q(e,i),u=V(e,i),Se("invalid",e),Re(n,"onChange");break;default:u=i}Le(o,u);var l=u;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?Be(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&No(e,c):"children"===a?"string"==typeof c?("textarea"!==o||""!==c)&&K(e,c):"number"==typeof c&&K(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&($i.hasOwnProperty(a)?null!=c&&Re(n,a):null!=c&&E(e,a,c,s))}switch(o){case"input":D(e),F(e,i,!1);break;case"textarea":D(e),W(e);break;case"option":null!=i.value&&e.setAttribute("value",""+M(i.value));break;case"select":e.multiple=!!i.multiple,n=i.value,null!=n?H(e,!!i.multiple,n,!1):null!=i.defaultValue&&H(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=ke)}Qe(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));n=vn(vu.current),vn(gu.current),$n(t)?(n=t.stateNode,i=t.memoizedProps,n[Ia]=t,n.nodeValue!==i&&(t.effectTag|=4)):(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i),n[Ia]=t,t.stateNode=n)}return null;case 13:return Bt(Au),(i=t.memoizedState,0!=(64&t.effectTag))?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&$n(t):(o=e.memoizedState,i=null!==o,n||null===o||null!==(o=e.child.sibling)&&(a=t.firstEffect,null!==a?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Au.current)?rl===qu&&(rl=Xu):(rl!==qu&&rl!==Xu||(rl=Zu),0!==ul&&null!==el&&(Ci(el,nl),Si(el,ul)))),(n||i)&&(t.effectTag|=4),null);case 4:return yn(),Os(t),null;case 10:return Jt(t),null;case 17:return Rt(t.type)&&kt(),null;case 19:if(Bt(Au),null===(i=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(a=i.rendering)){if(o)mr(i,!1);else if(rl!==qu||null!==e&&0!=(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=xn(a))){for(t.effectTag|=64,mr(i,!1),o=e.updateQueue,null!==o&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)o=i,a=n,o.effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,e=o.alternate,null===e?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),i=i.sibling;return Lt(Au,1&Au.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=xn(a))){if(t.effectTag|=64,o=!0,n=e.updateQueue,null!==n&&(t.updateQueue=n,t.effectTag|=4),mr(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return t=t.lastEffect=i.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*ru()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,mr(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,null!==n?n.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=ru()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=ru(),n.sibling=null,t=Au.current,Lt(Au,o?1&t|2:1&t),n):null}throw Error(r(156,t.tag))}function _r(e){switch(e.tag){case 1:Rt(e.type)&&kt();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(yn(),Bt(ks),Bt(Rs),0!=(64&(t=e.effectTag)))throw Error(r(285));return e.effectTag=-4097&t|64,e;case 5:return wn(e),null;case 13:return Bt(Au),t=e.effectTag,4096&t?(e.effectTag=-4097&t|64,e):null;case 19:return Bt(Au),null;case 4:return yn(),null;case 10:return Jt(e),null;default:return null}}function vr(e,t){return{value:e,source:t,stack:I(t)}}function Ar(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=I(n)),null!==n&&T(n.type),t=t.value,null!==e&&1===e.tag&&T(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function yr(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ci(e,t)}}function br(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ci(e,t)}else t.current=null}function wr(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Xt(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(r(163))}function xr(e,t){if(t=t.updateQueue,null!==(t=null!==t?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Er(e,t){if(t=t.updateQueue,null!==(t=null!==t?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Cr(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Er(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:Xt(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ln(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ln(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Qe(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&null!==(n=n.alternate)&&null!==(n=n.memoizedState)&&null!==(n=n.dehydrated)&&Ee(n));case 19:case 17:case 20:case 21:return}throw Error(r(163))}function Sr(e,t,n){switch("function"==typeof El&&El(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Qt(97<n?97:n,function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){ci(i,e)}}e=e.next}while(e!==r)})}break;case 1:br(t),n=t.stateNode,"function"==typeof n.componentWillUnmount&&yr(t,n);break;case 5:br(t);break;case 4:Dr(e,t,n)}}function Tr(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&Tr(t)}function Ir(e){return 5===e.tag||3===e.tag||4===e.tag}function Mr(e){e:{for(var t=e.return;null!==t;){if(Ir(t)){var n=t;break e}t=t.return}throw Error(r(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(r(161))}16&n.effectTag&&(K(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ir(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?Or(e,n,t):Pr(e,n,t)}function Or(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ke));else if(4!==r&&null!==(e=e.child))for(Or(e,t,n),e=e.sibling;null!==e;)Or(e,t,n),e=e.sibling}function Pr(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Pr(e,t,n),e=e.sibling;null!==e;)Pr(e,t,n),e=e.sibling}function Dr(e,t,n){for(var i,o,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(r(160));switch(i=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,l=a,c=n,h=l;;)if(Sr(u,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===l)break e;for(;null===h.sibling;){if(null===h.return||h.return===l)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}o?(u=i,l=a.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):i.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,o=!0,a.child.return=a,a=a.child;continue}}else if(Sr(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return,4===a.tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function Br(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void xr(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,o=null!==e?e.memoizedProps:i;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Ma]=i,"input"===e&&"radio"===i.type&&null!=i.name&&R(n,i),Ne(e,o),t=Ne(e,i),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?Be(n,u):"dangerouslySetInnerHTML"===s?No(n,u):"children"===s?K(n,u):E(n,s,u,t)}switch(e){case"input":k(n,i);break;case"textarea":G(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,e=i.value,null!=e?H(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?H(n,!!i.multiple,i.defaultValue,!0):H(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return t=t.stateNode,void(t.hydrate&&(t.hydrate=!1,Ee(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,cl=ru()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,i?(a=a.style,"function"==typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(a=e.stateNode,o=e.memoizedProps.style,o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,a.style.display=De("display",o));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){a=e.child.sibling,a.return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void Lr(t);case 19:return void Lr(t);case 17:return}throw Error(r(163))}function Lr(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Fu),t.forEach(function(t){var r=di.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function Nr(e,t,n){n=on(n,null),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fl||(fl=!0,pl=r),Ar(e,t)},n}function Rr(e,t,n){n=on(n,null),n.tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Ar(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ml?ml=new Set([this]):ml.add(this),Ar(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function kr(){return($u&(Gu|Wu))!==Vu?1073741821-(ru()/10|0):0!==wl?wl:wl=1073741821-(ru()/10|0)}function Fr(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=Ht();if(0==(4&t))return 99===i?1073741823:1073741822;if(($u&Gu)!==Vu)return nl;if(null!==n)e=Kt(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Kt(e,150,100);break;case 97:case 96:e=Kt(e,5e3,250);break;case 95:e=2;break;default:throw Error(r(326))}return null!==el&&e===nl&&--e,e}function Ur(e,t){if(50<yl)throw yl=0,bl=null,Error(r(185));if(null!==(e=zr(e,t))){var n=Ht();1073741823===t?($u&Qu)!==Vu&&($u&(Gu|Wu))===Vu?Qr(e):(Hr(e),$u===Vu&&qt()):Hr(e),(4&$u)===Vu||98!==n&&99!==n||(null===Al?Al=new Map([[e,t]]):(void 0===(n=Al.get(e))||n>t)&&Al.set(e,t))}}function zr(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(el===i&&(Jr(t),rl===Zu&&Ci(i,nl)),Si(i,t)),i}function jr(e){var t=e.lastExpiredTime;if(0!==t)return t;if(t=e.firstPendingTime,!Ei(e,t))return t;var n=e.lastPingedTime;return e=e.nextKnownPendingLevel,e=n>e?n:e,2>=e&&t!==e?0:e}function Hr(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wt(Qr.bind(null,e));else{var t=jr(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=kr();if(1073741823===t?r=99:1===t||2===t?r=95:(r=10*(1073741821-t)-10*(1073741821-r),r=0>=r?99:250>=r?98:5250>=r?97:95),null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Xs&&js(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Wt(Qr.bind(null,e)):Gt(r,Vr.bind(null,e),{timeout:10*(1073741821-t)-ru()}),e.callbackNode=t}}}function Vr(e,t){if(wl=0,t)return t=kr(),Ti(e,t),Hr(e),null;var n=jr(e);if(0!==n){if(t=e.callbackNode,($u&(Gu|Wu))!==Vu)throw Error(r(327));if(si(),e===el&&n===nl||Yr(e,n),null!==tl){var i=$u;$u|=Gu;for(var o=Xr();;)try{ei();break}catch(t){Kr(e,t)}if(Zt(),$u=i,ju.current=o,rl===Yu)throw t=il,Yr(e,n),Ci(e,n),Hr(e),t;if(null===tl)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=rl,el=null,i){case qu:case Yu:throw Error(r(345));case Ku:Ti(e,2<n?2:n);break;case Xu:if(Ci(e,n),i=e.lastSuspendedTime,n===i&&(e.nextKnownPendingLevel=ri(o)),1073741823===ol&&10<(o=cl+hl-ru())){if(ll){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,Yr(e,n);break}}if(0!==(a=jr(e))&&a!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=Ca(ii.bind(null,e),o);break}ii(e);break;case Zu:if(Ci(e,n),i=e.lastSuspendedTime,n===i&&(e.nextKnownPendingLevel=ri(o)),ll&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,Yr(e,n);break}if(0!==(o=jr(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==al?i=10*(1073741821-al)-ru():1073741823===ol?i=0:(i=10*(1073741821-ol)-5e3,o=ru(),n=10*(1073741821-n)-o,i=o-i,0>i&&(i=0),i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*zu(i/1960))-i,n<i&&(i=n)),10<i){e.timeoutHandle=Ca(ii.bind(null,e),i);break}ii(e);break;case Ju:if(1073741823!==ol&&null!==sl){a=ol;var s=sl;if(i=0|s.busyMinDurationMs,0>=i?i=0:(o=0|s.busyDelayMs,a=ru()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)),i=a<=o?0:o+i-a),10<i){Ci(e,n),e.timeoutHandle=Ca(ii.bind(null,e),i);break}}ii(e);break;default:throw Error(r(329))}if(Hr(e),e.callbackNode===t)return Vr.bind(null,e)}}return null}function Qr(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,($u&(Gu|Wu))!==Vu)throw Error(r(327));if(si(),e===el&&t===nl||Yr(e,t),null!==tl){var n=$u;$u|=Gu;for(var i=Xr();;)try{$r();break}catch(t){Kr(e,t)}if(Zt(),$u=n,ju.current=i,rl===Yu)throw n=il,Yr(e,t),Ci(e,t),Hr(e),n;if(null!==tl)throw Error(r(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,el=null,ii(e),Hr(e)}return null}function Gr(){if(null!==Al){var e=Al;Al=null,e.forEach(function(e,t){Ti(t,e),Hr(t)}),qt()}}function Wr(e,t){var n=$u;$u|=1;try{return e(t)}finally{($u=n)===Vu&&qt()}}function qr(e,t){var n=$u;$u&=-2,$u|=Qu;try{return e(t)}finally{($u=n)===Vu&&qt()}}function Yr(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Sa(n)),null!==tl)for(n=tl.return;null!==n;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&kt();break;case 3:yn(),Bt(ks),Bt(Rs);break;case 5:wn(r);break;case 4:yn();break;case 13:case 19:Bt(Au);break;case 10:Jt(r)}n=n.return}el=e,tl=vi(e.current,null),nl=t,rl=qu,il=null,al=ol=1073741823,sl=null,ul=0,ll=!1}function Kr(e,t){for(;;){try{if(Zt(),yu.current=Tu,Su)for(var n=xu.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(wu=0,Cu=Eu=xu=null,Su=!1,null===tl||null===tl.return)return rl=Yu,il=t,tl=null;e:{var i=e,o=tl.return,a=tl,s=t;if(t=nl,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.expirationTime=l.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Au.current),h=o;do{var d;if(d=13===h.tag){var f=h.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var p=h.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(u),h.updateQueue=g}else m.add(u);if(0==(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var _=on(1073741823,null);_.tag=2,an(a,_)}a.expirationTime=1073741823;break e}s=void 0,a=t;var v=i.pingCache;if(null===v?(v=i.pingCache=new Uu,s=new Set,v.set(u,s)):void 0===(s=v.get(u))&&(s=new Set,v.set(u,s)),!s.has(a)){s.add(a);var A=hi.bind(null,i,u,a);u.then(A,A)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((T(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+I(a))}rl!==Ju&&(rl=Ku),s=vr(s,a),h=o;do{switch(h.tag){case 3:u=s,h.effectTag|=4096,h.expirationTime=t;sn(h,Nr(h,u,t));break e;case 1:u=s;var y=h.type,b=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===ml||!ml.has(b)))){h.effectTag|=4096,h.expirationTime=t;sn(h,Rr(h,u,t));break e}}h=h.return}while(null!==h)}tl=ni(tl)}catch(e){t=e;continue}break}}function Xr(){var e=ju.current;return ju.current=Tu,null===e?Tu:e}function Zr(e,t){e<ol&&2<e&&(ol=e),null!==t&&e<al&&2<e&&(al=e,sl=t)}function Jr(e){e>ul&&(ul=e)}function $r(){for(;null!==tl;)tl=ti(tl)}function ei(){for(;null!==tl&&!Zs();)tl=ti(tl)}function ti(e){var t=ku(e.alternate,e,nl);return e.memoizedProps=e.pendingProps,null===t&&(t=ni(e)),Hu.current=null,t}function ni(e){tl=e;do{var t=tl.alternate;if(e=tl.return,0==(2048&tl.effectTag)){if(t=gr(t,tl,nl),1===nl||1!==tl.childExpirationTime){for(var n=0,r=tl.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}tl.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=tl.firstEffect),null!==tl.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=tl.firstEffect),e.lastEffect=tl.lastEffect),1<tl.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=tl:e.firstEffect=tl,e.lastEffect=tl))}else{if(null!==(t=_r(tl)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=tl.sibling))return t;tl=e}while(null!==tl);return rl===qu&&(rl=Ju),null}function ri(e){var t=e.expirationTime;return e=e.childExpirationTime,t>e?t:e}function ii(e){var t=Ht();return Qt(99,oi.bind(null,e,t)),null}function oi(e,t){do{si()}while(null!==_l);if(($u&(Gu|Wu))!==Vu)throw Error(r(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=ri(n);if(e.firstPendingTime=o,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===el&&(tl=el=null,nl=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var a=$u;$u|=Wu,Hu.current=null,xa=pa;var s=He();if(Ve(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var l=u.getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{u.nodeType,h.nodeType}catch(e){u=null;break e}var d=0,f=-1,p=-1,m=0,g=0,_=s,v=null;t:for(;;){for(var A;_!==u||0!==c&&3!==_.nodeType||(f=d+c),_!==h||0!==l&&3!==_.nodeType||(p=d+l),3===_.nodeType&&(d+=_.nodeValue.length),null!==(A=_.firstChild);)v=_,_=A;for(;;){if(_===s)break t;if(v===u&&++m===c&&(f=d),v===h&&++g===l&&(p=d),null!==(A=_.nextSibling))break;_=v,v=_.parentNode}_=A}u=-1===f||-1===p?null:{start:f,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;Ea={activeElementDetached:null,focusedElem:s,selectionRange:u},pa=!1,dl=o;do{try{ai()}catch(e){if(null===dl)throw Error(r(330));ci(dl,e),dl=dl.nextEffect}}while(null!==dl);dl=o;do{try{for(s=e,u=t;null!==dl;){var y=dl.effectTag;if(16&y&&K(dl.stateNode,""),128&y){var b=dl.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&y){case 2:Mr(dl),dl.effectTag&=-3;break;case 6:Mr(dl),dl.effectTag&=-3,Br(dl.alternate,dl);break;case 1024:dl.effectTag&=-1025;break;case 1028:dl.effectTag&=-1025,Br(dl.alternate,dl);break;case 4:Br(dl.alternate,dl);break;case 8:c=dl,Dr(s,c,u),Tr(c)}dl=dl.nextEffect}}catch(e){if(null===dl)throw Error(r(330));ci(dl,e),dl=dl.nextEffect}}while(null!==dl);if(w=Ea,b=He(),y=w.focusedElem,u=w.selectionRange,b!==y&&y&&y.ownerDocument&&je(y.ownerDocument.documentElement,y)){null!==u&&Ve(y)&&(b=u.start,w=u.end,void 0===w&&(w=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(w,y.value.length)):(w=(b=y.ownerDocument||document)&&b.defaultView||window,w.getSelection&&(w=w.getSelection(),c=y.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!w.extend&&s>u&&(c=u,u=s,s=c),c=ze(y,s),h=ze(y,u),c&&h&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&(b=b.createRange(),b.setStart(c.node,c.offset),w.removeAllRanges(),s>u?(w.addRange(b),w.extend(h.node,h.offset)):(b.setEnd(h.node,h.offset),w.addRange(b)))))),b=[];for(w=y;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)w=b[y],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}pa=!!xa,Ea=xa=null,e.current=n,dl=o;do{try{for(y=e;null!==dl;){var x=dl.effectTag;if(36&x&&Cr(y,dl.alternate,dl),128&x){b=void 0;var E=dl.ref;if(null!==E){var C=dl.stateNode;switch(dl.tag){case 5:b=C;break;default:b=C}"function"==typeof E?E(b):E.current=b}}dl=dl.nextEffect}}catch(e){if(null===dl)throw Error(r(330));ci(dl,e),dl=dl.nextEffect}}while(null!==dl);dl=null,Js(),$u=a}else e.current=n;if(gl)gl=!1,_l=e,vl=t;else for(dl=o;null!==dl;)t=dl.nextEffect,dl.nextEffect=null,dl=t;if(t=e.firstPendingTime,0===t&&(ml=null),1073741823===t?e===bl?yl++:(yl=0,bl=e):yl=0,"function"==typeof xl&&xl(n.stateNode,i),Hr(e),fl)throw fl=!1,e=pl,pl=null,e;return($u&Qu)!==Vu?null:(qt(),null)}function ai(){for(;null!==dl;){var e=dl.effectTag;0!=(256&e)&&wr(dl.alternate,dl),0==(512&e)||gl||(gl=!0,Gt(97,function(){return si(),null})),dl=dl.nextEffect}}function si(){if(90!==vl){var e=97<vl?97:vl;return vl=90,Qt(e,ui)}}function ui(){if(null===_l)return!1;var e=_l;if(_l=null,($u&(Gu|Wu))!==Vu)throw Error(r(331));var t=$u;for($u|=Wu,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:xr(5,n),Er(5,n)}}catch(t){if(null===e)throw Error(r(330));ci(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return $u=t,qt(),!0}function li(e,t,n){t=vr(n,t),t=Nr(e,t,1073741823),an(e,t),null!==(e=zr(e,1073741823))&&Hr(e)}function ci(e,t){if(3===e.tag)li(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){li(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ml||!ml.has(r))){e=vr(t,e),e=Rr(n,e,1073741823),an(n,e),n=zr(n,1073741823),null!==n&&Hr(n);break}}n=n.return}}function hi(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),el===e&&nl===n?rl===Zu||rl===Xu&&1073741823===ol&&ru()-cl<hl?Yr(e,nl):ll=!0:Ei(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Hr(e)))}function di(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=0,0===t&&(t=kr(),t=Fr(t,e,null)),null!==(e=zr(e,t))&&Hr(e)}function fi(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);xl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},El=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}function pi(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function mi(e,t,n,r){return new pi(e,t,n,r)}function gi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _i(e){if("function"==typeof e)return gi(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===To)return 11;if(e===Oo)return 14}return 2}function vi(e,t){var n=e.alternate;return null===n?(n=mi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ai(e,t,n,i,o,a){var s=2;if(i=e,"function"==typeof e)gi(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case bo:return yi(n.children,o,a,t);case So:s=8,o|=7;break;case wo:s=8,o|=1;break;case xo:return e=mi(12,n,t,8|o),e.elementType=xo,e.type=xo,e.expirationTime=a,e;case Io:return e=mi(13,n,t,o),e.type=Io,e.elementType=Io,e.expirationTime=a,e;case Mo:return e=mi(19,n,t,o),e.elementType=Mo,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Eo:s=10;break e;case Co:s=9;break e;case To:s=11;break e;case Oo:s=14;break e;case Po:s=16,i=null;break e;case Do:s=22;break e}throw Error(r(130,null==e?e:typeof e,""))}return t=mi(s,n,t,o),t.elementType=e,t.type=i,t.expirationTime=a,t}function yi(e,t,n,r){return e=mi(7,e,r,t),e.expirationTime=n,e}function bi(e,t,n){return e=mi(6,e,null,t),e.expirationTime=n,e}function wi(e,t,n){return t=mi(4,null!==e.children?e.children:[],e.key,t),t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xi(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ei(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ci(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Si(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ti(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Ii(e,t,n,i){var o=t.current,a=kr(),s=lu.suspense;a=Fr(a,o,s);e:if(n){n=n._reactInternalFiber;t:{if($(n)!==n||1!==n.tag)throw Error(r(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Rt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(r(171))}if(1===n.tag){var l=n.type;if(Rt(l)){n=Ut(n,l,u);break e}}n=u}else n=Ns;return null===t.context?t.context=n:t.pendingContext=n,t=on(a,s),t.payload={element:e},i=void 0===i?null:i,null!==i&&(t.callback=i),an(o,t),Ur(o,a),a}function Mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Oi(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Pi(e,t){Oi(e,t),(e=e.alternate)&&Oi(e,t)}function Di(e,t,n){n=null!=n&&!0===n.hydrate;var r=new xi(e,t,n),i=mi(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,nn(i),e[Oa]=r.current,n&&0!==t&&pe(e,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Bi(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Li(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Di(e,0,t?{hydrate:!0}:void 0)}function Ni(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Mi(a);s.call(e)}}Ii(t,a,e,i)}else{if(o=n._reactRootContainer=Li(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Mi(a);u.call(e)}}qr(function(){Ii(t,a,e,i)})}return Mi(a)}function Ri(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:yo,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ki(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bi(t))throw Error(r(200));return Ri(e,t,null,n)}/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Fi=n(4),Ui=n(193),zi=n(1608);if(!Fi)throw Error(r(227));var ji=!1,Hi=null,Vi=!1,Qi=null,Gi={onError:function(e){ji=!0,Hi=e}},Wi=null,qi=null,Yi=null,Ki=null,Xi={},Zi=[],Ji={},$i={},eo={},to=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),no=null,ro=null,io=null,oo=p,ao=!1,so=!1,uo=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lo=Object.prototype.hasOwnProperty,co={},ho={},fo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fo[e]=new w(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fo[t]=new w(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){fo[e]=new w(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fo[e]=new w(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fo[e]=new w(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){fo[e]=new w(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){fo[e]=new w(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){fo[e]=new w(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){fo[e]=new w(e,5,!1,e.toLowerCase(),null,!1)});var po=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(po,x);fo[t]=new w(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(po,x);fo[t]=new w(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(po,x);fo[t]=new w(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){fo[e]=new w(e,1,!1,e.toLowerCase(),null,!1)}),fo.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){fo[e]=new w(e,1,!1,e.toLowerCase(),null,!0)});var mo=Fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;mo.hasOwnProperty("ReactCurrentDispatcher")||(mo.ReactCurrentDispatcher={current:null}),mo.hasOwnProperty("ReactCurrentBatchConfig")||(mo.ReactCurrentBatchConfig={suspense:null});var go,_o=/^(.*)[\\\/]/,vo="function"==typeof Symbol&&Symbol.for,Ao=vo?Symbol.for("react.element"):60103,yo=vo?Symbol.for("react.portal"):60106,bo=vo?Symbol.for("react.fragment"):60107,wo=vo?Symbol.for("react.strict_mode"):60108,xo=vo?Symbol.for("react.profiler"):60114,Eo=vo?Symbol.for("react.provider"):60109,Co=vo?Symbol.for("react.context"):60110,So=vo?Symbol.for("react.concurrent_mode"):60111,To=vo?Symbol.for("react.forward_ref"):60112,Io=vo?Symbol.for("react.suspense"):60113,Mo=vo?Symbol.for("react.suspense_list"):60120,Oo=vo?Symbol.for("react.memo"):60115,Po=vo?Symbol.for("react.lazy"):60116,Do=vo?Symbol.for("react.block"):60121,Bo="function"==typeof Symbol&&Symbol.iterator,Lo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},No=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Lo.svg||"innerHTML"in e)e.innerHTML=t;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Ro={animationend:X("Animation","AnimationEnd"),animationiteration:X("Animation","AnimationIteration"),animationstart:X("Animation","AnimationStart"),transitionend:X("Transition","TransitionEnd")},ko={},Fo={};to&&(Fo=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);var Uo,zo,jo,Ho=Z("animationend"),Vo=Z("animationiteration"),Qo=Z("animationstart"),Go=Z("transitionend"),Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qo=new("function"==typeof WeakMap?WeakMap:Map),Yo=null,Ko=[],Xo=!1,Zo=[],Jo=null,$o=null,ea=null,ta=new Map,na=new Map,ra=[],ia="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),oa="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),aa={},sa=new Map,ua=new Map,la=["abort","abort",Ho,"animationEnd",Vo,"animationIteration",Qo,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Go,"transitionEnd","waiting","waiting"];Ce("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ce("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ce(la,2);for(var ca="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ha=0;ha<ca.length;ha++)ua.set(ca[ha],0);var da=zi.unstable_UserBlockingPriority,fa=zi.unstable_runWithPriority,pa=!0,ma={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ga=["Webkit","ms","Moz","O"];Object.keys(ma).forEach(function(e){ga.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ma[t]=ma[e]})});var _a=Ui({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),va=Lo.html,Aa="$",ya="/$",ba="$?",wa="$!",xa=null,Ea=null,Ca="function"==typeof setTimeout?setTimeout:void 0,Sa="function"==typeof clearTimeout?clearTimeout:void 0,Ta=Math.random().toString(36).slice(2),Ia="__reactInternalInstance$"+Ta,Ma="__reactEventHandlers$"+Ta,Oa="__reactContainere$"+Ta,Pa=null,Da=null,Ba=null;Ui(ut.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=at)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=at)},persist:function(){this.isPersistent=at},isPersistent:st,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=st,this._dispatchInstances=this._dispatchListeners=null}}),ut.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ut.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return Ui(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=Ui({},r.Interface,e),n.extend=r.extend,ht(n),n},ht(ut);var La=ut.extend({data:null}),Na=ut.extend({data:null}),Ra=[9,13,27,32],ka=to&&"CompositionEvent"in window,Fa=null;to&&"documentMode"in document&&(Fa=document.documentMode);var Ua=to&&"TextEvent"in window&&!Fa,za=to&&(!ka||Fa&&8<Fa&&11>=Fa),ja=String.fromCharCode(32),Ha={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Va=!1,Qa=!1,Ga={eventTypes:Ha,extractEvents:function(e,t,n,r){var i;if(ka)e:{switch(e){case"compositionstart":var o=Ha.compositionStart;break e;case"compositionend":o=Ha.compositionEnd;break e;case"compositionupdate":o=Ha.compositionUpdate;break e}o=void 0}else Qa?dt(e,n)&&(o=Ha.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Ha.compositionStart);return o?(za&&"ko"!==n.locale&&(Qa||o!==Ha.compositionStart?o===Ha.compositionEnd&&Qa&&(i=ot()):(Pa=r,Da="value"in Pa?Pa.value:Pa.textContent,Qa=!0)),o=La.getPooled(o,t,n,r),i?o.data=i:null!==(i=ft(n))&&(o.data=i),it(o),i=o):i=null,(e=Ua?pt(e,n):mt(e,n))?(t=Na.getPooled(Ha.beforeInput,t,n,r),t.data=e,it(t)):t=null,null===i?t:null===t?i:[i,t]}},Wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},qa={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Ya=null,Ka=null,Xa=!1;to&&(Xa=le("input")&&(!document.documentMode||9<document.documentMode));var Za={eventTypes:qa,_isInputEventSupported:Xa,extractEvents:function(e,t,n,r){var i=t?Xe(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=yt;else if(gt(i))if(Xa)a=St;else{a=Et;var s=xt}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Ct);if(a&&(a=a(e,t)))return _t(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&U(i,"number",i.value)}},Ja=ut.extend({view:null,detail:null}),$a={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},es=0,ts=0,ns=!1,rs=!1,is=Ja.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:It,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=es;return es=e.screenX,ns?"mousemove"===e.type?e.screenX-t:0:(ns=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=ts;return ts=e.screenY,rs?"mousemove"===e.type?e.screenY-t:0:(rs=!0,0)}}),os=is.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),as={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},ss={eventTypes:as,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a){if(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Ye(t):null)){var s=$(t);(t!==s||5!==t.tag&&6!==t.tag)&&(t=null)}}else a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var u=is,l=as.mouseLeave,c=as.mouseEnter,h="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=os,l=as.pointerLeave,c=as.pointerEnter,h="pointer");if(e=null==a?o:Xe(a),o=null==t?o:Xe(t),l=u.getPooled(l,a,n,r),l.type=h+"leave",l.target=e,l.relatedTarget=o,n=u.getPooled(c,t,n,r),n.type=h+"enter",n.target=o,n.relatedTarget=e,r=a,h=t,r&&h)e:{for(u=r,c=h,a=0,e=u;e;e=Je(e))a++;for(e=0,t=c;t;t=Je(t))e++;for(;0<a-e;)u=Je(u),a--;for(;0<e-a;)c=Je(c),e--;for(;a--;){if(u===c||u===c.alternate)break e;u=Je(u),c=Je(c)}u=null}else u=null;for(c=u,u=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)u.push(r),r=Je(r);for(r=[];h&&h!==c&&(null===(a=h.alternate)||a!==c);)r.push(h),h=Je(h);for(h=0;h<u.length;h++)nt(u[h],"bubbled",l);for(h=r.length;0<h--;)nt(r[h],"captured",n);return 0==(64&i)?[l]:[l,n]}},us="function"==typeof Object.is?Object.is:Mt,ls=Object.prototype.hasOwnProperty,cs=to&&"documentMode"in document&&11>=document.documentMode,hs={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ds=null,fs=null,ps=null,ms=!1,gs={eventTypes:hs,extractEvents:function(e,t,n,r,i,o){if(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument),!(o=!i)){e:{i=J(i),o=eo.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Xe(t):window,e){case"focus":(gt(i)||"true"===i.contentEditable)&&(ds=i,fs=t,ps=null);break;case"blur":ps=fs=ds=null;break;case"mousedown":ms=!0;break;case"contextmenu":case"mouseup":case"dragend":return ms=!1,Pt(n,r);case"selectionchange":if(cs)break;case"keydown":case"keyup":return Pt(n,r)}return null}},_s=ut.extend({animationName:null,elapsedTime:null,pseudoElement:null}),vs=ut.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),As=Ja.extend({relatedTarget:null}),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ws=Ja.extend({key:function(e){if(e.key){var t=ys[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=Dt(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?bs[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:It,charCode:function(e){return"keypress"===e.type?Dt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Dt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xs=is.extend({dataTransfer:null}),Es=Ja.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:It}),Cs=ut.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ss=is.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Ts={eventTypes:aa,extractEvents:function(e,t,n,r){var i=sa.get(e);if(!i)return null;switch(e){case"keypress":if(0===Dt(n))return null;case"keydown":case"keyup":e=ws;break;case"blur":case"focus":e=As;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=xs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Es;break;case Ho:case Vo:case Qo:e=_s;break;case Go:e=Cs;break;case"scroll":e=Ja;break;case"wheel":e=Ss;break;case"copy":case"cut":case"paste":e=vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=os;break;default:e=ut}return t=e.getPooled(i,t,n,r),it(t),t}};if(Ki)throw Error(r(101));Ki=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),u();var Is=Ke;Wi=Ze,qi=Is,Yi=Xe,c({SimpleEventPlugin:Ts,EnterLeaveEventPlugin:ss,ChangeEventPlugin:Za,SelectEventPlugin:gs,BeforeInputEventPlugin:Ga});var Ms,Os,Ps,Ds,Bs=[],Ls=-1,Ns={},Rs={current:Ns},ks={current:!1},Fs=Ns,Us=zi.unstable_runWithPriority,zs=zi.unstable_scheduleCallback,js=zi.unstable_cancelCallback,Hs=zi.unstable_requestPaint,Vs=zi.unstable_now,Qs=zi.unstable_getCurrentPriorityLevel,Gs=zi.unstable_ImmediatePriority,Ws=zi.unstable_UserBlockingPriority,qs=zi.unstable_NormalPriority,Ys=zi.unstable_LowPriority,Ks=zi.unstable_IdlePriority,Xs={},Zs=zi.unstable_shouldYield,Js=void 0!==Hs?Hs:function(){},$s=null,eu=null,tu=!1,nu=Vs(),ru=1e4>nu?Vs:function(){return Vs()-nu},iu={current:null},ou=null,au=null,su=null,uu=!1,lu=mo.ReactCurrentBatchConfig,cu=(new Fi.Component).refs,hu={isMounted:function(e){return!!(e=e._reactInternalFiber)&&$(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=kr(),i=lu.suspense;r=Fr(r,e,i),i=on(r,i),i.payload=t,void 0!==n&&null!==n&&(i.callback=n),an(e,i),Ur(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=kr(),i=lu.suspense;r=Fr(r,e,i),i=on(r,i),i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),an(e,i),Ur(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=kr(),r=lu.suspense;n=Fr(n,e,r),r=on(n,r),r.tag=2,void 0!==t&&null!==t&&(r.callback=t),an(e,r),Ur(e,n)}},du=Array.isArray,fu=_n(!0),pu=_n(!1),mu={},gu={current:mu},_u={current:mu},vu={current:mu},Au={current:0},yu=mo.ReactCurrentDispatcher,bu=mo.ReactCurrentBatchConfig,wu=0,xu=null,Eu=null,Cu=null,Su=!1,Tu={readContext:tn,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useResponder:Cn,useDeferredValue:Cn,useTransition:Cn},Iu={readContext:tn,useCallback:Qn,useContext:tn,useEffect:Fn,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rn(4,2,jn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rn(4,2,e,t)},useMemo:function(e,t){var n=In();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=In();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Yn.bind(null,xu,e),[r.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:Bn,useDebugValue:Vn,useResponder:En,useDeferredValue:function(e,t){var n=Bn(e),r=n[0],i=n[1];return Fn(function(){var n=bu.suspense;bu.suspense=void 0===t?null:t;try{i(e)}finally{bu.suspense=n}},[e,t]),r},useTransition:function(e){var t=Bn(!1),n=t[0];return t=t[1],[Qn(qn.bind(null,t,e),[t,e]),n]}},Mu={readContext:tn,useCallback:Gn,useContext:tn,useEffect:Un,useImperativeHandle:Hn,useLayoutEffect:zn,useMemo:Wn,useReducer:Pn,useRef:Nn,useState:function(){return Pn(On)},useDebugValue:Vn,useResponder:En,useDeferredValue:function(e,t){var n=Pn(On),r=n[0],i=n[1];return Un(function(){var n=bu.suspense;bu.suspense=void 0===t?null:t;try{i(e)}finally{bu.suspense=n}},[e,t]),r},useTransition:function(e){var t=Pn(On),n=t[0];return t=t[1],[Gn(qn.bind(null,t,e),[t,e]),n]}},Ou={readContext:tn,useCallback:Gn,useContext:tn,useEffect:Un,useImperativeHandle:Hn,useLayoutEffect:zn,useMemo:Wn,useReducer:Dn,useRef:Nn,useState:function(){return Dn(On)},useDebugValue:Vn,useResponder:En,useDeferredValue:function(e,t){var n=Dn(On),r=n[0],i=n[1];return Un(function(){var n=bu.suspense;bu.suspense=void 0===t?null:t;try{i(e)}finally{bu.suspense=n}},[e,t]),r},useTransition:function(e){var t=Dn(On),n=t[0];return t=t[1],[Gn(qn.bind(null,t,e),[t,e]),n]}},Pu=null,Du=null,Bu=!1,Lu=mo.ReactCurrentOwner,Nu=!1,Ru={dehydrated:null,retryTime:0};Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ps=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var a=t.stateNode;switch(vn(gu.current),e=null,n){case"input":o=L(a,o),r=L(a,r),e=[];break;case"option":o=j(a,o),r=j(a,r),e=[];break;case"select":o=Ui({},o,{value:void 0}),r=Ui({},r,{value:void 0}),e=[];break;case"textarea":o=V(a,o),r=V(a,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(a.onclick=ke)}Le(n,r);var s,u;n=null;for(s in o)if(!r.hasOwnProperty(s)&&o.hasOwnProperty(s)&&null!=o[s])if("style"===s)for(u in a=o[s])a.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&($i.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(a=null!=o?o[s]:void 0,r.hasOwnProperty(s)&&l!==a&&(null!=l||null!=a))if("style"===s)if(a){for(u in a)!a.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&a[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(e=e||[]).push(s,l)):"children"===s?a===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&($i.hasOwnProperty(s)?(null!=l&&Re(i,s),e||a===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Ds=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ku,Fu="function"==typeof WeakSet?WeakSet:Set,Uu="function"==typeof WeakMap?WeakMap:Map,zu=Math.ceil,ju=mo.ReactCurrentDispatcher,Hu=mo.ReactCurrentOwner,Vu=0,Qu=8,Gu=16,Wu=32,qu=0,Yu=1,Ku=2,Xu=3,Zu=4,Ju=5,$u=Vu,el=null,tl=null,nl=0,rl=qu,il=null,ol=1073741823,al=1073741823,sl=null,ul=0,ll=!1,cl=0,hl=500,dl=null,fl=!1,pl=null,ml=null,gl=!1,_l=null,vl=90,Al=null,yl=0,bl=null,wl=0;ku=function(e,t,n){var i=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||ks.current)Nu=!0;else{if(i<n){switch(Nu=!1,t.tag){case 3:lr(t),er();break;case 5:if(bn(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Rt(t.type)&&zt(t);break;case 4:An(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,o=t.type._context,Lt(iu,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?cr(e,t,n):(Lt(Au,1&Au.current),t=pr(e,t,n),null!==t?t.sibling:null);Lt(Au,1&Au.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return fr(e,t,n);t.effectTag|=64}if(o=t.memoizedState,null!==o&&(o.rendering=null,o.tail=null),Lt(Au,Au.current),!i)return null}return pr(e,t,n)}Nu=!1}}else Nu=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=Nt(t,Rs.current),en(t,n),o=Tn(null,t,i,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(i)){var a=!0;zt(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,nn(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&cn(t,i,s,e),o.updater=hu,t.stateNode=o,o._reactInternalFiber=t,pn(t,i,e,n),t=ur(null,t,i,!0,a,n)}else t.tag=0,tr(null,t,o,n),t=t.child;return t;case 16:e:{if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,S(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,a=t.tag=_i(o),e=Xt(o,e),a){case 0:t=ar(null,t,o,e,n);break e;case 1:t=sr(null,t,o,e,n);break e;case 11:t=nr(null,t,o,e,n);break e;case 14:t=rr(null,t,o,Xt(o.type,e),i,n);break e}throw Error(r(306,o,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Xt(i,o),ar(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Xt(i,o),sr(e,t,i,o,n);case 3:if(lr(t),i=t.updateQueue,null===e||null===i)throw Error(r(282));if(i=t.pendingProps,o=t.memoizedState,o=null!==o?o.element:null,rn(e,t),un(t,i,null,n),(i=t.memoizedState.element)===o)er(),t=pr(e,t,n);else{if((o=t.stateNode.hydrate)&&(Du=We(t.stateNode.containerInfo.firstChild),Pu=t,o=Bu=!0),o)for(n=pu(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else tr(e,t,i,n),er();t=t.child}return t;case 5:return bn(t),null===e&&Zn(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,Ge(i,o)?s=null:null!==a&&Ge(i,a)&&(t.effectTag|=16),or(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(tr(e,t,s,n),t=t.child),t;case 6:return null===e&&Zn(t),null;case 13:return cr(e,t,n);case 4:return An(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=fu(t,null,i,n):tr(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Xt(i,o),nr(e,t,i,o,n);case 7:return tr(e,t,t.pendingProps,n),t.child;case 8:case 12:return tr(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var u=t.type._context;if(Lt(iu,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=us(u,a)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!ks.current){t=pr(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===i&&0!=(c.observedBits&a)){1===u.tag&&(c=on(n,null),c.tag=2,an(u,c)),u.expirationTime<n&&(u.expirationTime=n),c=u.alternate,null!==c&&c.expirationTime<n&&(c.expirationTime=n),$t(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}tr(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,a=t.pendingProps,i=a.children,en(t,n),o=tn(o,a.unstable_observedBits),i=i(o),t.effectTag|=1,tr(e,t,i,n),t.child;case 14:return o=t.type,a=Xt(o,t.pendingProps),a=Xt(o.type,a),rr(e,t,o,a,i,n);case 15:return ir(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Xt(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Rt(i)?(e=!0,zt(t)):e=!1,en(t,n),dn(t,i,o),pn(t,i,o,n),ur(null,t,i,!0,e,n);case 19:return fr(e,t,n)}throw Error(r(156,t.tag))};var xl=null,El=null;Di.prototype.render=function(e){Ii(e,this._internalRoot,null,null)},Di.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ii(null,e,null,function(){t[Oa]=null})},Uo=function(e){if(13===e.tag){var t=Kt(kr(),150,100);Ur(e,t),Pi(e,t)}},zo=function(e){13===e.tag&&(Ur(e,3),Pi(e,3))},jo=function(e){if(13===e.tag){var t=kr();t=Fr(t,e,null),Ur(e,t),Pi(e,t)}},no=function(e,t,n){switch(t){case"input":if(k(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=Ze(i);if(!o)throw Error(r(90));B(i),k(i,o)}}}break;case"textarea":G(e,n);break;case"select":null!=(t=n.value)&&H(e,!!n.multiple,t,!1)}},p=Wr,m=function(e,t,n,r,i){var o=$u;$u|=4;try{return Qt(98,e.bind(null,t,n,r,i))}finally{($u=o)===Vu&&qt()}},g=function(){($u&(1|Gu|Wu))===Vu&&(Gr(),si())},oo=function(e,t){var n=$u;$u|=2;try{return e(t)}finally{($u=n)===Vu&&qt()}};var Cl={Events:[Ke,Xe,Ze,c,Ji,it,function(e){oe(e,rt)},d,f,Oe,se,si,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;fi(Ui({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=re(e),null===e?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ye,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cl,t.createPortal=ki,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw Error(r(268,Object.keys(e)))}return e=re(t),e=null===e?null:e.stateNode},t.flushSync=function(e,t){if(($u&(Gu|Wu))!==Vu)throw Error(r(187));var n=$u;$u|=1;try{return Qt(99,e.bind(null,t))}finally{$u=n,qt()}},t.hydrate=function(e,t,n){if(!Bi(t))throw Error(r(200));return Ni(null,e,t,!0,n)},t.render=function(e,t,n){if(!Bi(t))throw Error(r(200));return Ni(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bi(e))throw Error(r(40));return!!e._reactRootContainer&&(qr(function(){Ni(null,null,e,!1,function(){e._reactRootContainer=null,e[Oa]=null})}),!0)},t.unstable_batchedUpdates=Wr,t.unstable_createPortal=function(e,t){return ki(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Bi(n))throw Error(r(200));if(null==e||void 0===e._reactInternalFiber)throw Error(r(38));return Ni(e,t,n,!1,i)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(1609)},function(e,t,n){"use strict";function r(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function i(e){return e=e[0],void 0===e?null:e}function o(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],u=o+1,l=e[u];if(void 0!==s&&0>a(s,n))void 0!==l&&0>a(l,s)?(e[r]=l,e[u]=n,r=u):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>a(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}return null}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}function s(e){for(var t=i(L);null!==t;){if(null===t.callback)o(L);else{if(!(t.startTime<=e))break;o(L),t.sortIndex=t.expirationTime,r(B,t)}t=i(L)}}function u(e){if(z=!1,s(e),!U)if(null!==i(B))U=!0,h(l);else{var t=i(L);null!==t&&d(u,t.startTime-e)}}function l(e,n){U=!1,z&&(z=!1,f()),F=!0;var r=k;try{for(s(n),R=i(B);null!==R&&(!(R.expirationTime>n)||e&&!p());){var a=R.callback;if(null!==a){R.callback=null,k=R.priorityLevel;var l=a(R.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?R.callback=l:R===i(B)&&o(B),s(n)}else o(B);R=i(B)}if(null!==R)var c=!0;else{var h=i(L);null!==h&&d(u,h.startTime-n),c=!1}return c}finally{R=null,k=r,F=!1}}function c(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var h,d,f,p,m;if("undefined"==typeof window||"function"!=typeof MessageChannel){var g=null,_=null,v=function(){if(null!==g)try{var e=t.unstable_now();g(!0,e),g=null}catch(e){throw setTimeout(v,0),e}},A=Date.now();t.unstable_now=function(){return Date.now()-A},h=function(e){null!==g?setTimeout(h,0,e):(g=e,setTimeout(v,0))},d=function(e,t){_=setTimeout(e,t)},f=function(){clearTimeout(_)},p=function(){return!1},m=t.unstable_forceFrameRate=function(){}}else{var y=window.performance,b=window.Date,w=window.setTimeout,x=window.clearTimeout;if("undefined"!=typeof console){var E=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof E&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof y&&"function"==typeof y.now)t.unstable_now=function(){return y.now()};else{var C=b.now();t.unstable_now=function(){return b.now()-C}}var S=!1,T=null,I=-1,M=5,O=0;p=function(){return t.unstable_now()>=O},m=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):M=0<e?Math.floor(1e3/e):5};var P=new MessageChannel,D=P.port2;P.port1.onmessage=function(){if(null!==T){var e=t.unstable_now();O=e+M;try{T(!0,e)?D.postMessage(null):(S=!1,T=null)}catch(e){throw D.postMessage(null),e}}else S=!1},h=function(e){T=e,S||(S=!0,D.postMessage(null))},d=function(e,n){I=w(function(){e(t.unstable_now())},n)},f=function(){x(I),I=-1}}var B=[],L=[],N=1,R=null,k=3,F=!1,U=!1,z=!1,j=m;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){U||F||(U=!0,h(l))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return i(B)},t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var n=k;k=t;try{return e()}finally{k=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=k;k=e;try{return t()}finally{k=n}},t.unstable_scheduleCallback=function(e,n,o){var a=t.unstable_now();if("object"==typeof o&&null!==o){var s=o.delay;s="number"==typeof s&&0<s?a+s:a,o="number"==typeof o.timeout?o.timeout:c(e)}else o=c(e),s=a;return o=s+o,e={id:N++,callback:n,priorityLevel:e,startTime:s,expirationTime:o,sortIndex:-1},s>a?(e.sortIndex=s,r(L,e),null===i(B)&&e===i(L)&&(z?f():z=!0,d(u,s-a))):(e.sortIndex=o,r(B,e),U||F||(U=!0,h(l))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();s(e);var n=i(B);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||p()},t.unstable_wrapCallback=function(e){var t=k;return function(){var n=k;k=t;try{return e.apply(this,arguments)}finally{k=n}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(void 0===D||void 0===D[e])return u(e);var t=D[e];return t===B?void 0:t}function u(e){switch(e){case"PropTypes":return _.default;case"mapStackTrace":return M.mapStackTrace;case"assign":return T.default;case"style":return x.default;case"isFilenameAbsolute":return I.isFilenameAbsolute;case"makeUrl":return I.makeUrl;case"makeLinkText":return I.makeLinkText;case"ErrorStackParser":return C.default;case"Component":return v.Component;case"ReactDOM":return b.default;case"React":return A.default;case"RedBoxError":return O}}function l(e,t){if("object"!==(void 0===e?"undefined":f(e)))return D[e]=void 0===t?B:t,function(){c(e)};Object.keys(e).forEach(function(t){D[t]=e[t]})}function c(e){delete D[e]}function h(e){function t(){n.forEach(function(e){D[e]=r[e]})}var n=Object.keys(e),r={};return function(i){n.forEach(function(t){r[t]=D[t],D[t]=e[t]});var o=i();return o&&"function"==typeof o.then?o.then(t).catch(t):t(),o}}function d(e,t){Object.defineProperty(P,e,{value:t,enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.__RewireAPI__=t.__ResetDependency__=t.__set__=t.__Rewire__=t.__GetDependency__=t.__get__=t.RedBoxError=void 0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(5),_=r(g),v=n(4),A=r(v),y=n(213),b=r(y),w=n(1611),x=r(w),E=n(1612),C=r(E),S=n(193),T=r(S),I=n(1614),M=n(1615),O=t.RedBoxError=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={error:null,mapped:!1},n.mapOnConstruction(e.error),n}return a(t,e),m(t,[{key:"componentDidMount",value:function(){this.state.mapped||this.mapError(this.props.error)}},{key:"mapOnConstruction",value:function(e){var t=e.stack.split("\n");if(t.length<2)return void(this.state={error:e,mapped:!0});if(-1!==t[1].search(/\(webpack:\/{3}/))return void(this.state={error:e,mapped:!0});if(-1===t[1].search(/\(eval at/))return void(this.state={error:e,mapped:!1});var n=[t.shift()],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=u.match(/(.+)\(eval at (.+) \(.+?\), .+(\:[0-9]+\:[0-9]+)\)/);if(l){var c=p(l,4),h=c[1],d=c[2],f=c[3];n.push(h+" ("+d+f+")")}else n.push(u)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}e.stack=n.join("\n"),this.state={error:e,mapped:!0}}},{key:"mapError",value:function(e){var t=this;s("mapStackTrace")(e.stack,function(n){e.stack=n.join("\n"),t.setState({error:e,mapped:!0})})}},{key:"renderFrames",value:function(e){var t=this.props,n=t.filename,r=t.editorScheme,i=t.useLines,o=t.useColumns,a=s("assign")({},s("style"),this.props.style),u=a.frame,l=a.file,c=a.linkToFile;return e.map(function(e,t){var a=void 0,h=void 0;if(0===t&&n&&!s("isFilenameAbsolute")(e.fileName))h=s("makeUrl")(n,r),a=s("makeLinkText")(n);else{var d=i?e.lineNumber:null,f=o?e.columnNumber:null;h=s("makeUrl")(e.fileName,r,d,f),a=s("makeLinkText")(e.fileName,d,f)}return s("React").createElement("div",{style:u,key:t},s("React").createElement("div",null,e.functionName),s("React").createElement("div",{style:l},s("React").createElement("a",{href:h,style:c},a)))})}},{key:"render",value:function(){var e=this.state.error,t=this.props.className,n=s("assign")({},s("style"),this.props.style),r=n.redbox,i=n.message,o=n.stack,a=n.frame,u=void 0,l=void 0;try{u=s("ErrorStackParser").parse(e)}catch(e){l=new Error("Failed to parse stack trace. Stack trace information unavailable.")}return u=l?s("React").createElement("div",{style:a,key:0},s("React").createElement("div",null,l.message)):this.renderFrames(u),s("React").createElement("div",{style:r,className:t},s("React").createElement("div",{style:i},e.name,": ",e.message),s("React").createElement("div",{style:o},u))}}]),t}(s("Component"));O.propTypes={error:s("PropTypes").instanceOf(Error).isRequired,filename:s("PropTypes").string,editorScheme:s("PropTypes").string,useLines:s("PropTypes").bool,useColumns:s("PropTypes").bool,style:s("PropTypes").object,className:s("PropTypes").string},O.displayName="RedBoxError",O.defaultProps={useLines:!0,useColumns:!0};var P=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),m(t,[{key:"componentDidMount",value:function(){this.el=document.createElement("div"),document.body.appendChild(this.el),this.renderRedBoxError()}},{key:"componentDidUpdate",value:function(){this.renderRedBoxError()}},{key:"componentWillUnmount",value:function(){s("ReactDOM").unmountComponentAtNode(this.el),document.body.removeChild(this.el),this.el=null}},{key:"renderRedBoxError",value:function(){s("ReactDOM").render(s("React").createElement(s("RedBoxError"),this.props),this.el)}},{key:"render",value:function(){return null}}]),t}(s("Component"));P.propTypes={error:s("PropTypes").instanceOf(Error).isRequired},P.displayName="RedBox",t.default=P;var D=Object.create(null),B="__INTENTIONAL_UNDEFINED__",L={};!function(){function e(e,t){Object.defineProperty(L,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",s),e("__GetDependency__",s),e("__Rewire__",l),e("__set__",l),e("__reset__",c),e("__ResetDependency__",c),e("__with__",h)}();var N=void 0===P?"undefined":f(P);"object"!==N&&"function"!==N||!Object.isExtensible(P)||(d("__get__",s),d("__GetDependency__",s),d("__Rewire__",l),d("__set__",l),d("__reset__",c),d("__ResetDependency__",c),d("__with__",h),d("__RewireAPI__",L)),t.__get__=s,t.__GetDependency__=s,t.__Rewire__=l,t.__set__=l,t.__ResetDependency__=c,t.__RewireAPI__=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={redbox:{boxSizing:"border-box",fontFamily:"sans-serif",position:"fixed",padding:10,top:"0px",left:"0px",bottom:"0px",right:"0px",width:"100%",background:"rgb(204, 0, 0)",color:"white",zIndex:2147483647,textAlign:"left",fontSize:"16px",lineHeight:1.2,overflow:"auto"},message:{fontWeight:"bold"},stack:{fontFamily:"monospace",marginTop:"2em"},frame:{marginTop:"1em"},file:{fontSize:"0.8em",color:"rgba(255, 255, 255, 0.7)"},linkToFile:{textDecoration:"none",color:"rgba(255, 255, 255, 0.7)"}};t.default=r},function(e,t,n){var r,i,o;!function(a,s){"use strict";i=[n(1613)],r=s,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e){"use strict";function t(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=t.call(n,e[i]);return r}function n(e,t,n){if("function"==typeof Array.prototype.filter)return e.filter(t,n);for(var r=[],i=0;i<e.length;i++)t.call(n,e[i])&&r.push(e[i]);return r}function r(e,t){if("function"==typeof Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var i=/(^|@)\S+\:\d+/,o=/^\s*at .*(\S+\:\d+|\(native\))/m,a=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(o))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,n=t.exec(e.replace(/[\(\)]/g,""));return[n[1],n[2]||void 0,n[3]||void 0]},parseV8OrIE:function(i){return t(n(i.stack.split("\n"),function(e){return!!e.match(o)},this),function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),i=this.extractLocation(n.pop()),o=n.join(" ")||void 0,a=r(["eval","<anonymous>"],i[0])>-1?void 0:i[0];return new e(o,void 0,a,i[1],i[2],t)},this)},parseFFOrSafari:function(r){return t(n(r.stack.split("\n"),function(e){return!e.match(a)},this),function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e(t);var n=t.split("@"),r=this.extractLocation(n.pop()),i=n.join("@")||void 0;return new e(i,void 0,r[0],r[1],r[2],t)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),i=[],o=2,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new e(void 0,void 0,s[2],s[1],void 0,r[o]))}return i},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),i=[],o=0,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new e(s[3]||void 0,void 0,s[2],s[1],void 0,r[o]))}return i},parseOpera11:function(r){return t(n(r.stack.split("\n"),function(e){return!!e.match(i)&&!e.match(/^Error created at/)},this),function(t){var n,r=t.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(n=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e(a,s,i[0],i[1],i[2],t)},this)}}})},function(e,t,n){var r,i,o;!function(n,a){"use strict";i=[],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,n,r,i,o){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==i&&this.setColumnNumber(i),void 0!==o&&this.setSource(o)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(e(this.getLineNumber())?":"+this.getLineNumber():"")+(e(this.getColumnNumber())?":"+this.getColumnNumber():"")}},t})},function(e,t,n){"use strict";function r(e){if(void 0===h||void 0===h[e])return i(e);var t=h[e];return t===d?void 0:t}function i(e){switch(e){case"filenameWithoutLoaders":return l;case"filenameHasSchema":return c}}function o(e,t){if("object"!==(void 0===e?"undefined":u(e)))return h[e]=void 0===t?d:t,function(){a(e)};Object.keys(e).forEach(function(t){h[t]=e[t]})}function a(e){delete h[e]}function s(e){function t(){n.forEach(function(e){h[e]=r[e]})}var n=Object.keys(e),r={};return function(i){n.forEach(function(t){r[t]=h[t],h[t]=e[t]});var o=i();return o&&"function"==typeof o.then?o.then(t).catch(t):t(),o}}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=t.filenameWithoutLoaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.lastIndexOf("!");return t<0?e:e.substr(t+1)},c=(t.filenameHasLoaders=function(e){return r("filenameWithoutLoaders")(e)!==e},t.filenameHasSchema=function(e){return/^[\w]+\:/.test(e)}),h=(t.isFilenameAbsolute=function(e){return 0===r("filenameWithoutLoaders")(e).indexOf("/")},t.makeUrl=function(e,t,n,i){var o=r("filenameWithoutLoaders")(e);if(r("filenameHasSchema")(e))return o;var a="file://"+o;return"vscode"===t?(a=t+"://file/"+a,a=a.replace(/file:\/\/\//,""),n&&o===e&&(a=a+":"+n,i&&(a=a+":"+i))):t&&(a=t+"://open?url="+a,n&&o===e&&(a=a+"&line="+n,i&&(a=a+"&column="+i))),a},t.makeLinkText=function(e,t,n){var i=r("filenameWithoutLoaders")(e);return t&&i===e&&(i=i+":"+t,n&&(i=i+":"+n)),i},Object.create(null)),d="__INTENTIONAL_UNDEFINED__",f={};!function(){function e(e,t){Object.defineProperty(f,e,{value:t,enumerable:!1,configurable:!0})}e("__get__",r),e("__GetDependency__",r),e("__Rewire__",o),e("__set__",o),e("__reset__",a),e("__ResetDependency__",a),e("__with__",s)}(),t.__get__=r,t.__GetDependency__=r,t.__Rewire__=o,t.__set__=o,t.__ResetDependency__=a,t.__RewireAPI__=f,t.default=f},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r,i;r=[n(1)],void 0!==(i=function(e){function t(e){var t=/ +at +([^ ]*).*/.exec(e);return t&&t[1]}function n(e){var t=/([^@]*)@.*/.exec(e);return t&&t[1]}function r(){for(var e=!1,t=0;t<m.length;t++){try{e=m[t]()}catch(e){continue}break}return e}var i={},o=function(e,t,n){var r,i,o,c,d,p,m,g={},_=new h(n),v=n&&n.traceFormat;if("chrome"!==v&&"firefox"!==v){if(v)throw new Error('unknown traceFormat "'+v+'" :(');if(a()||l())v="chrome";else{if(!s()&&!u())throw new Error("unknown browser :(");v="firefox"}}"chrome"===v?(p=/^ +at.+\((.*):([0-9]+):([0-9]+)/,d=4,m=1):(p=/@(.*):([0-9]+):([0-9]+)/,d=4,m=0),r=e.split("\n").slice(m);for(var A=0;A<r.length;A++)i=r[A],n&&n.filter&&!n.filter(i)||(o=i.match(p))&&o.length===d&&(g[A]=o,c=o[1],c.match(/<anonymous>/)||_.fetchScript(c));_.sem.whenReady(function(){var e=f(r,g,_.mapForUri,v);t(e)})},a=function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1},s=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},u=function(){return navigator.userAgent.toLowerCase().indexOf("safari")>-1},l=function(){return document.documentMode&&document.documentMode>=11},c=function(){this.count=0,this.pending=[]};c.prototype.incr=function(){this.count++},c.prototype.decr=function(){this.count--,this.flush()},c.prototype.whenReady=function(e){this.pending.push(e),this.flush()},c.prototype.flush=function(){0===this.count&&(this.pending.forEach(function(e){e()}),this.pending=[])};var h=function(e){this.sem=new c,this.sync=e&&e.sync,this.mapForUri=e&&e.cacheGlobally?i:{}};h.prototype.ajax=function(e,t){var n=r(),i=this;n.onreadystatechange=function(){4==n.readyState&&t.call(i,n,e)},n.open("GET",e,!this.sync),n.send()},h.prototype.fetchScript=function(e){e in this.mapForUri||(this.sem.incr(),this.mapForUri[e]=null,this.ajax(e,this.onScriptLoad))};var d=new RegExp("^(?:[a-z]+:)?//","i");h.prototype.onScriptLoad=function(t,n){if(200===t.status||"file://"===n.slice(0,7)&&0===t.status){var r=t.responseText.match("//# [s]ourceMappingURL=(.*)[\\s]*$","m");if(r&&2===r.length){var i=r[1],o=i.match("data:application/json;(charset=[^;]+;)?base64,(.*)");if(o&&o[2])this.mapForUri[n]=new e.SourceMapConsumer(atob(o[2])),this.sem.decr();else{if(!d.test(i)){var a,s=n.lastIndexOf("/");-1!==s&&(a=n.slice(0,s+1),i=a+i)}this.ajax(i,function(t){(200===t.status||"file://"===i.slice(0,7)&&0===t.status)&&(this.mapForUri[n]=new e.SourceMapConsumer(t.responseText)),this.sem.decr()})}}else this.sem.decr()}else this.sem.decr()};var f=function(e,r,i,o){for(var a,s=[],u="chrome"===o?t:n,l=0;l<e.length;l++){var c=r[l];if(c){var h=c[1],d=parseInt(c[2],10),f=parseInt(c[3],10);if(a=i[h]){var m=a.originalPositionFor({line:d,column:f});s.push(p(m.source,m.line,m.column,m.name||u(e[l])))}else s.push(p(h,d,f,u(e[l])))}else s.push(e[l])}return s},p=function(e,t,n,r){return"    at "+(r||"(unknown)")+" ("+e+":"+t+":"+n+")"},m=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return{mapStackTrace:o}}.apply(t,r))&&(e.exports=i)},function(e,t,n){function r(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new a(t):new i(t)}function i(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=s.getArg(t,"version"),r=s.getArg(t,"sources"),i=s.getArg(t,"names",[]),o=s.getArg(t,"sourceRoot",null),a=s.getArg(t,"sourcesContent",null),u=s.getArg(t,"mappings"),c=s.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);r=r.map(String).map(s.normalize).map(function(e){return o&&s.isAbsolute(o)&&s.isAbsolute(e)?s.relative(o,e):e}),this._names=l.fromArray(i.map(String),!0),this._sources=l.fromArray(r,!0),this.sourceRoot=o,this.sourcesContent=a,this._mappings=u,this.file=c}function o(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function a(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=s.getArg(t,"version"),i=s.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new l,this._names=new l;var o={line:-1,column:0};this._sections=i.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=s.getArg(e,"offset"),n=s.getArg(t,"line"),i=s.getArg(t,"column");if(n<o.line||n===o.line&&i<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=t,{generatedOffset:{generatedLine:n+1,generatedColumn:i+1},consumer:new r(s.getArg(e,"map"))}})}var s=n(2),u=n(3),l=n(4).ArraySet,c=n(5),h=n(7).quickSort;r.fromSourceMap=function(e){return i.fromSourceMap(e)},r.prototype._version=3,r.prototype.__generatedMappings=null,Object.defineProperty(r.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),r.prototype.__originalMappings=null,Object.defineProperty(r.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),r.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},r.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},r.GENERATED_ORDER=1,r.ORIGINAL_ORDER=2,r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2,r.prototype.eachMapping=function(e,t,n){var i,o=t||null,a=n||r.GENERATED_ORDER;switch(a){case r.GENERATED_ORDER:i=this._generatedMappings;break;case r.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;i.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=u&&(t=s.join(u,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,o)},r.prototype.allGeneratedPositionsFor=function(e){var t=s.getArg(e,"line"),n={source:s.getArg(e,"source"),originalLine:t,originalColumn:s.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=s.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var r=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(i>=0){var o=this._originalMappings[i];if(void 0===e.column)for(var a=o.originalLine;o&&o.originalLine===a;)r.push({line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i];else for(var l=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==l;)r.push({line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++i]}return r},t.SourceMapConsumer=r,i.prototype=Object.create(r.prototype),i.prototype.consumer=r,i.fromSourceMap=function(e){var t=Object.create(i.prototype),n=t._names=l.fromArray(e._names.toArray(),!0),r=t._sources=l.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var a=e._mappings.toArray().slice(),u=t.__generatedMappings=[],c=t.__originalMappings=[],d=0,f=a.length;d<f;d++){var p=a[d],m=new o;m.generatedLine=p.generatedLine,m.generatedColumn=p.generatedColumn,p.source&&(m.source=r.indexOf(p.source),m.originalLine=p.originalLine,m.originalColumn=p.originalColumn,p.name&&(m.name=n.indexOf(p.name)),c.push(m)),u.push(m)}return h(t.__originalMappings,s.compareByOriginalPositions),t},i.prototype._version=3,Object.defineProperty(i.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?s.join(this.sourceRoot,e):e},this)}}),i.prototype._parseMappings=function(e,t){for(var n,r,i,a,u,l=1,d=0,f=0,p=0,m=0,g=0,_=e.length,v=0,A={},y={},b=[],w=[];v<_;)if(";"===e.charAt(v))l++,v++,d=0;else if(","===e.charAt(v))v++;else{for(n=new o,n.generatedLine=l,a=v;a<_&&!this._charIsMappingSeparator(e,a);a++);if(r=e.slice(v,a),i=A[r])v+=r.length;else{for(i=[];v<a;)c.decode(e,v,y),u=y.value,v=y.rest,i.push(u);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");A[r]=i}n.generatedColumn=d+i[0],d=n.generatedColumn,i.length>1&&(n.source=m+i[1],m+=i[1],n.originalLine=f+i[2],f=n.originalLine,n.originalLine+=1,n.originalColumn=p+i[3],p=n.originalColumn,i.length>4&&(n.name=g+i[4],g+=i[4])),w.push(n),"number"==typeof n.originalLine&&b.push(n)}h(w,s.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,h(b,s.compareByOriginalPositions),this.__originalMappings=b},i.prototype._findMapping=function(e,t,n,r,i,o){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return u.search(e,t,i,o)},i.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},i.prototype.originalPositionFor=function(e){var t={generatedLine:s.getArg(e,"line"),generatedColumn:s.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",s.compareByGeneratedPositionsDeflated,s.getArg(e,"bias",r.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var o=s.getArg(i,"source",null);null!==o&&(o=this._sources.at(o),null!=this.sourceRoot&&(o=s.join(this.sourceRoot,o)));var a=s.getArg(i,"name",null);return null!==a&&(a=this._names.at(a)),{source:o,line:s.getArg(i,"originalLine",null),column:s.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},i.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},i.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=s.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=s.urlParse(this.sourceRoot))){var r=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},i.prototype.generatedPositionFor=function(e){var t=s.getArg(e,"source");if(null!=this.sourceRoot&&(t=s.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};t=this._sources.indexOf(t);var n={source:t,originalLine:s.getArg(e,"line"),originalColumn:s.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",s.compareByOriginalPositions,s.getArg(e,"bias",r.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:s.getArg(o,"generatedLine",null),column:s.getArg(o,"generatedColumn",null),lastColumn:s.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=i,a.prototype=Object.create(r.prototype),a.prototype.constructor=r,a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),a.prototype.originalPositionFor=function(e){var t={generatedLine:s.getArg(e,"line"),generatedColumn:s.getArg(e,"column")},n=u.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn}),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},a.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},a.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n],i=r.consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(s.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r){return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}}return{line:null,column:null}},a.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],i=r.consumer._generatedMappings,o=0;o<i.length;o++){var a=i[o],u=r.consumer._sources.at(a.source);null!==r.consumer.sourceRoot&&(u=s.join(r.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var l=r.consumer._names.at(a.name);this._names.add(l),l=this._names.indexOf(l);var c={source:u,generatedLine:a.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(r.generatedOffset.generatedLine===a.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:l};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}h(this.__generatedMappings,s.compareByGeneratedPositionsDeflated),h(this.__originalMappings,s.compareByOriginalPositions)},t.IndexedSourceMapConsumer=a},function(e,t){function n(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')}function r(e){var t=e.match(g);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function o(e){var n=e,o=r(e);if(o){if(!o.path)return e;n=o.path}for(var a,s=t.isAbsolute(n),u=n.split(/\/+/),l=0,c=u.length-1;c>=0;c--)a=u[c],"."===a?u.splice(c,1):".."===a?l++:l>0&&(""===a?(u.splice(c+1,l),l=0):(u.splice(c,2),l--));return n=u.join("/"),""===n&&(n=s?"/":"."),o?(o.path=n,i(o)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=r(t),a=r(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),i(n);if(n||t.match(_))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var s="/"===t.charAt(0)?t:o(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=s,i(a)):s}function s(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if(e=e.slice(0,r),e.match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)}function u(e){return e}function l(e){return h(e)?"$"+e:e}function c(e){return h(e)?e.slice(1):e}function h(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function d(e,t,n){var r=e.source-t.source;return 0!==r?r:0!==(r=e.originalLine-t.originalLine)?r:0!==(r=e.originalColumn-t.originalColumn)||n?r:0!==(r=e.generatedColumn-t.generatedColumn)?r:(r=e.generatedLine-t.generatedLine,0!==r?r:e.name-t.name)}function f(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!==(r=e.generatedColumn-t.generatedColumn)||n?r:0!==(r=e.source-t.source)?r:0!==(r=e.originalLine-t.originalLine)?r:(r=e.originalColumn-t.originalColumn,0!==r?r:e.name-t.name)}function p(e,t){return e===t?0:e>t?1:-1}function m(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=p(e.source,t.source))?n:0!==(n=e.originalLine-t.originalLine)?n:(n=e.originalColumn-t.originalColumn,0!==n?n:p(e.name,t.name))}t.getArg=n;var g=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,_=/^data:.+\,.+$/;t.urlParse=r,t.urlGenerate=i,t.normalize=o,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(g)},t.relative=s;var v=function(){return!("__proto__"in Object.create(null))}();t.toSetString=v?u:l,t.fromSetString=v?u:c,t.compareByOriginalPositions=d,t.compareByGeneratedPositionsDeflated=f,t.compareByGeneratedPositionsInflated=m},function(e,t){function n(e,r,i,o,a,s){var u=Math.floor((r-e)/2)+e,l=a(i,o[u],!0);return 0===l?u:l>0?r-u>1?n(u,r,i,o,a,s):s==t.LEAST_UPPER_BOUND?r<o.length?r:-1:u:u-e>1?n(e,u,i,o,a,s):s==t.LEAST_UPPER_BOUND?u:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,i,o){if(0===r.length)return-1;var a=n(-1,r.length,e,r,i,o||t.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===i(r[a],r[a-1],!0);)--a;return a}},function(e,t,n){function r(){this._array=[],this._set=Object.create(null)}var i=n(2),o=Object.prototype.hasOwnProperty;r.fromArray=function(e,t){for(var n=new r,i=0,o=e.length;i<o;i++)n.add(e[i],t);return n},r.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(e,t){var n=i.toSetString(e),r=o.call(this._set,n),a=this._array.length;r&&!t||this._array.push(e),r||(this._set[n]=a)},r.prototype.has=function(e){var t=i.toSetString(e);return o.call(this._set,t)},r.prototype.indexOf=function(e){var t=i.toSetString(e);if(o.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},r.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},r.prototype.toArray=function(){return this._array.slice()},t.ArraySet=r},function(e,t,n){function r(e){return e<0?1+(-e<<1):0+(e<<1)}function i(e){var t=1==(1&e),n=e>>1;return t?-n:n}var o=n(6);t.encode=function(e){var t,n="",i=r(e);do{t=31&i,i>>>=5,i>0&&(t|=32),n+=o.encode(t)}while(i>0);return n},t.decode=function(e,t,n){var r,a,s=e.length,u=0,l=0;do{if(t>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(a=o.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&a),a&=31,u+=a<<l,l+=5}while(r);n.value=i(u),n.rest=t}},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t){return Math.round(e+Math.random()*(t-e))}function i(e,t,o,a){if(o<a){var s=r(o,a),u=o-1;n(e,s,a);for(var l=e[a],c=o;c<a;c++)t(e[c],l)<=0&&(u+=1,n(e,u,c));n(e,u+1,c);var h=u+1;i(e,t,o,h-1),i(e,t,h+1,a)}}t.quickSort=function(e,t){i(e,t,0,e.length-1)}}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){n.e(2).then(function(){var t=n(808);e(t)}.bind(null,n)).catch(n.oe)}function o(){return/Android|iPhone|iPad/i.test(navigator.userAgent)}function a(e){return g.default.createElement(b.default,s({},e,{version:x.default}),g.default.createElement(u.Menu,null,g.default.createElement(d.default,{caption:"About",href:"about.html",key:"about-link"})),g.default.createElement(u.Nav,null,g.default.createElement(c.default,{terria:e.viewState.terria,key:"measure-tool"})),g.default.createElement(u.ExperimentalMenu,null,o()?g.default.createElement(A.default,{loadComponent:i,viewState:e.viewState,terria:e.viewState.terria,experimentalWarning:!0}):null))}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var u=n(693),l=n(1617),c=r(l),h=n(1623),d=r(h),f=n(5),p=r(f),m=n(4),g=r(m),_=n(1627),v=(r(_),n(1635)),A=r(v),y=n(1636),b=r(y),w=n(1919),x=r(w);n(1920),a.propTypes={terria:p.default.object,viewState:p.default.object}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(5),s=r(a),u=n(8),l=r(u),c=n(11),h=r(c),d=n(694),f=r(d),p=n(30),m=r(p),g=n(399),_=n(225),v=n(23),A=n(426),y=n(9),b=n(750),w=n(296),x=n(10),E=n(181),C=(0,l.default)({displayName:"MeasureTool",mixins:[h.default],propTypes:{terria:s.default.object},getInitialState:function(){return{totalDistanceMetres:0,totalAreaMetresSquared:0,userDrawing:new g({terria:this.props.terria,messageHeader:"Measure Tool",allowPolygon:!1,onPointClicked:this.onPointClicked,onPointMoved:this.onPointMoved,onCleanUp:this.onCleanUp,onMakeDialogMessage:this.onMakeDialogMessage})}},prettifyNumber:function(e,t){if(e<=0)return"";var n="m";t?e>999999&&(n="km",e/=1e6):e>999&&(n="km",e/=1e3),e=e.toFixed(2),e=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var r=e+" "+n;return t&&(r+="²"),r},updateDistance:function(e){if(this.setState({totalDistanceMetres:0}),!(e.entities.values.length<1)){for(var t=e.entities.values[0],n=t.position.getValue(this.props.terria.clock.currentTime),r=1;r<e.entities.values.length;r++){var i=e.entities.values[r],o=i.position.getValue(this.props.terria.clock.currentTime);this.setState({totalDistanceMetres:this.state.totalDistanceMetres+this.getGeodesicDistance(n,o)}),n=o}if(this.state.userDrawing.closeLoop){var a=e.entities.values[0],s=a.position.getValue(this.props.terria.clock.currentTime);this.setState({totalDistanceMetres:this.state.totalDistanceMetres+this.getGeodesicDistance(n,s)})}}},updateArea:function(e){if(this.setState({totalAreaMetresSquared:0}),this.state.userDrawing.closeLoop&&!(e.entities.values.length<3)){for(var t=[],n=0;n<e.entities.values.length;n++){var r=e.entities.values[n],i=r.position.getValue(this.props.terria.clock.currentTime);t.push(i)}var o=A.fromPoints(t,v.WGS84),a=b.polygonsFromHierarchy(new w(t),o.projectPointsOntoPlane.bind(o),!1,v.WGS84),s=b.createGeometryFromPositions(v.WGS84,a.polygons[0],y.RADIANS_PER_DEGREE,!0,E.POSITION_ONLY);if(s.indices.length%3==0&&s.attributes.position.values.length%3==0){for(var u=[],l=0;l<s.attributes.position.values.length;l+=3)u.push(new x(s.attributes.position.values[l],s.attributes.position.values[l+1],s.attributes.position.values[l+2]));for(var c=0,h=0;h<s.indices.length;h+=3){var d=s.indices[h],f=s.indices[h+1],p=s.indices[h+2],m=x.distance(u[d],u[f]),g=x.distance(u[f],u[p]),_=x.distance(u[p],u[d]),C=(m+g+_)/2;c+=Math.sqrt(C*(C-m)*(C-g)*(C-_))}this.setState({totalAreaMetresSquared:c})}}},getGeodesicDistance:function(e,t){var n=v.WGS84.cartesianToCartographic(e),r=v.WGS84.cartesianToCartographic(t);return new _(n,r).surfaceDistance},onCleanUp:function(){this.setState({totalDistanceMetres:0}),this.setState({totalAreaMetresSquared:0})},onPointClicked:function(e){this.updateDistance(e),this.updateArea(e)},onPointMoved:function(e){this.onPointClicked(e)},onMakeDialogMessage:function(){var e=this.prettifyNumber(this.state.totalDistanceMetres,!1),t=e;return 0!==this.state.totalAreaMetresSquared&&(t+="<br>"+this.prettifyNumber(this.state.totalAreaMetresSquared,!0)),t},handleClick:function(){this.state.userDrawing.enterDrawMode()},render:function(){return o.default.createElement("div",{className:f.default.toolButton},o.default.createElement("button",{type:"button",className:f.default.btn,title:"measure distance between two points",onClick:this.handleClick},o.default.createElement(m.default,{glyph:m.default.GLYPHS.measure})))}});t.default=C},function(e,t,n){"use strict";var r=n(1619);e.exports={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}}},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function i(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var o=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(1621),o=n(1622),a=n(133),s=function(e,t){this._terria=e,this._createDragPointsHelper(t);var n=this;this._terria.afterViewerChanged.addEventListener(function(){n._createDragPointsHelper(t),n.setUp()})};s.prototype.setUp=function(){this._dragPointsHelper.setUp(),r(this._entities)&&this._dragPointsHelper.updateDraggableObjects(this._entities)},s.prototype.getDragCount=function(){return this._dragPointsHelper.dragCount},s.prototype.resetDragCount=function(){this._dragPointsHelper.dragCount=0},s.prototype.updateDraggableObjects=function(e){this._entities=e,this._dragPointsHelper.updateDraggableObjects(e)},s.prototype._createDragPointsHelper=function(e){r(this._dragPointsHelper)&&this._dragPointsHelper.destroy(),this._terria.viewerMode===a.Leaflet?this._dragPointsHelper=new o(this._terria,e):this._dragPointsHelper=new i(this._terria,e)},e.exports=s},function(e,t,n){"use strict";var r=n(0),i=n(432),o=n(222),a=n(164),s=function(e,t){this._terria=e,this._setUp=!1,this.type="Cesium",this._pointMovedCallback=t,this._draggableObjects=new a,this._dragInProgress=!1,this.dragCount=0};s.prototype.setUp=function(){if(!this._setUp&&r(this._terria.cesium)&&r(this._terria.cesium.scene)&&r(this._terria.cesium.viewer)){this._scene=this._terria.cesium.scene,this._viewer=this._terria.cesium.viewer,this._mouseHandler=new i(this._scene.canvas,!1);var e=this;this._mouseHandler.setInputAction(function(t){if(r(e._draggableObjects.entities)&&0!==e._draggableObjects.entities.length){var n=e._scene.pick(t.position);if(e._originalPosition=t.position,r(n)){var i=n.id,o=e._draggableObjects.entities.values.filter(function(e){return e.id===i.id})[0];o&&(e._dragInProgress=!0,e._entityDragged=o,e._setCameraMotion(!1))}}},o.LEFT_DOWN),this._mouseHandler.setInputAction(function(t){if(e._dragInProgress){e.dragCount=e.dragCount+1;var n=e._viewer.camera.pickEllipsoid(t.endPosition,e._scene.globe.ellipsoid);e._entityDragged.position=n;for(var r=0;r<e._draggableObjects.entities.values.length;r++)e._draggableObjects.entities.values[r].id===e._entityDragged.id&&(e._draggableObjects.entities.values[r].position=n)}},o.MOUSE_MOVE),this._mouseHandler.setInputAction(function(t){e._dragInProgress&&t.position!==e._originalPosition&&e._pointMovedCallback(e._draggableObjects),e._dragInProgress=!1,e._setCameraMotion(!0)},o.LEFT_UP),this._setUp=!0}},s.prototype.updateDraggableObjects=function(e){this._draggableObjects=e},s.prototype.destroy=function(){r(this._mouseHandler)&&(this._mouseHandler.destroy(),this._setUp=!1)},s.prototype._setCameraMotion=function(e){this._scene.screenSpaceCameraController.enableRotate=e,this._scene.screenSpaceCameraController.enableZoom=e,this._scene.screenSpaceCameraController.enableLook=e,this._scene.screenSpaceCameraController.enableTilt=e,this._scene.screenSpaceCameraController.enableTranslate=e},e.exports=s},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(164),a=function(e,t){this._terria=e,this._setUp=!1,this.type="Leaflet",this._pointMovedCallback=t,this._draggableObjects=new o,this._dragInProgress=!1,this.dragCount=0};a.prototype.setUp=function(){this._setUp||r(this._terria.leaflet)&&r(this._terria.leaflet.map)&&(this._terria.leaflet.scene.featureMousedown.addEventListener(this._onMouseDownOnPoint,this),this._setUp=!0)},a.prototype._onMouseDownOnPoint=function(e){if(r(this._draggableObjects.entities)&&0!==this._draggableObjects.entities.length){var t=this._draggableObjects.entities.values.filter(function(t){return t.id===e.id})[0];r(t)&&(this._terria.leaflet.map.on("mousemove",this._onMouseMove,this),this._terria.leaflet.map.on("touchmove",this._onMouseMove,this),this._terria.leaflet.map.on("mouseup",this._onMouseUp,this),this._terria.leaflet.map.on("touchend",this._onMouseUp,this),this._dragInProgress=!0,this._entityDragged=t,this._terria.currentViewer.pauseMapInteraction(),this._originalPosition=t.position)}},a.prototype._onMouseMove=function(e){this._dragInProgress&&(this.dragCount=this.dragCount+1,r(this._entityDragged)&&(this._entityDragged.position=i.fromDegrees(e.latlng.lng,e.latlng.lat)))},a.prototype._onMouseUp=function(e){this._dragInProgress&&i.fromDegrees(e.latlng.lng,e.latlng.lat)!==this._originalPosition&&this._pointMovedCallback(this._draggableObjects),this._terria.leaflet.map.off("mousemove",this._onMouseMove,this),this._terria.leaflet.map.off("touchmove",this._onMouseMove,this),this._terria.leaflet.map.off("mouseup",this._onMouseUp,this),this._terria.leaflet.map.off("touchend",this._onMouseUp,this),this._dragInProgress=!1,this._terria.currentViewer.resumeMapInteraction()},a.prototype.updateDraggableObjects=function(e){this._draggableObjects=e},a.prototype.destroy=function(){this._setUp=!1},e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1624),o=r(i),a=n(695),s=r(a),u=n(400),l=r(u),c=(0,s.default)(o.default,l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return a.default.createElement("div",null,a.default.createElement("a",{className:c.default.btnAboutLink,href:e.href,target:"#"!==e.href?"_blank":void 0,title:e.caption},a.default.createElement("span",null,e.caption)))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=r(o),s=n(5),u=r(s),l=n(1625),c=r(l);i.defaultProps={href:"#"},i.propTypes={href:u.default.string,caption:u.default.string.isRequired},t.default=i},function(e,t){e.exports={"btn--about-link":"tjs-menu-button__btn--about-link tjs-_buttons__btn tjs-_buttons__btn--map",btnAboutLink:"tjs-menu-button__btn--about-link tjs-_buttons__btn tjs-_buttons__btn--map"}},function(e,t){e.exports={root:"tjs-mobile-menu-item__root",link:"tjs-mobile-menu-item__link tjs-_buttons__btn"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t={inner:p.default.dropdownInner};return a.default.createElement(c.default,{theme:t,btnText:"Related Maps",smallScreen:e.smallScreen,viewState:e.viewState,btnTitle:"See related maps"},a.default.createElement("div",{className:(0,g.default)(d.default.header)},a.default.createElement("label",{className:d.default.heading},"Related Maps")),a.default.createElement("p",null,"Clicking on a map below will open it in a separate window or tab."),a.default.createElement("div",{className:(0,g.default)(d.default.section,p.default.section)},a.default.createElement("a",{target:"_blank",href:"http://nationalmap.gov.au/renewables/"},a.default.createElement("img",{className:p.default.image,src:n(1631),alt:"AREMI"})),a.default.createElement("a",{target:"_blank",className:p.default.link,href:"http://nationalmap.gov.au/renewables/"},"AREMI"),a.default.createElement("p",null,"AREMI provides access to Australian spatial data relevant to the Renewable Energy industry, sourced from Government, Industry and Research.")),a.default.createElement("div",{className:(0,g.default)(d.default.section,p.default.section)},a.default.createElement("a",{target:"_blank",href:"http://nationalmap.gov.au/northernaustralia/"},a.default.createElement("img",{className:p.default.image,src:n(1632),alt:"Northern Australia"})),a.default.createElement("a",{target:"_blank",className:p.default.link,href:"http://nationalmap.gov.au/northernaustralia/"},"Northern Australia"),a.default.createElement("p",null,"The Northern Australia NationalMap forms part of the Government's commitment to developing northern Australia by providing easy access to authoritative and other spatial data on northern Australia to governments, business and the public. More information on the Government's White Paper on Developing Northern Australia is available here: ",a.default.createElement("a",{target:"_blank",className:p.default.link,href:"https://northernaustralia.dpmc.gov.au"},"https://northernaustralia.dpmc.gov.au"),".")),a.default.createElement("div",{className:(0,g.default)(d.default.section,p.default.section)},a.default.createElement("a",{target:"_blank",href:"http://neiiviewer.nicta.com.au"},a.default.createElement("img",{className:p.default.image,src:n(1633),alt:"NEII Viewer"})),a.default.createElement("a",{target:"_blank",className:p.default.link,href:"http://www.neii.gov.au/viewer/"},"NEII Viewer"),a.default.createElement("p",null,"The National Environmental Information Infrastructure (NEII) is an information platform designed to improve discovery, access and re-use of nationally significant environmental data. More information on the NEII is available here: ",a.default.createElement("a",{target:"_blank",className:p.default.link,href:"http://neii.gov.au/data-viewer"},"neii.gov.au/data-viewer"),".")),a.default.createElement("div",{className:(0,g.default)(d.default.section,p.default.section)},a.default.createElement("a",{target:"_blank",href:"http://map.aurin.org.au"},a.default.createElement("img",{className:p.default.image,src:n(1634),alt:"AURIN Map"})),a.default.createElement("a",{target:"_blank",className:p.default.link,href:"http://map.aurin.org.au"},"AURIN Map"),a.default.createElement("p",null,"AURIN Map provides access to datasets on urban infrastructure for urban researchers, policy and decision makers.")))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=r(o),s=n(5),u=r(s),l=n(287),c=r(l),h=n(148),d=r(h),f=n(1630),p=r(f),m=n(28),g=r(m);i.propTypes={viewState:u.default.object.isRequired,smallScreen:u.default.bool},t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(28),l=r(u),c=n(30),h=r(c),d=n(696),f=r(d),p=n(697),m=r(p),g=n(148),_=r(g),v=n(0),A=r(v),y=(0,s.default)({displayName:"DropdownPanel",mixins:[m.default],getInitialState:function(){return{localIsOpen:!1,caretOffset:void 0,dropdownOffset:void 0}},onInnerMounted:function(e){if(e){var t=this.buttonElement.offsetLeft-e.offsetLeft,n=t<e.offsetLeft?t:e.offsetLeft,r=Math.max(this.buttonElement.clientWidth/2-10-(n-this.buttonElement.offsetLeft),0);this.setState({caretOffset:r>=0&&r+"px",dropdownOffset:n+"px"})}else this.setState({caretOffset:void 0,dropdownOffset:void 0})},UNSAFE_componentWillReceiveProps:function(e){e.forceClosed&&this.onDismissed()},render:function(){var e=this,t=void 0;return t=(0,A.default)(h.default.GLYPHS[this.props.theme.icon])?h.default.GLYPHS[this.props.theme.icon]:this.props.theme.icon,o.default.createElement("div",{className:(0,l.default)(_.default.panel,this.props.theme.outer)},o.default.createElement("button",{onClick:this.openPanel,type:"button",className:(0,l.default)(_.default.button,this.props.theme.btn),title:this.props.btnTitle,ref:function(t){return e.buttonElement=t}},this.props.theme.icon?o.default.createElement(h.default,{glyph:t}):null,o.default.createElement("span",null,this.props.btnText)),this.isOpen()?o.default.createElement(f.default,{onDismissed:this.onDismissed,innerRef:this.onInnerMounted,doNotCloseFlag:this.getDoNotCloseFlag(),theme:this.props.theme,caretOffset:this.state.caretOffset,dropdownOffset:this.state.dropdownOffset},this.props.children):null)}});t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(400),l=r(u),c=n(697),h=r(c),d=n(696),f=r(d),p=n(148),m=r(p),g=(0,s.default)({displayName:"MobilePanel",mixins:[h.default],getInitialState:function(){return{localIsOpen:!1}},render:function(){return o.default.createElement("div",null,o.default.createElement(l.default,{onClick:this.openPanel,caption:this.props.btnText}),this.isOpen()?[o.default.createElement("div",{className:m.default.overlay,key:"0"}),o.default.createElement(f.default,{theme:this.props.theme,caretOffset:"15px",doNotCloseFlag:this.getDoNotCloseFlag(),onDismissed:this.onDismissed,key:"1"},this.props.children)]:null)}});t.default=g},function(e,t){e.exports={"dropdown-inner":"tm-related-maps__dropdown-inner",dropdownInner:"tm-related-maps__dropdown-inner",section:"tm-related-maps__section tm-_base__clearfix",image:"tm-related-maps__image",link:"tm-related-maps__link tm-_base__link"}},function(e,t,n){e.exports=n.p+"8edfbe49f85e6994ebb732a110a3c502.jpg"},function(e,t,n){e.exports=n.p+"f5ad078d6d4ff7fc08ef6a3105dc2ef9.jpg"},function(e,t,n){e.exports=n.p+"8fc6de49c8bef0a89f25ca9ba37deb81.jpg"},function(e,t,n){e.exports=n.p+"4bc9b143747260dad71fd9951b364e3a.jpg"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=(0,s.default)({displayName:"SplitPoint",propTypes:{loadComponent:l.default.func.isRequired},getInitialState:function(){return{component:null}},componentDidMount:function(){var e=this;this.props.loadComponent(function(t){return e.setState({component:t})})},render:function(){var e=this.state.component;return e&&o.default.createElement(e,this.props)}});e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(8),u=r(s),l=n(5),c=r(l),h=n(1637),d=r(h),f=n(698),p=r(f),m=n(1686),g=r(m),_=n(1688),v=r(_),A=n(727),y=r(A),b=n(1795),w=r(b),x=n(1798),E=r(x),C=n(1831),S=r(C),T=n(1833),I=r(T),M=n(1842),O=r(M),P=n(1854),D=r(P),B=n(1856),L=r(B),N=n(1899),R=r(N),k=n(11),F=r(k),U=n(1902),z=r(U),j=n(1904),H=r(j),V=n(1914),Q=r(V),G=n(742),W=r(G),q=n(1915),Y=n(28),K=r(Y);n(1917);var X=n(1918),Z=r(X),J=(0,u.default)({displayName:"StandardUserInterface",mixins:[F.default],propTypes:{terria:c.default.object.isRequired,allBaseMaps:c.default.array,viewState:c.default.object.isRequired,minimumLargeScreenWidth:c.default.number,version:c.default.string,children:c.default.oneOfType([c.default.arrayOf(c.default.element),c.default.element])},getDefaultProps:function(){return{minimumLargeScreenWidth:768}},UNSAFE_componentWillMount:function(){var e=this,t=this;this.dragOverListener=function(e){e.dataTransfer.types&&(0,d.default)(e.dataTransfer.types,"Files")&&(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",t.acceptDragDropFile())},this.resizeListener=function(){e.props.viewState.useSmallScreenInterface=e.shouldUseMobileInterface()},window.addEventListener("resize",this.resizeListener,!1),this.resizeListener()},componentDidMount:function(){this._wrapper.addEventListener("dragover",this.dragOverListener,!1)},componentWillUnmount:function(){window.removeEventListener("resize",this.resizeListener,!1),document.removeEventListener("dragover",this.dragOverListener,!1)},acceptDragDropFile:function(){this.props.viewState.openUserData(),this.props.viewState.isDraggingDroppingFile=!0},shouldUseMobileInterface:function(){return document.body.clientWidth<this.props.minimumLargeScreenWidth},render:function(){var e,t=this,n=(0,Q.default)(this.props.viewState.useSmallScreenInterface,this.props.children),r=this.props.terria,o=this.props.allBaseMaps;return a.default.createElement("div",{className:Z.default.uiRoot,ref:function(e){return t._wrapper=e}},a.default.createElement("div",{className:Z.default.ui},a.default.createElement("div",{className:Z.default.uiInner},this.props.viewState.hideMapUi()?null:[a.default.createElement(q.Small,{key:"0"},a.default.createElement(L.default,{terria:r,menuItems:n.menu,viewState:this.props.viewState,version:this.props.version,allBaseMaps:o})),a.default.createElement(q.Medium,{key:"1"},a.default.createElement("div",{className:(0,K.default)(Z.default.sidePanel,i({},Z.default.sidePanelHide,this.props.viewState.isMapFullScreen))},a.default.createElement(p.default,{terria:r,version:this.props.version}),a.default.createElement(H.default,{terria:r,viewState:this.props.viewState})))],a.default.createElement(q.Medium,null,a.default.createElement("div",{className:(0,K.default)(Z.default.showWorkbenchButton,(e={},i(e,Z.default.showWorkbenchButtonisVisible,this.props.viewState.isMapFullScreen),i(e,Z.default.showWorkbenchButtonisNotVisible,!this.props.viewState.isMapFullScreen),e))},a.default.createElement(W.default,{terria:this.props.terria,viewState:this.props.viewState,minified:!1,btnText:"Show workbench",animationDuration:250}))),a.default.createElement("section",{className:Z.default.map},a.default.createElement(z.default,{terria:r}),a.default.createElement(E.default,{terria:r,viewState:this.props.viewState}),a.default.createElement("main",null,a.default.createElement(v.default,{terria:r,viewState:this.props.viewState}),this.props.terria.configParameters.experimentalFeatures&&!this.props.viewState.hideMapUi()?a.default.createElement(D.default,{terria:r,viewState:this.props.viewState,experimentalItems:n.experimentalMenu}):null)))),this.props.viewState.hideMapUi()?null:a.default.createElement("div",{className:(0,K.default)(i({},Z.default.explorerPanelIsVisible,this.props.viewState.explorerPanelIsVisible))},a.default.createElement(O.default,{terria:r,viewState:this.props.viewState,allBaseMaps:o,menuItems:n.menu}),a.default.createElement(I.default,{terria:r,viewState:this.props.viewState,navItems:n.nav})),a.default.createElement(R.default,{viewState:this.props.viewState}),a.default.createElement(S.default,{terria:r,viewState:this.props.viewState}),this.props.terria.configParameters.feedbackUrl&&!this.props.viewState.hideMapUi()?a.default.createElement("aside",{className:Z.default.feedback},a.default.createElement(w.default,{viewState:this.props.viewState})):null,a.default.createElement("div",{className:Z.default.featureInfo},a.default.createElement(y.default,{terria:r,viewState:this.props.viewState})),a.default.createElement(g.default,{terria:this.props.terria,viewState:this.props.viewState}))}});e.exports=J},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}e.exports=r},function(e,t,n){"use strict";var r=n(1639),i=n(704),o=n(708),a=n(705);e.exports={Parser:r,ProcessingInstructions:i,IsValidNodeDefinitions:o,ProcessNodeDefinitions:a}},function(e,t,n){"use strict";function r(e){function t(t){e=e||{},e.decodeEntities=!0;var n=new l;return new u(n,e).parseComplete(t),n.dom}function n(e,t,r,u){if(t(e)){var l=i(function(t){return t.shouldProcessNode(e)},r);if(null!=l){var c=o(function(e){return null==e||!1===e},a(s)(function(e,i){return n(e,t,r,i)},e.children||[]));return l.replaceChildren?d.createElement(e,u,e.data,[l.processNode(e,c,u)]):l.processNode(e,c,u)}return!1}return!1}function r(e,r,i){var o=t(e),a=o.map(function(e,t){return n(e,r,i,t)});return a.length<=1?a[0]:a}function f(e){var t=new c;return r(e,h.alwaysValid,t.defaultProcessingInstructions)}return{parse:f,parseWithInstructions:r}}var i=n(1640),o=n(1644),a=n(1655),s=n(1658),u=n(1661),l=n(1667),c=n(704),h=n(708),d=n(706);e.exports=r},function(e,t,n){var r=n(98),i=n(402),o=n(1642);e.exports=r(i(["find"],o,function(e,t){for(var n=0,r=t.length;n<r;){if(e(t[n]))return t[n];n+=1}}))},function(e,t){e.exports=function(e){return"function"==typeof e["@@transducer/step"]}},function(e,t,n){var r=n(98),i=n(1643),o=n(403);e.exports=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=o.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=i(this.xf["@@transducer/step"](e,t))),e},r(function(t,n){return new e(t,n)})}()},function(e,t){e.exports=function(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}},function(e,t,n){var r=n(1645),i=n(98),o=n(1646);e.exports=i(function(e,t){return o(r(e),t)})},function(e,t){e.exports=function(e){return function(){return!e.apply(this,arguments)}}},function(e,t,n){var r=n(98),i=n(402),o=n(1647),a=n(1648),s=n(404),u=n(1653),l=n(700);e.exports=r(i(["filter"],u,function(e,t){return a(t)?s(function(n,r){return e(t[r])&&(n[r]=t[r]),n},{},l(t)):o(e,t)}))},function(e,t){e.exports=function(e,t){for(var n=0,r=t.length,i=[];n<r;)e(t[n])&&(i[i.length]=t[n]),n+=1;return i}},function(e,t){e.exports=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(149),i=n(699),o=n(1650);e.exports=r(function(e){return!!i(e)||!!e&&("object"==typeof e&&(!o(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})},function(e,t){e.exports=function(e){return"[object String]"===Object.prototype.toString.call(e)}},function(e,t){e.exports=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},function(t){return new e(t)}}()},function(e,t,n){var r=n(405),i=n(98);e.exports=i(function(e,t){return r(e.length,function(){return e.apply(t,arguments)})})},function(e,t,n){var r=n(98),i=n(403);e.exports=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=i.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},r(function(t,n){return new e(t,n)})}()},function(e,t,n){var r=n(406);e.exports=function(){var e=Object.prototype.toString;return"[object Arguments]"===e.call(arguments)?function(t){return"[object Arguments]"===e.call(t)}:function(e){return r("callee",e)}}()},function(e,t,n){var r=n(1656),i=n(149),o=n(701);e.exports=i(function(e){return o(e.length,function(){var t=0,n=arguments[0],i=arguments[arguments.length-1],o=Array.prototype.slice.call(arguments,0);return o[0]=function(){var e=n.apply(this,r(arguments,[t,i]));return t+=1,e},e.apply(this,o)})})},function(e,t){e.exports=function(e,t){e=e||[],t=t||[];var n,r=e.length,i=t.length,o=[];for(n=0;n<r;)o[o.length]=e[n],n+=1;for(n=0;n<i;)o[o.length]=t[n],n+=1;return o}},function(e,t,n){var r=n(405),i=n(288);e.exports=function e(t,n,o){return function(){for(var a=[],s=0,u=t,l=0;l<n.length||s<arguments.length;){var c;l<n.length&&(!i(n[l])||s>=arguments.length)?c=n[l]:(c=arguments[s],s+=1),a[l]=c,i(c)||(u-=1),l+=1}return u<=0?o.apply(this,a):r(u,e(t,a,o))}}},function(e,t,n){var r=n(98),i=n(402),o=n(1659),a=n(404),s=n(1660),u=n(701),l=n(700);e.exports=r(i(["fantasy-land/map","map"],s,function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return u(t.length,function(){return e.call(this,t.apply(this,arguments))});case"[object Object]":return a(function(n,r){return n[r]=e(t[r]),n},{},l(t));default:return o(e,t)}}))},function(e,t){e.exports=function(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}},function(e,t,n){var r=n(98),i=n(403);e.exports=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=i.init,e.prototype["@@transducer/result"]=i.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},r(function(t,n){return new e(t,n)})}()},function(e,t,n){function r(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(i=this._options.Tokenizer),this._tokenizer=new i(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}var i=n(1662),o={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},a={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:o,input:o,output:o,button:o,datalist:o,textarea:o,option:{option:!0},optgroup:{optgroup:!0}},s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},u={__proto__:null,math:!0,svg:!0},l={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},c=/\s|\//;n(95)(r,n(228).EventEmitter),r.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},r.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},r.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in a)for(var t;(t=this._stack[this._stack.length-1])in a[e];this.onclosetag(t));!this._options.xmlMode&&e in s||(this._stack.push(e),e in u?this._foreignContext.push(!0):e in l&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},r.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in s&&this._cbs.onclosetag(this._tagname),this._tagname=""},r.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(e in u||e in l)&&this._foreignContext.pop(),!this._stack.length||e in s&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},r.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},r.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},r.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},r.prototype.onattribdata=function(e){this._attribvalue+=e},r.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},r.prototype._getInstructionName=function(e){var t=e.search(c),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},r.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},r.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},r.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},r.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},r.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},r.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},r.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},r.prototype.parseComplete=function(e){this.reset(),this.end(e)},r.prototype.write=function(e){this._tokenizer.write(e)},r.prototype.end=function(e){this._tokenizer.end(e)},r.prototype.pause=function(){this._tokenizer.pause()},r.prototype.resume=function(){this._tokenizer.resume()},r.prototype.parseChunk=r.prototype.write,r.prototype.done=r.prototype.end,e.exports=r},function(e,t,n){function r(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function i(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(i){i===r||i===e?this._state=t:(this._state=n,this._index--)}}function o(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=p,this._index--)}}function a(e,t){this._state=d,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=d,this._special=pe,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}e.exports=a;var s=n(1663),u=n(702),l=n(1665),c=n(1666),h=0,d=h++,f=h++,p=h++,m=h++,g=h++,_=h++,v=h++,A=h++,y=h++,b=h++,w=h++,x=h++,E=h++,C=h++,S=h++,T=h++,I=h++,M=h++,O=h++,P=h++,D=h++,B=h++,L=h++,N=h++,R=h++,k=h++,F=h++,U=h++,z=h++,j=h++,H=h++,V=h++,Q=h++,G=h++,W=h++,q=h++,Y=h++,K=h++,X=h++,Z=h++,J=h++,$=h++,ee=h++,te=h++,ne=h++,re=h++,ie=h++,oe=h++,ae=h++,se=h++,ue=h++,le=h++,ce=h++,he=h++,de=h++,fe=0,pe=fe++,me=fe++,ge=fe++;a.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=f,this._sectionStart=this._index):this._decodeEntities&&this._special===pe&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=d,this._state=ue,this._sectionStart=this._index)},a.prototype._stateBeforeTagName=function(e){"/"===e?this._state=g:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==pe||r(e)?this._state=d:"!"===e?(this._state=S,this._sectionStart=this._index+1):"?"===e?(this._state=I,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?p:H,this._sectionStart=this._index)},a.prototype._stateInTagName=function(e){("/"===e||">"===e||r(e))&&(this._emitToken("onopentagname"),this._state=A,this._index--)},a.prototype._stateBeforeCloseingTagName=function(e){r(e)||(">"===e?this._state=d:this._special!==pe?"s"===e||"S"===e?this._state=V:(this._state=d,this._index--):(this._state=_,this._sectionStart=this._index))},a.prototype._stateInCloseingTagName=function(e){(">"===e||r(e))&&(this._emitToken("onclosetag"),this._state=v,this._index--)},a.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=d,this._sectionStart=this._index+1)},a.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=d,this._sectionStart=this._index+1):"/"===e?this._state=m:r(e)||(this._state=y,this._sectionStart=this._index)},a.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=d,this._sectionStart=this._index+1):r(e)||(this._state=A,this._index--)},a.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||r(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=b,this._index--)},a.prototype._stateAfterAttributeName=function(e){"="===e?this._state=w:"/"===e||">"===e?(this._cbs.onattribend(),this._state=A,this._index--):r(e)||(this._cbs.onattribend(),this._state=y,this._sectionStart=this._index)},a.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=x,this._sectionStart=this._index+1):"'"===e?(this._state=E,this._sectionStart=this._index+1):r(e)||(this._state=C,this._sectionStart=this._index,this._index--)},a.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=A):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ue,this._sectionStart=this._index)},a.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=A):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ue,this._sectionStart=this._index)},a.prototype._stateInAttributeValueNoQuotes=function(e){r(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=A,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ue,this._sectionStart=this._index)},a.prototype._stateBeforeDeclaration=function(e){this._state="["===e?B:"-"===e?M:T},a.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=d,this._sectionStart=this._index+1)},a.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=d,this._sectionStart=this._index+1)},a.prototype._stateBeforeComment=function(e){"-"===e?(this._state=O,this._sectionStart=this._index+1):this._state=T},a.prototype._stateInComment=function(e){"-"===e&&(this._state=P)},a.prototype._stateAfterComment1=function(e){this._state="-"===e?D:O},a.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=d,this._sectionStart=this._index+1):"-"!==e&&(this._state=O)},a.prototype._stateBeforeCdata1=i("C",L,T),a.prototype._stateBeforeCdata2=i("D",N,T),a.prototype._stateBeforeCdata3=i("A",R,T),a.prototype._stateBeforeCdata4=i("T",k,T),a.prototype._stateBeforeCdata5=i("A",F,T),a.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=U,this._sectionStart=this._index+1):(this._state=T,this._index--)},a.prototype._stateInCdata=function(e){"]"===e&&(this._state=z)},a.prototype._stateAfterCdata1=function(e){this._state="]"===e?j:U},a.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=d,this._sectionStart=this._index+1):"]"!==e&&(this._state=U)},a.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=Q:"t"===e||"T"===e?this._state=ee:(this._state=p,this._index--)},a.prototype._stateBeforeSpecialEnd=function(e){this._special!==me||"c"!==e&&"C"!==e?this._special!==ge||"t"!==e&&"T"!==e?this._state=d:this._state=ie:this._state=K},a.prototype._stateBeforeScript1=o("R",G),a.prototype._stateBeforeScript2=o("I",W),a.prototype._stateBeforeScript3=o("P",q),a.prototype._stateBeforeScript4=o("T",Y),a.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||r(e))&&(this._special=me),this._state=p,this._index--},a.prototype._stateAfterScript1=i("R",X,d),a.prototype._stateAfterScript2=i("I",Z,d),a.prototype._stateAfterScript3=i("P",J,d),a.prototype._stateAfterScript4=i("T",$,d),a.prototype._stateAfterScript5=function(e){">"===e||r(e)?(this._special=pe,this._state=_,this._sectionStart=this._index-6,this._index--):this._state=d},a.prototype._stateBeforeStyle1=o("Y",te),a.prototype._stateBeforeStyle2=o("L",ne),a.prototype._stateBeforeStyle3=o("E",re),a.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||r(e))&&(this._special=ge),this._state=p,this._index--},a.prototype._stateAfterStyle1=i("Y",oe,d),a.prototype._stateAfterStyle2=i("L",ae,d),a.prototype._stateAfterStyle3=i("E",se,d),a.prototype._stateAfterStyle4=function(e){">"===e||r(e)?(this._special=pe,this._state=_,this._sectionStart=this._index-5,this._index--):this._state=d},a.prototype._stateBeforeEntity=i("#",le,ce),a.prototype._stateBeforeNumericEntity=i("X",de,he),a.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?c:u;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},a.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(l.hasOwnProperty(n))return this._emitPartial(l[n]),void(this._sectionStart+=t+1);t--}},a.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==d?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},a.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var r=this._buffer.substring(n,this._index),i=parseInt(r,t);this._emitPartial(s(i)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},a.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},a.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},a.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===d?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},a.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},a.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===d?this._stateText(e):this._state===f?this._stateBeforeTagName(e):this._state===p?this._stateInTagName(e):this._state===g?this._stateBeforeCloseingTagName(e):this._state===_?this._stateInCloseingTagName(e):this._state===v?this._stateAfterCloseingTagName(e):this._state===m?this._stateInSelfClosingTag(e):this._state===A?this._stateBeforeAttributeName(e):this._state===y?this._stateInAttributeName(e):this._state===b?this._stateAfterAttributeName(e):this._state===w?this._stateBeforeAttributeValue(e):this._state===x?this._stateInAttributeValueDoubleQuotes(e):this._state===E?this._stateInAttributeValueSingleQuotes(e):this._state===C?this._stateInAttributeValueNoQuotes(e):this._state===S?this._stateBeforeDeclaration(e):this._state===T?this._stateInDeclaration(e):this._state===I?this._stateInProcessingInstruction(e):this._state===M?this._stateBeforeComment(e):this._state===O?this._stateInComment(e):this._state===P?this._stateAfterComment1(e):this._state===D?this._stateAfterComment2(e):this._state===B?this._stateBeforeCdata1(e):this._state===L?this._stateBeforeCdata2(e):this._state===N?this._stateBeforeCdata3(e):this._state===R?this._stateBeforeCdata4(e):this._state===k?this._stateBeforeCdata5(e):this._state===F?this._stateBeforeCdata6(e):this._state===U?this._stateInCdata(e):this._state===z?this._stateAfterCdata1(e):this._state===j?this._stateAfterCdata2(e):this._state===H?this._stateBeforeSpecial(e):this._state===V?this._stateBeforeSpecialEnd(e):this._state===Q?this._stateBeforeScript1(e):this._state===G?this._stateBeforeScript2(e):this._state===W?this._stateBeforeScript3(e):this._state===q?this._stateBeforeScript4(e):this._state===Y?this._stateBeforeScript5(e):this._state===K?this._stateAfterScript1(e):this._state===X?this._stateAfterScript2(e):this._state===Z?this._stateAfterScript3(e):this._state===J?this._stateAfterScript4(e):this._state===$?this._stateAfterScript5(e):this._state===ee?this._stateBeforeStyle1(e):this._state===te?this._stateBeforeStyle2(e):this._state===ne?this._stateBeforeStyle3(e):this._state===re?this._stateBeforeStyle4(e):this._state===ie?this._stateAfterStyle1(e):this._state===oe?this._stateAfterStyle2(e):this._state===ae?this._stateAfterStyle3(e):this._state===se?this._stateAfterStyle4(e):this._state===ue?this._stateBeforeEntity(e):this._state===le?this._stateBeforeNumericEntity(e):this._state===ce?this._stateInNamedEntity(e):this._state===he?this._stateInNumericEntity(e):this._state===de?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},a.prototype.pause=function(){this._running=!1},a.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},a.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},a.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},a.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===U||this._state===z||this._state===j?this._cbs.oncdata(e):this._state===O||this._state===P||this._state===D?this._cbs.oncomment(e):this._state!==ce||this._xmlMode?this._state!==he||this._xmlMode?this._state!==de||this._xmlMode?this._state!==p&&this._state!==A&&this._state!==w&&this._state!==b&&this._state!==y&&this._state!==E&&this._state!==x&&this._state!==C&&this._state!==_&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},a.prototype.reset=function(){a.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},a.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},a.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},a.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},a.prototype._emitPartial=function(e){this._baseState!==d?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,n){function r(e){if(e>=55296&&e<=57343||e>1114111)return"�";e in i&&(e=i[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}var i=n(1664);e.exports=r},function(e,t){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},function(e,t){e.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}},function(e,t){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},function(e,t,n){function r(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=u),this._callback=e,this._options=t||u,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var i=n(1668),o=/\s+/g,a=n(703),s=n(1669),u={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};r.prototype.onparserinit=function(e){this._parser=e},r.prototype.onreset=function(){r.call(this,this._callback,this._options,this._elementCB)},r.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},r.prototype._handleCallback=r.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},r.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},r.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;t="tag"===e.type?Object.create(s):Object.create(a);for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},r.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},r.prototype.onopentag=function(e,t){var n={type:"script"===e?i.Script:"style"===e?i.Style:i.Tag,name:e,attribs:t,children:[]},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)},r.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===i.Text)n?t.data=(t.data+e).replace(o," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===i.Text)n?t.data=(t.data+e).replace(o," "):t.data+=e;else{n&&(e=e.replace(o," "));var r=this._createDomElement({data:e,type:i.Text});this._addDomElement(r)}},r.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===i.Comment)return void(t.data+=e);var n={data:e,type:i.Comment},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)},r.prototype.oncdatastart=function(){var e={children:[{data:"",type:i.Text}],type:i.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},r.prototype.oncommentend=r.prototype.oncdataend=function(){this._tagStack.pop()},r.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:i.Directive});this._addDomElement(n)},e.exports=r},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,n){var r=n(703),i=e.exports=Object.create(r),o={tagName:"name"};Object.keys(o).forEach(function(e){var t=o[e];Object.defineProperty(i,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},function(e,t,n){"use strict";function r(e){return!0}e.exports={shouldProcessEveryNode:r}},function(e,t,n){var r=n(1672),i=n(1677);e.exports=i(function(e){return r(e,!0)})},function(e,t,n){var r=n(1673),i=n(1676);e.exports=function(e,t){return e=r(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),!0===t?i(e):e}},function(e,t,n){var r=n(407),i=n(1674),o=String.prototype.trim;e.exports=function(e,t){return e=r(e),!t&&o?o.call(e):(t=i(t),e.replace(new RegExp("^"+t+"+|"+t+"+$","g"),""))}},function(e,t,n){var r=n(1675);e.exports=function(e){return null==e?"\\s":e.source?e.source:"["+r(e)+"]"}},function(e,t,n){var r=n(407);e.exports=function(e){return r(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},function(e,t,n){var r=n(407);e.exports=function(e){return e=r(e),e.charAt(0).toLowerCase()+e.slice(1)}},function(e,t,n){function r(e,t,n){return function(){var s=a.call(arguments),u=n.concat(s),l=[];return t<=o(u)?(l=i(s,n),e.apply(null,l)):t>=u.length?r(e,t,u):r(e,t,i(s,n))}}var i=n(1678),o=n(1680),a=Array.prototype.slice;e.exports=function(e){var t=a.call(arguments,1);return r(e,e.length,t)},e.exports.n=function(e,t){return r(e,t,a.call(arguments,2))},e.exports.__=void 0},function(e,t,n){var r=n(1679);e.exports=function(e,t){var n=[];return n=r(t,function(t,n){return void 0===n?e.shift():n}),n.concat(e)}},function(e,t,n){var r=n(707);e.exports=function(e,t){var n=[];return r(e,function(e,r){n.push(t(e,r))}),n}},function(e,t,n){var r=n(707);e.exports=function(e){var t=0;return r(e,function(e,n){void 0!==n&&(t+=1)}),t}},function(e,t,n){var r=n(149),i=n(406);e.exports=r(function(e){var t=[];for(var n in e)i(n,e)&&(t[t.length]=[n,e[n]]);return t})},function(e,t,n){var r=n(1683),i=n(404);e.exports=r(i)},function(e,t,n){var r=n(149),i=n(98),o=n(288);e.exports=function(e){return function t(n,a,s){switch(arguments.length){case 0:return t;case 1:return o(n)?t:i(function(t,r){return e(n,t,r)});case 2:return o(n)&&o(a)?t:o(n)?i(function(t,n){return e(t,a,n)}):o(a)?i(function(t,r){return e(n,t,r)}):r(function(t){return e(n,a,t)});default:return o(n)&&o(a)&&o(s)?t:o(n)&&o(a)?i(function(t,n){return e(t,n,s)}):o(n)&&o(s)?i(function(t,n){return e(t,a,n)}):o(a)&&o(s)?i(function(t,r){return e(n,t,r)}):o(n)?r(function(t){return e(t,a,s)}):o(a)?r(function(t){return e(n,t,s)}):o(s)?r(function(t){return e(n,a,t)}):e(n,a,s)}}}},function(e,t,n){"use strict";var r=["accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","challenge","charSet","checked","cite","classID","className","colSpan","cols","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","href","hrefLang","htmlFor","httpEquiv","icon","id","inputMode","integrity","is","keyParams","keyType","kind","label","lang","list","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","nonce","open","optimum","pattern","placeholder","poster","preload","profile","radioGroup","readOnly","rel","required","reversed","role","rowSpan","rows","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","start","step","style","summary","tabIndex","target","title","type","useMap","value","width","wmode","wrap"],i=["autoCapitalize","autoCorrect","color","itemProp","itemScope","itemType","itemRef","itemID","security","unselectable","results","autoSave"],o=["accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baseProfile","baselineShift","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","ideographic","imageRendering","in","in2","intercept","k","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","scale","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","viewBox","viewTarget","visibility","widths","wordSpacing","writingMode","x","x1","x2","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlns","xmlnsXlink","xmlBase","xmlLang","xmlSpace","y","y1","y2","yChannelSelector","z","zoomAndPan"],a=r.concat(i).concat(o).reduce(function(e,t){var n=t.toLowerCase();return n!==t&&(e[n]=t),e},{});e.exports=a},function(e,t){e.exports={branding:"tjs-branding__branding"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(8),u=r(s),l=n(5),c=r(l),h=n(28),d=r(h),f=n(11),p=r(f),m=n(709),g=r(m),_=n(1687),v=r(_),A=(0,u.default)({displayName:"DragDropFile",mixins:[p.default],propTypes:{terria:c.default.object,viewState:c.default.object},target:null,handleDrop:function(e){var t=this;e.preventDefault(),e.stopPropagation(),(0,g.default)(e.dataTransfer.files,this.props.terria,this.props.viewState,null).then(function(e){e.length>0&&(t.props.viewState.myDataIsUploadView=!1,t.props.viewState.viewCatalogMember(e[0]))}),this.props.viewState.isDraggingDroppingFile=!1},handleDragEnter:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",this.lastTarget=e.target},handleDragOver:function(e){e.preventDefault()},handleDragLeave:function(e){e.preventDefault(),0===e.screenX&&0===e.screenY&&(this.props.viewState.isDraggingDroppingFile=!1),e.target!==document&&e.target!==this.lastTarget||(this.props.viewState.isDraggingDroppingFile=!1)},handleMouseLeave:function(){this.props.viewState.isDraggingDroppingFile=!1},render:function(){return a.default.createElement("div",{onDrop:this.handleDrop,onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onMouseLeave:this.handleMouseLeave,className:(0,d.default)(v.default.dropZone,i({},v.default.isActive,this.props.viewState.isDraggingDroppingFile))},this.props.viewState.isDraggingDroppingFile?a.default.createElement("div",{className:v.default.inner},a.default.createElement("h3",{className:v.default.heading},"Drag & Drop"),a.default.createElement("div",{className:v.default.caption},"Your data anywhere to view on the map")):null)}});e.exports=A},function(e,t){e.exports={"drop-zone":"tjs-drag-drop-file__drop-zone tjs-_drop_zone__drop-zone",dropZone:"tjs-drag-drop-file__drop-zone tjs-_drop_zone__drop-zone","is-active":"tjs-drag-drop-file__is-active tjs-_drop_zone__is-active",isActive:"tjs-drag-drop-file__is-active tjs-_drop_zone__is-active",inner:"tjs-drag-drop-file__inner",heading:"tjs-drag-drop-file__heading",caption:"tjs-drag-drop-file__caption"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(8),u=r(s),l=n(5),c=r(l),h=n(28),d=r(h),f=n(13),p=r(f),m=n(11),g=r(m),_=n(1689),v=r(_),A=n(1787),y=r(A),b=(0,u.default)({displayName:"ExplorerWindow",mixins:[g.default],propTypes:{terria:c.default.object.isRequired,viewState:c.default.object.isRequired},getInitialState:function(){return{isMounted:!1}},close:function(){this.props.viewState.explorerPanelIsVisible=!1,this.props.viewState.switchMobileView("nowViewing")},UNSAFE_componentWillMount:function(){this.props.viewState.explorerPanelAnimating=!0,this._pickedFeaturesSubscription=p.default.pureComputed(this.isVisible,this).subscribe(this.onVisibilityChange),this.onVisibilityChange(this.isVisible())},componentDidMount:function(){var e=this;this.escKeyListener=function(t){27===t.keyCode&&e.close()},window.addEventListener("keydown",this.escKeyListener,!0)},onVisibilityChange:function(e){e?this.slideIn():this.slideOut()},slideIn:function(){var e=this;this.props.viewState.explorerPanelAnimating=!0,this.setState({visible:!0}),setTimeout(function(){e.setState({slidIn:!0}),setTimeout(function(){return e.props.viewState.explorerPanelAnimating=!1},300)})},slideOut:function(){var e=this;this.setState({slidIn:!1}),setTimeout(function(){e.setState({visible:!1})},300)},componentWillUnmount:function(){window.removeEventListener("keydown",this.escKeyListener,!1),this._pickedFeaturesSubscription.dispose()},isVisible:function(){return!this.props.viewState.useSmallScreenInterface&&!this.props.viewState.hideMapUi()&&this.props.viewState.explorerPanelIsVisible},render:function(){var e=this.state.visible;return e?a.default.createElement("div",{className:y.default.modalWrapper,id:"explorer-panel-wrapper","aria-hidden":!e},a.default.createElement("div",{onClick:this.close,id:"modal-overlay",className:y.default.modalOverlay,tabIndex:"-1"}),a.default.createElement("div",{id:"explorer-panel",className:(0,d.default)(y.default.explorerPanel,y.default.modalContent,i({},y.default.isMounted,this.state.slidIn)),"aria-labelledby":"modalTitle","aria-describedby":"modalDescription",role:"dialog"},a.default.createElement("button",{type:"button",onClick:this.close,className:y.default.btnCloseModal,title:"Close data panel","data-target":"close-modal"},"Done"),a.default.createElement(v.default,{terria:this.props.terria,viewState:this.props.viewState}))):null}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(8),u=r(s),l=n(5),c=r(l),h=n(28),d=r(h),f=n(1690),p=r(f),m=n(1780),g=r(m),_=n(11),v=r(_),A=n(0),y=r(A),b=n(1786),w=r(b),x=(0,u.default)({displayName:"Tabs",mixins:[v.default],propTypes:{terria:c.default.object.isRequired,viewState:c.default.object.isRequired,tabs:c.default.array},getTabs:function(){var e=this;if(this.props.tabs)return this.props.tabs;var t={name:"My Data",title:"my-data",category:"my-data",panel:a.default.createElement(g.default,{terria:this.props.terria,viewState:this.props.viewState})};return this.props.terria.configParameters.tabbedCatalog?[].concat(this.props.terria.catalog.group.items.filter(function(t){return t!==e.props.terria.catalog.userAddedDataGroup}).map(function(t,n){return{name:t.nameInCatalog,title:"data-catalog-"+t.name,category:"data-catalog",idInCategory:t.name,panel:a.default.createElement(p.default,{terria:e.props.terria,viewState:e.props.viewState,items:t.items||[t],searchPlaceholder:"Search whole catalogue"})}}),[t]):[{name:"Data Catalogue",title:"data-catalog",category:"data-catalog",panel:a.default.createElement(p.default,{terria:this.props.terria,viewState:this.props.viewState,items:this.props.terria.catalog.group.items,searchPlaceholder:"Search the catalogue"})},t]},activateTab:function(e,t){if(this.props.viewState.activeTabCategory=e,this.props.terria.configParameters.tabbedCatalog&&(this.props.viewState.activeTabIdInCategory=t,"data-catalog"===e)){var n=this.props.terria.catalog.group.items.filter(function(e){return e.name===t})[0];(0,y.default)(n)&&(n.toggleOpen&&(n.isOpen=!0),this.props.viewState.previewedItem=n)}},render:function(){var e=this,t=this.getTabs(),n=t.filter(function(t){return t.category===e.props.viewState.activeTabCategory}),r=n.filter(function(t){return t.idInCategory===e.props.viewState.activeTabIdInCategory})[0]||n[0]||t[0];return a.default.createElement("div",{className:w.default.tabs},a.default.createElement("ul",{className:w.default.tabList,role:"tablist"},t.map(function(e,t){return a.default.createElement("li",{key:t,id:"tablist--"+e.title,className:w.default.tabListItem,role:"tab","aria-controls":"panel--"+e.title,"aria-selected":e===r},a.default.createElement("button",{type:"button",onClick:this.activateTab.bind(this,e.category,e.idInCategory),className:(0,d.default)(w.default.btnTab,i({},w.default.btnSelected,e===r))},e.name))},this)),a.default.createElement("section",{key:r.title,id:"panel--"+r.title,className:(0,d.default)(w.default.tabPanel,w.default.isActive),"aria-labelledby":"tablist--"+r.title,role:"tabpanel",tabIndex:"0"},a.default.createElement("div",{className:w.default.panelContent},r.panel)))}});e.exports=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(712),h=r(c),d=n(409),f=r(d),p=n(11),m=r(p),g=n(415),_=r(g),v=n(1779),A=r(v),y=(0,s.default)({displayName:"DataCatalogTab",mixins:[m.default],propTypes:{terria:l.default.object,viewState:l.default.object,items:l.default.array,searchPlaceholder:l.default.string},getDefaultProps:function(){return{searchPlaceholder:"Search the catalogue"}},changeSearchText:function(e){this.props.viewState.searchState.catalogSearchText=e},search:function(){this.props.viewState.searchState.searchCatalog()},render:function(){var e=this.props.terria;return o.default.createElement("div",{className:A.default.root},o.default.createElement("div",{className:A.default.dataExplorer},o.default.createElement(_.default,{searchText:this.props.viewState.searchState.catalogSearchText,onSearchTextChanged:this.changeSearchText,onDoSearch:this.search,placeholder:this.props.searchPlaceholder}),o.default.createElement(h.default,{terria:this.props.terria,viewState:this.props.viewState,items:this.props.items})),o.default.createElement(f.default,{terria:e,viewState:this.props.viewState,previewed:this.props.viewState.previewedItem}))}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(0),h=r(c),d=n(397),f=r(d),p=n(714),m=r(p),g=n(284),_=r(g),v=n(11),A=r(v),y=n(198),b=r(y),w={loading:"Loading...",remove:"Remove this item",add:'Add this item. Hold down "shift" to keep the data catalogue open.'},x=(0,s.default)({displayName:"DataCatalogItem",mixins:[A.default],propTypes:{item:l.default.object.isRequired,viewState:l.default.object.isRequired},onBtnClicked:function(e){(0,h.default)(this.props.item.invoke)||this.props.viewState.useSmallScreenInterface?this.setPreviewedItem():this.toggleEnable(e)},toggleEnable:function(e){this.props.item.toggleEnabled(),this.setPreviewedItem(),!0!==this.props.item.isEnabled||e.shiftKey||e.ctrlKey||(this.props.viewState.explorerPanelIsVisible=!1,this.props.viewState.mobileView=null,this.props.viewState.firstTimeAddingData&&(this.props.viewState.featureInfoPanelIsVisible=!0))},setPreviewedItem:function(){(0,b.default)(this.props.item.terria,this.props.item.load()),this.props.viewState.viewCatalogMember(this.props.item),this.props.viewState.switchMobileView(this.props.viewState.mobileViewOptions.preview)},isSelected:function(){return(0,f.default)(this.props.item)?this.props.viewState.userDataPreviewedItem===this.props.item:this.props.viewState.previewedItem===this.props.item},render:function(){var e=this.props.item;return o.default.createElement(m.default,{onTextClick:this.setPreviewedItem,selected:this.isSelected(),text:e.nameInCatalog,title:(0,_.default)(e).map(function(e){return e.nameInCatalog}).join(" → "),btnState:this.getState(),onBtnClick:this.onBtnClicked,titleOverrides:w})},getState:function(){return this.props.item.isLoading?"loading":this.props.viewState.useSmallScreenInterface?"preview":this.props.item.isEnabled?"remove":(0,h.default)(this.props.item.invoke)?"stats":"add"}});e.exports=x},function(e,t){e.exports={"btn-catalog-item":"tjs-data-catalog-item__btn-catalog-item tjs-_buttons__btn",btnCatalogItem:"tjs-data-catalog-item__btn-catalog-item tjs-_buttons__btn",root:"tjs-data-catalog-item__root tjs-_base__clearfix","btn-catalog-item--is-previewed":"tjs-data-catalog-item__btn-catalog-item--is-previewed",btnCatalogItemIsPreviewed:"tjs-data-catalog-item__btn-catalog-item--is-previewed","btn-action":"tjs-data-catalog-item__btn-action tjs-_buttons__btn",btnAction:"tjs-data-catalog-item__btn-action tjs-_buttons__btn","btn-action--loading-on-map":"tjs-data-catalog-item__btn-action--loading-on-map",btnActionLoadingOnMap:"tjs-data-catalog-item__btn-action--loading-on-map"}},function(e,t){e.exports={loader:"tjs-loader__loader",spin:"tjs-loader__spin"}},function(e,t){e.exports={root:"tjs-data-catalog-group__root","btn--catalog":"tjs-data-catalog-group__btn--catalog tjs-_buttons__btn",btnCatalog:"tjs-data-catalog-group__btn--catalog tjs-_buttons__btn",btnCatalogTopLevel:"tjs-data-catalog-group__btnCatalogTopLevel",isPreviewed:"tjs-data-catalog-group__isPreviewed",folder:"tjs-data-catalog-group__folder",caret:"tjs-data-catalog-group__caret","catalog-group":"tjs-data-catalog-group__catalog-group tjs-_base__list-reset",catalogGroup:"tjs-data-catalog-group__catalog-group tjs-_base__list-reset","catalog-group--lower-level":"tjs-data-catalog-group__catalog-group--lower-level",catalogGroupLowerLevel:"tjs-data-catalog-group__catalog-group--lower-level",label:"tjs-data-catalog-group__label tjs-_labels__label","label--no-results":"tjs-data-catalog-group__label--no-results tjs-data-catalog-group__label tjs-_labels__label",labelNoResults:"tjs-data-catalog-group__label--no-results tjs-data-catalog-group__label tjs-_labels__label"}},function(e,t){e.exports={"no-results":"tjs-search-header__no-results tjs-_labels__label",noResults:"tjs-search-header__no-results tjs-_labels__label"}},function(e,t){e.exports={"data-catalog":"tjs-data-catalog__data-catalog tjs-_base__list-reset tjs-_base__scrollbars",dataCatalog:"tjs-data-catalog__data-catalog tjs-_base__list-reset tjs-_base__scrollbars",label:"tjs-data-catalog__label tjs-_labels__label"}},function(e,t,n){"use strict";function r(e,t,n){if(!i(e)||0===e.length)return e;var r;return u.test(e)?r=e:(e&&"string"!=typeof e&&(e=e.toString()),r=s.render(e)),t?r:a.sanitize(r,n)}var i=n(0),o=n(1698),a=n(314),s=new o({html:!0,linkify:!0}),u=/^\s*<[^>]+>/;e.exports=r},function(e,t,n){"use strict";e.exports=n(1699)},function(e,t,n){"use strict";function r(e){var t=e.trim().toLowerCase();return!_.test(t)||!!v.test(t)}function i(e){var t=p.parse(e,!0);if(t.hostname&&(!t.protocol||A.indexOf(t.protocol)>=0))try{t.hostname=m.toASCII(t.hostname)}catch(e){}return p.encode(p.format(t))}function o(e){var t=p.parse(e,!0);if(t.hostname&&(!t.protocol||A.indexOf(t.protocol)>=0))try{t.hostname=m.toUnicode(t.hostname)}catch(e){}return p.decode(p.format(t))}function a(e,t){if(!(this instanceof a))return new a(e,t);t||s.isString(e)||(t=e||{},e="default"),this.inline=new d,this.block=new h,this.core=new c,this.renderer=new l,this.linkify=new f,this.validateLink=r,this.normalizeLink=i,this.normalizeLinkText=o,this.utils=s,this.helpers=s.assign({},u),this.options={},this.configure(e),t&&this.set(t)}var s=n(37),u=n(1706),l=n(1710),c=n(1711),h=n(1719),d=n(1733),f=n(541),p=n(720),m=n(464),g={default:n(1746),zero:n(1747),commonmark:n(1748)},_=/^(vbscript|javascript|file|data):/,v=/^data:image\/(gif|png|jpeg|webp);/,A=["http:","https:","mailto:"];a.prototype.set=function(e){return s.assign(this.options,e),this},a.prototype.configure=function(e){var t,n=this;if(s.isString(e)&&(t=e,!(e=g[t])))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)}),this},a.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},a.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},a.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},a.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},a.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},a.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},a.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=a},function(e,t,n){"use strict";function r(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function i(e,t,n){var o,a,s,u,l,c="";for("string"!=typeof t&&(n=t,t=i.defaultChars),void 0===n&&(n=!0),l=r(t),o=0,a=e.length;o<a;o++)if(s=e.charCodeAt(o),n&&37===s&&o+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))c+=e.slice(o,o+3),o+=2;else if(s<128)c+=l[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<a&&(u=e.charCodeAt(o+1))>=56320&&u<=57343){c+=encodeURIComponent(e[o]+e[o+1]),o++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[o]);return c}var o={};i.defaultChars=";/?:@&=+$,-_.!~*'()#",i.componentChars="-_.!~*'()",e.exports=i},function(e,t,n){"use strict";function r(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function i(e,t){var n;return"string"!=typeof t&&(t=i.defaultChars),n=r(t),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,r,i,o,a,s,u,l="";for(t=0,r=e.length;t<r;t+=3)i=parseInt(e.slice(t+1,t+3),16),i<128?l+=n[i]:192==(224&i)&&t+3<r&&128==(192&(o=parseInt(e.slice(t+4,t+6),16)))?(u=i<<6&1984|63&o,l+=u<128?"��":String.fromCharCode(u),t+=3):224==(240&i)&&t+6<r&&(o=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&o)&&128==(192&a))?(u=i<<12&61440|o<<6&4032|63&a,l+=u<2048||u>=55296&&u<=57343?"���":String.fromCharCode(u),t+=6):240==(248&i)&&t+9<r&&(o=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),s=parseInt(e.slice(t+10,t+12),16),128==(192&o)&&128==(192&a)&&128==(192&s))?(u=i<<18&1835008|o<<12&258048|a<<6&4032|63&s,u<65536||u>1114111?l+="����":(u-=65536,l+=String.fromCharCode(55296+(u>>10),56320+(1023&u))),t+=9):l+="�";return l})}var o={};i.defaultChars=";/?:@&=+$,#",i.componentChars="",e.exports=i},function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}function i(e,t){if(e&&e instanceof r)return e;var n=new r;return n.parse(e,t),n}var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],l=["{","}","|","\\","^","`"].concat(u),c=["'"].concat(l),h=["%","/","?",";","#"].concat(c),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(e,t){var n,r,i,a,u,l=e;if(l=l.trim(),!t&&1===e.split("#").length){var c=s.exec(l);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var _=o.exec(l);if(_&&(_=_[0],i=_.toLowerCase(),this.protocol=_,l=l.substr(_.length)),(t||_||l.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(u="//"===l.substr(0,2))||_&&m[_]||(l=l.substr(2),this.slashes=!0)),!m[_]&&(u||_&&!g[_])){var v=-1;for(n=0;n<d.length;n++)-1!==(a=l.indexOf(d[n]))&&(-1===v||a<v)&&(v=a);var A,y;for(y=-1===v?l.lastIndexOf("@"):l.lastIndexOf("@",v),-1!==y&&(A=l.slice(0,y),l=l.slice(y+1),this.auth=A),v=-1,n=0;n<h.length;n++)-1!==(a=l.indexOf(h[n]))&&(-1===v||a<v)&&(v=a);-1===v&&(v=l.length),":"===l[v-1]&&v--;var b=l.slice(0,v);l=l.slice(v),this.parseHost(b),this.hostname=this.hostname||"";var w="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!w){var x=this.hostname.split(/\./);for(n=0,r=x.length;n<r;n++){var E=x[n];if(E&&!E.match(f)){for(var C="",S=0,T=E.length;S<T;S++)E.charCodeAt(S)>127?C+="x":C+=E[S];if(!C.match(f)){var I=x.slice(0,n),M=x.slice(n+1),O=E.match(p);O&&(I.push(O[1]),M.unshift(O[2])),M.length&&(l=M.join(".")+l),this.hostname=I.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var P=l.indexOf("#");-1!==P&&(this.hash=l.substr(P),l=l.slice(0,P));var D=l.indexOf("?");return-1!==D&&(this.search=l.substr(D),l=l.slice(0,D)),l&&(this.pathname=l),g[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(e){var t=a.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=i},function(e,t,n){"use strict";t.Any=n(542),t.Cc=n(543),t.Cf=n(1705),t.P=n(332),t.Z=n(544)},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t,n){"use strict";t.parseLinkLabel=n(1707),t.parseLinkDestination=n(1708),t.parseLinkTitle=n(1709)},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o,a,s=-1,u=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<u;){if(93===(o=e.src.charCodeAt(e.pos))&&0===--r){i=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===o)if(a===e.pos-1)r++;else if(n)return e.pos=l,-1}return i&&(s=e.pos),e.pos=l,s}},function(e,t,n){"use strict";var r=n(37).isSpace,i=n(37).unescapeAll;e.exports=function(e,t,n){var o,a,s=t,u={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(o=e.charCodeAt(t))||r(o))return u;if(62===o)return u.pos=t+1,u.str=i(e.slice(s+1,t)),u.ok=!0,u;92===o&&t+1<n?t+=2:t++}return u}for(a=0;t<n&&32!==(o=e.charCodeAt(t))&&!(o<32||127===o);)if(92===o&&t+1<n)t+=2;else{if(40===o&&a++,41===o){if(0===a)break;a--}t++}return s===t?u:0!==a?u:(u.str=i(e.slice(s,t)),u.lines=0,u.pos=t,u.ok=!0,u)}},function(e,t,n){"use strict";var r=n(37).unescapeAll;e.exports=function(e,t,n){var i,o,a=0,s=t,u={ok:!1,pos:0,lines:0,str:""};if(t>=n)return u;if(34!==(o=e.charCodeAt(t))&&39!==o&&40!==o)return u;for(t++,40===o&&(o=41);t<n;){if((i=e.charCodeAt(t))===o)return u.pos=t+1,u.lines=a,u.str=r(e.slice(s+1,t)),u.ok=!0,u;10===i?a++:92===i&&t+1<n&&(t++,10===e.charCodeAt(t)&&a++),t++}return u}},function(e,t,n){"use strict";function r(){this.rules=i({},s)}var i=n(37).assign,o=n(37).unescapeAll,a=n(37).escapeHtml,s={};s.code_inline=function(e,t,n,r,i){var o=e[t];return"<code"+i.renderAttrs(o)+">"+a(e[t].content)+"</code>"},s.code_block=function(e,t,n,r,i){var o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+a(e[t].content)+"</code></pre>\n"},s.fence=function(e,t,n,r,i){var s,u,l,c,h=e[t],d=h.info?o(h.info).trim():"",f="";return d&&(f=d.split(/\s+/g)[0]),s=n.highlight?n.highlight(h.content,f)||a(h.content):a(h.content),0===s.indexOf("<pre")?s+"\n":d?(u=h.attrIndex("class"),l=h.attrs?h.attrs.slice():[],u<0?l.push(["class",n.langPrefix+f]):l[u][1]+=" "+n.langPrefix+f,c={attrs:l},"<pre><code"+i.renderAttrs(c)+">"+s+"</code></pre>\n"):"<pre><code"+i.renderAttrs(h)+">"+s+"</code></pre>\n"},s.image=function(e,t,n,r,i){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,r),i.renderToken(e,t,n)},s.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(e,t){return a(e[t].content)},s.html_block=function(e,t){return e[t].content},s.html_inline=function(e,t){return e[t].content},r.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+a(e.attrs[t][0])+'="'+a(e.attrs[t][1])+'"';return r},r.prototype.renderToken=function(e,t,n){var r,i="",o=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===a.nesting?"</":"<")+a.tag,i+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(i+=" /"),a.block&&(o=!0,1===a.nesting&&t+1<e.length&&(r=e[t+1],"inline"===r.type||r.hidden?o=!1:-1===r.nesting&&r.tag===a.tag&&(o=!1))),i+=o?">\n":">")},r.prototype.renderInline=function(e,t,n){for(var r,i="",o=this.rules,a=0,s=e.length;a<s;a++)r=e[a].type,void 0!==o[r]?i+=o[r](e,a,t,n,this):i+=this.renderToken(e,a,t);return i},r.prototype.renderInlineAsText=function(e,t,n){for(var r="",i=0,o=e.length;i<o;i++)"text"===e[i].type?r+=e[i].content:"image"===e[i].type&&(r+=this.renderInlineAsText(e[i].children,t,n));return r},r.prototype.render=function(e,t,n){var r,i,o,a="",s=this.rules;for(r=0,i=e.length;r<i;r++)o=e[r].type,"inline"===o?a+=this.renderInline(e[r].children,t,n):void 0!==s[o]?a+=s[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=r},function(e,t,n){"use strict";function r(){this.ruler=new i;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}var i=n(411),o=[["normalize",n(1712)],["block",n(1713)],["inline",n(1714)],["linkify",n(1715)],["replacements",n(1716)],["smartquotes",n(1717)]];r.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;t<n;t++)r[t](e)},r.prototype.State=n(1718),e.exports=r},function(e,t,n){"use strict";var r=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,i=/\u0000/g;e.exports=function(e){var t;t=e.src.replace(r,"\n"),t=t.replace(i,"�"),e.src=t}},function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r,i=e.tokens;for(n=0,r=i.length;n<r;n++)t=i[n],"inline"===t.type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,n){"use strict";function r(e){return/^<a[>\s]/i.test(e)}function i(e){return/^<\/a\s*>/i.test(e)}var o=n(37).arrayReplaceAt;e.exports=function(e){var t,n,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b=e.tokens;if(e.md.options.linkify)for(n=0,a=b.length;n<a;n++)if("inline"===b[n].type&&e.md.linkify.pretest(b[n].content))for(s=b[n].children,g=0,t=s.length-1;t>=0;t--)if(l=s[t],"link_close"!==l.type){if("html_inline"===l.type&&(r(l.content)&&g>0&&g--,i(l.content)&&g++),!(g>0)&&"text"===l.type&&e.md.linkify.test(l.content)){for(d=l.content,y=e.md.linkify.match(d),c=[],m=l.level,p=0,h=0;h<y.length;h++)_=y[h].url,v=e.md.normalizeLink(_),e.md.validateLink(v)&&(A=y[h].text,A=y[h].schema?"mailto:"!==y[h].schema||/^mailto:/i.test(A)?e.md.normalizeLinkText(A):e.md.normalizeLinkText("mailto:"+A).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+A).replace(/^http:\/\//,""),f=y[h].index,f>p&&(u=new e.Token("text","",0),u.content=d.slice(p,f),u.level=m,c.push(u)),u=new e.Token("link_open","a",1),u.attrs=[["href",v]],u.level=m++,u.markup="linkify",u.info="auto",c.push(u),u=new e.Token("text","",0),u.content=A,u.level=m,c.push(u),u=new e.Token("link_close","a",-1),u.level=--m,u.markup="linkify",u.info="auto",c.push(u),p=y[h].lastIndex);p<d.length&&(u=new e.Token("text","",0),u.content=d.slice(p),u.level=m,c.push(u)),b[n].children=s=o(s,t,c)}}else for(t--;s[t].level!==l.level&&"link_open"!==s[t].type;)t--}},function(e,t,n){"use strict";function r(e,t){return l[t.toLowerCase()]}function i(e){var t,n,i=0;for(t=e.length-1;t>=0;t--)n=e[t],"text"!==n.type||i||(n.content=n.content.replace(u,r)),"link_open"===n.type&&"auto"===n.info&&i--,"link_close"===n.type&&"auto"===n.info&&i++}function o(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],"text"!==n.type||r||a.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}var a=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,s=/\((c|tm|r|p)\)/i,u=/\((c|tm|r|p)\)/gi,l={c:"©",r:"®",p:"§",tm:"™"};e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(s.test(e.tokens[t].content)&&i(e.tokens[t].children),a.test(e.tokens[t].content)&&o(e.tokens[t].children))}},function(e,t,n){"use strict";function r(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function i(e,t){var n,i,u,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I;for(S=[],n=0;n<e.length;n++){for(i=e[n],p=e[n].level,E=S.length-1;E>=0&&!(S[E].level<=p);E--);if(S.length=E+1,"text"===i.type){u=i.content,d=0,f=u.length;e:for(;d<f&&(l.lastIndex=d,h=l.exec(u));){if(w=x=!0,d=h.index+1,C="'"===h[0],g=32,h.index-1>=0)g=u.charCodeAt(h.index-1);else for(E=n-1;E>=0&&("softbreak"!==e[E].type&&"hardbreak"!==e[E].type);E--)if("text"===e[E].type){g=e[E].content.charCodeAt(e[E].content.length-1);break}if(_=32,d<f)_=u.charCodeAt(d);else for(E=n+1;E<e.length&&("softbreak"!==e[E].type&&"hardbreak"!==e[E].type);E++)if("text"===e[E].type){_=e[E].content.charCodeAt(0);break}if(v=s(g)||a(String.fromCharCode(g)),A=s(_)||a(String.fromCharCode(_)),y=o(g),b=o(_),b?w=!1:A&&(y||v||(w=!1)),y?x=!1:v&&(b||A||(x=!1)),34===_&&'"'===h[0]&&g>=48&&g<=57&&(x=w=!1),w&&x&&(w=!1,x=A),w||x){if(x)for(E=S.length-1;E>=0&&(m=S[E],!(S[E].level<p));E--)if(m.single===C&&S[E].level===p){m=S[E],C?(T=t.md.options.quotes[2],I=t.md.options.quotes[3]):(T=t.md.options.quotes[0],I=t.md.options.quotes[1]),i.content=r(i.content,h.index,I),e[m.token].content=r(e[m.token].content,m.pos,T),d+=I.length-1,m.token===n&&(d+=T.length-1),u=i.content,f=u.length,S.length=E;continue e}w?S.push({token:n,pos:h.index,single:C,level:p}):x&&C&&(i.content=r(i.content,h.index,c))}else C&&(i.content=r(i.content,h.index,c))}}}}var o=n(37).isWhiteSpace,a=n(37).isPunctChar,s=n(37).isMdAsciiPunct,u=/['"]/,l=/['"]/g,c="’";e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&u.test(e.tokens[t].content)&&i(e.tokens[t].children,e)}},function(e,t,n){"use strict";function r(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}var i=n(412);r.prototype.Token=i,e.exports=r},function(e,t,n){"use strict";function r(){this.ruler=new i;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}var i=n(411),o=[["table",n(1720),["paragraph","reference"]],["code",n(1721)],["fence",n(1722),["paragraph","reference","blockquote","list"]],["blockquote",n(1723),["paragraph","reference","blockquote","list"]],["hr",n(1724),["paragraph","reference","blockquote","list"]],["list",n(1725),["paragraph","reference","blockquote"]],["reference",n(1726)],["heading",n(1727),["paragraph","reference","blockquote"]],["lheading",n(1728)],["html_block",n(1729),["paragraph","reference","blockquote"]],["paragraph",n(1731)]];r.prototype.tokenize=function(e,t,n){for(var r,i=this.ruler.getRules(""),o=i.length,a=t,s=!1,u=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=u){e.line=n;break}for(r=0;r<o&&!i[r](e,a,n,!1);r++);e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),(a=e.line)<n&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}},r.prototype.parse=function(e,t,n,r){var i;e&&(i=new this.State(e,t,n,r),this.tokenize(i,i.line,i.lineMax))},r.prototype.State=n(1732),e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function i(e){var t,n=[],r=0,i=e.length,o=0,a=0,s=!1,u=0;for(t=e.charCodeAt(r);r<i;)96===t?s?(s=!1,u=r):o%2==0&&(s=!0,u=r):124!==t||o%2!=0||s||(n.push(e.substring(a,r)),a=r+1),92===t?o++:o=0,r++,r===i&&s&&(s=!1,r=u+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}var o=n(37).isSpace;e.exports=function(e,t,n,a){var s,u,l,c,h,d,f,p,m,g,_,v;if(t+2>n)return!1;if(h=t+1,e.sCount[h]<e.blkIndent)return!1;if(e.sCount[h]-e.blkIndent>=4)return!1;if((l=e.bMarks[h]+e.tShift[h])>=e.eMarks[h])return!1;if(124!==(s=e.src.charCodeAt(l++))&&45!==s&&58!==s)return!1;for(;l<e.eMarks[h];){if(124!==(s=e.src.charCodeAt(l))&&45!==s&&58!==s&&!o(s))return!1;l++}for(u=r(e,t+1),d=u.split("|"),m=[],c=0;c<d.length;c++){if(!(g=d[c].trim())){if(0===c||c===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(g))return!1;58===g.charCodeAt(g.length-1)?m.push(58===g.charCodeAt(0)?"center":"right"):58===g.charCodeAt(0)?m.push("left"):m.push("")}if(u=r(e,t).trim(),-1===u.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(d=i(u.replace(/^\||\|$/g,"")),(f=d.length)>m.length)return!1;if(a)return!0;for(p=e.push("table_open","table",1),p.map=_=[t,0],p=e.push("thead_open","thead",1),p.map=[t,t+1],p=e.push("tr_open","tr",1),p.map=[t,t+1],c=0;c<d.length;c++)p=e.push("th_open","th",1),p.map=[t,t+1],m[c]&&(p.attrs=[["style","text-align:"+m[c]]]),p=e.push("inline","",0),p.content=d[c].trim(),p.map=[t,t+1],p.children=[],p=e.push("th_close","th",-1);for(p=e.push("tr_close","tr",-1),p=e.push("thead_close","thead",-1),p=e.push("tbody_open","tbody",1),p.map=v=[t+2,0],h=t+2;h<n&&!(e.sCount[h]<e.blkIndent)&&(u=r(e,h).trim(),-1!==u.indexOf("|"))&&!(e.sCount[h]-e.blkIndent>=4);h++){for(d=i(u.replace(/^\||\|$/g,"")),p=e.push("tr_open","tr",1),c=0;c<f;c++)p=e.push("td_open","td",1),m[c]&&(p.attrs=[["style","text-align:"+m[c]]]),p=e.push("inline","",0),p.content=d[c]?d[c].trim():"",p.children=[],p=e.push("td_close","td",-1);p=e.push("tr_close","tr",-1)}return p=e.push("tbody_close","tbody",-1),p=e.push("table_close","table",-1),_[1]=v[1]=h,e.line=h,!0}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o;if(e.sCount[t]-e.blkIndent<4)return!1;for(i=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;r++,i=r}return e.line=i,o=e.push("code_block","code",0),o.content=e.getLines(t,i,4+e.blkIndent,!0),o.map=[t,e.line],!0}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var i,o,a,s,u,l,c,h=!1,d=e.bMarks[t]+e.tShift[t],f=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(d+3>f)return!1;if(126!==(i=e.src.charCodeAt(d))&&96!==i)return!1;if(u=d,d=e.skipChars(d,i),(o=d-u)<3)return!1;if(c=e.src.slice(u,d),a=e.src.slice(d,f),a.indexOf(String.fromCharCode(i))>=0)return!1;if(r)return!0;for(s=t;!(++s>=n)&&(d=u=e.bMarks[s]+e.tShift[s],f=e.eMarks[s],!(d<f&&e.sCount[s]<e.blkIndent));)if(e.src.charCodeAt(d)===i&&!(e.sCount[s]-e.blkIndent>=4||(d=e.skipChars(d,i))-u<o||(d=e.skipSpaces(d))<f)){h=!0;break}return o=e.sCount[t],e.line=s+(h?1:0),l=e.push("fence","code",0),l.info=a,l.content=e.getLines(t+1,s,o,!0),l.markup=c,l.map=[t,e.line],!0}},function(e,t,n){"use strict";var r=n(37).isSpace;e.exports=function(e,t,n,i){var o,a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C=e.lineMax,S=e.bMarks[t]+e.tShift[t],T=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(S++))return!1;if(i)return!0;for(u=f=e.sCount[t]+S-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(S)?(S++,u++,f++,o=!1,y=!0):9===e.src.charCodeAt(S)?(y=!0,(e.bsCount[t]+f)%4==3?(S++,u++,f++,o=!1):o=!0):y=!1,p=[e.bMarks[t]],e.bMarks[t]=S;S<T&&(a=e.src.charCodeAt(S),r(a));)9===a?f+=4-(f+e.bsCount[t]+(o?1:0))%4:f++,S++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(y?1:0),c=S>=T,v=[e.sCount[t]],e.sCount[t]=f-u,A=[e.tShift[t]],e.tShift[t]=S-e.bMarks[t],w=e.md.block.ruler.getRules("blockquote"),_=e.parentType,e.parentType="blockquote",E=!1,d=t+1;d<n&&(e.sCount[d]<e.blkIndent&&(E=!0),S=e.bMarks[d]+e.tShift[d],T=e.eMarks[d],!(S>=T));d++)if(62!==e.src.charCodeAt(S++)||E){if(c)break;for(b=!1,s=0,l=w.length;s<l;s++)if(w[s](e,d,n,!0)){b=!0;break}if(b){e.lineMax=d,0!==e.blkIndent&&(p.push(e.bMarks[d]),m.push(e.bsCount[d]),A.push(e.tShift[d]),v.push(e.sCount[d]),e.sCount[d]-=e.blkIndent);break}p.push(e.bMarks[d]),m.push(e.bsCount[d]),A.push(e.tShift[d]),v.push(e.sCount[d]),e.sCount[d]=-1}else{for(u=f=e.sCount[d]+S-(e.bMarks[d]+e.tShift[d]),32===e.src.charCodeAt(S)?(S++,u++,f++,o=!1,y=!0):9===e.src.charCodeAt(S)?(y=!0,(e.bsCount[d]+f)%4==3?(S++,u++,f++,o=!1):o=!0):y=!1,p.push(e.bMarks[d]),e.bMarks[d]=S;S<T&&(a=e.src.charCodeAt(S),r(a));)9===a?f+=4-(f+e.bsCount[d]+(o?1:0))%4:f++,S++;c=S>=T,m.push(e.bsCount[d]),e.bsCount[d]=e.sCount[d]+1+(y?1:0),v.push(e.sCount[d]),e.sCount[d]=f-u,A.push(e.tShift[d]),e.tShift[d]=S-e.bMarks[d]}for(g=e.blkIndent,e.blkIndent=0,x=e.push("blockquote_open","blockquote",1),x.markup=">",x.map=h=[t,0],e.md.block.tokenize(e,t,d),x=e.push("blockquote_close","blockquote",-1),x.markup=">",e.lineMax=C,e.parentType=_,h[1]=e.line,s=0;s<A.length;s++)e.bMarks[s+t]=p[s],e.tShift[s+t]=A[s],e.sCount[s+t]=v[s],e.bsCount[s+t]=m[s];return e.blkIndent=g,!0}},function(e,t,n){"use strict";var r=n(37).isSpace;e.exports=function(e,t,n,i){var o,a,s,u,l=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(o=e.src.charCodeAt(l++))&&45!==o&&95!==o)return!1;for(a=1;l<c;){if((s=e.src.charCodeAt(l++))!==o&&!r(s))return!1;s===o&&a++}return!(a<3)&&(!!i||(e.line=t+1,u=e.push("hr","hr",0),u.map=[t,e.line],u.markup=Array(a+1).join(String.fromCharCode(o)),!0))}},function(e,t,n){"use strict";function r(e,t){var n,r,i,o;return r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],n=e.src.charCodeAt(r++),42!==n&&45!==n&&43!==n?-1:r<i&&(o=e.src.charCodeAt(r),!a(o))?-1:r}function i(e,t){var n,r=e.bMarks[t]+e.tShift[t],i=r,o=e.eMarks[t];if(i+1>=o)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=o)return-1;n=e.src.charCodeAt(i++);{if(!(n>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-r>=10)return-1}}return i<o&&(n=e.src.charCodeAt(i),!a(n))?-1:i}function o(e,t){var n,r,i=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===i&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}var a=n(37).isSpace;e.exports=function(e,t,n,a){var s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w,x,E,C,S,T,I,M,O,P,D,B,L,N=!1,R=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(a&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(N=!0),(M=i(e,t))>=0){if(f=!0,P=e.bMarks[t]+e.tShift[t],A=Number(e.src.substr(P,M-P-1)),N&&1!==A)return!1}else{if(!((M=r(e,t))>=0))return!1;f=!1}if(N&&e.skipSpaces(M)>=e.eMarks[t])return!1;if(v=e.src.charCodeAt(M-1),a)return!0;for(_=e.tokens.length,f?(L=e.push("ordered_list_open","ol",1),1!==A&&(L.attrs=[["start",A]])):L=e.push("bullet_list_open","ul",1),L.map=g=[t,0],L.markup=String.fromCharCode(v),b=t,O=!1,B=e.md.block.ruler.getRules("list"),C=e.parentType,e.parentType="list";b<n;){for(I=M,y=e.eMarks[b],d=w=e.sCount[b]+M-(e.bMarks[t]+e.tShift[t]);I<y;){if(9===(s=e.src.charCodeAt(I)))w+=4-(w+e.bsCount[b])%4;else{if(32!==s)break;w++}I++}if(u=I,h=u>=y?1:w-d,h>4&&(h=1),c=d+h,L=e.push("list_item_open","li",1),L.markup=String.fromCharCode(v),L.map=p=[t,0],x=e.blkIndent,T=e.tight,S=e.tShift[t],E=e.sCount[t],e.blkIndent=c,e.tight=!0,e.tShift[t]=u-e.bMarks[t],e.sCount[t]=w,u>=y&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!O||(R=!1),O=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=x,e.tShift[t]=S,e.sCount[t]=E,e.tight=T,L=e.push("list_item_close","li",-1),L.markup=String.fromCharCode(v),b=t=e.line,p[1]=b,u=e.bMarks[t],b>=n)break;if(e.sCount[b]<e.blkIndent)break;for(D=!1,l=0,m=B.length;l<m;l++)if(B[l](e,b,n,!0)){D=!0;break}if(D)break;if(f){if((M=i(e,b))<0)break}else if((M=r(e,b))<0)break;if(v!==e.src.charCodeAt(M-1))break}return L=f?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),L.markup=String.fromCharCode(v),g[1]=b,e.line=b,e.parentType=C,R&&o(e,_),!0}},function(e,t,n){"use strict";var r=n(37).normalizeReference,i=n(37).isSpace;e.exports=function(e,t,n,o){var a,s,u,l,c,h,d,f,p,m,g,_,v,A,y,b,w=0,x=e.bMarks[t]+e.tShift[t],E=e.eMarks[t],C=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(x))return!1;for(;++x<E;)if(93===e.src.charCodeAt(x)&&92!==e.src.charCodeAt(x-1)){if(x+1===E)return!1;if(58!==e.src.charCodeAt(x+1))return!1;break}for(l=e.lineMax,y=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";C<l&&!e.isEmpty(C);C++)if(!(e.sCount[C]-e.blkIndent>3||e.sCount[C]<0)){for(A=!1,h=0,d=y.length;h<d;h++)if(y[h](e,C,l,!0)){A=!0;break}if(A)break}for(v=e.getLines(t,C,e.blkIndent,!1).trim(),E=v.length,x=1;x<E;x++){if(91===(a=v.charCodeAt(x)))return!1;if(93===a){p=x;break}10===a?w++:92===a&&++x<E&&10===v.charCodeAt(x)&&w++}if(p<0||58!==v.charCodeAt(p+1))return!1;for(x=p+2;x<E;x++)if(10===(a=v.charCodeAt(x)))w++;else if(!i(a))break;if(g=e.md.helpers.parseLinkDestination(v,x,E),!g.ok)return!1;if(c=e.md.normalizeLink(g.str),!e.md.validateLink(c))return!1;for(x=g.pos,w+=g.lines,s=x,u=w,_=x;x<E;x++)if(10===(a=v.charCodeAt(x)))w++;else if(!i(a))break;for(g=e.md.helpers.parseLinkTitle(v,x,E),x<E&&_!==x&&g.ok?(b=g.str,x=g.pos,w+=g.lines):(b="",x=s,w=u);x<E&&(a=v.charCodeAt(x),i(a));)x++;if(x<E&&10!==v.charCodeAt(x)&&b)for(b="",x=s,w=u;x<E&&(a=v.charCodeAt(x),i(a));)x++;return!(x<E&&10!==v.charCodeAt(x))&&(!!(f=r(v.slice(1,p)))&&(!!o||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[f]&&(e.env.references[f]={title:b,href:c}),e.parentType=m,e.line=t+w+1,!0)))}},function(e,t,n){"use strict";var r=n(37).isSpace;e.exports=function(e,t,n,i){var o,a,s,u,l=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(o=e.src.charCodeAt(l))||l>=c)return!1;for(a=1,o=e.src.charCodeAt(++l);35===o&&l<c&&a<=6;)a++,o=e.src.charCodeAt(++l);return!(a>6||l<c&&!r(o))&&(!!i||(c=e.skipSpacesBack(c,l),s=e.skipCharsBack(c,35,l),s>l&&r(e.src.charCodeAt(s-1))&&(c=s),e.line=t+1,u=e.push("heading_open","h"+String(a),1),u.markup="########".slice(0,a),u.map=[t,e.line],u=e.push("inline","",0),u.content=e.src.slice(l,c).trim(),u.map=[t,e.line],u.children=[],u=e.push("heading_close","h"+String(a),-1),u.markup="########".slice(0,a),!0))}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o,a,s,u,l,c,h,d,f=t+1,p=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(d=e.parentType,e.parentType="paragraph";f<n&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)){if(e.sCount[f]>=e.blkIndent&&(u=e.bMarks[f]+e.tShift[f],l=e.eMarks[f],u<l&&(45===(h=e.src.charCodeAt(u))||61===h)&&(u=e.skipChars(u,h),(u=e.skipSpaces(u))>=l))){c=61===h?1:2;break}if(!(e.sCount[f]<0)){for(i=!1,o=0,a=p.length;o<a;o++)if(p[o](e,f,n,!0)){i=!0;break}if(i)break}}return!!c&&(r=e.getLines(t,f,e.blkIndent,!1).trim(),e.line=f+1,s=e.push("heading_open","h"+String(c),1),s.markup=String.fromCharCode(h),s.map=[t,e.line],s=e.push("inline","",0),s.content=r,s.map=[t,e.line-1],s.children=[],s=e.push("heading_close","h"+String(c),-1),s.markup=String.fromCharCode(h),e.parentType=d,!0)}},function(e,t,n){"use strict";var r=n(1730),i=n(721).HTML_OPEN_CLOSE_TAG_RE,o=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(i.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var i,a,s,u,l=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(l))return!1;for(u=e.src.slice(l,c),i=0;i<o.length&&!o[i][0].test(u);i++);if(i===o.length)return!1;if(r)return o[i][2];if(a=t+1,!o[i][1].test(u))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(l=e.bMarks[a]+e.tShift[a],c=e.eMarks[a],u=e.src.slice(l,c),o[i][1].test(u)){0!==u.length&&a++;break}return e.line=a,s=e.push("html_block","",0),s.map=[t,a],s.content=e.getLines(t,a,e.blkIndent,!0),!0}},function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,u=t+1,l=e.md.block.ruler.getRules("paragraph"),c=e.lineMax;for(s=e.parentType,e.parentType="paragraph";u<c&&!e.isEmpty(u);u++)if(!(e.sCount[u]-e.blkIndent>3||e.sCount[u]<0)){for(r=!1,i=0,o=l.length;i<o;i++)if(l[i](e,u,c,!0)){r=!0;break}if(r)break}return n=e.getLines(t,u,e.blkIndent,!1).trim(),e.line=u,a=e.push("paragraph_open","p",1),a.map=[t,e.line],a=e.push("inline","",0),a.content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=s,!0}},function(e,t,n){"use strict";function r(e,t,n,r){var i,a,s,u,l,c,h,d;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",a=this.src,d=!1,s=u=c=h=0,l=a.length;u<l;u++){if(i=a.charCodeAt(u),!d){if(o(i)){c++,9===i?h+=4-h%4:h++;continue}d=!0}10!==i&&u!==l-1||(10!==i&&u++,this.bMarks.push(s),this.eMarks.push(u),this.tShift.push(c),this.sCount.push(h),this.bsCount.push(0),d=!1,c=0,h=0,s=u+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}var i=n(412),o=n(37).isSpace;r.prototype.push=function(e,t,n){var r=new i(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},r.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},r.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},r.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),o(t));e++);return e},r.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},r.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},r.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},r.prototype.getLines=function(e,t,n,r){var i,a,s,u,l,c,h,d=e;if(e>=t)return"";for(c=new Array(t-e),i=0;d<t;d++,i++){for(a=0,h=u=this.bMarks[d],l=d+1<t||r?this.eMarks[d]+1:this.eMarks[d];u<l&&a<n;){if(s=this.src.charCodeAt(u),o(s))9===s?a+=4-(a+this.bsCount[d])%4:a++;else{if(!(u-h<this.tShift[d]))break;a++}u++}c[i]=a>n?new Array(a-n+1).join(" ")+this.src.slice(u,l):this.src.slice(u,l)}return c.join("")},r.prototype.Token=i,e.exports=r},function(e,t,n){"use strict";function r(){var e;for(this.ruler=new i,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new i,e=0;e<a.length;e++)this.ruler2.push(a[e][0],a[e][1])}var i=n(411),o=[["text",n(1734)],["newline",n(1735)],["escape",n(1736)],["backticks",n(1737)],["strikethrough",n(722).tokenize],["emphasis",n(723).tokenize],["link",n(1738)],["image",n(1739)],["autolink",n(1740)],["html_inline",n(1741)],["entity",n(1742)]],a=[["balance_pairs",n(1743)],["strikethrough",n(722).postProcess],["emphasis",n(723).postProcess],["text_collapse",n(1744)]];r.prototype.skipToken=function(e){var t,n,r=e.pos,i=this.ruler.getRules(""),o=i.length,a=e.md.options.maxNesting,s=e.cache;if(void 0!==s[r])return void(e.pos=s[r]);if(e.level<a)for(n=0;n<o&&(e.level++,t=i[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,s[r]=e.pos},r.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),i=r.length,o=e.posMax,a=e.md.options.maxNesting;e.pos<o;){if(e.level<a)for(n=0;n<i&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},r.prototype.parse=function(e,t,n,r){var i,o,a,s=new this.State(e,t,n,r);for(this.tokenize(s),o=this.ruler2.getRules(""),a=o.length,i=0;i<a;i++)o[i](s)},r.prototype.State=n(1745),e.exports=r},function(e,t,n){"use strict";function r(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!r(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},function(e,t,n){"use strict";var r=n(37).isSpace;e.exports=function(e,t){var n,i,o=e.pos;if(10!==e.src.charCodeAt(o))return!1;for(n=e.pending.length-1,i=e.posMax,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),o++;o<i&&r(e.src.charCodeAt(o));)o++;return e.pos=o,!0}},function(e,t,n){"use strict";for(var r=n(37).isSpace,i=[],o=0;o<256;o++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){i[e.charCodeAt(0)]=1}),e.exports=function(e,t){var n,o=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(o))return!1;if(++o<a){if((n=e.src.charCodeAt(o))<256&&0!==i[n])return t||(e.pending+=e.src[o]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),o++;o<a&&(n=e.src.charCodeAt(o),r(n));)o++;return e.pos=o,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,u=e.pos;if(96!==e.src.charCodeAt(u))return!1;for(n=u,u++,r=e.posMax;u<r&&96===e.src.charCodeAt(u);)u++;for(i=e.src.slice(n,u),o=a=u;-1!==(o=e.src.indexOf("`",a));){for(a=o+1;a<r&&96===e.src.charCodeAt(a);)a++;if(a-o===i.length)return t||(s=e.push("code_inline","code",0),s.markup=i,s.content=e.src.slice(u,o).replace(/[ \n]+/g," ").trim()),e.pos=a,!0}return t||(e.pending+=i),e.pos+=i.length,!0}},function(e,t,n){"use strict";var r=n(37).normalizeReference,i=n(37).isSpace;e.exports=function(e,t){var n,o,a,s,u,l,c,h,d,f,p="",m=e.pos,g=e.posMax,_=e.pos,v=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(u=e.pos+1,(s=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((l=s+1)<g&&40===e.src.charCodeAt(l)){for(v=!1,l++;l<g&&(o=e.src.charCodeAt(l),i(o)||10===o);l++);if(l>=g)return!1;for(_=l,c=e.md.helpers.parseLinkDestination(e.src,l,e.posMax),c.ok&&(p=e.md.normalizeLink(c.str),e.md.validateLink(p)?l=c.pos:p=""),_=l;l<g&&(o=e.src.charCodeAt(l),i(o)||10===o);l++);if(c=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<g&&_!==l&&c.ok)for(d=c.str,l=c.pos;l<g&&(o=e.src.charCodeAt(l),i(o)||10===o);l++);else d="";(l>=g||41!==e.src.charCodeAt(l))&&(v=!0),l++}if(v){if(void 0===e.env.references)return!1;if(l<g&&91===e.src.charCodeAt(l)?(_=l+1,l=e.md.helpers.parseLinkLabel(e,l),l>=0?a=e.src.slice(_,l++):l=s+1):l=s+1,a||(a=e.src.slice(u,s)),!(h=e.env.references[r(a)]))return e.pos=m,!1;p=h.href,d=h.title}return t||(e.pos=u,e.posMax=s,f=e.push("link_open","a",1),f.attrs=n=[["href",p]],d&&n.push(["title",d]),e.md.inline.tokenize(e),f=e.push("link_close","a",-1)),e.pos=l,e.posMax=g,!0}},function(e,t,n){"use strict";var r=n(37).normalizeReference,i=n(37).isSpace;e.exports=function(e,t){var n,o,a,s,u,l,c,h,d,f,p,m,g,_="",v=e.pos,A=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(l=e.pos+2,(u=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((c=u+1)<A&&40===e.src.charCodeAt(c)){for(c++;c<A&&(o=e.src.charCodeAt(c),i(o)||10===o);c++);if(c>=A)return!1;for(g=c,d=e.md.helpers.parseLinkDestination(e.src,c,e.posMax),d.ok&&(_=e.md.normalizeLink(d.str),e.md.validateLink(_)?c=d.pos:_=""),g=c;c<A&&(o=e.src.charCodeAt(c),i(o)||10===o);c++);if(d=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<A&&g!==c&&d.ok)for(f=d.str,c=d.pos;c<A&&(o=e.src.charCodeAt(c),i(o)||10===o);c++);else f="";if(c>=A||41!==e.src.charCodeAt(c))return e.pos=v,!1;c++}else{if(void 0===e.env.references)return!1;if(c<A&&91===e.src.charCodeAt(c)?(g=c+1,c=e.md.helpers.parseLinkLabel(e,c),c>=0?s=e.src.slice(g,c++):c=u+1):c=u+1,s||(s=e.src.slice(l,u)),!(h=e.env.references[r(s)]))return e.pos=v,!1;_=h.href,f=h.title}return t||(a=e.src.slice(l,u),e.md.inline.parse(a,e.md,e.env,m=[]),p=e.push("image","img",0),p.attrs=n=[["src",_],["alt",""]],p.children=m,p.content=a,f&&n.push(["title",f])),e.pos=c,e.posMax=A,!0}},function(e,t,n){"use strict";var r=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,i=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function(e,t){var n,o,a,s,u,l,c=e.pos;return 60===e.src.charCodeAt(c)&&(n=e.src.slice(c),!(n.indexOf(">")<0)&&(i.test(n)?(o=n.match(i),s=o[0].slice(1,-1),u=e.md.normalizeLink(s),!!e.md.validateLink(u)&&(t||(l=e.push("link_open","a",1),l.attrs=[["href",u]],l.markup="autolink",l.info="auto",l=e.push("text","",0),l.content=e.md.normalizeLinkText(s),l=e.push("link_close","a",-1),l.markup="autolink",l.info="auto"),e.pos+=o[0].length,!0)):!!r.test(n)&&(a=n.match(r),s=a[0].slice(1,-1),u=e.md.normalizeLink("mailto:"+s),!!e.md.validateLink(u)&&(t||(l=e.push("link_open","a",1),l.attrs=[["href",u]],l.markup="autolink",l.info="auto",l=e.push("text","",0),l.content=e.md.normalizeLinkText(s),l=e.push("link_close","a",-1),l.markup="autolink",l.info="auto"),e.pos+=a[0].length,!0))))}},function(e,t,n){"use strict";function r(e){var t=32|e;return t>=97&&t<=122}var i=n(721).HTML_TAG_RE;e.exports=function(e,t){var n,o,a,s,u=e.pos;return!!e.md.options.html&&(a=e.posMax,!(60!==e.src.charCodeAt(u)||u+2>=a)&&(!(33!==(n=e.src.charCodeAt(u+1))&&63!==n&&47!==n&&!r(n))&&(!!(o=e.src.slice(u).match(i))&&(t||(s=e.push("html_inline","",0),s.content=e.src.slice(u,u+o[0].length)),e.pos+=o[0].length,!0))))}},function(e,t,n){"use strict";var r=n(719),i=n(37).has,o=n(37).isValidEntityCode,a=n(37).fromCodePoint,s=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,u=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,l,c=e.pos,h=e.posMax;if(38!==e.src.charCodeAt(c))return!1;if(c+1<h)if(35===e.src.charCodeAt(c+1)){if(l=e.src.slice(c).match(s))return t||(n="x"===l[1][0].toLowerCase()?parseInt(l[1].slice(1),16):parseInt(l[1],10),e.pending+=a(o(n)?n:65533)),e.pos+=l[0].length,!0}else if((l=e.src.slice(c).match(u))&&i(r,l[1]))return t||(e.pending+=r[l[1]]),e.pos+=l[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r,i,o=e.delimiters,a=e.delimiters.length;for(t=0;t<a;t++)if(r=o[t],r.close)for(n=t-r.jump-1;n>=0;){if(i=o[n],i.open&&i.marker===r.marker&&i.end<0&&i.level===r.level){var s=(i.close||r.open)&&void 0!==i.length&&void 0!==r.length&&(i.length+r.length)%3==0;if(!s){r.jump=t-n,r.open=!1,i.end=t,i.jump=0;break}}n-=i.jump+1}}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=0,i=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)r+=i[t].nesting,i[t].level=r,"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}},function(e,t,n){"use strict";function r(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}var i=n(412),o=n(37).isWhiteSpace,a=n(37).isPunctChar,s=n(37).isMdAsciiPunct;r.prototype.pushPending=function(){var e=new i("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},r.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new i(e,t,n);return n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(r),r},r.prototype.scanDelims=function(e,t){var n,r,i,u,l,c,h,d,f,p=e,m=!0,g=!0,_=this.posMax,v=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;p<_&&this.src.charCodeAt(p)===v;)p++;return i=p-e,r=p<_?this.src.charCodeAt(p):32,h=s(n)||a(String.fromCharCode(n)),f=s(r)||a(String.fromCharCode(r)),c=o(n),d=o(r),d?m=!1:f&&(c||h||(m=!1)),c?g=!1:h&&(d||f||(g=!1)),t?(u=m,l=g):(u=m&&(!g||h),l=g&&(!m||f)),{can_open:u,can_close:l,length:i}},r.prototype.Token=i,e.exports=r},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"string"==typeof e||e instanceof String||!isNaN(parseFloat(e))}function o(e){return e.every(i)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(11),f=r(d),p=n(1750),m=r(p),g=(0,l.default)({displayName:"MetadataTable",mixins:[f.default],propTypes:{metadataItem:h.default.object.isRequired},render:function(){var e=this.props.metadataItem;return s.default.createElement("div",{className:m.default.root},e.items.length>0?s.default.createElement("table",null,s.default.createElement("tbody",null,e.items.map(function(e,t){return s.default.createElement("tr",{key:t},s.default.createElement("th",{className:m.default.name},e.name),s.default.createElement("td",{className:m.default.value},e.items.length>0?s.default.createElement(g,{metadataItem:e}):Array.isArray(e.value)?e.value.length>0&&o(e.value)?e.value.join(", "):null:e.value))},this))):null)}});t.default=g},function(e,t){e.exports={root:"tjs-metadata-table__root",value:"tjs-metadata-table__value"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(718),h=r(c),d=n(1752),f=r(d),p=n(11),m=r(p),g=n(414),_=r(g),v=n(127),A=r(v),y=(0,s.default)({displayName:"GroupPreview",mixins:[m.default],propTypes:{previewed:l.default.object.isRequired,terria:l.default.object.isRequired,viewState:l.default.object.isRequired},backToMap:function(){this.props.viewState.explorerPanelIsVisible=!1},render:function(){var e=this.props.previewed.nowViewingCatalogItem||this.props.previewed;return o.default.createElement("div",null,o.default.createElement("h3",null,this.props.previewed.name),o.default.createElement("div",{className:_.default.previewedInfo},o.default.createElement("div",{className:_.default.url},this.props.previewed.description&&this.props.previewed.description.length>0?o.default.createElement("div",null,o.default.createElement("h4",{className:_.default.h4},"Description"),(0,A.default)(this.props.previewed.description,{catalogItem:this.props.previewed})):null,o.default.createElement(h.default,{metadataItem:e}),e.dataCustodian?o.default.createElement("div",null,o.default.createElement("h4",{className:_.default.h4},"Data Custodian"),(0,A.default)(e.dataCustodian,{catalogItem:e})):null,e.url&&e.url.length&&!e.hideSource?o.default.createElement(f.default,{metadataItem:e}):null)))}});t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(11),h=r(c),d=n(413),f=r(d),p=(0,s.default)({displayName:"DataPreviewUrl",mixins:[h.default],propTypes:{metadataItem:l.default.object.isRequired},selectUrl:function(e){e.target.select()},render:function(){return o.default.createElement("div",null,o.default.createElement("h4",{className:f.default.h4},this.props.metadataItem.typeName," URL"),"wms"===this.props.metadataItem.type?o.default.createElement("p",null,"This is a ",o.default.createElement("a",{href:"https://en.wikipedia.org/wiki/Web_Map_Service",target:"_blank",rel:"noopener noreferrer"},"WMS service"),", which generates map images on request. It can be used in GIS software with this URL:"):null,"wfs"===this.props.metadataItem.type?o.default.createElement("p",null,"This is a ",o.default.createElement("a",{href:"https://en.wikipedia.org/wiki/Web_Feature_Service",target:"_blank",rel:"noopener noreferrer"},"WFS service"),", which transfers raw spatial data on request. It can be used in GIS software with this URL:"):null,o.default.createElement("input",{readOnly:!0,className:f.default.field,type:"text",value:this.props.metadataItem.url,onClick:this.selectUrl}),"wms"===this.props.metadataItem.type||"esri-mapServer"===this.props.metadataItem.type&&this.props.metadataItem.layers?o.default.createElement("p",null,"Layer name",this.props.metadataItem.layers.split(",").length>1?"s":"",": ",this.props.metadataItem.layers):null,"wfs"===this.props.metadataItem.type?o.default.createElement("p",null,"Type name",this.props.metadataItem.typeNames.split(",").length>1?"s":"",": ",this.props.metadataItem.typeNames):null)}});t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),s=r(a),u=n(5),l=r(u),c=n(4),h=r(c),d=n(0),f=r(d),p=n(13),m=r(p),g=n(7),_=r(g),v=n(22),A=r(v),y=n(127),b=r(y),w=n(113),x=r(w),E=n(11),C=r(E),S=n(1754),T=r(S),I=n(1766),M=r(I),O=function(){function e(t){i(this,e),this.catalogFunction=t,this._parameters={}}return o(e,[{key:"getParameter",value:function(e){var t=this._parameters[e.id];return t&&t.parameter===e||(t=this._parameters[e.id]=new P(e)),t}}]),e}(),P=function e(t){i(this,e),this.parameter=t,this.userValue=void 0,this.isValueValid=!0,this.wasEverBlurredWhileInvalid=!1,m.default.track(this,["userValue","isValueValid","wasEverBlurredWhileInvalid"])},D=(0,s.default)({displayName:"InvokeFunction",mixins:[C.default],propTypes:{terria:l.default.object,previewed:l.default.object,viewState:l.default.object},UNSAFE_componentWillMount:function(){this.parametersViewModel=new O(this.props.previewed)},UNSAFE_componentWillUpdate:function(e,t){e.previewed!==this.parametersViewModel.catalogFunction&&(this.parametersViewModel=new O(e.previewed))},submit:function(){var e=this;try{var t=(0,_.default)(this.props.previewed.invoke()).otherwise(function(t){t instanceof A.default&&e.props.previewed.terria.error.raiseEvent(t)});return this.props.previewed.terria.nowViewing.showNowViewingRequested.raiseEvent(),this.props.viewState.explorerPanelIsVisible=!1,this.props.viewState.switchMobileView(this.props.viewState.mobileViewOptions.preview),t}catch(e){return void(e instanceof A.default&&this.props.previewed.terria.error.raiseEvent(e))}},getParams:function(){var e=this;return this.props.previewed.parameters.map(function(t,n){return h.default.createElement(T.default,{key:t.id+e.props.previewed.uniqueId,parameter:t,viewState:e.props.viewState,previewed:e.props.previewed,parameterViewModel:e.parametersViewModel.getParameter(t)})})},validateParameter:function(e){return!!this.parametersViewModel.getParameter(e).isValueValid&&!(e.isRequired&&!(0,f.default)(e.value))},render:function(){if(this.props.previewed.isLoading)return h.default.createElement(x.default,null);var e=!1;return(0,f.default)(this.props.previewed.parameters)&&(e=!this.props.previewed.parameters.every(this.validateParameter)),h.default.createElement("div",{className:M.default.invokeFunction},h.default.createElement("div",{className:M.default.content},h.default.createElement("h3",null,this.props.previewed.name),h.default.createElement("div",{className:M.default.description},(0,b.default)(this.props.previewed.description,{catalogItem:this.props.previewed})),this.getParams()),h.default.createElement("div",{className:M.default.footer},h.default.createElement("button",{type:"button",className:M.default.btn,onClick:this.submit,disabled:e},"Run Analysis")))}});e.exports=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(11),h=r(c),d=n(1755),f=r(d),p=n(1756),m=r(p),g=n(1757),_=r(g),v=n(1758),A=r(v),y=n(1759),b=r(y),w=n(724),x=r(w),E=n(1761),C=r(E),S=n(1762),T=r(S),I=n(1763),M=r(I),O=n(1764),P=r(O),D=n(1765),B=r(D),L=n(0),N=r(L),R=n(67),k=r(R),F=(0,s.default)({displayName:"ParameterEditor",mixins:[h.default],propTypes:{parameter:l.default.object,viewState:l.default.object,previewed:l.default.object,parameterViewModel:l.default.object},fieldId:(new Date).getTime(),renderLabel:function(){return o.default.createElement("label",{key:this.props.parameter.id,className:k.default.label,htmlFor:this.fieldId+this.props.parameter.type},this.props.parameter.name,this.props.parameter.isRequired&&o.default.createElement("span",null," (required)"))},renderEditor:function(){for(var e=0;e<F.parameterTypeConverters.length;++e){var t=F.parameterTypeConverters[e],n=t.parameterTypeToDiv(this.props.parameter.type,this);if((0,N.default)(n))return n}return F.parameterTypeConverters.filter(function(e){return"generic"===e.id})[0].parameterTypeToDiv("generic",this)},render:function(){return o.default.createElement("div",{id:this.fieldId+this.props.parameter.type,className:k.default.fieldParameterEditor},this.renderEditor())}});F.parameterTypeConverters=[{id:"point",parameterTypeToDiv:function(e,t){if(e===this.id)return o.default.createElement("div",null,t.renderLabel(),o.default.createElement(f.default,{previewed:t.props.previewed,viewState:t.props.viewState,parameter:t.props.parameter,parameterViewModel:t.props.parameterViewModel}))}},{id:"line",parameterTypeToDiv:function(e,t){if(e===this.id)return o.default.createElement("div",null,t.renderLabel(),o.default.createElement(m.default,{previewed:t.props.previewed,viewState:t.props.viewState,parameter:t.props.parameter,parameterViewModel:t.props.parameterViewModel}))}},{id:"rectangle",parameterTypeToDiv:function(e,t){if(e===this.id)return o.default.createElement("div",null,t.renderLabel(),o.default.createElement(_.default,{previewed:t.props.previewed,viewState:t.props.viewState,parameter:t.props.parameter,parameterViewModel:t.props.parameterViewModel}))}},{id:"polygon",parameterTypeToDiv:function(e,t){if(e===this.id)return o.default.createElement("div",null,t.renderLabel(),o.default.createElement(A.default,{previewed:t.props.previewed,viewState:t.props.viewState,parameter:t.props.parameter,parameterViewModel:t.props.parameterViewModel}))}},{id:"enumeration",parameterTypeToDiv:function(e,t){if(e===this.id)return o.default.createElement("div",null,t.renderLabel(),o.default.createElement(P.default,{previewed:t.props.previewed,viewState:t.props.viewState,parameter:t.props.parameter,parameterViewModel:t.props.parameterViewModel}))}},{id:"dateTime",parameterTypeToDiv:function(e,t){if(e===this.id)return o.default.createElement("div",null,t.renderLabel(),o.default.createElement(M.default,{previewed:t.props.previewed,parameter:t.props.parameter,parameterViewModel:t.props.parameterViewModel}))}},{id:"region",parameterTypeToDiv:function(e,t){if(e===this.id)return o.default.createElement("div",null,t.renderLabel(),o.default.createElement(b.default,{previewed:t.props.previewed,viewState:t.props.viewState,parameter:t.props.parameter,parameterViewModel:t.props.parameterViewModel}))}},{id:"regionType",parameterTypeToDiv:function(e,t){if(e===this.id){var n=t.props.previewed.parameters.filter(function(e){return(0,N.default)(e.regionTypeParameter)&&e.regionTypeParameter===t.props.parameter})[0];return o.default.createElement("div",null,void 0===n?[t.renderLabel(),o.default.createElement(x.default,{previewed:t.props.previewed,parameter:t.props.parameter,parameterViewModel:t.props.parameterViewModel,key:"1"})]:null,t.props.parameter.showInUi?null:o.default.createElement("div",{className:"Placeholder for regionType"}))}}},{id:"regionData",parameterTypeToDiv:function(e,t){if(e===this.id)return o.default.createElement("div",null,t.renderLabel(),o.default.createElement(C.default,{previewed:t.props.previewed,parameter:t.props.parameter,parameterViewModel:t.props.parameterViewModel}))}},{id:"boolean",parameterTypeToDiv:function(e,t){if(e===this.id)return o.default.createElement("div",null,t.renderLabel(),o.default.createElement(T.default,{previewed:t.props.previewed,parameter:t.props.parameter,parameterViewModel:t.props.parameterViewModel}))}},{id:"generic",parameterTypeToDiv:function(e,t){if(e===this.id)return o.default.createElement("div",null,t.renderLabel(),o.default.createElement(B.default,{previewed:t.props.previewed,parameter:t.props.parameter,parameterViewModel:t.props.parameterViewModel}))}}],e.exports=F},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(24),h=r(c),d=n(9),f=r(d),p=n(0),m=r(p),g=n(23),_=r(g),v=n(13),A=r(v),y=n(204),b=r(y),w=n(11),x=r(w),E=n(67),C=r(E),S=(0,s.default)({displayName:"PointParameterEditor",mixins:[x.default],propTypes:{previewed:l.default.object,parameter:l.default.object,viewState:l.default.object,parameterViewModel:l.default.object},inputOnChange:function(e){var t=e.target.value;this.props.parameterViewModel.userValue=t,this.props.parameterViewModel.isValueValid=S.setValueFromText(e,this.props.parameter)},inputOnBlur:function(e){var t=!this.props.parameterViewModel.isValueValid;this.props.parameterViewModel.wasEverBlurredWhileInvalid=this.props.parameterViewModel.wasEverBlurredWhileInvalid||t},selectPointOnMap:function(){S.selectOnMap(this.props.previewed.terria,this.props.viewState,this.props.parameter)},getDisplayValue:function(){return(0,m.default)(this.props.parameterViewModel.userValue)?this.props.parameterViewModel.userValue:S.getDisplayValue(this.props.parameter.value)},render:function(){var e=this.props.parameterViewModel,t=!e.isValueValid&&e.wasEverBlurredWhileInvalid,n=t?C.default.fieldInvalid:C.default.field;return o.default.createElement("div",null,t?o.default.createElement("div",{className:C.default.warningText},"Please enter valid coordinates (e.g. 131.0361, -25.3450)."):null,o.default.createElement("input",{className:n,type:"text",onChange:this.inputOnChange,onBlur:this.inputOnBlur,value:this.getDisplayValue(),placeholder:"131.0361, -25.3450"}),o.default.createElement("button",{type:"button",onClick:this.selectPointOnMap,className:C.default.btnSelector},"Select location"))}});S.setValueFromText=function(e,t){var n=e.target.value;if(0===n.trim().length&&!t.isRequired)return t.value=void 0,!0;if(/[^\d\s\.,+-]/.test(n))return!1;var r=n.split(",");if(2===r.length){var i=parseFloat(r[0]),o=parseFloat(r[1]);return!isNaN(i)&&!isNaN(o)&&(t.value=h.default.fromDegrees(parseFloat(r[0]),parseFloat(r[1])),!0)}return!1},S.getDisplayValue=function(e){return(0,m.default)(e)?f.default.toDegrees(e.longitude).toFixed(5)+","+f.default.toDegrees(e.latitude).toFixed(5):""},S.selectOnMap=function(e,t,n){e.pickedFeatures=void 0;var r=new b.default({message:"Select a point by clicking on the map.",onCancel:function(){e.mapInteractionModeStack.pop(),t.openAddData()}});e.mapInteractionModeStack.push(r),A.default.getObservable(r,"pickedFeatures").subscribe(function(r){if((0,m.default)(r.pickPosition)){var i=_.default.WGS84.cartesianToCartographic(r.pickPosition);e.mapInteractionModeStack.pop(),n.value=i,t.openAddData()}}),t.explorerPanelIsVisible=!1},e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(9),h=r(c),d=n(0),f=r(d),p=n(23),m=r(p),g=n(399),_=r(g),v=n(11),A=r(v),y=n(67),b=r(y),w=(0,s.default)({displayName:"LineParameterEditor",mixins:[A.default],propTypes:{previewed:l.default.object,parameter:l.default.object,viewState:l.default.object},getInitialState:function(){return{userDrawing:new _.default({terria:this.props.previewed.terria,onPointClicked:this.onPointClicked,onCleanUp:this.onCleanUp,allowPolygon:!1})}},onCleanUp:function(){this.props.viewState.openAddData()},setValueFromText:function(e){w.setValueFromText(e,this.props.parameter)},onPointClicked:function(e){for(var t=e.entities.values,n=[],r=0;r<t.length;r++){var i=t[r],o=i.position.getValue(this.props.previewed.terria.clock.currentTime),a=m.default.WGS84.cartesianToCartographic(o),s=[];s.push(h.default.toDegrees(a.longitude)),s.push(h.default.toDegrees(a.latitude)),n.push(s)}this.props.parameter.value=n},selectLineOnMap:function(){this.state.userDrawing.enterDrawMode(),this.props.viewState.explorerPanelIsVisible=!1},render:function(){return o.default.createElement("div",null,o.default.createElement("input",{className:b.default.field,type:"text",onChange:this.setValueFromText,value:w.getDisplayValue(this.props.parameter.value)}),o.default.createElement("button",{type:"button",onClick:this.selectLineOnMap,className:b.default.btnSelector},"Click to draw line"))}});w.setValueFromText=function(e,t){for(var n=e.target.value.split("], ["),r=[],i=0;i<n.length;i++){var o=n[i].replace("[","").replace("]","");if(o=o.split(","),o.length>=2){var a=[];a.push(parseFloat(o[0])),a.push(parseFloat(o[1])),r.push(a)}}t.value=r},w.getDisplayValue=function(e){var t=e;if(!(0,f.default)(t)||t.length<1)return"";for(var n="",r=0;r<t.length;r++)n+="["+t[r][0].toFixed(3)+", "+t[r][1].toFixed(3)+"]",r!==t.length-1&&(n+=", ");return n.length>0?n:""},e.exports=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(24),h=r(c),d=n(9),f=r(d),p=n(0),m=r(p),g=n(16),_=r(g),v=n(13),A=r(v),y=n(204),b=r(y),w=n(11),x=r(w),E=n(67),C=r(E),S=(0,s.default)({displayName:"RectangleParameterEditor",mixins:[x.default],propTypes:{previewed:l.default.object,parameter:l.default.object,viewState:l.default.object},getInitialState:function(){return{value:this.getValue()}},onTextChange:function(e){this.setValue(e.target.value),this.setState({value:e.target.value})},getValue:function(){var e=this.props.parameter.value;return(0,m.default)(e)?this.outputDegrees(_.default.southwest(e).longitude)+","+this.outputDegrees(_.default.southwest(e).latitude)+" "+this.outputDegrees(_.default.northeast(e).longitude)+","+this.outputDegrees(_.default.northeast(e).latitude):""},outputDegrees:function(e){return f.default.toDegrees(e).toFixed(2)},setValue:function(e){for(var t=e.split(" "),n=[],r=0;r<t.length;r++){var i=t[r].split(",");i.length>=2&&n.push(h.default.fromDegrees(parseFloat(i[0]),parseFloat(i[1])))}this.props.parameter.value=_.default.fromCartographicArray(n)},selectRectangleOnMap:function(){var e=this.props.previewed.terria,t=this;e.pickedFeatures=void 0;var n=new b.default({message:"Press the SHIFT key and hold down the left mouse button to draw a rectangle",drawRectangle:!0,onCancel:function(){e.mapInteractionModeStack.pop(),e.selectBox=!1,t.props.viewState.openAddData()}});e.selectBox=!0,e.mapInteractionModeStack.push(n),A.default.getObservable(n,"pickedFeatures").subscribe(function(n){n instanceof _.default&&(t.props.parameter.value=n,e.mapInteractionModeStack.pop(),e.selectBox=!1,t.props.viewState.openAddData())}),t.props.viewState.explorerPanelIsVisible=!1},render:function(){return o.default.createElement("div",null,o.default.createElement("input",{className:C.default.field,type:"text",onChange:this.onTextChange,value:this.state.value}),o.default.createElement("button",{type:"button",onClick:this.selectRectangleOnMap,className:C.default.btnSelector},"Click to draw rectangle"))}});e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=e.entities.values,r=[],i=0;i<n.length;i++){var o=n[i],a=o.position.getValue(t.clock.currentTime),s=y.default.WGS84.cartesianToCartographic(a),u=[];u.push(v.default.toDegrees(s.longitude)),u.push(v.default.toDegrees(s.latitude)),r.push(u)}return r.length>0&&r.push(r[0]),r}var o=n(4),a=r(o),s=n(8),u=r(s),l=n(5),c=r(l),h=n(0),d=r(h),f=n(11),p=r(f),m=n(67),g=r(m),_=n(9),v=r(_),A=n(23),y=r(A),b=n(399),w=r(b),x=(0,u.default)({displayName:"PolygonParameterEditor",mixins:[p.default],propTypes:{previewed:c.default.object,parameter:c.default.object,viewState:c.default.object},setValueFromText:function(e){x.setValueFromText(e,this.props.parameter)},selectPolygonOnMap:function(){x.selectOnMap(this.props.previewed.terria,this.props.viewState,this.props.parameter)},render:function(){return a.default.createElement("div",null,a.default.createElement("input",{className:g.default.field,type:"text",onChange:this.setValueFromText,value:x.getDisplayValue(this.props.parameter.value)}),a.default.createElement("button",{type:"button",onClick:this.selectPolygonOnMap,className:g.default.btnSelector},"Click to draw polygon"))}});x.setValueFromText=function(e,t){t.value=[JSON.parse(e.target.value)]},x.getDisplayValue=function(e){if(!(0,d.default)(e)||e.length<1)return"";for(var t=e[0],n="",r=0;r<t.length;r++)n+="["+t[r][0].toFixed(3)+", "+t[r][1].toFixed(3)+"]",r!==t.length-1&&(n+=", ");return n.length>0?"["+n+"]":""},x.selectOnMap=function(e,t,n){var r=new w.default({terria:e,onPointClicked:function(t){n.value=[i(t,e)]},onCleanUp:function(){t.openAddData()},onPointMoved:function(t){n.value=[i(t,e)]}});t.explorerPanelIsVisible=!1,r.enterDrawMode()},e.exports=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(11),h=r(c),d=n(67),f=r(d),p=n(1760),m=r(p),g=n(204),_=r(g),v=(0,s.default)({displayName:"RegionParameterEditor",mixins:[h.default],propTypes:{previewed:l.default.object,viewState:l.default.object,parameter:l.default.object},selectRegionOnMap:function(){v.selectOnMap(this.props.viewState,this.props.parameter,this.props.previewed)},render:function(){return o.default.createElement("div",null,o.default.createElement("input",{className:f.default.field,type:"text",readOnly:!0,value:m.default.getDisplayValue(this.props.parameter.value,this.props.parameter)}),o.default.createElement("button",{type:"button",onClick:this.selectRegionOnMap,className:f.default.btnSelector},"Select region"))}});v.selectOnMap=function(e,t,n){var r=n.terria;r.pickedFeatures=void 0;var i=new _.default({message:"Select a region on the map",onCancel:function(){r.mapInteractionModeStack.pop(),e.openAddData()},buttonText:"Done",customUi:function(){return o.default.createElement(m.default,{className:f.default.parameterEditor,previewed:n,parameter:t})}});r.mapInteractionModeStack.push(i),e.explorerPanelIsVisible=!1},e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(28),s=r(a),u=n(4),l=r(u),c=n(8),h=r(c),d=n(5),f=r(d),p=n(0),m=r(p),g=n(13),_=r(g),v=n(7),A=r(v),y=n(51),b=r(y),w=n(11),x=r(w),E=n(107),C=r(E),S=n(724),T=r(S),I=n(67),M=r(I),O=(0,h.default)({displayName:"RegionPicker",mixins:[x.default],propTypes:{previewed:f.default.object,parameter:f.default.object},getInitialState:function(){return{autocompleteVisible:!1,autocompleteOptions:[],autocompleteText:void 0,displayValue:""}},UNSAFE_componentWillMount:function(){this._loadingRegionProvider=void 0,this._selectedRegionCatalogItem=void 0,this._regionNames=[],this._regionsCatalogItem=void 0,this.regionProvider=void 0,this._subscriptions=[],this._lastFeature=void 0,this._lastPickedFeatures=void 0,_.default.defineProperty(this,"regionProvider",{get:function(){return this.props.parameter.regionProvider}}),this._subscriptions.push(_.default.getObservable(this,"regionProvider").subscribe(this.addRegionLayer)),_.default.defineProperty(this,"regionValue",{get:function(){return this.props.parameter.value},set:function(e){(0,m.default)(e)&&(0,m.default)(e.realRegion)&&(e=e.realRegion),this.props.parameter.value=e}});var e=this;_.default.getObservable(this.props.previewed.terria.mapInteractionModeStack[0],"pickedFeatures").subscribe(function(t){(0,m.default)(t)&&(e._lastPickedFeatures=t,(0,A.default)(t.allFeaturesAvailablePromise,function(){t===e._lastPickedFeatures&&0!==t.features.length&&e.updateFeature(t.features[0])}))}),this.addRegionLayer(),this.updateMapFromValue()},componentWillUnmount:function(){this._subscriptions.forEach(function(e){return e.dispose()}),(0,m.default)(this._regionsCatalogItem)&&(this._regionsCatalogItem.isEnabled=!1,this._regionsCatalogItem=void 0),(0,m.default)(this._selectedRegionCatalogItem)&&(this._selectedRegionCatalogItem.isEnabled=!1,this._selectedRegionCatalogItem=void 0)},updateFeature:function(e){this._lastRegionFeature=e.data;var t=e.properties[this.regionProvider.regionProp],n="object"===(void 0===t?"undefined":o(t))?t.getValue():t;this.regionValue=this.props.parameter.findRegionByID(n),(0,m.default)(this._selectedRegionCatalogItem)&&(this._selectedRegionCatalogItem.isEnabled=!1,this._selectedRegionCatalogItem=void 0),(0,m.default)(e.data)&&"Feature"===e.data.type&&(this._selectedRegionCatalogItem=new b.default(this.props.previewed.terria),this._selectedRegionCatalogItem.name="Selected Polygon",this._selectedRegionCatalogItem.data=e.data,this._selectedRegionCatalogItem.isEnabled=!0,this._selectedRegionCatalogItem.zoomTo()),this.setState({autocompleteVisible:!1,autocompleteOptions:[],autocompleteText:void 0})},addRegionLayer:function(){if((0,m.default)(this.regionProvider)&&this.regionProvider!==this._loadingRegionProvider){this._loadingRegionProvider=this.regionProvider;var e=this;A.default.all([e.regionProvider.loadRegionIDs(),e.regionProvider.loadRegionNames()]).then(function(){e.regionProvider===e._loadingRegionProvider&&(e._regionNames=e.regionProvider.regionNames,(0,m.default)(e._regionsCatalogItem)&&(e._regionsCatalogItem.isEnabled=!1,e._regionsCatalogItem=void 0),e._regionsCatalogItem=new C.default(e.props.previewed.terria),e._regionsCatalogItem.name="Available Regions",e._regionsCatalogItem.url=e.regionProvider.analyticsWmsServer,e._regionsCatalogItem.layers=e.regionProvider.analyticsWmsLayerName,e._regionsCatalogItem.parameters={styles:"border_black_fill_aqua"},e._regionsCatalogItem.isEnabled=!0,e._loadingRegionProvider=void 0)})}},updateMapFromValue:function(){if((0,m.default)(this.regionProvider)){(0,m.default)(this._selectedRegionCatalogItem)&&(this._selectedRegionCatalogItem.isEnabled=!1,this._selectedRegionCatalogItem=void 0);var e=this.regionValue,t=this.props.previewed.terria,n=this;this.regionProvider.getRegionFeature(t,e,n._lastRegionFeature).then(function(e){(0,m.default)(e)&&((0,m.default)(n._selectedRegionCatalogItem)&&(n._selectedRegionCatalogItem.isEnabled=!1,n._selectedRegionCatalogItem=void 0),(0,m.default)(e)&&"Feature"===e.type&&(n._selectedRegionCatalogItem=new b.default(n.props.previewed.terria),n._selectedRegionCatalogItem.name="Selected Polygon",n._selectedRegionCatalogItem.data=e,n._selectedRegionCatalogItem.isEnabled=!0,n._selectedRegionCatalogItem.zoomTo()))}).otherwise(function(){n.props.parameter.value===e&&(0,m.default)(n._selectedRegionCatalogItem)&&(n._selectedRegionCatalogItem.isEnabled=!1,n._selectedRegionCatalogItem=void 0)})}},textChange:function(e){if(this.regionValue=void 0,(0,m.default)(e.target.value)&&(0,m.default)(this.regionProvider)){if(!(0,m.default)(e.target.value))return void this.setState({autocompleteVisible:!1,autocompleteOptions:[],autocompleteText:void 0});var t=[],n=this.regionProvider.regions,r=this._regionNames;if(n&&n.length>0)for(var i=0;i<n.length;i++){var o=r[i];if(o&&o.toLowerCase().indexOf(e.target.value.toLowerCase())>=0&&(t.push({name:o,id:n[i].id,FID:n[i].FID,realRegion:n[i]}),t.length>=100))break}this.setState({autocompleteVisible:t.length>0&&t.length<=100,autocompleteOptions:t,autocompleteText:e.target.value})}},selectRegion:function(e){this.regionValue=e,this.setState({autocompleteVisible:!1,autocompleteOptions:[],autocompleteText:void 0}),this.updateMapFromValue()},render:function(){return l.default.createElement("div",{className:M.default.parameterEditor},l.default.createElement(T.default,{previewed:this.props.previewed,parameter:this.props.parameter.regionTypeParameter}),l.default.createElement("input",{className:M.default.field,type:"text",autoComplete:"off",value:this.state.autocompleteText||O.getDisplayValue(this.regionValue,this.props.parameter),onChange:this.textChange,placeholder:"Region name"}),this.renderOptions())},renderOptions:function(){var e,t=this,n=(0,s.default)((e={},i(e,M.default.autocomplete,!0),i(e,M.default.isHidden,!this.state.autocompleteVisible),e));return l.default.createElement("ul",{className:n},this.state.autocompleteOptions.map(function(e,n){return l.default.createElement("li",{key:n},l.default.createElement("button",{type:"button",className:M.default.autocompleteItem,onClick:t.selectRegion.bind(t,e)},e.name))}))}});O.getDisplayValue=function(e,t){if(!(0,m.default)(e))return"";var n=t.regionProvider,r="",i=n.regions.indexOf(e);return r=i>=0&&n.regionNames[i]?n.regionNames[i]:e.id,(0,m.default)(r)?n.regionType+": "+r:""},e.exports=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(0),h=r(c),d=n(13),f=r(d),p=n(85),m=r(p),g=n(11),_=r(g),v=n(714),A=r(v),y=n(716),b=r(y),w=n(67),x=r(w),E=(0,s.default)({displayName:"RegionDataParameterEditor",mixins:[_.default],propTypes:{previewed:l.default.object,parameter:l.default.object},UNSAFE_componentWillMount:function(){this.catalogItemDetails={}},UNSAFE_componentWillReceiveProps:function(e){this.catalogItemDetails={}},getValue:function(){return this.props.parameter.value},setValue:function(e){this.props.parameter.value=e},regionProvider:function(){return this.props.parameter.regionProvider},catalogItemsWithMatchingRegion:function(){return this.props.parameter.getEnabledItemsWithMatchingRegionType()},toggleActive:function(e,t){var n=this.getValue();if(this.isActive(e,t))n[t.name]=!1,this.getCatalogItemDetails(this.catalogItemDetails,e).isEntirelyActive=!1;else if(n[t.name]={regionProvider:this.regionProvider(),regionColumn:e.regionMapping.tableStructure.getColumnWithNameOrId(e.regionMapping.regionDetails[0].columnName),valueColumn:t},this.props.parameter.singleSelect)for(var r in n)n.hasOwnProperty(r)&&r!==t.name&&(n[r]=!1)},isActive:function(e,t){var n=this.getValue();return(0,h.default)(n)||(n={},this.setValue(n)),(0,h.default)(n[t.name])||(n[t.name]=!1,f.default.track(n,[t.name]),this.props.parameter.singleSelect&&1!==Object.keys(n).length||(n[t.name]={regionProvider:this.regionProvider(),regionColumn:e.regionMapping.tableStructure.getColumnWithNameOrId(e.regionMapping.regionDetails[0].columnName),valueColumn:t})),(0,h.default)(n[t.name])&&n[t.name]&&n[t.name].regionColumn===e.regionMapping.tableStructure.getColumnWithNameOrId(e.regionMapping.regionDetails[0].columnName)&&n[t.name].valueColumn===t},getCatalogItemDetails:function(e,t){return(0,h.default)(e[t.uniqueId])||(e[t.uniqueId]={isOpen:!0,isEntirelyActive:!0},f.default.track(e,[t.uniqueId]),f.default.track(e[t.uniqueId],["isOpen","isEntirelyActive"])),e[t.uniqueId]},toggleEntireCatalogItem:function(e){var t=this.getCatalogItemDetails(this.catalogItemDetails,e);t.isEntirelyActive=!t.isEntirelyActive;for(var n=e.regionMapping.tableStructure.columns,r=0;r<n.length;++r){var i=n[r];if(this.columnIsScalar(e,i)){var o=this.isActive(e,i);(!o&&t.isEntirelyActive||o&&!t.isEntirelyActive)&&this.toggleActive(e,i)}}},catalogItemIsOpen:function(e){return this.getCatalogItemDetails(this.catalogItemDetails,e).isOpen},toggleOpenCatalogItem:function(e){var t=this.getCatalogItemDetails(this.catalogItemDetails,e);t.isOpen=!t.isOpen},isEntireCatalogItemActive:function(e){return this.getCatalogItemDetails(this.catalogItemDetails,e).isEntirelyActive},render:function(){return o.default.createElement("div",{className:x.default.parameterEditor},this.renderContent())},renderContent:function(){return this.catalogItemsWithMatchingRegion().length>0?o.default.createElement("div",{className:x.default.data},o.default.createElement("ul",{className:x.default.tree},this.catalogItemsWithMatchingRegion().map(function(e,t){return o.default.createElement(b.default,{key:e.uniqueId,text:e.name,topLevel:!1,open:this.catalogItemIsOpen(e),onClick:this.toggleOpenCatalogItem.bind(this,e),loading:!1},this.renderItemChildren(e))},this))):o.default.createElement("div",{className:x.default.parameterEditorImportantNote},"No characteristics are available because you have not added any data to the map for this region type, ",this.regionProvider()?this.regionProvider().regionType:"None",". You may use your own data with this analysis by creating a CSV following the ",o.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/TerriaJS/nationalmap/wiki/csv-geo-au"},"csv-geo-au")," guidelines and dragging and dropping it onto the map.")},renderItemChildren:function(e){var t=this;return o.default.createElement("ul",{className:x.default.tree},e.regionMapping.tableStructure.columns.map(function(n,r){if(n.type===m.default.SCALAR)return o.default.createElement(A.default,{key:n.id,onTextClick:t.toggleActive.bind(t,e,n),selected:t.isActive(e,n),text:n.name,onBtnClick:t.toggleActive.bind(t,e,n),btnState:t.isActive(e,n)?"remove":"add"})}))}});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(30),h=r(c),d=n(11),f=r(d),p=n(67),m=r(p),g=(0,s.default)({displayName:"BooleanParameterEditor",mixins:[f.default],propTypes:{previewed:l.default.object,parameter:l.default.object},onClick:function(){this.props.parameter.value=!this.props.parameter.value},renderCheckbox:function(){var e=void 0!==this.props.parameter.value?this.props.parameter.value:this.props.parameter.defaultValue,t=this.props.parameter.name,n=this.props.parameter.description;return o.default.createElement("div",null,o.default.createElement("button",{type:"button",className:m.default.btnRadio,title:n,onClick:this.onClick},e&&o.default.createElement(h.default,{glyph:h.default.GLYPHS.checkboxOn}),!e&&o.default.createElement(h.default,{glyph:h.default.GLYPHS.checkboxOff}),t))},renderRadio:function(e){var t=void 0,n=void 0,r=this.props.parameter.value===e;return!0===e?(t=this.props.parameter.trueName||this.props.parameter.name,n=this.props.parameter.trueDescription||this.props.parameter.description):(t=this.props.parameter.falseName||this.props.parameter.name,n=this.props.parameter.falseDescription||this.props.parameter.description),o.default.createElement("div",null,o.default.createElement("button",{type:"button",className:m.default.btnRadio,title:n,onClick:this.onClick},r&&o.default.createElement(h.default,{glyph:h.default.GLYPHS.radioOn}),!r&&o.default.createElement(h.default,{glyph:h.default.GLYPHS.radioOff}),t))},render:function(){return o.default.createElement("div",null,!this.props.parameter.hasNamedStates&&this.renderCheckbox(),this.props.parameter.hasNamedStates&&o.default.createElement("div",null,this.renderRadio(!0),this.renderRadio(!1)))}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(0),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(11),f=r(d),p=n(67),m=r(p),g=(0,l.default)({displayName:"DateTimeParameterEditor",mixins:[f.default],propTypes:{previewed:h.default.object,parameter:h.default.object},getInitialState:function(){return this.getDateTime()},getDateTime:function(){var e={},t=this.props.parameter.value;if(void 0!==t){var n=t.split("T");e.date=n[0],0===n[1].length?e.time="00:00":e.time=n[1]}else e.date="",e.time="00:00";return this.setDateTime(e),e},setDateTime:function(e){var t=void 0;e.date&&e.time&&(t=e.date+"T"+e.time),this.props.parameter.value=t},onChangeDate:function(e){var t=this.getDateTime();t.date=e.target.value,this.setDateTime(t),this.setState(t)},onChangeTime:function(e){var t=this.getDateTime();t.time=e.target.value,this.setDateTime(t),this.setState(t)},render:function(){var e=(0,s.default)(this.props.parameter)&&(0,s.default)(this.props.parameter.value)?m.default.field:m.default.fieldDatePlaceholder;return o.default.createElement("div",null,o.default.createElement("input",{className:e,type:"date",placeholder:"YYYY-MM-DD",onChange:this.onChangeDate,value:this.state.date}),o.default.createElement("input",{className:e,type:"time",placeholder:"HH:mm:ss.sss",onChange:this.onChangeTime,value:this.state.time}))}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(11),h=r(c),d=n(67),f=r(d),p=(0,s.default)({displayName:"EnumerationParameterEditor",mixins:[h.default],propTypes:{previewed:l.default.object,parameter:l.default.object},getInitialState:function(){return{value:this.props.parameter.value}},onChange:function(e){this.props.parameter.value=e.target.value},render:function(){return o.default.createElement("select",{className:f.default.field,onChange:this.onChange,value:this.props.parameter.value},this.props.parameter.possibleValues.map(function(e,t){return o.default.createElement("option",{value:e,key:t},e)}))}});e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(11),h=r(c),d=n(67),f=r(d),p=(0,s.default)({displayName:"GenericParameterEditor",mixins:[h.default],propTypes:{previewed:l.default.object,parameter:l.default.object},onChange:function(e){this.props.parameter.value=e.target.value},render:function(){return o.default.createElement("input",{className:f.default.field,type:"text",onChange:this.onChange,value:this.props.parameter.value})}});e.exports=p},function(e,t){e.exports={"invoke-function":"tjs-invoke-function__invoke-function",invokeFunction:"tjs-invoke-function__invoke-function",footer:"tjs-invoke-function__footer",content:"tjs-invoke-function__content tjs-_base__scrollbars",description:"tjs-invoke-function__description",btn:"tjs-invoke-function__btn tjs-_buttons__btn tjs-_buttons__btn-primary"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(1768),h=r(c),d=n(410),f=r(d),p=n(11),m=r(p),g=n(414),_=r(g),v=(0,s.default)({displayName:"MappablePreview",mixins:[m.default],propTypes:{previewed:l.default.object.isRequired,terria:l.default.object.isRequired,viewState:l.default.object.isRequired},toggleOnMap:function(e){this.props.previewed.toggleEnabled(),!0!==this.props.previewed.isEnabled||e.shiftKey||e.ctrlKey||(this.props.viewState.explorerPanelIsVisible=!1,this.props.viewState.mobileView=null)},backToMap:function(){this.props.viewState.explorerPanelIsVisible=!1},render:function(){var e=this.props.previewed.nowViewingCatalogItem||this.props.previewed;return o.default.createElement("div",{className:_.default.root},e.isMappable&&!e.disablePreview?o.default.createElement(h.default,{terria:this.props.terria,previewedCatalogItem:e,showMap:!this.props.viewState.explorerPanelAnimating||this.props.viewState.useSmallScreenInterface}):null,o.default.createElement("button",{type:"button",onClick:this.toggleOnMap,className:_.default.btnAdd},this.props.previewed.isEnabled?"Remove from the map":"Add to the map"),o.default.createElement("div",{className:_.default.previewedInfo},o.default.createElement("h3",{className:_.default.h3},e.name),o.default.createElement(f.default,{item:e})))}});t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(28),o=r(i),a=n(1769),s=r(a),u=n(9),l=n(687),c=n(1),h=n(0),d=n(51),f=n(11),p=n(371),m=n(4),g=n(8),_=n(5),v=n(395),A=n(725),y=n(133),b=n(7),w=g({displayName:"DataPreviewMap",mixins:[f],propTypes:{terria:_.object.isRequired,previewedCatalogItem:_.object,showMap:_.bool},getInitialState:function(){return{previewBadgeText:"PREVIEW LOADING..."}},UNSAFE_componentWillMount:function(){var e=this,t=this.props.terria;this.terriaPreview=new v({appName:t.appName+" preview",supportEmail:t.supportEmail,baseUrl:t.baseUrl,cesiumBaseUrl:t.cesiumBaseUrl,analytics:new l}),this.terriaPreview.viewerMode=y.Leaflet,this.terriaPreview.homeView=t.homeView,this.terriaPreview.initialView=t.homeView,this.terriaPreview.regionMappingDefinitionsUrl=t.regionMappingDefinitionsUrl,this._unsubscribeErrorHandler=this.terriaPreview.error.addEventListener(function(t){(t.sender===e.props.previewedCatalogItem||t.sender&&t.sender.nowViewingCatalogItem===e.props.previewedCatalogItem)&&(e._errorPreviewingCatalogItem=!0,e.setState({previewBadgeText:"NO PREVIEW AVAILABLE"}))});var n=new p(this.terriaPreview);n.name="Positron (Light)",n.url="//global.ssl.fastly.net/light_all/",n.attribution="© OpenStreetMap contributors ODbL, © CartoDB CC-BY 3.0",n.opacity=1,n.subdomains=["cartodb-basemaps-a","cartodb-basemaps-b","cartodb-basemaps-c","cartodb-basemaps-d"],this.terriaPreview.baseMap=n,this.isZoomedToExtent=!1,this.lastPreviewedCatalogItem=void 0,this.removePreviewFromMap=void 0},componentWillUnmount:function(){this.destroyPreviewMap(),this._unsubscribeErrorHandler&&(this._unsubscribeErrorHandler(),this._unsubscribeErrorHandler=void 0)},UNSAFE_componentWillReceiveProps:function(e){e.showMap&&!this.props.showMap?this.initMap(e.previewedCatalogItem):this.updatePreview(e.previewedCatalogItem)},updatePreview:function(e){var t=this;if(this.lastPreviewedCatalogItem!==e){e&&this.props.terria.analytics.logEvent("dataSource","preview",e.name),this.lastPreviewedCatalogItem=e,this.setState({previewBadgeText:"DATA PREVIEW LOADING..."}),this.isZoomedToExtent=!1,this.terriaPreview.currentViewer.zoomTo(this.terriaPreview.homeView),h(this.removePreviewFromMap)&&(this.removePreviewFromMap(),this.removePreviewFromMap=void 0),h(this.rectangleCatalogItem)&&(this.rectangleCatalogItem.isEnabled=!1);var n=e;if(n&&h(n.type)&&n.isMappable){var r=this;return b(n.load()).then(function(){var e=void 0,i=void 0;return h(n.nowViewingCatalogItem)?(e=n.nowViewingCatalogItem,i=b(e.load())):(e=n,i=b()),i.then(function(){r._unsubscribeErrorHandler&&n===r.lastPreviewedCatalogItem&&(h(e.showOnSeparateMap)?(h(e.clock)&&h(e.clock.currentTime)&&(r.terriaPreview.clock.currentTime=e.clock.currentTime),t._errorPreviewingCatalogItem=!1,r.removePreviewFromMap=e.showOnSeparateMap(r.terriaPreview.currentViewer),t._errorPreviewingCatalogItem?t.setState({previewBadgeText:"NO PREVIEW AVAILABLE"}):r.removePreviewFromMap?t.setState({previewBadgeText:"DATA PREVIEW"}):t.setState({previewBadgeText:"NO PREVIEW AVAILABLE"})):t.setState({previewBadgeText:"NO PREVIEW AVAILABLE"}),r.updateBoundingRectangle(n))})}).otherwise(function(e){console.error(e),t.setState({previewBadgeText:"DATA PREVIEW ERROR"})})}}},clickMap:function(){if(h(this.props.previewedCatalogItem)){if(this.isZoomedToExtent=!this.isZoomedToExtent,this.isZoomedToExtent){var e=c(this.props.previewedCatalogItem.nowViewingCatalogItem,this.props.previewedCatalogItem);h(e.rectangle)&&this.terriaPreview.currentViewer.zoomTo(e.rectangle)}else this.terriaPreview.currentViewer.zoomTo(this.terriaPreview.homeView);this.updateBoundingRectangle(this.props.previewedCatalogItem)}},updateBoundingRectangle:function(e){if(h(this.rectangleCatalogItem)&&(this.rectangleCatalogItem.isEnabled=!1,this.rectangleCatalogItem=void 0),e=c(e.nowViewingCatalogItem,e),h(e)&&h(e.rectangle)){var t=e.rectangle.west,n=e.rectangle.south,r=e.rectangle.east,i=e.rectangle.north;if(!this.isZoomedToExtent){var o=this.terriaPreview.homeView.rectangle,a=.05*(o.east-o.west);if(r-t<a){var s=.5*(r+t);t=s-.5*a,r=s+.5*a}var l=.05*(o.north-o.south);if(i-n<l){var f=.5*(i+n);n=f-.5*l,i=f+.5*l}}t=u.toDegrees(t),n=u.toDegrees(n),r=u.toDegrees(r),i=u.toDegrees(i),this.rectangleCatalogItem=new d(this.terriaPreview),this.rectangleCatalogItem.data={type:"FeatureCollection",features:[{type:"Feature",properties:{stroke:"#08ABD5","stroke-width":2,"stroke-opacity":1,fill:"#555555","fill-opacity":0},geometry:{type:"Polygon",coordinates:[[[t,n],[t,i],[r,i],[r,n],[t,n]]]}}]},this.rectangleCatalogItem.isEnabled=!0}},mapIsReady:function(e){e&&(this.mapElement=e,this.props.showMap&&this.initMap(this.props.previewedCatalogItem))},destroyPreviewMap:function(){this.terriaViewer&&this.terriaViewer.destroy(),this.mapElement&&(this.mapElement.innerHTML="")},initMap:function(e){if(this.mapElement){this.terriaViewer=A.create(this.terriaPreview,{mapContainer:this.mapElement});var t=this.terriaViewer.terria.leaflet.map;t.touchZoom.disable(),t.doubleClickZoom.disable(),t.scrollWheelZoom.disable(),t.boxZoom.disable(),t.keyboard.disable(),t.dragging.disable(),this.updatePreview(e)}},render:function(){return m.createElement("div",{className:s.default.map,onClick:this.clickMap},this.props.showMap?m.createElement("div",{className:(0,o.default)(s.default.terriaPreview),ref:this.mapIsReady}):m.createElement("div",{className:(0,o.default)(s.default.terriaPreview,s.default.placeholder)}),m.createElement("label",{className:s.default.badge},this.state.previewBadgeText))}});e.exports=w},function(e,t){e.exports={map:"tjs-data-preview-map__map",badge:"tjs-data-preview-map__badge","terria-preview":"tjs-data-preview-map__terria-preview",terriaPreview:"tjs-data-preview-map__terria-preview",placeholder:"tjs-data-preview-map__placeholder"}},function(e,t,n){"use strict";function r(e,t){if(e||t){if(e&&!t)return new i(e);e=e||t;var n=document.createElement("a");return n.href=t,n.target="_blank",n.innerText=e,new i(n.outerHTML)}}var i=n(53);e.exports=r},function(e,t,n){var r,i;r=[n(365),n(1),n(267)],void 0!==(i=function(e,t,n){"use strict";function r(r){return r=t(r,t.EMPTY_OBJECT),new e({url:n.fromAssetId(1),requestVertexNormals:t(r.requestVertexNormals,!1),requestWaterMask:t(r.requestWaterMask,!1)})}return r}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";var r=n(219),i=n(9),o=n(25),a=n(164),s=n(1),u=n(0),l=n(298),c=n(16),h=n(432),d=n(222),f=function(e,t,n,r){this._terria=e,this._scene=t,this._ellipsoid=t.globe.ellipsoid,this._finishHandler=n,this._mouseHandler=new h(t.canvas,!1),this._stopHandler=void 0,this._interHandler=void 0,this._dataSource=void 0,this._click1=void 0,this._click2=void 0,this.active=!1,this.keyboardModifier=s(r,l.SHIFT)};f.prototype.enableInput=function(){this._scene.screenSpaceCameraController.enableInputs=!0},f.prototype.disableInput=function(){this._scene.screenSpaceCameraController.enableInputs=!1},f.prototype.getExtent=function(e,t){var n=Math.min(e.latitude,t.latitude),r=Math.max(e.latitude,t.latitude),o=Math.min(e.longitude,t.longitude),a=Math.max(e.longitude,t.longitude);a-o>Math.PI&&(o=Math.max(e.longitude,t.longitude),a=Math.min(e.longitude,t.longitude));var s=i.EPSILON6;return Math.abs(a-o)<s&&(a+=2*s),Math.abs(r-n)<s&&(r+=2*s),new c(o,n,a,r)},f.prototype.handleRegionStop=function(e){u(this._dataSource)&&(this._terria.dataSources.remove(this._dataSource,!0),this._dataSource=void 0),this._mouseHandler.removeInputAction(d.LEFT_UP,this.keyboardModifier),this._mouseHandler.removeInputAction(d.MOUSE_MOVE,this.keyboardModifier),this._mouseHandler.removeInputAction(d.LEFT_UP),this._mouseHandler.removeInputAction(d.MOUSE_MOVE),this.enableInput();var t;if(e){var n=this._scene.camera.getPickRay(e.position),r=this._scene.globe.pick(n,this._scene);r&&(this._click2=this._ellipsoid.cartesianToCartographic(r)),t=this.getExtent(this._click1,this._click2)}this._scene.primitives.remove(this._extentPrimitive),this.active=!1,this._finishHandler(t)},f.prototype.handleRegionInter=function(e){var t=this._scene.camera.getPickRay(e.endPosition),n=this._scene.globe.pick(t,this._scene);if(n){var r=this._ellipsoid.cartesianToCartographic(n);this._click2=r}},f.prototype.handleRegionStart=function(e){var t=this._scene.camera.getPickRay(e.position),n=this._scene.globe.pick(t,this._scene);if(n){if(this.disableInput(),this.active=!0,!u(this._dataSource)){var i=this;this._click1=void 0,this._click2=void 0,this._dataSource=new a("Draw Extent"),this._dataSource.entities.add({name:"Extent",rectangle:{coordinates:new r(function(e,t){if(u(i._click1)&&u(i._click2))return i.getExtent(i._click1,i._click2)},!1),material:new o(1,1,1,.5)}}),this._terria.dataSources.add(this._dataSource)}this._click1=this._ellipsoid.cartesianToCartographic(n),this._mouseHandler.setInputAction(function(e){i.handleRegionStop(e)},d.LEFT_UP,this.keyboardModifier),this._mouseHandler.setInputAction(function(e){i.handleRegionInter(e)},d.MOUSE_MOVE,this.keyboardModifier),this._mouseHandler.setInputAction(function(e){i.handleRegionStop(e)},d.LEFT_UP),this._mouseHandler.setInputAction(function(e){i.handleRegionInter(e)},d.MOUSE_MOVE)}},f.prototype.start=function(){var e=this;this._mouseHandler.setInputAction(function(t){e.handleRegionStart(t)},d.LEFT_DOWN,this.keyboardModifier)},f.prototype.destroy=function(){this._mouseHandler.destroy(),this._scene=void 0},e.exports=f},function(e,t,n){var r,i;r=[n(1),n(0),n(2),n(21),n(3),n(15),n(117),n(187)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(n){function r(){c(i)}this._scene=n.scene,this.samplingWindow=e(n.samplingWindow,u.defaultSettings.samplingWindow),this.quietPeriod=e(n.quietPeriod,u.defaultSettings.quietPeriod),this.warmupPeriod=e(n.warmupPeriod,u.defaultSettings.warmupPeriod),this.minimumFrameRateDuringWarmup=e(n.minimumFrameRateDuringWarmup,u.defaultSettings.minimumFrameRateDuringWarmup),this.minimumFrameRateAfterWarmup=e(n.minimumFrameRateAfterWarmup,u.defaultSettings.minimumFrameRateAfterWarmup),this._lowFrameRate=new o,this._nominalFrameRate=new o,this._frameTimes=[],this._needsQuietPeriod=!0,this._quietPeriodEndTime=0,this._warmupPeriodEndTime=0,this._frameRateIsLow=!1,this._lastFramesPerSecond=void 0,this._pauseCount=0;var i=this;this._preUpdateRemoveListener=this._scene.preUpdate.addEventListener(function(e,t){l(i,t)}),this._hiddenPropertyName=void 0!==document.hidden?"hidden":void 0!==document.mozHidden?"mozHidden":void 0!==document.msHidden?"msHidden":void 0!==document.webkitHidden?"webkitHidden":void 0;var a=void 0!==document.hidden?"visibilitychange":void 0!==document.mozHidden?"mozvisibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychange":void 0;this._visibilityChangeRemoveListener=void 0,t(a)&&(document.addEventListener(a,r,!1),this._visibilityChangeRemoveListener=function(){document.removeEventListener(a,r,!1)})}function l(e,t){if(!(e._pauseCount>0)){var n=a();if(e._needsQuietPeriod)e._needsQuietPeriod=!1,e._frameTimes.length=0,e._quietPeriodEndTime=n+e.quietPeriod/s.SECONDS_PER_MILLISECOND,e._warmupPeriodEndTime=e._quietPeriodEndTime+(e.warmupPeriod+e.samplingWindow)/s.SECONDS_PER_MILLISECOND;else if(n>=e._quietPeriodEndTime){e._frameTimes.push(n);var r=n-e.samplingWindow/s.SECONDS_PER_MILLISECOND;if(e._frameTimes.length>=2&&e._frameTimes[0]<=r){for(;e._frameTimes.length>=2&&e._frameTimes[1]<r;)e._frameTimes.shift();var i=(n-e._frameTimes[0])/(e._frameTimes.length-1);e._lastFramesPerSecond=1e3/i;var o=1e3/(n>e._warmupPeriodEndTime?e.minimumFrameRateAfterWarmup:e.minimumFrameRateDuringWarmup);i>o?e._frameRateIsLow||(e._frameRateIsLow=!0,e._needsQuietPeriod=!0,e.lowFrameRate.raiseEvent(e.scene,e._lastFramesPerSecond)):e._frameRateIsLow&&(e._frameRateIsLow=!1,e._needsQuietPeriod=!0,e.nominalFrameRate.raiseEvent(e.scene,e._lastFramesPerSecond))}}}}function c(e){document[e._hiddenPropertyName]?e.pause():e.unpause()}return u.defaultSettings={samplingWindow:5,quietPeriod:2,warmupPeriod:5,minimumFrameRateDuringWarmup:4,minimumFrameRateAfterWarmup:8},u.fromScene=function(e){return t(e._frameRateMonitor)&&!e._frameRateMonitor.isDestroyed()||(e._frameRateMonitor=new u({scene:e})),e._frameRateMonitor},n(u.prototype,{scene:{get:function(){return this._scene}},lowFrameRate:{get:function(){return this._lowFrameRate}},nominalFrameRate:{get:function(){return this._nominalFrameRate}},lastFramesPerSecond:{get:function(){return this._lastFramesPerSecond}}}),u.prototype.pause=function(){1===++this._pauseCount&&(this._frameTimes.length=0,this._lastFramesPerSecond=void 0)},u.prototype.unpause=function(){--this._pauseCount<=0&&(this._pauseCount=0,this._needsQuietPeriod=!0)},u.prototype.isDestroyed=function(){return!1},u.prototype.destroy=function(){return this._preUpdateRemoveListener(),t(this._visibilityChangeRemoveListener)&&this._visibilityChangeRemoveListener(),r(this)},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){"use strict";function r(e){a.typeOf.object("options",e),a.typeOf.object("options.scene",e.scene),a.typeOf.object("options.dataSourceCollection",e.dataSourceCollection),this._displayID=s();var t=e.scene,n=e.dataSourceCollection;this._eventHelper=new f,this._eventHelper.add(n.dataSourceAdded,this._onDataSourceAdded,this),this._eventHelper.add(n.dataSourceRemoved,this._onDataSourceRemoved,this),this._eventHelper.add(n.dataSourceMoved,this._onDataSourceMoved,this),this._dataSourceCollection=n,this._scene=t,this._visualizersCallback=l(e.visualizersCallback,r.defaultVisualizersCallback);for(var i=0,o=n.length;i<o;i++)this._onDataSourceAdded(n,n.get(i));var c=new u;this._onDataSourceAdded(void 0,c),this._defaultDataSource=c,this._ready=!1}var i=n(38),o=n(744),a=n(12),s=n(101),u=n(164),l=n(1),c=n(0),h=n(2),d=n(21),f=n(217);r.defaultVisualizersCallback=function(e,t,n){return[]},h(r.prototype,{scene:{get:function(){return this._scene}},dataSources:{get:function(){return this._dataSourceCollection}},defaultDataSource:{get:function(){return this._defaultDataSource}},ready:{get:function(){return this._ready}}}),r.prototype.isDestroyed=function(){return!1},r.prototype.destroy=function(){this._eventHelper.removeAll();for(var e=this._dataSourceCollection,t=0,n=e.length;t<n;++t)this._onDataSourceRemoved(this._dataSourceCollection,e.get(t));return this._onDataSourceRemoved(void 0,this._defaultDataSource),d(this)},r.prototype.update=function(e){a.defined("time",e);var t,n,r,i,o=!0,s=this._dataSourceCollection,u=s.length;for(t=0;t<u;t++){var l=s.get(t);for(c(l.update)&&(o=l.update(e)&&o),r=l._visualizersByDisplayID[this._displayID],i=r.length,n=0;n<i;n++)o=r[n].update(e)&&o}for(r=this._defaultDataSource._visualizersByDisplayID[this._displayID],i=r.length,n=0;n<i;n++)o=r[n].update(e)&&o;return this._ready=o,o};var p=[],m=new i;r.prototype.getBoundingSphere=function(e,t,n){if(a.defined("entity",e),a.typeOf.bool("allowPartial",t),a.defined("result",n),!this._ready)return o.PENDING;var r,s,u=this._defaultDataSource;if(!u.entities.contains(e)){u=void 0;var l=this._dataSourceCollection;for(s=l.length,r=0;r<s;r++){var h=l.get(r);if(h.entities.contains(e)){u=h;break}}}if(!c(u))return o.FAILED;var d=p,f=m,g=0,_=o.DONE,v=u._visualizers,A=v.length;for(r=0;r<A;r++){var y=v[r];if(c(y.getBoundingSphere)){if(_=v[r].getBoundingSphere(e,f),!t&&_===o.PENDING)return o.PENDING;_===o.DONE&&(d[g]=i.clone(f,d[g]),g++)}}return 0===g?o.FAILED:(d.length=g,i.fromBoundingSpheres(d,n),o.DONE)},r.prototype._onDataSourceAdded=function(e,t){var n=this._visualizersCallback(this._scene,void 0,t);t._visualizersByDisplayID=t._visualizersByDisplayID||{},t._visualizersByDisplayID[this._displayID]=n,t._visualizers=t._visualizers||[],t._visualizers=t._visualizers.concat(n)},r.prototype._onDataSourceRemoved=function(e,t){var n=t._visualizersByDisplayID[this._displayID];if(c(n)){for(var r=n.length,i=0;i<r;i++){var o=n[i];o.destroy();var a=t._visualizers.indexOf(o);t._visualizers.splice(a,1)}delete t._visualizersByDisplayID[this._displayID]}},r.prototype._onDataSourceMoved=function(e,t,n){},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){var r=n[e.id];i(e,t,r),o(e,t,r),a(e,t,r),s(e,t,r),u(e,t,r),delete n[e.id]}function i(e,t,n){b(n.point)&&(t.removeLayer(n.point.layer),n.point=void 0)}function o(e,t,n){b(n.polygon)&&(t.removeLayer(n.polygon.layer),n.polygon=void 0)}function a(e,t,n){b(n.billboard)&&(t.removeLayer(n.billboard.layer),n.billboard=void 0)}function s(e,t,n){b(n.label)&&(t.removeLayer(n.label.layer),n.label=void 0)}function u(e,t,n){b(n.polyline)&&(t.removeLayer(n.polyline.layer),n.polyline=void 0)}function l(e){var t=E.WGS84.cartesianToCartographic(e,P);return p.latLng(A.toDegrees(t.latitude),A.toDegrees(t.longitude))}function c(e){for(var t=Array.isArray(e)?e:e.positions,n=E.WGS84.cartesianArrayToCartographicArray(t),r=[],i=0;i<n.length;++i)r.push(p.latLng(A.toDegrees(n[i].latitude),A.toDegrees(n[i].longitude)));return r}function h(e,t){var n=document.createElement("canvas");n.width=e.width,n.height=e.height;var r=n.getContext("2d");r.drawImage(e,0,0);for(var i=r.getImageData(0,0,n.width,n.height),o=[t.red,t.green,t.blue,t.alpha],a=i.data.length,s=0;s<a;s+=4)for(var u=0;u<4;u++)i.data[u+s]*=o[u];return r.putImageData(i,0,0),n.toDataURL()}function d(e,t,n){e._leafletScene.featureClicked.raiseEvent(t,n)}function f(e,t,n){e._leafletScene.featureMousedown.raiseEvent(t,n)}var p=n(142),m=n(182),g=n(17),_=n(10),v=n(24),A=n(9),y=n(25),b=n(0),w=n(21),x=n(3),E=n(23),C=n(89),S=n(446),T=n(454),I=y.WHITE,M=y.BLACK,O=function e(t,n){if(!b(t))throw new x("leafletScene is required.");if(!b(n))throw new x("entityCollection is required.");var r=p.featureGroup().addTo(t.map);n.collectionChanged.addEventListener(e.prototype._onCollectionChanged,this),this._leafletScene=t,this._featureGroup=r,this._entityCollection=n,this._entitiesToVisualize=new m,this._entityHash={},this._onCollectionChanged(n,n.values,[],[])};O.prototype._onCollectionChanged=function(e,t,n,i){var o,a,s=this._featureGroup,u=this._entitiesToVisualize,l=this._entityHash;for(o=t.length-1;o>-1;o--)a=t[o],((b(a._point)||b(a._billboard)||b(a._label))&&b(a._position)||b(a._polyline)||b(a._polygon))&&(u.set(a.id,a),l[a.id]={});for(o=i.length-1;o>-1;o--)a=i[o],(b(a._point)||b(a._billboard)||b(a._label))&&b(a._position)||b(a._polyline)||b(a._polygon)?(u.set(a.id,a),l[a.id]=l[a.id]||{}):(r(a,s,l),u.remove(a.id));for(o=n.length-1;o>-1;o--)a=n[o],r(a,s,l),u.remove(a.id)},O.prototype.update=function(e){if(!b(e))throw new x("time is required.");for(var t=this._entitiesToVisualize.values,n=this._entityHash,r=0,i=t.length;r<i;r++){var o=t[r],a=n[o.id];b(o._point)&&this._updatePoint(o,e,n,a),b(o._billboard)&&this._updateBillboard(o,e,n,a),b(o._label)&&this._updateLabel(o,e,n,a),b(o._polyline)&&this._updatePolyline(o,e,n,a),b(o._polygon)&&this._updatePolygon(o,e,n,a)}return!0};var P=new v;O.prototype._updatePoint=function(e,t,n,r){var o=this._featureGroup,a=e._point;if(!e.isAvailable(t)||!C.getValueOrDefault(a._show,t,!0))return void i(e,o,r);var s=r.point;b(s)||(s=r.point={layer:void 0,lastPosition:new _,lastPixelSize:1,lastColor:new y,lastOutlineColor:new y,lastOutlineWidth:1});var u=C.getValueOrUndefined(e._position,t);if(!b(u))return void i(e,o,r);var c=C.getValueOrDefault(a._pixelSize,t,5),h=C.getValueOrDefault(a._color,t,I),m=C.getValueOrDefault(a._outlineColor,t,M),g=C.getValueOrDefault(a._outlineWidth,t,1),v=s.layer;if(!b(v)){var A={radius:c/2,fillColor:h.toCssColorString(),fillOpacity:h.alpha,color:m.toCssColorString(),weight:g,opacity:m.alpha};return v=s.layer=p.circleMarker(l(u),A),v.on("click",d.bind(void 0,this,e)),v.on("mousedown",f.bind(void 0,this,e)),o.addLayer(v),_.clone(u,s.lastPosition),s.lastPixelSize=c,y.clone(h,s.lastColor),y.clone(m,s.lastOutlineColor),void(s.lastOutlineWidth=g)}_.equals(u,s.lastPosition)||(v.setLatLng(l(u)),_.clone(u,s.lastPosition)),c!==s.lastPixelSize&&(v.setRadius(c/2),s.lastPixelSize=c);var w=v.options,x=!1;y.equals(h,s.lastColor)||(w.fillColor=h.toCssColorString(),w.fillOpacity=h.alpha,y.clone(h,s.lastColor),x=!0),y.equals(m,s.lastOutlineColor)||(w.color=m.toCssColorString(),w.opacity=m.alpha,y.clone(m,s.lastOutlineColor),x=!0),g!==s.lastOutlineWidth&&(w.weight=g,s.lastOutlineWidth=g,x=!0),x&&v.setStyle(w)},O.prototype._updatePolygon=function(e,t,n,r){var i=this._featureGroup,a=e._polygon;if(!e.isAvailable(t)||!C.getValueOrDefault(a._show,t,!0))return void o(e,i,r);var s=r.polygon;b(s)||(s=r.polygon={layer:void 0,lastHierarchy:void 0,lastFill:void 0,lastFillColor:new y,lastOutline:void 0,lastOutlineColor:new y});var u=C.getValueOrUndefined(a._hierarchy,t);if(!b(u))return void o(e,i,r);var l,h=C.getValueOrDefault(a._fill,t,!0),m=C.getValueOrDefault(a._outline,t,!0),g=C.getValueOrDefault(a._outlineColor,t,M),_=C.getValueOrUndefined(a._material,t);l=b(_)&&b(_.color)?_.color:I;var v=s.layer;if(!b(v)){var A={fill:h,fillColor:l.toCssColorString(),fillOpacity:l.alpha,weight:m?1:0,color:g.toCssColorString(),opacity:g.alpha};return v=s.layer=p.polygon(c(u),A),v.on("click",d.bind(void 0,this,e)),v.on("mousedown",f.bind(void 0,this,e)),i.addLayer(v),s.lastHierarchy=u,s.lastFill=h,s.lastOutline=m,y.clone(l,s.lastFillColor),void y.clone(g,s.lastOutlineColor)}u!==s.lastHierachy&&(v.setLatLngs(c(u)),s.lastHierachy=u);var w=v.options,x=!1;h!==s.lastFill&&(w.fill=h,s.lastFill=h,x=!0),m!==s.lastOutline&&(w.weight=m?1:0,s.lastOutline=m,x=!0),y.equals(l,s.lastFillColor)||(w.fillColor=l.toCssColorString(),w.fillOpacity=l.alpha,y.clone(l,s.lastFillColor),x=!0),y.equals(g,s.lastOutlineColor)||(w.color=g.toCssColorString(),w.opacity=g.alpha,y.clone(g,s.lastOutlineColor),x=!0),x&&v.setStyle(w)};var D="data:image/gif;base64,R0lGODlhAQABAPAAAAAAAP///yH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==";O.prototype._updateBillboard=function(e,t,n,r){var i,o,s=e._billboard,u=this._featureGroup,l=r.billboard;b(l)||(l=r.billboard={layer:void 0});var c=l.layer,m=e.isAvailable(t)&&C.getValueOrDefault(s._show,t,!0);if(m&&(i=C.getValueOrUndefined(e._position,t),m=b(i)),!m)return void a(e,u,r);var _,v=E.WGS84.cartesianToCartographic(i),y=p.latLng(A.toDegrees(v.latitude),A.toDegrees(v.longitude)),w=C.getValueOrDefault(s._image,t,void 0),x=C.getValueOrDefault(s._height,t,void 0),S=C.getValueOrDefault(s._width,t,void 0),T=C.getValueOrDefault(s._color,t,I),M=C.getValueOrDefault(s._scale,t,1),O=C.getValueOrDefault(s._verticalOrigin,t,0),P=C.getValueOrDefault(s._horizontalOrigin,t,0),B=C.getValueOrDefault(s._pixelOffset,t,g.ZERO);b(w)&&(_="string"==typeof w?w:b(w.toDataURL)?w.toDataURL():w.src);var L={color:T.toCssColorString(),origUrl:_,scale:M,horizontalOrigin:P,verticalOrigin:O};(b(x)||b(S))&&(L.iconSize=[S,x]);var N=!1;if(b(c)){o=c,o._latlng.equals(y)||o.setLatLng(y);for(var R in L)if(L[R]!==o.options.icon.options[R]){N=!0;break}}else{var k={icon:p.icon({iconUrl:D})};o=p.marker(y,k),o.on("click",d.bind(void 0,this,e)),o.on("mousedown",f.bind(void 0,this,e)),u.addLayer(o),l.layer=o,N=!0}if(N){var F=function(e,t){L.iconUrl=t||e,b(L.iconSize)||(L.iconSize=[e.width*M,e.height*M]);var n=L.iconSize[0],r=L.iconSize[1],i=n/2*(1-P)-B.x,a=r/2*(1+O)-B.y;L.iconAnchor=[i,a],T.equals(I)||(L.iconUrl=h(e,T)),o.setIcon(p.icon(L))},U=new Image;U.onload=function(){F(U,_)},U.src=_}},O.prototype._updateLabel=function(e,t,n,r){var i,o,a=e._label,u=this._featureGroup,l=r.label;b(l)||(l=r.label={layer:void 0});var c=l.layer,h=e.isAvailable(t)&&C.getValueOrDefault(a._show,t,!0);if(h&&(i=C.getValueOrUndefined(e._position,t),h=b(i)),!h)return void s(e,u,r);var m=E.WGS84.cartesianToCartographic(i),_=p.latLng(A.toDegrees(m.latitude),A.toDegrees(m.longitude)),v=C.getValueOrDefault(a._text,t,void 0),y=C.getValueOrDefault(a._font,t,void 0),w=C.getValueOrDefault(a._scale,t,1),x=C.getValueOrDefault(a._fillColor,t,I),T=C.getValueOrDefault(a._verticalOrigin,t,0),M=C.getValueOrDefault(a._horizontalOrigin,t,0),O=C.getValueOrDefault(a._pixelOffset,t,g.ZERO),P={text:v,font:y,color:x.toCssColorString(),scale:w,horizontalOrigin:M,verticalOrigin:T},B=!1;if(b(c)){o=c,o._latlng.equals(_)||o.setLatLng(_);for(var L in P)if(P[L]!==o.options.icon.options[L]){B=!0;break}}else{var N={icon:p.icon({iconUrl:D})};o=p.marker(_,N),o.on("click",d.bind(void 0,this,e)),o.on("mousedown",f.bind(void 0,this,e)),u.addLayer(o),l.layer=o,B=!0}if(B){var R=function(e,t){P.iconUrl=t||e,b(P.iconSize)||(P.iconSize=[e.width*w,e.height*w]);var n=P.iconSize[0],r=P.iconSize[1],i=n/2*(1-M)-O.x,a=r/2*(1+T)-O.y;P.iconAnchor=[i,a],o.setIcon(p.icon(P))},k=S(v,{fillColor:x,font:y}),F=k.toDataURL(),U=new Image;U.onload=function(){R(U,F)},U.src=F}},O.prototype._updatePolyline=function(e,t,n,r){var i,o,a=e._polyline,s=this._featureGroup,l=r.polyline;b(l)||(l=r.polyline={layer:void 0});var c=l.layer,h=e.isAvailable(t)&&C.getValueOrDefault(a._show,t,!0);if(h&&(i=C.getValueOrUndefined(a._positions,t),h=b(i)),!h)return void u(e,s,r);for(var m=E.WGS84.cartesianArrayToCartographicArray(i),g=[],_=0;_<m.length;_++)g.push(p.latLng(A.toDegrees(m[_].latitude),A.toDegrees(m[_].longitude)));var v,y;a._material instanceof T?(v=I,y=5):(v=C.getValueOrDefault(a._material.color,t,I),y=C.getValueOrDefault(a._width,t,5));var w={color:v.toCssColorString(),weight:y,opacity:v.alpha};if(b(c)){o=c;for(var x=o.getLatLngs(),S=g.length!==x.length,M=0;M<x.length&&!S;M++)x[M].equals(g[M])||(S=!0);S&&o.setLatLngs(g);for(var O in w)if(w[O]!==o.options[O]){o.setStyle(w);break}}else g.length>0&&(o=p.polyline(g,w),o.on("click",d.bind(void 0,this,e)),o.on("mousedown",f.bind(void 0,this,e)),s.addLayer(o),l.layer=o)},O.prototype.isDestroyed=function(){return!1},O.prototype.destroy=function(){for(var e=this._entitiesToVisualize.values,t=this._entityHash,n=e.length-1;n>-1;n--)r(e[n],this._featureGroup,t);return this._entityCollection.collectionChanged.removeEventListener(O.prototype._onCollectionChanged,this),this._leafletScene.map.removeLayer(this._featureGroup),w(this)};var B=function(){};B.prototype.visualizersCallback=function(e,t,n){var r=n.entities;return[new O(e,r)]},e.exports=B},function(e,t,n){"use strict";function r(){if(o(i))return i;if(!window.WebGLRenderingContext)return i=!1;var e=document.createElement("canvas"),t={alpha:!1,stencil:!1,failIfMajorPerformanceCaveat:!0},n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return n?i=!0:(t.failIfMajorPerformanceCaveat=!1,n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!!n&&"slow"),i}var i,o=n(0);e.exports=r},function(e,t,n){e.exports=n.p+"0d44f6c1c46240a1fe2043605a55bca4.svg"},function(e,t){e.exports={formLabel:"tjs-search-box__formLabel",searchField:"tjs-search-box__searchField tjs-_form__field tjs-_form__input",searchData:"tjs-search-box__searchData",searchClear:"tjs-search-box__searchClear tjs-_buttons__btn"}},function(e,t){e.exports={root:"tjs-data-catalog-tab__root","data-explorer":"tjs-data-catalog-tab__data-explorer tjs-tabs__tab-left-col",dataExplorer:"tjs-data-catalog-tab__data-explorer tjs-tabs__tab-left-col","data-catalog":"tjs-data-catalog-tab__data-catalog tjs-_base__list-reset tjs-_base__scrollbars",dataCatalog:"tjs-data-catalog-tab__data-catalog tjs-_base__list-reset tjs-_base__scrollbars","data--catalog-group":"tjs-data-catalog-tab__data--catalog-group tjs-_base__list-reset",dataCatalogGroup:"tjs-data-catalog-tab__data--catalog-group tjs-_base__list-reset",label:"tjs-data-catalog-tab__label tjs-_labels__label"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(715),h=r(c),d=n(409),f=r(d),p=n(1781),m=r(p),g=n(11),_=r(g),v=n(1785),A=r(v),y=(0,s.default)({displayName:"MyDataTab",mixins:[_.default],propTypes:{terria:l.default.object,viewState:l.default.object},onBackButtonClicked:function(){this.props.viewState.myDataIsUploadView=!1},onAddMoreDataButtonClicked:function(){this.props.viewState.myDataIsUploadView=!0},hasUserAddedData:function(){return this.props.terria.catalog.userAddedDataGroup.items.length>0},render:function(){return o.default.createElement("div",{className:A.default.root},o.default.createElement("div",{className:A.default.leftCol},this.props.viewState.myDataIsUploadView?o.default.createElement("div",{className:A.default.addedData},this.hasUserAddedData()?o.default.createElement("button",{type:"button",onClick:this.onBackButtonClicked,className:A.default.btnBackToMyData},"Back"):null,o.default.createElement("h3",{className:A.default.h3},"Adding your own data"),o.default.createElement(m.default,{terria:this.props.terria,viewState:this.props.viewState})):null,this.hasUserAddedData()?o.default.createElement("div",{className:A.default.addedData},o.default.createElement("p",{className:A.default.explanation},"Data added in this way is not saved or made visible to others unless you explicitly share it by using the Share panel."),o.default.createElement("ul",{className:A.default.dataCatalog},o.default.createElement(h.default,{group:this.props.terria.catalog.userAddedDataGroup,viewState:this.props.viewState})),o.default.createElement("button",{type:"button",onClick:this.onAddMoreDataButtonClicked,className:A.default.btnAddMoreData},"Add more data")):null),o.default.createElement(f.default,{terria:this.props.terria,viewState:this.props.viewState,previewed:this.props.viewState.userDataPreviewedItem}))}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(0,_.default)(e.props.terria,e.props.viewState,e.state.remoteUrl,e.state.remoteDataType.value,!0)}var a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(28),f=r(d),p=n(408),m=r(p),g=n(710),_=r(g),v=n(96),A=r(v),y=n(394),b=r(y),w=n(1782),x=r(w),E=n(711),C=r(E),S=n(11),T=r(S),I=n(22),M=r(I),O=n(709),P=r(O),D=n(1784),B=r(D),L=(0,C.default)().remoteDataType,N=(0,C.default)().localDataType,R=(0,l.default)({displayName:"AddData",mixins:[T.default],propTypes:{terria:h.default.object,viewState:h.default.object},getInitialState:function(){return{localDataType:N[0],remoteDataType:L[0],activeTab:"local",remoteUrl:""}},selectLocalOption:function(e){this.setState({localDataType:e})},selectRemoteOption:function(e){this.setState({remoteDataType:e})},changeTab:function(e){this.setState({activeTab:e})},handleUploadFile:function(e){var t=this;(0,P.default)(e.target.files,this.props.terria,this.props.viewState,this.state.localDataType).then(function(e){e.length>0&&t.onFileAddFinished(e[0])})},handleUrl:function(e){var t=this,n=this.state.remoteUrl;e.preventDefault(),this.props.terria.analytics.logEvent("addDataUrl",n);var r=this,i=void 0;if("auto"===r.state.remoteDataType.value)i=o(r);else{var a=(0,A.default)(r.state.remoteDataType.value,r.props.terria);a.name=r.state.remoteUrl,a.url=r.state.remoteUrl,i=a.load().then(function(){return a})}(0,m.default)(this.props.terria,i).then(function(e){!e||e instanceof M.default||t.onFileAddFinished(e)})},onFileAddFinished:function(e){this.props.viewState.myDataIsUploadView=!1,this.props.viewState.viewCatalogMember(e)},onRemoteUrlChange:function(e){this.setState({remoteUrl:e.target.value})},renderTabs:function(){var e=[{id:"local",caption:"Add Local Data"},{id:"web",caption:"Add Web Data"}];return s.default.createElement("ul",{className:B.default.tabList},e.map(function(e,t){return s.default.createElement("li",{className:B.default.tabListItem,key:e.id},s.default.createElement("button",{type:"button",onClick:this.changeTab.bind(null,e.id),className:(0,f.default)(B.default.tabListBtn,i({},B.default.isActive,this.state.activeTab===e.id))},e.caption))},this))},renderPanels:function(){var e={dropdown:B.default.dropdown,list:B.default.dropdownList,isOpen:B.default.dropdownListIsOpen},t=N.reduce(function(e,t){return t.extensions?e.concat(t.extensions.map(function(e){return"."+e})):e},[]);return s.default.createElement("div",{className:B.default.tabPanels},"local"===this.state.activeTab?s.default.createElement("section",{className:B.default.tabPanel},s.default.createElement("label",{className:B.default.label},s.default.createElement("strong",null,"Step 1:")," Select type of file to add: "),s.default.createElement(b.default,{options:N,selected:this.state.localDataType,selectOption:this.selectLocalOption,matchWidth:!0,theme:e}),s.default.createElement("label",{className:B.default.label},s.default.createElement("strong",null,"Step 2:")," Select a local data file to add:"),s.default.createElement(x.default,{accept:t.join(","),onChange:this.handleUploadFile})):null,"web"===this.state.activeTab?s.default.createElement("section",{className:B.default.tabPanel},s.default.createElement("label",{className:B.default.label},s.default.createElement("strong",null,"Step 1:")," Select type of file to add: "),s.default.createElement(b.default,{options:L,selected:this.state.remoteDataType,selectOption:this.selectRemoteOption,matchWidth:!0,theme:e}),s.default.createElement("label",{className:B.default.label},s.default.createElement("strong",null,"Step 2:")," Enter the URL of the data file or web service:"),s.default.createElement("form",{className:B.default.urlInput},s.default.createElement("input",{value:this.state.remoteUrl,onChange:this.onRemoteUrlChange,className:B.default.urlInputTextBox,type:"text",placeholder:"e.g. http://data.gov.au/geoserver/wms"}),s.default.createElement("button",{type:"submit",onClick:this.handleUrl,className:B.default.urlInputBtn},"Add"))):null)},render:function(){return s.default.createElement("div",{className:B.default.inner},this.renderTabs(),this.renderPanels())}});e.exports=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(5),u=r(s),l=n(8),c=r(l),h=n(28),d=r(h),f=n(1783),p=r(f),m=(0,c.default)({displayName:"FileInput",propTypes:{onChange:u.default.func,accept:u.default.string},getInitialState:function(){return{value:"Browse for local data",hovered:!1}},handleChange:function(e){this.setState({value:e.target.value.split(/(\\|\/)/g).pop()}),this.props.onChange&&this.props.onChange(e)},render:function(){var e=this;return a.default.createElement("form",{className:p.default.fileInput,onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})}},a.default.createElement("input",{type:"file",onChange:this.handleChange,accept:this.props.accept,className:p.default.input}),a.default.createElement("label",{className:(0,d.default)(p.default.btn,i({},p.default.btnHover,this.state.hovered))},this.state.value?this.state.value:"Browse for local data"))}});e.exports=m},function(e,t){e.exports={"file-input":"tjs-file-input__file-input",fileInput:"tjs-file-input__file-input",input:"tjs-file-input__input",btn:"tjs-file-input__btn tjs-_buttons__btn tjs-_buttons__btn-primary","btn--hover":"tjs-file-input__btn--hover tjs-_buttons__btn-primary--hover",btnHover:"tjs-file-input__btn--hover tjs-_buttons__btn-primary--hover"}},function(e,t){e.exports={inner:"tjs-add-data__inner","tab-panels":"tjs-add-data__tab-panels",tabPanels:"tjs-add-data__tab-panels","tab-panel":"tjs-add-data__tab-panel",tabPanel:"tjs-add-data__tab-panel","url-input":"tjs-add-data__url-input",urlInput:"tjs-add-data__url-input","tab-list":"tjs-add-data__tab-list tjs-tabs__tab-list tjs-_base__list-reset tjs-_base__clearfix",tabList:"tjs-add-data__tab-list tjs-tabs__tab-list tjs-_base__list-reset tjs-_base__clearfix","tab-list__item":"tjs-add-data__tab-list__item tjs-tabs__tab-list__item",tabListItem:"tjs-add-data__tab-list__item tjs-tabs__tab-list__item","tab-list__btn":"tjs-add-data__tab-list__btn tjs-_buttons__btn tjs-_buttons__btn-transparent",tabListBtn:"tjs-add-data__tab-list__btn tjs-_buttons__btn tjs-_buttons__btn-transparent","is-active":"tjs-add-data__is-active",isActive:"tjs-add-data__is-active",label:"tjs-add-data__label tjs-_labels__label",dropdown:"tjs-add-data__dropdown","dropdown__dropdown-list":"tjs-add-data__dropdown__dropdown-list",dropdownDropdownList:"tjs-add-data__dropdown__dropdown-list","dropdown__dropdown-list--is-open":"tjs-add-data__dropdown__dropdown-list--is-open tjs-_base__scrollbars",dropdownDropdownListIsOpen:"tjs-add-data__dropdown__dropdown-list--is-open tjs-_base__scrollbars","url-input__text-box":"tjs-add-data__url-input__text-box tjs-_form__field tjs-_form__input",urlInputTextBox:"tjs-add-data__url-input__text-box tjs-_form__field tjs-_form__input","url-input__btn":"tjs-add-data__url-input__btn tjs-_buttons__btn tjs-_buttons__btn-transparent tjs-_buttons__btn-primary",urlInputBtn:"tjs-add-data__url-input__btn tjs-_buttons__btn tjs-_buttons__btn-transparent tjs-_buttons__btn-primary"}},function(e,t){e.exports={root:"tjs-my-data-tab__root","data-catalog":"tjs-my-data-tab__data-catalog tjs-_base__list-reset",dataCatalog:"tjs-my-data-tab__data-catalog tjs-_base__list-reset","left-col":"tjs-my-data-tab__left-col tjs-tabs__tab-left-col",leftCol:"tjs-my-data-tab__left-col tjs-tabs__tab-left-col","added-data":"tjs-my-data-tab__added-data tjs-_base__scrollbars",addedData:"tjs-my-data-tab__added-data tjs-_base__scrollbars",explanation:"tjs-my-data-tab__explanation","btn--back-to-my-data":"tjs-my-data-tab__btn--back-to-my-data tjs-_buttons__btn tjs-_buttons__btn-small undefined tjs-_buttons__btn-transparent",btnBackToMyData:"tjs-my-data-tab__btn--back-to-my-data tjs-_buttons__btn tjs-_buttons__btn-small undefined tjs-_buttons__btn-transparent","btn--add-more-data":"tjs-my-data-tab__btn--add-more-data tjs-_buttons__btn tjs-_buttons__btn-transparent tjs-_buttons__btn-primary",btnAddMoreData:"tjs-my-data-tab__btn--add-more-data tjs-_buttons__btn tjs-_buttons__btn-transparent tjs-_buttons__btn-primary",h3:"tjs-my-data-tab__h3 tjs-_base__h3"}},function(e,t){e.exports={tabs:"tjs-tabs__tabs","tab-list":"tjs-tabs__tab-list tjs-_base__list-reset tjs-_base__clearfix",tabList:"tjs-tabs__tab-list tjs-_base__list-reset tjs-_base__clearfix","tab-list__item":"tjs-tabs__tab-list__item",tabListItem:"tjs-tabs__tab-list__item","tab-panel":"tjs-tabs__tab-panel",tabPanel:"tjs-tabs__tab-panel","panel-content":"tjs-tabs__panel-content tjs-_base__clearfix",panelContent:"tjs-tabs__panel-content tjs-_base__clearfix","tab-left-col":"tjs-tabs__tab-left-col",tabLeftCol:"tjs-tabs__tab-left-col","btn--tab":"tjs-tabs__btn--tab tjs-_buttons__btn",btnTab:"tjs-tabs__btn--tab tjs-_buttons__btn","btn--selected":"tjs-tabs__btn--selected",btnSelected:"tjs-tabs__btn--selected"}},function(e,t){e.exports={"modal-wrapper":"tjs-explorer-window__modal-wrapper",modalWrapper:"tjs-explorer-window__modal-wrapper","explorer-panel":"tjs-explorer-window__explorer-panel",explorerPanel:"tjs-explorer-window__explorer-panel","is-mounted":"tjs-explorer-window__is-mounted",isMounted:"tjs-explorer-window__is-mounted","modal-overlay":"tjs-explorer-window__modal-overlay tjs-_base__sm-show",modalOverlay:"tjs-explorer-window__modal-overlay tjs-_base__sm-show","btn--close-modal":"tjs-explorer-window__btn--close-modal tjs-_base__sm-show tjs-_buttons__btn tjs-_buttons__btn-transparent tjs-_buttons__btn--secondary",btnCloseModal:"tjs-explorer-window__btn--close-modal tjs-_base__sm-show tjs-_buttons__btn tjs-_buttons__btn-transparent tjs-_buttons__btn--secondary"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(1789),s=r(a),u=n(11),l=r(u),c=n(4),h=r(c),d=n(8),f=r(d),p=n(5),m=r(p),g=n(1793),_=r(g),v=(0,f.default)({displayName:"FeatureInfoCatalogItem",mixins:[l.default],propTypes:{features:m.default.array,catalogItem:m.default.object,terria:m.default.object.isRequired,viewState:m.default.object.isRequired,onToggleOpen:m.default.func.isRequired,printView:m.default.bool},render:function(){var e=this,t=this.props.features,n=this.props.catalogItem,r=this.props.terria,i=null,a=void 0,u=0,l=void 0,c=r.configParameters.defaultMaximumShownFeatureInfos;return(0,o.default)(t)&&(u=t.length,(0,o.default)(n)&&(c=n.maximumShownFeatureInfos,a=n.featureInfoTemplate),l=u-c,i=t.slice(0,c).map(function(t,i){return h.default.createElement(s.default,{key:i,viewState:e.props.viewState,catalogItem:n,feature:t,position:r.pickedFeatures&&r.pickedFeatures.pickPosition,template:a,isOpen:t===r.selectedFeature||e.props.printView,onClickHeader:e.props.onToggleOpen,printView:e.props.printView})})),h.default.createElement("li",{className:_.default.group},h.default.createElement("ul",{className:_.default.sections},1===l?h.default.createElement("li",{className:_.default.messageItem},h.default.createElement("strong",null,"More than ",c," ",n.name," features were found."),h.default.createElement("br",null),"The first ",c," are shown below."):null,l>1?h.default.createElement("li",{className:_.default.messageItem},h.default.createElement("strong",null,u," ",n.name," features were found."),h.default.createElement("br",null),"The first ",c," are shown below."):null,i))}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if((0,V.default)(e.props.catalogItem))return e.props.catalogItem.clock}function o(e){if((0,V.default)(e.props.catalogItem))return e.props.catalogItem.currentTime}function a(e,t){e.setState({removeFeatureChangedSubscription:t.definitionChanged.addEventListener(function(t){p(t,o(e))})}),E(e)}function s(e){(0,V.default)(e.state.removeFeatureChangedSubscription)&&(e.state.removeFeatureChangedSubscription(),e.setState({removeFeatureChangedSubscription:void 0})),e.state.timeoutIds.forEach(function(e){clearTimeout(e)})}function u(e,t,n){var r=e.currentProperties||(0,se.default)(e.properties,t),i=l(r);return i=h(i),(0,V.default)(n)&&c(i,n),i}function l(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r&&("string"==typeof r||r instanceof String)&&/^\s*[[{]/.test(r))try{r=JSON.parse(r)}catch(e){}t[n]=r}return t}function c(e,t){for(var n in t)e.hasOwnProperty(n)&&((!(0,V.default)(t[n].type)||(0,V.default)(t[n].type)&&"number"===t[n].type)&&(e[n]=(0,te.default)(e[n],t[n])),(0,V.default)(t[n].type)&&"dateTime"===t[n].type&&(e[n]=_(e[n],t[n])))}function h(e){if(!e||"object"!==(void 0===e?"undefined":T(e))||(0,q.default)(e))return e;var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=n.replace(/[.#]/g,"_");t[r]=h(e[n])}return t}function d(e){var t=!0;if((0,V.default)(e.isConstant))return e.isConstant;for(var n in e)e.hasOwnProperty(n)&&(t=t&&(0,V.default)(e[n])&&!1!==e[n].isConstant);return t}function f(e,t){return e.description&&"function"==typeof e.description.getValue?e.description.getValue(t):e.description}function p(e,t){var n=(0,se.default)(e.properties,t);n!==e.currentProperties&&(e.currentProperties=n);var r=f(e,t);r!==e.currentDescription&&(e.currentDescription=r)}function m(e){return function(t,n){var r=/^(\{[^}]+\})([\s\S]*)/,i=t.match(r),o=t.length>4&&"{"===t[0]&&"{"===t[1];if(!i||o)return e(n(t));var a=/([{,])(\s*)([A-Za-z0-9_\-]+?)\s*:/g,s=i[1].replace(a,'$1"$3":'),u=JSON.parse(s);return e(n(i[2]),u)}}function g(){return m(te.default)}function _(e,t){var n=Date.parse(e);return!(0,V.default)(n)||isNaN(n)?e:(0,V.default)(t)&&(0,V.default)(t.format)?(0,j.default)(n,t.format):(0,j.default)(n,"isoDateTime")}function v(){return m(_)}function A(){return function(e,t){return encodeURIComponent(t(e))}}function y(){return function(e,t){return encodeURI(t(e))}}function b(e,t){var n="";if("function"==typeof e.getValue&&(e=e.getValue(t)),"object"===(void 0===e?"undefined":T(e))){for(var r in e)if(e.hasOwnProperty(r)){if(-1!==fe.indexOf(r))continue;var i=e[r];(0,V.default)(i)&&("function"==typeof i.getValue&&(i=i.getValue(t)),Array.isArray(e)?n+="<tr><td>"+b(i,t)+"</td></tr>":"object"===(void 0===i?"undefined":T(i))?n+="<tr><th>"+r+"</th><td>"+b(i,t)+"</td></tr>":n+="<tr><th>"+r+"</th><td>"+i+"</td></tr>")}}else n+="<tr><th></th><td>"+e+"</td></tr>";return n.length>0&&(n='<table class="cesium-infoBox-defaultTable"><tbody>'+n+"</tbody></table>"),n}function w(e,t,n){if((0,V.default)(n)&&(0,V.default)(e)&&e.isSampled&&Z.default.isRegistered("chart")){var r=n(),i=e.dataViewId,o=(0,V.default)(i)?i+"--"+t.id:t.id;if(r){var a={xName:r.xName.replace(/\"/g,""),yName:r.yName.replace(/\"/g,""),title:r.yName,id:o.replace(/\"/g,""),data:r.csvData.replace(/\\n/g,"\\n"),units:r.units.join(",").replace(/\"/g,"")},s='x-column="'+a.xName+'" ',u='y-column="'+a.yName+'" ',l='id="'+a.id+'" ',c='column-units = "'+a.units+'" ';return a.chart="<chart "+s+u+c+l+">"+a.data+"</chart>",a}}}function x(e){var t=e.getPropertyValues(),n=(0,V.default)(t)?t._terria_numericalProperties||t:void 0,r=e.props.feature.updateCounters,i={catalogItem:e.props.catalogItem,feature:e.props.feature,updateCounters:r},o=void 0,a=void 0;if((0,V.default)(t)){var s=w(e.props.catalogItem,e.props.feature,t._terria_getChartDetails);(0,V.default)(s)&&(o=(0,le.default)(s.chart,i),a=s.title)}var u=!e.hasTemplate()||e.state.showRawData,l=void 0,c=void 0;return u&&(l=e.descriptionFromFeature(),(0,V.default)(l)&&(c=(0,le.default)(l,i))),{info:e.hasTemplate()?(0,le.default)(e.descriptionFromTemplate(),i):c,rawData:c,showRawData:u,hasRawData:!!l,timeSeriesChartTitle:a,timeSeriesChart:o,downloadableData:n}}function E(e){var t=x(e),n=t.info;Z.default.find(n).forEach(function(t,n){var r=t.type.selfUpdateSeconds(t.reactComponent);r>0&&C(e,t.reactComponent,r,n)})}function C(e,t,n,r){var i=setTimeout(function(){var o=e.props.feature.updateCounters,a={reactComponent:t,counter:(0,V.default)(o)&&(0,V.default)(o[r])?o[r].counter+1:1};if((0,V.default)(e.props.feature.updateCounters))e.props.feature.updateCounters[r]=a;else{var s={};s[r]=a,e.props.feature.updateCounters=s}setTimeout(function(){C(e,t,n,r),e.setState({timeoutIds:e.state.timeoutIds.filter(function(e){return i!==e})})},5)},1e3*n),o=e.state.timeoutIds;e.setState({timeoutIds:o.concat(i)})}function S(e,t,n){function r(e,t){var r=Math.pow(10,n);return(e(t*r)/r).toFixed(n)}return-1!==e.indexOf(r(Math.floor,t))||-1!==e.indexOf(r(Math.ceil,t))}var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=n(271),M=r(I),O=n(4),P=r(O),D=n(8),B=r(D),L=n(5),N=r(L),R=n(9),k=r(R),F=n(28),U=r(F),z=n(257),j=r(z),H=n(0),V=r(H),Q=n(23),G=r(Q),W=n(62),q=r(W),Y=n(36),K=r(Y),X=n(283),Z=r(X),J=n(1790),$=r(J),ee=n(245),te=r(ee),ne=n(30),re=r(ne),ie=n(11),oe=r(ie),ae=n(689),se=r(ae),ue=n(127),le=r(ue),ce=n(1792),he=r(ce);M.default.escape=function(e){return e};var de=(0,B.default)({displayName:"FeatureInfoSection",mixins:[oe.default],propTypes:{viewState:N.default.object.isRequired,template:N.default.oneOfType([N.default.object,N.default.string]),feature:N.default.object,position:N.default.object,catalogItem:N.default.object,isOpen:N.default.bool,onClickHeader:N.default.func,printView:N.default.bool},getInitialState:function(){return{removeClockSubscription:void 0,timeoutIds:[],showRawData:!1}},UNSAFE_componentWillMount:function(){a(this,this.props.feature)},UNSAFE_componentWillReceiveProps:function(e){e.feature!==this.props.feature&&(s(this),a(this,e.feature))},componentWillUnmount:function(){s(this)},getPropertyValues:function(){return u(this.props.feature,o(this),this.props.template&&this.props.template.formats)},getTemplateData:function(){var e=this.getPropertyValues();if((0,V.default)(e)){if(e.terria={formatNumber:g,formatDateTime:v,urlEncodeComponent:A,urlEncode:y},this.props.position){var t=G.default.WGS84.cartesianToCartographic(this.props.position);e.terria.coords={latitude:k.default.toDegrees(t.latitude),longitude:k.default.toDegrees(t.longitude)}}this.props.catalogItem&&(e.terria.currentTime=this.props.catalogItem.discreteTime),e.terria.timeSeries=w(this.props.catalogItem,this.props.feature,e._terria_getChartDetails)}return e},clickHeader:function(){(0,V.default)(this.props.onClickHeader)&&this.props.onClickHeader(this.props.feature)},hasTemplate:function(){return this.props.template&&("string"==typeof this.props.template||this.props.template.template)},descriptionFromTemplate:function(){var e=this.props.template,t=this.getTemplateData();if((0,V.default)(t)&&(0,V.default)(t._terria_columnAliases))for(var n=0;n<t._terria_columnAliases.length;n++){var r=t._terria_columnAliases[n];t[r.id]=t[r.name]}return(0,V.default)(t)?"string"==typeof e?M.default.render(e,t):M.default.render(e.template,t,e.partials):"No information available"},descriptionFromFeature:function(){var e=this.props.feature,t=o(this)?o(this):K.default.now(),n=e.currentDescription||f(e,t);return!(0,V.default)(n)&&(0,V.default)(e.properties)&&(n=b(e.properties,t)),n},renderDataTitle:function(){var e=this.props.template;if("object"===(void 0===e?"undefined":T(e))&&(0,V.default)(e.name))return M.default.render(e.name,this.getPropertyValues());var t=this.props.feature;return t&&t.name||"Site Data"},isFeatureTimeVarying:function(e){return!(!(0,V.default)(e.description)&&!(0,V.default)(e.properties))&&((0,V.default)(this.props.template)?!d(e.properties):!!(0,V.default)(e.description)&&!e.description.isConstant)},toggleRawData:function(){this.setState({showRawData:!this.state.showRawData})},render:function(){var e=this.props.catalogItem&&this.props.catalogItem.name||"",t=e;if(this.props.position){var n=G.default.WGS84.cartesianToCartographic(this.props.position),r=k.default.toDegrees(n.latitude),o=k.default.toDegrees(n.longitude);"string"==typeof t&&S(t,r,5)&&S(t,o,5)||(t+=" - Lat "+r.toFixed(5)+" Lon "+o.toFixed(5))}var a=(e?e+" - ":"")+this.renderDataTitle(),s=x(this);return P.default.createElement("li",{className:(0,U.default)(he.default.section)},this.props.printView?P.default.createElement("h2",null,a):null,this.props.printView?null:P.default.createElement("button",{type:"button",onClick:this.clickHeader,className:he.default.title},P.default.createElement("span",null,a),this.props.isOpen?P.default.createElement(re.default,{glyph:re.default.GLYPHS.opened}):P.default.createElement(re.default,{glyph:re.default.GLYPHS.closed})),this.props.isOpen?P.default.createElement("section",{className:he.default.content},!this.props.printView&&this.hasTemplate()?P.default.createElement("button",{type:"button",className:he.default.rawDataButton,onClick:this.toggleRawData},this.state.showRawData?"Show Curated Data":"Show Raw Data"):null,P.default.createElement("div",null,s.showRawData||!this.hasTemplate()?[s.hasRawData?s.rawData:null,s.hasRawData?null:P.default.createElement("div",{ref:"no-info",key:"no-info"},"No information available."),!this.props.printView&&s.timeSeriesChart?P.default.createElement("div",{className:he.default.timeSeriesChart,key:"2"},P.default.createElement("h4",null,s.timeSeriesChartTitle),s.timeSeriesChart):null,!this.props.printView&&(0,V.default)(s.downloadableData)?P.default.createElement($.default,{key:"download",viewState:this.props.viewState,data:s.downloadableData,name:t}):null]:s.info,de.extraComponents.map(function(e,t){return P.default.createElement(e,{key:t,viewState:this.props.viewState,template:this.props.template,feature:this.props.feature,position:this.props.position,clock:i(this),catalogItem:this.props.catalogItem,isOpen:this.props.isOpen,onClickHeader:this.props.onClickHeader})},this))):null)}}),fe=["title","description","marker-size","marker-symbol","marker-color","stroke","stroke-opacity","stroke-width","fill","fill-opacity"];de.extraComponents=[],e.exports=de},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e){for(var t=[],n=[],r=Object.keys(e),i=0;i<r.length;i++){var s=r[i],u=a(e[s]);if("object"===u&&null!==e[s])return;"function"!==u&&(t.push(o(s)),n.push(o(e[s])))}return t.join(",")+"\n"+n.join(",")}}function o(e){return e=e?""+e:"",'"'+e.replace(/"/g,'""')+'"'}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(4),u=r(s),l=n(5),c=r(l),h=n(8),d=r(h),f=n(39),p=r(f),m=n(258),g=r(m),_=n(394),v=r(_),A=n(30),y=r(A),b=n(1791),w=r(b),x=(0,d.default)({displayName:"FeatureInfoDownload",propTypes:{data:c.default.object.isRequired,name:c.default.string.isRequired,viewState:c.default.object.isRequired,canUseDataUri:c.default.bool},getDefaultProps:function(){return{canUseDataUri:!(p.default.isInternetExplorer()||/Edge/.exec(navigator.userAgent))}},getLinks:function(){return[{href:g.default.make("csv",i(this.props.data)),download:this.props.name+".csv",label:"CSV"},{href:g.default.make("json",JSON.stringify(this.props.data)),download:this.props.name+".json",label:"JSON"}].filter(function(e){return!!e.href})},render:function(){var e=this.getLinks();return g.default.checkCompatibility()?u.default.createElement(v.default,{options:e,textProperty:"label",theme:{dropdown:w.default.download,list:w.default.dropdownList,button:w.default.dropdownButton},buttonClassName:w.default.btn},u.default.createElement("span",{className:w.default.iconDownload},u.default.createElement(y.default,{glyph:y.default.GLYPHS.download}))," Download this Table ▾"):null}});t.default=x},function(e,t){e.exports={download:"tjs-feature-info-download__download",btn:"tjs-feature-info-download__btn tjs-feature-info-panel__btn tjs-_buttons__btn tjs-_buttons__btn-primary","icon--download":"tjs-feature-info-download__icon--download",iconDownload:"tjs-feature-info-download__icon--download",dropdown__list:"tjs-feature-info-download__dropdown__list",dropdownList:"tjs-feature-info-download__dropdown__list",dropdown__button:"tjs-feature-info-download__dropdown__button tjs-_buttons__btn--small",dropdownButton:"tjs-feature-info-download__dropdown__button tjs-_buttons__btn--small"}},function(e,t){e.exports={content:"tjs-feature-info-section__content","time-series-chart":"tjs-feature-info-section__time-series-chart",timeSeriesChart:"tjs-feature-info-section__time-series-chart",section:"tjs-feature-info-section__section tjs-_base__clearfix",title:"tjs-feature-info-section__title tjs-feature-info-panel__btn tjs-_buttons__btn","raw-data-button":"tjs-feature-info-section__raw-data-button tjs-_buttons__btn tjs-_buttons__btn-primary tjs-_buttons__btn--small",rawDataButton:"tjs-feature-info-section__raw-data-button tjs-_buttons__btn tjs-_buttons__btn-primary tjs-_buttons__btn--small"}},function(e,t){e.exports={sections:"tjs-feature-info-catalog-item__sections tjs-_base__list-reset","message-item":"tjs-feature-info-catalog-item__message-item",messageItem:"tjs-feature-info-catalog-item__message-item"}},function(e,t){e.exports={panel:"tjs-feature-info-panel__panel","is-collapsed":"tjs-feature-info-panel__is-collapsed",isCollapsed:"tjs-feature-info-panel__is-collapsed",body:"tjs-feature-info-panel__body tjs-_base__list-reset tjs-_base__scrollbars","is-visible":"tjs-feature-info-panel__is-visible",isVisible:"tjs-feature-info-panel__is-visible",header:"tjs-feature-info-panel__header",btn:"tjs-feature-info-panel__btn tjs-_buttons__btn",btnPanelHeading:"tjs-feature-info-panel__btnPanelHeading tjs-_buttons__btn","btn--download":"tjs-feature-info-panel__btn--download",btnDownload:"tjs-feature-info-panel__btn--download","btn--close-feature":"tjs-feature-info-panel__btn--close-feature tjs-_buttons__btn",btnCloseFeature:"tjs-feature-info-panel__btn--close-feature tjs-_buttons__btn","no-results":"tjs-feature-info-panel__no-results tjs-_labels__no-results",noResults:"tjs-feature-info-panel__no-results tjs-_labels__no-results",location:"tjs-feature-info-panel__location","btn-location":"tjs-feature-info-panel__btn-location tjs-_buttons__btn",btnLocation:"tjs-feature-info-panel__btn-location tjs-_buttons__btn","btn-location-selected":"tjs-feature-info-panel__btn-location-selected tjs-feature-info-panel__btn-location tjs-_buttons__btn",btnLocationSelected:"tjs-feature-info-panel__btn-location-selected tjs-feature-info-panel__btn-location tjs-_buttons__btn"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(11),a=r(o),s=n(4),u=r(s),l=n(8),c=r(l),h=n(127),d=r(h),f=n(5),p=r(f),m=n(1796),g=r(m),_=n(1797),v=r(_),A=n(30),y=r(A),b=n(28),w=r(b),x=(0,c.default)({displayName:"FeedbackForm",mixins:[a.default],propTypes:{viewState:p.default.object.isRequired},getInitialState:function(){return{isSending:!1,sendShareURL:!0,name:"",email:"",comment:""}},onDismiss:function(){this.props.viewState.feedbackFormIsVisible=!1,this.setState(this.getInitialState())},onSubmit:function(e){var t=this;return e.preventDefault(),this.state.comment.length>0&&(this.setState({isSending:!0}),(0,g.default)({terria:this.props.viewState.terria,name:this.state.name,email:this.state.email,sendShareURL:this.state.sendShareURL,comment:this.state.comment}).then(function(e){e?(t.setState({isSending:!1,comment:""}),t.props.viewState.feedbackFormIsVisible=!1):t.setState({isSending:!1})})),!1},handleChange:function(e){this.setState(i({},e.target.getAttribute("name"),e.target.value))},changeSendShareUrl:function(e){this.setState({sendShareURL:!this.state.sendShareURL})},render:function(){var e=(0,d.default)(this.props.viewState.terria.configParameters.feedbackPreamble||"We would love to hear from you!"),t=(0,w.default)(v.default.form,i({},v.default.isOpen,this.props.viewState.feedbackFormIsVisible));return u.default.createElement("div",{className:"feedback__inner"},u.default.createElement("div",{className:t},u.default.createElement("div",{className:v.default.header},u.default.createElement("h4",{className:v.default.title},"Feedback"),u.default.createElement("button",{className:v.default.btnClose,onClick:this.onDismiss,title:"close feedback"},u.default.createElement(y.default,{glyph:y.default.GLYPHS.close}))),u.default.createElement("form",{onSubmit:this.onSubmit},u.default.createElement("div",{className:v.default.description},e),u.default.createElement("label",{className:v.default.label},"Your name (optional)"),u.default.createElement("input",{type:"text",name:"name",className:v.default.field,value:this.state.name,onChange:this.handleChange}),u.default.createElement("label",{className:v.default.label},"Email address (optional)",u.default.createElement("br",null),u.default.createElement("em",null,"We can't follow up without it!")),u.default.createElement("input",{type:"text",name:"email",className:v.default.field,value:this.state.email,onChange:this.handleChange}),u.default.createElement("label",{className:v.default.label},"Comment or question"),u.default.createElement("textarea",{className:v.default.field,name:"comment",value:this.state.comment,onChange:this.handleChange}),u.default.createElement("div",{className:v.default.shareUrl},u.default.createElement("button",{onClick:this.changeSendShareUrl,type:"button"},this.state.sendShareURL?u.default.createElement(y.default,{glyph:y.default.GLYPHS.checkboxOn}):u.default.createElement(y.default,{glyph:y.default.GLYPHS.checkboxOff}),"Share my map view with ",this.props.viewState.terria.appName," developers",u.default.createElement("br",null),u.default.createElement("small",null,"This helps us to troubleshoot issues by letting us see what you're seeing"))),u.default.createElement("div",{className:v.default.action},u.default.createElement("button",{type:"button",className:v.default.btnCancel,onClick:this.onDismiss},"Cancel"),u.default.createElement("button",{type:"submit",className:v.default.btnSubmit,disabled:this.state.isSending},this.state.isSending?"Sending...":"Send")))))}});e.exports=x},function(e,t,n){"use strict";function r(e){if(!o(e)||!o(e.terria))throw new a("options.terria is required.");var t=e.terria;return o(t.configParameters.feedbackUrl)?(e.sendShareURL?l.canShorten(t)?l.buildShortShareLink(t):l.buildShareLink(t):u("Not shared")).then(function(n){return s({url:t.configParameters.feedbackUrl,responseType:"json",method:"POST",data:JSON.stringify({title:e.title,name:e.name,email:e.email,shareLink:n,comment:e.comment}),headers:{"Content-Type":"application/json"}})}).then(function(e){return(e instanceof String||"string"==typeof e)&&(e=JSON.parse(e)),e&&e.result&&"SUCCESS"===e.result?(t.error.raiseEvent(new c({title:"Thank you for your feedback!",message:"Your feedback helps make "+t.appName+" better."})),!0):(i(t),!1)}).otherwise(function(){return i(t),!1}):void i(t)}function i(e){e.error.raiseEvent(new c({title:"Unable to send feedback",message:"This is really embarrassing, but an error occurred while attempting to send your feedback.  Please email it to "+e.supportEmail+" instead."}))}var o=n(0),a=n(3),s=n(105),u=n(7),l=n(728),c=n(22);e.exports=r},function(e,t){e.exports={form:"tjs-feedback-form__form tjs-_base__scrollbars",isOpen:"tjs-feedback-form__isOpen",header:"tjs-feedback-form__header",title:"tjs-feedback-form__title",description:"tjs-feedback-form__description",btnSubmit:"tjs-feedback-form__btnSubmit tjs-_buttons__btn","btnSubmit--hover":"tjs-feedback-form__btnSubmit--hover",btnSubmitHover:"tjs-feedback-form__btnSubmit--hover",field:"tjs-feedback-form__field tjs-_form__field tjs-_form__input",action:"tjs-feedback-form__action",btnCancel:"tjs-feedback-form__btnCancel tjs-_buttons__btn",btnClose:"tjs-feedback-form__btnClose tjs-_buttons__btn","share-url":"tjs-feedback-form__share-url",shareUrl:"tjs-feedback-form__share-url",label:"tjs-feedback-form__label"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u);n(1799);var c=n(1800),h=r(c),d=n(1804),f=r(d),p=n(1805),m=r(p),g=n(1806),_=r(g),v=n(11),A=r(v),y=n(1808),b=r(y),w=n(39),x=r(w),E=n(28),C=r(E),S=n(1830),T=r(S),I=x.default.isInternetExplorer(),M=(0,s.default)({displayName:"MapColumn",mixins:[A.default],propTypes:{terria:l.default.object.isRequired,viewState:l.default.object.isRequired},getInitialState:function(){return{}},UNSAFE_componentWillMount:function(){I&&(this.observer=new MutationObserver(this.resizeMapCell),window.addEventListener("resize",this.resizeMapCell,!1))},addBottomDock:function(e){I&&this.observer.observe(e,{childList:!0,subtree:!0})},newMapCell:function(e){I&&(this.mapCell=e,this.resizeMapCell())},resizeMapCell:function(){this.mapCell&&this.setState({height:this.mapCell.offsetHeight})},componentWillUnmount:function(){I&&(window.removeEventListener("resize",this.resizeMapCell,!1),this.observer.disconnect())},render:function(){return o.default.createElement("div",{className:T.default.mapInner},o.default.createElement("div",{className:T.default.mapRow},o.default.createElement("div",{className:(0,C.default)(T.default.mapCell,T.default.mapCellMap),ref:this.newMapCell},o.default.createElement("div",{className:T.default.mapWrapper,style:{height:this.state.height||(I?"100vh":"100%")}},o.default.createElement(h.default,{terria:this.props.terria,viewState:this.props.viewState})),this.props.viewState.hideMapUi()?null:o.default.createElement("div",{className:T.default.locationDistance},o.default.createElement(f.default,{terria:this.props.terria,mouseCoords:this.props.viewState.mouseCoords}),o.default.createElement(m.default,{terria:this.props.terria})),this.props.viewState.useSmallScreenInterface||!this.props.terria.configParameters.feedbackUrl||this.props.viewState.hideMapUi()?null:o.default.createElement("div",{className:T.default.feedbackButtonWrapper},o.default.createElement(_.default,{viewState:this.props.viewState}))),this.props.terria.configParameters.printDisclaimer?o.default.createElement("div",{className:(0,C.default)(T.default.mapCell,"print")},o.default.createElement("a",{className:T.default.printDisclaimer,href:this.props.terria.configParameters.printDisclaimer.url},this.props.terria.configParameters.printDisclaimer.text)):null),this.props.viewState.hideMapUi()?null:o.default.createElement("div",{className:T.default.mapRow},o.default.createElement("div",{className:T.default.mapCell},o.default.createElement(b.default,{terria:this.props.terria,viewState:this.props.viewState,domElementRef:this.addBottomDock}))))}});t.default=M},function(e,t){window.MutationObserver||(window.MutationObserver=function(e){function t(e){this.i=[],this.m=e}function n(e){!function n(){var r=e.takeRecords();r.length&&e.m(r,e),e.h=setTimeout(n,t._period)}()}function r(t){var n,r={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(n in t)r[n]!==e&&t[n]!==e&&(r[n]=t[n]);return r}function i(e,t){var n=l(e,t);return function(i){var o=i.length;if(t.a&&3===e.nodeType&&e.nodeValue!==n.a&&i.push(new r({type:"characterData",target:e,oldValue:n.a})),t.b&&n.b&&s(i,e,n.b,t.f),t.c||t.g)var a=u(i,e,n,t);(a||i.length!==o)&&(n=l(e,t))}}function o(e,t){return t.value}function a(e,t){return"style"!==t.name?t.value:e.style.cssText}function s(t,n,i,o){for(var a,s,u={},l=n.attributes,c=l.length;c--;)a=l[c],s=a.name,o&&o[s]===e||(m(n,a)!==i[s]&&t.push(r({type:"attributes",target:n,attributeName:s,oldValue:i[s],attributeNamespace:a.namespaceURI})),u[s]=!0);for(s in i)u[s]||t.push(r({target:n,type:"attributes",attributeName:s,oldValue:i[s]}))}function u(t,n,i,o){function a(e,n,i,a,l){var c=e.length-1;l=-~((c-l)/2);for(var h,d,f;f=e.pop();)h=i[f.j],d=a[f.l],o.c&&l&&Math.abs(f.j-f.l)>=c&&(t.push(r({type:"childList",target:n,addedNodes:[h],removedNodes:[h],nextSibling:h.nextSibling,previousSibling:h.previousSibling})),l--),o.b&&d.b&&s(t,h,d.b,o.f),o.a&&3===h.nodeType&&h.nodeValue!==d.a&&t.push(r({type:"characterData",target:h,oldValue:d.a})),o.g&&u(h,d)}function u(n,i){for(var h,d,p,m,g,_=n.childNodes,v=i.c,A=_.length,y=v?v.length:0,b=0,w=0,x=0;w<A||x<y;)m=_[w],g=(p=v[x])&&p.node,m===g?(o.b&&p.b&&s(t,m,p.b,o.f),o.a&&p.a!==e&&m.nodeValue!==p.a&&t.push(r({type:"characterData",target:m,oldValue:p.a})),d&&a(d,n,_,v,b),o.g&&(m.childNodes.length||p.c&&p.c.length)&&u(m,p),w++,x++):(l=!0,h||(h={},d=[]),m&&(h[p=c(m)]||(h[p]=!0,-1===(p=f(v,m,x,"node"))?o.c&&(t.push(r({type:"childList",target:n,addedNodes:[m],nextSibling:m.nextSibling,previousSibling:m.previousSibling})),b++):d.push({j:w,l:p})),w++),g&&g!==_[w]&&(h[p=c(g)]||(h[p]=!0,-1===(p=f(_,g,w))?o.c&&(t.push(r({type:"childList",target:i.node,removedNodes:[g],nextSibling:v[x+1],previousSibling:v[x-1]})),b--):d.push({j:p,l:x})),x++));d&&a(d,n,_,v,b)}var l;return u(n,i),l}function l(e,t){var n=!0;return function e(r){var i={node:r};return!t.a||3!==r.nodeType&&8!==r.nodeType?(t.b&&n&&1===r.nodeType&&(i.b=d(r.attributes,function(e,n){return t.f&&!t.f[n.name]||(e[n.name]=m(r,n)),e},{})),n&&(t.c||t.a||t.b&&t.g)&&(i.c=h(r.childNodes,e)),n=t.g):i.a=r.nodeValue,i}(e)}function c(e){try{return e.id||(e.mo_id=e.mo_id||g++)}catch(t){try{return e.nodeValue}catch(e){return g++}}}function h(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r,e);return n}function d(e,t,n){for(var r=0;r<e.length;r++)n=t(n,e[r],r,e);return n}function f(e,t,n,r){for(;n<e.length;n++)if((r?e[n][r]:e[n])===t)return n;return-1}t._period=30,t.prototype={observe:function(e,t){for(var r={b:!!(t.attributes||t.attributeFilter||t.attributeOldValue),c:!!t.childList,g:!!t.subtree,a:!(!t.characterData&&!t.characterDataOldValue)},o=this.i,a=0;a<o.length;a++)o[a].s===e&&o.splice(a,1);t.attributeFilter&&(r.f=d(t.attributeFilter,function(e,t){return e[t]=!0,e},{})),o.push({s:e,o:i(e,r)}),this.h||n(this)},takeRecords:function(){for(var e=[],t=this.i,n=0;n<t.length;n++)t[n].o(e);return e},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var p=document.createElement("i");p.style.top=0;var m=(p="null"!=p.attributes.style.value)?o:a,g=1;return t}(void 0))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(17),h=r(c),d=n(1801),f=r(d),p=n(1802),m=r(p),g=n(11),_=r(g),v=n(725),A=r(v),y=(0,s.default)({displayName:"TerriaViewerWrapper",mixins:[_.default],lastMouseX:-1,lastMouseY:-1,propTypes:{terria:l.default.object.isRequired,viewState:l.default.object.isRequired},componentDidMount:function(){this.terriaViewer=A.default.create(this.props.terria,{terrain:this.props.terria.configParameters.cesiumTerrainUrl,developerAttribution:{text:"Data61",link:"http://www.csiro.au/en/Research/D61"}})},componentWillUnmount:function(){this.terriaViewer&&this.terriaViewer.destroy(),this.mapElement.innerHTML=""},onMouseMove:function(e){if(e.clientX!==this.lastMouseX||e.clientY!==this.lastMouseY)if(this.lastMouseX=e.clientX,this.lastMouseY=e.clientY,this.props.terria.cesium){var t=this.mapElement.getBoundingClientRect(),n=new h.default(e.clientX-t.left,e.clientY-t.top);this.props.viewState.mouseCoords.updateCoordinatesFromCesium(this.props.terria,n)}else this.props.terria.leaflet&&this.props.viewState.mouseCoords.updateCoordinatesFromLeaflet(this.props.terria,e.nativeEvent)},render:function(){var e=this;return o.default.createElement("aside",{className:f.default.container},o.default.createElement("div",{className:f.default.mapPlaceholder},"Loading the map, please wait..."),o.default.createElement(m.default,{terria:this.props.terria}),o.default.createElement("div",{id:"cesiumContainer",className:f.default.cesiumContainer,ref:function(t){e.mapElement=t},onMouseMove:this.onMouseMove}))}});e.exports=y},function(e,t){e.exports={"cesium-container":"tjs-terria-viewer-wrapper__cesium-container",cesiumContainer:"tjs-terria-viewer-wrapper__cesium-container",container:"tjs-terria-viewer-wrapper__container",mapPlaceholder:"tjs-terria-viewer-wrapper__mapPlaceholder"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(30),h=r(c),d=n(1803),f=r(d),p=n(11),m=r(p),g=!1;try{var _=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("test",null,_),window.removeEventListener("test",null,_)}catch(e){}var v=!!g&&{passive:!1},A=(0,s.default)({displayName:"Splitter",mixins:[m.default],propTypes:{terria:l.default.object.isRequired,thumbSize:l.default.number,padding:l.default.number},getDefaultProps:function(){return{thumbSize:42,padding:0}},componentDidMount:function(){var e=this;window.addEventListener("resize",function(){e.forceRefresh()})},componentWillUnmount:function(){this.unsubscribe()},forceRefresh:function(){var e=this.props.terria.splitPosition<.5?1e-4:-1e-4;this.props.terria.splitPosition+=e},startDrag:function(e){this.props.terria.currentViewer.pauseMapInteraction(),document.addEventListener("mousemove",this.drag,v),document.addEventListener("touchmove",this.drag,v),document.addEventListener("mouseup",this.stopDrag,v),document.addEventListener("touchend",this.stopDrag,v),e.preventDefault(),e.stopPropagation()},drag:function(e){function t(e,t,n){var r=t-e,i=(n-e)/r,o=e+s.props.padding+.5*s.props.thumbSize,a=t-s.props.padding-.5*s.props.thumbSize,u=(o-e)/r,l=(a-e)/r;return Math.min(l,Math.max(u,i))}var n=e.clientX,r=e.clientY;e.targetTouches&&e.targetTouches.length>0&&(n=e.targetTouches.item(0).clientX,r=e.targetTouches.item(0).clientY);var i=this.props.terria.currentViewer,o=i.getContainer(),a=o.getBoundingClientRect(),s=this,u=t(a.left,a.right,n),l=t(a.top,a.bottom,r),c=t(a.left,a.right,a.left+100),h=t(a.left,a.right,a.right-100);u=Math.min(h,Math.max(c,u)),l=Math.min(.8,Math.max(.2,l)),this.props.terria.splitPosition=u,this.props.terria.splitPositionVertical=l,e.preventDefault(),e.stopPropagation()},stopDrag:function(e){this.unsubscribe(),this.props.terria.currentViewer.resumeMapInteraction(),e.preventDefault(),e.stopPropagation()},unsubscribe:function(){document.removeEventListener("mousemove",this.drag,v),document.removeEventListener("touchmove",this.drag,v),document.removeEventListener("mouseup",this.stopDrag,v),document.removeEventListener("touchend",this.stopDrag,v),window.removeEventListener("resize",this.forceRefresh)},getPosition:function(){var e=this.props.terria.currentViewer.getContainer().clientWidth,t=this.props.terria.currentViewer.getContainer().clientHeight;return{x:this.props.terria.splitPosition*e,y:this.props.terria.splitPositionVertical*t}},render:function(){if(!this.props.terria.showSplitter||!this.props.terria.currentViewer.canShowSplitter||!this.props.terria.currentViewer.getContainer())return null;var e=this.props.thumbSize,t=this.getPosition(),n={left:t.x+"px",backgroundColor:this.props.terria.baseMapContrastColor},r={left:t.x+"px",top:t.y+"px",width:e+"px",height:e+"px",marginLeft:"-"+.5*e+"px",marginTop:"-"+.5*e+"px",lineHeight:e-2+"px",borderRadius:.5*e+"px",fontSize:e-12+"px"};return o.default.createElement("div",null,o.default.createElement("div",{className:f.default.dividerWrapper},o.default.createElement("div",{className:f.default.divider,style:n})),o.default.createElement("div",{className:f.default.thumb,style:r,onMouseDown:this.startDrag,onTouchStart:this.startDrag},o.default.createElement(h.default,{glyph:h.default.GLYPHS.splitter})))}});e.exports=A},function(e,t){e.exports={"divider-wrapper":"tjs-splitter__divider-wrapper",dividerWrapper:"tjs-splitter__divider-wrapper",divider:"tjs-splitter__divider",thumb:"tjs-splitter__thumb"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(28),a=r(o),s=n(11),u=r(s),l=n(4),c=r(l),h=n(8),d=r(h),f=n(5),p=r(f),m=n(729),g=r(m),_=(0,d.default)({displayName:"LocationBar",mixins:[u.default],propTypes:{terria:p.default.object,showUtmZone:p.default.bool,mouseCoords:p.default.object.isRequired},getDefaultProps:function(){return{showUtmZone:!0}},toggleUseProjection:function(){this.props.mouseCoords.toggleUseProjection()},render:function(){return c.default.createElement("button",{type:"button",className:(0,a.default)(g.default.locationBar,i({},g.default.useProjection,this.props.mouseCoords.useProjection)),onClick:this.toggleUseProjection},this.props.mouseCoords.useProjection?[c.default.createElement("div",{className:g.default.sectionShort,key:"0"},c.default.createElement("span",null,"ZONE"),c.default.createElement("span",null,this.props.mouseCoords.utmZone)),c.default.createElement("div",{className:g.default.section,key:"1"},c.default.createElement("span",null,"E"),c.default.createElement("span",null,this.props.mouseCoords.east)),c.default.createElement("div",{className:g.default.section,key:"2"},c.default.createElement("span",null,"N"),c.default.createElement("span",null,this.props.mouseCoords.north))]:[c.default.createElement("div",{className:g.default.section,key:"0"},c.default.createElement("span",null,"Lat"),c.default.createElement("span",null,this.props.mouseCoords.latitude)),c.default.createElement("div",{className:g.default.section,key:"1"},c.default.createElement("span",null,"Lon"),c.default.createElement("span",null,this.props.mouseCoords.longitude))],c.default.createElement("div",{className:g.default.sectionLong},c.default.createElement("span",null,"Elev"),c.default.createElement("span",null,this.props.mouseCoords.elevation)))}});e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(142),h=r(c),d=n(17),f=r(d),p=n(0),m=r(p),g=n(225),_=r(g),v=n(117),A=r(v),y=n(11),b=r(y),w=n(729),x=r(w),E=new _.default,C=[1,2,3,5,10,20,30,50,100,200,300,500,1e3,2e3,3e3,5e3,1e4,2e4,3e4,5e4,1e5,2e5,3e5,5e5,1e6,2e6,3e6,5e6,1e7,2e7,3e7,5e7],S=(0,s.default)({displayName:"DistanceLegend",mixins:[b.default],propTypes:{terria:l.default.object},getInitialState:function(){return{distanceLabel:void 0,barWidth:0}},UNSAFE_componentWillMount:function(){var e=this;this.viewerSubscriptions=[],this.removeUpdateSubscription=void 0,this._lastLegendUpdate=void 0,this.viewerSubscriptions.push(this.props.terria.beforeViewerChanged.addEventListener(function(){(0,m.default)(e.removeUpdateSubscription)&&(e.removeUpdateSubscription(),e.removeUpdateSubscription=void 0)})),this.addUpdateSubscription(),this.viewerSubscriptions.push(this.props.terria.afterViewerChanged.addEventListener(function(){e.addUpdateSubscription()}))},componentWillUnmount:function(){this.removeUpdateSubscription&&this.removeUpdateSubscription(),this.viewerSubscriptions.forEach(function(e){return e()})},addUpdateSubscription:function(){var e=this,t=this;if((0,m.default)(this.props.terria.cesium)){var n=this.props.terria.cesium.scene;this.removeUpdateSubscription=n.postRender.addEventListener(function(){e.updateDistanceLegendCesium(n)})}else if((0,m.default)(this.props.terria.leaflet)){var r=this.props.terria.leaflet.map,i=function(){t.updateDistanceLegendLeaflet(r)};t.removeUpdateSubscription=function(){r.off("zoomend",i),r.off("moveend",i)},r.on("zoomend",i),r.on("moveend",i),t.updateDistanceLegendLeaflet(r)}},updateDistanceLegendCesium:function(e){var t=(0,A.default)();if(!(t<this._lastLegendUpdate+250)){this._lastLegendUpdate=t;var n=e.canvas.clientWidth,r=e.canvas.clientHeight,i=e.camera.getPickRay(new f.default(n/2|0,r-1)),o=e.camera.getPickRay(new f.default(1+n/2|0,r-1)),a=e.globe,s=a.pick(i,e),u=a.pick(o,e);if(!(0,m.default)(s)||!(0,m.default)(u))return void this.setState({barWidth:void 0,distanceLabel:void 0});var l=a.ellipsoid.cartesianToCartographic(s),c=a.ellipsoid.cartesianToCartographic(u);E.setEndPoints(l,c);for(var h=E.surfaceDistance,d=void 0,p=C.length-1;!(0,m.default)(d)&&p>=0;--p)C[p]/h<100&&(d=C[p]);if((0,m.default)(d)){var g=void 0;g=d>=1e3?(d/1e3).toString()+" km":d.toString()+" m",this.setState({barWidth:d/h|0,distanceLabel:g})}else this.setState({barWidth:void 0,distanceLabel:void 0})}},updateDistanceLegendLeaflet:function(e){var t=e.getSize().y/2,n=e.containerPointToLatLng([0,t]).distanceTo(e.containerPointToLatLng([100,t])),r=h.default.control.scale()._getRoundNum(n),i=r<1e3?r+" m":r/1e3+" km";this.setState({barWidth:r/n*100,distanceLabel:i})},render:function(){var e={width:this.state.barWidth+"px",left:5+(125-this.state.barWidth)/2+"px",height:"2px"};return this.state.distanceLabel?o.default.createElement("div",{className:x.default.distanceLegend},o.default.createElement("label",null,this.state.distanceLabel),o.default.createElement("div",{className:x.default.bar,style:e})):null}});e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(11),o=r(i),a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(1807),f=r(d),p=n(30),m=r(p),g=(0,l.default)({displayName:"FeedbackButton",mixins:[o.default],propTypes:{viewState:h.default.object.isRequired},onClick:function(){this.props.viewState.feedbackFormIsVisible=!0},render:function(){return s.default.createElement("div",{className:f.default.feedback},s.default.createElement("button",{type:"button",className:f.default.btnFeedback,onClick:this.onClick},s.default.createElement(m.default,{glyph:m.default.GLYPHS.feedback}),s.default.createElement("span",null,"Give feedback")))}});e.exports=g},function(e,t){e.exports={feedback:"tjs-feedback-button__feedback",btnFeedback:"tjs-feedback-button__btnFeedback tjs-_buttons__btn"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(1809),h=r(c),d=n(1814),f=r(d),p=n(11),m=r(p),g=n(1829),_=r(g),v=(0,s.default)({mixins:[m.default],displayName:"BottomDock",propTypes:{terria:l.default.object.isRequired,viewState:l.default.object.isRequired,domElementRef:l.default.func},render:function(){var e=this.props.terria;return o.default.createElement("div",{className:_.default.bottomDock,ref:this.props.domElementRef},o.default.createElement(h.default,{terria:e,onHeightChange:this.onHeightChange,viewState:this.props.viewState}),e.timeSeriesStack.topLayer?o.default.createElement(f.default,{terria:e}):null)}});e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(0),h=r(c),d=n(372),f=r(d),p=n(1810),m=r(p),g=n(113),_=r(g),v=n(11),A=r(v),y=n(30),b=r(y),w=n(1813),x=r(w),E=(0,s.default)({displayName:"ChartPanel",mixins:[A.default],propTypes:{terria:l.default.object.isRequired,onHeightChange:l.default.func,viewState:l.default.object.isRequired,animationDuration:l.default.number},closePanel:function(){for(var e=this.props.terria.catalog.chartableItems,t=e.length-1;t>=0;t--){var n=e[t];n.isEnabled&&(0,h.default)(n.tableStructure)&&n.tableStructure.columns.filter(function(e){return e.isActive}).forEach(function(e){return e.toggleActive()})}},componentDidUpdate:function(){(0,h.default)(this.props.onHeightChange)&&this.props.onHeightChange()},render:function(){for(var e=this.props.terria.catalog.chartableItems,t=[],n=void 0,r=e.length-1;r>=0;r--){var i=e[r];if(i.isEnabled&&(0,h.default)(i.tableStructure)){var a=i.chartData();(0,h.default)(a)&&(t=t.concat(a),n=(0,h.default)(n)?n:i.xAxis.units)}}var s=e.length>0&&e[e.length-1].isLoading,u=t.length>0||s;if(this.props.terria.currentViewer.notifyRepaintRequired(),!u)return null;var l=void 0,c=void 0;return s&&(l=o.default.createElement(_.default,{className:x.default.loader})),t.length>0&&(c=o.default.createElement(f.default,{data:t,axisLabel:{x:n,y:void 0},height:216})),o.default.createElement("div",{className:x.default.holder},o.default.createElement("div",{className:x.default.inner},o.default.createElement("div",{className:x.default.chartPanel,style:{height:250}},o.default.createElement("div",{className:x.default.body},o.default.createElement("div",{className:x.default.header},o.default.createElement("label",{className:x.default.sectionLabel},l||"Charts"),o.default.createElement(m.default,{chartableItems:this.props.terria.catalog.chartableItems,errorEvent:this.props.terria.error}),o.default.createElement("button",{type:"button",className:x.default.btnCloseChartPanel,onClick:this.closePanel},o.default.createElement(b.default,{glyph:b.default.GLYPHS.close}))),o.default.createElement("div",{className:x.default.chart},c)))))}});e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e.timeColumn?I:t.name}function o(e){return e.timeColumn||e.tableStructure&&e.tableStructure.columnsByType[x.default.SCALAR][0]}var a=n(4),s=r(a),u=n(5),l=r(u),c=n(8),h=r(c),d=n(398),f=r(d),p=n(0),m=r(p),g=n(7),_=r(g),v=n(258),A=r(v),y=n(11),b=r(y),w=n(85),x=r(w),E=n(30),C=r(E),S=n(1811),T=r(S),I="date",M=(0,h.default)({displayName:"ChartPanelDownloadButton",mixins:[b.default],propTypes:{chartableItems:l.default.array.isRequired,errorEvent:l.default.object.isRequired},_subscription:void 0,getInitialState:function(){return{href:void 0}},UNSAFE_componentWillMount:function(){this.debouncedRunWorker=(0,f.default)(this.runWorker,100)},componentDidMount:function(){this.debouncedRunWorker(this.props.chartableItems)},UNSAFE_componentWillReceiveProps:function(e){this.debouncedRunWorker(e.chartableItems)},runWorker:function(e){var t=this;if(window.Worker&&"undefined"!=typeof Float32Array){t.setState({href:void 0});var r=e.map(function(e){return e.load()});_.default.all(r).then(function(){var r=t.synthesizeNameAndValueArrays(e),i=n(1812),o=new i;r.values&&r.values.length>0&&(o.postMessage(r),o.onmessage=function(e){t.setState({href:e.data})})})}},componentWillUnmount:function(){(0,m.default)(this._subscription)&&this._subscription.dispose()},synthesizeNameAndValueArrays:function(e){for(var t=[],n=[],r=e.length-1;r>=0;r--){(function(r){var a=e[r],s=o(a);n.length||n.push(i(a,s));var u=[s];if(a.isEnabled&&(0,m.default)(a.tableStructure)){if(!(0,m.default)(u[0]))return"continue";var l=a.tableStructure.columnsByType[x.default.SCALAR].filter(function(e){return e.isActive});l.length>0&&(u=u.concat(l),t.push(u.map(function(e){return e.type===x.default.SCALAR?new Float32Array(e.values):Array.prototype.slice.call(e.values)})),l.forEach(function(e){n.push(a.name+" "+e.name)}))}})(r)}return{values:t,names:n}},render:function(){return this.state.href?A.default.checkCompatibility()?s.default.createElement("a",{className:T.default.btnDownload,download:"chart data.csv",href:this.state.href},s.default.createElement(C.default,{glyph:C.default.GLYPHS.download}),"Download"):s.default.createElement("span",{className:T.default.btnDownload,onClick:A.default.checkCompatibility.bind(null,this.props.errorEvent,this.state.href)},s.default.createElement(C.default,{glyph:C.default.GLYPHS.download}),"Download"):null}});e.exports=M},function(e,t){e.exports={"btn-download":"tjs-chart-panel-download-button__btn-download tjs-_buttons__btn",btnDownload:"tjs-chart-panel-download-button__btn-download tjs-_buttons__btn"}},function(e,t,n){e.exports=function(){return new Worker(n.p+"1d994cbbc5cd2a910020.worker.js")}},function(e,t){e.exports={inner:"tjs-chart-panel__inner","chart-panel":"tjs-chart-panel__chart-panel",chartPanel:"tjs-chart-panel__chart-panel",holder:"tjs-chart-panel__holder",header:"tjs-chart-panel__header",chart:"tjs-chart-panel__chart",axis:"tjs-chart-panel__axis",colors:"tjs-chart-panel__colors","section-label":"tjs-chart-panel__section-label tjs-_labels__label",sectionLabel:"tjs-chart-panel__section-label tjs-_labels__label",btn:"tjs-chart-panel__btn",loader:"tjs-chart-panel__loader","btn--close-chart-panel":"tjs-chart-panel__btn--close-chart-panel tjs-_buttons__btn",btnCloseChartPanel:"tjs-chart-panel__btn--close-chart-panel tjs-_buttons__btn"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(8),o=r(i),a=n(257),s=r(a),u=n(4),l=r(u),c=n(5),h=r(c),d=n(0),f=r(d),p=n(13),m=r(p),g=n(160),_=r(g),v=n(36),A=r(v),y=n(11),b=r(y),w=n(1815),x=r(w),E=n(1817),C=r(E),S=n(730),T=r(S),I=n(214),M=n(731),O=r(M),P=(0,o.default)({displayName:"Timeline",mixins:[b.default],propTypes:{terria:h.default.object.isRequired,autoPlay:h.default.bool,locale:h.default.object},getDefaultProps:function(){return{autoPlay:!0}},getInitialState:function(){return{currentTimeString:"<>"}},UNSAFE_componentWillMount:function(){var e=this;this.resizeListener=function(){return e.timeline&&e.timeline.resize()},window.addEventListener("resize",this.resizeListener,!1);var t=function(t){var n=t.currentTime,r=void 0;r=(0,f.default)(e.props.terria.timeSeriesStack.topLayer)&&(0,f.default)(e.props.terria.timeSeriesStack.topLayer.dateFormat.currentTime)?(0,s.default)(n,e.props.terria.timeSeriesStack.topLayer.dateFormat.currentTime):(0,I.formatDateTime)(A.default.toDate(n),e.props.locale),e.setState({currentTimeString:r})};this.removeTickEvent=this.props.terria.clock.onTick.addEventListener(t),t(this.props.terria.clock),this.topLayerSubscription=m.default.getObservable(this.props.terria.timeSeriesStack,"topLayer").subscribe(function(){return e.updateForNewTopLayer()}),this.updateForNewTopLayer()},componentWillUnmount:function(){this.removeTickEvent(),this.topLayerSubscription.dispose(),window.removeEventListener("resize",this.resizeListener)},updateForNewTopLayer:function(){var e=this.props.terria.autoPlay;(0,f.default)(e)||(e=this.props.autoPlay);var t=this.props.terria,n=t.timeSeriesStack.topLayer;n&&e&&(t.clock.tick(),t.clock.shouldAnimate=!0),t.clock.clockRange=_.default.LOOP_STOP,this.setState({layerName:n&&n.name})},changeDateTime:function(e){this.props.terria.clock.currentTime=A.default.fromDate(new Date(e)),this.props.terria.currentViewer.notifyRepaintRequired()},render:function(){var e=this.props.terria,t=e.timeSeriesStack.topLayer;return(0,f.default)(t)?l.default.createElement("div",{className:O.default.timeline},l.default.createElement("div",{className:O.default.textRow},l.default.createElement("div",{className:O.default.textCell,title:"Name of the dataset whose time range is shown"},t.name," ",this.state.currentTimeString)),l.default.createElement("div",{className:O.default.controlsRow},l.default.createElement(x.default,{clock:e.clock,analytics:e.analytics,currentViewer:e.currentViewer}),(0,f.default)(t.availableDates)&&0!==t.availableDates.length?l.default.createElement(T.default,{currentDate:t.clampedDiscreteTime,dates:t.availableDates,onChange:this.changeDateTime,openDirection:"up"}):null,l.default.createElement(C.default,{terria:e}))):null}});e.exports=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(5),s=r(a),u=n(8),l=r(u),c=n(160),h=r(c),d=n(1816),f=r(d),p=n(30),m=r(p),g=(0,l.default)({displayName:"TimelineControls",propTypes:{clock:s.default.object.isRequired,analytics:s.default.object.isRequired,currentViewer:s.default.object.isRequired,locale:s.default.object},getInitialState:function(){return{currentTimeString:""}},gotoStart:function(){this.props.analytics.logEvent("navigation","click","gotoStart"),this.props.clock.currentTime=this.props.clock.startTime,this.props.currentViewer.notifyRepaintRequired()},togglePlay:function(){this.props.analytics.logEvent("navigation","click","togglePlay"),this.props.clock.tick(),this.props.clock.multiplier<0&&(this.props.clock.multiplier=-this.props.clock.multiplier),this.props.clock.shouldAnimate=!this.props.clock.shouldAnimate,this.props.currentViewer.notifyRepaintRequired()},playSlower:function(){this.props.analytics.logEvent("navigation","click","playSlower"),this.props.clock.tick(),this.props.clock.multiplier/=2,this.props.clock.shouldAnimate=!0,this.props.currentViewer.notifyRepaintRequired()},playFaster:function(){this.props.analytics.logEvent("navigation","click","playFaster"),this.props.clock.tick(),this.props.clock.multiplier*=2,this.props.clock.shouldAnimate=!0,this.props.currentViewer.notifyRepaintRequired()},toggleLoop:function(){this.props.analytics.logEvent("navigation","click","toggleLoop"),this.isLooping()?this.props.clock.clockRange=h.default.CLAMPED:this.props.clock.clockRange=h.default.LOOP_STOP},isLooping:function(){return this.props.clock.clockRange===h.default.LOOP_STOP},isPlaying:function(){return this.props.clock.shouldAnimate},render:function(){return o.default.createElement("div",{className:f.default.controls},o.default.createElement("button",{type:"button",className:f.default.timelineControl,onClick:this.gotoStart,title:"Go to beginning"},o.default.createElement(m.default,{glyph:m.default.GLYPHS.backToStart})),o.default.createElement("button",{type:"button",className:f.default.timelineControl,onClick:this.togglePlay,title:"Play"},this.isPlaying()?o.default.createElement(m.default,{glyph:m.default.GLYPHS.pause}):o.default.createElement(m.default,{glyph:m.default.GLYPHS.play})),o.default.createElement("button",{type:"button",className:f.default.timelineControl,onClick:this.playSlower,title:"Play Slower"},o.default.createElement(m.default,{glyph:m.default.GLYPHS.backward})),o.default.createElement("button",{type:"button",className:f.default.timelineControl,onClick:this.playFaster,title:"Play Faster"},o.default.createElement(m.default,{glyph:m.default.GLYPHS.forward})))}});t.default=g},function(e,t){e.exports={controls:"tjs-timeline-controls__controls",timeline__control:"tjs-timeline-controls__timeline__control tjs-_buttons__btn",timelineControl:"tjs-timeline-controls__timeline__control tjs-_buttons__btn","is-active":"tjs-timeline-controls__is-active",isActive:"tjs-timeline-controls__is-active"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(5),s=r(a),u=n(8),l=r(u),c=n(13),h=r(c),d=n(1818),f=r(d),p=n(36),m=r(p),g=n(214),_=n(1821),v=r(_),A=n(0),y=r(A),b=n(257),w=r(b),x=(0,l.default)({displayName:"CesiumTimeline",propTypes:{terria:s.default.object.isRequired,autoPlay:s.default.bool},componentDidMount:function(){var e=this;this.cesiumTimeline=new f.default(this.timelineContainer,this.props.terria.clock),this.cesiumTimeline.makeLabel=function(t){if((0,y.default)(e.props.terria.timeSeriesStack.topLayer)){var n=e.props.terria.timeSeriesStack.topLayer;if((0,y.default)(n.dateFormat.timelineTic))return(0,w.default)(m.default.toDate(t),n.dateFormat.timelineTic)}var r=e.cesiumTimeline._startJulian,i=e.cesiumTimeline._endJulian,o=m.default.daysDifference(i,r);return o>14?(0,g.formatDate)(m.default.toDate(t),e.locale):o<1?(0,g.formatTime)(m.default.toDate(t),e.locale):(0,g.formatDateTime)(m.default.toDate(t),e.locale)},this.cesiumTimeline.scrubFunction=function(t){var n=t.clock;n.currentTime=t.timeJulian,n.shouldAnimate=!1,e.props.terria.currentViewer.notifyRepaintRequired()},this.cesiumTimeline.addEventListener("settime",this.cesiumTimeline.scrubFunction,!1),this.topLayerSubscription=h.default.getObservable(this.props.terria.timeSeriesStack,"topLayer").subscribe(function(){return e.zoom()}),this.zoom()},zoom:function(){this.cesiumTimeline.zoomTo(this.props.terria.clock.startTime,this.props.terria.clock.stopTime)},componentWillUnmount:function(){this.topLayerSubscription.dispose()},shouldComponentUpdate:function(){return!1},render:function(){var e=this;return o.default.createElement("div",{className:v.default.cesiumTimeline,ref:function(t){e.timelineContainer=t}})}});e.exports=x},function(e,t,n){var r,i;r=[n(160),n(0),n(21),n(3),n(36),n(436),n(1819),n(1820)],void 0!==(i=function(e,t,n,r,i,o,a,s){"use strict";function u(e,t){e=o(e),this.container=e;var n=document.createElement("div");n.className="cesium-timeline-main",e.appendChild(n),this._topDiv=n,this._endJulian=void 0,this._epochJulian=void 0,this._lastXPos=void 0,this._scrubElement=void 0,this._startJulian=void 0,this._timeBarSecondsSpan=void 0,this._clock=t,this._scrubJulian=t.currentTime,this._mainTicSpan=-1,this._mouseMode=v.none,this._touchMode=A.none,this._touchState={centerX:0,spanX:0},this._mouseX=0,this._timelineDrag=0,this._timelineDragLocation=void 0,this._lastHeight=void 0,this._lastWidth=void 0,this._topDiv.innerHTML='<div class="cesium-timeline-bar"></div><div class="cesium-timeline-trackContainer"><canvas class="cesium-timeline-tracks" width="10" height="1"></canvas></div><div class="cesium-timeline-needle"></div><span class="cesium-timeline-ruler"></span>',this._timeBarEle=this._topDiv.childNodes[0],this._trackContainer=this._topDiv.childNodes[1],this._trackListEle=this._topDiv.childNodes[1].childNodes[0],this._needleEle=this._topDiv.childNodes[2],this._rulerEle=this._topDiv.childNodes[3],this._context=this._trackListEle.getContext("2d"),this._trackList=[],this._highlightRanges=[],this.zoomTo(t.startTime,t.stopTime),this._onMouseDown=c(this),this._onMouseUp=h(this),this._onMouseMove=d(this),this._onMouseWheel=f(this),this._onTouchStart=p(this),this._onTouchMove=g(this),this._onTouchEnd=m(this);var r=this._timeBarEle;document.addEventListener("mouseup",this._onMouseUp,!1),document.addEventListener("mousemove",this._onMouseMove,!1),r.addEventListener("mousedown",this._onMouseDown,!1),r.addEventListener("DOMMouseScroll",this._onMouseWheel,!1),r.addEventListener("mousewheel",this._onMouseWheel,!1),r.addEventListener("touchstart",this._onTouchStart,!1),r.addEventListener("touchmove",this._onTouchMove,!1),r.addEventListener("touchend",this._onTouchEnd,!1),r.addEventListener("touchcancel",this._onTouchEnd,!1),this._topDiv.oncontextmenu=function(){return!1},t.onTick.addEventListener(this.updateFromClock,this),this.updateFromClock()}function l(e){return e<10?"0"+e.toString():e.toString()}function c(e){return function(t){e._mouseMode!==v.touchOnly&&(0===t.button?(e._mouseMode=v.scrub,e._scrubElement&&(e._scrubElement.style.backgroundPosition="-16px 0"),e._onMouseMove(t)):(e._mouseX=t.clientX,2===t.button?e._mouseMode=v.zoom:e._mouseMode=v.slide)),t.preventDefault()}}function h(e){return function(t){e._mouseMode=v.none,e._scrubElement&&(e._scrubElement.style.backgroundPosition="0 0"),e._timelineDrag=0,e._timelineDragLocation=void 0}}function d(e){return function(t){var n;if(e._mouseMode===v.scrub){t.preventDefault();var r=t.clientX-e._topDiv.getBoundingClientRect().left;r<0?(e._timelineDragLocation=0,e._timelineDrag=-.01*e._timeBarSecondsSpan):r>e._topDiv.clientWidth?(e._timelineDragLocation=e._topDiv.clientWidth,e._timelineDrag=.01*e._timeBarSecondsSpan):(e._timelineDragLocation=void 0,e._setTimeBarTime(r,r*e._timeBarSecondsSpan/e._topDiv.clientWidth))}else if(e._mouseMode===v.slide){if(n=e._mouseX-t.clientX,e._mouseX=t.clientX,0!==n){var o=n*e._timeBarSecondsSpan/e._topDiv.clientWidth;e.zoomTo(i.addSeconds(e._startJulian,o,new i),i.addSeconds(e._endJulian,o,new i))}}else e._mouseMode===v.zoom&&(n=e._mouseX-t.clientX,e._mouseX=t.clientX,0!==n&&e.zoomFrom(Math.pow(1.01,n)))}}function f(e){return function(t){var n=t.wheelDeltaY||t.wheelDelta||-t.detail;_=Math.max(Math.min(Math.abs(n),_),1),n/=_,e.zoomFrom(Math.pow(1.05,-n))}}function p(e){return function(t){var n,r,o=t.touches.length,a=e._topDiv.getBoundingClientRect().left;t.preventDefault(),e._mouseMode=v.touchOnly,1===o?(n=i.secondsDifference(e._scrubJulian,e._startJulian),r=Math.round(n*e._topDiv.clientWidth/e._timeBarSecondsSpan+a),Math.abs(t.touches[0].clientX-r)<50?(e._touchMode=A.scrub,e._scrubElement&&(e._scrubElement.style.backgroundPosition=1===o?"-16px 0":"0 0")):(e._touchMode=A.singleTap,e._touchState.centerX=t.touches[0].clientX-a)):2===o?(e._touchMode=A.slideZoom,e._touchState.centerX=.5*(t.touches[0].clientX+t.touches[1].clientX)-a,e._touchState.spanX=Math.abs(t.touches[0].clientX-t.touches[1].clientX)):e._touchMode=A.ignore}}function m(e){return function(t){var n=t.touches.length,r=e._topDiv.getBoundingClientRect().left;e._touchMode===A.singleTap?(e._touchMode=A.scrub,e._onTouchMove(t)):e._touchMode===A.scrub&&e._onTouchMove(t),e._mouseMode=v.touchOnly,1!==n?e._touchMode=n>0?A.ignore:A.none:e._touchMode===A.slideZoom&&(e._touchState.centerX=t.touches[0].clientX-r),e._scrubElement&&(e._scrubElement.style.backgroundPosition="0 0")}}function g(e){return function(n){var r,o,a,s,u,l,c=1,h=e._topDiv.getBoundingClientRect().left;e._touchMode===A.singleTap&&(e._touchMode=A.slideZoom),e._mouseMode=v.touchOnly,e._touchMode===A.scrub?(n.preventDefault(),1===n.changedTouches.length&&(o=n.changedTouches[0].clientX-h)>=0&&o<=e._topDiv.clientWidth&&e._setTimeBarTime(o,o*e._timeBarSecondsSpan/e._topDiv.clientWidth)):e._touchMode===A.slideZoom&&(a=n.touches.length,2===a?(s=.5*(n.touches[0].clientX+n.touches[1].clientX)-h,u=Math.abs(n.touches[0].clientX-n.touches[1].clientX)):1===a&&(s=n.touches[0].clientX-h,u=0),t(s)&&(u>0&&e._touchState.spanX>0?(c=e._touchState.spanX/u,l=i.addSeconds(e._startJulian,(e._touchState.centerX*e._timeBarSecondsSpan-s*e._timeBarSecondsSpan*c)/e._topDiv.clientWidth,new i)):(r=e._touchState.centerX-s,l=i.addSeconds(e._startJulian,r*e._timeBarSecondsSpan/e._topDiv.clientWidth,new i)),e.zoomTo(l,i.addSeconds(l,e._timeBarSecondsSpan*c,new i)),e._touchState.centerX=s,e._touchState.spanX=u))}}var _=1e12,v={none:0,scrub:1,slide:2,zoom:3,touchOnly:4},A={none:0,scrub:1,slideZoom:2,singleTap:3,ignore:4},y=[.001,.002,.005,.01,.02,.05,.1,.25,.5,1,2,5,10,15,30,60,120,300,600,900,1800,3600,7200,14400,21600,43200,86400,172800,345600,604800,1296e3,2592e3,5184e3,7776e3,15552e3,31536e3,63072e3,126144e3,15768e4,31536e4,63072e4,126144e4,15768e5,31536e5,63072e5,126144e5,15768e6,31536e6],b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return u.prototype.addEventListener=function(e,t,n){this._topDiv.addEventListener(e,t,n)},u.prototype.removeEventListener=function(e,t,n){this._topDiv.removeEventListener(e,t,n)},u.prototype.isDestroyed=function(){return!1},u.prototype.destroy=function(){this._clock.onTick.removeEventListener(this.updateFromClock,this),document.removeEventListener("mouseup",this._onMouseUp,!1),document.removeEventListener("mousemove",this._onMouseMove,!1);var e=this._timeBarEle;e.removeEventListener("mousedown",this._onMouseDown,!1),e.removeEventListener("DOMMouseScroll",this._onMouseWheel,!1),e.removeEventListener("mousewheel",this._onMouseWheel,!1),e.removeEventListener("touchstart",this._onTouchStart,!1),e.removeEventListener("touchmove",this._onTouchMove,!1),e.removeEventListener("touchend",this._onTouchEnd,!1),e.removeEventListener("touchcancel",this._onTouchEnd,!1),this.container.removeChild(this._topDiv),n(this)},u.prototype.addHighlightRange=function(e,t,n){var r=new a(e,t,n);return this._highlightRanges.push(r),this.resize(),r},u.prototype.addTrack=function(e,t,n,r){var i=new s(e,t,n,r);return this._trackList.push(i),this._lastHeight=void 0,this.resize(),i},u.prototype.zoomTo=function(t,n){if(this._startJulian=t,this._endJulian=n,this._timeBarSecondsSpan=i.secondsDifference(n,t),this._clock&&this._clock.clockRange!==e.UNBOUNDED){var r=this._clock.startTime,o=this._clock.stopTime,a=i.secondsDifference(o,r),s=i.secondsDifference(r,this._startJulian),u=i.secondsDifference(o,this._endJulian);this._timeBarSecondsSpan>=a?(this._timeBarSecondsSpan=a,this._startJulian=this._clock.startTime,this._endJulian=this._clock.stopTime):s>0?(this._endJulian=i.addSeconds(this._endJulian,s,new i),this._startJulian=r,this._timeBarSecondsSpan=i.secondsDifference(this._endJulian,this._startJulian)):u<0&&(this._startJulian=i.addSeconds(this._startJulian,u,new i),this._endJulian=o,this._timeBarSecondsSpan=i.secondsDifference(this._endJulian,this._startJulian))}this._makeTics();var l=document.createEvent("Event");l.initEvent("setzoom",!0,!0),l.startJulian=this._startJulian,l.endJulian=this._endJulian,l.epochJulian=this._epochJulian,l.totalSpan=this._timeBarSecondsSpan,l.mainTicSpan=this._mainTicSpan,this._topDiv.dispatchEvent(l)},u.prototype.zoomFrom=function(e){var t=i.secondsDifference(this._scrubJulian,this._startJulian);e>1||t<0||t>this._timeBarSecondsSpan?t=.5*this._timeBarSecondsSpan:t+=t-.5*this._timeBarSecondsSpan;var n=this._timeBarSecondsSpan-t;this.zoomTo(i.addSeconds(this._startJulian,t-t*e,new i),i.addSeconds(this._endJulian,n*e-n,new i))},u.prototype.makeLabel=function(e){var t=i.toGregorianDate(e),n=t.millisecond,r=" UTC";if(n>0&&this._timeBarSecondsSpan<3600){for(r=Math.floor(n).toString();r.length<3;)r="0"+r;r="."+r}return b[t.month-1]+" "+t.day+" "+t.year+" "+l(t.hour)+":"+l(t.minute)+":"+l(t.second)+r},u.prototype.smallestTicInPixels=7,u.prototype._makeTics=function(){function e(e){return Math.floor(A/e)*e}function t(e,t){return Math.ceil(e/t+.5)*t}function n(e){return(e-A)/f}function r(e,t){return e-t*Math.round(e/t)}var o,a=this._timeBarEle,s=i.secondsDifference(this._scrubJulian,this._startJulian),u=Math.round(s*this._topDiv.clientWidth/this._timeBarSecondsSpan),l=u-8,c=this;this._needleEle.style.left=u.toString()+"px";var h="",d=0,f=this._timeBarSecondsSpan;f<.01?(f=.01,this._timeBarSecondsSpan=.01,this._endJulian=i.addSeconds(this._startJulian,.01,new i)):f>31536e6&&(f=31536e6,this._timeBarSecondsSpan=31536e6,this._endJulian=i.addSeconds(this._startJulian,31536e6,new i));var p=this._timeBarEle.clientWidth;p<10&&(p=10);var m,g=this._startJulian,_=Math.min(f/p*1e-5,.4),v=i.toGregorianDate(g);m=f>31536e4?i.fromDate(new Date(Date.UTC(100*Math.floor(v.year/100),0))):f>31536e3?i.fromDate(new Date(Date.UTC(10*Math.floor(v.year/10),0))):f>86400?i.fromDate(new Date(Date.UTC(v.year,0))):i.fromDate(new Date(Date.UTC(v.year,v.month,v.day)));var A=i.secondsDifference(this._startJulian,i.addSeconds(m,_,new i)),b=A+f;this._epochJulian=m,this._rulerEle.innerHTML=this.makeLabel(i.addSeconds(this._endJulian,-.01,new i));var w=this._rulerEle.offsetWidth+20;w<30&&(w=180);var x=d;d-=1e-10;var E={startTime:A,startJulian:g,epochJulian:m,duration:f,timeBarWidth:p,getAlpha:n};this._highlightRanges.forEach(function(e){h+=e.render(E)});var C=0,S=0,T=0,I=w/p;I>1&&(I=1),I*=this._timeBarSecondsSpan;var M,O=-1,P=-1,D=y.length;for(M=0;M<D;++M){var B=y[M];if(++O,C=B,B>I&&B>d)break;P<0&&p*(B/this._timeBarSecondsSpan)>=this.smallestTicInPixels&&(P=O)}if(O>0){for(;O>0;)if(--O,Math.abs(r(C,y[O]))<1e-5){y[O]>=d&&(S=y[O]);break}if(P>=0)for(;P<O;){if(Math.abs(r(S,y[P]))<1e-5&&y[P]>=d){T=y[P];break}++P}}(d=x)>1e-10&&T<1e-5&&Math.abs(d-C)>1e-10&&(T=d,d<=C+1e-10&&(S=0));var L,N=-999999;if(p*(T/this._timeBarSecondsSpan)>=3)for(o=e(T);o<=b;o=t(o,T))h+='<span class="cesium-timeline-ticTiny" style="left: '+Math.round(p*n(o)).toString()+'px;"></span>';if(p*(S/this._timeBarSecondsSpan)>=3)for(o=e(S);o<=b;o=t(o,S))h+='<span class="cesium-timeline-ticSub" style="left: '+Math.round(p*n(o)).toString()+'px;"></span>';if(p*(C/this._timeBarSecondsSpan)>=2){this._mainTicSpan=C,b+=C,o=e(C);for(var R=i.computeTaiMinusUtc(m);o<=b;){var k=i.addSeconds(g,o-A,new i);if(C>2.1){var F=i.computeTaiMinusUtc(k);Math.abs(F-R)>.1&&(o+=F-R,k=i.addSeconds(g,o-A,new i))}var U=Math.round(p*n(o)),z=this.makeLabel(k);this._rulerEle.innerHTML=z,L=this._rulerEle.offsetWidth,L<10&&(L=w);var j=U-(L/2-1);j>N?(N=j+L+5,h+='<span class="cesium-timeline-ticMain" style="left: '+U.toString()+'px;"></span><span class="cesium-timeline-ticLabel" style="left: '+j.toString()+'px;">'+z+"</span>"):h+='<span class="cesium-timeline-ticSub" style="left: '+U.toString()+'px;"></span>',o=t(o,C)}}else this._mainTicSpan=-1;h+='<span class="cesium-timeline-icon16" style="left:'+l+'px;bottom:0;background-position: 0 0;"></span>',a.innerHTML=h,this._scrubElement=a.lastChild,this._context.clearRect(0,0,this._trackListEle.width,this._trackListEle.height),E.y=0,this._trackList.forEach(function(e){e.render(c._context,E),E.y+=e.height})},u.prototype.updateFromClock=function(){this._scrubJulian=this._clock.currentTime;var e=this._scrubElement;if(t(this._scrubElement)){var n=i.secondsDifference(this._scrubJulian,this._startJulian),r=Math.round(n*this._topDiv.clientWidth/this._timeBarSecondsSpan);this._lastXPos!==r&&(this._lastXPos=r,e.style.left=r-8+"px",this._needleEle.style.left=r+"px")}t(this._timelineDragLocation)&&(this._setTimeBarTime(this._timelineDragLocation,this._timelineDragLocation*this._timeBarSecondsSpan/this._topDiv.clientWidth),this.zoomTo(i.addSeconds(this._startJulian,this._timelineDrag,new i),i.addSeconds(this._endJulian,this._timelineDrag,new i)))},u.prototype._setTimeBarTime=function(e,t){if(e=Math.round(e),this._scrubJulian=i.addSeconds(this._startJulian,t,new i),this._scrubElement){var n=e-8;this._scrubElement.style.left=n.toString()+"px",this._needleEle.style.left=e.toString()+"px"}var r=document.createEvent("Event");r.initEvent("settime",!0,!0),r.clientX=e,r.timeSeconds=t,r.timeJulian=this._scrubJulian,r.clock=this._clock,this._topDiv.dispatchEvent(r)},u.prototype.resize=function(){var e=this.container.clientWidth,t=this.container.clientHeight;if(e!==this._lastWidth||t!==this._lastHeight){this._trackContainer.style.height=t+"px";var n=1;this._trackList.forEach(function(e){n+=e.height}),this._trackListEle.style.height=n.toString()+"px",this._trackListEle.width=this._trackListEle.clientWidth,this._trackListEle.height=n,this._makeTics(),this._lastXPos=void 0,this._lastWidth=e,this._lastHeight=t}},u}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(36)],void 0!==(i=function(e,t){"use strict";function n(t,n,r){this._color=t,this._height=n,this._base=e(r,0)}return n.prototype.getHeight=function(){return this._height},n.prototype.getBase=function(){return this._base},n.prototype.getStartTime=function(){return this._start},n.prototype.getStopTime=function(){return this._stop},n.prototype.setRange=function(e,t){this._start=e,this._stop=t},n.prototype.render=function(e){var n="";if(this._start&&this._stop&&this._color){var r=t.secondsDifference(this._start,e.epochJulian),i=Math.round(e.timeBarWidth*e.getAlpha(r)),o=t.secondsDifference(this._stop,e.epochJulian),a=Math.round(e.timeBarWidth*e.getAlpha(o))-i;i<0&&(a+=i,i=0),i+a>e.timeBarWidth&&(a=e.timeBarWidth-i),a>0&&(n='<span class="cesium-timeline-highlight" style="left: '+i.toString()+"px; width: "+a.toString()+"px; bottom: "+this._base.toString()+"px; height: "+this._height+"px; background-color: "+this._color+';"></span>')}return n},n}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r,i;r=[n(25),n(0),n(36)],void 0!==(i=function(e,t,n){"use strict";function r(t,n,r,i){this.interval=t,this.height=n,this.color=r||new e(.5,.5,.5,1),this.backgroundColor=i||new e(0,0,0,0)}return r.prototype.render=function(e,r){var i=this.interval.start,o=this.interval.stop,a=r.startJulian,s=n.addSeconds(r.startJulian,r.duration,new n);if(n.lessThan(i,a)&&n.greaterThan(o,s))e.fillStyle=this.color.toCssColorString(),e.fillRect(0,r.y,r.timeBarWidth,this.height);else if(n.lessThanOrEquals(i,s)&&n.greaterThanOrEquals(o,a)){var u,l,c;for(u=0;u<r.timeBarWidth;++u){var h=n.addSeconds(r.startJulian,u/r.timeBarWidth*r.duration,new n);!t(l)&&n.greaterThanOrEquals(h,i)?l=u:!t(c)&&n.greaterThanOrEquals(h,o)&&(c=u)}e.fillStyle=this.backgroundColor.toCssColorString(),e.fillRect(0,r.y,r.timeBarWidth,this.height),t(l)&&(t(c)||(c=r.timeBarWidth),e.fillStyle=this.color.toCssColorString(),e.fillRect(l,r.y,Math.max(c-l,1),this.height))}},r}.apply(t,r))&&(e.exports=i)},function(e,t,n){var r=n(1822);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0};i.transform=void 0;n(417)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(1823);t=e.exports=n(416)(!0),t.push([e.i,".rP_DfkmedTVhb1JfpQLqZ {\n  display: table-cell;\n  height: 19px;\n  vertical-align: bottom; }\n\n.cesium-timeline-needle, .cesium-timeline-trackContainer, .cesium-timeline-ruler {\n  display: none !important; }\n\n.cesium-timeline-main {\n  position: relative;\n  left: 0;\n  bottom: 0;\n  overflow: hidden;\n  border: solid 1px #888; }\n\n.cesium-timeline-trackContainer {\n  width: 100%;\n  overflow: auto;\n  border-top: solid 1px #888;\n  position: relative;\n  top: 0;\n  left: 0; }\n\n.cesium-timeline-tracks {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%; }\n\n.cesium-timeline-needle {\n  position: absolute;\n  left: 0;\n  top: 1.7em;\n  bottom: 0;\n  width: 1px;\n  background: #F00; }\n\n.cesium-timeline-bar {\n  position: relative;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  cursor: pointer;\n  width: 100%;\n  height: 1.7em;\n  background-color: #fafafa;\n  background: rgba(32, 32, 32, 0.8);\n  background: -moz-linear-gradient(top, rgba(116, 117, 119, 0.8) 0%, rgba(58, 68, 82, 0.8) 11%, rgba(46, 50, 56, 0.8) 46%, rgba(53, 53, 53, 0.8) 81%, rgba(53, 53, 53, 0.8) 100%);\n  /* FF3.6+ */\n  background: -webkit-linear-gradient(top, rgba(116, 117, 119, 0.8) 0%, rgba(58, 68, 82, 0.8) 11%, rgba(46, 50, 56, 0.8) 46%, rgba(53, 53, 53, 0.8) 81%, rgba(53, 53, 53, 0.8) 100%);\n  /* Chrome10+,Safari5.1+ */\n  background: linear-gradient(to bottom, rgba(116, 117, 119, 0.8) 0%, rgba(58, 68, 82, 0.8) 11%, rgba(46, 50, 56, 0.8) 46%, rgba(53, 53, 53, 0.8) 81%, rgba(53, 53, 53, 0.8) 100%);\n  /* W3C */ }\n\n.cesium-timeline-ruler {\n  /* NOTE: The label and the ruler must use the same font/size */\n  visibility: hidden;\n  white-space: nowrap;\n  font-size: 80%;\n  z-index: -200; }\n\n.cesium-timeline-highlight {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background: #08F; }\n\n.cesium-timeline-ticLabel {\n  position: absolute;\n  top: 0;\n  left: 0;\n  white-space: nowrap;\n  font-size: 80%;\n  color: #eee; }\n\n.cesium-timeline-ticMain {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 1px;\n  height: 50%;\n  background: #eee; }\n\n.cesium-timeline-ticSub {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 1px;\n  height: 33%;\n  background: #aaa; }\n\n.cesium-timeline-ticTiny {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 1px;\n  height: 25%;\n  background: #888; }\n\n.cesium-timeline-icon16 {\n  display: block;\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  background-image: url("+r(n(1824))+");\n  background-repeat: no-repeat; }\n","",{version:3,sources:["/home/remy/Calypso/Software/TerriaMapStatic2/node_modules/terriajs/lib/ReactViews/BottomDock/Timeline/node_modules/terriajs/lib/ReactViews/BottomDock/Timeline/cesium-timeline.scss"],names:[],mappings:"AAAA;EACE,oBAAmB;EACnB,aAAY;EACZ,uBAAsB,EACvB;;AAED;EAGM,yBAAwB,EACzB;;AAKL;EAEI,mBAAkB;EAClB,QAAO;EACP,UAAS;EACT,iBAAgB;EAChB,uBAAsB,EACvB;;AAPH;EAUI,YAAW;EACX,eAAc;EACd,2BAA0B;EAC1B,mBAAkB;EAClB,OAAM;EACN,QAAO,EACR;;AAhBH;EAmBI,mBAAkB;EAClB,OAAM;EACN,QAAO;EACP,YAAW,EACZ;;AAvBH;EA0BI,mBAAkB;EAClB,QAAO;EACP,WAAU;EACV,UAAS;EACT,WAAU;EACV,iBAAgB,EACjB;;AAhCH;EAmCI,mBAAkB;EAClB,QAAO;EACP,OAAM;EACN,iBAAgB;EAChB,gBAAe;EACf,YAAW;EACX,cAAa;EACb,0BAAyB;EACzB,kCAAiC;EACjC,gLAA+K;EAAE,YAAY;EAC7L,mLAAkL;EAAE,0BAA0B;EAC9M,iLAAgL;EAAE,SAAS,EAC5L;;AA/CH;EAkDI,+DAA+D;EAC/D,mBAAkB;EAClB,oBAAmB;EACnB,eAAc;EACd,cAAa,EACd;;AAvDH;EA0DI,mBAAkB;EAClB,UAAS;EACT,QAAO;EACP,iBAAgB,EACjB;;AA9DH;EAiEI,mBAAkB;EAClB,OAAM;EACN,QAAO;EACP,oBAAmB;EACnB,eAAc;EACd,YAAW,EACZ;;AAvEH;EA0EI,mBAAkB;EAClB,UAAS;EACT,QAAO;EACP,WAAU;EACV,YAAW;EACX,iBAAgB,EACjB;;AAhFH;EAmFI,mBAAkB;EAClB,UAAS;EACT,QAAO;EACP,WAAU;EACV,YAAW;EACX,iBAAgB,EACjB;;AAzFH;EA4FI,mBAAkB;EAClB,UAAS;EACT,QAAO;EACP,WAAU;EACV,YAAW;EACX,iBAAgB,EACjB;;AAlGH;EAqGI,eAAc;EACd,mBAAkB;EAClB,YAAW;EACX,aAAY;EACZ,gDAAqE;EACrE,6BAA4B,EAC7B",file:"cesium-timeline.scss",sourcesContent:['.cesiumTimeline {\n  display: table-cell;\n  height: 19px;\n  vertical-align: bottom;\n}\n\n:global {\n  .cesium-timeline {\n    &-needle, &-trackContainer, &-ruler {\n      display: none !important;\n    }\n  }\n}\n\n// TODO: import this from cesium, doesn\'t work for me so far.\n:global {\n  .cesium-timeline-main {\n    position: relative;\n    left: 0;\n    bottom: 0;\n    overflow: hidden;\n    border: solid 1px #888;\n  }\n\n  .cesium-timeline-trackContainer {\n    width: 100%;\n    overflow: auto;\n    border-top: solid 1px #888;\n    position: relative;\n    top: 0;\n    left: 0;\n  }\n\n  .cesium-timeline-tracks {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n  }\n\n  .cesium-timeline-needle {\n    position: absolute;\n    left: 0;\n    top: 1.7em;\n    bottom: 0;\n    width: 1px;\n    background: #F00;\n  }\n\n  .cesium-timeline-bar {\n    position: relative;\n    left: 0;\n    top: 0;\n    overflow: hidden;\n    cursor: pointer;\n    width: 100%;\n    height: 1.7em;\n    background-color: #fafafa;\n    background: rgba(32, 32, 32, 0.8);\n    background: -moz-linear-gradient(top, rgba(116, 117, 119, 0.8) 0%, rgba(58, 68, 82, 0.8) 11%, rgba(46, 50, 56, 0.8) 46%, rgba(53, 53, 53, 0.8) 81%, rgba(53, 53, 53, 0.8) 100%); /* FF3.6+ */\n    background: -webkit-linear-gradient(top, rgba(116, 117, 119, 0.8) 0%, rgba(58, 68, 82, 0.8) 11%, rgba(46, 50, 56, 0.8) 46%, rgba(53, 53, 53, 0.8) 81%, rgba(53, 53, 53, 0.8) 100%); /* Chrome10+,Safari5.1+ */\n    background: linear-gradient(to bottom, rgba(116, 117, 119, 0.8) 0%, rgba(58, 68, 82, 0.8) 11%, rgba(46, 50, 56, 0.8) 46%, rgba(53, 53, 53, 0.8) 81%, rgba(53, 53, 53, 0.8) 100%); /* W3C */\n  }\n\n  .cesium-timeline-ruler {\n    /* NOTE: The label and the ruler must use the same font/size */\n    visibility: hidden;\n    white-space: nowrap;\n    font-size: 80%;\n    z-index: -200;\n  }\n\n  .cesium-timeline-highlight {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    background: #08F;\n  }\n\n  .cesium-timeline-ticLabel {\n    position: absolute;\n    top: 0;\n    left: 0;\n    white-space: nowrap;\n    font-size: 80%;\n    color: #eee;\n  }\n\n  .cesium-timeline-ticMain {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 1px;\n    height: 50%;\n    background: #eee;\n  }\n\n  .cesium-timeline-ticSub {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 1px;\n    height: 33%;\n    background: #aaa;\n  }\n\n  .cesium-timeline-ticTiny {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 1px;\n    height: 25%;\n    background: #888;\n  }\n\n  .cesium-timeline-icon16 {\n    display: block;\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    background-image: url("../../../../wwwroot/images/TimelineIcons.png");\n    background-repeat: no-repeat;\n  }\n}\n'],sourceRoot:""}]),t.locals={cesiumTimeline:"rP_DfkmedTVhb1JfpQLqZ"}},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAQCAYAAAB3AH1ZAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sIDBITKIVzLEMAAAKNSURBVEjHxdXNSxRhHAfw7zzrqhuoWJnSkrippUVSEKsHI9BTUYdAJA/RoYMREV26rAdn6tAfUARi16hQqkOBQRgUEYFWEC3OwczMjdZd92VmdWfmeelgTjO7q7gb0VzmmZnn85vvPPPMM8B/3qTcE2PPpuTZKB1eWuUQACgXYACYwVFbCTTVeZXB/i55o4LFelcAZfStYD4vpAoPGAGo4GBcQEgSOAUMQyAezwK6iQfDPXnhS/FkHZ+/8VLMWxxqWkfH3gbMRNOYi2roavbja0zHQmoFPYf8ED4Ko4aivm9MOG/u9I8mwrafeK7a/tVrNc/bARYN5noadeq7q0342vXw9CIMU6BmW8rVP9cPBPe52uu+v3O/y9sB4gkTWs6Qsk0mj5ExXMelejvA8WafYmkmGPHanTijdtvif8rx5RiCjdWKs2Cp3jWRDl96KhrbqlBeJqBOLyLQXg0IgbkZDS0dO8EZxZfPSTA9jvDDK3mT0OmP1FXh3XwEEAKdTX5MRWLgjCK4pwH3xt/YnjgLHAv4lHTCAKMMu/wV+KZGob6PoKyMQ0+sgBpZVJZn0NterxQaVqef/DRn+/EXYds/mZx2eVeAW9d65dhCEsaKCb7K8HH0gqTevyh9GDkn0VULRiaLzJKGBu9swfdaiie5RVo9ESURN8E8BE0n7ggACJy8KzghSCzp6DmwWxkaCm24EBXr8wI8Hrkq06QBiRC0t24HALS11IBTCyJl4vb1AXmzpbVYTwoVOXN0h7L8Mwtm8bXPybIQ/5FCX3dA2cr6XowvGCA02CvztAnz9+JiZk1AMxG6fEreSoBiPNmoyNnuWiWVzAIAtISO08E6pZi/3N96AIDn4E3h3P8L/wshP+txtEs4JAAAAABJRU5ErkJggg=="},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t,n){!function(t,r){e.exports=r(n(353),n(4),n(1827))}(0,function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),h=n(4),d=r(h),f=n(5),p=(r(f),n(20)),m=r(p),g=n(11),_=r(g),v=n(18),A=n(2),y=r(A),b=n(12),w=r(b),x="react-datepicker-ignore-onclickoutside",E=(0,w.default)(c.default),C=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.calcInitialState=function(){var e=n.props.openToDate?(0,y.default)(n.props.openToDate):n.props.selectsEnd&&n.props.startDate?(0,y.default)(n.props.startDate):n.props.selectsStart&&n.props.endDate?(0,y.default)(n.props.endDate):void 0!==n.props.utcOffset?y.default.utc().utcOffset(n.props.utcOffset):(0,y.default)(),t=(0,v.getEffectiveMinDate)(n.props),r=(0,v.getEffectiveMaxDate)(n.props),i=t&&e.isBefore(t)?t:r&&e.isAfter(r)?r:e;return{open:!1,preventFocus:!1,preSelection:n.props.selected?(0,y.default)(n.props.selected):i}},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){n.refs.input.focus()},n.setOpen=function(e){n.setState({open:e,preSelection:e&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection})},n.handleFocus=function(e){n.state.preventFocus||(n.props.onFocus(e),n.setOpen(!0))},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=null},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(e){n.state.open?n.deferFocusInput():n.props.onBlur(e)},n.handleCalendarClickOutside=function(e){n.props.inline||n.setOpen(!1),n.props.onClickOutside(e),n.props.withPortal&&e.preventDefault()},n.handleChange=function(e){if(!n.props.onChangeRaw||(n.props.onChangeRaw(e),!e.isDefaultPrevented())){n.setState({inputValue:e.target.value});var t=(0,v.parseDate)(e.target.value,n.props);!t&&e.target.value||n.setSelected(t,e,!0)}},n.handleSelect=function(e,t){n.setState({preventFocus:!0},function(){return n.preventFocusTimeout=setTimeout(function(){return n.setState({preventFocus:!1})},50),n.preventFocusTimeout}),n.setSelected(e,t),n.props.shouldCloseOnSelect?n.props.inline||n.setOpen(!1):n.setPreSelection(e)},n.setSelected=function(e,t,r){var i=e;null!==i&&(0,v.isDayDisabled)(i,n.props)||((0,v.isSameDay)(n.props.selected,i)&&!n.props.allowSameDay||(null!==i&&(n.props.selected&&(i=(0,y.default)(i).set({hour:n.props.selected.hour(),minute:n.props.selected.minute(),second:n.props.selected.second()})),n.setState({preSelection:i})),n.props.onChange(i,t)),n.props.onSelect(i,t),r||n.setState({inputValue:null}))},n.setPreSelection=function(e){(!(void 0!==n.props.minDate&&void 0!==n.props.maxDate)||!e||(0,v.isDayInRange)(e,n.props.minDate,n.props.maxDate))&&n.setState({preSelection:e})},n.onInputClick=function(){n.props.disabled||n.setOpen(!0)},n.onInputKeyDown=function(e){n.props.onKeyDown(e);var t=e.key;if(!n.state.open&&!n.props.inline)return void("Enter"!==t&&"Escape"!==t&&"Tab"!==t&&n.onInputClick());var r=(0,y.default)(n.state.preSelection);if("Enter"===t)e.preventDefault(),y.default.isMoment(n.state.preSelection)||y.default.isDate(n.state.preSelection)?(n.handleSelect(r,e),!n.props.shouldCloseOnSelect&&n.setPreSelection(r)):n.setOpen(!1);else if("Escape"===t)e.preventDefault(),n.setOpen(!1);else if("Tab"===t)n.setOpen(!1);else if(!n.props.disabledKeyboardNavigation){var i=void 0;switch(t){case"ArrowLeft":e.preventDefault(),i=r.subtract(1,"days");break;case"ArrowRight":e.preventDefault(),i=r.add(1,"days");break;case"ArrowUp":e.preventDefault(),i=r.subtract(1,"weeks");break;case"ArrowDown":e.preventDefault(),i=r.add(1,"weeks");break;case"PageUp":e.preventDefault(),i=r.subtract(1,"months");break;case"PageDown":e.preventDefault(),i=r.add(1,"months");break;case"Home":e.preventDefault(),i=r.subtract(1,"years");break;case"End":e.preventDefault(),i=r.add(1,"years")}n.setPreSelection(i)}},n.onClearClick=function(e){e.preventDefault(),n.props.onChange(null,e)},n.renderCalendar=function(){return n.props.inline||n.state.open&&!n.props.disabled?d.default.createElement(E,{ref:"calendar",locale:n.props.locale,dateFormat:n.props.dateFormatCalendar,useWeekdaysShort:n.props.useWeekdaysShort,dropdownMode:n.props.dropdownMode,selected:n.props.selected,preSelection:n.state.preSelection,onSelect:n.handleSelect,onWeekSelect:n.props.onWeekSelect,openToDate:n.props.openToDate,minDate:n.props.minDate,maxDate:n.props.maxDate,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,startDate:n.props.startDate,endDate:n.props.endDate,excludeDates:n.props.excludeDates,filterDate:n.props.filterDate,onClickOutside:n.handleCalendarClickOutside,formatWeekNumber:n.props.formatWeekNumber,highlightDates:n.props.highlightDates,includeDates:n.props.includeDates,inline:n.props.inline,peekNextMonth:n.props.peekNextMonth,showMonthDropdown:n.props.showMonthDropdown,showWeekNumbers:n.props.showWeekNumbers,showYearDropdown:n.props.showYearDropdown,forceShowMonthNavigation:n.props.forceShowMonthNavigation,scrollableYearDropdown:n.props.scrollableYearDropdown,todayButton:n.props.todayButton,weekLabel:n.props.weekLabel,utcOffset:n.props.utcOffset,outsideClickIgnoreClass:x,fixedHeight:n.props.fixedHeight,monthsShown:n.props.monthsShown,onDropdownFocus:n.handleDropdownFocus,onMonthChange:n.props.onMonthChange,dayClassName:n.props.dayClassName,className:n.props.calendarClassName,yearDropdownItemNumber:n.props.yearDropdownItemNumber},n.props.children):null},n.renderDateInput=function(){var e=(0,_.default)(n.props.className,i({},x,n.state.open)),t=n.props.customInput||d.default.createElement("input",{type:"text"}),r="string"==typeof n.props.value?n.props.value:"string"==typeof n.state.inputValue?n.state.inputValue:(0,v.safeDateFormat)(n.props.selected,n.props);return d.default.cloneElement(t,{ref:"input",value:r,onBlur:n.handleBlur,onChange:n.handleChange,onClick:n.onInputClick,onFocus:n.handleFocus,onKeyDown:n.onInputKeyDown,id:n.props.id,name:n.props.name,autoFocus:n.props.autoFocus,placeholder:n.props.placeholderText,disabled:n.props.disabled,autoComplete:n.props.autoComplete,className:e,title:n.props.title,readOnly:n.props.readOnly,required:n.props.required,tabIndex:n.props.tabIndex})},n.renderClearButton=function(){return n.props.isClearable&&null!=n.props.selected?d.default.createElement("a",{className:"react-datepicker__close-icon",href:"#",onClick:n.onClearClick}):null},n.state=n.calcInitialState(),n}return s(t,e),u(t,null,[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"L",dateFormatCalendar:"MMMM YYYY",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},utcOffset:(0,y.default)().utcOffset(),monthsShown:1,withPortal:!1,shouldCloseOnSelect:!0}}}]),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.selected&&this.props.selected.month(),n=e.selected&&e.selected.month();this.props.inline&&t!==n&&this.setPreSelection(e.selected)}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout()}},{key:"render",value:function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?d.default.createElement("div",null,this.props.inline?null:d.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?d.default.createElement("div",{className:"react-datepicker__portal"},e):null):d.default.createElement(m.default,{className:this.props.popperClassName,hidePopper:!this.state.open||this.props.disabled,popperModifiers:this.props.popperModifiers,targetComponent:d.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),popperComponent:e,popperPlacement:this.props.popperPlacement})}}]),t}(d.default.Component);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),l=r(u),c=n(3),h=r(c),d=n(13),f=r(d),p=n(15),m=r(p),g=n(4),_=r(g),v=n(5),A=(r(v),n(11)),y=r(A),b=n(18),w=["react-datepicker__year-select","react-datepicker__month-select"],x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.className||"").split(/\s+/);return w.some(function(e){return t.indexOf(e)>=0})},E=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClickOutside=function(e){n.props.onClickOutside(e)},n.handleDropdownFocus=function(e){x(e.target)&&n.props.onDropdownFocus()},n.getDateInView=function(){var e=n.props,t=e.preSelection,r=e.selected,i=e.openToDate,o=e.utcOffset,a=(0,b.getEffectiveMinDate)(n.props),s=(0,b.getEffectiveMaxDate)(n.props),u=l.default.utc().utcOffset(o),c=i||r||t;return c||(a&&u.isBefore(a)?a:s&&u.isAfter(s)?s:u)},n.localizeMoment=function(e){return e.clone().locale(n.props.locale||l.default.locale())},n.increaseMonth=function(){n.setState({date:n.state.date.clone().add(1,"month")},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState({date:n.state.date.clone().subtract(1,"month")},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(e,t){return n.props.onSelect(e,t)},n.handleDayMouseEnter=function(e){return n.setState({selectingDate:e})},n.handleMonthMouseLeave=function(){return n.setState({selectingDate:null})},n.handleMonthChange=function(e){n.props.onMonthChange&&n.props.onMonthChange(e)},n.changeYear=function(e){n.setState({date:n.state.date.clone().set("year",e)})},n.changeMonth=function(e){n.setState({date:n.state.date.clone().set("month",e)},function(){return n.handleMonthChange(n.state.date)})},n.header=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.date,t=e.clone().startOf("week"),r=[];return n.props.showWeekNumbers&&r.push(_.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),r.concat([0,1,2,3,4,5,6].map(function(e){var r=t.clone().add(e,"days"),i=n.props.useWeekdaysShort?r.localeData().weekdaysShort(r):r.localeData().weekdaysMin(r);return _.default.createElement("div",{key:e,className:"react-datepicker__day-name"},i)}))},n.renderPreviousMonthButton=function(){if(n.props.forceShowMonthNavigation||!(0,b.allDaysDisabledBefore)(n.state.date,"month",n.props))return _.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--previous",onClick:n.decreaseMonth})},n.renderNextMonthButton=function(){if(n.props.forceShowMonthNavigation||!(0,b.allDaysDisabledAfter)(n.state.date,"month",n.props))return _.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--next",onClick:n.increaseMonth})},n.renderCurrentMonth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.date,t=["react-datepicker__current-month"];return n.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),_.default.createElement("div",{className:t.join(" ")},e.format(n.props.dateFormat))},n.renderYearDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.props.showYearDropdown&&!e)return _.default.createElement(h.default,{dropdownMode:n.props.dropdownMode,onChange:n.changeYear,minDate:n.props.minDate,maxDate:n.props.maxDate,year:n.state.date.year(),scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})},n.renderMonthDropdown=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0],n.props.showMonthDropdown)return _.default.createElement(f.default,{dropdownMode:n.props.dropdownMode,locale:n.props.locale,dateFormat:n.props.dateFormat,onChange:n.changeMonth,month:n.state.date.month()})},n.renderTodayButton=function(){if(n.props.todayButton)return _.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return n.props.onSelect(l.default.utc().utcOffset(n.props.utcOffset).startOf("date"),e)}},n.props.todayButton)},n.renderMonths=function(){for(var e=[],t=0;t<n.props.monthsShown;++t){var r=n.state.date.clone().add(t,"M"),i="month-"+t;e.push(_.default.createElement("div",{key:i,className:"react-datepicker__month-container"},_.default.createElement("div",{className:"react-datepicker__header"},n.renderCurrentMonth(r),_.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--"+n.props.dropdownMode,onFocus:n.handleDropdownFocus},n.renderMonthDropdown(0!==t),n.renderYearDropdown(0!==t)),_.default.createElement("div",{className:"react-datepicker__day-names"},n.header(r))),_.default.createElement(m.default,{day:r,dayClassName:n.props.dayClassName,onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,highlightDates:n.props.highlightDates,selectingDate:n.state.selectingDate,includeDates:n.props.includeDates,inline:n.props.inline,fixedHeight:n.props.fixedHeight,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,showWeekNumbers:n.props.showWeekNumbers,startDate:n.props.startDate,endDate:n.props.endDate,peekNextMonth:n.props.peekNextMonth,utcOffset:n.props.utcOffset})))}return e},n.state={date:n.localizeMoment(n.getDateInView()),selectingDate:null},n}return a(t,e),s(t,null,[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},utcOffset:l.default.utc().utcOffset(),monthsShown:1,forceShowMonthNavigation:!1}}}]),s(t,[{key:"componentWillReceiveProps",value:function(e){e.preSelection&&!(0,b.isSameDay)(e.preSelection,this.props.preSelection)?this.setState({date:this.localizeMoment(e.preSelection)}):e.openToDate&&!(0,b.isSameDay)(e.openToDate,this.props.openToDate)&&this.setState({date:this.localizeMoment(e.openToDate)})}},{key:"render",value:function(){return _.default.createElement("div",{className:(0,y.default)("react-datepicker",this.props.className)},_.default.createElement("div",{className:"react-datepicker__triangle"}),this.renderPreviousMonthButton(),this.renderNextMonthButton(),this.renderMonths(),this.renderTodayButton(),this.props.children)}}]),t}(_.default.Component);t.default=E},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(5),h=(r(c),n(10)),d=r(h),f=n(12),p=r(f),m=(0,p.default)(d.default),g=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var e=r.props.minDate?r.props.minDate.year():1900,t=r.props.maxDate?r.props.maxDate.year():2100,n=[],i=e;i<=t;i++)n.push(l.default.createElement("option",{key:i,value:i},i));return n},r.onSelectChange=function(e){r.onChange(e.target.value)},r.renderSelectMode=function(){return l.default.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(e){return l.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},l.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),l.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return l.default.createElement(m,{key:"dropdown",ref:"options",year:r.props.year,onChange:r.onChange,onCancel:r.toggleDropdown,scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown(),e!==r.props.year&&r.props.onChange(e)},r.toggleDropdown=function(){r.setState({dropdownVisible:!r.state.dropdownVisible})},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=void 0;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return l.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--"+this.props.dropdownMode},e)}}]),t}(l.default.Component);t.default=g},function(e,n){e.exports=t},function(e,t,n){e.exports=n(6)()},function(e,t,n){"use strict";var r=n(7),i=n(8),o=n(9);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,u],h=0;l=new Error(t.replace(/%s/g,function(){return c[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=r},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){for(var n=[],r=0;r<2*t+1;r++)n.push(e+t-r);return n}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),c=r(l),h=n(5),d=(r(h),n(11)),f=r(d),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map(function(t){return c.default.createElement("div",{className:"react-datepicker__year-option",key:t,ref:t,onClick:n.onChange.bind(n,t)},e===t?c.default.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",t)});return t.unshift(c.default.createElement("div",{className:"react-datepicker__year-option",ref:"upcoming",key:"upcoming",onClick:n.incrementYears},c.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),t.push(c.default.createElement("div",{className:"react-datepicker__year-option",ref:"previous",key:"previous",onClick:n.decrementYears},c.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=e.yearDropdownItemNumber,a=e.scrollableYearDropdown,u=r||(a?10:5);return n.state={yearsList:s(n.props.year,u)},n}return a(t,e),u(t,[{key:"render",value:function(){var e=(0,f.default)({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return c.default.createElement("div",{className:e},this.renderOptions())}}]),t}(c.default.Component);t.default=p},function(e,t,n){var r,i;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(i=function(){return n}.apply(t,r))&&(e.exports=i))}()},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(5),h=(r(c),n(14)),d=r(h),f=n(12),p=r(f),m=n(2),g=r(m),_=(0,p.default)(d.default),v=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(e){return e.map(function(e,t){return l.default.createElement("option",{key:t,value:t},e)})},r.renderSelectMode=function(e){return l.default.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(e){return r.onChange(e.target.value)}},r.renderSelectOptions(e))},r.renderReadView=function(e,t){return l.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},l.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},t[r.props.month]),l.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}))},r.renderDropdown=function(e){return l.default.createElement(_,{key:"dropdown",ref:"options",month:r.props.month,monthNames:e,onChange:r.onChange,onCancel:r.toggleDropdown})},r.renderScrollMode=function(e){var t=r.state.dropdownVisible,n=[r.renderReadView(!t,e)];return t&&n.unshift(r.renderDropdown(e)),n},r.onChange=function(e){r.toggleDropdown(),e!==r.props.month&&r.props.onChange(e)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=g.default.localeData(this.props.locale),n=[0,1,2,3,4,5,6,7,8,9,10,11].map(function(n){return t.months((0,g.default)({M:n}),e.props.dateFormat)}),r=void 0;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(n);break;case"select":r=this.renderSelectMode(n)}return l.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--"+this.props.dropdownMode},r)}}]),t}(l.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(5),h=(r(c),function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.renderOptions=function(){return r.props.monthNames.map(function(e,t){return l.default.createElement("div",{className:"react-datepicker__month-option",key:e,ref:e,onClick:r.onChange.bind(r,t)},r.props.month===t?l.default.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",e)})},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){return r.props.onCancel()},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),t}(l.default.Component));t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(5),h=(r(c),n(11)),d=r(h),f=n(16),p=r(f),m=6,g=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMouseLeave=function(){r.props.onMouseLeave&&r.props.onMouseLeave()},r.isWeekInMonth=function(e){var t=r.props.day,n=e.clone().add(6,"days");return e.isSame(t,"month")||n.isSame(t,"month")},r.renderWeeks=function(){for(var e=[],t=r.props.fixedHeight,n=r.props.day.clone().startOf("month").startOf("week"),i=0,o=!1;e.push(l.default.createElement(p.default,{key:i,day:n,month:r.props.day.month(),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,showWeekNumber:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,utcOffset:r.props.utcOffset})),!o;){i++,n=n.clone().add(1,"weeks");var a=t&&i>=m,s=!t&&!r.isWeekInMonth(n);if(a||s){if(!r.props.peekNextMonth)break;o=!0}}return e},r.getClassNames=function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,i=e.selectsEnd;return(0,d.default)("react-datepicker__month",{"react-datepicker__month--selecting-range":t&&(n||i)})},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,role:"listbox"},this.renderWeeks())}}]),t}(l.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(5),h=(r(c),n(17)),d=r(h),f=n(19),p=r(f),m=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleWeekClick=function(e,t,n){"function"==typeof r.props.onWeekSelect&&r.props.onWeekSelect(e,t,n)},r.formatWeekNumber=function(e){return r.props.formatWeekNumber?r.props.formatWeekNumber(e):parseInt(e.format("w"),10)},r.renderDays=function(){var e=r.props.day.clone().startOf("week"),t=[],n=r.formatWeekNumber(e);if(r.props.showWeekNumber){var i=r.props.onWeekSelect?r.handleWeekClick.bind(r,e,n):void 0;t.push(l.default.createElement(p.default,{key:"W",weekNumber:n,onClick:i}))}return t.concat([0,1,2,3,4,5,6].map(function(t){var n=e.clone().add(t,"days");return l.default.createElement(d.default,{key:t,day:n,month:r.props.month,onClick:r.handleDayClick.bind(r,n),onMouseEnter:r.handleDayMouseEnter.bind(r,n),minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,utcOffset:r.props.utcOffset})}))},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}]),t}(l.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(2),h=r(c),d=n(4),f=r(d),p=n(5),m=(r(p),n(11)),g=r(m),_=n(18),v=function(e){function t(){var e,n,r,s;o(this,t);for(var l=arguments.length,c=Array(l),d=0;d<l;d++)c[d]=arguments[d];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.handleClick=function(e){!r.isDisabled()&&r.props.onClick&&r.props.onClick(e)},r.handleMouseEnter=function(e){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(e)},r.isSameDay=function(e){return(0,_.isSameDay)(r.props.day,e)},r.isKeyboardSelected=function(){return!r.props.inline&&!r.isSameDay(r.props.selected)&&r.isSameDay(r.props.preSelection)},r.isDisabled=function(){return(0,_.isDayDisabled)(r.props.day,r.props)},r.getHighLightedClass=function(e){var t=r.props,n=t.day,o=t.highlightDates;if(!o)return i({},e,!1);for(var a={},s=0,l=o.length;s<l;s++){var c=o[s];if(c instanceof h.default)(0,_.isSameDay)(n,c)&&(a[e]=!0);else if("object"===(void 0===c?"undefined":u(c))){var d=Object.keys(c),f=c[d[0]];if("string"==typeof d[0]&&f.constructor===Array)for(var p=0,m=f.length;p<m;p++)(0,_.isSameDay)(n,f[p])&&(a[d[0]]=!0)}}return a},r.isInRange=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&(0,_.isDayInRange)(t,n,i)},r.isInSelectingRange=function(){var e=r.props,t=e.day,n=e.selectsStart,i=e.selectsEnd,o=e.selectingDate,a=e.startDate,s=e.endDate;return!(!n&&!i||!o||r.isDisabled())&&(n&&s&&o.isSameOrBefore(s)?(0,_.isDayInRange)(t,o,s):!!(i&&a&&o.isSameOrAfter(a))&&(0,_.isDayInRange)(t,a,o))},r.isSelectingRangeStart=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,i=e.startDate;return e.selectsStart?(0,_.isSameDay)(t,n):(0,_.isSameDay)(t,i)},r.isSelectingRangeEnd=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,i=e.endDate;return e.selectsEnd?(0,_.isSameDay)(t,n):(0,_.isSameDay)(t,i)},r.isRangeStart=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&(0,_.isSameDay)(n,t)},r.isRangeEnd=function(){var e=r.props,t=e.day,n=e.startDate,i=e.endDate;return!(!n||!i)&&(0,_.isSameDay)(i,t)},r.isWeekend=function(){var e=r.props.day.day();return 0===e||6===e},r.isOutsideMonth=function(){return void 0!==r.props.month&&r.props.month!==r.props.day.month()},r.getClassNames=function(e){var t=r.props.dayClassName?r.props.dayClassName(e):void 0;return(0,g.default)("react-datepicker__day",t,"react-datepicker__day--"+(0,_.getDayOfWeekCode)(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--selected":r.isSameDay(r.props.selected),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isSameDay(h.default.utc().utcOffset(r.props.utcOffset)),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isOutsideMonth()},r.getHighLightedClass("react-datepicker__day--highlighted"))},s=n,a(r,s)}return s(t,e),l(t,[{key:"render",value:function(){return f.default.createElement("div",{className:this.getClassNames(this.props.day),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,"aria-label":"day-"+this.props.day.date(),role:"option"},this.props.day.date())}}]),t}(f.default.Component);v.defaultProps={utcOffset:h.default.utc().utcOffset()},t.default=v},function(e,t,n){"use strict";function r(e,t){return e&&t?e.isSame(t,"day"):!e&&!t}function i(e,t){return e&&t?e.utcOffset()===t.utcOffset():!e&&!t}function o(e,t,n){var r=t.clone().startOf("day").subtract(1,"seconds"),i=n.clone().startOf("day").add(1,"seconds");return e.clone().startOf("day").isBetween(r,i)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,i=t.maxDate,o=t.excludeDates,a=t.includeDates,s=t.filterDate;return n&&e.isBefore(n,"day")||i&&e.isAfter(i,"day")||o&&o.some(function(t){return r(e,t)})||a&&!a.some(function(t){return r(e,t)})||s&&!s(e.clone())||!1}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.minDate,i=n.includeDates,o=e.clone().subtract(1,t);return r&&o.isBefore(r,t)||i&&i.every(function(e){return o.isBefore(e,t)})||!1}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.maxDate,i=n.includeDates,o=e.clone().add(1,t);return r&&o.isAfter(r,t)||i&&i.every(function(e){return o.isAfter(e,t)})||!1}function l(e){var t=e.minDate,n=e.includeDates;return n&&t?m.default.min(n.filter(function(e){return t.isSameOrBefore(e,"day")})):n?m.default.min(n):t}function c(e){var t=e.maxDate,n=e.includeDates;return n&&t?m.default.max(n.filter(function(e){return t.isSameOrAfter(e,"day")})):n?m.default.max(n):t}function h(e,t){var n=t.dateFormat,r=t.locale,i=(0,m.default)(e,n,r||m.default.locale(),!0);return i.isValid()?i:null}function d(e,t){var n=t.dateFormat,r=t.locale;return e&&e.clone().locale(r||m.default.locale()).format(Array.isArray(n)?n[0]:n)||""}function f(e){return g[e.isoWeekday()]}Object.defineProperty(t,"__esModule",{value:!0}),t.isSameDay=r,t.isSameUtcOffset=i,t.isDayInRange=o,t.isDayDisabled=a,t.allDaysDisabledBefore=s,t.allDaysDisabledAfter=u,t.getEffectiveMinDate=l,t.getEffectiveMaxDate=c,t.parseDate=h,t.safeDateFormat=d,t.getDayOfWeekCode=f;var p=n(2),m=function(e){return e&&e.__esModule?e:{default:e}}(p),g={1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat",7:"sun"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(5),h=(r(c),n(11)),d=r(h),f=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleClick=function(e){r.props.onClick&&r.props.onClick(e)},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!this.props.onClick};return l.default.createElement("div",{className:(0,d.default)(e),"aria-label":"week-"+this.props.weekNumber,onClick:this.handleClick},this.props.weekNumber)}}]),t}(l.default.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.popperPlacementPositions=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),l=r(u),c=n(5),h=(r(c),n(21)),d=(t.popperPlacementPositions=["auto","auto-left","auto-right","bottom","bottom-end","bottom-start","left","left-end","left-start","right","right-end","right-start","top","top-end","top-start"],function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.hidePopper,n=e.popperComponent,r=e.popperModifiers,i=e.popperPlacement,o=e.targetComponent;return l.default.createElement(h.Manager,null,l.default.createElement(h.Target,{className:"react-datepicker-wrapper"},o),!t&&l.default.createElement(h.Popper,{className:"react-datepicker-popper",modifiers:r,placement:i},n))}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!0,boundariesElement:"viewport"}},popperPlacement:"bottom-start"}}}]),t}(l.default.Component));t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=t.Popper=t.Target=t.Manager=void 0;var i=n(22),o=r(i),a=n(23),s=r(a),u=n(24),l=r(u),c=n(28),h=r(c);t.Manager=o.default,t.Target=s.default,t.Popper=l.default,t.Arrow=h.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),c=(r(l),n(5)),h=r(c),d=function(e){function t(){var e,n,r,i;o(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r._setTargetNode=function(e){r._targetNode=e},r._getTargetNode=function(){return r._targetNode},i=n,a(r,i)}return s(t,e),u(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.children,r=i(e,["tag","children"]);return!1!==t?(0,l.createElement)(t,r,n):n}}]),t}(l.Component);d.childContextTypes={popperManager:h.default.object.isRequired},d.propTypes={tag:h.default.oneOfType([h.default.string,h.default.bool])},d.defaultProps={tag:"div"},t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(4),s=(r(a),n(5)),u=r(s),l=function(e,t){var n=e.component,r=void 0===n?"div":n,s=e.innerRef,u=e.children,l=i(e,["component","innerRef","children"]),c=t.popperManager,h=function(e){c.setTargetNode(e),"function"==typeof s&&s(e)};if("function"==typeof u){return u({targetProps:{ref:h},restProps:l})}var d=o({},l);return"string"==typeof r?d.ref=h:d.innerRef=h,(0,a.createElement)(r,d,u)};l.contextTypes={popperManager:u.default.object.isRequired},l.propTypes={component:u.default.oneOfType([u.default.node,u.default.func]),innerRef:u.default.func,children:u.default.oneOfType([u.default.node,u.default.func])},t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(4),d=(r(h),n(5)),f=r(d),p=n(25),m=r(p),g=n(26),_=r(g),v=function(e){function t(){var e,n,r,i;a(this,t);for(var o=arguments.length,u=Array(o),c=0;c<o;c++)u[c]=arguments[c];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={},r._setArrowNode=function(e){r._arrowNode=e},r._getTargetNode=function(){return r.context.popperManager.getTargetNode()},r._updateStateModifier={enabled:!0,order:900,fn:function(e){return(r.state.data&&!(0,_.default)(e.offsets,r.state.data.offsets)||!r.state.data)&&r.setState({data:e}),e}},r._getPopperStyle=function(){var e=r.state.data;if(!r._popper||!e)return{position:"absolute",pointerEvents:"none",opacity:0};var t=e.offsets.popper,n=(t.top,t.left,t.position);return l({position:n},e.styles)},r._getPopperPlacement=function(){return r.state.data?r.state.data.placement:void 0},r._getArrowStyle=function(){if(r.state.data&&r.state.data.offsets.arrow){var e=r.state.data.offsets.arrow,t=e.top,n=e.left;return n?{left:+n}:{top:+t}}return{}},i=n,s(r,i)}return u(t,e),c(t,[{key:"getChildContext",value:function(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidMount",value:function(){this._updatePopper()}},{key:"componentDidUpdate",value:function(e){e.placement===this.props.placement&&e.eventsEnabled===this.props.eventsEnabled||this._updatePopper(),e.children!==this.props.children&&this._popper.scheduleUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyPopper()}},{key:"_updatePopper",value:function(){this._destroyPopper(),this._node&&this._createPopper()}},{key:"_createPopper",value:function(){var e=this.props,t=e.placement,n=e.eventsEnabled,r=l({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(r.arrow={element:this._arrowNode}),this._popper=new m.default(this._getTargetNode(),this._node,{placement:t,eventsEnabled:n,modifiers:r}),this._popper.scheduleUpdate()}},{key:"_destroyPopper",value:function(){this._popper&&this._popper.destroy()}},{key:"render",value:function(){var e=this,t=this.props,n=t.component,r=t.innerRef,a=(t.placement,t.eventsEnabled,t.modifiers,t.children),s=o(t,["component","innerRef","placement","eventsEnabled","modifiers","children"]),u=function(t){e._node=t,"function"==typeof r&&r(t)},c=this._getPopperStyle(),d=this._getPopperPlacement();if("function"==typeof a){return a({popperProps:i({ref:u,style:c},"data-placement",d),restProps:s,scheduleUpdate:this._popper&&this._popper.scheduleUpdate})}var f=l({},s,{style:l({},s.style,c),"data-placement":d});return"string"==typeof n?f.ref=u:f.innerRef=u,(0,h.createElement)(n,f,a)}}]),t}(h.Component);v.contextTypes={popperManager:f.default.object.isRequired},v.childContextTypes={popper:f.default.object.isRequired},v.propTypes={component:f.default.oneOfType([f.default.node,f.default.func]),innerRef:f.default.func,placement:f.default.oneOf(m.default.placements),eventsEnabled:f.default.bool,modifiers:f.default.object,children:f.default.oneOfType([f.default.node,f.default.func])},v.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,modifiers:{}},t.default=v},function(e,t,n){(function(t){!function(t,n){e.exports=function(){"use strict";function e(e){var t=!1,n=0,r=document.createElement("span");return new MutationObserver(function(){e(),t=!1}).observe(r,{attributes:!0}),function(){t||(t=!0,r.setAttribute("x-index",n),n+=1)}}function n(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},he))}}function r(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function i(e,t){if(1!==e.nodeType)return[];var n=window.getComputedStyle(e,null);return t?n[t]:n}function o(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function a(e){if(!e||-1!==["HTML","BODY","#document"].indexOf(e.nodeName))return window.document.body;var t=i(e),n=t.overflow,r=t.overflowX;return/(auto|scroll)/.test(n+t.overflowY+r)?e:a(o(e))}function s(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||e.firstElementChild.offsetParent===e)}function u(e){return null!==e.parentNode?u(e.parentNode):e}function l(e){var t=e&&e.offsetParent,n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?t:window.document.documentElement}function c(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return window.document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||r.contains(i))return s(a)?a:l(a);var h=u(e);return h.host?c(h.host,t):c(e,u(t).host)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=window.document.documentElement;return(window.document.scrollingElement||i)[n]}return e[n]}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=h(t,"top"),i=h(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function f(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return+e["border"+n+"Width"].split("px")[0]+ +e["border"+r+"Width"].split("px")[0]}function p(e,t,n,r){return Math.max(t["offset"+e],n["client"+e],n["offset"+e],ge()?n["offset"+e]+r["margin"+("Height"===e?"Top":"Left")]+r["margin"+("Height"===e?"Bottom":"Right")]:0)}function m(){var e=window.document.body,t=window.document.documentElement,n=ge()&&window.getComputedStyle(t);return{height:p("Height",e,t,n),width:p("Width",e,t,n)}}function g(e){return _e({},e,{right:e.left+e.width,bottom:e.top+e.height})}function _(e){var t={};if(ge())try{t=e.getBoundingClientRect();var n=h(e,"top"),r=h(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}catch(e){}else t=e.getBoundingClientRect();var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?m():{},s=a.width||e.clientWidth||o.right-o.left,u=a.height||e.clientHeight||o.bottom-o.top,l=e.offsetWidth-s,c=e.offsetHeight-u;if(l||c){var d=i(e);l-=f(d,"x"),c-=f(d,"y"),o.width-=l,o.height-=c}return g(o)}function v(e,t){var n=ge(),r="HTML"===t.nodeName,o=_(e),s=_(t),u=a(e),l=i(t),c=+l.borderTopWidth.split("px")[0],h=+l.borderLeftWidth.split("px")[0],f=g({top:o.top-s.top-c,left:o.left-s.left-h,width:o.width,height:o.height});if(f.marginTop=0,f.marginLeft=0,!n&&r){var p=+l.marginTop.split("px")[0],m=+l.marginLeft.split("px")[0];f.top-=c-p,f.bottom-=c-p,f.left-=h-m,f.right-=h-m,f.marginTop=p,f.marginLeft=m}return(n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(f=d(f,t)),f}function A(e){var t=window.document.documentElement,n=v(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),i=Math.max(t.clientHeight,window.innerHeight||0),o=h(t),a=h(t,"left");return g({top:o-n.top+n.marginTop,left:a-n.left+n.marginLeft,width:r,height:i})}function y(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===i(e,"position")||y(o(e)))}function b(e,t,n,r){var i={top:0,left:0},s=c(e,t);if("viewport"===r)i=A(s);else{var u=void 0;"scrollParent"===r?(u=a(o(e)),"BODY"===u.nodeName&&(u=window.document.documentElement)):u="window"===r?window.document.documentElement:r;var l=v(u,s);if("HTML"!==u.nodeName||y(s))i=l;else{var h=m(),d=h.height,f=h.width;i.top+=l.top-l.marginTop,i.bottom=d+l.top,i.left+=l.left-l.marginLeft,i.right=f+l.left}}return i.left+=n,i.top+=n,i.right-=n,i.bottom-=n,i}function w(e){return e.width*e.height}function x(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=b(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},u=Object.keys(s).map(function(e){return ve({key:e},s[e],{area:w(s[e])})}).sort(function(e,t){return t.area-e.area}),l=u.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),c=l.length>0?l[0].key:u[0].key,h=e.split("-")[1];return c+(h?"-"+h:"")}function E(e,t,n){return v(n,c(t,n))}function C(e){var t=window.getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function S(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function T(e,t,n){n=n.split("-")[0];var r=C(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",u=o?"height":"width",l=o?"width":"height";return i[a]=t[a]+t[u]/2-r[u]/2,i[s]=n===s?t[s]-r[l]:t[S(s)],i}function I(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function M(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=I(e,function(e){return e[t]===n});return e.indexOf(r)}function O(e,t,n){return(void 0===n?e:e.slice(0,M(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&r(n)&&(t.offsets.popper=g(t.offsets.popper),t.offsets.reference=g(t.offsets.reference),t=n(t,e))}),t}function P(){if(!this.state.isDestroyed){var e={instance:this,styles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=E(this.state,this.popper,this.reference),e.placement=x(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=T(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=O(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function D(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function B(e){for(var t=[!1,"ms","webkit","moz","o"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length-1;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==window.document.body.style[o])return o}return null}function L(){return this.state.isDestroyed=!0,D(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[B("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function N(e,t,n,r){var i="BODY"===e.nodeName,o=i?window:e;o.addEventListener(t,n,{passive:!0}),i||N(a(o.parentNode),t,n,r),r.push(o)}function R(e,t,n,r){n.updateBound=r,window.addEventListener("resize",n.updateBound,{passive:!0});var i=a(e);return N(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function k(){this.state.eventsEnabled||(this.state=R(this.reference,this.options,this.state,this.scheduleUpdate))}function F(e,t){return window.removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function U(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=F(this.reference,this.state))}function z(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function j(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&z(t[n])&&(r="px"),e.style[n]=t[n]+r})}function H(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function V(e){return j(e.instance.popper,e.styles),H(e.instance.popper,e.attributes),e.offsets.arrow&&j(e.arrowElement,e.offsets.arrow),e}function Q(e,t,n,r,i){var o=E(i,t,e),a=x(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),j(t,{position:"absolute"}),n}function G(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=I(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=l(e.instance.popper),u=_(s),c={position:i.position},h={left:Math.floor(i.left),top:Math.floor(i.top),bottom:Math.floor(i.bottom),right:Math.floor(i.right)},d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",p=B("transform"),m=void 0,g=void 0;if(g="bottom"===d?-u.height+h.bottom:h.top,m="right"===f?-u.width+h.right:h.left,a&&p)c[p]="translate3d("+m+"px, "+g+"px, 0)",c[d]=0,c[f]=0,c.willChange="transform";else{var v="bottom"===d?-1:1,A="right"===f?-1:1;c[d]=g*v,c[f]=m*A,c.willChange=d+", "+f}var y={"x-placement":e.placement};return e.attributes=y,e.styles=Ae({},c,e.styles),e}function W(e,t,n){var r=I(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function q(e,t){if(!W(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],i=e.offsets,o=i.popper,a=i.reference,s=-1!==["left","right"].indexOf(r),u=s?"height":"width",l=s?"top":"left",c=s?"left":"top",h=s?"bottom":"right",d=C(n)[u];a[h]-d<o[l]&&(e.offsets.popper[l]-=o[l]-(a[h]-d)),a[l]+d>o[h]&&(e.offsets.popper[l]+=a[l]+d-o[h]);var f=a[l]+a[u]/2-d/2,p=f-g(e.offsets.popper)[l];return p=Math.max(Math.min(o[u]-d,p),0),e.arrowElement=n,e.offsets.arrow={},e.offsets.arrow[l]=Math.round(p),e.offsets.arrow[c]="",e}function Y(e){return"end"===e?"start":"start"===e?"end":e}function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=be.indexOf(e),r=be.slice(n+1).concat(be.slice(0,n));return t?r.reverse():r}function X(e,t){if(D(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=b(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),r=e.placement.split("-")[0],i=S(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case xe.FLIP:a=[r,i];break;case xe.CLOCKWISE:a=K(r);break;case xe.COUNTERCLOCKWISE:a=K(r,!0);break;default:a=t.behavior}return a.forEach(function(s,u){if(r!==s||a.length===u+1)return e;r=e.placement.split("-")[0],i=S(r);var l=e.offsets.popper,c=e.offsets.reference,h=Math.floor,d="left"===r&&h(l.right)>h(c.left)||"right"===r&&h(l.left)<h(c.right)||"top"===r&&h(l.bottom)>h(c.top)||"bottom"===r&&h(l.top)<h(c.bottom),f=h(l.left)<h(n.left),p=h(l.right)>h(n.right),m=h(l.top)<h(n.top),g=h(l.bottom)>h(n.bottom),_="left"===r&&f||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,v=-1!==["top","bottom"].indexOf(r),A=!!t.flipVariations&&(v&&"start"===o&&f||v&&"end"===o&&p||!v&&"start"===o&&m||!v&&"end"===o&&g);(d||_||A)&&(e.flipped=!0,(d||_)&&(r=a[u+1]),A&&(o=Y(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=we({},e.offsets.popper,T(e.instance.popper,e.offsets.reference,e.placement)),e=O(e.instance.modifiers,e,"flip"))}),e}function Z(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",u=a?"left":"top",l=a?"width":"height";return n[s]<o(r[u])&&(e.offsets.popper[u]=o(r[u])-n[l]),n[u]>o(r[s])&&(e.offsets.popper[u]=o(r[s])),e}function J(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return g(s)[t]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}function $(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(I(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var u=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return l=l.map(function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return J(e,i,t,n)})}),l.forEach(function(e,t){e.forEach(function(n,r){z(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}function ee(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],u=void 0;return u=z(+n)?[+n,0]:$(n,o,a,s),"left"===s?(o.top+=u[0],o.left-=u[1]):"right"===s?(o.top+=u[0],o.left+=u[1]):"top"===s?(o.left+=u[0],o.top-=u[1]):"bottom"===s&&(o.left+=u[0],o.top+=u[1]),e.popper=o,e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t){var n=t.boundariesElement||l(e.instance.popper);e.instance.reference===n&&(n=l(n));var r=b(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=r;var i=t.priority,o=e.offsets.popper,a={primary:function(e){var n=o[e];return o[e]<r[e]&&!t.escapeWithReference&&(n=Math.max(o[e],r[e])),te({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=o[n];return o[e]>r[e]&&!t.escapeWithReference&&(i=Math.min(o[n],r[e]-("right"===e?o.width:o.height))),te({},n,i)}};return i.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";o=Ee({},o,a[t](e))}),e.offsets.popper=o,e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",l=s?"width":"height",c={start:re({},u,o[u]),end:re({},u,o[u]+o[l]-a[l])};e.offsets.popper=Ce({},a,c[r])}return e}function oe(e){if(!W(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=I(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function ae(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[t]-(s?i[a?"width":"height"]:0),e.placement=S(t),e.offsets.popper=g(i),e}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}for(var ue=["native code","[object MutationObserverConstructor]"],le="undefined"!=typeof window,ce=["Edge","Trident","Firefox"],he=0,de=0;de<ce.length;de+=1)if(le&&navigator.userAgent.indexOf(ce[de])>=0){he=1;break}var fe=le&&function(e){return ue.some(function(t){return(e||"").toString().indexOf(t)>-1})}(window.MutationObserver),pe=fe?e:n,me=void 0,ge=function(){return void 0===me&&(me=-1!==navigator.appVersion.indexOf("MSIE 10")),me},_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],be=ye.slice(3),we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se={shift:{order:100,enabled:!0,fn:ie},offset:{order:200,enabled:!0,fn:ee,offset:0},preventOverflow:{order:300,enabled:!0,fn:ne,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:Z},arrow:{order:500,enabled:!0,fn:q,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:X,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:ae},hide:{order:800,enabled:!0,fn:oe},computeStyle:{order:850,enabled:!0,fn:G,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:V,onLoad:Q,gpuAcceleration:void 0}},Te={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Se},Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Oe=function(){function e(t,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};se(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=pe(this.update.bind(this)),this.options=Ie({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t.jquery?t[0]:t,this.popper=n.jquery?n[0]:n,this.options.modifiers={},Object.keys(Ie({},e.Defaults.modifiers,o.modifiers)).forEach(function(t){i.options.modifiers[t]=Ie({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return Ie({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&r(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return Me(e,[{key:"update",value:function(){return P.call(this)}},{key:"destroy",value:function(){return L.call(this)}},{key:"enableEventListeners",value:function(){return k.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),e}();return Oe.Utils=("undefined"!=typeof window?window:t).PopperUtils,Oe.placements=ye,Oe.Defaults=Te,Oe}()}()}).call(t,function(){return this}())},function(e,t,n){/*!
	 * is-equal-shallow <https://github.com/jonschlinkert/is-equal-shallow>
	 *
	 * Copyright (c) 2015, Jon Schlinkert.
	 * Licensed under the MIT License.
	 */
"use strict";var r=n(27);e.exports=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n,i=0,o=0;for(n in t)if(o++,!r(t[n])||!e.hasOwnProperty(n)||e[n]!==t[n])return!1;for(n in e)i++;return i===o}},function(e,t){/*!
	 * is-primitive <https://github.com/jonschlinkert/is-primitive>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT License.
	 */
"use strict";e.exports=function(e){return null==e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(4),s=(r(a),n(5)),u=r(s),l=function(e,t){var n=e.component,r=void 0===n?"span":n,s=e.innerRef,u=e.children,l=i(e,["component","innerRef","children"]),c=t.popper,h=function(e){c.setArrowNode(e),"function"==typeof s&&s(e)},d=c.getArrowStyle();if("function"==typeof u){return u({arrowProps:{ref:h,style:d},restProps:l})}var f=o({},l,{style:o({},d,l.style)});return"string"==typeof r?f.ref=h:f.innerRef=h,(0,a.createElement)(r,f,u)};l.contextTypes={popper:u.default.object.isRequired},l.propTypes={component:u.default.oneOfType([u.default.node,u.default.func]),innerRef:u.default.func,children:u.default.oneOfType([u.default.node,u.default.func])},t.default=l}])})},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}function a(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(o(e,t,n))return!0;e=e.parentNode}return e}function s(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}function u(e,t){var n=null;return-1!==_.indexOf(t)&&c&&(n={passive:!e.props.preventDefault}),n}function l(e,t){var n,o,l=e.displayName||e.name||"Component";return o=n=function(n){function o(e){var r;return r=n.call(this,e)||this,r.__outsideClickHandler=function(e){if("function"==typeof r.__clickOutsideHandlerProp)return void r.__clickOutsideHandlerProp(e);var t=r.getInstance();if("function"==typeof t.props.handleClickOutside)return void t.props.handleClickOutside(e);if("function"==typeof t.handleClickOutside)return void t.handleClickOutside(e);throw new Error("WrappedComponent: "+l+" lacks a handleClickOutside(event) function for processing outside click events.")},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(d.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!=typeof document&&!g[r._uid]){void 0===c&&(c=f()),g[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),m[r._uid]=function(e){if(null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),!r.props.excludeScrollbar||!s(e))){a(e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e)}},e.forEach(function(e){document.addEventListener(e,m[r._uid],u(r,e))})}},r.disableOnClickOutside=function(){delete g[r._uid];var e=m[r._uid];if(e&&"undefined"!=typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach(function(t){return document.removeEventListener(t,e,u(r,t))}),delete m[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=p(),r}r(o,n);var _=o.prototype;return _.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},_.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+l+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},_.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},_.componentWillUnmount=function(){this.disableOnClickOutside()},_.render=function(){var t=this.props,n=(t.excludeScrollbar,i(t,["excludeScrollbar"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(h.createElement)(e,n)},o}(h.Component),n.displayName="OnClickOutside("+l+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:v,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},o}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"IGNORE_CLASS_NAME",function(){return v});var c,h=n(4),d=(n.n(h),n(213)),f=(n.n(d),function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}),p=function(e){return void 0===e&&(e=0),function(){return++e}}(),m={},g={},_=["touchstart","touchmove"],v="ignore-react-onclickoutside";t.default=l},function(e,t,n){(function(t){function n(e,t){return!!(e?e.length:0)&&o(e,t,0)>-1}function r(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function i(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function o(e,t,n){if(t!==t)return i(e,a,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function a(e){return e!==e}function s(e,t){return e.has(t)}function u(e,t){return null==e?void 0:e[t]}function l(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function c(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function h(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function d(){this.__data__=de?de(null):{}}function f(e){return this.has(e)&&delete this.__data__[e]}function p(e){var t=this.__data__;if(de){var n=t[e];return n===W?void 0:n}return ae.call(t,e)?t[e]:void 0}function m(e){var t=this.__data__;return de?void 0!==t[e]:ae.call(t,e)}function g(e,t){return this.__data__[e]=de&&void 0===t?W:t,this}function _(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function v(){this.__data__=[]}function A(e){var t=this.__data__,n=D(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)}function y(e){var t=this.__data__,n=D(t,e);return n<0?void 0:t[n][1]}function b(e){return D(this.__data__,e)>-1}function w(e,t){var n=this.__data__,r=D(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function E(){this.__data__={hash:new h,map:new(ce||_),string:new h}}function C(e){return N(this,e).delete(e)}function S(e){return N(this,e).get(e)}function T(e){return N(this,e).has(e)}function I(e,t){return N(this,e).set(e,t),this}function M(e){var t=-1,n=e?e.length:0;for(this.__data__=new x;++t<n;)this.add(e[t])}function O(e){return this.__data__.set(e,W),this}function P(e){return this.__data__.has(e)}function D(e,t){for(var n=e.length;n--;)if(j(e[n][0],t))return n;return-1}function B(e){return!(!V(e)||F(e))&&(H(e)||l(e)?ue:X).test(U(e))}function L(e,t,i){var o=-1,a=n,u=e.length,l=!0,h=[],d=h;if(i)l=!1,a=r;else if(u>=G){var f=t?null:fe(e);if(f)return c(f);l=!1,a=s,d=new M}else d=t?[]:h;e:for(;++o<u;){var p=e[o],m=t?t(p):p;if(p=i||0!==p?p:0,l&&m===m){for(var g=d.length;g--;)if(d[g]===m)continue e;t&&d.push(m),h.push(p)}else a(d,m,i)||(d!==h&&d.push(m),h.push(p))}return h}function N(e,t){var n=e.__data__;return k(t)?n["string"==typeof t?"string":"hash"]:n.map}function R(e,t){var n=u(e,t);return B(n)?n:void 0}function k(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function F(e){return!!ie&&ie in e}function U(e){if(null!=e){try{return oe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function z(e){return e&&e.length?L(e):[]}function j(e,t){return e===t||e!==e&&t!==t}function H(e){var t=V(e)?se.call(e):"";return t==q||t==Y}function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Q(){}var G=200,W="__lodash_hash_undefined__",q="[object Function]",Y="[object GeneratorFunction]",K=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,Z="object"==typeof t&&t&&t.Object===Object&&t,J="object"==typeof self&&self&&self.Object===Object&&self,$=Z||J||Function("return this")(),ee=Array.prototype,te=Function.prototype,ne=Object.prototype,re=$["__core-js_shared__"],ie=function(){var e=/[^.]+$/.exec(re&&re.keys&&re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),oe=te.toString,ae=ne.hasOwnProperty,se=ne.toString,ue=RegExp("^"+oe.call(ae).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),le=ee.splice,ce=R($,"Map"),he=R($,"Set"),de=R(Object,"create");h.prototype.clear=d,h.prototype.delete=f,h.prototype.get=p,h.prototype.has=m,h.prototype.set=g,_.prototype.clear=v,_.prototype.delete=A,_.prototype.get=y,_.prototype.has=b,_.prototype.set=w,x.prototype.clear=E,x.prototype.delete=C,x.prototype.get=S,x.prototype.has=T,x.prototype.set=I,M.prototype.add=M.prototype.push=O,M.prototype.has=P;var fe=he&&1/c(new he([,-0]))[1]==1/0?function(e){return new he(e)}:Q;e.exports=z}).call(t,n(48))},function(e,t){e.exports={"bottom-dock":"tjs-bottom-dock__bottom-dock",bottomDock:"tjs-bottom-dock__bottom-dock"}},function(e,t){e.exports={map__inner:"tjs-map-column__map__inner",mapInner:"tjs-map-column__map__inner",map__row:"tjs-map-column__map__row",mapRow:"tjs-map-column__map__row",map__cell:"tjs-map-column__map__cell",mapCell:"tjs-map-column__map__cell","map-cell-map":"tjs-map-column__map-cell-map",mapCellMap:"tjs-map-column__map-cell-map","map-wrapper":"tjs-map-column__map-wrapper",mapWrapper:"tjs-map-column__map-wrapper",feedback:"tjs-map-column__feedback","location-distance":"tjs-map-column__location-distance tjs-_base__clearfix",locationDistance:"tjs-map-column__location-distance tjs-_base__clearfix","feedback-button-wrapper":"tjs-map-column__feedback-button-wrapper",feedbackButtonWrapper:"tjs-map-column__feedback-button-wrapper","print-disclaimer":"tjs-map-column__print-disclaimer",printDisclaimer:"tjs-map-column__print-disclaimer"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(11),a=r(o),s=n(4),u=r(s),l=n(8),c=r(l),h=n(5),d=r(h),f=n(401),p=r(f),m=n(1832),g=r(m),_=n(28),v=r(_),A=n(0),y=r(A),b=(0,c.default)({displayName:"MapInteractionWindow",mixins:[a.default],propTypes:{terria:d.default.object,viewState:d.default.object},UNSAFE_componentWillUnmount:function(){this.removeContextItem()},UNSAFE_componentWillReceiveProps:function(e){var t=this.props.terria.mapInteractionModeStack&&this.props.terria.mapInteractionModeStack[this.props.terria.mapInteractionModeStack.length-1];(0,y.default)(t)?this.enableContextItem(e):this.removeContextItem()},enableContextItem:function(e){this.removeContextItem(),(0,y.default)(e.viewState.previewedItem)&&(0,y.default)(e.viewState.previewedItem.contextItem)&&(e.viewState.previewedItem.contextItem.isEnabled=!0,this._lastContextItem=e.viewState.previewedItem.contextItem)},removeContextItem:function(){(0,y.default)(this._lastContextItem)&&(this._lastContextItem.isEnabled=!1,this._lastContextItem=void 0)},render:function(){var e=this.props.terria.mapInteractionModeStack&&this.props.terria.mapInteractionModeStack[this.props.terria.mapInteractionModeStack.length-1],t=(0,v.default)(g.default.window,i({},g.default.isActive,e));return u.default.createElement("div",{className:t,"aria-hidden":!e},u.default.createElement("div",{className:g.default.content},e&&(0,p.default)(e.message())),e&&e.customUi&&e.customUi(),u.default.createElement("button",{type:"button",onClick:e&&e.onCancel,className:g.default.btn},e&&e.buttonText))}});e.exports=b},function(e,t){e.exports={window:"tjs-map-interaction-window__window",isActive:"tjs-map-interaction-window__isActive",content:"tjs-map-interaction-window__content",btn:"tjs-map-interaction-window__btn tjs-_buttons__btn tjs-_buttons__btn-primary"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1834),o=r(i),a=n(8),s=r(a),u=n(1836),l=r(u),c=n(11),h=r(c),d=n(5),f=r(d),p=n(4),m=r(p),g=n(1837),_=r(g),v=n(1838),A=r(v),y=n(133),b=r(y),w=n(1840),x=r(w),E=(0,s.default)({displayName:"MapNavigation",mixins:[h.default],propTypes:{terria:f.default.object.isRequired,viewState:f.default.object.isRequired,navItems:f.default.arrayOf(f.default.element)},getDefaultProps:function(){return{navItems:[]}},render:function(){return m.default.createElement("div",{className:_.default.mapNavigation},this.props.terria.viewerMode!==b.default.Leaflet?m.default.createElement("div",{className:_.default.control},m.default.createElement(o.default,{terria:this.props.terria})):null,m.default.createElement("div",{className:_.default.control},m.default.createElement(x.default,{terria:this.props.terria})),this.props.terria.configParameters.disableMyLocation?null:m.default.createElement("div",{className:_.default.control},m.default.createElement(l.default,{terria:this.props.terria})),this.props.terria.configParameters.disableSplitter?null:m.default.createElement("div",{className:_.default.control},m.default.createElement(A.default,{terria:this.props.viewState.terria})),this.props.navItems.map(function(e,t){return m.default.createElement("div",{className:_.default.control,key:t},e)},this))}});t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){document.removeEventListener("mousemove",e.rotateMouseMoveFunction,!1),document.removeEventListener("mouseup",e.rotateMouseUpFunction,!1),e.rotateMouseMoveFunction=void 0,e.rotateMouseUpFunction=void 0,e.isRotating=!0,e.rotateInitialCursorAngle=Math.atan2(-n.y,n.x);var r=e.props.terria.cesium.scene,i=r.camera,o=I;o.x=r.canvas.clientWidth/2,o.y=r.canvas.clientHeight/2;var a=i.getPickRay(o,M),s=r.globe.pick(a,r,T);_(s)?(e.rotateFrame=w.eastNorthUpToFixedFrame(s,v.WGS84,S),e.rotateIsLook=!1):(e.rotateFrame=w.eastNorthUpToFixedFrame(i.positionWC,v.WGS84,S),e.rotateIsLook=!0);var u=y.clone(i.transform,C);i.lookAtTransform(e.rotateFrame),e.rotateInitialCameraAngle=Math.atan2(i.position.y,i.position.x),e.rotateInitialCameraDistance=m.magnitude(new m(i.position.x,i.position.y,0)),i.lookAtTransform(u),e.rotateMouseMoveFunction=function(n){var r=t.getBoundingClientRect(),o=new p((r.right-r.left)/2,(r.bottom-r.top)/2),a=new p(n.clientX-r.left,n.clientY-r.top),s=p.subtract(a,o,E),l=Math.atan2(-s.y,s.x),c=l-e.rotateInitialCursorAngle,h=g.zeroToTwoPi(e.rotateInitialCameraAngle-c);i=e.props.terria.cesium.scene.camera,u=y.clone(i.transform,C),i.lookAtTransform(e.rotateFrame);var d=Math.atan2(i.position.y,i.position.x);i.rotateRight(h-d),i.lookAtTransform(u),e.props.terria.cesium.notifyRepaintRequired()},e.rotateMouseUpFunction=function(t){e.isRotating=!1,document.removeEventListener("mousemove",e.rotateMouseMoveFunction,!1),document.removeEventListener("mouseup",e.rotateMouseUpFunction,!1),e.rotateMouseMoveFunction=void 0,e.rotateMouseUpFunction=void 0},document.addEventListener("mousemove",e.rotateMouseMoveFunction,!1),document.addEventListener("mouseup",e.rotateMouseUpFunction,!1)}function o(e,t,n){function r(t,n){var r=Math.atan2(-t.y,t.x);e.setState({orbitCursorAngle:g.zeroToTwoPi(r-g.PI_OVER_TWO)});var i=p.magnitude(t),o=n/2,a=Math.min(i/o,1),s=.5*a*a+.5;e.setState({orbitCursorOpacity:s}),e.props.terria.cesium.notifyRepaintRequired()}document.removeEventListener("mousemove",e.orbitMouseMoveFunction,!1),document.removeEventListener("mouseup",e.orbitMouseUpFunction,!1),_(e.orbitTickFunction)&&e.props.terria.clock.onTick.removeEventListener(e.orbitTickFunction),e.orbitMouseMoveFunction=void 0,e.orbitMouseUpFunction=void 0,e.orbitTickFunction=void 0,e.isOrbiting=!0,e.orbitLastTimestamp=A();var i=e.props.terria.cesium.scene,o=i.camera,a=I;a.x=i.canvas.clientWidth/2,a.y=i.canvas.clientHeight/2;var s=o.getPickRay(a,M),u=i.globe.pick(s,i,T);_(u)?(e.orbitFrame=w.eastNorthUpToFixedFrame(u,v.WGS84,S),e.orbitIsLook=!1):(e.orbitFrame=w.eastNorthUpToFixedFrame(o.positionWC,v.WGS84,S),e.orbitIsLook=!0),e.orbitTickFunction=function(t){var n=A(),r=n-e.orbitLastTimestamp,a=2.5*(e.state.orbitCursorOpacity-.5)/1e3,s=r*a,u=e.state.orbitCursorAngle+g.PI_OVER_TWO,l=Math.cos(u)*s,c=Math.sin(u)*s;i=e.props.terria.cesium.scene,o=i.camera;var h=y.clone(o.transform,C);o.lookAtTransform(e.orbitFrame),e.orbitIsLook?(o.look(m.UNIT_Z,-l),o.look(o.right,-c)):(o.rotateLeft(l),o.rotateUp(c)),o.lookAtTransform(h),e.props.terria.cesium.notifyRepaintRequired(),e.orbitLastTimestamp=n},e.orbitMouseMoveFunction=function(e){var n=t.getBoundingClientRect();u=new p((n.right-n.left)/2,(n.bottom-n.top)/2);var i=new p(e.clientX-n.left,e.clientY-n.top);r(p.subtract(i,u,E),n.width)},e.orbitMouseUpFunction=function(t){e.isOrbiting=!1,document.removeEventListener("mousemove",e.orbitMouseMoveFunction,!1),document.removeEventListener("mouseup",e.orbitMouseUpFunction,!1),_(e.orbitTickFunction)&&e.props.terria.clock.onTick.removeEventListener(e.orbitTickFunction),e.orbitMouseMoveFunction=void 0,e.orbitMouseUpFunction=void 0,e.orbitTickFunction=void 0},document.addEventListener("mousemove",e.orbitMouseMoveFunction,!1),document.addEventListener("mouseup",e.orbitMouseUpFunction,!1),e._unsubscribeFromClockTick=e.props.terria.clock.onTick.addEventListener(e.orbitTickFunction),r(n,t.getBoundingClientRect().width)}function a(e){_(e.props.terria.cesium)?(e._unsubscribeFromPostRender&&(e._unsubscribeFromPostRender(),e._unsubscribeFromPostRender=void 0),e._unsubscribeFromPostRender=e.props.terria.cesium.scene.postRender.addEventListener(function(){e.setState({heading:e.props.terria.cesium.scene.camera.heading})})):(e._unsubscribeFromPostRender&&(e._unsubscribeFromPostRender(),e._unsubscribeFromPostRender=void 0),e.showCompass=!1)}var s=n(8),u=r(s),l=n(1835),c=r(l),h=n(4),d=n(5),f=n(805),p=n(17),m=n(10),g=n(9),_=n(0),v=n(23),A=n(117),y=n(20),b=n(186),w=n(50),x=(0,u.default)({displayName:"Compass",propTypes:{terria:d.object},getInitialState:function(){return{orbitCursorAngle:0,heading:0,orbitCursorOpacity:0}},componentDidMount:function(){var e=this;this._unsubscribeFromViewerChange=this.props.terria.afterViewerChanged.addEventListener(function(){return a(e)}),a(this)},componentWillUnmount:function(){document.removeEventListener("mousemove",this.orbitMouseMoveFunction,!1),document.removeEventListener("mouseup",this.orbitMouseUpFunction,!1),this._unsubscribeFromClockTick&&this._unsubscribeFromClockTick(),this._unsubscribeFromPostRender&&this._unsubscribeFromPostRender(),this._unsubscribeFromViewerChange&&this._unsubscribeFromViewerChange()},handleMouseDown:function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var t=e.currentTarget,n=e.currentTarget.getBoundingClientRect(),r=n.width/2,a=new p((n.right-n.left)/2,(n.bottom-n.top)/2),s=new p(e.clientX-n.left,e.clientY-n.top),u=p.subtract(s,a,E),l=p.magnitude(u),c=l/r;if(c<50/145)o(this,t,u);else{if(!(c<1))return!0;i(this,t,u)}},handleDoubleClick:function(e){var t=this.props.terria.cesium.scene,n=t.camera,r=I;r.x=t.canvas.clientWidth/2,r.y=t.canvas.clientHeight/2;var i=n.getPickRay(r,M),o=t.globe.pick(i,t,T);if(!_(o))return void this.props.terria.currentViewer.zoomTo(this.props.terria.homeView,1.5);var a=w.eastNorthUpToFixedFrame(o,v.WGS84),s=m.subtract(o,n.position,new m),u=f.createTween(t,{destination:y.multiplyByPoint(a,new m(0,0,m.magnitude(s)),new m),direction:y.multiplyByPointAsVector(a,new m(0,0,-1),new m),up:y.multiplyByPointAsVector(a,new m(0,1,0),new m),duration:1.5});t.tweens.add(u)},resetRotater:function(){this.setState({orbitCursorOpacity:0,orbitCursorAngle:0})},render:function(){var e={transform:"rotate(-"+this.state.orbitCursorAngle+"rad)",WebkitTransform:"rotate(-"+this.state.orbitCursorAngle+"rad)",opacity:this.state.orbitCursorOpacity},t={transform:"rotate(-"+this.state.heading+"rad)",WebkitTransform:"rotate(-"+this.state.heading+"rad)",opacity:""};return h.createElement("div",{className:c.default.compass,title:"Drag outer ring: rotate view.\nDrag inner gyroscope: free orbit.\nDouble-click: reset view.\nTIP: You can also free orbit by holding the CTRL key and dragging the map.",onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick,onMouseUp:this.resetRotater},h.createElement("div",{className:c.default.outerRing,style:t}),h.createElement("div",{className:c.default.innerRing,title:"Click and drag to rotate the camera"}),h.createElement("div",{className:c.default.rotationMarker,style:e}))}}),E=new p,C=new y,S=new y,T=new m,I=new p,M=new b;e.exports=x},function(e,t){e.exports={compass:"tjs-compass__compass tjs-_base__sm-show",innerRing:"tjs-compass__innerRing",rotationMarker:"tjs-compass__rotationMarker",outerRing:"tjs-compass__outerRing"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(33),h=r(c),d=n(16),f=r(d),p=n(51),m=r(p),g=n(11),_=r(g),v=n(694),A=r(v),y=n(22),b=r(y),w=n(24),x=r(w),E=n(30),C=r(E),S=n(0),T=r(S),I=(0,s.default)({displayName:"MyLocation",mixins:[_.default],propTypes:{terria:l.default.object.isRequired},_marker:void 0,UNSAFE_componentWillMount:function(){this._marker=new m.default(this.props.terria)},getInitialState:function(){return{}},getLocation:function(){if(navigator.geolocation){var e={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};if(this.augmentedVirtualityEnabled()){var t=navigator.geolocation.watchPosition(this.zoomToMyLocation,this.handleLocationError,e);this.setState({watchId:t})}else navigator.geolocation.getCurrentPosition(this.zoomToMyLocation,this.handleLocationError,e)}else this.props.terria.error.raiseEvent(new b.default({sender:this,title:"Error getting location",message:"Your browser cannot provide your location."}))},zoomToMyLocation:function(e){var t=e.coords.longitude,n=e.coords.latitude;if(this.augmentedVirtualityEnabled())this.props.terria.augmentedVirtuality.moveTo(x.default.fromDegrees(t,n),27500,!(0,T.default)(this.state.flown)),this.setState({flown:!0});else{var r=f.default.fromDegrees(t-.1,n-.1,t+.1,n+.1);this.props.terria.currentViewer.zoomTo(r)}this._marker.name="My Location",this._marker.data={type:"Feature",geometry:{type:"Point",coordinates:[t,n]},properties:{title:"Location",longitude:t,latitude:n}},this._marker.style={"marker-size":25,"marker-color":"#08ABD5",stroke:"#ffffff","stroke-width":3},this._marker.load(),!0!==this._marker.isEnabled&&(this._marker.isEnabled=!0)},handleLocationError:function(e){var t=e.message;if(t&&0===t.indexOf("Only secure origins are allowed")){t="Your browser can only provide your location when using https. You may be able to use "+new h.default(window.location).protocol("https").toString()+" instead."}this.props.terria.error.raiseEvent(new b.default({sender:this,title:"Error getting location",message:t}))},augmentedVirtualityEnabled:function(){return(0,T.default)(this.props.terria.augmentedVirtuality)&&this.props.terria.augmentedVirtuality.enabled},followMeEnabled:function(){return!!(0,T.default)(this.state.watchId)},disableFollowMe:function(){(0,T.default)(this.state.watchId)&&(navigator.geolocation.clearWatch(this.state.watchId),this.setState({watchId:void 0}),this.setState({flown:void 0}))},handleCick:function(){this.followMeEnabled()?this.disableFollowMe():this.getLocation()},render:function(){var e=A.default.btn;return this.followMeEnabled()&&(e=A.default.btnPrimary),o.default.createElement("div",{className:A.default.toolButton},o.default.createElement("button",{type:"button",className:e,title:"go to my location",onClick:this.handleCick},o.default.createElement(C.default,{glyph:C.default.GLYPHS.geolocation})))}});t.default=I},function(e,t){e.exports={"map-navigation":"tjs-map-navigation__map-navigation",mapNavigation:"tjs-map-navigation__map-navigation",control:"tjs-map-navigation__control"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=r(i),a=n(5),s=r(a),u=n(4),l=r(u),c=n(30),h=r(c),d=n(11),f=r(d),p=n(1839),m=r(p),g=(0,o.default)({displayName:"ToggleSplitterTool",mixins:[f.default],propTypes:{terria:s.default.object},handleClick:function(){var e=this.props.terria;e.showSplitter=!e.showSplitter},render:function(){return this.props.terria.currentViewer.canShowSplitter?l.default.createElement("div",{className:m.default.toggle_splitter_tool},l.default.createElement("button",{type:"button",className:m.default.btn,title:"toggle splitter control",onClick:this.handleClick},l.default.createElement(h.default,{glyph:this.props.terria.showSplitter?h.default.GLYPHS.splitterOn:h.default.GLYPHS.splitterOff}))):null}});t.default=g},function(e,t){e.exports={btn:"tjs-toggle_splitter_tool__btn tjs-_buttons__btn","btn-primary":"tjs-toggle_splitter_tool__btn-primary tjs-_buttons__btn",btnPrimary:"tjs-toggle_splitter_tool__btn-primary tjs-_buttons__btn","btn-blink":"tjs-toggle_splitter_tool__btn-blink tjs-_buttons__btn",btnBlink:"tjs-toggle_splitter_tool__btn-blink tjs-_buttons__btn","btn-primary--hover":"tjs-toggle_splitter_tool__btn-primary--hover",btnPrimaryHover:"tjs-toggle_splitter_tool__btn-primary--hover",blinker:"tjs-toggle_splitter_tool__blinker","toggle-splitter-tool":"tjs-toggle_splitter_tool__toggle-splitter-tool",toggleSplitterTool:"tjs-toggle_splitter_tool__toggle-splitter-tool"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(8),o=r(i),a=n(30),s=r(a),u=n(1841),l=r(u),c=n(4),h=n(5),d=n(0),f=n(186),p=n(157),m=n(23),g=n(243),_=n(9),v=n(10),A=(0,o.default)({displayName:"ZoomControl",propTypes:{terria:h.object},flyToPosition:function(e,t,n){var r=e.camera,i=r.position,o=t;n=200;var a=e.screenSpaceCameraController;a.enableInputs=!1,e.tweens.add({duration:n/1e3,easingFunction:g.Easing.Sinusoidal.InOut,startObject:{time:0},stopObject:{time:1},update:function(t){e.isDestroyed()||(e.camera.position.x=_.lerp(i.x,o.x,t.time),e.camera.position.y=_.lerp(i.y,o.y,t.time),e.camera.position.z=_.lerp(i.z,o.z,t.time))},complete:function(){a.isDestroyed()||(a.enableInputs=!0)},cancel:function(){a.isDestroyed()||(a.enableInputs=!0)}})},getCameraFocus:function(e){var t=new f(e.camera.positionWC,e.camera.directionWC),n=p.rayEllipsoid(t,m.WGS84);return d(n)?f.getPoint(t,n.start):p.grazingAltitudeLocation(t,m.WGS84)},zoomIn:function(){var e=new v;if(this.props.terria.analytics.logEvent("navigation","click","zoomIn"),d(this.props.terria.leaflet)&&this.props.terria.leaflet.map.zoomIn(1),d(this.props.terria.cesium)){var t=this.props.terria.cesium.scene,n=t.camera,r=this.getCameraFocus(t),i=v.subtract(r,n.position,e),o=v.multiplyByScalar(i,2/3,e),a=v.add(n.position,o,e);this.flyToPosition(t,a)}this.props.terria.currentViewer.notifyRepaintRequired()},zoomOut:function(){var e=new v;if(this.props.terria.analytics.logEvent("navigation","click","zoomOut"),d(this.props.terria.leaflet)&&this.props.terria.leaflet.map.zoomOut(1),d(this.props.terria.cesium)){var t=this.props.terria.cesium.scene,n=t.camera,r=this.getCameraFocus(t),i=v.subtract(r,n.position,e),o=v.multiplyByScalar(i,-2,e),a=v.add(n.position,o,e);this.flyToPosition(t,a)}this.props.terria.currentViewer.notifyRepaintRequired()},zoomReset:function(){this.props.terria.analytics.logEvent("navigation","click","reset"),this.props.terria.currentViewer.zoomTo(this.props.terria.homeView,1.5)},render:function(){return c.createElement("div",{className:l.default.zoomControl},c.createElement("ul",{className:l.default.list},c.createElement("li",null,c.createElement("button",{type:"button",onClick:this.zoomIn,className:l.default.increase,title:"zoom in"},c.createElement(s.default,{glyph:s.default.GLYPHS.increase}))),c.createElement("li",null,c.createElement("button",{type:"button",onClick:this.zoomReset,className:l.default.refresh,title:"reset zoom"},c.createElement(s.default,{glyph:s.default.GLYPHS.refresh}))),c.createElement("li",null,c.createElement("button",{type:"button",onClick:this.zoomOut,className:l.default.decrease,title:"zoom out"},c.createElement(s.default,{glyph:s.default.GLYPHS.decrease})))))}});e.exports=A},function(e,t){e.exports={zoomControl:"tjs-zoom_control__zoomControl",list:"tjs-zoom_control__list tjs-_base__list-reset",increase:"tjs-zoom_control__increase tjs-_buttons__btn",decrease:"tjs-zoom_control__decrease tjs-_buttons__btn",refresh:"tjs-zoom_control__refresh tjs-_buttons__btn"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(732),h=r(c),d=n(733),f=r(d),p=n(1851),m=r(p),g=n(11),_=r(g),v=n(1853),A=r(v),y=(0,s.default)({displayName:"MenuBar",mixins:[_.default],propTypes:{terria:l.default.object,viewState:l.default.object.isRequired,allBaseMaps:l.default.array,menuItems:l.default.arrayOf(l.default.element)},getDefaultProps:function(){return{menuItems:[]}},render:function(){var e="1"===this.props.terria.getUserProperty("tools");return o.default.createElement("div",{className:A.default.menuArea},o.default.createElement("ul",{className:A.default.menu},o.default.createElement("li",{className:A.default.menuItem},o.default.createElement(h.default,{terria:this.props.terria,allBaseMaps:this.props.allBaseMaps,viewState:this.props.viewState})),o.default.createElement("li",{className:A.default.menuItem},o.default.createElement(f.default,{terria:this.props.terria,viewState:this.props.viewState})),e&&o.default.createElement("li",{className:A.default.menuItem},o.default.createElement(m.default,{terria:this.props.terria,viewState:this.props.viewState})),this.props.viewState.useSmallScreenInterface?null:this.props.menuItems.map(function(e,t){return o.default.createElement("li",{className:A.default.menuItem,key:t},e)},this)))}});t.default=y},function(e,t){e.exports={"dropdown-inner":"tjs-setting-panel__dropdown-inner",dropdownInner:"tjs-setting-panel__dropdown-inner","viewer-selector":"tjs-setting-panel__viewer-selector tjs-_base__clearfix tjs-_base__list-reset",viewerSelector:"tjs-setting-panel__viewer-selector tjs-_base__clearfix tjs-_base__list-reset","base-map-selector":"tjs-setting-panel__base-map-selector tjs-_base__clearfix tjs-_base__list-reset",baseMapSelector:"tjs-setting-panel__base-map-selector tjs-_base__clearfix tjs-_base__list-reset","list-item":"tjs-setting-panel__list-item tjs-_base__col tjs-_base__col-4",listItem:"tjs-setting-panel__list-item tjs-_base__col tjs-_base__col-4","btn--viewer":"tjs-setting-panel__btn--viewer tjs-_buttons__btn tjs-_buttons__btn-grey",btnViewer:"tjs-setting-panel__btn--viewer tjs-_buttons__btn tjs-_buttons__btn-grey","is-active":"tjs-setting-panel__is-active",isActive:"tjs-setting-panel__is-active","btn--base-map":"tjs-setting-panel__btn--base-map",btnBaseMap:"tjs-setting-panel__btn--base-map","btn--dropdown":"tjs-setting-panel__btn--dropdown undefined",btnDropdown:"tjs-setting-panel__btn--dropdown undefined"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1845),l=r(u),c=n(4),h=r(c),d=n(1846),f=r(d),p=n(28),m=r(p),g=n(5),_=r(g),v=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tooltip:null},n.resetTooltipLater=n.resetTooltipLater.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.clipboardBtn=new l.default(".btn-copy-"+this.props.id),this.clipboardBtn.on("success",function(t){e.setState({tooltip:"copied!"}),e.resetTooltipLater()}),this.clipboardBtn.on("error",function(t){e.setState({tooltip:"copy unsuccessful!"}),e.resetTooltipLater()})}},{key:"componentWillUnmount",value:function(){this.removeTimeout(),this.clipboardBtn.destroy()}},{key:"removeTimeout",value:function(){void 0!==this._timerID&&(window.clearTimeout(this._timerID),this._timerID=void 0)}},{key:"resetTooltipLater",value:function(){var e=this;this.removeTimeout(),this._timerID=window.setTimeout(function(){e.setState({tooltip:null})},3e3)}},{key:"render",value:function(){return h.default.createElement("div",{className:f.default.clipboard},h.default.createElement("div",null,"Share URL"),h.default.createElement("div",{className:f.default.explanation},"Anyone visiting this URL will see this map view."),h.default.createElement("div",{className:f.default.clipboardBody},this.props.source,h.default.createElement("button",{className:(0,m.default)("btn-copy-"+this.props.id,f.default.copyBtn),"data-clipboard-target":"#"+this.props.id},"Copy")),this.state.tooltip&&h.default.createElement("span",{className:f.default.tooltip},this.state.tooltip))}}]),t}(h.default.Component);t.default=v,v.propTypes={id:_.default.string.isRequired,source:_.default.object.isRequired}},function(e,t,n){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */
!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t){function n(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}e.exports=n},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){function r(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(e))return i(e,t,n);if(s.nodeList(e))return o(e,t,n);if(s.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function o(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return u(document.body,e,t,n)}var s=n(3),u=n(4);e.exports=r},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e,t,n,r,i){var a=o.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}function i(e,t,n,i,o){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return r(e,t,n,i,o)}))}function o(e,t,n,r){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&r.call(e,n)}}var a=n(5);e.exports=i},function(e,t){function n(e,t){for(;e&&e.nodeType!==r;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}n.r(t);var u=n(0),l=n.n(u),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(){function e(t){r(this,e),this.resolveOptions(t),this.initSelection()}return h(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=l()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=l()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":c(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),f=d,p=n(1),m=n.n(p),g=n(2),_=n.n(g),v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return a(t,e),A(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===v(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=_()(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new f({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return s("action",e)}},{key:"defaultTarget",value:function(e){var t=s("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return s("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(m.a);t.default=y}]).default})},function(e,t){e.exports={clipboard:"tjs-clipboard__clipboard",clipboardBody:"tjs-clipboard__clipboardBody",copyBtn:"tjs-clipboard__copyBtn tjs-_buttons__btn tjs-_buttons__btn-primary",tooltip:"tjs-clipboard__tooltip",explanation:"tjs-clipboard__explanation"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(214),o=n(8),a=r(o),s=n(410),u=r(s),l=n(314),c=r(l),h=n(727),d=r(h),f=n(734),p=r(f),m=n(5),g=r(m),_=n(4),v=r(_),A=n(213),y=r(A),b=(0,a.default)({displayName:"PrintView",propTypes:{terria:g.default.object,viewState:g.default.object,window:g.default.object,readyCallback:g.default.func},getInitialState:function(){return{mapImageDataUrl:void 0,ready:!1,printingStarted:!1}},componentDidMount:function(){var e=this;return this.props.terria.currentViewer.captureScreenshot().then(function(t){var n=e.props.window,r=window,i=n.setInterval(e.checkForImagesReady,200),o=r.setInterval(e.checkForImagesReady,200);e._stopCheckingForImages=function(){n.clearInterval(i),r.clearInterval(o),e._stopCheckingForImages=void 0},e.setState({mapImageDataUrl:t})})},componentWillUnmount:function(){this.stopCheckingForImages()},componentDidUpdate:function(){this.state.ready&&!this.state.printingStarted&&(this.props.readyCallback&&this.props.readyCallback(this.props.window),this.setState({printingStarted:!0}))},stopCheckingForImages:function(){this._stopCheckingForImages&&this._stopCheckingForImages()},checkForImagesReady:function(){if(!this.state.ready){var e=this.props.window.document.getElementsByTagName("img");if(0!==e.length){for(var t=!0,n=0;t&&n<e.length;++n)t=e[n].complete;t&&(this.stopCheckingForImages(),this.setState({ready:t}))}}},render:function(){return this.state.mapImageDataUrl?v.default.createElement("div",null,v.default.createElement("p",null,v.default.createElement("img",{className:"map-image",src:this.state.mapImageDataUrl,alt:"Map snapshot"})),v.default.createElement("h1",null,"Legends"),this.props.terria.nowViewing.items.map(this.renderLegend),this.renderFeatureInfo(),v.default.createElement("h1",null,"Dataset Details"),this.props.terria.nowViewing.items.map(this.renderDetails),v.default.createElement("h1",null,"Map Credits"),v.default.createElement("ul",null,this.props.terria.currentViewer.getAllAttribution().map(this.renderAttribution)),this.props.terria.configParameters.printDisclaimer?[v.default.createElement("h1",{key:"0"},"Print Disclaimer"),v.default.createElement("p",{key:"1"},this.props.terria.configParameters.printDisclaimer.text)]:null):v.default.createElement("div",null,"Creating print view...")},renderAttribution:function(e){var t={__html:c.default.sanitize(e)};return v.default.createElement("li",{key:e,dangerouslySetInnerHTML:t})},renderLegend:function(e){return e.isMappable?v.default.createElement("div",{key:e.uniqueId,className:"layer-legends"},v.default.createElement("div",{className:"layer-title"},e.name),e.discreteTime&&v.default.createElement("div",{className:"layer-time"},"Time: ",(0,i.formatDateTime)(e.discreteTime)),v.default.createElement(p.default,{item:e})):null},renderDetails:function(e){if(!e.isMappable)return null;var t=e.nowViewingCatalogItem||e;return v.default.createElement("div",{key:e.uniqueId,className:"layer-details"},v.default.createElement("h2",null,e.name),v.default.createElement(u.default,{item:t,printView:!0}))},renderFeatureInfo:function(){return this.props.viewState.featureInfoPanelIsVisible&&this.props.terria.pickedFeatures&&this.props.terria.pickedFeatures.features&&0!==this.props.terria.pickedFeatures.features.length?v.default.createElement("div",{className:"feature-info"},v.default.createElement("h1",null,"Feature Information"),v.default.createElement(d.default,{terria:this.props.terria,viewState:this.props.viewState,printView:!0})):null}});b.Styles="\n    .tjs-_base__list-reset {\n        list-style: none;\n        padding-left: 0;\n        margin: 0;\n    }\n\n    .background {\n        width: 100%;\n        fill: rgba(255, 255, 255, 1.0);\n    }\n\n    .map-image {\n        max-width: 95vw;\n        max-height: 95vh;\n    }\n\n    .layer-legends {\n        display: inline;\n        float: left;\n        padding-left: 20px;\n        padding-right: 20px;\n    }\n\n    .layer-title {\n        font-weight: bold;\n    }\n\n    h1, h2, h3 {\n        clear: both;\n    }\n\n    .tjs-_form__input {\n        width: 80%;\n    }\n",b.create=function(e){var t=e.terria,n=e.viewState,r=e.printWindow,i=void 0===r?window.open():r,o=e.readyCallback,a=e.closeCallback;a&&i.addEventListener("unload",function(){a(i)}),i.document.open(),i.document.close(),i.document.head.innerHTML='\n        <meta charset="UTF-8">\n        <title>'+t.appName+" Print View</title>\n        <style>"+b.Styles+"</style>\n        ",i.document.body.innerHTML='<div id="print"></div>';var s=v.default.createElement(b,{terria:t,viewState:n,window:i,readyCallback:o});y.default.render(s,i.document.getElementById("print"))},e.exports=b},function(e,t){e.exports={legend:"tjs-legend__legend tjs-_base__clearfix tjs-_base__list-reset",legendImagehasError:"tjs-legend__legendImagehasError",legend__inner:"tjs-legend__legend__inner",legendInner:"tjs-legend__legend__inner","legend--svg":"tjs-legend__legend--svg",legendSvg:"tjs-legend__legend--svg",loader:"tjs-legend__loader",imageAnchor:"tjs-legend__imageAnchor"}},function(e,t,n){"use strict";function r(e){function t(){clearTimeout(s)}function n(){a<=0&&r.resolve()}var r=i.defer(),a=0,s=setTimeout(function(){r.reject(new o({title:"Error printing",message:"Printing did not start within 10 seconds. Maybe this web browser does not support printing?"}))},1e4);return e.matchMedia&&e.matchMedia("print").addListener(function(e){t(),e.matches?(console.log("print media start"),++a):(console.log("print media end"),--a,n())}),e.onbeforeprint=function(){t(),console.log("onbeforeprint"),++a},e.onafterprint=function(){t(),console.log("onafterprint"),--a,n()},e.document.execCommand("print",!0,null)||e.print(),r.promise}var i=n(7),o=n(22);e.exports=r},function(e,t){e.exports={"share-panel":"tjs-share-panel__share-panel",sharePanel:"tjs-share-panel__share-panel","dropdown-inner":"tjs-share-panel__dropdown-inner",dropdownInner:"tjs-share-panel__dropdown-inner","btn--wrapper":"tjs-share-panel__btn--wrapper",btnWrapper:"tjs-share-panel__btn--wrapper","btn--advanced":"tjs-share-panel__btn--advanced",btnAdvanced:"tjs-share-panel__btn--advanced","btn--share":"tjs-share-panel__btn--share undefined",btnShare:"tjs-share-panel__btn--share undefined","img--share":"tjs-share-panel__img--share",imgShare:"tjs-share-panel__img--share","link-wrapper":"tjs-share-panel__link-wrapper",linkWrapper:"tjs-share-panel__link-wrapper",link:"tjs-share-panel__link",paragraph:"tjs-share-panel__paragraph",field:"tjs-share-panel__field tjs-_form__field tjs-_form__input",clipboard:"tjs-share-panel__clipboard",shareUrlfield:"tjs-share-panel__shareUrlfield tjs-_form__field tjs-_form__input",mobileHeader:"tjs-share-panel__mobileHeader","shorten-url":"tjs-share-panel__shorten-url",shortenUrl:"tjs-share-panel__shorten-url",explanation:"tjs-share-panel__explanation","format-button":"tjs-share-panel__format-button tjs-_buttons__btn tjs-_buttons__btn-primary",formatButton:"tjs-share-panel__format-button tjs-_buttons__btn tjs-_buttons__btn-primary","print-button":"tjs-share-panel__print-button tjs-_buttons__btn tjs-_buttons__btn-primary",printButton:"tjs-share-panel__print-button tjs-_buttons__btn tjs-_buttons__btn-primary","print-view-loader":"tjs-share-panel__print-view-loader",printViewLoader:"tjs-share-panel__print-view-loader"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(11),h=r(c),d=n(287),f=r(d),p=n(1852),m=r(p),g=n(735),_=r(g),v=n(148),A=r(v),y=(0,s.default)({displayName:"ToolsPanel",mixins:[h.default],propTypes:{terria:l.default.object,viewState:l.default.object.isRequired},getInitialState:function(){return{isOpen:!1,resultsMessage:""}},onOpenChanged:function(e){this.setState({isOpen:e})},updateResults:function(e){this.setState({resultsMessage:e})},render:function(){var e={btn:_.default.btnShare,outer:_.default.ToolsPanel,inner:_.default.dropdownInner,icon:"settings"};return o.default.createElement(f.default,{theme:e,btnText:"Tool",viewState:this.props.viewState,btnTitle:"Advanced toolbox",onOpenChanged:this.onOpenChanged,isOpen:this.state.isOpen,smallScreen:this.props.viewState.useSmallScreenInterface},this.state.isOpen?o.default.createElement("div",{className:A.default.section},o.default.createElement("div",{className:_.default.this},o.default.createElement(m.default,{terria:this.props.terria,viewState:this.props.viewState,updateResults:this.updateResults}))):null,o.default.createElement("div",{className:_.default.results},o.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.resultsMessage}})))}});t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(11),h=r(c),d=n(0),f=r(d),p=n(7),m=r(p),g=n(113),_=r(g),v=n(735),A=r(v),y=1,b=(0,s.default)({displayName:"CountDatasets",mixins:[h.default],propTypes:{terria:l.default.object,viewState:l.default.object.isRequired},getInitialState:function(){return{btnText:"Start"}},countDatasets:function(){function e(e,r,i){r.name=e.name;for(var o=[],a=0;a<e.items.length;++a){var s=e.items[a];if(s.countValue!==y)if(s.countValue=y,void 0!==s.items){var u={name:void 0,groups:0,items:0,messages:[],subTotals:[]};i.push(s.name);var l=s.load();(0,f.default)(l)&&s.isLoading?o.push(l.then(t.bind(void 0,s,r,u,i.slice())).otherwise(n.bind(void 0,s,r,i.slice()))):o.push(t(s,r,u,i)),i.pop()}else++r.items}return m.default.all(o)}function t(t,n,r,i){return e(t,r,i).then(function(){n.groups+=r.groups+1,n.items+=r.items,n.messages.push.apply(n.messages,r.messages),n.subTotals.push(r)})}function n(e,t,n){t.messages.push(n.join(" -> ")+" failed to load.")}var r={name:void 0,groups:0,items:0,messages:[],subTotals:[],showResults:!1};this.setState({btnText:o.default.createElement(_.default,{message:"Counting, please wait..."})}),++y;var i=this.props.terria.catalog.group,a=this;e(i,r,[]).then(function(){var e="<div>The catalog contains "+r.items+" items in "+r.groups+" groups.</div>";a.props.updateResults(e);var t=void 0,n=r.subTotals;for(t=0;t<n.length;++t)e+="<div>"+n[t].name+": "+n[t].items+" items / "+n[t].groups+" groups</div>";e+="<div>&nbsp;</div>";var i=r.messages;for(t=0;t<i.length;++t)e+="<div>"+i[t]+"</div>";a.setState({btnText:"Recount"}),a.props.updateResults(e)})},render:function(){return o.default.createElement("form",null,"Count Datasets",o.default.createElement("button",{className:A.default.submit,onClick:this.countDatasets,type:"button",value:"Count datasets"},this.state.btnText))}});t.default=b},function(e,t){e.exports={"menu-area":"tjs-menu-bar__menu-area",menuArea:"tjs-menu-bar__menu-area",menu:"tjs-menu-bar__menu tjs-_base__list-reset tjs-_base__clearfix tjs-_base__sm-show","menu-item":"tjs-menu-bar__menu-item",menuItem:"tjs-menu-bar__menu-item"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(11),h=r(c),d=n(1855),f=r(d),p=(0,s.default)({displayName:"ExperimentalFeatures",mixins:[h.default],propTypes:{terria:l.default.object.isRequired,viewState:l.default.object.isRequired,experimentalItems:l.default.arrayOf(l.default.element)},getDefaultProps:function(){return{experimentalItems:[]}},render:function(){return o.default.createElement("div",{className:f.default.experimentalFeatures},this.props.experimentalItems.map(function(e,t){return o.default.createElement("div",{className:f.default.control,key:t},e)},this))}});t.default=p},function(e,t){e.exports={"experimental-features":"tjs-experimental-features__experimental-features",experimentalFeatures:"tjs-experimental-features__experimental-features",control:"tjs-experimental-features__control"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(8),u=r(s),l=n(5),c=r(l),h=n(415),d=r(h),f=n(11),p=r(f),m=n(1857),g=r(m),_=n(698),v=r(_),A=n(1896),y=r(A),b=n(30),w=r(b),x=n(1897),E=r(x),C=n(28),S=r(C),T=n(180),I=(0,u.default)({displayName:"MobileHeader",mixins:[p.default],propTypes:{terria:c.default.object,viewState:c.default.object.isRequired,allBaseMaps:c.default.array.isRequired,version:c.default.string,menuItems:c.default.array},getInitialState:function(){return{}},showSearch:function(){var e=this.props.viewState,t=e.mobileView,n=e.mobileViewOptions,r=e.searchState;t===n.data||t===n.preview?r.showMobileCatalogSearch=!0:(r.showMobileLocationSearch=!0,this.showLocationSearchResults())},closeLocationSearch:function(){this.props.viewState.searchState.showMobileLocationSearch=!1,this.props.viewState.explorerPanelIsVisible=!1,this.props.viewState.switchMobileView(null)},closeCatalogSearch:function(){this.props.viewState.searchState.showMobileCatalogSearch=!1,this.props.viewState.searchState.catalogSearchText=""},onMobileDataCatalogClicked:function(){this.toggleView(this.props.viewState.mobileViewOptions.data)},onMobileNowViewingClicked:function(){this.toggleView(this.props.viewState.mobileViewOptions.nowViewing)},changeLocationSearchText:function(e){this.props.viewState.searchState.locationSearchText=e,0===e.length&&(0,T.removeMarker)(this.props.terria),this.showLocationSearchResults()},showLocationSearchResults:function(){var e=this.props.viewState.searchState.locationSearchText;e&&e.length>0?(this.props.viewState.explorerPanelIsVisible=!0,this.props.viewState.mobileView=this.props.viewState.mobileViewOptions.locationSearchResults):(this.props.viewState.explorerPanelIsVisible=!1,this.props.viewState.mobileView=null)},changeCatalogSearchText:function(e){this.props.viewState.searchState.catalogSearchText=e},searchLocations:function(){this.props.viewState.searchState.searchLocations()},searchCatalog:function(){this.props.viewState.searchState.searchCatalog()},toggleView:function(e){this.props.viewState.mobileView!==e?(this.props.viewState.explorerPanelIsVisible=!0,this.props.viewState.switchMobileView(e)):(this.props.viewState.explorerPanelIsVisible=!1,this.props.viewState.switchMobileView(null))},onClickFeedback:function(e){e.preventDefault(),this.props.viewState.feedbackFormIsVisible=!0,this.setState({menuIsOpen:!1})},render:function(){var e=this,t=this.props.viewState.searchState,n=this.props.terria.nowViewing.items.length;return a.default.createElement("div",{className:y.default.ui},a.default.createElement("div",{className:y.default.mobileHeader},t.showMobileLocationSearch||t.showMobileCatalogSearch?a.default.createElement("div",{className:y.default.formSearchData},t.showMobileLocationSearch?a.default.createElement(d.default,{searchText:t.locationSearchText,onSearchTextChanged:this.changeLocationSearchText,onDoSearch:this.searchLocations,placeholder:"Search for locations",alwaysShowClear:!0,onClear:this.closeLocationSearch,autoFocus:!0}):t.showMobileCatalogSearch?a.default.createElement(d.default,{searchText:t.catalogSearchText,onSearchTextChanged:this.changeCatalogSearchText,onDoSearch:this.searchCatalog,placeholder:"Search the catalogue",onClear:this.closeCatalogSearch,autoFocus:!0}):null):[a.default.createElement("div",{className:y.default.groupLeft,key:"0"},a.default.createElement("button",{type:"button",onClick:function(){return e.props.viewState.mobileMenuVisible=!0},className:y.default.btnMenu,title:"toggle navigation"},a.default.createElement(w.default,{glyph:w.default.GLYPHS.menu})),a.default.createElement(v.default,{terria:this.props.terria,version:this.props.version})),a.default.createElement("div",{className:y.default.groupRight,key:"1"},a.default.createElement("button",{type:"button",className:y.default.btnAdd,onClick:this.onMobileDataCatalogClicked},"Data",a.default.createElement(w.default,{glyph:w.default.GLYPHS.increase})),n>0?a.default.createElement("button",{type:"button",className:y.default.btnNowViewing,onClick:this.onMobileNowViewingClicked},a.default.createElement(w.default,{glyph:w.default.GLYPHS.eye}),a.default.createElement("span",{className:(0,S.default)(y.default.nowViewingCount,i({},y.default.doubleDigit,n>9))},n)):null,a.default.createElement("button",{className:y.default.btnSearch,type:"button",onClick:this.showSearch},a.default.createElement(w.default,{glyph:w.default.GLYPHS.search})))]),a.default.createElement(E.default,{menuItems:this.props.menuItems,viewState:this.props.viewState,allBaseMaps:this.props.allBaseMaps,terria:this.props.terria,showFeedback:!!this.props.terria.configParameters.feedbackUrl}),a.default.createElement(g.default,{terria:this.props.terria,viewState:this.props.viewState}))}});e.exports=I},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(8),u=r(s),l=n(5),c=r(l),h=n(28),d=r(h),f=n(712),p=r(f),m=n(409),g=r(m),_=n(1858),v=r(_),A=n(737),y=r(A),b=n(11),w=r(b),x=n(30),E=r(x),C=n(1895),S=r(C),T=(0,u.default)({displayName:"MobileModalWindow",mixins:[w.default],propTypes:{terria:c.default.object,viewState:c.default.object.isRequired},renderModalContent:function(){var e=this.props.viewState,t=e.searchState;if(e.mobileView!==e.mobileViewOptions.data&&e.mobileView!==e.mobileViewOptions.preview&&t.showMobileLocationSearch&&t.locationSearchText.length>0)return a.default.createElement(v.default,{terria:this.props.terria,viewState:this.props.viewState});switch(e.mobileView){case e.mobileViewOptions.data:return a.default.createElement(p.default,{terria:this.props.terria,viewState:this.props.viewState,items:this.props.terria.catalog.group.items});case e.mobileViewOptions.preview:return a.default.createElement(g.default,{terria:this.props.terria,viewState:this.props.viewState,previewed:this.props.viewState.previewedItem});case e.mobileViewOptions.nowViewing:return a.default.createElement(y.default,{viewState:this.props.viewState,terria:this.props.terria});default:return null}},onClearMobileUI:function(){this.props.viewState.switchMobileView(null),this.props.viewState.explorerPanelIsVisible=!1,this.props.viewState.searchState.showMobileLocationSearch=!1,this.props.viewState.searchState.showMobileCatalogSearch=!1,this.props.viewState.searchState.catalogSearchText=""},UNSAFE_componentWillReceiveProps:function(){0===this.props.terria.nowViewing.items.length&&this.props.viewState.mobileView===this.props.viewState.mobileViewOptions.nowViewing&&(this.props.viewState.switchMobileView(null),this.props.viewState.explorerPanelIsVisible=!1)},goBack:function(){this.props.viewState.mobileView=this.props.viewState.mobileViewOptions.data},render:function(){var e=(0,d.default)(S.default.mobileModal,i({},S.default.isOpen,this.props.viewState.explorerPanelIsVisible&&this.props.viewState.mobileView)),t=this.props.viewState.mobileView;return a.default.createElement("div",{className:e},a.default.createElement("div",{className:S.default.modalBg},a.default.createElement("div",{className:S.default.modalTop},this.props.viewState.explorerPanelIsVisible&&t?a.default.createElement("button",{type:"button",className:S.default.doneButton,onClick:this.onClearMobileUI},"Done"):null,a.default.createElement("button",{type:"button",disabled:t!==this.props.viewState.mobileViewOptions.preview,className:(0,d.default)(S.default.backButton,i({},S.default.backButtonInactive,t!==this.props.viewState.mobileViewOptions.preview)),onClick:this.goBack},a.default.createElement(E.default,{className:S.default.iconBack,glyph:E.default.GLYPHS.left}))),this.renderModalContent()))}});e.exports=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(180),h=n(11),d=r(h),f=n(736),p=r(f),m=n(418),g=r(m),_=n(1861),v=r(_),A=(0,s.default)({displayName:"MobileSearch",mixins:[d.default],propTypes:{viewState:l.default.object,terria:l.default.object},onLocationClick:function(e){e.clickAction(),(0,c.addMarker)(this.props.terria,e),this.props.viewState.switchMobileView(null),this.props.viewState.searchState.showMobileLocationSearch=!1},searchInDataCatalog:function(){var e=this.props.viewState.mobileViewOptions.data;this.props.viewState.explorerPanelIsVisible=!0,this.props.viewState.switchMobileView(e),this.props.viewState.searchInCatalog(this.props.viewState.searchState.locationSearchText)},render:function(){return o.default.createElement("div",{className:v.default.mobileSearch},o.default.createElement("div",null,this.renderSearchInCatalogLink("light")),o.default.createElement("div",{className:v.default.location},this.renderLocationResult("light")))},renderSearchInCatalogLink:function(e){return this.props.viewState.searchState.locationSearchText.length>0?o.default.createElement("div",{className:v.default.providerResult},o.default.createElement("ul",{className:v.default.btnList},o.default.createElement(g.default,{clickAction:this.searchInDataCatalog,icon:null,name:'Search for "'+this.props.viewState.searchState.locationSearchText+'" in the Data Catalogue',theme:e}))):null},renderLocationResult:function(e){var t=this,n=this.props.viewState.searchState;return n.locationSearchProviders.filter(function(e){return e.isSearching||e.searchResults&&e.searchResults.length}).map(function(r){return o.default.createElement(p.default,{key:r.name,terria:t.props.terria,viewState:t.props.viewState,search:r,onLocationClick:t.onLocationClick,isWaitingForSearchToStart:n.isWaitingForSearchToStart,theme:e})})}});e.exports=A},function(e,t){e.exports={"search-result":"tjs-search-result__search-result",searchResult:"tjs-search-result__search-result",light:"tjs-search-result__light",btn:"tjs-search-result__btn tjs-_buttons__btn",dark:"tjs-search-result__dark",icon:"tjs-search-result__icon",resultName:"tjs-search-result__resultName","arrow-icon":"tjs-search-result__arrow-icon",arrowIcon:"tjs-search-result__arrow-icon",btnLocationName:"tjs-search-result__btnLocationName"}},function(e,t){e.exports={heading:"tjs-location-search-result__heading tjs-_buttons__btn",footer:"tjs-location-search-result__footer tjs-_buttons__btn","provider-result":"tjs-location-search-result__provider-result",providerResult:"tjs-location-search-result__provider-result",items:"tjs-location-search-result__items tjs-_base__clearfix tjs-_base__list-reset",light:"tjs-location-search-result__light",dark:"tjs-location-search-result__dark",isOpen:"tjs-location-search-result__isOpen"}},function(e,t){e.exports={results:"tjs-mobile-search__results tjs-_base__list-reset",label:"tjs-mobile-search__label",location:"tjs-mobile-search__location","provider-result":"tjs-mobile-search__provider-result",providerResult:"tjs-mobile-search__provider-result",items:"tjs-mobile-search__items",btnList:"tjs-mobile-search__btnList tjs-_base__clearfix tjs-_base__list-reset",data:"tjs-mobile-search__data"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(28),a=r(o),s=n(4),u=r(s),l=n(8),c=r(l),h=n(5),d=r(h),f=n(738),p=n(0),m=r(p),g=n(1863),_=r(g),v=n(1867),A=r(v),y=n(1869),b=r(y),w=n(1871),x=r(w),E=n(284),C=r(E),S=n(1873),T=r(S),I=n(734),M=r(I),O=n(11),P=r(O),D=n(1875),B=r(D),L=n(1881),N=r(L),R=n(1883),k=r(R),F=n(1885),U=r(F),z=n(1887),j=r(z),H=n(1889),V=r(H),Q=n(30),G=r(Q),W=(0,c.default)({displayName:"WorkbenchItem",mixins:[P.default],propTypes:{style:d.default.object,className:d.default.string,onMouseDown:d.default.func.isRequired,onTouchStart:d.default.func.isRequired,item:d.default.object.isRequired,viewState:d.default.object.isRequired,setWrapperState:d.default.func},toggleDisplay:function(){this.props.item.isLegendVisible=!this.props.item.isLegendVisible},openModal:function(){this.props.setWrapperState({modalWindowIsOpen:!0,activeTab:1,previewed:this.props.item})},toggleVisibility:function(){this.props.item.isShown=!this.props.item.isShown},render:function(){var e=this.props.item;return u.default.createElement("li",{style:this.props.style,className:(0,a.default)(this.props.className,V.default.workbenchItem,i({},V.default.isOpen,e.isLegendVisible))},u.default.createElement("ul",{className:V.default.header},e.supportsToggleShown?u.default.createElement("li",{className:V.default.visibilityColumn},u.default.createElement("button",{type:"button",onClick:this.toggleVisibility,title:"Data show/hide",className:V.default.btnVisibility},e.isShown?u.default.createElement(G.default,{glyph:G.default.GLYPHS.checkboxOn}):u.default.createElement(G.default,{glyph:G.default.GLYPHS.checkboxOff}))):null,u.default.createElement("li",{className:V.default.nameColumn},u.default.createElement("div",{onMouseDown:this.props.onMouseDown,onTouchStart:this.props.onTouchStart,className:V.default.draggable,title:(0,C.default)(e).map(function(e){return e.nameInCatalog}).concat(e.nameInCatalog).join(" → ")},e.isMappable?null:u.default.createElement("span",{className:V.default.iconLineChart},u.default.createElement(G.default,{glyph:G.default.GLYPHS.lineChart})),e.name)),u.default.createElement("li",{className:V.default.toggleColumn},u.default.createElement("button",{type:"button",className:V.default.btnToggle,onClick:this.toggleDisplay},e.isLegendVisible?u.default.createElement(G.default,{glyph:G.default.GLYPHS.opened}):u.default.createElement(G.default,{glyph:G.default.GLYPHS.closed}))),u.default.createElement("li",{className:V.default.headerClearfix})),e.isLegendVisible?u.default.createElement("div",{className:V.default.inner},u.default.createElement(j.default,{item:e,viewState:this.props.viewState}),u.default.createElement(B.default,{item:e}),u.default.createElement(T.default,{item:e}),(0,m.default)(e.concepts)&&e.concepts.length>0&&e.displayChoicesBeforeLegend?u.default.createElement(_.default,{item:e}):null,u.default.createElement(b.default,{item:e}),u.default.createElement(A.default,{item:e}),u.default.createElement(U.default,{item:e}),u.default.createElement(N.default,{item:e}),u.default.createElement(x.default,{item:e}),u.default.createElement(M.default,{item:e}),(0,m.default)(e.concepts)&&e.concepts.length>0&&!e.displayChoicesBeforeLegend?u.default.createElement(_.default,{item:e}):null,e.shortReport||e.shortReportSections&&e.shortReportSections.length?u.default.createElement(k.default,{item:e}):null):null)}});e.exports=(0,f.sortable)(W)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1864),o=r(i),a=n(419),s=r(a),u=n(11),l=r(u),c=n(638),h=r(c),d=n(4),f=r(d),p=n(8),m=r(p),g=n(5),_=r(g),v=n(739),A=r(v),y=(0,m.default)({displayName:"ConceptViewer",mixins:[l.default],propTypes:{item:_.default.object.isRequired},render:function(){var e=this.props.item.concepts.filter(function(e){return e.isVisible&&!h.default.prototype.isPrototypeOf(e)});return f.default.createElement("div",{className:A.default.root},e.length>0?f.default.createElement("div",{className:A.default.section},e.map(function(e,t){return f.default.createElement("div",{className:A.default.inner,key:t},f.default.createElement("ul",{className:A.default.childrenList},f.default.createElement(s.default,{concept:e,isLoading:this.props.item.isLoading})))},this)):null,this.props.item.concepts.filter(function(e){return e.isVisible&&h.default.prototype.isPrototypeOf(e)}).map(function(e,t){return f.default.createElement("div",{className:A.default.section,key:t},f.default.createElement("ul",{className:A.default.childrenList},f.default.createElement(o.default,{concept:e,isLoading:this.props.item.isLoading})))},this))}});e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=o(e);return(0,l.default)(t).filter(a)}function o(e){return e.isOpen?[e]:e.items?e.items.map(function(e){return o(e)}):[]}function a(e){return!e.items||e.items.every(function(e){return!e.isActive})}function s(e,t){var n={};return e.forEach(function(e){var r=t(e.parent);n[r]||(n[r]={parent:e.parent,children:[]}),n[r].children.push(e)}),Object.keys(n).map(function(e){return n[e]})}var u=n(583),l=r(u),c=n(1865),h=r(c),d=n(1866),f=r(d),p=n(30),m=r(p),g=n(11),_=r(g),v=n(4),A=r(v),y=n(8),b=r(y),w=n(5),x=r(w),E=n(420),C=r(E),S=(0,b.default)({displayName:"SummaryConcept",mixins:[_.default],propTypes:{concept:x.default.object.isRequired,isLoading:x.default.bool},render:function(){var e=this.props.concept,t=function(e){return!e.items||0===e.items.length},n=e.getNodes(t).filter(function(e){return e.isActive}),r=s(n,function(e){return e.id}),o=i(e),a=this.props.isLoading;return A.default.createElement("div",{className:C.default.root},A.default.createElement("div",{className:C.default.title},e.name,":"),r.map(function(t,n){return A.default.createElement(h.default,{key:n,rootConcept:e,activeLeafNodesWithParent:t,isLoading:a})},this),0===r.length&&0===o.length?A.default.createElement("div",{className:C.default.noConditions},"None"):null,o.length>0&&!a?A.default.createElement(f.default,{rootConcept:e,openInactiveConcept:o[0]}):null,e.allowMultiple&&0===o.length?A.default.createElement(T,{rootConcept:e,numberOfExisting:r.length}):null)}}),T=(0,b.default)({displayName:"AddButton",mixins:[_.default],propTypes:{rootConcept:x.default.object.isRequired,numberOfExisting:x.default.number},addNew:function(){this.props.rootConcept.closeDescendants(),this.props.rootConcept.isOpen=!0},render:function(){var e=this.props.numberOfExisting>0?"Add new condition":"Add a condition";return A.default.createElement("div",{className:C.default.section},A.default.createElement("button",{onClick:this.addNew,className:C.default.btnAddNew},A.default.createElement(m.default,{glyph:m.default.GLYPHS.add}),A.default.createElement("span",{className:C.default.text},e)))}});e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(28),a=r(o),s=n(419),u=r(s),l=n(30),c=r(l),h=n(11),d=r(h),f=n(4),p=r(f),m=n(8),g=r(m),_=n(5),v=r(_),A=n(420),y=r(A),b=(0,g.default)({displayName:"ActiveConcept",mixins:[d.default],propTypes:{activeLeafNodesWithParent:v.default.object.isRequired,rootConcept:v.default.object.isRequired,isLoading:v.default.bool},open:function(){this.props.rootConcept.closeDescendants(),this.props.activeLeafNodesWithParent.parent.isOpen=!0},close:function(e){e.stopPropagation(),this.props.activeLeafNodesWithParent.parent.isOpen=!1},remove:function(e){e.stopPropagation(),this.props.activeLeafNodesWithParent.parent.toggleActiveItem(null)},render:function(){var e,t=this.props.activeLeafNodesWithParent;return p.default.createElement("div",{className:y.default.section},p.default.createElement("div",{className:(0,a.default)((e={},i(e,y.default.btnOpen,!t.parent.isOpen),i(e,y.default.isLoading,this.props.isLoading),e)),onClick:this.open},p.default.createElement("div",{className:y.default.controls},t.parent.isOpen?null:[p.default.createElement("button",{className:y.default.btnEdit,title:"Edit condition",key:"0"},p.default.createElement(c.default,{glyph:c.default.GLYPHS.settings})),this.props.rootConcept.allowMultiple?p.default.createElement("button",{className:y.default.btnRemove,onClick:this.remove,title:"Remove condition",key:"1"},p.default.createElement(c.default,{glyph:c.default.GLYPHS.close})):null],t.parent.isOpen?p.default.createElement("button",{className:y.default.btnClose,onClick:this.close},"Close"):null),p.default.createElement("div",{className:y.default.heading},t.parent.name),t.parent.isOpen?null:t.children.map(function(e,t){return p.default.createElement("div",{className:y.default.condition,key:t},e.name)},this),t.parent.isOpen?p.default.createElement("ul",{className:y.default.childrenList},p.default.createElement(u.default,{hideName:!0,concept:t.parent,isLoading:this.props.isLoading})):null))}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(28),a=r(o),s=n(419),u=r(s),l=n(30),c=r(l),h=n(11),d=r(h),f=n(4),p=r(f),m=n(8),g=r(m),_=n(5),v=r(_),A=n(420),y=r(A),b=(0,g.default)({displayName:"OpenInactiveConcept",mixins:[d.default],propTypes:{rootConcept:v.default.object.isRequired,openInactiveConcept:v.default.object.isRequired},cancel:function(){this.props.openInactiveConcept.isOpen=!1},back:function(){this.props.openInactiveConcept.isOpen=!1,this.props.openInactiveConcept.parent.isOpen=!0},render:function(){var e=this.props.rootConcept.allowMultiple;return p.default.createElement("div",{className:y.default.section},p.default.createElement("div",{className:y.default.controls},e?p.default.createElement("button",{className:y.default.btnClose,onClick:this.cancel},"Cancel"):null),p.default.createElement("div",{className:y.default.heading},this.props.rootConcept!==this.props.openInactiveConcept?[e?p.default.createElement("button",{className:y.default.btnBack,onClick:this.back,key:"0"},p.default.createElement(c.default,{glyph:c.default.GLYPHS.left})):null,p.default.createElement("div",{className:(0,a.default)(i({},y.default.indented,e)),key:"1"},this.props.openInactiveConcept.name)]:null,this.props.rootConcept===this.props.openInactiveConcept?"New condition":null),p.default.createElement("ul",{className:y.default.childrenList},this.props.openInactiveConcept.items.map(function(e,t){return[e.items&&e.items.length>0?p.default.createElement(w,{concept:e,key:t}):null,e.items&&0!==e.items.length?null:p.default.createElement("li",{className:y.default.items,key:"1"},p.default.createElement("ul",{className:y.default.listReset},p.default.createElement(u.default,{concept:e,key:t})))]},this)))}}),w=(0,g.default)({displayName:"ConceptParent",mixins:[d.default],propTypes:{concept:v.default.object.isRequired},open:function(){this.props.concept.isOpen=!0,this.props.concept.parent.isOpen=!1},render:function(){return p.default.createElement("li",null,p.default.createElement("div",{className:y.default.btnAddOpen,onClick:this.open},p.default.createElement("div",{className:y.default.controls},p.default.createElement(c.default,{glyph:c.default.GLYPHS.closed})),p.default.createElement("div",{className:y.default.condition},this.props.concept.name)))}});e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(8),u=r(s),l=n(28),c=r(l),h=n(5),d=r(h),f=n(0),p=r(f),m=n(36),g=r(m),_=n(730),v=r(_),A=n(11),y=r(A),b=n(214),w=n(1868),x=r(w),E=n(30),C=r(E),S=(0,u.default)({displayName:"DateTimeSelectorSection",mixins:[y.default],propTypes:{item:d.default.object.isRequired},changeDateTime:function(e){var t=this.props.item;t.terria.timeSeriesStack.promoteLayerToTop(t),t.currentTime=g.default.fromDate(new Date(e)),t.terria.currentViewer.notifyRepaintRequired()},onTimelineButtonClicked:function(){var e=this.props.item;e.useOwnClock=!e.useOwnClock,e.useClock(),e.terria.currentViewer.notifyRepaintRequired()},onPreviousButtonClicked:function(){var e=this.props.item;e.terria.timeSeriesStack.promoteLayerToTop(e),e.moveToPreviousTime(),e.terria.currentViewer.notifyRepaintRequired()},onNextButtonClicked:function(){var e=this.props.item;e.terria.timeSeriesStack.promoteLayerToTop(e),e.moveToNextTime(),e.terria.currentViewer.notifyRepaintRequired()},render:function(){var e=this.props.item,t=e.discreteTime;return(0,p.default)(e.clock)&&(0,p.default)(e.availableDates)&&0!==e.availableDates.length?a.default.createElement("div",{className:x.default.datetimeSelector},a.default.createElement("div",{className:x.default.title},"Time:"),a.default.createElement("div",{className:x.default.datetimeSelectorInner},a.default.createElement("div",{className:x.default.datetimeAndPicker},a.default.createElement("button",{className:x.default.datetimePrevious,disabled:!e.isPreviousTimeAvaliable(),onClick:this.onPreviousButtonClicked,title:"Previous time"},a.default.createElement(C.default,{glyph:C.default.GLYPHS.previous})),a.default.createElement("span",{className:x.default.currentDate},(0,p.default)(t)?(0,b.formatDateTime)(t):"Currently out of range."),a.default.createElement("button",{className:x.default.datetimeNext,disabled:!e.isNextTimeAvaliable(),onClick:this.onNextButtonClicked,title:"Next time"},a.default.createElement(C.default,{glyph:C.default.GLYPHS.next}))),a.default.createElement("div",{className:x.default.picker,title:"Select a time"},a.default.createElement(v.default,{currentDate:e.clampedDiscreteTime,dates:e.availableDates,onChange:this.changeDateTime,openDirection:"down"})),a.default.createElement("button",{className:(0,c.default)(x.default.timelineButton,i({},x.default.timelineActive,!e.useOwnClock)),type:"button",onClick:this.onTimelineButtonClicked,title:"Use timeline"},a.default.createElement(C.default,{glyph:C.default.GLYPHS.timeline})))):null}});e.exports=S},function(e,t){e.exports={"datetime-selector":"tjs-datetime-selector-section__datetime-selector tjs-_base__clearfix",datetimeSelector:"tjs-datetime-selector-section__datetime-selector tjs-_base__clearfix",title:"tjs-datetime-selector-section__title",datetimeAndPicker:"tjs-datetime-selector-section__datetimeAndPicker",time:"tjs-datetime-selector-section__time","timeline-button":"tjs-datetime-selector-section__timeline-button tjs-_buttons__btn",timelineButton:"tjs-datetime-selector-section__timeline-button tjs-_buttons__btn","timeline-active":"tjs-datetime-selector-section__timeline-active",timelineActive:"tjs-datetime-selector-section__timeline-active",currentDate:"tjs-datetime-selector-section__currentDate",picker:"tjs-datetime-selector-section__picker",datetimePrevious:"tjs-datetime-selector-section__datetimePrevious tjs-_buttons__btn",datetimeNext:"tjs-datetime-selector-section__datetimeNext tjs-_buttons__btn"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(11),f=r(d),p=n(1870),m=r(p),g=(0,l.default)({displayName:"DimensionSelectorSection",mixins:[f.default],propTypes:{item:h.default.object.isRequired},changeDimension:function(e,t){var n=this.props.item,r=n.dimensions||{};r[e.name]=t.target.value,n.dimensions=r,n.refresh()},render:function(){var e=this.props.item;if(e.disableUserChanges||!(0,o.default)(e.availableDimensions)||!(0,o.default)(e.layers))return null;var t=[];return e.layers.split(",").forEach(function(n){var r=e.availableDimensions[n];r&&r.forEach(function(e){if("time"!==e.name.toLowerCase()){var n=t.filter(function(t){return t.name===e.name})[0];(0,o.default)(n)||t.push(e)}})}),s.default.createElement("div",{className:m.default.dimensionSelector},t.map(this.renderDimensionSelector))},renderDimensionSelector:function(e){var t=e.options,n=this.props.item.dimensions||{},r=n[e.name]||e.default||"",i=0===r.length&&e.options.indexOf(r)<0,o=e.name.length>0?e.name.charAt(0).toUpperCase()+e.name.slice(1):"";return e.unitSymbol&&(o+="("+e.unitSymbol+")"),s.default.createElement("div",{key:e.name},s.default.createElement("label",{className:m.default.title,htmlFor:e.name},o),s.default.createElement("select",{className:m.default.field,name:e.name,value:r,onChange:this.changeDimension.bind(this,e)},i&&s.default.createElement("option",{key:"__default__",value:""},"Default"),t.map(function(e){return s.default.createElement("option",{key:e,value:e},e)})))}});e.exports=g},function(e,t){e.exports={"dimension-selector":"tjs-dimension-selector-section__dimension-selector",dimensionSelector:"tjs-dimension-selector-section__dimension-selector",title:"tjs-dimension-selector-section__title",field:"tjs-dimension-selector-section__field tjs-_form__field tjs-_form__input"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(28),a=r(o),s=n(11),u=r(s),l=n(4),c=r(l),h=n(8),d=r(h),f=n(5),p=r(f),m=n(30),g=r(m),_=n(1872),v=r(_),A=(0,d.default)({displayName:"DisplayAsPercentSection",mixins:[u.default],propTypes:{item:p.default.object},togglePercentage:function(){this.props.item.displayPercent=!this.props.item.displayPercent},render:function(){var e;return this.props.item.canDisplayPercent?c.default.createElement("label",{className:v.default.main},c.default.createElement("button",{type:"button",onClick:this.togglePercentage,className:(0,a.default)(v.default.btn,(e={},i(e,v.default.btnActive,this.props.item.displayPercent),i(e,v.default.btnInactive,!this.props.item.displayPercent),e))},this.props.item.displayPercent?c.default.createElement(g.default,{glyph:g.default.GLYPHS.checkboxOn}):c.default.createElement(g.default,{glyph:g.default.GLYPHS.checkboxOff}),c.default.createElement("span",null,"Display as a percentage of regional total"))):null}});e.exports=A},function(e,t){e.exports={btn:"tjs-display-as-percent__btn tjs-_buttons__btn"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(28),a=r(o),s=n(8),u=r(s),l=n(5),c=r(l),h=n(4),d=r(h),f=n(0),p=r(f),m=n(162),g=r(m),_=n(11),v=r(_),A=n(1874),y=r(A),b=(0,u.default)({displayName:"LeftRightSection",mixins:[v.default],propTypes:{item:c.default.object.isRequired},goLeft:function(){this.props.item.splitDirection=g.default.LEFT},goBoth:function(){this.props.item.splitDirection=g.default.NONE},goRight:function(){this.props.item.splitDirection=g.default.RIGHT},render:function(){var e=this.props.item,t=e.splitDirection;return e.supportsSplitting&&(0,p.default)(t)&&e.terria.showSplitter?d.default.createElement("div",{className:y.default.leftRightSection},d.default.createElement("button",{type:"button",onClick:this.goLeft,className:(0,a.default)(y.default.goLeft,i({},y.default.isActive,t===g.default.LEFT)),title:"Show on the left side"},"Left"),d.default.createElement("button",{type:"button",onClick:this.goBoth,className:(0,a.default)(y.default.goBoth,i({},y.default.isActive,t===g.default.NONE)),title:"Show on both sides"},"Both"),d.default.createElement("button",{type:"button",onClick:this.goRight,className:(0,a.default)(y.default.goRight,i({},y.default.isActive,t===g.default.RIGHT)),title:"Show on the right side"},"Right")):null}});e.exports=b},function(e,t){e.exports={"left-right-section":"tjs-left-right-section__left-right-section",leftRightSection:"tjs-left-right-section__left-right-section","go-left":"tjs-left-right-section__go-left tjs-_buttons__btn tjs-_buttons__btn-primary",goLeft:"tjs-left-right-section__go-left tjs-_buttons__btn tjs-_buttons__btn-primary","go-both":"tjs-left-right-section__go-both tjs-_buttons__btn tjs-_buttons__btn-primary",goBoth:"tjs-left-right-section__go-both tjs-_buttons__btn tjs-_buttons__btn-primary","go-right":"tjs-left-right-section__go-right tjs-_buttons__btn tjs-_buttons__btn-primary",goRight:"tjs-left-right-section__go-right tjs-_buttons__btn tjs-_buttons__btn-primary",isActive:"tjs-left-right-section__isActive"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1876),o=r(i),a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(11),f=r(d),p=n(1880),m=r(p),g=(0,l.default)({displayName:"OpacitySection",mixins:[f.default],propTypes:{item:h.default.object.isRequired},changeOpacity:function(e){this.props.item.opacity=e/100},render:function(){var e=this.props.item;return e.supportsOpacity?s.default.createElement("div",{className:m.default.opacity},s.default.createElement("label",{htmlFor:"opacity"},"Opacity: ",parseInt(100*e.opacity,10)," %"),s.default.createElement(o.default,{className:m.default.rangeSlider,name:"opacity",min:0,max:100,step:1,value:100*e.opacity|0,onChange:this.changeOpacity})):null}});e.exports=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1877),i=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(28),c=r(l),h=n(4),d=r(h),f=n(5),p=r(f),m=n(1878),g=r(m),_=n(1879),v={orientation:{horizontal:{dimension:"width",direction:"left",reverseDirection:"right",coordinate:"x"},vertical:{dimension:"height",direction:"top",reverseDirection:"bottom",coordinate:"y"}}},A=function(e){function t(e,n){o(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleFormat=function(e){var t=r.props.format;return t?t(e):e},r.handleUpdate=function(){if(r.slider){var e=r.props.orientation,t=(0,_.capitalize)(v.orientation[e].dimension),n=r.slider["offset"+t],i=r.handle["offset"+t];r.setState({limit:n-i,grab:i/2})}},r.handleStart=function(e){var t=r.props.onChangeStart;document.addEventListener("mousemove",r.handleDrag),document.addEventListener("mouseup",r.handleEnd),r.setState({active:!0},function(){t&&t(e)})},r.handleDrag=function(e){e.stopPropagation();var t=r.props.onChange,n=e.target,i=n.className,o=n.classList,a=n.dataset;if(t&&"rangeslider__labels"!==i){var s=r.position(e);o&&o.contains("rangeslider__label-item")&&a.value&&(s=parseFloat(a.value)),t&&t(s,e)}},r.handleEnd=function(e){var t=r.props.onChangeComplete;r.setState({active:!1},function(){t&&t(e)}),document.removeEventListener("mousemove",r.handleDrag),document.removeEventListener("mouseup",r.handleEnd)},r.handleKeyDown=function(e){e.preventDefault();var t=e.keyCode,n=r.props,i=n.value,o=n.min,a=n.max,s=n.step,u=n.onChange,l=void 0;switch(t){case 38:case 39:l=i+s>a?a:i+s,u&&u(l,e);break;case 37:case 40:l=i-s<o?o:i-s,u&&u(l,e)}},r.getPositionFromValue=function(e){var t=r.state.limit,n=r.props,i=n.min,o=n.max,a=o-i,s=e-i,u=s/a;return Math.round(u*t)},r.getValueFromPosition=function(e){var t=r.state.limit,n=r.props,i=n.orientation,o=n.min,a=n.max,s=n.step,u=(0,_.clamp)(e,0,t)/(t||1),l=s*Math.round(u*(a-o)/s),c="horizontal"===i?l+o:a-l;return(0,_.clamp)(c,o,a)},r.position=function(e){var t=r.state.grab,n=r.props,i=n.orientation,o=n.reverse,a=r.slider,s=v.orientation[i].coordinate,u=o?v.orientation[i].reverseDirection:v.orientation[i].direction,l="client"+(0,_.capitalize)(s),c=e.touches?e.touches[0][l]:e[l],h=a.getBoundingClientRect()[u],d=o?h-c-t:c-h-t;return r.getValueFromPosition(d)},r.coordinates=function(e){var t=r.state,n=t.limit,i=t.grab,o=r.props.orientation,a=r.getValueFromPosition(e),s=r.getPositionFromValue(a),u="horizontal"===o?s+i:s;return{fill:"horizontal"===o?u:n-u,handle:u,label:u}},r.renderLabels=function(e){return d.default.createElement("ul",{ref:function(e){r.labels=e},className:(0,c.default)("rangeslider__labels")},e)},r.state={active:!1,limit:0,grab:0},r}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.handleUpdate(),new g.default(this.handleUpdate).observe(this.slider)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.orientation,o=t.className,a=t.tooltip,s=t.reverse,u=t.labels,l=t.min,h=t.max,f=t.handleLabel,p=this.state.active,m=v.orientation[r].dimension,g=s?v.orientation[r].reverseDirection:v.orientation[r].direction,_=this.getPositionFromValue(n),A=this.coordinates(_),y=i({},m,A.fill+"px"),b=i({},g,A.handle+"px"),w=a&&p,x=[],E=Object.keys(u);if(E.length>0){E=E.sort(function(e,t){return s?e-t:t-e});var C=!0,S=!1,T=void 0;try{for(var I,M=E[Symbol.iterator]();!(C=(I=M.next()).done);C=!0){var O=I.value,P=this.getPositionFromValue(O),D=this.coordinates(P),B=i({},g,D.label+"px");x.push(d.default.createElement("li",{key:O,className:(0,c.default)("rangeslider__label-item"),"data-value":O,onMouseDown:this.handleDrag,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,style:B},this.props.labels[O]))}}catch(e){S=!0,T=e}finally{try{!C&&M.return&&M.return()}finally{if(S)throw T}}}return d.default.createElement("div",{ref:function(t){e.slider=t},className:(0,c.default)("rangeslider","rangeslider-"+r,{"rangeslider-reverse":s},o),onMouseDown:this.handleDrag,onMouseUp:this.handleEnd,onTouchStart:this.handleStart,onTouchEnd:this.handleEnd,"aria-valuemin":l,"aria-valuemax":h,"aria-valuenow":n,"aria-orientation":r},d.default.createElement("div",{className:"rangeslider__fill",style:y}),d.default.createElement("div",{ref:function(t){e.handle=t},className:"rangeslider__handle",onMouseDown:this.handleStart,onTouchMove:this.handleDrag,onTouchEnd:this.handleEnd,onKeyDown:this.handleKeyDown,style:b,tabIndex:0},w?d.default.createElement("div",{ref:function(t){e.tooltip=t},className:"rangeslider__handle-tooltip"},d.default.createElement("span",null,this.handleFormat(n))):null,d.default.createElement("div",{className:"rangeslider__handle-label"},f)),u?this.renderLabels(x):null)}}]),t}(h.Component);A.propTypes={min:p.default.number,max:p.default.number,step:p.default.number,value:p.default.number,orientation:p.default.string,tooltip:p.default.bool,reverse:p.default.bool,labels:p.default.object,handleLabel:p.default.string,format:p.default.func,onChangeStart:p.default.func,onChange:p.default.func,onChangeComplete:p.default.func},A.defaultProps={min:0,max:100,step:1,value:0,orientation:"horizontal",tooltip:!0,reverse:!1,labels:{},handleLabel:""},t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(e,t){function n(){o&&(o=!1,e()),a&&i()}function r(){m(n)}function i(){var e=Date.now();if(o){if(e-s<g)return;a=!0}else o=!0,a=!1,setTimeout(r,t);s=e}var o=!1,a=!1,s=0;return i}function r(e){return parseFloat(e)||0}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+r(e["border-"+n+"-width"])},0)}function o(e){for(var t=["top","right","bottom","left"],n={},i=0,o=t;i<o.length;i++){var a=o[i],s=e["padding-"+a];n[a]=r(s)}return n}function a(e){var t=e.getBBox();return h(0,0,t.width,t.height)}function s(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return x;var a=w(e).getComputedStyle(e),s=o(a),l=s.left+s.right,c=s.top+s.bottom,d=r(a.width),f=r(a.height);if("border-box"===a.boxSizing&&(Math.round(d+l)!==t&&(d-=i(a,"left","right")+l),Math.round(f+c)!==n&&(f-=i(a,"top","bottom")+c)),!u(e)){var p=Math.round(d+l)-t,m=Math.round(f+c)-n;1!==Math.abs(p)&&(d-=p),1!==Math.abs(m)&&(f-=m)}return h(s.left,s.top,d,f)}function u(e){return e===w(e).document.documentElement}function l(e){return f?E(e)?a(e):s(e):x}function c(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return b(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function h(e,t,n,r){return{x:e,y:t,width:n,height:r}}var d=function(){function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),f="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,p=function(){return void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),m=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(p):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),g=2,_=20,v=["top","right","bottom","left","width","height","size","weight"],A="undefined"!=typeof MutationObserver,y=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=n(this.refresh.bind(this),_)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){f&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),A?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){f&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;v.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),b=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},w=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||p},x=h(0,0,0,0),E=function(){return"undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof w(e).SVGGraphicsElement}:function(e){return e instanceof w(e).SVGElement&&"function"==typeof e.getBBox}}(),C=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=h(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=l(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),S=function(){function e(e,t){var n=c(t);b(this,{target:e,contentRect:n})}return e}(),T=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new d,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof w(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new C(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof w(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new S(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),I="undefined"!=typeof WeakMap?new WeakMap:new d,M=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=y.getInstance(),r=new T(t,n,this);I.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){M.prototype[e]=function(){var t;return(t=I.get(this))[e].apply(t,arguments)}});var O=function(){return void 0!==p.ResizeObserver?p.ResizeObserver:M}();t.default=O}.call(t,n(48))},function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.substr(1)}function i(e,t,n){return Math.min(Math.max(e,t),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=r,t.clamp=i},function(e,t){e.exports={opacity:"tjs-opacity-section__opacity tjs-_base__clearfix",rangeSlider:"tjs-opacity-section__rangeSlider"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(11),h=r(c),d=n(0),f=r(d),p=n(1882),m=r(p),g=(0,s.default)({displayName:"ColorScaleRangeSection",mixins:[h.default],propTypes:{item:l.default.object.isRequired},minRange:-50,maxRange:50,updateRange:function(e){e.preventDefault();var t=parseFloat(this.minRange);if(t!==t)return void this.props.item.terria.error.raiseEvent({sender:this.props.item,title:"Invalid color scale range",message:"The minimum value must be a number."});var n=parseFloat(this.maxRange);return n!==n?void this.props.item.terria.error.raiseEvent({sender:this.props.item,title:"Invalid color scale range",message:"The maximum value must be a number."}):n<=t?void this.props.item.terria.error.raiseEvent({sender:this.props.item,title:"Invalid color scale range",message:"The minimum value of the color scale range must be less than the maximum value."}):(this.props.item.colorScaleMinimum=t,this.props.item.colorScaleMaximum=n,void this.props.item.refresh())},changeRangeMin:function(e){this.minRange=e.target.value},changeRangeMax:function(e){this.maxRange=e.target.value},render:function(){var e=this.props.item;return(0,f.default)(e.colorScaleMinimum)&&(0,f.default)(e.colorScaleMaximum)?(this.minRange=e.colorScaleMinimum,this.maxRange=e.colorScaleMaximum,o.default.createElement("form",{className:m.default.colorscalerange,onSubmit:this.updateRange},o.default.createElement("div",{className:m.default.title},"Color Scale Range "),o.default.createElement("label",{htmlFor:"rangeMax"},"Maximum: "),o.default.createElement("input",{className:m.default.field,type:"text",name:"rangeMax",defaultValue:this.maxRange,onChange:this.changeRangeMax}),o.default.createElement("label",{htmlFor:"rangeMin"},"Minimum: "),o.default.createElement("input",{className:m.default.field,type:"text",name:"rangeMin",defaultValue:this.minRange,onChange:this.changeRangeMin}),o.default.createElement("button",{type:"submit",title:"Update Range",className:m.default.btn},"Update Range"))):null}});e.exports=g},function(e,t){e.exports={colorscalerange:"tjs-colorscalerange-section__colorscalerange",title:"tjs-colorscalerange-section__title",btn:"tjs-colorscalerange-section__btn tjs-_buttons__btn tjs-_buttons__btn-primary",field:"tjs-colorscalerange-section__field tjs-_form__field tjs-_form__input"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(11),o=r(i),a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(127),f=r(d),p=n(1884),m=r(p),g=(0,l.default)({displayName:"ShortReport",mixins:[o.default],propTypes:{item:h.default.object.isRequired},render:function(){return s.default.createElement("div",{className:m.default.shortReport},this.props.item.shortReport?(0,f.default)(this.props.item.shortReport,{catalogItem:this.props.item}):null,this.props.item.shortReportSections?this.props.item.shortReportSections.map(function(e,t){return s.default.createElement("div",{key:t},s.default.createElement("label",null,e.name),(0,f.default)(e.content,{catalogItem:this.props.item}))},this):null)}});e.exports=g},function(e,t){e.exports={"short-report":"tjs-short-report__short-report",shortReport:"tjs-short-report__short-report","now-viewing-item__short-report":"tjs-short-report__now-viewing-item__short-report",nowViewingItemShortReport:"tjs-short-report__now-viewing-item__short-report","collapsible-header":"tjs-short-report__collapsible-header",collapsibleHeader:"tjs-short-report__collapsible-header","btn--toggle":"tjs-short-report__btn--toggle",btnToggle:"tjs-short-report__btn--toggle"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0),o=r(i),a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(11),f=r(d),p=n(1886),m=r(p),g=(0,l.default)({displayName:"StyleSelectorSection",mixins:[f.default],propTypes:{item:h.default.object.isRequired},changeStyle:function(e,t){var n=this.props.item,r=n.layers.split(","),i=n.styles.split(","),o=r.indexOf(e.name);-1!==o&&(i[o]=t.target.value,n.styles=i.join(","),n.refresh())},render:function(){var e=this.props.item;if(e.disableUserChanges||!(0,o.default)(e.availableStyles)||!(0,o.default)(e.styles)||!(0,o.default)(e.layers)||0===e.layers.length)return null;var t=e.layerTitles,n=e.styles.split(","),r=e.layers.split(",").map(function(e,r){return{name:e.trim(),title:t&&t[r]||e.trim(),style:n[r]}});return s.default.createElement("div",{className:m.default.styleSelector},r.map(this.renderStyleSelectorForLayer))},renderStyleSelectorForLayer:function(e){var t=this.props.item,n=t.availableStyles[e.name];if(!(0,o.default)(n)||n.length<2)return null;var r=t.layers.indexOf(",")>=0?e.title+" Style":"Style";return s.default.createElement("div",{key:e.name},s.default.createElement("label",{className:m.default.title,htmlFor:e.name},r),s.default.createElement("select",{className:m.default.field,name:e.name,value:e.style,onChange:this.changeStyle.bind(this,e)},n.map(function(e){return s.default.createElement("option",{key:e.name,value:e.name},e.title)})))}});e.exports=g},function(e,t){e.exports={"style-selector":"tjs-style-selector-section__style-selector",styleSelector:"tjs-style-selector-section__style-selector",title:"tjs-style-selector-section__title",field:"tjs-style-selector-section__field tjs-_form__field tjs-_form__input"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(24),a=r(o),s=n(0),u=r(s),l=n(23),c=r(l),h=n(30),d=r(h),f=n(11),p=r(f),m=n(448),g=r(m),_=n(4),v=r(_),A=n(8),y=r(A),b=n(5),w=r(b),x=n(16),E=r(x),C=n(7),S=r(C),T=n(28),I=r(T),M=n(1888),O=r(M),P=n(96),D=r(P),B=n(408),L=r(B),N=n(162),R=r(N),k=(0,y.default)({displayName:"ViewingControls",mixins:[p.default],propTypes:{item:w.default.object.isRequired,viewState:w.default.object.isRequired},removeFromMap:function(){this.props.item.isEnabled=!1},zoomTo:function(){this.props.item.zoomToAndUseClock()},openFeature:function(){var e=this.props.item,t=new g.default;t.features.push(e.tableStructure.sourceFeature),t.allFeaturesAvailablePromise=(0,S.default)(),t.isLoading=!1;var n=e.tableStructure.sourceFeature.position.getValue(e.terria.clock.currentTime),r=c.default.WGS84,i=a.default.fromCartesian(n,r),o=i.latitude+.05,s=i.longitude-.05,u=i.latitude-.05,l=i.longitude+.05,h=new E.default(s,o,l,u);setTimeout(function(){e.terria.pickedFeatures=t,e.terria.currentViewer.zoomTo(h,1)},50)},splitItem:function(){var e=this.props.item;e.splitDirection=R.default.RIGHT;var t=e.serializeToJson();t.name=t.name+" (copy)",t.splitDirection=R.default.LEFT,delete t.id;var n=(0,D.default)(e.type,e.terria);n.updateFromJson(t),!1===n.useOwnClock&&(n.useOwnClock=!0),(0,L.default)(e.terria,n,{open:!1,zoomTo:!1}),e.terria.showSplitter=!0},previewItem:function(){var e=this.props.item;(0,u.default)(e.sourceCatalogItem)&&(e=e.sourceCatalogItem),e.enableWithParents(),this.props.viewState.viewCatalogMember(e),this.props.viewState.switchMobileView(this.props.viewState.mobileViewOptions.preview)},exportData:function(){this.props.item.exportData()},render:function(){var e,t=this.props.item,n=t.canZoomTo||t.tableStructure&&t.tableStructure.sourceFeature,r=!t.terria.configParameters.disableSplitter&&t.supportsSplitting&&(0,u.default)(t.splitDirection)&&t.terria.currentViewer.canShowSplitter,o=(e={},i(e,O.default.noZoom,!n),i(e,O.default.noSplit,!r),i(e,O.default.noInfo,!t.showsInfo),e);return v.default.createElement("ul",{className:O.default.control},t.canZoomTo?[v.default.createElement("li",{className:(0,I.default)(O.default.zoom,o),key:"0"},v.default.createElement("button",{type:"button",onClick:this.zoomTo,title:"Zoom to extent",className:O.default.btn},"Zoom To Extent")),v.default.createElement("span",{className:O.default.separator,key:"1"})]:null,t.tableStructure&&t.tableStructure.sourceFeature?[v.default.createElement("li",{className:(0,I.default)(O.default.zoom,o),key:"0"},v.default.createElement("button",{type:"button",onClick:this.openFeature,title:"Zoom to data",className:O.default.btn},"Zoom To")),v.default.createElement("span",{className:O.default.separator,key:"1"})]:null,t.showsInfo?[v.default.createElement("li",{className:(0,I.default)(O.default.info,o),key:"0"},v.default.createElement("button",{type:"button",onClick:this.previewItem,className:O.default.btn,title:"info"},"About This Data")),v.default.createElement("span",{className:O.default.separator,key:"1"})]:null,r?[v.default.createElement("li",{className:(0,I.default)(O.default.split,o),key:"0"},v.default.createElement("button",{type:"button",onClick:this.splitItem,title:"Duplicate and show splitter",className:O.default.btn},"Split")),v.default.createElement("span",{className:O.default.separator,key:"1"})]:null,(0,u.default)(t.linkedWcsUrl)?[v.default.createElement("li",{className:(0,I.default)(O.default.info,o),key:"0"},v.default.createElement("button",{type:"button",onClick:this.exportData,className:O.default.btn,title:"Export map data"},"Export")),v.default.createElement("span",{className:O.default.separator,key:"1"})]:null,v.default.createElement("li",{className:(0,I.default)(O.default.remove,o)},v.default.createElement("button",{type:"button",onClick:this.removeFromMap,title:"Remove this data",className:O.default.btn},"Remove ",v.default.createElement(d.default,{glyph:d.default.GLYPHS.remove}))))}});e.exports=k},function(e,t){e.exports={control:"tjs-viewing-controls__control tjs-_base__list-reset",separator:"tjs-viewing-controls__separator",remove:"tjs-viewing-controls__remove",btn:"tjs-viewing-controls__btn tjs-_buttons__btn"}},function(e,t){e.exports={"workbench-item":"tjs-workbench-item__workbench-item",workbenchItem:"tjs-workbench-item__workbench-item","is-open":"tjs-workbench-item__is-open",isOpen:"tjs-workbench-item__is-open","btn--toggle":"tjs-workbench-item__btn--toggle",btnToggle:"tjs-workbench-item__btn-toggle tjs-_buttons__btn",inner:"tjs-workbench-item__inner tjs-_base__clearfix",header:"tjs-workbench-item__header tjs-_base__list-reset","header-clearfix":"tjs-workbench-item__header-clearfix tjs-_base__clearfix",headerClearfix:"tjs-workbench-item__header-clearfix tjs-_base__clearfix",visibilityColumn:"tjs-workbench-item__visibilityColumn tjs-_base__col tjs-_base__col-1","btn-visibility":"tjs-workbench-item__btn-visibility tjs-_buttons__btn",btnVisibility:"tjs-workbench-item__btn-visibility tjs-_buttons__btn",nameColumn:"tjs-workbench-item__nameColumn tjs-_base__col tjs-_base__col-10",toggleColumn:"tjs-workbench-item__toggleColumn tjs-_base__col tjs-_base__col-1","btn-toggle":"tjs-workbench-item__btn-toggle tjs-_buttons__btn",iconLineChart:"tjs-workbench-item__iconLineChart",draggable:"tjs-workbench-item__draggable"}},function(e,t){e.exports={"workbench-content":"tjs-workbench-list__workbench-content tjs-_base__list-reset tjs-_base__scrollbars",workbenchContent:"tjs-workbench-list__workbench-content tjs-_base__list-reset tjs-_base__scrollbars","is-active":"tjs-workbench-list__is-active tjs-_drop_zone__is-active",isActive:"tjs-workbench-list__is-active tjs-_drop_zone__is-active","drop-zone":"tjs-workbench-list__drop-zone tjs-_drop_zone__drop-zone tjs-_base__clearfix",dropZone:"tjs-workbench-list__drop-zone tjs-_drop_zone__drop-zone tjs-_base__clearfix"}},function(e,t,n){var r=n(1892);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0};i.transform=void 0;n(417)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(416)(!0),t.push([e.i,'/* pre-built style */\n.ui-sortable {\n  display: block;\n  position: relative;\n  overflow: visible;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n.ui-sortable:before,\n.ui-sortable:after{\n  content: " ";\n  display: table;\n}\n\n.ui-sortable:after{\n  clear: both;\n}\n\n.ui-sortable .ui-sortable-item {\n  float: left;\n  cursor: move;\n}\n\n.ui-sortable .ui-sortable-item.ui-sortable-dragging {\n  position: absolute;\n  z-index: 1688;\n}\n\n.ui-sortable .ui-sortable-placeholder {\n  display: none;\n}\n\n.ui-sortable .ui-sortable-placeholder.visible {\n  display: block;\n  z-index: -1;\n}\n',"",{version:3,sources:["/home/remy/Calypso/Software/TerriaMapStatic2/node_modules/react-anything-sortable/sortable.css"],names:[],mappings:"AAAA,qBAAqB;AACrB;EACE,eAAe;EACf,mBAAmB;EACnB,kBAAkB;EAClB,0BAA0B;EAC1B,uBAAuB;EACvB,kBAAkB;CACnB;;AAED;;EAEE,aAAa;EACb,eAAe;CAChB;;AAED;EACE,YAAY;CACb;;AAED;EACE,YAAY;EACZ,aAAa;CACd;;AAED;EACE,mBAAmB;EACnB,cAAc;CACf;;AAED;EACE,cAAc;CACf;;AAED;EACE,eAAe;EACf,YAAY;CACb",file:"sortable.css",sourcesContent:['/* pre-built style */\n.ui-sortable {\n  display: block;\n  position: relative;\n  overflow: visible;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n}\n\n.ui-sortable:before,\n.ui-sortable:after{\n  content: " ";\n  display: table;\n}\n\n.ui-sortable:after{\n  clear: both;\n}\n\n.ui-sortable .ui-sortable-item {\n  float: left;\n  cursor: move;\n}\n\n.ui-sortable .ui-sortable-item.ui-sortable-dragging {\n  position: absolute;\n  z-index: 1688;\n}\n\n.ui-sortable .ui-sortable-placeholder {\n  display: none;\n}\n\n.ui-sortable .ui-sortable-placeholder.visible {\n  display: block;\n  z-index: -1;\n}\n'],sourceRoot:""}])},function(e,t,n){var r=n(1894);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0};i.transform=void 0;n(417)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(416)(!0),t.push([e.i,".ui-sortable .ui-sortable-placeholder.visible {\n  opacity: .2;\n}\n","",{version:3,sources:["/home/remy/Calypso/Software/TerriaMapStatic2/node_modules/terriajs/lib/ReactViews/Workbench/sortable.css"],names:[],mappings:"AAAA;EACE,YAAY;CACb",file:"sortable.css",sourcesContent:[".ui-sortable .ui-sortable-placeholder.visible {\n  opacity: .2;\n}\n"],sourceRoot:""}])},function(e,t){e.exports={mobileModal:"tjs-mobile-modal-window__mobileModal tjs-_base__scrollbars",isOpen:"tjs-mobile-modal-window__isOpen",modalBg:"tjs-mobile-modal-window__modalBg tjs-_base__scrollbars","modal-top":"tjs-mobile-modal-window__modal-top",modalTop:"tjs-mobile-modal-window__modal-top",button:"tjs-mobile-modal-window__button tjs-_buttons__btn","done-button":"tjs-mobile-modal-window__done-button tjs-mobile-modal-window__button tjs-_buttons__btn",doneButton:"tjs-mobile-modal-window__done-button tjs-mobile-modal-window__button tjs-_buttons__btn","back-button":"tjs-mobile-modal-window__back-button tjs-mobile-modal-window__button tjs-_buttons__btn",backButton:"tjs-mobile-modal-window__back-button tjs-mobile-modal-window__button tjs-_buttons__btn","back-button--inactive":"tjs-mobile-modal-window__back-button--inactive",backButtonInactive:"tjs-mobile-modal-window__back-button--inactive","icon-back":"tjs-mobile-modal-window__icon-back",iconBack:"tjs-mobile-modal-window__icon-back","data-catalog":"tjs-mobile-modal-window__data-catalog tjs-data-catalog-tab__data-catalog tjs-_base__list-reset tjs-_base__scrollbars",dataCatalog:"tjs-mobile-modal-window__data-catalog tjs-data-catalog-tab__data-catalog tjs-_base__list-reset tjs-_base__scrollbars"}},function(e,t){e.exports={ui:"tjs-mobile-header__ui","mobile-header":"tjs-mobile-header__mobile-header tjs-_base__sm-hide tjs-_base__clearfix",mobileHeader:"tjs-mobile-header__mobile-header tjs-_base__sm-hide tjs-_base__clearfix",btn:"tjs-mobile-header__btn tjs-_buttons__btn tjs-_buttons__btn-primary","btn-add":"tjs-mobile-header__btn-add tjs-mobile-header__btn tjs-_buttons__btn tjs-_buttons__btn-primary",btnAdd:"tjs-mobile-header__btn-add tjs-mobile-header__btn tjs-_buttons__btn tjs-_buttons__btn-primary","btn-search":"tjs-mobile-header__btn-search tjs-mobile-header__btn tjs-_buttons__btn tjs-_buttons__btn-primary",btnSearch:"tjs-mobile-header__btn-search tjs-mobile-header__btn tjs-_buttons__btn tjs-_buttons__btn-primary","btn-now-viewing":"tjs-mobile-header__btn-now-viewing tjs-mobile-header__btn tjs-_buttons__btn tjs-_buttons__btn-primary",btnNowViewing:"tjs-mobile-header__btn-now-viewing tjs-mobile-header__btn tjs-_buttons__btn tjs-_buttons__btn-primary",nowViewingCount:"tjs-mobile-header__nowViewingCount",doubleDigit:"tjs-mobile-header__doubleDigit","group-left":"tjs-mobile-header__group-left",groupLeft:"tjs-mobile-header__group-left","group-right":"tjs-mobile-header__group-right",groupRight:"tjs-mobile-header__group-right",btnMenu:"tjs-mobile-header__btnMenu tjs-_buttons__btn","form-search-data":"tjs-mobile-header__form-search-data",formSearchData:"tjs-mobile-header__form-search-data"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=r(o),s=n(8),u=r(s),l=n(5),c=r(l),h=n(11),d=r(h),f=n(28),p=r(f),m=n(400),g=r(m),_=n(732),v=r(_),A=n(733),y=r(A),b=n(395),w=r(b),x=n(691),E=r(x),C=n(1898),S=r(C),T=(0,u.default)({displayName:"MobileMenu",mixins:[d.default],propTypes:{menuItems:c.default.arrayOf(c.default.element),viewState:c.default.instanceOf(E.default).isRequired,showFeedback:c.default.bool,terria:c.default.instanceOf(w.default).isRequired,allBaseMaps:c.default.array.isRequired},getDefaultProps:function(){return{menuItems:[],showFeedback:!1}},toggleMenu:function(){this.props.viewState.mobileMenuVisible=!this.props.viewState.mobileMenuVisible},getInitialState:function(){return{}},onFeedbackFormClick:function(){this.props.viewState.feedbackFormIsVisible=!0,this.props.viewState.mobileMenuVisible=!1},hideMenu:function(){this.props.viewState.mobileMenuVisible=!1},render:function(){return a.default.createElement("div",null,this.props.viewState.mobileMenuVisible?a.default.createElement("div",{className:S.default.overlay,onClick:this.toggleMenu}):null,a.default.createElement("div",{className:(0,p.default)(S.default.mobileNav,i({},S.default.mobileNavHidden,!this.props.viewState.mobileMenuVisible))},a.default.createElement("div",{onClick:this.hideMenu},a.default.createElement(v.default,{terria:this.props.terria,allBaseMaps:this.props.allBaseMaps,viewState:this.props.viewState})),a.default.createElement("div",{onClick:this.hideMenu},a.default.createElement(y.default,{terria:this.props.terria,viewState:this.props.viewState})),this.props.menuItems.map(function(e,t){return a.default.createElement("div",{onClick:this.hideMenu,key:e.key},e)},this),this.props.showFeedback?a.default.createElement(g.default,{onClick:this.onFeedbackFormClick,caption:"Give Feedback"}):null))}});t.default=T},function(e,t){e.exports={overlay:"tjs-mobile-menu__overlay","mobile-nav":"tjs-mobile-menu__mobile-nav tjs-_base__list-reset",mobileNav:"tjs-mobile-menu__mobile-nav tjs-_base__list-reset","mobile-nav--hidden":"tjs-mobile-menu__mobile-nav--hidden",mobileNavHidden:"tjs-mobile-menu__mobile-nav--hidden"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(11),o=r(i),a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(1900),f=r(d),p=n(740),m=r(p),g=(0,l.default)({displayName:"Notification",mixins:[o.default],propTypes:{viewState:h.default.object},confirm:function(){var e=this.props.viewState.notifications[0];e&&e.confirmAction&&e.confirmAction(),this.close(e)},deny:function(){var e=this.props.viewState.notifications[0];e&&e.denyAction&&e.denyAction(),this.close(e)},close:function(e){this.props.viewState.notifications.splice(0,1),e&&e.hideUi&&(0,m.default)()},render:function(){var e=this.props.viewState.notifications[0]||null;return e&&s.default.createElement(f.default,{title:e.title,message:e.message,confirmText:e.confirmText,denyText:e.denyText,onConfirm:this.confirm,onDeny:this.deny})}});e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(11),o=r(i),a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(127),f=r(d),p=n(1901),m=r(p),g=(0,l.default)({displayName:"NotificationWindow",mixins:[o.default],propTypes:{title:h.default.string.isRequired,message:h.default.string.isRequired,confirmText:h.default.string,denyText:h.default.string,onConfirm:h.default.func.isRequired,onDeny:h.default.func.isRequired},confirm:function(e){e.stopPropagation(),this.props.onConfirm&&this.props.onConfirm()},deny:function(e){e.stopPropagation(),this.props.onDeny&&this.props.onDeny()},render:function(){var e=this.props.title,t=this.props.message,n=this.props.confirmText||"OK",r=this.props.denyText;return s.default.createElement("div",{className:m.default.wrapper},s.default.createElement("div",{className:m.default.notification},s.default.createElement("div",{className:m.default.inner},s.default.createElement("h3",{className:"title"},e),"localhost:3001"===window.location.host&&e.toLowerCase().indexOf("error")>=0&&s.default.createElement("div",null,s.default.createElement("img",{src:"./build/TerriaJS/images/feature.gif"})),s.default.createElement("div",{className:m.default.body},(0,f.default)(t))),s.default.createElement("div",{className:m.default.footer},s.default.createElement("button",{type:"button",className:m.default.btn,onClick:this.confirm},n),r?s.default.createElement("button",{type:"button",className:m.default.btn,onClick:this.deny},r):null)))}});e.exports=g},function(e,t){e.exports={wrapper:"tjs-notification-window__wrapper tjs-_base__flex",notification:"tjs-notification-window__notification",title:"tjs-notification-window__title tjs-_base__h3",inner:"tjs-notification-window__inner tjs-_base__scrollbars",footer:"tjs-notification-window__footer",body:"tjs-notification-window__body",btn:"tjs-notification-window__btn tjs-_buttons__btn"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(4),a=r(o),s=n(5),u=r(s),l=n(8),c=r(l),h=n(217),d=r(h),f=n(28),p=r(f),m=n(1903),g=r(m),_=(0,c.default)({displayName:"ProgressBar",propTypes:{terria:u.default.object.isRequired},getInitialState:function(){return{visible:"hidden"}},UNSAFE_componentWillMount:function(){this.eventHelper=new d.default,this.eventHelper.add(this.props.terria.tileLoadProgressEvent,this.setProgress),this.eventHelper.add(this.props.terria.beforeViewerChanged,this.setProgress.bind(this,0,0))},setProgress:function(e,t){var n=100*(1-e/t),r=Math.floor(e>0?n:100);this.setState({percentage:r})},componentWillUnmount:function(){this.eventHelper.removeAll()},render:function(){var e=this.state.percentage+"%",t=this.state.percentage<100?"visible":"hidden",n=100===this.state.percentage;return a.default.createElement("div",{className:(0,p.default)(g.default.progressBar,i({},g.default.complete,n)),style:{visibility:t,width:e}})}});e.exports=_},function(e,t){e.exports={"progress-bar":"tjs-progress-bar__progress-bar",progressBar:"tjs-progress-bar__progress-bar",complete:"tjs-progress-bar__complete"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(4),o=r(i),a=n(8),s=r(a),u=n(5),l=r(u),c=n(13),h=r(c),d=n(11),f=r(d),p=n(415),m=r(p),g=n(1905),_=r(g),v=n(1910),A=r(v),y=n(30),b=r(y),w=n(742),x=r(w),E=n(180),C=n(1913),S=r(C),T=(0,s.default)({displayName:"SidePanel",mixins:[f.default],propTypes:{terria:l.default.object.isRequired,viewState:l.default.object.isRequired},componentDidMount:function(){this.subscribeToProps()},componentDidUpdate:function(){this.subscribeToProps()},componentWillUnmount:function(){this.unsubscribeFromProps()},subscribeToProps:function(){var e=this;this.unsubscribeFromProps(),this._nowViewingChangeSubscription=h.default.getObservable(this.props.terria.nowViewing,"items").subscribe(function(){e.props.viewState.searchState.showLocationSearchResults=!1})},unsubscribeFromProps:function(){this._nowViewingChangeSubscription&&(this._nowViewingChangeSubscription.dispose(),this._nowViewingChangeSubscription=void 0)},onAddDataClicked:function(){this.props.viewState.openAddData()},changeSearchText:function(e){this.props.viewState.searchState.locationSearchText=e,0===e.length&&(0,E.removeMarker)(this.props.terria)},search:function(){this.props.viewState.searchState.searchLocations()},startLocationSearch:function(){this.props.viewState.searchState.showLocationSearchResults=!0},render:function(){var e=this.props.viewState.searchState;return o.default.createElement("div",{className:S.default.workBench},o.default.createElement("div",{className:S.default.header},o.default.createElement(x.default,{terria:this.props.terria,viewState:this.props.viewState,minified:!0,animationDuration:250}),o.default.createElement(m.default,{onSearchTextChanged:this.changeSearchText,onDoSearch:this.search,onFocus:this.startLocationSearch,searchText:e.locationSearchText,placeholder:"Search for locations"}),o.default.createElement("div",{className:S.default.addData},o.default.createElement("button",{type:"button",onClick:this.onAddDataClicked,className:S.default.button},o.default.createElement(b.default,{glyph:b.default.GLYPHS.add}),"Add data"))),o.default.createElement("div",{className:S.default.body},e.locationSearchText.length>0&&e.showLocationSearchResults?o.default.createElement(_.default,{terria:this.props.terria,viewState:this.props.viewState,isWaitingForSearchToStart:e.isWaitingToStartLocationSearch}):this.props.terria.nowViewing.items&&this.props.terria.nowViewing.items.length>0?o.default.createElement(A.default,{viewState:this.props.viewState,terria:this.props.terria}):o.default.createElement("div",{className:S.default.workbenchEmpty},o.default.createElement("div",null,"Your workbench is empty"),o.default.createElement("p",null,o.default.createElement("strong",null,"Click 'Add data' above to:")),o.default.createElement("ul",null,o.default.createElement("li",null,"Browse the Data Catalogue"),o.default.createElement("li",null,"Load your own data onto the map")),o.default.createElement("p",null,o.default.createElement(b.default,{glyph:b.default.GLYPHS.bulb}),o.default.createElement("strong",null,"TIP:")," ",o.default.createElement("em",null,"All your active data sets will be listed here")))))}});e.exports=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(11),o=r(i),a=n(4),s=r(a),u=n(8),l=r(u),c=n(5),h=r(c),d=n(741),f=r(d),p=n(1907),m=r(p),g=n(736),_=r(g),v=n(1908),A=r(v),y=n(180),b=(0,l.default)({displayName:"SidebarSearch",mixins:[o.default],propTypes:{viewState:h.default.object.isRequired,isWaitingForSearchToStart:h.default.bool,terria:h.default.object.isRequired},backToNowViewing:function(){this.props.viewState.searchState.showLocationSearchResults=!1},onLocationClick:function(e){(0,y.addMarker)(this.props.terria,e),e.clickAction()},render:function(){return s.default.createElement("div",{className:m.default.search},s.default.createElement("div",{className:m.default.results},s.default.createElement(f.default,{label:"Search Results"},s.default.createElement("button",{type:"button",onClick:this.backToNowViewing,className:m.default.btnDone},"Done")),s.default.createElement("div",{className:m.default.resultsContent},this.props.viewState.searchState.locationSearchText.length>0?s.default.createElement(A.default,{terria:this.props.terria,viewState:this.props.viewState}):null,this.props.viewState.searchState.locationSearchProviders.map(function(e,t){return s.default.createElement(_.default,{key:e.name,terria:this.props.terria,viewState:this.props.viewState,search:e,onLocationClick:this.onLocationClick,isWaitingForSearchToStart:this.props.isWaitingForSearchToStart})},this))))}});e.exports=b},function(e,t){e.exports={header:"tjs-badge-bar__header tjs-_base__sm-show tjs-_base__clearfix tjs-_base__list-reset","label-badge":"tjs-badge-bar__label-badge",labelBadge:"tjs-badge-bar__label-badge"}},function(e,t){e.exports={results:"tjs-sidebar-search__results","results-content":"tjs-sidebar-search__results-content tjs-_base__scrollbars",resultsContent:"tjs-sidebar-search__results-content tjs-_base__scrollbars",heading:"tjs-sidebar-search__heading tjs-_base__h4","provider-result":"tjs-sidebar-search__provider-result",providerResult:"tjs-sidebar-search__provider-result",items:"tjs-sidebar-search__items",btnList:"tjs-sidebar-search__btnList tjs-_base__clearfix tjs-_base__list-reset","btn--done":"tjs-sidebar-search__btn--done tjs-_buttons__btn undefined tjs-_buttons__btn--tertiary-dark",btnDone:"tjs-sidebar-search__btn--done tjs-_buttons__btn undefined tjs-_buttons__btn--tertiary-dark"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(11),a=r(o),s=n(4),u=r(s),l=n(8),c=r(l),h=n(5),d=r(h),f=n(418),p=r(f),m=n(28),g=r(m),_=n(30),v=r(_),A=n(1909),y=r(A),b=(0,c.default)({displayName:"SideBarDatasetSearchResults",mixins:[a.default],propTypes:{viewState:d.default.object.isRequired,terria:d.default.object.isRequired,theme:d.default.string},getDefaultProps:function(){return{theme:"dark"}},getInitialState:function(){return{isOpen:!0}},searchInDataCatalog:function(){this.props.viewState.searchInCatalog(this.props.viewState.searchState.locationSearchText)},toggleGroup:function(){this.setState({isOpen:!this.state.isOpen})},render:function(){var e;return u.default.createElement("div",{key:"data",className:(0,g.default)(y.default.providerResult,(e={},i(e,y.default.isOpen,this.state.isOpen),i(e,y.default.dark,"dark"===this.props.theme),i(e,y.default.light,"light"===this.props.theme),e))},u.default.createElement("button",{onClick:this.toggleGroup,className:y.default.heading},u.default.createElement("span",null,"Data"),u.default.createElement(v.default,{glyph:this.state.isOpen?v.default.GLYPHS.opened:v.default.GLYPHS.closed})),u.default.createElement("ul",{className:y.default.items},u.default.createElement(p.default,{clickAction:this.searchInDataCatalog,icon:"data",name:'Search for "'+this.props.viewState.searchState.locationSearchText+'" in the Data Catalogue'})))}});e.exports=b},function(e,t){e.exports={heading:"tjs-sidebar-dataset-search-results__heading tjs-_buttons__btn","provider-result":"tjs-sidebar-dataset-search-results__provider-result",providerResult:"tjs-sidebar-dataset-search-results__provider-result",items:"tjs-sidebar-dataset-search-results__items tjs-_base__clearfix tjs-_base__list-reset",light:"tjs-sidebar-dataset-search-results__light",dark:"tjs-sidebar-dataset-search-results__dark",isOpen:"tjs-sidebar-dataset-search-results__isOpen"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(741),o=r(i),a=n(30),s=r(a),u=n(11),l=r(u),c=n(4),h=r(c),d=n(8),f=r(d),p=n(5),m=r(p),g=n(737),_=r(g),v=n(1911),A=r(v),y=(0,f.default)({displayName:"Workbench",mixins:[l.default],propTypes:{terria:m.default.object.isRequired,viewState:m.default.object.isRequired},removeAll:function(){this.props.terria.nowViewing.removeAll()},render:function(){return h.default.createElement("div",{className:A.default.workbench},h.default.createElement(o.default,{label:"Data Sets",badge:this.props.terria.nowViewing.items.length},h.default.createElement("button",{type:"button",onClick:this.removeAll,className:A.default.removeButton},"Remove All ",h.default.createElement(s.default,{glyph:s.default.GLYPHS.remove}))),h.default.createElement(_.default,{viewState:this.props.viewState,terria:this.props.terria}))}});t.default=y},function(e,t){e.exports={"remove-button":"tjs-workbench__remove-button tjs-_buttons__btn",removeButton:"tjs-workbench__remove-button tjs-_buttons__btn"}},function(e,t){e.exports={"full-screen":"tjs-full_screen_button__full-screen",fullScreen:"tjs-full_screen_button__full-screen",minifiedFullscreenBtnWrapper:"tjs-full_screen_button__minifiedFullscreenBtnWrapper",btn:"tjs-full_screen_button__btn tjs-_buttons__btn tjs-_buttons__btn--map",minified:"tjs-full_screen_button__minified",enter:"tjs-full_screen_button__enter",exit:"tjs-full_screen_button__exit"}},function(e,t){e.exports={workBench:"tjs-side-panel__workBench",workbenchEmpty:"tjs-side-panel__workbenchEmpty",header:"tjs-side-panel__header",body:"tjs-side-panel__body",addData:"tjs-side-panel__addData",button:"tjs-side-panel__button tjs-_buttons__btn tjs-_buttons__btn-primary"}},function(e,t,n){"use strict";function r(e,t){return u.default.Children.toArray(t).reduce(function(t,n){var r=o(n);return t[r]=t[r].concat(a(e,n)),t},i())}function i(){return h.reduce(function(e,t){return e[t]=[],e},{})}function o(e){return h.filter(function(t){return e.type===c[t]})[0]}function a(e,t){return u.default.Children.map(t.props.children,function(t){return"string"==typeof t?u.default.createElement("span",null,t):t&&t.type.propTypes&&t.type.propTypes.smallScreen?u.default.cloneElement(t,{smallScreen:e}):t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var s=n(4),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(693),c={menu:l.Menu,nav:l.Nav,experimentalMenu:l.ExperimentalMenu},h=Object.keys(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return c.default.createElement(d.default,{maxWidth:m},e.children)}function o(e){return c.default.createElement(d.default,{maxWidth:m-1},e.children)}function a(e){return c.default.createElement(d.default,{minWidth:m},e.children)}function s(e){return c.default.createElement(d.default,{minWidth:g},e.children)}function u(e){return c.default.createElement(d.default,{minWidth:_},e.children)}Object.defineProperty(t,"__esModule",{value:!0}),t.ExtraSmall=i,t.Small=o,t.Medium=a,t.Large=s,t.ExtraLarge=u;var l=n(4),c=r(l),h=n(1916),d=r(h),f=n(5),p=r(f),m=768,g=992,_=1300;i.propTypes={children:p.default.element},o.propTypes={children:p.default.element},a.propTypes={children:p.default.element},s.propTypes={children:p.default.element},u.propTypes={children:p.default.element}},function(e,t,n){!function(t,r){e.exports=r(n(4))}("undefined"!=typeof self&&self,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r};e.exports=n(6)(i,!0)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return e in a?a[e]:a[e]=e.replace(i,"-$&").toLowerCase().replace(o,"-ms-")}var i=/[A-Z]/g,o=/^ms-/,a={};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=o.default.oneOfType([o.default.string,o.default.number]),s={orientation:o.default.oneOf(["portrait","landscape"]),scan:o.default.oneOf(["progressive","interlace"]),aspectRatio:o.default.string,deviceAspectRatio:o.default.string,height:a,deviceHeight:a,width:a,deviceWidth:a,color:o.default.bool,colorIndex:o.default.bool,monochrome:o.default.bool,resolution:a},u=r({minAspectRatio:o.default.string,maxAspectRatio:o.default.string,minDeviceAspectRatio:o.default.string,maxDeviceAspectRatio:o.default.string,minHeight:a,maxHeight:a,minDeviceHeight:a,maxDeviceHeight:a,minWidth:a,maxWidth:a,minDeviceWidth:a,maxDeviceWidth:a,minColor:o.default.number,maxColor:o.default.number,minColorIndex:o.default.number,maxColorIndex:o.default.number,minMonochrome:o.default.number,maxMonochrome:o.default.number,minResolution:a,maxResolution:a},s),l={all:o.default.bool,grid:o.default.bool,aural:o.default.bool,braille:o.default.bool,handheld:o.default.bool,print:o.default.bool,projection:o.default.bool,screen:o.default.bool,tty:o.default.bool,tv:o.default.bool,embossed:o.default.bool},c=r({},l,u);s.type=Object.keys(l),t.default={all:c,types:l,matchers:s,features:u},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=l({},e);return t.forEach(function(e){return delete n[e]}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.toQuery=t.default=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(5),h=r(c),d=n(0),f=r(d),p=n(9),m=r(p),g=n(2),_=r(g),v=n(3),A=r(v),y=n(11),b=r(y),w={component:f.default.node,query:f.default.string,values:f.default.shape(A.default.matchers),children:f.default.oneOfType([f.default.node,f.default.func]),onChange:f.default.func,onBeforeChange:f.default.func},x=Object.keys(A.default.all),E=Object.keys(w),C=E.concat(x),S=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={matches:!1},r.updateMatches=function(){r._mql.matches!==r.state.matches&&r.setState({matches:r._mql.matches})},r.removeMql=function(){r._mql&&(r._mql.removeListener(r.updateMatches),r._mql.dispose())},a=n,o(r,a)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.updateQuery(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.updateQuery(e)}},{key:"updateQuery",value:function(e){var t=void 0,n=!1;if(e.query?this.query=e.query:this.query=(0,b.default)(s(e,E)),!this.query)throw new Error("Invalid or missing MediaQuery!");e.values&&(t=Object.keys(e.values).reduce(function(t,n){return t[(0,_.default)(n)]=e.values[n],t},{}),0!==Object.keys(t).length&&(n=!0)),this.removeMql(),this._mql=(0,m.default)(this.query,t,n),this._mql.addListener(this.updateMatches),this.updateMatches()}},{key:"componentWillUpdate",value:function(e,t){this.props.onBeforeChange&&this.state.matches!==t.matches&&this.props.onBeforeChange(this.state.matches)}},{key:"componentDidUpdate",value:function(e,t){this.props.onChange&&t.matches!==this.state.matches&&this.props.onChange(this.state.matches)}},{key:"componentWillUnmount",value:function(){this.removeMql()}},{key:"render",value:function(){if("function"==typeof this.props.children)return this.props.children(this.state.matches);if(!1===this.state.matches)return null;var e=s(this.props,C),t=Object.keys(e).length>0,n=h.default.Children.count(this.props.children);return this.props.component||null==this.props.children||t&&n>1?h.default.createElement(this.props.component||"div",e,this.props.children):t?h.default.cloneElement(this.props.children,e):n?this.props.children:null}}]),t}(h.default.Component);S.displayName="MediaQuery",S.defaultProps={values:{}},t.default=S,t.toQuery=b.default},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(){return null}var i=n(7),o=n(1),a=n(8),s=function(){};s=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=function(e,t){function n(e){var t=e&&(C&&e[C]||e[S]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function l(e){this.message=e,this.stack=""}function c(e){function n(n,a,u,c,h,d,f){if(c=c||T,d=d||u,f!==o){if(t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}if("undefined"!=typeof console){var m=c+":"+u;!r[m]&&i<3&&(s("You are manually calling a React.PropTypes validation function for the `"+d+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),r[m]=!0,i++)}}return null==a[u]?n?new l(null===a[u]?"The "+h+" `"+d+"` is marked as required in `"+c+"`, but its value is `null`.":"The "+h+" `"+d+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(a,u,c,h,d)}var r={},i=0,a=n.bind(null,!1);return a.isRequired=n.bind(null,!0),a}function h(e){function t(t,n,r,i,o,a){var s=t[n];return b(s)!==e?new l("Invalid "+i+" `"+o+"` of type `"+w(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return c(t)}function d(e){function t(t,n,r,i,a){if("function"!=typeof e)return new l("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new l("Invalid "+i+" `"+a+"` of type `"+b(s)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<s.length;u++){var c=e(s,u,r,i,a+"["+u+"]",o);if(c instanceof Error)return c}return null}return c(t)}function f(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||T;return new l("Invalid "+i+" `"+o+"` of type `"+E(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return c(t)}function p(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new l("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?c(t):(s("Invalid argument supplied to oneOf, expected an instance of array."),r)}function m(e){function t(t,n,r,i,a){if("function"!=typeof e)return new l("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=b(s);if("object"!==u)return new l("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var h=e(s,c,r,i,a+"."+c,o);if(h instanceof Error)return h}return null}return c(t)}function g(e){function t(t,n,r,i,a){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,i,a,o))return null;return new l("Invalid "+i+" `"+a+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return s("Invalid argument supplied to oneOfType, expected an instance of array."),r;for(var n=0;n<e.length;n++){var i=e[n];if("function"!=typeof i)return s("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+x(i)+" at index "+n+"."),r}return c(t)}function _(e){function t(t,n,r,i,a){var s=t[n],u=b(s);if("object"!==u)return new l("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var h=e[c];if(h){var d=h(s,c,r,i,a+"."+c,o);if(d)return d}}return null}return c(t)}function v(e){function t(t,n,r,a,s){var u=t[n],c=b(u);if("object"!==c)return new l("Invalid "+a+" `"+s+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var h=i({},t[n],e);for(var d in h){var f=e[d];if(!f)return new l("Invalid "+a+" `"+s+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=f(u,d,r,a,s+"."+d,o);if(p)return p}return null}return c(t)}function A(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(A);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!A(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!A(a[1]))return!1}return!0;default:return!1}}function y(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function b(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":y(t,e)?"symbol":t}function w(e){if(void 0===e||null===e)return""+e;var t=b(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function x(e){var t=w(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function E(e){return e.constructor&&e.constructor.name?e.constructor.name:T}var C="function"==typeof Symbol&&Symbol.iterator,S="@@iterator",T="<<anonymous>>",I={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:function(){return c(r)}(),arrayOf:d,element:function(){function t(t,n,r,i,o){var a=t[n];return e(a)?null:new l("Invalid "+i+" `"+o+"` of type `"+b(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return c(t)}(),instanceOf:f,node:function(){function e(e,t,n,r,i){return A(e[t])?null:new l("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return c(e)}(),objectOf:m,oneOf:p,oneOfType:g,shape:_,exact:v};return l.prototype=Error.prototype,I.checkPropTypes=a,I.PropTypes=I,I}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)o.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t,n){"use strict";function r(e,t,n,r,s){for(var u in e)if(e.hasOwnProperty(u)){var l;try{if("function"!=typeof e[u]){var c=Error((r||"React class")+": "+n+" type `"+u+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[u]+"`.");throw c.name="Invariant Violation",c}l=e[u](t,u,r,n,null,o)}catch(e){l=e}if(!l||l instanceof Error||i((r||"React class")+": type specification of "+n+" `"+u+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof l+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),l instanceof Error&&!(l.message in a)){a[l.message]=!0;var h=s?s():"";i("Failed "+n+" type: "+l.message+(null!=h?h:""))}}}var i=function(){},o=n(1),a={};i=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){function r(e){c&&c.addListener(e)}function i(e){c&&c.removeListener(e)}function s(e){l.matches=e.matches,l.media=e.media}function u(){c&&c.removeListener(s)}var l=this;if(a&&!n){var c=a.call(window,e);this.matches=c.matches,this.media=c.media,c.addListener(s)}else this.matches=o(e,t),this.media=e;this.addListener=r,this.removeListener=i,this.dispose=u}function i(e,t,n){return new r(e,t,n)}var o=n(10).match,a="undefined"!=typeof window?window.matchMedia:null;e.exports=i},function(e,t,n){"use strict";function r(e,t){return i(e).some(function(e){var n=e.inverse,r="all"===e.type||t.type===e.type;if(r&&n||!r&&!n)return!1;var i=e.expressions.every(function(e){var n=e.feature,r=e.modifier,i=e.value,u=t[n];if(!u)return!1;switch(n){case"orientation":case"scan":return u.toLowerCase()===i.toLowerCase();case"width":case"height":case"device-width":case"device-height":i=s(i),u=s(u);break;case"resolution":i=a(i),u=a(u);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":i=o(i),u=o(u);break;case"grid":case"color":case"color-index":case"monochrome":i=parseInt(i,10)||1,u=parseInt(u,10)||0}switch(r){case"min":return u>=i;case"max":return u<=i;default:return u===i}});return i&&!n||!i&&n})}function i(e){return e.split(",").map(function(e){e=e.trim();var t=e.match(u),n=t[1],r=t[2],i=t[3]||"",o={};return o.inverse=!!n&&"not"===n.toLowerCase(),o.type=r?r.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],o.expressions=i.map(function(e){var t=e.match(l),n=t[1].toLowerCase().match(c);return{modifier:n[1],feature:n[2],value:t[2]}}),o})}function o(e){var t,n=Number(e);return n||(t=e.match(/^(\d+)\s*\/\s*(\d+)$/),n=t[1]/t[2]),n}function a(e){var t=parseFloat(e);switch(String(e).match(d)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function s(e){var t=parseFloat(e);switch(String(e).match(h)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}t.match=r,t.parse=i;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,l=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,c=/^(?:(min|max)-)?(.+)/,h=/(em|rem|px|cm|mm|in|pt|pc)?$/,d=/(dpi|dpcm|dppx)?$/},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=(0,s.default)(e);return"number"==typeof t&&(t+="px"),!0===t?e:!1===t?c(e):"("+n+": "+t+")"}function o(e){return e.join(" and ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];return Object.keys(l.default.all).forEach(function(n){var r=e[n];null!=r&&t.push(i(n,r))}),o(t)};var a=n(2),s=r(a),u=n(3),l=r(u),c=function(e){return"not "+e};e.exports=t.default}])})},function(e,t){/*! iNoBounce - v0.1.6
* https://github.com/lazd/iNoBounce/
* Copyright (c) 2013 Larry Davis <lazdnet@gmail.com>; Licensed BSD */
!function(t){var n=0,r=!1,i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,o)}catch(e){}var a=function(e){for(var t=e.target;t!==document.body&&t!==document;){var r=window.getComputedStyle(t);if(!r)break;if("INPUT"===t.nodeName&&"range"===t.getAttribute("type"))return;var i=r.getPropertyValue("-webkit-overflow-scrolling"),o=r.getPropertyValue("overflow-y"),a=parseInt(r.getPropertyValue("height"),10),s="touch"===i&&("auto"===o||"scroll"===o),u=t.scrollHeight>t.offsetHeight;if(s&&u){var l=e.touches?e.touches[0].screenY:e.screenY,c=n<=l&&0===t.scrollTop,h=n>=l&&t.scrollHeight-t.scrollTop===a;return void((c||h)&&e.preventDefault())}t=t.parentNode}e.preventDefault()},s=function(e){n=e.touches?e.touches[0].screenY:e.screenY},u=function(){window.addEventListener("touchstart",s,!!i&&{passive:!1}),window.addEventListener("touchmove",a,!!i&&{passive:!1}),r=!0},l=function(){window.removeEventListener("touchstart",s,!1),window.removeEventListener("touchmove",a,!1),r=!1},c=function(){return r},h=document.createElement("div");document.documentElement.appendChild(h),h.style.WebkitOverflowScrolling="touch";var d="getComputedStyle"in window&&"touch"===window.getComputedStyle(h)["-webkit-overflow-scrolling"];document.documentElement.removeChild(h),d&&u();var f={enable:u,disable:l,isEnabled:c};void 0!==e&&e.exports&&(e.exports=f),"function"==typeof t.define?function(e){e("iNoBounce",[],function(){return f})}(t.define):t.iNoBounce=f}(this)},function(e,t){e.exports={"ui-root":"tjs-standard-user-interface__ui-root",uiRoot:"tjs-standard-user-interface__ui-root",ui:"tjs-standard-user-interface__ui",explorerPanelIsVisible:"tjs-standard-user-interface__explorerPanelIsVisible",sidePanel:"tjs-standard-user-interface__sidePanel",map:"tjs-standard-user-interface__map",feedback:"tjs-standard-user-interface__feedback",featureInfo:"tjs-standard-user-interface__featureInfo",sidePanelHide:"tjs-standard-user-interface__sidePanelHide",showWorkbenchButton:"tjs-standard-user-interface__showWorkbenchButton",showWorkbenchButtonisVisible:"tjs-standard-user-interface__showWorkbenchButtonisVisible",showWorkbenchButtonisNotVisible:"tjs-standard-user-interface__showWorkbenchButtonisNotVisible",uiInner:"tjs-standard-user-interface__uiInner"}},function(e,t){e.exports=" (plus local modifications)"},function(e,t){},function(e,t,n){"use strict";var r=n(1922),i=n(743),o=n(107),a=n(371),s=function(e,t){var s=r(e,t),u=new o(e);u.name="Natural Earth II",u.url="http://geoserver.nationalmap.nicta.com.au/imagery/natural-earth-ii/wms",u.layers="natural-earth-ii:NE2_HR_LC_SR_W_DR",u.parameters={tiled:!0},u.opacity=1,u.isRequiredForRendering=!0,s.push(new i({image:n(1926),catalogItem:u}));var l=new o(e);l.name="NASA Black Marble",l.url="http://geoserver.nationalmap.nicta.com.au/imagery/nasa-black-marble/wms",l.layers="nasa-black-marble:dnb_land_ocean_ice.2012.54000x27000_geo",l.parameters={tiled:!0},l.opacity=1,l.isRequiredForRendering=!0,s.push(new i({image:n(1927),catalogItem:l}));var c=new a(e);c.name="Positron (Light)",c.url="https://global.ssl.fastly.net/light_all/",c.attribution="© OpenStreetMap contributors ODbL, © CartoDB CC-BY 3.0",c.opacity=1,c.subdomains=["cartodb-basemaps-a","cartodb-basemaps-b","cartodb-basemaps-c","cartodb-basemaps-d"],s.push(new i({image:n(1928),catalogItem:c,contrastColor:"#000000"}));var h=new a(e);return h.name="Dark Matter",h.url="https://global.ssl.fastly.net/dark_all/",h.attribution="© OpenStreetMap contributors ODbL, © CartoDB CC-BY 3.0",h.opacity=1,h.subdomains=["cartodb-basemaps-a","cartodb-basemaps-b","cartodb-basemaps-c","cartodb-basemaps-d"],s.push(new i({image:n(1929),catalogItem:h})),s};e.exports=s},function(e,t,n){"use strict";function r(e,t){var r=[],l=void 0,c=void 0,h=void 0;if(t&&!0!==e.configParameters.useCesiumIonBingImagery)l=new o(e),l.mapStyle=a.AERIAL_WITH_LABELS,l.key=t,c=new o(e),c.mapStyle=a.AERIAL,c.key=t,h=new o(e),h.mapStyle=a.ROAD,h.key=t;else{if(!1===e.configParameters.useCesiumIonBingImagery)return r;l=new s(e),l.ionAssetId=u.AERIAL_WITH_LABELS,c=new s(e),c.ionAssetId=u.AERIAL,h=new s(e),h.ionAssetId=u.ROAD}return l.name="Bing Maps Aerial with Labels",l.opacity=1,l.isRequiredForRendering=!0,r.push(new i({image:n(1923),catalogItem:l})),c.name="Bing Maps Aerial",c.opacity=1,c.isRequiredForRendering=!0,r.push(new i({image:n(1924),catalogItem:c})),h.name="Bing Maps Roads",h.opacity=1,h.isRequiredForRendering=!0,r.push(new i({image:n(1925),catalogItem:h,contrastColor:"#000000"})),r}var i=n(743),o=n(598),a=n(358),s=n(634),u=n(804);e.exports=r},function(e,t,n){e.exports=n.p+"e8eb95bd6372f96d215232179302a62b.png"},function(e,t,n){e.exports=n.p+"4aafb3b7853559abb1db69b58fcf9485.png"},function(e,t,n){e.exports=n.p+"bfc46f97e9326600d87c621f75228e72.png"},function(e,t,n){e.exports=n.p+"4c1c74c1188ef71b5b7811a39c869fc6.png"},function(e,t,n){e.exports=n.p+"fef17f4fcfcacf5023f408626ab309b3.png"},function(e,t,n){e.exports=n.p+"edf24bed40341489d0f3274ed9940bb5.png"},function(e,t,n){e.exports=n.p+"2a22ef6063533064bcfcb03dd0893d72.png"},function(e,t,n){"use strict";var r=n(0),i=n(13),o=function(e,t,n,o){function a(n){if(r(n))for(var i=0;i<t.length;++i)if(t[i].catalogItem.name===n)return e.baseMap=t[i].catalogItem,e.baseMapContrastColor=t[i].contrastColor,e.baseMap}if(i.getObservable(e,"baseMapName").subscribe(function(){a(e.baseMapName)}),0!==t.length){var s;return o&&(s=a(e.getLocalProperty("basemap"))),s=s||a(e.baseMapName)||a(n)||a(t[0].catalogItem.name)}};e.exports=o},function(e,t){e.exports='<div style="border:1px solid red; background:hsla(0,50%,50%,0.2); padding: 0.5em;">\n<h2>Development site</h2>\n<p>You are viewing a site other than the official production site. It may not operate as you expect.</p>\n</div>\n'},function(e,t){e.exports="<div>\n<p>The suggestions and illustrations included in this map are intended for scientific research; however, they do not guarantee the safety of an individual or structure. The contributors and sponsors of this product do not assume liability for any injury, death, property damage, or other effects because of using tihs map. Any use of trade, firm, or product names is for descriptive purposes only and does not imply endorsement by the U.S. Government. This map must not be used for navigation or precise spatial analysis.\n</div>\n"}]);
//# sourceMappingURL=TerriaMap.js.map